{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./react_src/theme/index.js","webpack:///./react_src/i18n.js","webpack:///./react_src/utils.jsx","webpack:///./react_src/components/tooltip.jsx","webpack:///./app/scripts/app/utils/decorators/component.decorator.ts","webpack:///./app/scripts/app/utils/decorators/input.decorator.ts","webpack:///./app/scripts/app/common/global-events.ts","webpack:///./react_src/components/icon.jsx","webpack:///./react_src/components/publishIcon.jsx","webpack:///./app/scripts/app/utils/decorators/service.decorator.ts","webpack:///./react_src/hooks/useWindowDimensions.jsx","webpack:///./react_src/hooks/useOnScreen.jsx","webpack:///./react_src/hooks/useScrollPosition.jsx","webpack:///./react_src/hooks/index.jsx","webpack:///./react_src/components/feedbackInput.jsx","webpack:///./react_src/components/card.jsx","webpack:///./react_src/components/publishedIcon.jsx","webpack:///./app/scripts/app/shared/services/services.module.ts","webpack:///./react_src/components/header.jsx","webpack:///./app/scripts/app/shared/enums/listViewType.enum.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacher-course-progress.module.ts","webpack:///./src/app/core/http/http.service.ts","webpack:///./src/app/ajs-upgraded-providers.ts","webpack:///./react_src/theme/colors.js","webpack:///./react_src/components/CheckboxWithText.jsx","webpack:///./app/scripts/app/shared/enums/assignmentType.enum.ts","webpack:///./react_src/components/assessmentSlider.jsx","webpack:///./app/scripts/app/shared/components/abstracts/unsubscribable.component.ts","webpack:///./src/app/shared/models/assessment.model.ts","webpack:///./react_src/components/LinearProgress.jsx","webpack:///./react_src/images/grid.svg","webpack:///./react_src/theme/fonts.js","webpack:///./app/scripts/app/utils/utils.module.ts","webpack:///./app/scripts/app/shared/components/components.module.ts","webpack:///./app/scripts/app/common/base-classes.js","webpack:///./app/scripts/app/utils/services/fetchData.service.js","webpack:///./app/scripts/app/shared/enums/requestType.enum.ts","webpack:///./src/app/teacher/assignments/state/index.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/index.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/teacherCourseManagement.module.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignments.module.ts","webpack:///./react_src/components/sortStudentComponent.jsx","webpack:///./react_src/components/moreMenu.jsx","webpack:///./react_src/images/png/result-done.png","webpack:///./react_src/images/png/icon_feedback.png","webpack:///./react_src/images/png/sb-ico-self-assessment.png","webpack:///./react_src/components/gridSummaryItem.jsx","webpack:///./react_src/path.js","webpack:///./app/scripts/app/utils/decorators/interceptor.decoreator.ts","webpack:///./app/scripts/app/shared/models/breadcrumb.model.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/enums/assignmentOrder.ts","webpack:///./app/scripts/app/shared/enums/groupedVisibilityDialogType.enum.ts","webpack:///./src/app/core/http/state/http-cache.store.ts","webpack:///./src/app/teacher/assignments/state/assignments.store.ts","webpack:///./src/app/teacher/assignments/state/assignment.model.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/assessments.store.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/assessment.model.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/studentCourseManagement.module.ts","webpack:///./src/app/student/assignments/state/assignment.model.ts","webpack:///./src/app/student/assignments/state/assignments.store.ts","webpack:///./react_src/components/fullscreenProgress.jsx","webpack:///./app/scripts/app/utils/enums/httpStatusCode.enum.ts","webpack:///./src/environments/environment.prod.ts","webpack:///./app/scripts/app/shared/services/helpers/observer.service.ts","webpack:///./app/scripts/app/shared/services/listViewMenu/listViewMenu.service.ts","webpack:///./app/scripts/app/shared/services/localStorage/localStorage.service.ts","webpack:///./src/app/shared/states/user/user.store.ts","webpack:///./src/app/shared/models/location-detection.model.ts","webpack:///./react_src/images/icon_bk_assessment_done.svg","webpack:///./react_src/components/assignmentAssessment.jsx","webpack:///./react_src/images/png/sb-ico-note.png","webpack:///./react_src/components/secondaryButton.jsx","webpack:///./react_src/components/primaryButton.jsx","webpack:///./react_src/components/gradeCounter.jsx","webpack:///./react_src/components/objectivesList.jsx","webpack:///./app/scripts/app/common/components/breadcrumbs/breadcrumbs.service.ts","webpack:///./react_src/_locales sync ^\\.\\/.*\\/messages\\.json$","webpack:///./app/scripts/app/shared/enums/assignmentStateType.enum.ts","webpack:///./app/scripts/app/shared/enums/iconsPath.enum.ts","webpack:///./src/app/teacher/assignments/state/assignments.query.ts","webpack:///./app/scripts/app/components/courseManagement/common/services/curriculums.service.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/shares/helpers.dialog.js","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignments.module.ts","webpack:///./src/app/student/assignments/state/index.ts","webpack:///./src/app/student/assignments/state/assignments.query.ts","webpack:///./react_src/api.js","webpack:///./react_src/images/collapse.svg","webpack:///./react_src/images/icon_warning.svg","webpack:///./react_src/components/assessmentButton.jsx","webpack:///./app/scripts/app/common/components/components.module.ts","webpack:///./app/scripts/app/utils/services/userInfo.service.js","webpack:///./app/scripts/app/shared/components/assignments/assignments.component.ts","webpack:///./app/scripts/app/shared/enums/assignmentFilterGroup.enum.ts","webpack:///./app/scripts/app/shared/models/groupedVisibilitySettings.model.ts","webpack:///./app/scripts/app/shared/services/helpers/behaviourSubject.service.ts","webpack:///./app/scripts/app/shared/models/objectiveAssignmentAssessment.model.ts","webpack:///./app/scripts/app/shared/services/groupedVisibility/groupedVisibility.service.ts","webpack:///./app/scripts/app/shared/services/school/school.service.ts","webpack:///./app/scripts/app/utils/decorators/output.decorator.ts","webpack:///./src/app/shared/states/user/user.service.ts","webpack:///./src/app/shared/states/user/user.query.ts","webpack:///./src/app/shared/states/user/user.model.ts","webpack:///./app/scripts/app/shared/components/assignmentsList/assignmentsList.component.ts","webpack:///./src/app/shared/states/schools/school.interface.ts","webpack:///./react_src/topics_and_assignments/assignmentsList.jsx","webpack:///./react_src/images/icon_bk_not_assessed.svg","webpack:///./react_src/images/icon_bk_assessing.svg","webpack:///./react_src/images/submitted.svg","webpack:///./react_src/images/submitted-late.svg","webpack:///./react_src/images/not-submitted-late.svg","webpack:///./react_src/images/not-submitted.svg","webpack:///./react_src/components/GridObjectivesSummaryItem.jsx","webpack:///./react_src/images/png/sb-ico-feedback.png","webpack:///./react_src/images/sort.svg","webpack:///./react_src/topics_and_assignments/assignmentsListHeader.jsx","webpack:///./react_src/images/pane.svg","webpack:///./react_src/components/multiEditDescription.jsx","webpack:///./react_src/components/optionsDropdown.jsx","webpack:///./react_src/components/toast.jsx","webpack:///./react_src/components/accordionItem.jsx","webpack:///./react_src/components/assignmentItem.jsx","webpack:///./react_src/components/studentDropDown.jsx","webpack:///./react_src/topics_and_assignments/assignmentObjectiveListHeader.jsx","webpack:///./react_src/components/gridHeader.jsx","webpack:///./react_src/components/AssignmentTable.jsx","webpack:///./react_src/components/gridViewContent.jsx","webpack:///./react_src/topics_and_assignments/MultiEditStatusComponent.jsx","webpack:///./react_src/components/submissionStatusButton.jsx","webpack:///./react_src/components/multiEditSubmissionComponent.jsx","webpack:///./react_src/topics_and_assignments/assignmentObjectivesList.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/editAssessmentCriteriaHeader.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/saveDialog.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/editAssessmentCriteriaItem.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/courseDefinitions.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/noCurriculum.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/objectives.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/gradeWarningDialog.jsx","webpack:///./react_src/topics_and_assignments/editAssignment/editAssessmentCriteria.jsx","webpack:///./react_src/images/visibilityKeep.svg","webpack:///./react_src/components/visabilityIcon.jsx","webpack:///./app/scripts/app/utils/animations/slideToggle.animation.js","webpack:///./app/scripts/app/shared/services/helpers/id.service.ts","webpack:///./src/app/shared/states/main-menu/main-menu.interface.ts","webpack:///./app/scripts/app/utils/services/students.ts","webpack:///./src lazy namespace object","webpack:///./app/scripts/app/shared/services/dialog/dialog.service.ts","webpack:///./app/scripts/app/shared/services/groupedVisibility/groupedVisibilityDialog.service.ts","webpack:///./app/scripts/app/utils/decorators/parent-component.decorator.ts","webpack:///./app/scripts/app/components/course-progress/common/dialogs/courseProgressDialog.service.ts","webpack:///./app/scripts/app/shared/models/transitionHandler.model.ts","webpack:///./app/scripts/app/utils/decorators/registerOnBeforeTransition.decorator.ts","webpack:///./app/scripts/app/userSetup/userSetup.module.ts","webpack:///./src/app/core/http/http.model.ts","webpack:///./src/app/core/http/state/index.ts","webpack:///./src/app/core/http/state/http-cache.query.ts","webpack:///./src/app/core/http/state/http-cache.service.ts","webpack:///./app/scripts/app/shared/components/material/material.module.ts","webpack:///./app/scripts/app/utils/decorators/sibling-component.ts","webpack:///./src/app/teacher/assignments/state/assignments.service.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/assessments.query.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/assessments.service.ts","webpack:///./src/app/teacher/assignments/assignment/assessments/state/assessments.normalizer.ts","webpack:///./src/app/teacher/assignments/state/assignments.normalizer.ts","webpack:///./app/scripts/app/shared/directives/directives.module.ts","webpack:///./app/scripts/app/utils/decorators/directive.decorator.ts","webpack:///./app/scripts/app/components/courseManagement/courseManagement.module.ts","webpack:///./app/scripts/app/assignments/shared/assignmentsShared.module.ts","webpack:///./src/app/student/assignments/state/assignments.service.ts","webpack:///./src/app/student/assignments/state/assignments.normalizer.ts","webpack:///./app/scripts/app/shared/models/assignmentGroupedResponse.model.ts","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/teacherSetAssignmentObjectives.module.ts","webpack:///./app/scripts/app/app.html","webpack:///./react_src/images/png/assignment.png","webpack:///./react_src/images/png/icon_bk_not_assessed.png","webpack:///./react_src/images/png/without_assessment_criteria_icon.png","webpack:///./react_src/images/png/not-submitted.png","webpack:///./app/scripts/app/common/common.module.js","webpack:///./app/scripts/app/common/components/accordion/accordionHeader/accordionHeaderMenu/accordionHeaderMenu.tpl.html","webpack:///./app/scripts/app/common/components/breadcrumbs/breadcrumbs.tpl.html","webpack:///./app/scripts/app/common/host-page-selectors.ts","webpack:///./app/scripts/app/utils/services/mixpanel.service.js","webpack:///./app/scripts/app/utils/services/locale.js","webpack:///./app/scripts/app/common/dialogs/dialogs.helper.js","webpack:///./app/scripts/app/utils/enums/dialogType.enum.js","webpack:///./app/scripts/app/shared/services/helpers/subject.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewDetails.tpl.html","webpack:///./app/scripts/app/shared/services/country/country.service.ts","webpack:///./app/scripts/app/shared/services/coverageMatrix/coverageMatrix.service.ts","webpack:///./app/scripts/app/shared/enums/groupedVisibilityFeedbackType.enum.ts","webpack:///./app/scripts/app/shared/services/helpButton/helpButton.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentsOverview.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewContent/assignmentOverviewContent.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/objectivesList.tpl.html","webpack:///./app/scripts/app/shared/models/coverageMatrix.model.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/coverageMatrixGrid.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGridHeader/coverageMatrixGridHeader.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitch.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitchDialog.tpl.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/gradePrognosis/gradePrognosis.tpl.html","webpack:///./app/scripts/app/shared/models/country.model.ts","webpack:///./app/scripts/app/userSetup/components/userSetupSchoolSelect/userSetupSchoolSelect.tpl.html","webpack:///./app/scripts/app/userSetup/components/userSetupRegisterSchool/userSetupRegisterSchool.tpl.html","webpack:///./app/scripts/app/shared/components/material/mdSelectAll/mdSelectAll.tpl.html","webpack:///./app/scripts/app/shared/components/assignmentCourseSelect/assignmentCourseSelect.tpl.html","webpack:///./app/scripts/app/shared/components/assignmentGradeText/assignmentGradeText.tpl.html","webpack:///./app/scripts/app/shared/models/assignment.model.ts","webpack:///./app/scripts/app/shared/components/assignmentIconType/assignmentIconType.tpl.html","webpack:///./app/scripts/app/shared/components/assignmentsList/assignmentsList.tpl.html","webpack:///./app/scripts/app/shared/components/assignmentStatusIcon/assignmentStatusIcon.tpl.html","webpack:///./app/scripts/app/shared/components/assignObjectivesPopup/assignObjectivesPopup.tpl.html","webpack:///./app/scripts/app/shared/components/groupedVisibility/groupedVisibility.tpl.html","webpack:///./app/scripts/app/shared/components/helpButton/helpButton.tpl.html","webpack:///./app/scripts/app/shared/upgrades/upgrades.module.ts","webpack:///./app/scripts/app/shared/upgrades/autocomplete/autocomplete.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/studentCourseManagement.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCoursesList/cmStudentCoursesList.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentCourseDetails.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectives.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesList/cmStudentObjectivesList.tpl.html","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesToolbar/cmStudentObjectivesToolbar.tpl.html","webpack:///./app/scripts/app/components/courseManagement/common/controllers/select-educational-properties.controller.js","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/teacherCourseManagement.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmCurriculumLibrary/cmCurriculumLibrary.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherCourseDetails.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectives.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesList/cmTeacherObjectivesList.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesToolbar/cmTeacherObjectivesToolbar.tpl.html","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCoursesList/cmTeacherCoursesList.tpl.html","webpack:///./app/scripts/app/components/courseManagement/shared/cmEmptyObjectivesList/cmEmptyObjectivesList.tpl.html","webpack:///./app/scripts/app/assignments/shared/studentAssignmentTextarea/studentAssignmentTextarea.tpl.html","webpack:///./app/scripts/app/assignments/studentAssessAssignment/studentAssessAssignment.module.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignment/studentAssessAssignment.tpl.html","webpack:///./app/scripts/app/assignments/studentAssessAssignmentDrive/studentAssessAssignmentDrive.module.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignmentDrive/studentAssessAssignmentDrive.tpl.html","webpack:///./app/scripts/app/assignments/studentAssignments/shared/components/studentAssignmentsList/studentAssignmentsList.tpl.html","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignments.tpl.html","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignmentsPublished/studentAssignmentsPublished.tpl.html","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignmentsNotConfigured/studentAssignmentsNotConfigured.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/teacherAssessAssignment.module.ts","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/teacherAssessAssignmentDrive.module.ts","webpack:///./app/scripts/app/utils/components/assignment_single_checkbox.js","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/teacherAssessAssignmentStudent.module.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssessmentsList/teacherAssessmentsList.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssignmentsDraftsList/teacherAssignmentsDraftsList.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssignmentsList/teacherAssignmentsList.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignments.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsDrafts/teacherAssignmentsDrafts.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsNotConfigured/teacherAssignmentsNotConfigured.tpl.html","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsPublished/teacherAssignmentsPublished.tpl.html","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/shared/components/objectiveGradeTextVisibilitySettings/objectiveGradeTextVisibilitySettings.tpl.html","webpack:///./react_src/hooks/useFetch.jsx","webpack:///./react_src/images/png/icon_bk_assessment_done.png","webpack:///./react_src/images/png/icon_bk_assessing.png","webpack:///./react_src/images/png/icon_warning.png","webpack:///./react_src/images/png/work_unit_icon.png","webpack:///./react_src/images/png/topic_icon.png","webpack:///./react_src/images/png/topic-hidden.png","webpack:///./react_src/images/png/submitted.png","webpack:///./react_src/images/png/submitted-late.png","webpack:///./react_src/images/png/not-submitted-late.png","webpack:///./react_src/types.js","webpack:///./react_src/components/topicItem.jsx","webpack:///./react_src/components/notConnectedItem.jsx","webpack:///./react_src/topics_and_assignments/hideAssignmentsDialog.jsx","webpack:///./react_src/components/networkErrorToast.jsx","webpack:///./react_src/components/saveToast.jsx","webpack:///./react_src/components/objectiveDescription.jsx","webpack:///./react_src/images/handlebg.svg","webpack:///./react_src/errorBoundry.jsx","webpack:///./react_src/topics_and_assignments/visibilityDialog.jsx","webpack:///./react_src/components/syncToast.jsx","webpack:///./react_src/newAssignmentDialog.jsx","webpack:///./react_src/course-overview/studentListHeader.jsx","webpack:///./react_src/course-overview/studentItem.jsx","webpack:///./react_src/course-overview/courseItem.jsx","webpack:///./react_src/course-overview/coursesCard.jsx","webpack:///./react_src/course-overview/studentOverviewHeader.jsx","webpack:///./react_src/course-overview/courseAssessmentCard.jsx","webpack:///./react_src/images/happy-face.svg","webpack:///./react_src/images/medium-face.svg","webpack:///./react_src/images/sad-face.svg","webpack:///./react_src/course-overview/ewsStatusButton.jsx","webpack:///./react_src/course-overview/statusComponent.jsx","webpack:///./react_src/course-overview/extraAdjustmentComponent.jsx","webpack:///./react_src/course-overview/internalCommentsComponent.jsx","webpack:///./react_src/course-overview/ewsStudentCard.jsx","webpack:///./react_src/course-overview/courseInfoCard.jsx","webpack:///./react_src/images/sb-ico-feedback.svg","webpack:///./react_src/images/sb-ico-note.svg","webpack:///./react_src/course-overview/courseObjectiveSummaryItem.jsx","webpack:///./react_src/course-overview/courseObjectiveAssessment.jsx","webpack:///./react_src/course-overview/proficiencyProfile.jsx","webpack:///./react_src/course-overview/courseObjectiveAssessmentItem.jsx","webpack:///./react_src/course-overview/courseObjectiveAssessmentCard.jsx","webpack:///./react_src/course-overview/assignmentAccordionItemHeader.jsx","webpack:///./react_src/course-overview/assignmentAccordionItem.jsx","webpack:///./react_src/course-overview/assignmentsCard.jsx","webpack:///./react_src/course-overview/studentCourseOverview.jsx","webpack:///./react_src/course-overview/courseObjectiveOverview.jsx","webpack:///./react_src/course-overview/studentOverview.jsx","webpack:///./react_src/images/png/happy-face.png","webpack:///./react_src/images/png/medium-face.png","webpack:///./react_src/images/png/sad-face.png","webpack:///./react_src/images/png/extra-help.png","webpack:///./react_src/course-overview/gridview/ewsItem.jsx","webpack:///./react_src/course-overview/gridview/courseOverviewComponent.jsx","webpack:///./react_src/course-overview/gridview/CourseObjectiveAssessmentsComponent.jsx","webpack:///./react_src/course-overview/gridview/gridOverviewHeader.jsx","webpack:///./react_src/course-overview/gridview/assignmentTable.jsx","webpack:///./react_src/course-overview/gridview/gridOverview.jsx","webpack:///./react_src/course-overview/index.jsx","webpack:///./react_src/components/studentItem.jsx","webpack:///./react_src/images/settings.svg","webpack:///./react_src/topics_and_assignments/assignmentStudentListHeader.jsx","webpack:///./react_src/components/studybeeSelector.jsx","webpack:///./react_src/components/batchAssessmentDialog.jsx","webpack:///./react_src/images/filter.svg","webpack:///./react_src/images/expand.svg","webpack:///./react_src/images/collapse_all.svg","webpack:///./react_src/topics_and_assignments/assignmentStudentList.jsx","webpack:///./react_src/components/drawerItem.jsx","webpack:///./react_src/components/drawer.jsx","webpack:///./app/scripts/contentscript.js","webpack:///./app/scripts/app/common/components/accordion/accordion.component.ts","webpack:///./app/scripts/app/common/components/accordion/accordion.service.ts","webpack:///./app/scripts/app/common/components/accordion/accordionFooter/accordionFooter.component.ts","webpack:///./app/scripts/app/common/components/accordion/accordionHeader/accordionHeader.component.ts","webpack:///./app/scripts/app/common/components/extended-view-container.component.js","webpack:///./app/scripts/app/common/components/extended-view-top-whiteframe.component.js","webpack:///./app/scripts/app/common/components/loader.component.js","webpack:///./app/scripts/app/common/components/longTextTooltip/longTextTooltip.component.js","webpack:///./app/scripts/app/common/components/longTextTooltip/longTextTooltip.service.js","webpack:///./app/scripts/app/common/components/menu-toggle.component.js","webpack:///./app/scripts/app/common/components/object-details-toggle.component.js","webpack:///./app/scripts/app/common/components/right-view-container.component.js","webpack:///./app/scripts/app/common/components/saving-indicator.component.js","webpack:///./app/scripts/app/common/components/student-status-icon.component.js","webpack:///./app/scripts/app/common/components/accordion/accordionHeader/accordionHeaderMenu/accordionHeaderMenu.component.ts","webpack:///./app/scripts/app/common/components/breadcrumbs/breadcrumbs.component.ts","webpack:///./app/scripts/app/common/services/services.module.js","webpack:///./app/scripts/app/common/services/host-page-new-assignment-observer.js","webpack:///./app/scripts/app/common/services/host-page-qualifiers.js","webpack:///./app/scripts/app/common/filters/filters.module.js","webpack:///./app/scripts/app/common/filters/last-update.filter.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./app/scripts/app/common/directives/directives.module.js","webpack:///./app/scripts/app/common/directives/mixpanel-text-event.directive.js","webpack:///./app/scripts/app/common/directives/ngVisible.directive.js","webpack:///./app/scripts/app/utils/services/backend_info.js","webpack:///./app/scripts/app/utils/directives/dynamic-theme.js","webpack:///./app/scripts/app/utils/directives/main-menu.js","webpack:///./app/scripts/app/utils/services/main_menu.js","webpack:///./app/scripts/app/utils/services/courses.service.js","webpack:///./app/scripts/app/utils/directives/custom_routing.js","webpack:///./app/scripts/app/utils/services/grade_systems.js","webpack:///./app/scripts/app/utils/directives/slideToggle.directive.js","webpack:///./app/scripts/app/utils/filters/localize.js","webpack:///./app/scripts/app/utils/services/promiseQueue.service.js","webpack:///./app/scripts/app/utils/filters/last_modified.js","webpack:///./app/scripts/app/utils/directives/localize.js","webpack:///./app/scripts/app/utils/directives/single_slider.js","webpack:///./app/scripts/vendors/nouislider.js","webpack:///./app/scripts/app/utils/directives/counters.js","webpack:///./app/scripts/app/utils/directives/knowledge_requirements.js","webpack:///./app/scripts/app/utils/directives/sticky_subheader.js","webpack:///./app/scripts/app/utils/directives/last_modified.js","webpack:///./app/scripts/app/utils/directives/studybee_handle.js","webpack:///./app/scripts/app/utils/directives/save_scroll.js","webpack:///./app/scripts/app/utils/services/assignments.js","webpack:///./app/scripts/app/utils/services/config.js","webpack:///./app/scripts/app/utils/services/path.js","webpack:///./app/scripts/app/utils/services/debounce.js","webpack:///./app/scripts/app/utils/services/helpers.js","webpack:///./app/scripts/app/utils/services/navigation_history.js","webpack:///./app/scripts/app/utils/services/states.js","webpack:///./app/scripts/app/utils/services/observer.js","webpack:///./app/scripts/app/utils/services/hint.js","webpack:///./app/scripts/app/utils/services/updates.js","webpack:///./app/scripts/app/utils/services/studybee_handle.js","webpack:///./app/scripts/app/utils/filters/sanitize.js","webpack:///./app/scripts/app/utils/providers/httpInterceptor.provider.ts","webpack:///./app/scripts/app/utils/decorators/provider.decorator.ts","webpack:///./app/scripts/app/utils/interceptors/agreementSeen.interceptor.ts","webpack:///./app/scripts/app/utils/interceptors/checkDomain.interceptor.ts","webpack:///./src/app/shared/enmus/api-error-code.enum.ts","webpack:///./app/scripts/app/utils/interceptors/extractData.interceptor.ts","webpack:///./app/scripts/app/utils/interceptors/inactiveUser.interceptor.ts","webpack:///./app/scripts/app/utils/interceptors/missingAgreement.interceptor.ts","webpack:///./app/scripts/app/utils/interceptors/userData.interceptor.ts","webpack:///./app/scripts/app/utils/enums/permissionType.enum.js","webpack:///./app/scripts/app/utils/interceptors/userPreferences.interceptor.ts","webpack:///./app/scripts/app/components/course-progress/course-progress.module.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-course-progress.module.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/assessment-details-empty.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/course-details/course-details.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/course-details/course-details.controller.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/courseListItem/courseListItem.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/coursesList.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/coursesListEmpty/coursesListEmpty.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/course-details/objectives-list/objectives-list.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-assessment-details.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-objective-details/student-assignments-list/student-assignments-list.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-course-progress.component.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-course-progress.routing.js","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-objective-details/student-objective-details.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/counter-grade-editable.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/counter-grade-preview.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/counter-grade-summary.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/grade-editable.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/no-courses.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/no-student-selected.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/objective-details/assignments-list/assignments-list.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/objective-details/objective-details.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/objective-details/objective-details.controller.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/studentDetails.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/students-list/studentsList.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/students-list/studentsList.controller.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacher-course-progress.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacher-course-progress.controller.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacherCourseProgress.service.js","webpack:///./app/scripts/app/utils/enums/exportState.enum.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacher-course-progress.routing.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.service.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewDetails.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.component.ts","webpack:///./app/scripts/app/shared/services/assignment/assignment.service.ts","webpack:///./app/scripts/app/shared/services/assignmentAssessment/assignmentAssessment.service.ts","webpack:///./app/scripts/app/shared/services/colleagueEmails/colleagueEmails.service.ts","webpack:///./app/scripts/app/shared/models/colleagueEmail.model.ts","webpack:///./app/scripts/app/shared/models/groupedVisibility.model.ts","webpack:///./app/scripts/app/shared/services/hashObserver/hashObserver.ts","webpack:///./app/scripts/app/shared/services/tab/tab.service.ts","webpack:///./app/scripts/app/shared/models/tabMessage.model.ts","webpack:///./app/scripts/app/shared/services/popup/popup.service.ts","webpack:///./app/scripts/app/shared/services/retryPromise/retryPromise.service.ts","webpack:///./app/scripts/app/shared/enums/schoolCategoryType.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverview.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentsOverview.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewContent/assignmentOverviewContent.component.ts","webpack:///./app/scripts/app/utils/decorators/executeGuard.decorator.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/objectivesList.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/coverageMatrixGrid.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGridHeader/coverageMatrixGridHeader.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitch.component.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitch.service.ts","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/gradePrognosis/gradePrognosis.component.ts","webpack:///./app/scripts/app/components/course-progress/common/components/assessmentDetails/assessmentDetails.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.component.ts","webpack:///./app/scripts/app/components/course-progress/common/components/courseSummary/courseSummary.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/download-pdf-menu.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/gradeDescription.component.js","webpack:///./app/scripts/app/components/course-progress/common/services/gradeDescription.service.js","webpack:///./app/scripts/app/components/course-progress/common/components/last-edit.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/partial-last-edit.component.js","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfile.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfileDetails/studentProfileDetails.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/studentProgressInput/studentProgressInput.component.js","webpack:///./app/scripts/app/components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.service.ts","webpack:///./app/scripts/app/components/course-progress/common/services/assignmentsList.service.js","webpack:///./app/scripts/app/components/course-progress/course-progress.service.js","webpack:///./app/scripts/app/components/course-progress/common/services/exportStudentsResults.service.js","webpack:///./app/scripts/app/components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialog.service.js","webpack:///./app/scripts/app/components/course-progress/common/dialogs/studentDetailsEdit/studentDetailsEditDialog.service.ts","webpack:///./app/scripts/app/components/course-progress/common/dialogs/shareAssessmentsWithColleagues/shareAssessmentsWithColleaguesDialog.service.ts","webpack:///./app/scripts/app/components/course-progress/common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.component.ts","webpack:///./app/scripts/app/components/course-progress/courseProgress.routing.ts","webpack:///./app/scripts/app/userSetup/commons/dialogs/UserSetupDialog.service.js","webpack:///./app/scripts/app/userSetup/components/userSetup/userSetup.component.js","webpack:///./app/scripts/app/userSetup/components/userSetup/userSetup.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupAgreement/userSetupAgreement.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupAgreement/userSetupAgreement.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheck.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheck.controller.js","webpack:///./app/scripts/app/utils/enums/userSetupValidationState.enum.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheck.service.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupComplete/userSetupComplete.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupComplete/userSetupComplete.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupSettings/userSetupSettgins.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupSettings/userSetupSettgins.controller.js","webpack:///./app/scripts/app/userSetup/components/userSetupSettings/usetSetupSettings.service.js","webpack:///./app/scripts/app/userSetup/components/userSetupSlides/userSetupSlides.component.js","webpack:///./app/scripts/app/userSetup/components/userSetupSlides/userSetupSlides.controller.js","webpack:///./app/scripts/app/userSetup/userSetup.routing.ts","webpack:///./app/scripts/app/userSetup/components/userSetupSchoolSelect/userSetupSchoolSelect.component.ts","webpack:///./app/scripts/app/shared/services/userSetup/userSetup.service.ts","webpack:///./app/scripts/app/userSetup/components/userSetupRegisterSchool/userSetupRegisterSchool.component.ts","webpack:///./app/scripts/app/shared/models/schoolRequestBody.model.ts","webpack:///./app/scripts/app/app.config.js","webpack:///./app/scripts/app/app.run.js","webpack:///./app/scripts/app/app.routing.ts","webpack:///./app/scripts/app/components/user-inactive/user-inactive.module.js","webpack:///./app/scripts/app/components/user-inactive/user-inactive.component.js","webpack:///./app/scripts/app/shared/shared.module.ts","webpack:///./app/scripts/app/shared/components/material/mdMenuLabel/mdMenuLabel.component.ts","webpack:///./app/scripts/app/shared/components/material/mdSelectAll/mdSelectAll.component.ts","webpack:///./app/scripts/app/shared/components/assignmentCourseSelect/assignmentCourseSelect.component.ts","webpack:///./app/scripts/app/shared/components/assignmentGradeText/assignmentGradeText.component.ts","webpack:///./app/scripts/app/shared/components/assignmentIconType/assignmentIconType.compnent.ts","webpack:///./app/scripts/app/shared/components/assignmentStatusIcon/assignmentStatusIcon.component.ts","webpack:///./app/scripts/app/shared/enums/assignmentStatusIconType.enum.ts","webpack:///./app/scripts/app/shared/components/assignObjectivesPopup/assignObjectivesPopup.component.ts","webpack:///./src/app/core/rxjs/delayed-retry.operator.ts","webpack:///./app/scripts/app/shared/components/groupedVisibility/groupedVisibility.component.ts","webpack:///./app/scripts/app/shared/components/helpButton/helpButton.component.ts","webpack:///./app/scripts/app/shared/directives/hint/hint.directive.ts","webpack:///./app/scripts/app/shared/directives/textarea/textarea.directive.ts","webpack:///./app/scripts/app/shared/filters/filters.module.ts","webpack:///./app/scripts/app/shared/filters/getFormattedHtmlOrEmpty/getFormattedHtmlOrEmpty.filter.ts","webpack:///./app/scripts/app/shared/filters/htmlToPlaintext/htmlToPlaintext.filter.ts","webpack:///./app/scripts/app/shared/filters/iconURL/iconURL.filter.ts","webpack:///./app/scripts/app/shared/upgrades/autocomplete/autocomplete.component.ts","webpack:///./app/scripts/app/components/courseManagement/common/components/course-definition-details.component.js","webpack:///./app/scripts/app/components/courseManagement/common/components/objective-details.component.js","webpack:///./app/scripts/app/components/courseManagement/courseManagement.routing.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/studentCourseManagement.routing.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/studentCourseManagement.component.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCoursesList/cmStudentCoursesList.component.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentCourseDetails.component.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectives.component.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesList/cmStudentObjectivesList.component.ts","webpack:///./app/scripts/app/components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesToolbar/cmStudentObjectivesToolbar.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/teacherCourseManagement.routing.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/teacherCourseManagement.component.ts","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/edit-curriculum-dialog.controller.js","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/search-curriculum-dialog.controller.js","webpack:///./app/scripts/app/utils/enums/courseType.js","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmCurriculumLibrary/cmCurriculumLibrary.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/shares/helper.classroom.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherCourseDetails.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectives.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesList/cmTeacherObjectivesList.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesToolbar/cmTeacherObjectivesToolbar.component.ts","webpack:///./app/scripts/app/components/courseManagement/teacherCourseManagement/cmTeacherCoursesList/cmTeacherCoursesList.component.ts","webpack:///./app/scripts/app/components/courseManagement/shared/cmEmptyObjectivesList/cmEmptyObjectivesList.component.ts","webpack:///./app/scripts/app/assignments/assignments.module.ts","webpack:///./app/scripts/app/assignments/shared/objectiveKnowledgeRequirements/objectiveKnowledgeRequirements.directive.ts","webpack:///./app/scripts/app/assignments/shared/studentAssignmentTextarea/studentAssignmentTextarea.component.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignment/studentAssessAssignment.routing.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignment/studentAssessAssignment.component.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignmentDrive/studentAssessAssignmentDrive.routing.ts","webpack:///./app/scripts/app/assignments/studentAssessAssignmentDrive/studentAssessAssignmentDrive.component.ts","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignments.routing.ts","webpack:///./app/scripts/app/assignments/studentAssignments/shared/components/studentAssignmentsList/studentAssignmentsList.component.ts","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignments.component.ts","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignmentsPublished/studentAssignmentsPublished.component.ts","webpack:///./app/scripts/app/assignments/studentAssignments/studentAssignmentsNotConfigured/studentAssignmentsNotConfigured.component.ts","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/controllers/main.js","webpack:///./app/scripts/app/utils/components/single_checkbox.js","webpack:///./app/scripts/app/utils/components/assignment_group_checkboxes.js","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/teacherAssessAssignment.service.ts","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/controllers/main.js","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/teacherAssessAssignmentDrive.service.ts","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/controllers/main.js","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/teacherAssessAssignmentStudent.service.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignments.routing.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssessmentsList/teacherAssessmentsList.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssignmentsDraftsList/teacherAssignmentsDraftsList.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/shared/components/teacherAssignmentsList/teacherAssignmentsList.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignments.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignments.service.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsDrafts/teacherAssignmentsDrafts.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsNotConfigured/teacherAssignmentsNotConfigured.component.ts","webpack:///./app/scripts/app/assignments/teacherAssignments/teacherAssignmentsPublished/teacherAssignmentsPublished.component.ts","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/teacher-set-assignment-objectives.controller.js","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/shared/enum/assignConfirmationType.enum.ts","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/teacherSetAssignmentObjectives.routing.ts","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/shared/components/objectiveGradeTextVisibilitySettings/objectiveGradeTextVisibilitySettings.component.ts","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/teacherSetAssignmentObjectives.service.ts","webpack:///./react_src/app.jsx","webpack:///./react_src/theme/sizes.js","webpack:///./react_src/theme/styles.js","webpack:///./app/scripts/vendors/ngquill.js","webpack:///./app/scripts/app sync \\.html$","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/dialogs/changes_dialog.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/main.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/assessment.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/batch_editing.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/not_configured.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/objectives_feedback.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/objectives_private_notes.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/objectives_self_assessment.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/overall_feedback.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/overall_private_notes.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignment/views/partials/results.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/dialogs/changes_dialog.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/main.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_batch_editing.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_drive_all.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_view_all.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_view_assessment.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_feedback.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_priavte_notes.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_self_assessment.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/dialogs/changes_dialog.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/main.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_batch_editing.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_classroom_all.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_view_all.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_view_assessment.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_feedback.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_priavte_notes.html","webpack:///./app/scripts/app/assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_self_assessment.html","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/views/dialogs/assign_confirmation.html","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/views/dialogs/assign_success.html","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/views/main.html","webpack:///./app/scripts/app/assignments/teacherSetAssignmentObjectives/views/partials/objectives.html","webpack:///./app/scripts/app/common/components/accordion/accordion.html","webpack:///./app/scripts/app/common/components/accordion/accordionFooter/accordionFooter.html","webpack:///./app/scripts/app/common/components/accordion/accordionHeader/accordionHeader.html","webpack:///./app/scripts/app/common/components/longTextTooltip/longTextTooltip.html","webpack:///./app/scripts/app/common/dialogs/hint-dialog.html","webpack:///./app/scripts/app/components/course-progress/common/components/assessmentDetails/assessmentDetails.html","webpack:///./app/scripts/app/components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.html","webpack:///./app/scripts/app/components/course-progress/common/components/courseSummary/courseSummary.html","webpack:///./app/scripts/app/components/course-progress/common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfile.html","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfileDetails/studentProfileDetails.html","webpack:///./app/scripts/app/components/course-progress/common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.html","webpack:///./app/scripts/app/components/course-progress/common/components/studentProgressInput/studentProgressInput.html","webpack:///./app/scripts/app/components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogConfirmation.html","webpack:///./app/scripts/app/components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogFail.html","webpack:///./app/scripts/app/components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogSuccess.html","webpack:///./app/scripts/app/components/course-progress/common/dialogs/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html","webpack:///./app/scripts/app/components/course-progress/common/dialogs/studentDetailsEdit/studentDetailsEditDialog.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/course-details/course-details.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/course-details/objectives-list/objectives-list.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/courseListItem/courseListItem.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/coursesList.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/coursesList/coursesListEmpty/coursesListEmpty.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-course-progress.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-objective-details/student-assignments-list/student-assignments-list.html","webpack:///./app/scripts/app/components/course-progress/student-course-progress/student-objective-details/student-objective-details.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/objective-details/assignments-list/assignments-list.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/objective-details/objective-details.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/studentDetails/studentDetails.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/students-list/studentsList.html","webpack:///./app/scripts/app/components/course-progress/teacher-course-progress/teacher-course-progress.html","webpack:///./app/scripts/app/components/courseManagement/common/components/objective-details.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/change-property-doublecheck-warning.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/change-property-warning.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/confirmation.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/create-objective.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/curriculum-details.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/curriculum-library.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/delete-course.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/delete-objective.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/edit-curriculum.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/make-curriculum-private.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/make-curriculum-public.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/remove-curriculum-form-library.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/rename-course.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/rename-curriculum.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/save-curriculum-to-library.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/search-curriculum.html","webpack:///./app/scripts/app/components/courseManagement/common/dialogs/wrong-curriculum-setup.html","webpack:///./app/scripts/app/components/user-inactive/user-inactive.html","webpack:///./app/scripts/app/userSetup/commons/dialogs/changeEducationalSystem.html","webpack:///./app/scripts/app/userSetup/commons/dialogs/saveInfo.html","webpack:///./app/scripts/app/userSetup/commons/dialogs/whatNowInfo.html","webpack:///./app/scripts/app/userSetup/components/userSetup/userSetup.html","webpack:///./app/scripts/app/userSetup/components/userSetupAgreement/userSetupAgreement.html","webpack:///./app/scripts/app/userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.html","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheck.html","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.html","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.html","webpack:///./app/scripts/app/userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.html","webpack:///./app/scripts/app/userSetup/components/userSetupComplete/userSetupComplete.html","webpack:///./app/scripts/app/userSetup/components/userSetupSettings/userSetupSettings.html","webpack:///./app/scripts/app/userSetup/components/userSetupSlides/userSetupSlides.html","webpack:///./app/scripts/app/utils/views/backend_info.html","webpack:///./app/scripts/app/utils/views/counters.html","webpack:///./app/scripts/app/utils/views/knowledge_requirements.html","webpack:///./app/scripts/app/utils/views/loading_state.html","webpack:///./app/scripts/app/utils/views/main_menu.html","webpack:///./app/scripts/app/utils/views/noLearningObjectives.html","webpack:///./app/scripts/app/utils/views/not_configured_state.html","webpack:///./app/scripts/app/utils/views/not_logged_state.html","webpack:///./app/scripts/app/utils/views/sum_counters.html","webpack:///./app/scripts/app/utils/views/toast.html","webpack:///./app/scripts/app/utils/views/wrong_google_drive_file.html","webpack:///./app/scripts/app/utils/views/wrong_user_state.html"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","3","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","colors","fonts","sizes","styles","language","english","navigator","languages","userLanguage","split","e","console","log","getLanguage","getTranslation","label","message","SUBMITTED","SUBMITTED_LATE","NOT_SUBMITTED","NOT_SUBMITTED_LATE","GlobalContext","React","createContext","getFromLocalStorage","identifier","process","env","REACT_APP_STANDALONE","localStorage","getItem","Promise","resolve","chrome","storage","sync","setToLocalStorage","setItem","set","getToken","reject","runtime","sendMessage","action","token","getClassroomId","exec","location","href","getSubmittedIcon","status","style","height","width","file","submittedImage","overrideOpacity","submittedLateImage","notSubmittedLateImage","notSubmittedImage","submittedText","submittedLateText","notSubmittedText","notSubmittedLateText","getSubmittedStatusText","state","getAssessmentIcon","warning","notDoneImage","position","doneImage","warningImage","left","bottom","accessingImage","sortAssessmentsByStudentName","ass","map","a","firstName","student_name","first_name","lastName","last_name","sort","b","localeCompare","getLastModified","lastModifiedDate","moment","isSame","format","toLocaleUpperCase","getStudentSortingMethod","setStudentSortingMethod","method","getAssignmentSortingMethod","setAssignmentSortingMethod","getStudentListFilterOptions","options","setStudentListFilterOptions","getVisibilitySettingForAssignment","assignmentId","setting","setVisibilitySettingForAssignment","storeLastUsedGradeSystem","scale","getLastUsedGradeSystem","parseInt","getGradeSystemValues","gradeSystem","gradeSystemValues","grades","g","color","id","unshift","borderColor","getAssignmentIcon","assignment","white","backgroundColor","green","padding","borderRadius","marginRight","connected","is_topic","topicHiddenImage","blueGrey","noCriteriaImage","topic","alignItems","justifyContent","display","topicImage","assignment_not_assessable","assignment_type","workUnitImage","red","worktype","assignmentImage","draft","doneText","acessingText","notAssessedText","getStatusText","filterAssignmentsOnCourseId","assignments","courseId","filtered","forEach","filter","aa","find","courseDefinitions","filterAssignmentsOnObjective","objectiveId","f","objectiveAssessments","objective_id","getPublishedStatus","newStatus","originalStatus","PUBLISH_STATES","published","notPublished","dontChange","Tooltip","title","children","Component","constructor","err","error","selector","getOrCreateComponentModule","bindings","$$bindings","require","$$require","controller","replace","word","toUpperCase","convertSelectorName","component","merge","Input","_options","alias","bidirectional","collection","optional","string","bindingDescription","binding","assign","Events","memo","active","src","opacity","filename","indexOf","getInitialValue","multiEdit","init","PublishIcon","props","initialValue","onClick","iconStyle","size","useState","publishedState","setPublishedState","useEffect","newState","cursor","zIndex","marginLeft","visible","darkGrey","margin","Service","getOrCreateServiceModule","service","useWindowDimensions","getWindowDimensions","innerWidth","innerHeight","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useOnScreen","ref","isIntersecting","setIntersecting","observer","IntersectionObserver","entry","observe","current","disconnect","isBrowser","getScrollPosition","element","useWindow","x","y","document","body","getBoundingClientRect","scrollX","scrollY","top","useScrollPosition","effect","deps","wait","useRef","throttleTimeout","callBack","currPos","prevPos","useLayoutEffect","handleScroll","setTimeout","CssTextField","withStyles","root","MEDIUM","SMALL","borderBottomColor","TextField","initialText","text","placeholder","hideEye","onTextChange","readonly","onPublish","assessment","helperText","type","warningText","setText","setFocused","marginBottom","marginTop","flexDirection","onMouseEnter","onMouseLeave","onChange","txt","target","disabled","multiline","TINY","right","Card","boxShadow","black","SharedServicesModule","Header","flex","ListViewType","TeacherCourseProgressModule","TeacherCourseProgressComponent","StudentsListComponent","StudentDetailsComponent","ObjectiveDetails","AssignmentsList","NoStudentSelected","GradeEditable","NoCourses","CounterGradePreview","CounterGradeEditable","CounterGradeSummary","StudentCoursesDetailsComponent","TeacherCourseProgress","StudentCoursesDetails","config","routerConfig","fetchData","httpCacheService","httpCacheQuery","request","url","params","this","generateID","hasEntity","getEntity","source","sendAPIRequestWithParams","from","pipe","tap","delete","shareReplay","add","HttpRequestType","DELETE","GET","head","HEAD","OPTIONS","patch","PATCH","post","POST","put","PUT","HttpService","Injectable","providedIn","FetchData","HttpCacheService","HttpCacheQuery","providers","UpgradedProviders","SimpleProvider","provide","useFactory","$injector","Updates","Path","TeacherAssignmentsService","UserInfo","RootScope","UserSetupDialog","base","textColor","textColorLight","primary1","primary2","primary","blue","blueText","grey","greyDarker","borderGrey","orange","redOpacity","green_wrong","inactive","borderColorDark","borderColorReallyDark","borderOnPrimary","brandColorYellow","brandColorGreen","brandColorPink","brandColorBlue","brandColorGrey","iconColor","iconColorLight","ewsGreen","greyedOut","dimmed","background","stripedGreenBg","stripedYellowBg","stripedRedBg","GreenCheckbox","paddingLeft","fontSize","checked","Checkbox","CheckboxWithText","subText","onCheck","initialCheck","controlled","textWidth","toolTip","initialIndeterminate","indeterminate","setChecked","setIndeterminate","border","inputProps","stopPropagation","nativeEvent","stopImmediatePropagation","overflow","textOverflow","whiteSpace","dangerouslySetInnerHTML","__html","AssignmentType","AirbnbSlider","thumb","track","rail","Slider","AssessmentSlider","values","defaultIndex","helpText","showPublish","onChangeCommit","currentIndex","setCurrentIndex","committedIndex","hoover","setHoover","useReducer","forceUpdate","valueText","valuesNoLabel","v","markTexts","ThumbComponent","AirbnbThumbComponent","onChangeCommitted","event","defaultValue","valueLabelFormat","getAriaValueText","aria-labelledby","step","valueLabelDisplay","marks","min","max","$$unsubscribes","$onDestroy","unsubscribe","UnsubscribableComponent","AssessmentStatusOld","AssessmentStatus","AssessmentSort","SBLinearProgress","barColorPrimary","LinearProgress","SBLinearProgressPink","StyledLinearProgress","pink","context","useContext","networkTraffic","_extends","arguments","_ref","fillRule","fill","SvgGrid","xmlns","baseFonts","XXXLARGE","XXLARGE","XLARGE","LARGE","fontFamily","UtilsModule","animation","SlideToggleAnimation","directive","CustomRouting","MainMenu","SlideToggleDirective","DynamicTheme","Locale","GradeSystems","Mixpanel","Courses","PromiseQueue","factory","Students","BackendInfo","LastModified","LocalizeFilter","SharedComponentsModule","boundEvents","unbindFn","UnbindableCtrlBase","$q","$timeout","Config","HttpInterceptor","interceptors","activeRequest","increaseActiveRequestCount","decreaseActiveRequestCount","showLoading","sendRequest","promise","applyRequestInterceptors","then","serverRequest","applyResponseInterceptors","finally","deferred","defer","ignoreShowLoading","addressException","MODE","requestConfig","ACTION","fetch","join","time","response","extendedResponse","timeEnd","HttpStatusCode","BAD_REQUEST","chainInterceptors","concat","reduce","$promise","requestInterceptors","interceptor","requestError","responseInterceptors","responseError","sendAPIRequest","RequestType","apiUrl","paramsString","keys","param","Array","isArray","_param","encodeURIComponent","flat","query","some","addressElem","showError","getUserData","getUsersAgreementSeen","updateUserAgreementSeen","getInactiveUserMessage","getClassroomCourse","getDriveCourse","fileId","alternateLinkId","alternate_link_id","getSingleObjectiveRequirements","getAssignedObjectivesToAssignment","patchAssignedObjectivesToAssignment","settings","getAssignmentsObjectives","getAssignmentsStudents","putAssignmentsObjectives","students","getObjectiveAssessments","studentId","putObjectiveAssessments","assessments","getStudentAssignments","getStudentAssignment","getSchool","educationalSystemId","limit","getSchoolById","schooldId","getFirstTimeSetupData","getCourseSetup","updateCourseSetup","preferences","getUserPreferences","updateUserPreferences","getAssessmentDrive","putObjectiveAssessmentsDrive","getStudentsList","updateAssignmentsList","updateFilesListForAssignment","getAssignments","getAssignmentId","assignmentTitle","getBackendInfo","mixpanelTrack","mixpanelData","mixpanelEngage","getDownloadKey","courseDefinitionId","getStudentDetails","updateStudentDetails","getColleagueEmails","addColleagueEmail","email","removeColleagueEmail","colleagueEmailId","getAssignmentByAlternateLink","assignmentAlternateLink","getAssignmentAssessments","putAssignmentAssessments","assignmentAssessments","getSimpleAssignmentsObjectives","getGradeSystems","assignment_id","getCourseDefinitionObjectives","getStudentCoursesDefinitions","getCourseDefinitionAssessment","updateCourseDefinitionAssessment","getCourseDefinitionObjectiveAssessments","updateCourseDefinitionObjectiveAssessment","objective","getCourseDefinitionObjectiveAssessment","updateObjectiveAssessments","updateKnowledgeRequirement","knowledgeRequirement","deleteObjective","courseDefinition","updateObjective","createObjective","getObjectives","deleteCourse","createCourseDefinition","courseData","addCourseDefinitionToClassroom","template_course_id","saveCourseToLibrary","originCourseId","code","course_id","getStudybeeCurriculums","searchParams","getSchoolCurriculums","getCurriculumLibrary","getUsersStatusesForCoursesAndObjectives","getUserStatusesForCoursesAndObjectives","getCourseDefinitions","getCourseDefinition","updateCourseDefinition","allUsersCurriculums","getPrivateCurriculums","getPublicCurriculums","getGlobalCurriculums","makeCurriculumPrivate","curriculum","makeCurriculumPublic","makeCurriculumGlobal","updateCurriculumInLibrary","addCurriculumToClassroom","removeCurriculumFromLibrary","getCurriculumDetails","getScales","getEducationalStages","getEducationalSystems","setObjectiveAssessmentSeen","getExportKeyForAllStudents","getExportKeyForStudent","exportAllStudentsResultsOnGoogleDrive","fileFormat","exportStudentResultsOnGoogleDrive","checkStatusOfExportStudentsResultsToGoogleDrive","exportId","getUserAgreement","languageCode","getISOLanguageCode","getObjectiveAssignmentAssessments","patchObjectiveAssignmentAssessments","patchObjectiveAssignmentAssessmentsSeen","patchAssignmentAssessmentsGroupedVisibility","groupedVisibility","patchCourseAssessmentsGroupedVisibility","getCoverageMatrixGradeSystem","v3","getAssignmentAssessment","updateAssignmentAssessment","objectiveAssignmentAssessment","student_id","getListObjectiveAssessments","updateObjectiveAssessmentsByCourseId","fetchAssignmentAssessments","synchronize","TeacherCourseManagementModule","TeacherAssignmentsModule","TeacherAssignmentsRouting","SortStudentComponent","sortingMethod","setSortingMethod","sortName","toLowerCase","transform","StyledMenu","list","Menu","MoreMenu","icon","closeOnClick","anchorEl","setAnchorEl","handleMenuClick","option","onClickAway","aria-label","aria-controls","aria-haspopup","currentTarget","open","Boolean","paddingRight","selectable","selected","item","gradeContaiener","gridStyle","feedbackIcon","assessmentIcon","resultIcon","noteIcon","iconContainer","gradeText","fontWeight","tt","tt2","tt3","tt4","tt5","GridSummaryItem","feedbackImage","feedback","feedback_published","assessmentImage","self_assessment","resultImage","result_published","grade_color","grade_name","grade_published","noteImage","private_note","getPath","pathname","getPathArray","pathArray","getAssignmentAlternateLinkId","isDrive","link","getStudentId","getFileId","retryTimes","Observable","iframe","$","attr","includes","documentId","$button","URLRegex","test","URL","querySelectorAll","getPathFromButton","next","retryWhen","errors","delay","take","concatMap","throwError","subscribe","isClassroomInstance","valid","classroomNode","isDriveInstance","driveNode","isClassesListPage","isSettingsPage","isWorkPage","isCalendarPage","isStreamPage","isClassworkPage","isStudentsPage","isClassmatesPage","isAboutPage","isStudentWorkPage","isInstructionsPage","wasStudentWorkPage","oldPath","wasInstructionsPage","isCourseChanged","oldCourseId","setOldPath","setOldCourseId","Interceptor","angular","getOrCreateInterceptorModule","HttpInterceptorProvider","interceptorFactory","$inject","args","getPrototypeOf","Function","order","Breadcrumb","AssignmentOrder","GroupedVisibilityDialogType","HttpCacheStore","StoreConfig","EntityStore","createAssignments","ui","createAssignmentsUI","createUIStore","setInitialEntityState","createAssignmentUI","setHasCache","forceRefreshEntities","runStoreAction","storeName","StoreActions","UpdateEntities","payload","entityIds","AssignmentsStore","AssignmentState","AssignmentWorktype","AssignmentSortBy","isExpanded","filters","PUBLISHED","DRAFT","STANDARD_ASSIGNMENT","WITHOUT_ASSESSMENT_CRITERIAS","WORK_UNIT","EMPTY","by","Order","ASC","createAssessments","createAssessmentsUI","AssessmentsStore","StudentCourseManagementModule","FullscreenProgress","environment","appName","production","release","urls","API_EU","API_US","mixPanel","raven","closed","Observer","LocalStorageService","userId","defaultMenuItems","TITLE_ONLY","eventArgs","view","TITLE_AND_DESCRIPTION","DESCRIPTION_ONLY","getListViewMenu","storageId","buildStorageKey","exists","validateCheckedState","restoreListViewMenu","copyDefaultListViewMenu","saveListViewMenu","listViewMenu","listViewMenuItem","acc","listViewMenuItemCopy","lastSelectedId","listViewMenuItems","allCheckedItems","ListViewMenuService","ILocalStorageService","IUserInfoService","clear","getArray","JSON","parse","remove","removeItem","setArray","stringify","createInitialState","is_teacher","first_time_setup","gdpr_check","google_id","photo_url","locationDetection","UserStore","Inject","LOCATION_DETECTION","LocationDetection","Store","InjectionToken","_ref2","SvgIconBkAssessmentDone","resultText","overallFeedbackText","overallPrivateNoteText","teacherSelfAssessmentText","studentSelfAssessmentLabel","AssignmentAssessment","onSave","Api","isStudent","grade_id","status_new","debouncedUpdateAssignmentAssessment","useMemo","debounce","saveGrade","grade","grade_last_edit","Date","now","publishGrade","publish","changeAssignmentText","result_last_edit","feedback_last_edit","private_note_last_edit","self_assessment_last_edit","publishAssignmentValue","showResult","showFeedback","showOverallNote","showGrade","showSelfAssessment","findIndex","paddingTop","paddingBottom","index","button","minWidth","SecondaryButton","PrimaryButton","inverted","GradeCounter","initialCount","count","gradeId","setCount","objectiveFeedbackInputText","objectivePrivateNoteText","assignmentAssessmentId","initialObjectiveAssessments","failWarning","textFilter","isTopic","showObjectiveDetails","objectivesToSave","setObjectiveAssessments","counter_grade_0","counter_grade_1","counter_grade_2","counter_grade_3","counter_grade_4","counter_grade_5","counter_grade_6","counter_grade_7","counter_grade_8","counter_grade_9","last_edit_for_student","debouncedUpdateObjectiveAssessment","objectives","clonedeep","updateObjectiveAssessmentsGql","saveObjective","obj","changeObjectiveText","self_asessment","changeObjectiveGrade","changeObjectiveGradeCount","publishObjectiveValue","showNote","oa","filteredObjectives","undefined","numeric","sensitivty","description","is_counter","flexWrap","$state","$stateParams","$window","onResizeHandlers","on","onResize","addOnResizeHandler","handler","IdService","getId","createUnregisterFunction","createGoToAction","stateName","goToAction","go","createHandler","$element","requestAnimationFrame","$breadcrumbs","$textContainers","hasEnoughBreadcrumbs","availableWidth","clientWidth","each","span","scrollWidth","$item","animate","removeAttr","breadcrumbs","removeBreadcrumbsWithoutLabel","breadcrumb","handlerId","BreadcrumbsService","StateService","StateParams","ITimeoutService","IWindowService","webpackContext","req","webpackContextResolve","Error","IconsPath","store","createUIQuery","selectFilteredAndSorted","selectAll","filterBy","sortBy","stateUI","getValue","sortMethod","getSortMethod","AssignmentsQuery","QueryEntity","curriculums","curriculums$","BehaviourSubject","updateCurriculums","CurriculumsService","dialogParentElement","showConfirmationDialog","$mdDialog","locals","show","bindToController","controllerAs","multiple","parent","templateUrl","showSearchCurriculumDialog","isLocked","SearchCurriculumDialogCtrl","educationalSystems","showCarriculumLibraryDialog","all","private","public","shared","showMakeCurriculumPublicDialog","curriculumTitle","translations","header","content1","content2","cancelButton","confirmButton","showMakeCurriculumPublicToAllStudyBeeUsersDialog","showMakeCurriculumPrivateDialog","showEditCurriculumDialog","course","educationalStageId","EditCurriculumDialogCtrl","showRemoveCurriculumFromLibrary","showSaveCourseToLibraryDialog","courseName","courseCode","showCreateObjectiveDialog","hide","objectiveName","showCurriculumDetailsDialog","$rootScope","openCurriculumLibraryDialog","cancel","openAddNewObjectiveDialog","$emit","UPDATED_OBJECTIVES","curriculumDetails","showDeleteObjectiveDialog","editingTemplate","CourseType","TEMPLATE","showDeleteCourseConfirmationDialog","showChangeCourseCorePropertyWarning","headerLabel","warningContent","showWrongCurriculumSetupDialog","showChangeCourseCorePropertyDoublecheckWarning","StudentAssignmentsModule","StudentAssignmentsRouting","LOG_LEVEL","ERROR","DEBUG","INFO","baseURL","gqlBaseUrl","ApiInstance","latestToken","getAssignmentsUrl","getStudentsInClassroomUrl","getAssignmentByAlternateLinkUrl","getAssignmentAssessmentsUrl","getAssignmentAssessmentUrl","getObjectiveAssessmentsUrl","getFailWarningUrl","assessmentId","getCourseGradeSystemsUrl","getAssignedObjectivesToAssignmentUrl","getObjectivesUrl","getAssignmentDriveUrl","updateObjectiveAssessmentUrl","updateAssignmentStatusUrl","updateVisibilityManyUrl","updateAssignmentDetailsUrl","syncAssignmentsUrl","newAssignment","encodeURI","syncStudentsUrl","sendInForeground","setNetworkTraffic","setNetworkError","doFetch","getAssignmentDrive","getAssignmentsAsHook","useFetch","getStudentsInClassroomAsHook","getAssignmentAssessmentsAsHook","getAssignmentWithAssessment","fields","q","operation","variables","required","getAssignmentAssessmentAsHook","getObjectiveAssessmentsAsHook","getFailWarning","getCourseGradeSystems","getCourseGradeSystemsAsHook","getAssignedObjectivesToAssignmentAsHook","getObjectivesAsHook","getAssignmentByAlternateLinkAsHook","syncAssignments","syncStudents","getClassroom","classroomId","updateStudentEWSStatus","saveData","pick","mutation","ewsStatus","updateStudentExtraAdjustments2","adjustments","updateStudentExtraAdjustments","added","removed","updateAssignmentCourseDefinitions","courseDefinitionsIds","courseDefinitionIds","updateAssignmentObjectivesConnected","updateAssignment","picked","updateCourseAssessments","pickedAssessments","target_grade_id","updateCourseObjectiveAssessment","updateObjectiveAssessment","objectiveAssessment","updateAssignmentStatus","updateVisibilityMany","updateAssignmentDetails","getUserInfo","cloudLog","LEVEL","level","getWebstoreInfo","webstore","REACT_APP_TOKEN_FOR_DEBUG","Math","floor","date","overrideMethodForSave","headers","Authorization","tag","json","createApi","SvgCollapse","AssessmentButton","initialState","onStatusChange","submittedStatus","setState","getAssessmentStatusTitle","handleClick","activeOptions","ClickAwayListener","ArrowDropDown","MenuItem","handleSelect","CommonComponentsModule","LoaderComponent","ObjectDetailsToggle","MenuToggleComponent","ExtendedViewContainer","StudentStatusIconComponent","SavingIndicator","RightViewContainer","ExtendedViewTopWhiteframe","LongTextTooltipComponent","AccordionComponent","AccordionHeaderComponent","AccordionFooterComponent","Accordion","LongTextTooltip","UserQuery","userMatched","userConfigured","userEmail","userRole","loggedToBrowser","hasCreateCoursePermission","agreementSeen","hasSetup","photoUrl","googleId","gdpr","user$","user","applyDetails","userDetails","checkUser","classroomStructure","driveStructure","innerHTML","attributes","checkRole","elem","role","setUserRole","checkConfig","configured","isTeacher","getUserObj","student","$scope","sortingItems","ASC_TYPE","ASC_CREATED","DESC_CREATED","DESC_LAST_CHANGE","ASC_TITLE","studentSortingItems","ASC_FIRST_NAME","ASSESSMENT_DONE","NOT_ASSESSED","group","AssignmentFilterGroup","TYPE","STATE","refreshStateName","$onInit","$on","onFilterMenuClose","isCurrentOrder","ordering","isSortAssessmentSelected","assessmentSort","isFilterSelected","states","onClickOrder","reloadState","sortAssessments","onClickFilter","_filter","_states","isDividerVisible","stateParams","saveFilters","saveState","saveOrdering","reload","statePrefix","isFilterChange","currentFilters","previousFilters","isStateChange","currentStates","previousStates","AssignmentsComponent","GroupedVisibilitySettings","Subject","ObjectiveAssignmentAssessment","getEmptyGroupedVisibilityObject","GroupedVisibility","overall","target_grade_published","getSelectedTypeOfFeedbackByType","selectedTypeOfFeedback","GroupedVisibilityFeedbackType","ObjectiveAssessment","ObjectiveFeedback","StudentProgressView","OverallAssessment","OverallTarget","OverallFeedback","OverallResult","mapObjectToArrayOfIds","items","GroupedVisibilityService","getSchools","getSchoolCategories","SchoolCategoryType","K_12","HIGHER_EDUCATION","HOME_SCHOOL","CORPORATION","OTHER","filterSchools","schools","lowerQuery","toLocaleLowerCase","school","getSchoolName","match","trim","getCityName","sendSchoolRequest","SchoolService","Output","userStore","userQuery","http","preFetchUserData","update","fetchUser","getHasCache","select","forkJoin","userInfo","sources","switchMap","catchError","of","updateUser","updateUserSetup","userSetup","UserService","PRE_FETCH_USER_DATA","Optional","User","Query","getIconTooltip","tooltipText","suffix","consumeEvent","$event","AssignmentsListComponent","template","SchoolCategory","classroomFields","AssignmentList","assignmentSortMethod","setAssignmentSortMethod","studybeeOpen","assignmentSelected","setAssignmentSelected","studentSelected","setStudentSelected","editAssessmentCriteria","setEditAssessmentCriteria","classroom","setClassroom","showHideAssignmentsDialog","setHowHideAssignmentsDialog","lastStorageChange","loading","setLoading","fetchAssignments","routeWithLinkId","allAssignments","studentClicked","openGrid","promises","resp1","resp2","historyBack","processStorageChange","change","editAssignment","newClassroom","connectNewAssignment","assignmentFromDb","disconnectNewAssignment","processStorage","storageListener","changes","newValue","firstChange","assignmentDriveSelected","temp","onChanged","addListener","removeListener","handleAssignmentMenuClick","hideAllAssignments","assignmentClicked","openGridView","sortedAssessments","onClose","back","empty","assignmentsNotInTopics","ad","created","topics","topic_order","sortedAssignments","notConnected","borderBottom","onAssignmentClicked","onGridClicked","summary","details","topic_id","no","yes","SvgIconBkNotAssessed","SvgIconBkAssessing","SvgSubmitted","SvgSubmittedLate","SvgNotSubmittedLate","SvgNotSubmitted","iconWMargin","GridObjectivesSummaryItem","selectedObjective","gradeOnly","borderRight","random","connectedToObjective","isSelectedObjective","clipRule","SvgSort","viewBox","AssignmentsListHeader","openDrawer","toggleMenu","gridOpen","toggleGrid","SvgPane","MultiEditDescription","BootstrapInput","theme","input","InputBase","OptionsDropdown","handleChange","labelId","renderValue","secondary","Toast","timeout","severity","internalOpen","setInternalOpen","StyledAccordionDetails","AccordionDetails","StyledAccordion","expanded","StyledAccordionSummary","minHeight","content","expandIcon","AccordionSummary","AccordionItem","square","TransitionProps","unmountOnExit","menuOptionsConnected","menuOptionsNotConnected","inTopic","focused","focusRipple","textAlign","StyledSelect","Select","StudentDropDown","onSelect","AssignmentObjectivesListHeader","selectedStudentId","onStudentSelected","onToggleGrid","ArrowBack","GridHeader","submittedIcon","borderLeft","table","tableHeaderPublished","borderTopLeftRadius","borderTopRightRadius","tableHeaderDraft","maxHeight","submittedIconSelected","summeryContainer","assignmentTitleContainer","noAssessment","summeryContainerInner","tr","assessmentIconContainer","setHighlight","selectedStudents","highlight","assessmentMap","setAssessmentMap","bgColor","use_submitted_status","submitted_status","container","container2","th","studentNameText","container3","block","shadow","GridViewContent","initialAssignment","setMultiEdit","setSelectedStudents","setAssignment","renderAssignments","setRenderAssignments","setSortedAssignments","setSortedAssessments","setStudents","originallySelectedStudent","saving","refresh","useCallback","check","MultiEditStatusComponent","setStatus","Radio","SubmissionStatusButton","MultiEditSubmissionComponent","AssignmentObjectivesList","initialCourseDefinitions","initialStudentId","initialAssignmentAssessment","assignmentAssessment","ChangeVisibilityManyDialog","setVisibilityDialogData","setStudentId","setTextFilter","parentTopic","setParentTopic","setAssignmentAssessment","fail_warning","setFailWarning","showGrid","setShowGrid","saveManyAssessment","saveManyObjectives","dim","setFilterTextDebounced","statusUpdated","callback","submittedStatusChanged","handleHeaderMenuClick","AssignmentStudentView","numberOfObjectives","saveMany","newAssignmentAssessments","sid","newObjectiveAssessments","currentAssessment","newAssessment","concurrency","newOa","noa","dialogData","hideSaveSetting","selectedAssignment","cd","goBack","course_definitions","onCollapse","onStudent","ButtonBase","borderTop","CircularProgress","EditAssessmentCriteriaHeader","saveEnabled","Close","dialogFont","SaveDialog","onCancel","Dialog","EditAssessmentCriteriaItem","enabled","checkbox","Switch","CourseDefinitions","showCurriculumToast","setShowCurriculumToast","NoCurriculum","Objectives","selectedGradeSystem","handleObjectiveCheck","def","max_counter_grades","GradeWarningDialog","warningDialogText","close","objectivesText","EditAssessmentCriteria","gradeSystems","setGradeSystems","setWarningDialogText","setSaveEnabled","saveDialogOpen","setSaveDialogOpen","lastUsedGradeSystem","setLastUsedGradeSystem","enableObjectives","setEnableObjectives","referenceAssignment","isArrayChanged","aArr","bArr","updateSaveEnabled","saveEnable","grade_system_id","refCourseDefinitions","refSelectedObjectivesIds","selectedObjectivesIds","refSelectedObjectives","selectedObjectives","refMaxcounter","maxCounter","rf","ii","getGradeSystem","courses","is_main","responseObjectives","Set","k","startsWith","noAssignedCurriculums","newCourseDefinitions","acd","anyObjectivesSelected","handleSave","force","oo","lastUsedScale","lastUsedExists","gs","gr","save","stroke","strokeDasharray","SvgVisibilityKeep","getTooltipText","VisibilityIcon","addClass","removeClass","className","done","stop","slideDown","animationFinished","slideUp","ID_FRAGMENT","pattern","generateIDFragment","getRandomNumber","toString","crypto","getRandomValues","Uint8Array","RegExp","MainMenuID","updateStudentsList","updatedStudents","getStudentsIds","webpackEmptyAsyncContext","DEFAULT_OPTIONS","buildOptions","DialogService","helpButtonLinks","AssignmentView","helpButtonLink","setVisibilityIsDisabled","isTypeOfFeedbackSelected","checkIfAnySelected","students_ids","course_definitions_ids","prop","GroupedVisibilityDialogService","ng","material","IDialogService","ParentComponent","buildDialogConfig","$config","copy","extend","CourseProgressDialog","DEFAULT_CONFIG","TEMPLATE_PATH","deregisterOnBefore","deregisterOnEnter","deregisterOnError","deregisterOnExit","deregisterOnFinish","deregisterOnRetain","deregisterOnStart","deregisterOnSuccess","deregisterAll","onBefore","transition","onStart","onExit","onRetain","onEnter","onFinish","onSuccess","onErro","TransitionHandler","registerOnBeforeTransition","$transitionsProvider","instance","getCriteria","propertyName","propertyDescriptor","deregisterMethodName","UserSetupModule","userSetupComponent","userSetupAgreementComponent","userSetupAgreementMissingComponent","userSetupCheckComponent","userSetupCheckInvalidComponent","userSetupCheckProgressComponent","userSetupCheckValidComponent","userSetupCompleteComponent","userSetupSettingsComponent","userSetupSlidesComponent","UserSetupCheck","UserSetupSettings","UserSetupRouting","httpCacheStore","hash","SharedComponentsMaterialModule","SiblingComponent","assignmentsStore","assignmentsQuery","assessmentsStore","path","getFromAPI","assessment_last_changed","getTime","updateUI","assignmentUI","setFilters","setSorting","courseID","assignment_state","unifyDateTimeFormat","updateAssignmentsType","normalizeAssignmentsResponse","normalizeResponse","putAssessmentsIntoStorage","putAssignmentsIntoStorage","entities","ids","assessmentLastChanged","assignmentCreated","assignment_created","transaction","NormalizedSchema","AssignmentsService","selectManySorted","sortByStatusNew","ASSESSING","AssessmentsQuery","updateStatus","assignmentID","statusUpdateBody","updateStatusAPI","updatedAssessment","updateStatusForMany","assessmentVisibility","updateStatusForManyAPI","updates","student_ids","normalizeUpdates","normalizeUpdateStatusForManyResponse","assessmentsID","upsert","synchronizeWarningStatus","checkWarningStatusAPI","checkWarningStatus","studentID","assignmentVisibility","assessmentID","AssessmentsService","updateStatusForManyResponse","schema","Entity","normalize","assignmentsForTopic","assignments_for_topic","SharedDirectivesModule","Directive","directiveFactory","createDirectiveFactory","CourseManagementModule","CourseDefinitionDetails","CourseManagementRouting","requires","AssignmentsSharedModule","AssignmentGroupedResponse","TeacherSetAssignmentObjectivesModule","TeacherSetAssignmentObjectiveCtrl","TeacherSetAssignmentObjectivesRouting","CommonModule","CommonServicesModule","CommonFiltersModule","CommonDirectivesModule","generateSelectors","labelName","selectorPattern","selectorWords","lang","en","schedule","saveDraft","question","reusePost","addTopic","ask","sv","nl","LABEL_PLACEHOLDER","ASSIGNMENT_MODAL_ASSIGN_SEL","HostPage","ASSIGNMENT_MODAL_ADD_TOPIC","ASSIGNMENT_MODAL_SAVE_SEL","ASSIGNMENT_MODAL_ASK_SEL","ASSIGNMENT_MODAL_DELETE_SEL","ASSIGNMENT_MENU_ITEM_ASSIGN_SEL","ASSIGNMENT_MENU_ITEM_SCHEDULE_SEL","ASSIGNMENT_MENU_ITEM_SAVE_DRAFT_SEL","ASSIGNMENT_ALERT_OK_SEL","CLASSWORK_CREATE_NEW_ASSIGNMENT","CLASSWORK_CREATE_NEW_QUESTION","CLASSWORK_CREATE_NEW_REUSE_POST","CLASSWORK_CREATE_NEW_TOPIC","isPanelDisable","distinct_id","toggle","edit_multiple","course_summary","course_private_note","overall_feedback","overall_private_note","visibility","objective_slider","course_slider","fetch_course_definition","assigned_objectives","setup_complete","menu_teacher_assignments","menu_teacher_assess_course","menu_teacher_assignment_objectives","menu_teacher_synchronize","menu_teacher_user_setup","menu_student_assignments","menu_student_course_progression","menu_student_course_requirements","menu_get_help","saving_curriculum_to_library","new_assignment_popup","feedback_to_student_on_objective","feedback_to_student_on_assignment_objective","feedback_to_student_on_overall_assignment","feedback_to_student_on_course_progress","feedback_to_student_with_multiedit","student_self_assessment_on_objective","moving_slider_on_objective_level_in_course","eventCode","getEventName","properties","browser","userAgent","btoa","engage","userCountry","userEducationalSystem","userSchoolName","currentTime","getCurrentDate","$distinct_id","$token","$set","$email","$set_once","courseElem","events","toISOString","setMomentLocale","locale","i18n","getUILanguage","showHintDialog","$cookies","showedHint","expires","toDate","headerText","contentText","DialogType","SUCCESS","FAIL","CONFIRMATION","observers","_observer","dispose","getAll","findCountryByCode","countries","countryCode","country","country_code","CountryService","courseDefinitionObjectiveAssessments","filterNonCounterCoverageMatrix","reduceUniqueCoverageMatrix","flattenCoverageMatrixArray","mapCourseDefinitionObjectiveAssessmentsToCoverageMatrixArray","coverage_matrix_grade_systems","coverageMatrixesArray","coverageMatrix","coverageMatrixes","CoverageMatrixService","PopupService","TabService","isPopup","openPopup","openTab","tab","storeTab","HelpButtonService","IPopupService","CoverageMatrix","Country","Assignment","SharedUpgradesModule","changeEducationalSystem","educationalStage","resetScales","updateEducationalStages","educationalSystem","changeEducationalStage","updateScales","scales","educationalStages","educational_system","educational_stage","updateEducationalStagesAndScales","setEducationalStage","SelectEducationalProperties","StudentAssessAssignmentModule","StudentAssessAssignmentRouting","StudentAssessAssignmentDriveModule","StudentAssessAssignmentDriveRouting","TeacherAssessAssignmentModule","TeacherAssessAssignmentDriveModule","AssignmentSingleCheckbox","assignmentCheckboxSingle","singleItem","allGroups","editMultiple","assignmentCheckboxCheckAll","assignmentCheckboxAll","checkboxChecked","allCheckboxChecked","assignmentCheckboxCheckIfAny","anyCheckboxChecked","assignmentClearCheckbox","TeacherAssessAssignmentStudentModule","networkError","setError","setData","TopicItem","menuOptions","fontStyle","imgSrc","HideAssignmentsDialog","NetworkErrorToast","setOpen","savedText","SaveToast","ObjectiveDescription","currentGrade","setCurrentGrade","setObjective","fetchObjective","knowledgeRequirements","SvgHandlebg","ErrorBoundary","errorInfo","VisibilityDialog","dimensions","setShow","selection","saveObj","attribute","SyncToast","NewAssignmentDialog","StudentListHeader","showGridIcon","StudentItem","onClickStudent","baseColor","dimmedFont","CourseItem","teachers","classroomName","setSelected","CoursesCard","onCourseSelected","loadCourses","StudentOverviewHeader","studentName","onBack","emptyAssessment","gradeColor","gradeIsPassed","gradeName","target_grade_last_edit","CourseAssessmentCard","saveCourseAssessment","gradesSystemValues","is_final","defaultIndexTarget","SvgHappyFace","SvgMediumFace","SvgSadFace","statusButton","EwsStatusButton","saveStatus","selectedColor","selectedMulti","getColor","StatusComponent","initialStatus","modified","getIcon","extraAdjustments","initialExtraAdjustments","extraAdjustmentsAvailable","isGrid","extraAdjustmentData","setExtraAdjustments","saveChanges","adjustment","maxCharactersInName","currentAdjustments","InternalCommentsComponent","lastModified","comments","lastComment","comment","EwsStudentCard","multiEditSaveObject","getEWSData","ews","EWS","internalComments","CourseInfoCard","SvgSbIcoFeedback","SvgSbIcoNote","tt1","initialAssessment","setGradeId","initialIndex","setInitialIndex","saveAssessment","ProficiencyProfile","onWidth","profile","offsetWidth","maxWidth","quantity","total","onObjectiveSelected","proficiencyProfiles","setWidth","profileWidth","setProfileWidth","wideItem","CourseObjectiveAssessmentCard","setCourse","setSaving","setProficiencyProfiles","setSelectedGradeSystem","gradeSystemsUsed","changedObjectiveAssessments","multieditRef","prProfile","grs","newQuantity","gradeSystemId","gradeSystemName","courseAssessments","courseObjectiveAssessments","AssignmentAccordionItemHeader","objectivesWidth","AssignmentAccordionItem","showObjectives","indented","contentWidth","firstItem","itemWidth","AssignmentsCard","noTitle","setAssignments","meSaving","as","hideCourseCard","multiEditChanges","cardStyle","courseAssessment","CourseObjectiveOverview","getData","co","cor","lineHeight","StudentOverview","initialSelectedCourse","selectedCourse","setSelectedCourse","bgStyle","happyImage","mediumImage","sadImage","getStatusIcon","extraImage","privateNoteIcon","targetGrade","gradeHash","setGradeHash","AssignmentTable","onStudentSelect","setExpanded","sortedStudents","setSortedStudents","hasAssignments","colSpan","stud","td","thText","tdText","rightPanel","studentCourseOverviewStyle","initialStudent","setStudent","selectedStudentsBeforeSelectAll","setExtraAdjustmentData","courseEwsMap","setCourseEwsMap","courseAssessmentsMap","setCourseAssessmentsMap","setStudentCB","trailing","leading","loadClassroom","multiSave","extra","extra_adjustment_id","saveObjs","currentObjectiveAssessment","coursesEws","ce","ss","ca","objectiveGradeSystem","getStudentExtraAdjustments","studentIds","calculateExtraAdjustments","selectedStudentsNow","allAdjustments","uniqueAdjustments","allStudents","CourseOverview","selectedStudent","setSelectedStudent","setSelectedObjective","StudentButton","showAssessmentButton","fullName","MoreVert","expandable","initialExpanded","enter","exit","expand","SvgSettings","AssignmentStudentListHeader","gotToEdit","allString","StudybeeSelector","inputName","selectedItems","MenuProps","PaperProps","ITEM_HEIGHT","getContentAnchorEl","autoFocus","FormControl","InputLabel","ListItemText","Divider","overAllText","BatchAssessmentDialog","setSelectedObjectives","setResult","setFeedback","note","setNote","setGrade","objectiveFeedback","setObjectiveFeedback","objectiveNote","setObjectiveNote","overallAssessmentAvailable","objectiveAssessmentAvailable","handleClose","selectedGrade","Button","SvgFilter","SvgExpand","SvgCollapseAll","filterOptions","AssignmentStudentList","editAssessmentCriteriaSelected","setEditAssessmentCriteriaSelected","showBatchDialog","setShowBatchDialog","setAssessments","setFilter","expandAll","setExpandAll","showExpandAllInfo","setShowExpandAllInfo","showTooltip","setShowTooltip","getStudentAssessments","disableExpandAll","onMouseUp","newFilter","DrawerItem","iconObject","onMouseOver","app","Drawer","onNavigate","onRefresh","useSpring","to","opacityAnim","setOpacity","mass","velocity","friction","onRest","animProp","setMargin","animateClose","navigate","city","div","School","Book","Refresh","version","requireContext","Raven","addPlugin","install","VENDOR_MODULES","APP_MODULES","CourseProgressModule","UserInactiveModule","react2angular","AppConfig","AppRouting","run","AppRun","onOpen","noop","$watch","toggleState","triggerEvent","accordion","transclude","footer","$animate","accordionElement","disabelContentScrollbars","addOpenClass","accordionContainer","ACCORDION_CONTAINER_QUERY","stopAnimation","hasClass","ANIMATION_CLASSNAME","css","animationPromise","enableContentScrollbars","removeOpenClass","OPEN_CLASSNAME","removeData","ACCORDION_CONTENT_QUERY","SCROLL_LOCK_CLASS_NAME","menu","toolbar","hideToolbar","loaderClass","direction","watchText","COURSE_UPDATED","checkIfShowTooltip","preventOutdatedScope","off","$postLink","isNeeded","timeoutPromise","refreshScopeState","contentElement","first","ceil","defaultStyles","onDetailsToggle","savingInProgress","savingError","STARTED_NEW_REQUEST","REQUEST_FINISHED_SUCCESSFULLY","postponeHidingIndicator","REQUEST_FINISHED_FAILURE","studentStatus","AccordionHeaderMenuComponent","resizeHandler","BreadcrumbsComponent","IRootElementService","IBreadcrumbsService","HostPageNewAssignmentObserver","HostPageQualifiers","ACTIONS","CANCEL","SAVE_DRAFT","ASSIGN","SCHEDULE","ALERT_OK","ALERT_CANCEL","OPEN_CREATOR","NavigationHistory","StudybeeHandle","EVENTS","STATE_CHECKED","register","unregister","registered","registerPseudoSelector","expr","textEquals","createPseudo","innerText","shouldRefreshAssignments","shouldShowModal","shouldHideStudybee","textArea","updateAssignments","UPDATED_ASSIGNMENTS","studybeeClose","shouldRefreshOrShowModal","showModal","hasScheduleAlertDialog","hasAlertDialog","hasCreatingModal","hasEditingPublishedModal","isItTopic","LastUpdate","lastEditDateTime","MixpanelTextEvent","NgVisibleDirective","restrict","$attrs","ngModel","feedbackUpdated","$modelValue","oldVal","newVal","mixpanelTextEvent","is","multiElement","attrs","unsubscribe$watch","ngVisible","modalExist","res","modal","cookieName","timestamp","is_visible","disableParentScroll","confirm","currentDate","nextDate","setYear","getFullYear","$transitions","$transition$","toState","$to","dynamicThemeClass","themeClass","$mdSidenav","vm","setDefaultOption","selectedMenuStateName","setSelectedMenuStateName","showBackdrop","isOpen","updateAssignmentOption","streamStudentName","streamAssignmentName","streamAssignmentId","checkCurrentActive","stateSectionName","selectedOption","updateSelectedOption","updateSynchronizeDate","synchronizeDate","assignmentsAndStudentsDate","goToLink","translationURLKey","goToState","addToHistory","synchronizeData","updateAssignmentsAndStudents","setToggleCallback","setAssignmentCallback","setSelectedMenuStateNameCallback","setSynchronizeDataCallback","UiService","MainMenuService","toggleCallbacks","assignmentCallbacks","selectedMenuStateNameCallbacks","updateToggleMainMenuVisible","saveAssignmentDetails","updateMainMenu","saveStudentDetails","isStateNameSelected","ASSIGNMENT","getCourseUsingDriveId","getCourse","isCourseExist","hasCourseDefinition","has_course_definitions","$interval","$mdBottomSheet","States","Helpers","Assignments","HashObserverService","EnvironmentService","InitService","initConfig","keepOpen","initGeneral","checkState","onMessage","closest","prev","substring","initGoogleDrive","studybeeActivate","openDefaultState","catch","onNext","assignmentAlternateLinkId","checkStatePromise","when","CLASS_CHANGED","clearGradeSystems","updateFiles","openLoadingState","openNotConfiguredState","serveState","setIconStatus","$broadcast","scope","interval","isGoogleDocs","classroomNav","driveViewerProfileImg","docsHeader","hasAppSetup","combineLatest","USER_SETUP_COMPLETED","getCurrentStateName","reloadCurrent","updateGradeSystems","updatedGradeSystems","currentGradeSystem","fetchGradeSystemsList","equals","v2","getGradeSystemById","animationRunner","slideToggle","$sce","translate","trustAs","translation","v1","findTranslationKey","queue","getInstance","Queue","lastModifedDate","priority","compile","$templateElement","$templateAttributes","findTranslation","localizeKey","noUiSlider","ngChange","ngUpdate","autoWidth","disabledSlider","squareSlider","batchEditingSlider","knowledgeRequirementsSlider","sliderStartValue","sliderRangeMin","sliderRangeMax","containerNode","valueLabelNode","startValue","sliderValues","ignoreWatch","initRun","initialized","checkSliderType","batchediting","knowledgerequirements","createWrapper","append","getSliderStartValue","configElem","getSliderRange","getSliderValues","initSlider","start","connect","range","pips","createValueLabel","html","replaceSliderLabels","toArray","labelElem","labelValue","disableSlider","setAttribute","addKeyboardSupport","Number","which","setGradeStyles","valueTextNode","setSliderWidth","realDistanceBetweenGrades","sliderLength","sliderWidth","activeElement","focus","roundValue","round","currentConfig","circle_label","$evalAsync","offset","rect","docElem","ownerDocument","documentElement","pageOffset","getPageOffset","clientTop","clientLeft","isNumeric","isNaN","isFinite","addClassFor","duration","asArray","el","classList","supportPageOffset","pageXOffset","isCSS1Compat","compatMode","scrollLeft","pageYOffset","scrollTop","actions","pointerEnabled","move","end","msPointerEnabled","defaultCssPrefix","subRangeRatio","pa","pb","fromPercentage","getJ","arr","toStepping","xVal","xPct","va","vb","abs","toPercentage","getStep","xSteps","snap","handleEntryPoint","that","percentage","parseFloat","handleStepPoint","Spectrum","singleStep","xNumSteps","ordered","getMargin","fromStepping","number","isPercentage","pow","toFixed","getApplicableStep","convert","defaultFormatter","testStep","parsed","testRange","spectrum","dir","testStart","handles","testSnap","testAnimate","testConnect","testOrientation","ort","testMargin","testLimit","testDirection","testBehaviour","drag","fixed","hover","testTooltips","tooltips","formatter","testFormat","testCssPrefix","cssPrefix","testOptions","tests","defaults","closure","scope_Base","scope_Handles","scope_Self","scope_Target","scope_Locations","scope_Spectrum","scope_Values","scope_Events","cssClasses","addHandle","origin","createElement","handle","additions","reverse","appendChild","addTooltip","firstChild","addMarking","spread","filterFunc","out","getTags","addSpread","grid","density","stepped","getGroup","array","originalSpectrumDirection","indexes","firstInRange","lastInRange","ignoreFirst","ignoreLast","prevPct","newPct","pctDifference","steps","realSteps","stepsize","low","high","generateSpread","baseSize","alt","fireEvent","handleNumber","targetEvent","eventType","valueGet","inSliderOrder","attach","hasAttribute","contains","preventDefault","touch","mouse","pointer","changedTouches","pageX","pageY","clientX","clientY","points","fixEvent","buttons","calcPoint","methods","eventName","appVersion","buttonsProperty","positions","delimit","proposal","setHandle","querySelector","noUiListener","noUiListeners","documentLeave","nodeName","relatedTarget","moveEvent","endEvent","outEvent","getComputedStyle","noLimitOption","trigger","lowerMargin","upperMargin","lowerLimit","upperLimit","previousSibling","valueSet","String","setValues","retour","bindEvent","namespacedEvent","orientation","addSlider","nrHandles","addHandles","addConnection","tips","destroy","cls","removeChild","numStr","pieces","stepDecimals","increment","namespace","tEvent","tNamespace","updateOptions","optionsToUpdate","newOptions","behaviour","originalOptions","slider","Debounce","savingMethod","counterGrades","counter_grades","counterReadonly","parseInput","isOnlyNumber","validation","increase","sendToAPI","decrease","directChange","selectInput","knowledgeRequirementGrade","findFirstPositiveGrade","grade_system","showGradeRequirements","activeRequirement","knowledge_requirements","throttle","getConfig","startOffset","outerHeight","sectionStart","sectionEnd","sectionHeight","subheader","subheaderHeight","transformDistance","maxTransform","allowedTags","getLastModifyTag","$lastModifyTag","$prevElement","localName","backwardCompatibility","setBeforeCloseCallback","setInProgressCloseCallback","setAfterCloseCallback","setBeforeOpenCallback","setInProgressOpenCallback","setAfterOpenCallback","setDisableCallback","setEnableCallback","toggleStudybee","studybeeToggle","currentParams","getCurrentParams","scrollPosition","updateParams","updatedAssignments","updateIsRunning","setInterval","updateAssignmentsLoading","updateStudentsLoading","updateFilesLoading","clearInterval","API","extensionUrl","getMessage","extensionId","routes","ctrl","isModal","editingMode","openedStudents","dynamic","setActive","selectMany","assignmentsObjectives","assignmentsStudents","studentAssignments","enable_grade_texts","show_grade_texts_for_student","getActive","altLink","func","immediate","debounceTimeout","callNow","cachedAssignmentId","themeWatcherObserver","backdropWatcherObserver","checkIfModeAvailable","editing","val","isVisibilityChanges","isGradeChanges","isTextChanges","sendMixpanel","debounceMixpanel","changeSingleVisible","savingItem","editingItem","editingProperty","changeSingleText","changeSingleGrade","findGradeSystem","main","final","firstPositiveGrade","is_passed","findStudentIdByName","registerBackdropWatcher","MutationObserver","clearTimeout","backdropElement","openItem","getElementById","attributeFilter","subtree","disconnectBackdropWatcher","registerThemeWatcher","currentTheme","attributeOldValue","disconnectThemeWatcher","setTheme","containerName","setAssignmentIdCached","isAssignmentIdCached","clearAssignmentIdCached","Hint","history","getPreviousState","ignoreHistory","removeHint","transitionTo","overwritePrams","pop","currentState","openDriveState","openAssignmentState","childList","characterData","mutations","removedNodes","displayToggleCallbacks","removeCallbacks","setRemoveCallback","setDisplayToggleCallbacks","displayToggleHint","$mdToast","setSynchronizeDataCallbacks","showToast","viewReload","updateStudents","updateAssignmentsAndStudentsDate","hideDelay","information","toLocaleString","beforeCloseCallbacks","inProgressCloseCallbacks","afterCloseCallbacks","beforeOpenCallbacks","inProgressOpenCallbacks","afterOpenCallbacks","disableCallbacs","enableCallbacs","firstInit","animationInProgress","extendedViewEnable","inProgressDelay","afterDelay","checkIfExtensionAvailable","studybeeIsOpen","extensionAvailable","Sanitize","htmlCode","trustAsHtml","$get","buildInterceptor","isString","invoke","Provider","provider","urlRegex","setIsAgreementSeen","initService","updateUserInfo","agreement_seen","AgreementSeenInterceptor","IQService","auto","IInjectorService","FORBIDDEN","error_code","APIErrorCode","WHITELISTED_DOMAIN","openStudybeeIfClose","CheckDomainInterceptor","ExtractDataInterceptor","detail","InactiveUserInterceptor","prepareUserInfoService","NOT_FOUND","MissingAgreementInterceptor","IRootScopeService","permissions","permission","PermissionType","CREATE_COURSE","UserDataInterceptor","UserPreferencesInterceptor","StudentCourseProgressModule","AssessmentDetailsComponent","AssessmentStatusPreviewComponent","CourseSummaryComponent","DownloadPdfMenu","GradeDescriptionComponent","PartialLastUpdate","StudentCoursesDetailsSectionComponent","StudentProfileComponent","StudentProfileDetailsComponent","StudentProfilePhotoComponent","StudentProgressInputComponent","ShareAssessmentsWithColleaguesComponent","AssessmentStatusPreview","CourseProgress","ExportStudentsResults","ExportStudentsResultsDialog","StudentDetailsEditDialog","ShareAssessmentsWithColleaguesDialog","AssessmentDetailsEmpty","CourseDetails","CourseListItemComponent","CoursesListComponent","CoursesListEmptyComponent","ObjectivesList","StudentAssessmentDetails","StudentAssignmentsList","StudentCourseProgressComponent","StudentObjectiveDetails","studentCourseProgressRouterConfig","emptyInfo","CourseDetailsCtrl","UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES","toggleAssessment","closeCourseView","CLOSE_COURSE_DETAILS_VIEW","navigateToCourseDetails","onUpdate","generalCourse","course_definition_name","coursesMap","Map","updateWarningsForCourses","SELECTED_COURSE_CHANGED","has","has_warnings","selectedNewCourse","coursesDefinitions","$filter","storageViewMenuId","viewMenuItems","viewMode","navigateToLearningObjective","onClickMenuItem","toolbarMenuItem","menuItem","isTitleVisible","isDescriptionVisible","changeOpenStateForAll","collapseAll","detailsButtonDisable","showTargetGrade","showStudentSelfAssessment","mixpanelSelfAssessmentEvent","onAssessmentClose","onNavigateToDetails","target_grade","updateAssessmentData","assessmentData","counterGradeAssessment","assesment","hasCounterGrade","getAssignmentForAssessment","isNoteAvailable","isFeedbackAvailable","findAssignment","assessmentAssignment","hasLastStateSaved","lastStateSaved","$stateProvider","views","courseSelected","course_definition","objectiveSelected","AssignmentAssessmentService","AssignmentService","getAssignmentAssessmentByObjective","assignmentsAssessments","filterAssignmentsByTypes","closeAssignmentsView","changeObjective","maxGrade","readOnly","updateGrade","increaseGrade","decreaseGrade","$onChanges","counterGradesSummarized","_assessment","gradesCount","maxValues","summarizeArrays","labels","array1","array2","sum","isTargetGrade","mixpanelUpdateEvent","onGradeUpdate","onGradeChange","targetGradeColor","sliderOptions","disableAnimation","ticksArray","enforceStep","showSelectionBar","showTicks","showTicksValues","getSelectionBarColor","getPointerColor","sliderId","model","isActive","getGrade","onEnd","RZ_SLIDER_FORCE_RENDER","UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES","broadcastDelay","isEditable","teacher_in_class","seen","rest","onAssignmentChange","_assignment","ObjectiveDetailsCtrl","getRoutiongParams","assessmentResponse","fetchStudentCoursesDetails","onNextStudentCoursesDefinitions","studentCoursesDefinitions$","changeCourse","closeStudentView","goToNoStudentSelectedState","sizeOfCoursesDefinitions","mergedCourseDefinitions","getSingleCourseDefinition","studentCoursesDefinitions","extendedCourseDefinitions","extendByOwner","extendByCourseDetails","filterNoneAccessibleCourses","splitByCategory","StudentsListCtrl","lastSelectedStudentId","toggleStudentCourseProgress","goToOverview","goToOtherStudent","setStudentForBreadcrumb","TeacherCourseProgressCtrl","getCurrentCourseId","isLastStateSavedExists","navigateToLasStateSaved","navigateToNoStudentsSelected","initEvents","studentsMap","convertStudentsArrayToMap","addListenerUpdateUserStatusesForCoursesAndObjectives","updateWarningsForStudents","exportStudentsResultsToGoogleDrive","fileType","shareAssessmentsWithColleagues","hasStudents","setVisibility","reloadCurrentView","fetchStudentsWarnings","studentsWarnings","toGoogleDrive","folder_link","checkExportStatus","task_id","checkGoogleDriveExportStatus","ExportState","PENDING","STARTED","FAILURE","objectiveAssignmentAssessments","isGradeTextsEnable","ColleagueEmailsService","archived","other","colleagueEmails","pending","colleagueEmails$","onColleagueEmailsUpdate","getCurrentStudent","extendStudentObject","onFeedbackChange","isPublished","updateStudent","onPrivateNoteChange","applyLastStudentUpdateDate","getCurrentClassName","findClassName","editStudentDetails","showStudentDetailsEditDialog","isOverallEmpty","courseDefiniton","showNewRequestToast","showSuccessToast","courseInClass","isOwner","filterArchived","filterCurrentClass","filterOtherClass","studentCourseDefinitions","google_classroom_data","shared_with_teacher","is_mentor","NO_STUDENT_SELECTED_STATE","goToCourseDetails","getStatePrefix","COURSE_DETAILS_STATE","STATE_PREFIX","teacher","fetchStudentDetails","additionalData","extendedStudent","lastUpdate","isAfter","last_update","AssignmentOverviewService","updateBreadcrumbs","onClickBackArrow","onClickClose","$$open","onChangeObjectiveAssessment","onChangeOverall","changedObjectiveAssessment","changeObjectiveAssignmentAssessment","newObjectiveAssessment","assignment_title","IObjectiveAssignmentAssessment","AssignmentOverviewDetailsComponent","IAssignmentOverviewService","AssignmentOverviewObjectivesListService","listViewType","toolbarMenuItems","onUpdateAssessment","changedObjective","newObjective","changeView","AssignmentOverviewObjectivesListComponent","IAssignmentOverviewObjectivesListService","DEFAULT_REQUEST_CONFIG","getAssignmentsGrouped","types","filterAssignmentsByStates","_requestConfig","buildUrl","buildParams","group_by_assessability","getAssignmentAssessmentByCourseDefiniton","fetchAssignmentsByCourseDefinition","getAssignmentAssessmentByCourseDefinitonGouped","fetchAssignmentsByObjective","getAssignmentAssessmentByObjectiveGouped","buildUrlByCourseDefinition","buildUrlByObjective","EMAIL_PATTERN","AbstractColleagueEmailsService","responseColleagueEmail","ColleagueEmail","responseColleagueEmails","mapResponseToColleagueEmails","isEmailValid","isUnique","colleagueEmail","isValid","in_database","types_of_feedback","subject","previous","listener","intervalId","setObserver","removeObserver","DELAY","tabs","openTabMessage","getFocusMessage","getOpenTabMessage","listenOnRemove","updateProperties","getUpdateMessage","getGetMessage","onRemoveListenerMessage","getOnRemoveListenerMessage","tabId","getTabMessage","createProperties","focusTabMessage","updateTabMessage","TabMessage","popups","getMessageFocus","getMessageOpen","listenOnClose","getMessageClose","getMessageListenOnClose","windowId","createData","times","retries","isAttempt","setAttempted","attempted","$$attempted","RetryPromiseService","notifyRequestStart","notifyRequestSuccess","notifyRequestFail","updateListOfObjectiveAssignmentAssessments","newObjectiveAssignmentAssessment","toggleObjectiveAssessment","onClickHeader","goToDetails","onClickGoToDetails","changedObjectiveAssignmentAssessment","AssignmentsOverviewComponent","IScope","onClickResultPublished","onClickFeedbackPublished","IEventEmitter","Executable","ExecuteGuard","AssignmentOverviewContentComponent","propertyKey","descriptor","$$isExecutable","methodReference","AssignmentOverviewStatusService","getLastUpdate","findLastUpdateDate","AssignmentOverviewStatusComponent","IAssignmentOverviewStatusService","dates","creationData","moment1","moment2","isBefore","isCoverageMatrixView","informationView","setIdForAssessments","$id","onCoverageMatrixChange","onViewChange","listViewSwitchType","COVERAGE_MATRIX","STATUS","getCoverageMatrixFromAssessment","coverageMatrixGradeSystem","ObjectivesListComponent","ICoverageMatrixService","ICoverageMatrix","CoverageMatrixGridComponent","gradePrognosis","CoverageMatrixGridHeaderComponent","ListViewSwitchService","selectedCoverageMatrix","informationMenuItems","lastSelectedCoverageMatrixKey","currentSelectedViewKey","currentSelectedInformationKey","getViewMenuItems","getInformationMenuItems","lastSelectedCoverageMatrixId","getCoverageMatrixById","currentSelectedViewId","restoreMainMenuSelection","currentSelectedInformationViewId","onSelectCoverageMatrix","isViewMenuActive","redirectToNonCoverageMatrixView","onMenuClick","onClickViewMenu","onClickInformationMenu","isDisabled","setMenuSelection","showDialogWithDisableMessage","setSelection","nonCoverageMatrixView","findFirstNonCoverageMatrixView","menuItemId","getMenuItemById","ListViewSwitchComponent","center","menuItems","isSelected","ICoverageMatrixGridComponent","GradePrognosisComponent","emptyMsg","componentInitialized","toggleAssessmentGradePublished","onAssessmentUpdate","toggleAssessmentTargetGradePublished","toggleAssessmentFeedbackPublished","updateAssessmentProperty","onResultPublishChange","onFeedbackPublishChange","gradeUpdate","gradeChange","counterGradeChange","targetGradeUpdate","isGradeVisible","teacherAccount","isOverallAssessmentSection","isLearningAssignmentsView","showPrivateNote","simpleView","mixpanelFeedbackEvent","mixpanelGradeEvent","isFirstChange","getLastUpdateDate","showVisibility","hasFeedback","hasResult","downloadFile","gradesMap","animationTime","GradeDescription","mapAssessmentToGrades","setDescription","filteredChanges","filterNotFirstTimeChanges","currentValue","animateContent","GradeDescriptionCtrl","entries","$mdContent","prevHeight","isEmpty","onUpdateCourseDefinition","studentCoursesDetails","newCourseDefinition","isAvailable","breadcrumbLabel","lastEdit","triggerOnChange","editBy","previousLastUpdate","timestamps","updateDateProperties","invalid","initListeners","lastState","router","stateService","asFile","getExportKey","getCheckGoogleDriveExportStatusURL","getStudentExportKeyId","getAllStudentsExportKeyId","dialogType","emailPattern","shareAssessmentWithColleaguesForm","$validators","unique","modelValue","isFormValid","$setValidity","$valid","$pristine","$viewValue","onKeyUp","keyCode","colleaguesEmails","$validate","injector","transitionAuth","abort","GuardAuth","targetParams","targetState","savedOrdering","savedFilters","RestoreState","showSaveInfo","showWhatNowInfo","showMenuToggle","backToState","stateContext","UserSetupController","onBackToState","agreement","UserSetupAgreementController","agreementAccepted","isUpdateInProgress","goToUserSettings","UserSetupAgreementMissingController","UserSetupCheckController","validationStatus","UserSetupValidationState","IN_PROGRESS","onValidation","VALID","INVALID","getUserEmailDomain","userEmailDomain","validateUser","UserSetupCheckInvalidController","UserSetupCheckProgressController","waitingForResponse","UserSetupCheckValidController","goToAgreement","UserSetupCompleteController","closeUserSetup","UserSetupSettingsController","isUpdateSetupType","isUpdateState","userPreferences","lastEducationalSystem","fetchCurrentSetting","initialPreferences","filterSchool","getSchoolByQuery","savePreferences","updateCurrentPreferences","saveUserPreferences","goToSetupComplete","hideAfterUpdateDialog","showAfterUpdateDialog","isSaveButtonDisabled","isPreferenceFilled","comparePreferences","UPDATE_STATE","educational_system_setup","userPreferenceData","mapUserPreferencesToSaveData","classRoomId","schoolId","QUERY_LIMIT","preferences1","preferences2","preference","COMPLETE_STATE","firstTimeData","UserSetupSlidesController","goToUserSetupSettings","UserSetupService","schoolSelectForm","searchSchoolName","requestPending","isSchoolInputDisable","refreshSchools","registerSchool","searchSchool","sendSaveRequest","postUserSetup","userSetupRequestSuccess","isSubmitDisabled","$invalid","countryHasStates","stateIsSelected","requestParams","schoolsRequest","clearStateInput","clearSchoolInput","$setUntouched","userSetupResponse","trackMixpanel","educationalSystemSetup","ICountry","UserSetupSchoolSelectComponent","userSetupRequestBody","schoolCategories","DEFAULT_COUNTRY_CODE","schoolRegisterForm","schoolRequest","SchoolRequestBody","schoolRequestSuccess","schoolRequestFail","school_name","UserSetupRegisterSchoolComponent","$compileProvider","$locationProvider","$qProvider","ConfigProvider","$mdAriaProvider","$sceDelegateProvider","$urlServiceProvider","$sanitizeProvider","errorOnUnhandledRejections","disableWarnings","debugInfoEnabled","enableSvg","html5Mode","requireBase","deferIntercept","route","resourceUrlWhitelist","$trace","toggleObject","pathItem","delayForAnimation","UserInactive","SharedModule","IComponentController","MdMenuLabelComponent","$compile","refreshSelectAll","$viewChangeListeners","notifyChanges","isSelectedAll","dataSet","INgModelController","MdSelectAllComponent","ICompileService","isSingleView","AssignmentCourseSelectComponent","AssignmentGradeTextComponent","getIconName","getSvgSrc","getURL","SVG_WITHOUT_ASSESSMENT_CRITERIA","SVG_WORK_UNIT","getIconClass","iconClass","IAssignment","AssignmentIconTypeComponent","AssignmentStatusIconType","AssignmentStatusIconComponent","OPEN_ASSIGNMENT_POPUP","eventOpenAssignmentHandler","assignObjectives","subscription","preFetchAssignment","postponeAssigningObjectives","fetchAssignment","addAssignment","delayedRetry","classroom_name","AssignObjectivesPopupComponent","delayMilliseconds","maxRetry","mergeMap","typeOfFeedbackOverallLabel","hintGroupedVisibilityVisibility","hintGroupedVisibilityStudents","hintGroupedVisibilityCoursesSubjects","hintGroupedVisibilityFeedback","isAllCourseDefinitionsSelected","isAllStudentsSelected","isAllTypeOfFeedbackSelected","isAssignmentStudentView","typeOfFeedback","getIds","selectAllStudents","selectAllCourseDefinitions","selectAllTypeOfFeedback","setGroupedVisibilityFeedbackType","selectTypeOfFeedback","getVisibilityLabel","getStudentsSelectLabel","updateSelectionsAll","getCoursesSubjectsSelectLabel","getTypeOfFeedbackLabel","IGroupedVisibilitySettings","GroupedVisibilityComponent","IGroupedVisibilityService","popup","isVisible","refreshUrlStatus","onChangesObj","changedLink","HelpButtonComponent","HintDirective","instanceElement","instanceAttributes","buildCookieName","isCookieExists","isHintBoxVisible","transcludeHandler","$hintBox","increaseHintBoxCounter","addContentLock","addHintBox","attachHintBox","displayToggle","$contentLock","isContentActive","classNamePrefix","one","click","onGotItClick","decreaseHintBoxCounter","setHeight","attachTo","targetBounding","hintBoxBounding","cookieValue","contentActive","windowHeight","hintHeight","hintBox","fadeOut","fadeIn","contentLock","cookies","ICookiesService","$parse","findScrollableParent","parentElement","$observe","eventListener","mdDetectHidden","applyEvent","removeEvent","dataset","wasVisible","onScroll","dispatchEvent","Event","clientHeight","node","scrollHeight","TextareaDirective","IParseService","SharedFiltersModule","GetFormattedOrEmpty","HtmlToPlaintext","IconURL","iconName","normalizeIconName","iconPath","AutocompleteComponent","updateCourse","updateKnowledgeRequirementDescription","onBlur","stateObject","StudentCourseManagementComponent","CmStudentCoursesListComponent","CmStudentCourseDetailsComponent","CmStudentObjectivesComponent","IListViewMenuService","CmStudentObjectivesListComponent","CmStudentObjectivesToolbarComponent","curriculumObserver","openLibraryDialog","openSearchForCurriculumDialog","courseSettings","UPDATED_COURSES","openCreateCurriculumDialog","TeacherCourseManagementComponent","ICurriculumsService","createMode","createButtonEnabled","searchCourseText","searchCategories","searchFunction","searchType","searchCourse","search","convertToSearchParam","classroom_id","searchCategory","addCurriculum","courseToAdd","selectedItem","CLASSROOM","IMPORTED","libraryCurriculums","compareClassAndCurriculumSettings","showAddedToClassroomConfirm","curriculumData","updatedCurriculum","curriculumOnList","cur","sortCurriculumList","showMakeCurriculumPublicInMySchoolDialog","curriculumOnListIndex","findCurriculumOnListIndex","openCurriculumDetails","curriculumType","CmCurriculumLibraryComponent","IToastService","courseSetup","_","addNewObjective","openSaveCourseToLibraryDialog","newCourse","openEditCourseDialog","courseUpdated","CmTeacherCourseDetailsComponent","CmTeacherObjectivesComponent","updateObjectives","updateObjectivesHandler","deleteObjectivesHandler","COURSE_DELETED","onClickDelete","CmTeacherObjectivesListComponent","CmTeacherObjectivesToolbarComponent","selectedCurriculum","updateCoursesList","courseToUpdate","CmTeacherCoursesListComponent","CmEmptyObjectivesListComponent","AssignmentsModule","parentController","objectiveIdPath","triggerKnowledgeRequirements","objectiveKnowledgeRequirements","ObjectiveKnowledgeRequirementsDirective","StudentAssignmentTextareaComponent","isGradeDescriptionVisible","isGradeDescriptionEnable","storageKeyGradeDescription","updateObjectiveAssessmentProperty","objectiveAssignment","objective_assessments","isAssignmentConfigure","updateDescription","grade_texts","isGradeTextVisible","showGradeDescription","hideGradeDescription","StudentAssessAssignmentComponent","IFilterService","ThemeApply","studentAssignment","isSelectedAssignmentConfigure","StudentAssessAssignmentDriveComponent","assignmentsGroup","goToAssignmentDetails","StudentAssignmentsListComponent","assignmentsSort","DESC","assignmentFilterItem","filterType","sortAssignments","assignmentSortItem","isAssignmentSortSelected","stateSortUI","StudentAssignmentsComponent","not_assessable","assessable","IAssignmentGroupedResponse","StudentAssignmentsPublishedComponent","StudentAssignmentsNotConfiguredComponent","SingleCheckbox","AssignmentGroupCheckboxes","MainCtrl","TeacherAssessAssignmentService","AssessmentVisibilityDialogService","AssessmentsVisibilityDialogService","unsubscribes","savingIndicatorVisible","viewReady","AssignmentListService","navigationHistory","statusMenuItems","resultOnly","result_only","isConfigured","is_configured","assignment$","combineQueries","selectActive","asObject","debounceFinished$","debounceFinishedSub","updateLastEditTimestampForAssignment","changeObjectiveAssessments","updateObjectiveAssessmentsDates","changeAssignmentsObjectives","updateAssignmentsObjectivesDates","editMultipleAssignmentState","debounceObjectiveAssessments","debounceAssignmentsObjectives","matchEndpoint","dataToSave","currentEditingMode","responseAssessmentsArray","resAssessment","generateStructure","selectedCourseDefinition","getLastSelectedCourseDefinition","openStudentsDetailsInCourse","setTextForGradeSystem","defaultGradeTexts","getGradeText","currentObjective","_objective","historyBackClicked","toggleStudent","assignmentCourseChanged","courseDefinitionElem","courseDefinitionStudentElem","full_name","fetching_objectives","new_status","changeAssessmentStatus","assessmentVisibilityDialog","fetchingObjectives","studentElem","objectiveElem","courseDefinitionObjectiveElem","objective_name","clickStudent","loadView","checkIfAnyCheckboxIsChecked","anyCheckboxesChecked","assignmentCheckboxesCheckIfAny","checkboxCheckIfAny","checkEditMultiple","changesToSave","textField","saveEditMultiple","findSelectedItems","changeMultipleTexts","changeMultipleGrades","changeMultipleVisible","clearEditMultiple","textMode","closeEditMultiple","textProperty","findTextPropoerty","itemElem","oldValue","visibilityMode","visibilityProperty","findVisibilityPropoerty","grade_system_is_counter","showChangesDialog","triggerType","openActionMenu","$mdOpenMenu","editScalesAndObjectivesOption","firstTime","groupedVisibilitySettings","_student","getGradeDescription","checkboxSingle","checkboxCheckAll","checkboxAll","every","clearCheckbox","assignmentCheckboxesSingle","itemsInGroup","groupCheckboxChecked","assignmentCheckboxesCheckAll","assignmentCheckboxesGroup","assignmentCheckboxesAll","checkboxesChecked","assignmentClearCheckboxes","objectives_feedback","results","objectives_private_notes","overall_private_notes","accCoursesDefinitions","accStudents","AssignmentSingleCheckboxes","TeacherAssessAssignmentDriveService","selectedStatus","subscriptions","studentEditMultiple","statusChange","updateStatus$","inherit","notify","changeAssignmentAssessments","updateAssignmentAssessmentsDates","responseObjectiveAssessmentsArray","resObjectiveAssessment","responseAssignmentAssessmentsArray","studentEditingMode","currentStudentEditingMode","changeAssignment","extractObjectiveAssessments","TeacherAssessAssignmentStudentService","studentSelect","debounceAssignmentsAssessments","changeStudent","assignmentAssessmentFetching","fetchObjectiveAssessments","objectiveAssessmentFetching","resObjective","goToAssessCourseOption","isGradeTextMenuVisible","$from","AddToHistoryTeacherAssessAssignmentStudent","AddToHistoryTeacherSetAssignmentObjectives","AddToHistoryTeacherAssessAssignment","goToAssessAssignment","TeacherAssessmentsListComponent","goToEditAssignmentCriteria","TeacherAssignmentsDraftsListComponent","openedAssignments$","toggleOpen","toggleAssignment","goToChangeVisibility","changeVisibility","updateAssignmentsOpenState","TeacherAssignmentsListComponent","ITeacherAssignmentsService","assessmentsSort","assessmentSortItem","isAssessmentSortSelected","TeacherAssignmentsComponent","closeAssignment","openedAssignments","_assignmentId","openAssignment","responses","assessmentStudentId","getRequestParams","savedStates","TeacherAssignmentsDraftsComponent","TeacherAssignmentsNotConfiguredComponent","TeacherAssignmentsPublishedComponent","assignmentInformation","TeacherSetAssignmentObjectivesService","isFirstTime","gradeTextSettings","isEnable","isEnableForStudents","lastSelectedScaleId","selectedType","getSelectedObjectivesId","counters","getFlatObjectivesCounters","typeOfAssignments","typeOfAssignment","createListOfSelected","setDefaultGradeSystem","validationForm","$setSubmitted","scaleSelect","getConfirmationType","AssignConfirmationType","GRADE_SYSTEM","OBJECTIVES","ASSIGNMENT_TYPE","CHANGE_COUNTER_VALUE","GRADE_TEXT_SETTINGS","updateGradeTextSettings","getAssignmentTypePlaceholder","preSelectedGradeSystem","defaultGradeSystem","getStoredGradeSystemId","is_chosen","grade_texts_present","accCD","accO","changeScale","validChanges","toggleObjective","validCounters","countersTest","counterElem","selectedObjectiveElem","setStoredGradeSystemId","assignConfirmation","assignment_objectives","studybee_type","assignSuccess","confirmationType","closeDialog","confirmChanges","hideExtensionOnAssign","ngDisabled","$setViewValue","ObjectiveGradeTextVisibilitySettingsComponent","localStorageGradeSystemIdKey","createMuiTheme","palette","ReactApp","setShowObjectiveDetails","currentView","setCurrentView","assignmentSort","setAssignmentSort","visibilityDialogData","drawerOpen","setDrawerOpen","setUser","syncText","setSyncText","changeToAssignmentView","navigation","aMethod","u","newView","App","ChangeVisibilityDialog","ChangeAssessmentsDialog","spacings","smallest","small","large","largest","dialogStyle","contentStyle","overlayStyle","arrowStyle","Quill","formats","bold","italic","ngQuillConfig","validateFormats","checkFormats","toolbarEntries","errorClass","ngModelController","ngQuillService","editor","changed","settingWithEditor","hasFocus","setClass","modelLength","setChanges","previousValue","setContents","setHTML","dict","shouldShow","deregister","$setTouched","addModule","toolbarCreated","showToolbar","getModule","oldChange","setValue","getLength","getText","getContents","getHTML","focusout","focusin","$templateCache"],"mappings":";aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAKlC,IAFGe,GAAqBA,EAAoBhB,GAEtCO,EAASC,QACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrBiB,EAAG,GAGAZ,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU8B,QAGnC,IAAIC,EAASH,EAAiB5B,GAAY,CACzCK,EAAGL,EACHgC,GAAG,EACHF,QAAS,IAUV,OANAhB,EAAQd,GAAUW,KAAKoB,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG/DK,EAAOC,GAAI,EAGJD,EAAOD,QAKfJ,EAAoBO,EAAInB,EAGxBY,EAAoBQ,EAAIN,EAGxBF,EAAoBS,EAAI,SAASL,EAASM,EAAMC,GAC3CX,EAAoBY,EAAER,EAASM,IAClC5B,OAAO+B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEX,EAAoBgB,EAAI,SAASZ,GACX,oBAAXa,QAA0BA,OAAOC,aAC1CpC,OAAO+B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DrC,OAAO+B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKzC,OAAO0C,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBzC,OAAO+B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBS,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAL,EAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASgB,EAAQC,GAAY,OAAO/C,OAAOC,UAAUC,eAAeC,KAAK2C,EAAQC,IAGzG7B,EAAoB8B,EAAI,GAExB,IAAIC,EAAaC,OAAqB,aAAIA,OAAqB,cAAK,GAChEC,EAAmBF,EAAW5C,KAAKuC,KAAKK,GAC5CA,EAAW5C,KAAOf,EAClB2D,EAAaA,EAAWG,QACxB,IAAI,IAAIvD,EAAI,EAAGA,EAAIoD,EAAWlD,OAAQF,IAAKP,EAAqB2D,EAAWpD,IAC3E,IAAIU,EAAsB4C,EAI1B1C,EAAgBJ,KAAK,CAAC,IAAI,IAEnBM,I,8FCvJT,4BAME,EAAA0C,OANK,UACP,gCAKU,EAAAC,MALH,UACP,iCAIiB,EAAAC,MAJV,UACP,iCAGwB,EAAAC,OAHjB,W,+ECHP,IAEIC,EAFEC,EAAU,EAAQ,KA0BxBD,EAvBoB,WAClB,GAAIA,EACF,OAAOA,EAWTA,GAPEA,EAFEP,OAAOS,UAAUC,UAERV,OAAOS,UAAUC,UAAU,GAE3BV,OAAOS,UAAUE,cAAgBX,OAAOS,UAAUF,UAK3CK,MAAM,KAAK,GAE/B,IAEE,OAAO,OAAQ,KAAcL,EAAQ,kBACrC,MAAOM,GAEP,OADAC,QAAQC,IAAI,WAAWR,EAAQ,iBACxBC,GAGAQ,GAKT,EAAAC,eAHqB,SAACC,GAAU,OAAAX,EAASW,GAAOC,SAAWX,EAAQU,GAAOC,U,s3DCF/DC,EAAY,YACZC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAqB,qBAErBC,EAAgBC,IAAMC,gBAEtBC,EAAsB,SAACC,GAClC,OAAIC,EAAQC,IAAIC,qBACPC,aAAaC,QAAQL,GAEvB,IAAIM,SAAQ,SAACC,GAAD,OAAaC,OAAOC,QAAQC,KAAKvD,IAAI6C,GAAY,SAAClE,GACnEyE,EAAQzE,EAAOkE,WAINW,EAAoB,SAACX,EAAYvF,GAC5C,GAAIwF,EAAQC,IAAIC,qBACd,OAAOC,aAAaQ,QAAQZ,EAAYvF,GAE1C,IAAMoC,EAAI,GAEV,OADAA,EAAEmD,GAAcvF,EACT+F,OAAOC,QAAQC,KAAKG,IAAIhE,IAG3BiE,EAAW,kBAAM,IAAIR,SAAQ,SAACC,EAASQ,GAC3CP,OAAOQ,QAAQC,YAAY,CAACC,OAAQ,aAAa,SAACC,GAC3CA,EAGHZ,EAAQY,GAFRJ,WAOAK,EAAiB,WACrB,GAAInB,EAAQC,IAAIC,qBAMd,MAAO,mBAST,IAAMrE,EAAS,mBAAmBuF,KAAKjD,OAAOkD,SAASC,MACvD,OAAOzF,EAASA,EAAO,GAAK,MAGxB0F,EAAmB,SAAC,GAAoD,IAAnDC,EAAmD,EAAnDA,OAAmD,IAA3CC,aAA2C,MAAnC,CAACC,OAAO,OAAQC,MAAM,QAAa,EAC5E,OAAQH,GACN,KAAKjC,EACH,OAAQ,kBAAC,IAAD,CAAMqC,KAAMC,IAAgBJ,MAAOA,EAAOK,gBAAiB,IACrE,KAAKtC,EACH,OAAQ,kBAAC,IAAD,CAAMoC,KAAMG,IAAoBN,MAAOA,EAAOK,gBAAiB,IACzE,KAAKpC,EACH,OAAQ,kBAAC,IAAD,CAAMkC,KAAMI,IAAuBP,MAAOA,EAAOK,gBAAiB,IAC5E,KAAKrC,EAEL,QACE,OAAQ,kBAAC,IAAD,CAAMmC,KAAMK,IAAmBR,MAAOA,EAAOK,gBAAiB,OAGtEI,EAAgB9C,yBAAe,aAC/B+C,EAAoB/C,yBAAe,kBACnCgD,EAAmBhD,yBAAe,iBAClCiD,EAAuBjD,yBAAe,sBACtCkD,EAAyB,SAACC,GAC9B,OAAQA,GACN,KAAKhD,EACH,OAAO2C,EACT,KAAK1C,EACH,OAAO2C,EACT,KAAK1C,EACH,OAAO2C,EACT,KAAK1C,EACH,OAAO2C,EACT,QACE,OAAOD,IAIPI,EAAoB,SAAC,GAAuD,IAAtDhB,EAAsD,EAAtDA,OAAsD,IAA9CiB,eAA8C,aAA7BhB,aAA6B,MAArB,CAACC,OAAO,QAAa,EAChF,OAAQF,GACN,IA5FiB,eA6Ff,OAAO,kBAAC,IAAD,CAAMI,KAAMc,IAAcjB,MAAOA,EAAOK,gBAAiB,KAClE,IAhGoB,kBAiGlB,OACE,yBAAKL,MAAO,CAACkB,SAAU,aACrB,kBAAC,IAAD,CAAMf,KAAMgB,IAAWnB,MAAOA,EAAOK,gBAAiB,IACrDW,GACC,kBAAC,IAAD,CAAMb,KAAMiB,IAAcpB,MAAO,CAACkB,SAAU,WAAYG,KAAM,OAAQC,OAAQ,UAItF,IAxGc,YAyGZ,OAAO,kBAAC,IAAD,CAAMnB,KAAMoB,IAAgBvB,MAAOA,EAAOK,gBAAiB,IACpE,QACE,OAAO,kBAAC,IAAD,CAAMF,KAAMc,IAAcjB,MAAOA,EAAOK,gBAAiB,OAIhEmB,EAA+B,SAACC,EAAK9G,GAAN,OAAY8G,EAC9CC,KAAI,SAACC,GAAD,2BAAC,eACDA,GADA,IAEHC,WAAW,UAAAD,EAAEE,oBAAF,eAAgBvE,MAAM,KAAK,KAAMqE,EAAEG,WAC9CC,UAAU,UAAAJ,EAAEE,oBAAF,eAAgBvE,MAAM,KAAK,KAAMqE,EAAEK,eAE9CC,MAAK,SAACN,EAAGO,GACR,MAAU,cAANvH,EACKgH,EAAEC,UAAUO,cAAcD,EAAEN,WAE9BD,EAAEI,SAASI,cAAcD,EAAEH,cAGhCK,EAAkB,SAACC,GAgBvB,OAdKA,EAGMC,MAASC,OAAOF,EAAkB,OAE9BC,IAAOD,GAAkBG,OAAO,QACpCF,MAASC,OAAOF,EAAkB,QAE9BC,IAAOD,GAAkBG,OAAO,SAGhCF,IAAOD,GAAkBG,OAAO,cAThC,IAYGC,qBAGdC,EAAuB,uCAAG,sBAAAf,EAAA,+EAAYtD,EAAoB,gBAAhC,2CAAH,qDACvBsE,EAAuB,uCAAG,WAAOC,GAAP,SAAAjB,EAAA,+EAAkB1C,EAAkB,cAAe2D,IAAnD,2CAAH,sDAEvBC,EAA0B,uCAAG,sBAAAlB,EAAA,+EAAYtD,EAAoB,mBAAhC,2CAAH,qDAC1ByE,EAA0B,uCAAG,WAAOF,GAAP,SAAAjB,EAAA,+EAAkB1C,EAAkB,iBAAkB2D,IAAtD,2CAAH,sDAE1BG,EAA2B,uCAAG,4BAAApB,EAAA,2DAC5BqB,EAAU3E,EAAoB,2BACrBE,EAAQC,IAAIC,qBAFO,yCAGzBuE,EAAQ1F,MAAM,MAHW,gCAK3B0F,GAL2B,2CAAH,qDAO3BC,GAA2B,uCAAG,WAAOD,GAAP,SAAArB,EAAA,+EAAmB1C,EAAkB,uBAAwB+D,IAA7D,2CAAH,sDAE3BE,GAAiC,uCAAG,WAAOC,GAAP,eAAAxB,EAAA,sEAClBtD,EAAoB,cAAD,OAAe8E,IADhB,YAClCC,EADkC,UAEzB7E,EAAQC,IAAIC,qBAFa,yCAG/B2E,EAAQ9F,MAAM,MAHiB,gCAKjC8F,GALiC,2CAAH,sDAQjCC,GAAoC,SAACF,EAAcC,GAAf,OAA2BnE,EAAkB,cAAD,OAAekE,GAAgBC,IAE/GE,GAA2B,SAACC,GAAD,OAAWtE,EAAkB,YAAasE,IAErEC,GAAyB,WAC7B,OAAIjF,EAAQC,IAAIC,qBACPgF,SAASpF,EAAoB,aAAc,IAE7CA,EAAoB,cAGvBqF,GAAuB,SAACC,GAC5B,IAAKA,EACH,MAAO,GAET,IAAMC,EAAoBD,EACtBA,EAAYE,OAAOnC,KAAI,SAACoC,EAAGzK,GAAJ,MAAW,CAClCwC,MAAOxC,EAAI,EACXuE,MAAOkG,EAAElG,MACTmG,MAAOD,EAAEC,MACT3I,KAAM0I,EAAE1I,KACR4I,GAAIF,EAAEE,OAEN,GAQJ,OAPAJ,EAAkBK,QAAQ,CACxBpI,MAAO,EACP+B,MAAO,GACPmG,MAAOlH,SAAOqH,YACd9I,KAAM,GACN4I,GAAI,IAECJ,GAGHO,GAAoB,SAACC,GACzB,IAAMpE,EAAQ,CACZ+D,MAAOlH,SAAOwH,MACdC,gBAAiBzH,SAAO0H,MACxBC,QAAS,MACTC,aAAc,OACdC,YAAa,MACbzE,OAAQ,OACRC,MAAO,QAGT,IAAKkE,EAAWO,UACd,OAAIP,EAAWQ,SACN,kBAAC,IAAD,CAAMzE,KAAM0E,IAAkB7E,MAAK,2BAAMA,GAAN,IAAasE,gBAAiBzH,SAAOiI,WAAWzE,gBAAiB,IAEtG,kBAAC,IAAD,CAAMF,KAAM4E,IAAiB/E,MAAK,2BAAMA,GAAN,IAAasE,gBAAiBzH,SAAOiI,WAAWzE,gBAAiB,IAG5G,GAAI+D,EAAWQ,SACb,OACE,yBAAK5E,MAAK,2BAAMA,GAAN,IAAasE,gBAAiBzH,SAAOmI,MAAOC,WAAW,SAAUC,eAAe,SAAUC,QAAQ,UAC1G,kBAAC,IAAD,CAAMhF,KAAMiF,IAAYpF,MAAO,CAACE,MAAO,OAAQD,OAAQ,QAASI,gBAAiB,KAKvF,GAAI+D,EAAWiB,0BACb,OACE,kBAAC,IAAD,CAAMlF,KAAM4E,IAAiB/E,MAAK,2BAAMA,GAAN,IAAasE,gBAAiBzH,SAAOiI,WAAWzE,gBAAiB,IAIvG,GAAmC,cAA/B+D,EAAWkB,gBACb,OACE,kBAAC,IAAD,CAAMnF,KAAMoF,IAAevF,MAAK,2BAAMA,GAAN,IAAasE,gBAAiBzH,SAAO2I,MAAMnF,gBAAiB,IAIhG,OAAQ+D,EAAWqB,UACjB,IAAK,aACH,OACE,kBAAC,IAAD,CACEpF,gBAAiB,EACjBF,KAAMuF,IAAiB1F,MAAK,2BACzBA,GADyB,IAE5BsE,gBACuB,cAArBF,EAAWtD,MAAwBjE,SAAO0H,MAAQ1H,SAAO8I,UAIjE,IAAK,wBACH,OAAO,kBAAC,IAAD,CAAU3F,MAAOA,IAC1B,QACE,OAAQ,kBAAC,IAAD,CACNK,gBAAiB,EACjBF,KAAMuF,IAAiB1F,MAAK,2BACzBA,GADyB,IAE5BsE,gBACuB,cAArBF,EAAWtD,MAAwBjE,SAAO0H,MAAQ1H,SAAO8I,YAK7DC,GAAWjI,yBAAe,mCAC1BkI,GAAelI,yBAAe,8BAC9BmI,GAAkBnI,yBAAe,gCAEjCoI,GAAgB,SAAChG,GACrB,OAAQA,GACN,IA9QoB,kBA+QlB,OAAO6F,GACT,IA/Qc,YAgRZ,OAAOC,GACT,IAhRiB,eAiRf,OAAOC,GACT,QACE,MAAO,KAIPE,GAA8B,SAACC,EAAaC,GAChD,IAAIC,EAAW,YAAIF,GAkBnB,OAjBAE,EAASC,SAAQ,SAACzE,GAAM,MACtBA,EAAEsE,YAAF,UAAgBtE,EAAEsE,mBAAlB,aAAgB,EAAeI,QAAO,SAACC,GACrC,IAAMC,EAAOD,EAAGE,kBAAkBD,MAAK,SAACrL,GAAD,OAAOA,EAAE8I,KAAOkC,KACjDhE,EAAoC,IAAhCoE,EAAGE,kBAAkBjN,OAC/B,OAAOgN,GAAQrE,QAInBiE,EAAWF,EAAYI,QAAO,SAAC1E,GAC7B,IAGgB,EAHV4E,EAAO5E,EAAE6E,kBAAkBD,MAAK,SAACrL,GAAD,OAAOA,EAAE8I,KAAOkC,KAChDhE,EAAmC,IAA/BP,EAAE6E,kBAAkBjN,OACxBoL,EAAY4B,GAAQrE,EAC1B,OAAKyC,IACI,UAAAhD,EAAEsE,mBAAF,eAAe1M,QAAS,MAO/BkN,GAA+B,SAACR,EAAaS,GAAgB,MAC7DP,EAAW,YAAIF,GAWnB,OAVAE,EAASC,SAAQ,SAACO,GAAM,MACtBA,EAAEV,YAAcU,aAAhB,YAAgBA,EAAGV,mBAAnB,aAAgB,EAAgBI,QAAO,SAAC1E,GAAD,aAAOA,EAAEgD,YAAF,UAAehD,EAAEiF,4BAAjB,aAAe,EAAwBL,MAAK,SAACjL,GAAD,OAAOA,EAAEuL,eAAiBH,YAGtHP,EAAQ,UAAGA,SAAH,aAAG,EAAUE,QAAO,SAAC1E,GAAM,QAIjC,OAHkBA,aAAH,YAAGA,EAAGiF,4BAAN,aAAG,EAAyBL,MACzC,SAACjL,GAAD,OAAOA,EAAEuL,eAAiBH,QAER/E,aAAA,YAAAA,EAAGsE,mBAAH,eAAgB1M,QAAS,MAK3CuN,GAAqB,SAACC,EAAWC,GACrC,OAAQD,GACN,KAAKE,IAAeC,UAClB,OAAO,EACT,KAAKD,IAAeE,aAClB,OAAO,EACT,KAAKF,IAAeG,WAEpB,QACE,OAAOJ,K,mEC7Vb,oBAWeK,IARC,SAAC,GAAsB,IAArBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,SACvB,OACE,wBAAID,MAAOA,GACRC,M,qFCNP,E,KAAA,uBAGa,EAAAC,UAAiD,SAACxE,GAiC7D,OAAO,SAAwCyE,GAC7C,IAAM1M,EAhC0C,WAChD,IACIA,EAEJ,GAAIiI,EAAQjI,OACV,IACEA,EAAS,UAAQA,OAAO,GAAGiI,EAAQjI,QACnC,MAAO2M,GACP3M,EAAS,KAIb,IAAKA,EACH,IACEA,EAAS,UAAQA,OAbM,OAcvB,MAAO2M,GACPlK,QAAQmK,MAAM,+BAA+B3E,EAAQ4E,SAAQ,4CAAiEF,GAC9H3M,EAAS,KAIb,OAAOA,EAWiB8M,GAClBC,EAAgDL,EAAYhO,UAAUsO,YAAc,GACpFC,EAA4CP,EAAYhO,UAAUwO,WAAa,GAMrF,GAJKjF,EAAQkF,aACXlF,EAAQkF,WAAaT,GAGnB1M,EAAQ,CACV,IAAM6M,EAjBgD,SAACA,GACzD,OAAOA,EAASO,QACd,aACA,SAACC,GAAyB,OAAAA,EAAK,GAAGC,iBAcTC,CAAoBtF,EAAQ4E,UACrD7M,EAAOwN,UAAUX,EAAU,UAAQY,MAAM,GAAIxF,EAAS,CAAE8E,SAAQ,EAAEE,QAAO,KAG3E,WACSP,EAAYhO,UAAUsO,kBACtBN,EAAYhO,UAAUwO,UAC7B,UAGF,OAAOR,K,qFCxDX,E,KAAA,uBAGa,EAAAgB,MAAqG,SAACzF,GACjH,OAAO,SAACvJ,EAA0C8C,G,MAC1CmM,EAAkC,UAAQF,MAAM,GAAI,CACxDG,MAAO,GACPC,eAAe,EACfC,YAAY,EACZC,UAAU,EACVC,QAAQ,GACP/F,GACGgG,GAAgCN,EAASK,OAAS,IAAML,EAASE,cAAgB,IAAM,MAAMF,EAASG,aAAeH,EAASK,OAAS,IAAM,KAAKL,EAASI,SAAW,IAAM,IAAKJ,EAASC,MAC1LM,IAAO,MAAsC1M,GAAWyM,EAAkB,GAC5EjB,EAAkDtO,EAAUsO,YAAc,GAE9EA,EAAa,UAAQS,MAAM,GAAIT,EAAYkB,GAC3CzP,OAAO0P,OAAOzP,EAAW,CAAEsO,WAAU,O,oFCZzC,SAAYoB,GACV,gCACA,gDACA,sGAEA,oGAEA,gCACA,wDACA,8CACA,oDAEA,4CACA,gEACA,sDACA,oCACA,yCACA,4CACA,kCACA,kCAEA,+CACA,iDAtBF,CAAY,EAAAA,SAAA,EAAAA,OAAM,M,uECiBHC,oBAhBF,SAAC,GAA8D,IAA7DjJ,EAA6D,EAA7DA,KAA6D,IAAvDH,aAAuD,MAA/C,GAA+C,MAA3CqJ,cAA2C,aAA5BhJ,uBAA4B,MAAV,KAAU,EACtEiJ,EAAMnJ,EACNoJ,EAAUF,EAJM,GADE,IAUtB,GAJIhJ,IACFkJ,EAAUlJ,IAGP9B,EAAQC,IAAIC,qBAAsB,CACrC,IAAI+K,EAAWrJ,EAAKvD,MAAMuD,EAAKsJ,QAAQ,KAAK,GAC5CH,EAAM,sBAAH,OAAyBxK,OAAOQ,QAAQ0E,GAAxC,uBAAyDwF,GAE9D,OACE,yBAAKF,IAAKA,EAAKtJ,MAAK,2BAAMA,GAAN,IAAauJ,QAASA,Y,8ICdjCtC,EAAiB,CAC5BG,WAAY,cACZD,aAAc,gBACdD,UAAW,aAGPwC,EAAkB,SAAC7N,EAAO8N,GAC9B,GAAqB,iBAAV9N,EACT,OAAOA,EAET,IAAM+N,EAAO/N,EAAQoL,EAAeC,UAAYD,EAAeE,aAC/D,OAAIwC,EACK1C,EAAeG,WAEjBwC,GAmDMC,IAhDK,SAACC,GAAU,IACXC,EAA2ED,EAAtF5C,UAAyB8C,EAA6DF,EAA7DE,QAAShK,EAAoD8J,EAApD9J,MAAOiK,EAA6CH,EAA7CG,UADnB,EACgEH,EAAlCH,iBAD9B,WACgEG,EAAfI,YADjD,MACwD,KADxD,IAEeC,qBAFf,mBAEtBC,EAFsB,KAENC,EAFM,KAI7BC,qBAAU,WACRD,EAAkBX,EAAgBK,EAAcJ,MAC/C,CAACI,IAEJO,qBAAU,WACRD,EAAkBX,EAAgBK,EAAcJ,MAC/C,CAACA,IAuBJ,OACE,yBAAKK,QAtBS,WACd,IAAIO,EACJ,OAAQH,GACN,KAAKnD,EAAeE,aAClBoD,EAAWtD,EAAeC,UAC1B,MACF,KAAKD,EAAeC,UAClBqD,EAAWZ,EAAY1C,EAAeG,WAAaH,EAAeE,aAClE,MACF,KAAKF,EAAeG,WAClBmD,EAAWtD,EAAeE,aAG9BkD,EAAkBE,GAEhBP,EADEL,EACMY,EAEAA,IAAatD,EAAeC,YAKflH,MAAK,aAAGwK,OAAQ,UAAWC,OAAQ,IAAKC,WAAY,QAAW1K,IACpF,kBAAC,IAAD,CACE2K,QAASP,EACTF,KAAMA,EACNlK,MAAK,aACH+D,MAAOqG,IAAmBnD,EAAeC,UAAYrK,SAAO0H,MAAQ1H,SAAO+N,SAC3EC,OAAQ,mBACLZ,Q,mFC9Db,E,KAAA,uBAGa,EAAAa,QAA8C,SAAC9H,GA0B1D,OAAO,SAAwCyE,GAC7C,IAAM1M,EAzBwC,WAC9C,IACIA,EAEJ,GAAIiI,EAAQjI,OACV,IACEA,EAAS,UAAQA,OAAO,GAAGiI,EAAQjI,QACnC,MAAO2M,GACP3M,EAAS,KAIb,IAAKA,EACH,IACEA,EAAS,UAAQA,OAbM,OAcvB,MAAO2M,GACPlK,QAAQmK,MAAM,6BAA6B3E,EAAQ5H,KAAI,4CAAiEsM,GACxH3M,EAAS,KAIb,OAAOA,EAIiBgQ,GAMxB,OAJIhQ,GACFA,EAAOiQ,QAAQhI,EAAQ5H,KAAMqM,GAGxBA,K,mECTIwD,EAzBa,WAC1B,IAAMC,EAAsB,WAAM,MACmBxO,OACnD,MAAO,CACLwD,MAH8B,EACxBiL,WAGNlL,OAJ8B,EACLmL,cAFG,EASgBjB,mBAC9Ce,KAV8B,mBASzBG,EATyB,KASPC,EATO,KAsBhC,OATAhB,qBAAU,WACR,SAASiB,IACPD,EAAoBJ,KAItB,OADAxO,OAAO8O,iBAAiB,SAAUD,GAC3B,kBAAM7O,OAAO+O,oBAAoB,SAAUF,MACjD,IAEIF,GCtBM,SAASK,EAAYC,GAAK,MACGxB,oBAAS,GADZ,mBAChCyB,EADgC,KAChBC,EADgB,KAGjCC,EAAW,IAAIC,sBAAqB,gBAAEC,EAAF,2BAAaH,EAAgBG,EAAMJ,mBAU7E,OARAtB,qBAAU,WAGR,OAFAwB,EAASG,QAAQN,EAAIO,SAEd,WACLJ,EAASK,gBAEV,IAEIP,ECbT,IAAMQ,EAA8B,oBAAX1P,OAEzB,SAAS2P,EAAT,GAAmD,IAAtBC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UACpC,IAAKH,EAAW,MAAO,CAAEI,EAAG,EAAGC,EAAG,GAElC,IACMvL,GADSoL,EAAUA,EAAQJ,QAAUQ,SAASC,MAC5BC,wBAExB,OAAOL,EACH,CAAEC,EAAG9P,OAAOmQ,QAASJ,EAAG/P,OAAOoQ,SAC/B,CAAEN,EAAGtL,EAASG,KAAMoL,EAAGvL,EAAS6L,KAGvB,SAASC,EAAkBC,EAAQC,EAAMZ,EAASC,EAAWY,GAC1E,IAAMjM,EAAWkM,iBAAOf,EAAkB,CAAEE,eAExCc,EAAkB,KAEhBC,EAAW,WACf,IAAMC,EAAUlB,EAAkB,CAAEC,UAASC,cAC7CU,EAAO,CAAEO,QAAStM,EAASgL,QAASqB,YACpCrM,EAASgL,QAAUqB,EACnBF,EAAkB,MAGpBI,2BAAgB,WACd,IAAMC,EAAe,WACfP,EACsB,OAApBE,IACFA,EAAkBM,WAAWL,EAAUH,IAGzCG,KAMJ,OAFA5Q,OAAO8O,iBAAiB,SAAUkC,GAE3B,kBAAMhR,OAAO+O,oBAAoB,SAAUiC,MACjDR,GCzCL,8L,kGCOMU,EAAeC,YAAW,CAC9BC,KAAM,CACJ,uCACKhR,QAAMiR,QAEX,sCACKjR,QAAMkR,OAEX,sBAAuB,CACrBjK,MAAOlH,SAAO0H,OAEhB,8BAA+B,CAC7B0J,kBAAmBpR,SAAO0H,SAZXsJ,CAelBK,KAwFY9E,oBAtFO,SAACU,GAAU,IAEvBqE,EAcJrE,EAdFsE,KACAC,EAaEvE,EAbFuE,YACAC,EAYExE,EAZFwE,QACAC,EAWEzE,EAXFyE,aAL6B,EAgB3BzE,EAVF0E,gBAN6B,WAgB3B1E,EATF5C,iBAP6B,SAQ7BuH,EAQE3E,EARF2E,UACAzK,EAOE8F,EAPF9F,GACA0K,EAME5E,EANF4E,WACA1O,EAKE8J,EALF9J,MACA2O,EAIE7E,EAJF6E,WACAC,EAGE9E,EAHF8E,KACAC,EAEE/E,EAFF+E,YAd6B,EAgB3B/E,EADFH,iBAf6B,WAkBPQ,mBAASgE,GAlBF,mBAkBxBC,EAlBwB,KAkBlBU,EAlBkB,OAmBD3E,oBAAS,GAnBR,mBAmBf4E,GAnBe,WAqB/BzE,qBAAU,WACRwE,EAAQX,KACP,CAACA,IAcJ,OACE,yBACEnO,MAAK,aACHmF,QAAS,OACT6J,aAAc,OACdC,UAAW,OACXC,cAAe,SACfjK,WAAY,cACTjF,IAIL,yBAAKA,MAAO,CAACmF,QAAS,OAAQjF,MAAO,OAAQ+E,WAAY,WACvD,kBAAC2I,EAAD,CACEgB,KAAMA,EACNO,aAAc,kBAAMJ,GAAW,IAC/BK,aAAc,kBAAML,GAAW,IAC/BnR,MAAOyQ,EACPrO,MAAO,CAACE,MAAO,QACfmP,SA/BY,SAAC,GAAa,IAClBC,EADkB,EAAZC,OACb1T,MACPiT,EAAQQ,GACRf,EAAae,EAAKtL,EAAI0K,IA6BhB7S,MAAOuS,GAAQ,GACfoB,SAAUhB,EACViB,WAAS,EACTd,WACE,0BACE3O,MAAK,2BACAlD,QAAM4S,MADN,IAEH3L,MAAOlH,SAAO+N,SACd1J,SAAU,WACVyO,MAAO,KAGAhB,MAIbL,GACA,kBAAC,IAAD,CACEpE,KAAM,GACNP,UAAWA,EAAWzC,UAAWA,EACjC8C,QA9Ce,SAACnO,GACpB4S,GACFA,EAAUzK,EAAInI,EAAO6S,OA+CpBG,IAAeT,aAAA,EAAAA,EAAM7U,QAAS,GAC/B,0BAAMyG,MAAK,2BAAMlD,QAAMkR,OAAZ,IAAmBjK,MAAOlH,SAAO2I,OAAOqJ,Q,6DCjF1Ce,IAtBF,SAAC9F,GAAU,IACdvC,EAAoBuC,EAApBvC,SAAUvH,EAAU8J,EAAV9J,MAElB,OACE,yBACEA,MAAK,aACHmF,QAAS,OACT+J,cAAe,SACf5K,gBAAiB,OACjBhD,OAAQ,iBACRkD,QAAS,sBACTC,aAAc,MACdoL,UAAW,+BACX3K,eAAgB,gBACblF,IAGJuH,M,kCCnBP,0DAuBe6B,oBAlBO,SAAC,GAAkD,IAAjDlC,EAAiD,EAAjDA,UAAWmC,EAAsC,EAAtCA,OAAsC,IAA9BhF,aAA8B,aAAf6F,YAAe,MAAR,GAAQ,EACnED,EAAY,CAAClG,MAAOlH,IAAOiT,OAU/B,OATA7F,EAAU/J,MAAV,UAAqBgK,EAArB,MACAD,EAAUhK,OAAV,UAAsBiK,EAAtB,MACGhD,IACD+C,EAAUlG,MAAQlH,IAAO0H,OAEvBF,IACF4F,EAAUlG,MAAQlH,IAAOwH,OAGvB6C,EACK,kBAAC,IAAD,CAAYlH,MAAOiK,IAEnB,kBAAC,IAAD,CAAejK,MAAOiK,EAAWV,QAASF,EAAS,GAAM,S,yFCnBpE,2BAEa,EAAA0G,qBAAgC,UAAQhV,OAAO,sBAAuB,IAEnF,UAAe,EAAAgV,qBAAqB3U,KAEpC,0BACA,0BACA,0BACA,yBACA,yBACA,yBACA,yBACA,yBACA,0BACA,yBACA,yBACA,yBACA,0BACA,0BACA,yBACA,2B,gECFe4U,IAhBA,SAAC,GAAD,IAAG1I,EAAH,EAAGA,MAAH,IAAUtH,aAAV,MAAkB,GAAlB,SACX,uBACEA,MAAK,2BACAlD,QAAMkR,OADN,IAEH1J,gBAAiBzH,SAAO0H,MACxBY,QAAS,OACT8K,KAAM,EACNzL,QAAS,sBACTT,MAAOlH,SAAOwH,MACdI,aAAc,OACXzE,IAGJsH,M,8EChBP,SAAY4I,GACV,yCACA,uBACA,2CACA,sDACA,gCALF,CAAY,EAAAA,eAAA,EAAAA,aAAY,M,yFCKxB,2BACA,2BAEA,OACA,aACA,SACA,SACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAEa,EAAAC,4BAAuC,UACjDpV,OAAO,wBAAyB,CAC/B,WACA,YAEDwN,UAAU,wBAAyB,EAAA6H,gCACnC7H,UAAU,eAAgB,EAAA8H,uBAC1B9H,UAAU,iBAAkB,EAAA+H,yBAC5B/H,UAAU,mBAAoB,EAAAgI,kBAC9BhI,UAAU,kBAAmB,EAAAiI,iBAC7BjI,UAAU,oBAAqB,EAAAkI,mBAC/BlI,UAAU,gBAAiB,EAAAmI,eAC3BnI,UAAU,YAAa,EAAAoI,WACvBpI,UAAU,sBAAuB,EAAAqI,qBACjCrI,UAAU,uBAAwB,EAAAsI,sBAClCtI,UAAU,sBAAuB,EAAAuI,qBACjCvI,UAAU,wBAAyB,EAAAwI,gCACnC/F,QAAQ,wBAAyB,EAAAgG,uBACjChG,QAAQ,wBAAyB,EAAAiG,uBACjCC,OAAO,EAAAC,cAEV,UAAe,EAAAhB,4BAA4B/U,KAE3C,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,2B,yFC7DA,OACA,QACA,QAEA,SACA,SACA,QAKA,aAEE,WAAsBgW,EAAgCC,EAA8CC,GAA9E,KAAAF,YAAgC,KAAAC,mBAA8C,KAAAC,iB,UAgDtG,OA7CE,YAAAC,QAAA,SAAiBC,EAAa5C,EAAuBjC,EAAY8E,GAAjE,gBAAiE,IAAAA,MAAA,IAC/D,IAAMzN,EAAK0N,KAAKL,iBAAiBM,WAAWH,EAAK5C,EAAMjC,EAAM8E,GAE7D,GAAIC,KAAKJ,eAAeM,UAAU5N,GAChC,OAAO0N,KAAKJ,eAAeO,UAAU7N,GAAI8N,OAG3C,IAAMP,EAA0BG,KAAKN,UAAUW,yBAAyBN,EAAQD,EAAK5C,EAAMjC,GACrFmF,EAAS,EAAAE,KAAKT,GAASU,KAC3B,EAAAC,KAAI,WAAM,SAAKb,iBAAiBc,OAAOnO,MACvC,EAAAoO,YAAY,IAKd,OAFAV,KAAKL,iBAAiBgB,IAAOP,EAAQN,EAAK5C,EAAMjC,EAAM8E,GAE/CK,GAGT,YAAAK,OAAA,SAAgBX,EAAaC,GAC3B,YAD2B,IAAAA,MAAA,IACpBC,KAAKH,QAAWC,EAAK,EAAAc,gBAAgBC,OAAQ,KAAMd,IAG5D,YAAAhW,IAAA,SAAa+V,EAAaC,GACxB,YADwB,IAAAA,MAAA,IACjBC,KAAKH,QAAWC,EAAK,EAAAc,gBAAgBE,IAAK,KAAMf,IAGzD,YAAAgB,KAAA,SAAcjB,EAAaC,GACzB,YADyB,IAAAA,MAAA,IAClBC,KAAKH,QAAWC,EAAK,EAAAc,gBAAgBI,KAAM,KAAMjB,IAG1D,YAAAzO,QAAA,SAAiBwO,EAAaC,GAC5B,YAD4B,IAAAA,MAAA,IACrBC,KAAKH,QAAWC,EAAK,EAAAc,gBAAgBK,QAAS,KAAMlB,IAG7D,YAAAmB,MAAA,SAAepB,EAAa7E,EAAY8E,GACtC,YADsC,IAAAA,MAAA,IAC/BC,KAAKH,QAAWC,EAAK,EAAAc,gBAAgBO,MAAOlG,EAAM8E,IAG3D,YAAAqB,KAAA,SAActB,EAAa7E,EAAY8E,GACrC,YADqC,IAAAA,MAAA,IAC9BC,KAAKH,QAAWC,EAAK,EAAAc,gBAAgBS,KAAMpG,EAAM8E,IAG1D,YAAAuB,IAAA,SAAaxB,EAAa7E,EAAY8E,GACpC,YADoC,IAAAA,MAAA,IAC7BC,KAAKH,QAAWC,EAAK,EAAAc,gBAAgBW,IAAKtG,EAAM8E,IAhD9CyB,EAAW,cAHvB,EAAAC,WAAW,CACVC,WAAY,S,kCAI8B,mB,OAAA,IAAT,EAAAC,WAAA,EAAAA,WAAS,SAA8C,mBAA9C,OAA8C,IAAhB,EAAAC,kBAAA,EAAAA,kBAAgB,SAA0C,mBAA1C,OAA0C,IAAd,EAAAC,gBAAA,EAAAA,gBAAc,YAFvHL,GAAb,GAAa,EAAAA,e,gGCHb,2BAEA,OADS,EAAAM,UAAgC,GACzC,EAFA,GAAa,EAAAC,oBAIb,mBAAsB,EAAAC,iBAItB,+B,+CAA+C,OAAhB,iBAAgB,EAA/C,CAA+BA,GAAlB,EAAAL,YAEbI,EAAkBD,UAAU3Z,KAAK,CAC/B8Z,QAASN,EACTO,WAAY,SAACC,GAAwB,OAAAA,EAAUpY,IAAI,cACnDyR,KAAM,CAAC,eAGT,+B,+CAA6C,OAAhB,iBAAgB,EAA7C,CAA6BwG,GAAhB,EAAAI,UAEbL,EAAkBD,UAAU3Z,KAAK,CAC/B8Z,QAASG,EACTF,WAAY,SAACC,GAAwB,OAAAA,EAAUpY,IAAI,YACnDyR,KAAM,CAAC,eAGT,+B,+CAA0C,OAAhB,iBAAgB,EAA1C,CAA0BwG,GAAb,EAAAK,OAEbN,EAAkBD,UAAU3Z,KAAK,CAC/B8Z,QAASI,EACTH,WAAY,SAACC,GAAwB,OAAAA,EAAUpY,IAAI,SACnDyR,KAAM,CAAC,eAGT,+B,+CAA+D,OAAhB,iBAAgB,EAA/D,CAA+CwG,GAAlC,EAAAM,4BAEbP,EAAkBD,UAAU3Z,KAAK,CAC/B8Z,QAASK,EACTJ,WAAY,SAACC,GAAwB,OAAAA,EAAUpY,IAAI,8BACnDyR,KAAM,CAAC,eAGT,+B,+CAA8C,OAAhB,iBAAgB,EAA9C,CAA8BwG,GAAjB,EAAAO,WAEbR,EAAkBD,UAAU3Z,KAAK,CAC/B8Z,QAASM,EACTL,WAAY,SAACC,GAAwB,OAAAA,EAAUpY,IAAI,aACnDyR,KAAM,CAAC,eAGT,+B,+CAA+C,OAAhB,iBAAgB,EAA/C,CAA+BwG,GAAlB,EAAAQ,YAEbT,EAAkBD,UAAU3Z,KAAK,CAC/B8Z,QAASO,EACTN,WAAY,SAACC,GAAwB,OAAAA,EAAUpY,IAAI,eACnDyR,KAAM,CAAC,eAGT,+B,+CAAqD,OAAhB,iBAAgB,EAArD,CAAqCwG,GAAxB,EAAAS,kBAEbV,EAAkBD,UAAU3Z,KAAK,CAC/B8Z,QAASQ,EACTP,WAAY,SAACC,GAAwB,OAAAA,EAAUpY,IAAI,oBACnDyR,KAAM,CAAC,gB,2FCrEHkH,EAAO,CACXtE,MAAO,UACPzL,MAAO,UACPgQ,UAAW,kBACXC,eAAgB,mBAChBC,SAAU,UACVC,SAAU,UACVC,QAAS,UACTC,KAAM,UACNC,SAAU,UACV7P,SAAU,UACV8P,KAAM,UACNjP,MAAO,UACPkP,WAAY,UACZC,WAAY,mBACZlK,SAAU,UACV4E,SAAU,UACVhK,IAAK,UACLuP,OAAQ,UACRC,WAAY,YACZC,YAAa,UACb1Q,MAAO,UACPS,MAAO,UACPkQ,SAAU,UACVhR,YAAa,UACbiR,gBAAiB,UACjBC,sBAAuB,OACvBC,gBAAiB,iBACjBC,iBAAkB,UAClBC,gBAAiB,UACjBC,eAAgB,UAChBC,eAAgB,UAChBC,eAAgB,qBAChBC,UAAW,UACXC,eAAgB,UAChBC,SAAU,UACVC,UAAW,YACXC,OAAQ,aAEJC,EAAa,CACjBC,eAAgB,oCAAoC7B,EAAK/P,MAAK,KAAK+P,EAAK/P,MAAK,QAAQ+P,EAAK7P,MAAK,SAAS6P,EAAK7P,MAAK,QAClH2R,gBAAiB,oCAAoC9B,EAAK/P,MAAK,KAAK+P,EAAK/P,MAAK,QAAQ+P,EAAKK,QAAO,SAASL,EAAKK,QAAO,QACvH0B,aAAc,oCAAoC/B,EAAK/P,MAAK,KAAK+P,EAAK/P,MAAK,QAAQ+P,EAAKY,WAAU,SAASZ,EAAKY,WAAU,SAE5H,mCACKZ,GACA4B,I,qGC1CCI,EAAgBvI,YAAW,CAC/BC,KAAM,CACJ/J,MAAOlH,SAAOsY,gBACdkB,YAAa,EACb3L,WAAY,OACZ,YAAa,CACX3G,MAAOlH,SAAO0H,OAEhB,qBAAsB,CACpB+R,SAAU,WAIdC,QAAS,IAbW1I,CAcnB2I,KAgGYC,IA9FU,SAAC3M,GAAU,IAEhC4M,EAWE5M,EAXF4M,QACA1S,EAUE8F,EAVF9F,GACAoK,EASEtE,EATFsE,KACAuI,EAQE7M,EARF6M,QACSC,EAOP9M,EAPFyM,QANgC,EAa9BzM,EANF9J,aAPgC,MAOxB,GAPwB,EAQhCgK,EAKEF,EALFE,QARgC,EAa9BF,EAJF+M,kBATgC,SAUhCC,EAGEhN,EAHFgN,UAVgC,EAa9BhN,EAFFiN,eAXgC,MAWtB,GAXsB,EAYlBC,EACZlN,EADFmN,cAZgC,EAcJ9M,mBAASyM,GAdL,mBAc3BL,EAd2B,KAclBW,EAdkB,OAeQ/M,mBAAS6M,GAfjB,mBAe3BC,EAf2B,KAeZE,EAfY,KAiBlC7M,qBAAU,WACR4M,EAAWN,KACV,CAACA,EAAc5S,IAElBsG,qBAAU,WACR6M,EAAiBH,KAChB,CAACA,EAAsBhT,IAsB1B,OACE,yBACEhE,MAAK,aACHmF,QAAS,OACTF,WAAY,SACZmS,OAAQ,aACLpX,IAGL,kBAACoW,EAAD,CACEiB,WAAY,CAAE,aAAc,cAC5Bd,QAASA,EACTU,cAAeA,EACf5H,SAjCW,SAAC9R,GACZsZ,GACFK,EAAW3Z,EAAEgS,OAAOgH,SAElBI,GACFA,EAAQpZ,EAAEgS,OAAOgH,QAASvS,GAE5BmT,GAAiB,GACjB5Z,EAAE+Z,kBACF/Z,EAAEga,YAAYC,8BA0BZ,yBACExN,QAxBQ,SAACzM,GACTyM,GACFA,EAAQzM,GAEVA,EAAE+Z,kBACF/Z,EAAEga,YAAYC,4BAoBVxX,MAAO,CACLmF,QAAS,OACT+J,cAAe,SACf1E,OAAQR,EAAU,UAAY,YAGhC,kBAAC,IAAD,CAAS1C,MAAOyP,GACd,0BACE/W,MAAK,2BACAlD,QAAMiR,QADN,IAEH0J,SAAU,SACVC,aAAc,WACdC,WAAY,SACZzX,MAAO4W,KAGR1I,IAGJsI,GACC,yBACE1W,MAAK,eAAOlD,QAAMiR,QAClB6J,wBAAyB,CACvBC,OAAQnB,S,+ECzGtB,SAAYoB,GACV,4CACA,8DACA,wBAHF,CAAY,EAAAA,iBAAA,EAAAA,eAAc,M,oGCQpBC,EAAelK,YAAW,CAC9BC,KAAM,CACJ/J,MAAO,UACP9D,OAAQ,EACRuE,QAAS,SACTqG,OAAQ,mBAEVmN,MAAO,CACL/X,OAAQ,GACRC,MAAO,GACPoE,gBAAiBzH,SAAOwH,MACxB+S,OAAQ,yBACRnI,WAAY,GACZvE,YAAa,GACbmF,UAAW,oBACX,6BAA8B,CAC5BA,UAAW,sBAEb,SAAU,CAER5P,OAAQ,EACRC,MAAO,EACPoE,gBAAiB,eACjBoG,WAAY,EACZhG,YAAa,GAEf,iBAAkB,CAChBzE,OAAQ,GACRC,MAAO,GACP+O,WAAY,GACZvE,YAAa,IAEf8E,SAAU,CACRtP,MAAO,OACPoE,gBAAiB,QAGrB+E,OAAQ,GACR4O,MAAO,CACLhY,OAAQ,GAEViY,KAAM,CACJnU,MAAO,UACPwF,QAAS,EACTtJ,OAAQ,IA5CS4N,CA8ClBsK,KAgHYC,IAtGU,SAACtO,GAAU,MAEhCuO,EAYEvO,EAZFuO,OAFgC,EAc9BvO,EAXFwO,oBAHgC,MAGjB,EAHiB,EAIhCjJ,EAUEvF,EAVFuF,SACAnI,EASE4C,EATF5C,UACAuH,EAQE3E,EARF2E,UACA8J,EAOEzO,EAPFyO,SAPgC,EAc9BzO,EANF0O,mBARgC,SAShCC,EAKE3O,EALF2O,eATgC,EAc9B3O,EAJF0F,gBAVgC,SAWhCzL,EAGE+F,EAHF/F,MAXgC,EAc9B+F,EAFF9F,UAZgC,MAY3B,EAZ2B,IAc9B8F,EADFH,iBAbgC,WAgBMQ,mBAASmO,GAhBf,mBAgB3BI,EAhB2B,KAgBbC,EAhBa,KAiB5BC,EAAiBxL,iBAAOkL,GAjBI,EAkBNnO,oBAAS,GAlBH,mBAkB3B0O,EAlB2B,KAkBnBC,EAlBmB,OAmBHC,sBAAW,SAACvM,GAAD,OAAOA,EAAI,IAAG,GAnBtB,mBAmBlBwM,GAnBkB,WAqBlC1O,qBAAU,WACRqO,EAAgBL,GAChBM,EAAe1M,QAAUoM,EACzBU,MACC,CAACV,EAActU,IAElB,IAiBMiV,EAAY,kCAAMZ,EAAOK,UAAb,aAAM,EAAsBtd,MAGxC8d,EAAgBb,EAAO3W,KAAI,SAACyX,GAAD,mBAAC,eAAYA,GAAb,IAAgBvb,MAAO,QAClDwb,EAAYf,EAAO3W,KAAI,SAACyX,GAAD,mBAAC,eACzBA,GADwB,IAE3Bvb,MAAO,0BAAMoC,MAAK,2BAAOlD,QAAM4S,MAAb,IAAmB4G,SAAU,SAAU6C,EAAE/d,WAG7D,OACE,yBACE4E,MAAO,CACLmF,QAAS,OACTlF,OAAQ,OACRC,MAAO,OACP8O,aAAc,OACd9N,SAAU,aAGZ,kBAAC6W,EAAD,CACEsB,eAAgB,SAAC7c,GAAD,aAxExB,SAA8BsN,GAC5B,OACE,yBAAUA,EACR,0BAAM9J,MAAOlD,QAAMiR,QAASjE,EAAMlM,QAqET0b,CAAqB,2BAAK9c,GAAN,IAASoB,MAAK,UAAEya,EAAOK,UAAT,aAAE,EAAsBtd,SAEjF+T,aAAc,kBAAM2J,GAAU,IAC9B1J,aAAc,kBAAM0J,GAAU,IAC9B9Y,MAAO,CAAE+D,MAAOA,IAAK,UAAIsU,EAAOK,UAAX,aAAI,EAAsB3U,QAC/CwV,kBA1CqB,SAACC,EAAO3d,GAC7B+c,EAAe1M,UAAYrQ,IAC7B+c,EAAe1M,QAAUrQ,EACrB4c,GACFA,EAAe5c,KAuCfwT,SAnCe,SAACmK,EAAO3d,GACvB6c,IAAiB7c,IACnB8c,EAAgB9c,GACZwT,GACFA,EAASxT,KAgCT4d,aAAc,EACd5d,MAAO6c,EACPgB,iBAAkBT,EAClBU,iBAAkBV,EAClBW,kBAAgB,2BAChBC,KAAM,KACNC,kBAAkB,OAClBC,MAAOlB,EAASO,EAAYF,EAC5Bc,IAAK,EACLC,IAAK5B,EAAO9e,OAAS,EACrBiW,SAAUA,IAEXgJ,GACC,kBAAC,IAAD,CAAatO,KAAM,GAAIP,UAAWA,EAAWzC,UAAWA,EAAW8C,QAASyE,GAAa,QAEzFoK,GAAUN,GACV,0BACEvY,MAAK,2BACAlD,QAAM4S,MADN,IAEHxO,SAAU,WACVI,OAAQ,QACRqO,MAAO,UAGR4I,M,gFC7JX,iBAIE,aAEE7G,KAAKwI,eAAiB,GAU1B,OAPS,YAAAC,WAAP,WACEzI,KAAKwI,eAAe9T,SAAQ,SAACgU,GACC,mBAAhBA,GACVA,QAIR,EAhBA,GAAsB,EAAAC,2B,gGCAtB,SAAYC,GACV,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UARF,CAAY,EAAAA,sBAAA,EAAAA,oBAAmB,KAW/B,SAAYC,GACV,wBACA,oCACA,8BACA,oBAJF,CAAY,EAAAA,mBAAA,EAAAA,iBAAgB,KAO5B,SAAYC,GACV,kCACA,oCACA,qCACA,8BAJF,CAAY,EAAAA,iBAAA,EAAAA,eAAc,M,oCCpB1B,oDAMMC,EAAmB5M,YAAW,CAClC6M,gBAAiB,CACfpW,gBAAiBzH,SAAO0H,QAFHsJ,CAItB8M,KAEGC,EAAuB/M,YAAW,CACtC6M,gBAAiB,CACfpW,gBAAiBzH,SAAO2Y,iBAFC3H,CAI1B8M,KAgBYE,IAdc,WAAkB,IAAjBC,EAAiB,wDACvCC,EAAUC,qBAAW9c,iBACnB+c,EAAmBF,EAAnBE,eACR,OAAKA,EAGDH,EACK,kBAACF,EAAD,MAGP,kBAACH,EAAD,MANO,O,6BCtBX,sDAASS,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClDjgB,EAAG,q2CACHkgB,SAAU,UACVC,KAAM,YAGR,SAASC,EAAQzR,GACf,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDhb,MAAO,GACPD,OAAQ,GACRub,MAAO,8BACN1R,GAAQsR,GAGE,K,4FClBf,4BAEMK,EAAY,CAChBC,SAAU,CACR3X,MAAO,UAAOsQ,UACdiC,SAAU,QAEZqF,QAAS,CACP5X,MAAO,UAAOsQ,UACdiC,SAAU,QAEZsF,OAAQ,CACN7X,MAAO,UAAOsQ,UACdiC,SAAU,QAEZuF,MAAO,CACL9X,MAAO,UAAOsQ,UACdiC,SAAU,QAEZvI,OAAQ,CACNhK,MAAO,UAAOsQ,UACdiC,SAAU,QAEZtI,MAAO,CACLjK,MAAO,UAAOsQ,UACdiC,SAAU,QAEZ5G,KAAM,CACJ3L,MAAO,UAAOsQ,UACdiC,SAAU,SAId,UAAe,CACboF,SAAU,EAAF,uBACHD,EAAUC,UAAQ,CACrBI,WAAY,WAEdH,QAAS,EAAF,uBACFF,EAAUE,SAAO,CACpBG,WAAY,WAEdF,OAAQ,EAAF,uBACDH,EAAUG,QAAM,CACnBE,WAAY,WAEdD,MAAO,EAAF,uBACAJ,EAAUI,OAAK,CAClBC,WAAY,WAEd/N,OAAQ,EAAF,uBACD0N,EAAU1N,QAAM,CACnB+N,WAAY,WAEd9N,MAAO,EAAF,uBACAyN,EAAUzN,OAAK,CAClB8N,WAAY,WAEdpM,KAAM,EAAF,uBACC+L,EAAU/L,MAAI,CACjBoM,WAAY,a,4FC5DhB,2BACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SAEa,EAAAC,YAAuB,UACjChhB,OAAO,YAAa,IACpBihB,UAAU,mBAAoB,EAAAC,qBAAqB/f,QACnDggB,UAAU,gBAAiB,EAAAC,eAC3BD,UAAU,WAAY,EAAAE,UACtBF,UAAU,cAAe,EAAAG,qBAAqBngB,QAC9CggB,UAAU,WAAY,EAAQ,MAC9BA,UAAU,eAAgB,EAAQ,MAClCA,UAAU,WAAY,EAAQ,MAC9BA,UAAU,wBAAyB,EAAQ,MAC3CA,UAAU,kBAAmB,EAAQ,MACrCA,UAAU,eAAgB,EAAQ,MAClCA,UAAU,iBAAkB,EAAQ,MACpCA,UAAU,eAAgB,EAAAI,cAC1BJ,UAAU,aAAc,EAAQ,MAChClR,QAAQ,SAAU,EAAAuR,QAClBvR,QAAQ,eAAgB,EAAAwR,cACxBxR,QAAQ,WAAY,EAAAiJ,UACpBjJ,QAAQ,YAAa,EAAAqI,WACrBrI,QAAQ,WAAY,EAAAyR,UACpBzR,QAAQ,UAAW,EAAA0R,SACnB1R,QAAQ,eAAgB,EAAA2R,cACxBC,QAAQ,cAAe,EAAQ,MAC/B5R,QAAQ,WAAY,EAAA6R,UACpBD,QAAQ,SAAU,EAAQ,MAC1BA,QAAQ,OAAQ,EAAQ,MACxBA,QAAQ,WAAY,EAAQ,MAC5BA,QAAQ,UAAW,EAAQ,MAC3BA,QAAQ,oBAAqB,EAAQ,MACrCA,QAAQ,WAAY,EAAAR,UACpBQ,QAAQ,SAAU,EAAQ,MAC1BA,QAAQ,WAAY,EAAQ,MAC5BA,QAAQ,OAAQ,EAAQ,MACxBA,QAAQ,UAAW,EAAQ,MAC3BA,QAAQ,cAAe,EAAAE,aACvBF,QAAQ,iBAAkB,EAAQ,MAClCvW,OAAO,WAAY,EAAQ,MAC3BA,OAAO,eAAgB,EAAA0W,cACvB1W,OAAO,WAAY,EAAA2W,gBAEtB,UAAe,EAAAjB,YAAY3gB,KAE3B,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,0B,yFCpEA,2BACA,4BAEa,EAAA6hB,uBAAkC,UAC5CliB,OAAO,wBAAyB,CAAC,YAEpC,UAAe,EAAAkiB,uBAAuB7hB,KAEtC,yBACA,0BACA,0BACA,0BACA,yBACA,yBACA,0BACA,0BACA,0BACA,2B,uFCeA,iBACE,aAEEsW,KAAKwL,YAAc,GAMvB,OAHE,YAAA/C,WAAA,WACEzI,KAAKwL,YAAY9W,SAAQ,SAAA+W,GAAY,OAAAA,QAEzC,EATA,GAAa,EAAAC,sB,o20EC3Bb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,SACA,SACA,S,aAoBE,WAAYC,EAAIC,EAAUC,EAAQC,GAGhC9L,KAAK2L,GAAKA,EACV3L,KAAK4L,SAAWA,EAChB5L,KAAK6L,OAASA,EACd7L,KAAK+L,aAAeD,EACpB9L,KAAKgM,cAAgB,EA26BzB,O,uDAx6BE,YAAAC,2BAAA,sBACEjM,KAAK4L,UAAS,WACZ,EAAKI,eAAiB,MAI1B,YAAAE,2BAAA,sBACElM,KAAK4L,UAAS,WACR,EAAKO,gBACP,EAAKH,eAAiB,OAKtB,YAAAI,YAAN,SAAkB5M,GANZ,OAAO,EAAQ,UAAU,UAAM,OAAQ,GAAQ,WAC3C,IAAI,EACJ,OAAO,EAAQ,YAAY,MAAM,SAAU,GAYnD,OAPI6M,EAAUrM,KAAK2L,GAAGxe,QAAQqS,GAG9B6M,GADAA,EAAUrM,KAAKsM,yBAAyBD,IACtBE,KAAKvM,KAAKwM,cAAc9hB,KAAKsV,QAC/CqM,EAAUrM,KAAKyM,0BAA0BJ,IACjCK,QAAQ1M,KAAKkM,2BAA2BxhB,KAAKsV,OAE9C,CAAP,EAAOqM,UAaT,YAAAG,cAAA,SAAchN,GACZ,IAAMmN,EAAW3M,KAAK2L,GAAGiB,QACnBC,EAAoB7M,KAAK8M,iBAAiBtN,EAAQmC,EAAUoL,KAAKZ,aACjEa,EAAa,yBAAQxN,GAAM,CAAE1R,OAAQ6T,EAAUsL,OAAOC,QACtDhhB,EAAQ,QAAQsT,EAAOM,IAAIlU,MAAM,KAAKV,MAAM,GAAGiiB,KAAK,KAmB1D,OAjBArhB,QAAQshB,KAAKlhB,GAER2gB,GACH7M,KAAKiM,6BAGP7e,OAAOQ,QAAQC,YAAYmf,GAAe,SAACK,GACzC,IAAMC,EAAgB,yBAAQD,GAAQ,CAAE7N,OAAM,IAC9C1T,QAAQyhB,QAAQrhB,GACZohB,EAAiBjf,OAAS,EAAAmf,eAAeC,YAE3Cd,EAASxf,QAAQmgB,GAEjBX,EAAShf,OAAO2f,MAIbX,EAASN,SAGlB,YAAAqB,kBAAA,SAAkBrB,EAASN,GACzB,MAAO,GAAG4B,OAAO5B,GACd6B,QACC,SAACC,GAAa,OAAAA,EAAStB,KAAKR,EAAazjB,QAASyjB,EAAazjB,WAC/D+jB,IAIN,YAAAC,yBAAA,SAAyBD,GACvB,IAAMyB,EAAsB,GAO5B,OANA9N,KAAK+L,aAAarX,SAAQ,SAACqZ,IACrBA,EAAYlO,SAAWkO,EAAYC,eACrCF,EAAoBvb,QAAQwb,EAAYlO,QAASkO,EAAYC,iBAI1DhO,KAAK0N,kBAAkBrB,EAASyB,IAGzC,YAAArB,0BAAA,SAA0BJ,GACxB,IAAM4B,EAAuB,GAQ7B,OANAjO,KAAK+L,aAAarX,SAAQ,SAACqZ,IACrBA,EAAYV,UAAYU,EAAYG,gBACtCD,EAAqB9lB,KAAK4lB,EAAYV,SAAUU,EAAYG,kBAIzDlO,KAAK0N,kBAAkBrB,EAAS4B,IAGnC,YAAAE,eAAN,SAAqBrO,EAAK5O,EAA0B7J,GAd9C,YAcoB,IAAA6J,MAAS,EAAAkd,YAAYtN,UAAK,IAAAzZ,MAAA,IAdvC,EAAQ,UAAU,UAAM,OAAQ,GAAQ,WAC3C,IAAI,EACJ,OAAO,EAAQ,YAAY,MAAM,SAAU,GACvC,OAAQ,EAAG,OACP,KAAK,EAaX,OAFJmY,EAAS,CAAEM,IAAK,GAAGE,KAAK6L,OAAOwC,OAASvO,EAAO5O,OAAM,EAAE7J,KAAI,GAEvD,GAAM2Y,KAAKoM,YAAY5M,IAVjB,KAAK,EAYrB,MAAO,CAAP,EAFU,kBAKZ,YAAAa,yBAAA,SAAyBN,EAAaD,EAAK5O,EAAQ7J,QAA1B,IAAA0Y,MAAA,IACvB,IAAMuO,EAAexmB,OAAOymB,KAAKxO,GAC9B/P,KAAI,SAACvF,GACJ,IAAM+jB,EAAQzO,EAAOtV,GAErB,OAAIgkB,MAAMC,QAAQF,GACTA,EAAMxe,KAAI,SAAE2e,GAAW,OAAGlkB,EAAG,IAAImkB,mBAAmBD,MAGtD5O,EAAOtV,GAAUA,EAAG,IAAImkB,mBAAmB7O,EAAOtV,IAAU,MAEpEokB,OACAla,QAAO,SAAC6Z,GAAU,QAAEA,KACpBrB,KAAK,KAEF2B,EAAQR,EAAe,IAAIA,EAAiB,GAElD,OAAOtO,KAAKmO,eAAe,GAAGrO,EAAMgP,EAAS5d,EAAQ7J,IAGvD,YAAAylB,iBAAA,SAAiBtN,EAAQnV,GAyBvB,OAAQA,GACN,KAAKsX,EAAUoL,KAAKZ,YAClB,MAtByB,CAC3B,kCACA,wBACA,yCACA,+BACA,6BACA,+BACA,mDACA,sCACA,yCACA,iDAaK4C,MAAK,SAACC,GAAgB,OAAAxP,EAAOM,IAAI/H,QAAQiX,IAAgB,GAAuB,QAAlBxP,EAAOtO,UAE1E,KAAKyQ,EAAUoL,KAAKkC,UAClB,MAXuB,CACzB,0BACA,qBAUKF,MAAK,SAACC,GAAgB,OAAAxP,EAAOM,IAAI/H,QAAQiX,IAAgB,GAAuB,QAAlBxP,EAAOtO,UAE1E,QACE,OAAO,IAIb,YAAAib,YAAA,WACE,QAASnM,KAAKgM,eAGhB,YAAAkD,YAAA,WACE,OAAOlP,KAAKmO,eAAe,oBAAqB,EAAAC,YAAYtN,MAG9D,YAAAqO,sBAAA,WACE,OAAOnP,KAAKmO,eAAe,yBAA0B,EAAAC,YAAYtN,MAGnE,YAAAsO,wBAAA,WACE,OAAOpP,KAAKmO,eAAe,yBAA0B,EAAAC,YAAY/M,OAGnE,YAAAgO,uBAAA,WACE,OAAOrP,KAAKmO,eAAe,gCAAiC,EAAAC,YAAYtN,MAG1E,YAAAwO,mBAAA,SAAmB9a,GACjB,OAAOwL,KAAKmO,eAAe,oBAAoB3Z,EAAQ,IAAK,EAAA4Z,YAAYtN,MAU1E,YAAAyO,eAAA,SAAeC,EAAQC,GACrB,OAAOzP,KAAKK,yBACV,CAAEqP,kBAAmBD,GACrB,0BAA0BD,EAAM,IAChC,EAAApB,YAAYtN,MAUhB,YAAA6O,+BAAA,SAA+B3a,GAC7B,OAAOgL,KAAKmO,eAAe,0BAA0BnZ,EAAW,IAAK,EAAAoZ,YAAYtN,MAQnF,YAAA8O,kCAAA,SAAkCne,GAChC,OAAOuO,KAAKmO,eAAe,8CAA8C1c,EAAY,IAAK,EAAA2c,YAAYtN,MASxG,YAAA+O,oCAAA,SAAoCpe,EAAcqe,GAChD,OAAO9P,KAAKmO,eACV,+BAA+B1c,EAAY,IAC3C,EAAA2c,YAAYjN,MACZ2O,IAWJ,YAAAC,yBAAA,SAAyBte,EAAc+C,GACrC,OAAOwL,KAAKmO,eACV,mCAAmC1c,EAAY,eAAe+C,EAC9D,EAAA4Z,YAAYtN,MAUhB,YAAAkP,uBAAA,SAAuBve,EAAc+C,GACnC,OAAOwL,KAAKmO,eACV,wBAAwB1c,EAAY,eAAe+C,EACnD,EAAA4Z,YAAYtN,MAUhB,YAAAmP,yBAAA,SAAyBxe,EAAcye,GACrC,OAAOlQ,KAAKmO,eACV,wBAAwB1c,EAAY,IACpC,EAAA2c,YAAY7M,IACZ2O,IAUJ,YAAAC,wBAAA,SAAwB1e,EAAc2e,GACpC,OAAOpQ,KAAKmO,eACV,kCAAkC1c,EAAY,IAAI2e,EAAS,IAC3D,EAAAhC,YAAYtN,MAShB,YAAAuP,wBAAA,SAAwBC,GACtB,OAAOtQ,KAAKmO,eAAe,kCAAmC,EAAAC,YAAY7M,IAAK+O,IAUjF,YAAAC,sBAAA,SAAsB/b,EAAUuL,GAC9B,YAD8B,IAAAA,MAAA,IACvBC,KAAKK,yBAAyBN,EAAQ,gCAAgCvL,EAAQ,IAAK,EAAA4Z,YAAYtN,MASxG,YAAA0P,qBAAA,SAAqB/e,GACnB,OAAOuO,KAAKmO,eAAe,+BAA+B1c,EAAY,IAAK,EAAA2c,YAAYtN,MAWzF,YAAA2P,UAAA,SAAU3B,EAAO4B,EAAqBC,GACpC,YADoC,IAAAA,MAAA,IAC7B3Q,KAAKmO,eACV,2BAA2BW,EAAK,uBAAuB4B,EAAmB,UAAUC,EACpF,EAAAvC,YAAYtN,MAUhB,YAAA8P,cAAA,SAAcC,GACZ,OAAO7Q,KAAKmO,eAAe,mBAAmB0C,EAAS,IAAK,EAAAzC,YAAYtN,MAS1E,YAAAgQ,sBAAA,SAAsBvlB,GACpB,OAAOyU,KAAKmO,eAAe,uCAAuC5iB,EAAY,EAAA6iB,YAAYtN,MAS5F,YAAAiQ,eAAA,SAAevc,GACb,OAAOwL,KAAKmO,eAAe,4BAA4B3Z,EAAQ,IAAK,EAAA4Z,YAAYtN,MAGlF,YAAAkQ,kBAAA,SAAkBxc,EAAUyc,GAC1B,OAAOjR,KAAKmO,eACV,4BAA4B3Z,EAAQ,IACpC,EAAA4Z,YAAY7M,IACZ0P,IASJ,YAAAC,mBAAA,WACE,OAAOlR,KAAKmO,eAAe,uBAAwB,EAAAC,YAAYtN,MAQjE,YAAAqQ,sBAAA,SAAsBF,GACpB,OAAOjR,KAAKmO,eAAe,uBAAwB,EAAAC,YAAY/M,KAAM4P,IAUvE,YAAAG,mBAAA,SAAmB5B,EAAQC,GACzB,YADyB,IAAAA,MAAA,MAClBzP,KAAKK,yBACV,CAAEqP,kBAAmBD,GACrB,6BAA6BD,EAAM,IACnC,EAAApB,YAAYtN,MAUhB,YAAAuQ,6BAAA,SAA6B7B,EAAQc,GACnC,OAAOtQ,KAAKmO,eAAe,6BAA6BqB,EAAM,IAAK,EAAApB,YAAY7M,IAAK+O,IAStF,YAAAgB,gBAAA,SAAgB9c,GACd,OAAOwL,KAAKmO,eAAe,qBAAqB3Z,EAAQ,IAAK,EAAA4Z,YAAYtN,MAS3E,YAAAyQ,sBAAA,SAAsB/c,GACpB,OAAOwL,KAAKmO,eAAe,4BAA4B3Z,EAAQ,IAAK,EAAA4Z,YAAYtN,MASlF,YAAA0Q,6BAAA,SAA6B/f,GAC3B,OAAOuO,KAAKmO,eAAe,mCAAmC1c,EAAY,IAAK,EAAA2c,YAAYtN,MAS7F,YAAA2Q,eAAA,SAAejd,GACb,OAAOwL,KAAKmO,eAAe,kCAAkC3Z,EAAQ,IAAK,EAAA4Z,YAAYtN,MAUxF,YAAA4Q,gBAAA,SAAgBld,EAAUmd,GACxB,OAAO3R,KAAKmO,eACV,qCAAqC3Z,EAAQ,UAAUmd,EACvD,EAAAvD,YAAYtN,MAUhB,YAAA8Q,eAAA,SAAermB,GACb,OAAOyU,KAAKmO,eACV,4CAA4C5iB,EAC5C,EAAA6iB,YAAYtN,MAShB,YAAA+Q,cAAA,SAAcC,KASd,YAAAC,eAAA,SAAeD,KAUf,YAAAE,eAAA,SAAe5B,EAAW6B,GACxB,OAAOjS,KAAKmO,eACV,6BAA6BiC,EAAS,IAAI6B,EAAkB,IAC5D,EAAA7D,YAAYtN,MAIhB,YAAAoR,kBAAA,SAAkB9B,GAChB,OAAOpQ,KAAKmO,eAAe,0BAA0BiC,EAAS,IAAK,EAAAhC,YAAYtN,MAGjF,YAAAqR,qBAAA,SAAqB/B,EAAW/oB,GAC9B,OAAO2Y,KAAKmO,eAAe,0BAA0BiC,EAAS,IAAK,EAAAhC,YAAYjN,MAAO9Z,IAGxF,YAAA+qB,mBAAA,WACE,OAAOpS,KAAKmO,eAAe,2BAA4B,EAAAC,YAAYtN,MAGrE,YAAAuR,kBAAA,SAAkBC,GAChB,OAAOtS,KAAKmO,eAAe,2BAA4B,EAAAC,YAAY/M,KAAM,CAAEiR,MAAK,KAGlF,YAAAC,qBAAA,SAAqBC,GACnB,OAAOxS,KAAKmO,eAAe,2BAA2BqE,EAAgB,IAAK,EAAApE,YAAYvN,SAGzF,sBAAI,iBAAE,CA7FA,IA6FN,sBACE,MAAO,CACL4R,6BAA8B,SAACC,GAA4B,SAAKvE,eAC9D,yCAAyCuE,EAAuB,IAChE,EAAAtE,YAAYtN,MAUd6R,yBAA0B,SAAClhB,EAAc2e,GAAc,SAAKjC,eAC1D,qCAAqC1c,EAAY,IAAI2e,EAAS,IAC9D,EAAAhC,YAAYtN,MASd8R,yBAA0B,SAACnhB,EAAcohB,GAA0B,SAAK1E,eACtE,qCAAqC1c,EAAY,IACjD,EAAA2c,YAAY7M,IACZsR,IAUFC,+BAAgC,SAACrhB,EAAc+C,GAAa,SAAK2Z,eAC/D,sCAAsC1c,EAAY,eAAe+C,EACjE,EAAA4Z,YAAYtN,MASdqP,wBAAyB,SAAC1e,EAAc2e,GAAc,SAAKjC,eACzD,qCAAqC1c,EAAY,IAAI2e,EAAS,IAC9D,EAAAhC,YAAYtN,MASdiS,gBAAiB,SAACve,EAAU/C,GAAiB,SAAK4O,yBAChD,CAAE2S,cAAevhB,GACjB,oCAAoC+C,EAAQ,IAC5C,EAAA4Z,YAAYtN,QAjHZ,YAAY,EACZ,cAAc,IAqHpB,sBAAI,iBAAE,CAlHA,IAkHN,sBACE,MAAO,CAMLmS,8BAA+B,SAAChB,GAAuB,SAAK9D,eAC1D,kCAAkC8D,EAAkB,eACpD,EAAA7D,YAAYtN,MAGdoS,6BAA8B,SAAC9C,GAAc,SAAKjC,eAChD,wBAAwBiC,EAAS,oCACjC,EAAAhC,YAAYtN,MAGdqS,8BAA+B,SAAC/C,EAAW6B,GAAuB,SAAK9D,eACrE,wBAAwBiC,EAAS,oCAAoC6B,EAAkB,IACvF,EAAA7D,YAAYtN,MAGdsS,iCAAkC,SAAChD,EAAW6B,EAAoBjV,GAAe,SAAKmR,eACpF,wBAAwBiC,EAAS,oCAAoC6B,EAAkB,IACvF,EAAA7D,YAAY7M,IACZvE,IAMFqW,wCAAyC,SACvCjD,EACA6B,GACG,SAAK9D,eACR,wBAAwBiC,EAAS,wBAAwB6B,EAAkB,4CAC3E,EAAA7D,YAAYtN,MAGdwS,0CAA2C,SACzClD,EACA6B,EACAjV,GACG,SAAKmR,eAAe,wBAAwBiC,EAAS,wBAAwB6B,EAAkB,4CAA4CjV,EAAWuW,UAAUjhB,GAAE,IACrK,EAAA8b,YAAY7M,IAAKvE,IAEnBwW,uCAAwC,SACtCpD,EACA6B,EACAjd,GACG,SAAKmZ,eAAe,wBAAwBiC,EAAS,wBAAwB6B,EAAkB,4CAA4Cjd,EAAW,IACzJ,EAAAoZ,YAAYtN,MAEdqP,wBAAyB,SACvBC,EACApb,GACG,SAAKmZ,eAAe,wBAAwBiC,EAAS,eAAepb,EAAW,0BAClF,EAAAoZ,YAAYtN,MAEd2S,2BAA4B,SAC1BrD,EACApb,EACAgI,GACG,SAAKmR,eAAe,wBAAwBiC,EAAS,eAAepb,EAAW,0BAA0BgI,EAAWtK,WAAWJ,GAAE,IACpI,EAAA8b,YAAY7M,IAAKvE,IAEnB0W,2BAA4B,SAAClf,EAAUmf,GAAyB,SAAKxF,eACnE,eAAe3Z,EAAQ,2BAA2Bmf,EAAqBrhB,GAAE,IACzE,EAAA8b,YAAY7M,IACZoS,IAGFC,gBAAiB,SAACC,EAAkBN,GAAc,SAAKpF,eACrD,kCAAkC0F,EAAiBvhB,GAAE,eAAeihB,EAAUjhB,GAAE,IAChF,EAAA8b,YAAYvN,SAGdiT,gBAAiB,SAACD,EAAkBN,GAAc,SAAKpF,eACrD,kCAAkC0F,EAAiBvhB,GAAE,eAAeihB,EAAUjhB,GAAE,IAChF,EAAA8b,YAAYjN,MACZoS,IAGFQ,gBAAiB,SAACF,EAAkBN,GAAc,SAAKpF,eACrD,kCAAkC0F,EAAiBvhB,GAAE,eACrD,EAAA8b,YAAY/M,KACZkS,IAGFS,cAAe,SAACH,GAAqB,SAAK1F,eACxC,kCAAkC0F,EAAiBvhB,GAAE,eACrD,EAAA8b,YAAYtN,MAGdmT,aAAc,SAACzf,EAAUqf,GAAqB,SAAK1F,eACjD,eAAe3Z,EAAQ,wBAAwBqf,EAAiBvhB,GAAE,IAClE,EAAA8b,YAAYvN,SAGdqT,uBAAwB,SAAC1f,EAAU2f,GAAe,SAAKhG,eACrD,eAAe3Z,EAAQ,wBACvB,EAAA4Z,YAAY/M,KACZ8S,IAGFC,+BAAgC,SAAC5f,EAAUqf,GAAqB,SAAK1F,eACnE,eAAe3Z,EAAQ,0CACvB,EAAA4Z,YAAY/M,KACZ,CAAEgT,mBAAoBR,EAAiBvhB,MAGzCgiB,oBAAqB,SAACC,EAAgB7qB,EAAM8qB,GAAS,SAAKrG,eACxD,0BACA,EAAAC,YAAY/M,KACZ,CACEoT,UAAWF,EACX7qB,KAAI,EACJ8qB,KAAI,KAIRE,uBAAwB,SAACC,GAAiB,SAAKtU,yBAC7CsU,EACA,4BACA,EAAAvG,YAAYtN,MAGd8T,qBAAsB,SAACD,GAAiB,SAAKtU,yBAC3CsU,EACA,0BACA,EAAAvG,YAAYtN,MAGd+T,qBAAsB,SAACF,GAAiB,SAAKtU,yBAC3CsU,EACA,0BACA,EAAAvG,YAAYtN,MAQdgU,wCAAyC,SAACtgB,GAAa,SAAK2Z,eAAe,eAAe3Z,EAAQ,6BAA8B,EAAA4Z,YAAYtN,MAE5IiU,uCAAwC,SAACvgB,EAAU4b,GAAc,SAAKjC,eACpE,eAAe3Z,EAAQ,aAAa4b,EAAS,qBAC7C,EAAAhC,YAAYtN,MAGdkU,qBAAsB,SAACxgB,GAAa,SAAK2Z,eAAe,eAAe3Z,EAAQ,wBAAyB,EAAA4Z,YAAYtN,MAEpHmU,oBAAqB,SAACzgB,EAAUyd,GAAuB,SAAK9D,eAC1D,eAAe3Z,EAAQ,wBAAwByd,EAAkB,IACjE,EAAA7D,YAAYtN,MAGdoU,uBAAwB,SAAC1gB,EAAUqf,GAAqB,SAAK1F,eAAe,eAAe3Z,EAAQ,wBAAwBqf,EAAiBvhB,GAAE,IAC5I,EAAA8b,YAAY7M,IACZsS,IAEFsB,oBAAqB,SAACpV,GAAW,SAAKM,yBAAyBN,EAAQ,6BAA8B,EAAAqO,YAAYtN,MAEjHsU,sBAAuB,WAAM,SAAKjH,eAChC,kCACA,EAAAC,YAAYtN,MAGduU,qBAAsB,WAAM,SAAKlH,eAC/B,6CACA,EAAAC,YAAYtN,MAGdwU,qBAAsB,WAAM,SAAKnH,eAC/B,0CACA,EAAAC,YAAYtN,MAGdyU,sBAAuB,SAACC,GAAe,SAAKrH,eAC1C,0BAA0BqH,EAAWljB,GAAE,gBACvC,EAAA8b,YAAYjN,QAGdsU,qBAAsB,SAACD,GAAe,SAAKrH,eACzC,0BAA0BqH,EAAWljB,GAAE,2BACvC,EAAA8b,YAAYjN,QAGduU,qBAAsB,SAACF,GAAe,SAAKrH,eACzC,0BAA0BqH,EAAWljB,GAAE,wBACvC,EAAA8b,YAAYjN,QAGdwU,0BAA2B,SAACH,GAAe,SAAKrH,eAC9C,0BAA0BqH,EAAWljB,GAAE,IACvC,EAAA8b,YAAYjN,MACZqU,IAGFI,yBAA0B,SAACJ,EAAYhhB,GAAa,SAAK2Z,eACvD,0BAA0BqH,EAAWljB,GAAE,qBACvC,EAAA8b,YAAY/M,KACZ,CAAEoT,UAAWjgB,KAGfqhB,4BAA6B,SAACL,GAAe,SAAKrH,eAChD,0BAA0BqH,EAAWljB,GAAE,IACvC,EAAA8b,YAAYvN,SAGdiV,qBAAsB,SAACN,GAAe,SAAKrH,eACzC,0BAA0BqH,EAAWljB,GAAE,IACvC,EAAA8b,YAAYtN,MAQdiV,UAAW,SAACpB,GAAiB,SAAKtU,yBAChCsU,EACA,uBAGFqB,qBAAsB,SAACrB,GAAiB,SAAKtU,yBAC3CsU,EACA,mCAGFsB,sBAAuB,WAAM,SAAK9H,eAAe,kCAAmC,QAEpF+H,2BAA4B,SAAC9F,EAAWpb,EAAagI,GAAe,SAAKmR,eACvE,wBAAwBiC,EAAS,eAAepb,EAAW,0BAA0BgI,EAAWtK,WAAWJ,GAAE,aAC7G,EAAA8b,YAAYjN,QAGdgV,2BAA4B,SAAC3hB,GAAa,SAAK2Z,eAAe,iCAAiC3Z,EAAQ,IAAK,EAAA4Z,YAAYtN,MAExHsV,uBAAwB,SAAC5hB,EAAUyd,EAAoB7B,GAAc,SAAKjC,eACxE,iCAAiC3Z,EAAQ,IAAIyd,EAAkB,IAAI7B,EAAS,IAC5E,EAAAhC,YAAYtN,MAGduV,sCAAuC,SAACC,EAAY9hB,GAAa,SAAK2Z,eACpE,mCAAmCmI,EAAU,IAAI9hB,EAAQ,IACzD,EAAA4Z,YAAYtN,MAGdyV,kCAAmC,SAACD,EAAY9hB,EAAU4b,GAAc,SAAKjC,eAC3E,mCAAmCmI,EAAU,IAAI9hB,EAAQ,IAAI4b,EAAS,IACtE,EAAAhC,YAAYtN,MAGd0V,gDAAiD,SAACC,GAAa,SAAKtI,eAClE,0CAA0CsI,EAAQ,IAClD,EAAArI,YAAYtN,MAGd4V,iBAAkB,SAACC,GAA+C,YAA/C,IAAAA,MAAe,EAAA9L,OAAO+L,sBAAyB,EAAKzI,eAAe,8BAA8BwI,EAAY,IAAK,EAAAvI,YAAYtN,MAEjJ+V,kCAAmC,SAACzG,EAAWpb,EAAa+K,GAAgB,YAAhB,IAAAA,MAAA,IAAgB,EAAKM,yBAC/EN,EACA,wBAAwBqQ,EAAS,eAC5Bpb,EAAW,qCAChB,EAAAoZ,YAAYtN,MAGdgW,oCAAqC,SAAC1G,EAAWpb,EAAatC,GAAe,SAAKyb,eAChF,wBAAwBiC,EAAS,eAC5Bpb,EAAW,qCAAqCtC,EAAWsgB,cAAa,IAC7E,EAAA5E,YAAYjN,MACZzO,IAGFqkB,wCAAyC,SAAC3G,EAAWpb,EAAatC,GAAe,SAAKyb,eACpF,wBAAwBiC,EAAS,eAC5Bpb,EAAW,qCAAqCtC,EAAWsgB,cAAa,aAC7E,EAAA5E,YAAYjN,MACZzO,IAGFskB,4CAA6C,SAACxiB,EAAU/C,EAAcwlB,GAAsB,SAAK9I,eAC/F,eAAe3Z,EAAQ,8CAA8C/C,EAAY,IACjF,EAAA2c,YAAYjN,MACZ8V,IAGFC,wCAAyC,SAAC1iB,EAAUyiB,GAAsB,SAAK9I,eAC7E,eAAe3Z,EAAQ,0CACvB,EAAA4Z,YAAYjN,MACZ8V,IAGFE,6BAA8B,SAAC/G,EAAW6B,GAAuB,SAAKmF,GAAG/D,wCAAwCjD,EAAW6B,IAE5HR,eAAgB,SAACjd,EAAUpF,EAAO2Q,GAAW,SAAKM,yBAChDN,EACA,eAAevL,EAAQ,gBAAgBpF,EAAK,IAC5C,EAAAgf,YAAYtN,MAGduW,wBAAyB,SAACjH,EAAW6B,EAAoBlS,GAAW,SAAKM,yBACvEN,EACA,wBAAwBqQ,EAAS,wBAAwB6B,EAAkB,2BAC3E,EAAA7D,YAAYtN,MAGdwW,2BAA4B,SAACC,EAA+BtF,GAAuB,SAAK9D,eACtF,wBAAwBoJ,EAA8BC,WAAU,wBAAwBvF,EAAkB,2BAA2BsF,EAA8BvE,cAAa,IAChL,EAAA5E,YAAYjN,MACZoW,IAGFE,4BAA6B,SAACrH,EAAW6B,EAAoBxgB,GAAiB,SAAK0c,eACjF,wBAAwBiC,EAAS,wBAAwB6B,EAAkB,gBAAgBxgB,EAAY,0BACvG,EAAA2c,YAAYtN,MAGd4W,qCAAsC,SAACtH,EAAW6B,EAAoBsB,GAAc,SAAKpF,eACvF,wBAAwBiC,EAAS,wBAAwB6B,EAAkB,gBAAgBsB,EAAU7gB,WAAWJ,GAAE,0BAA0BihB,EAAUA,UAAUjhB,GAAE,IAClK,EAAA8b,YAAYjN,MACZoS,IAGFoE,2BAA4B,SAACnjB,EAAU/C,GAAiB,SAAK0c,eAC3D,eAAe3Z,EAAQ,gBAAgB/C,EAAY,gBACnD,EAAA2c,YAAYtN,MAId8W,YAAa,CACX1H,SAAU,SAAC1b,GAAa,SAAK2Z,eAAe,OAAO3Z,EAAQ,yBAA0B,EAAA4Z,YAAYtN,MAEjGvM,YAAa,SAACC,GAAa,SAAK2Z,eAAe,OAAO3Z,EAAQ,4BAA6B,EAAA4Z,YAAYtN,SA9VvG,YAAY,EACZ,cAAc,IArlBb,EAAAiM,KAAO,CAAEZ,YAAa,EAAG8C,UAAW,GAEpC,EAAAhC,OAAS,CAAEC,MAAO,aAo7B3B,E,GAv7Ba,EAAAvL,a,8ECtBb,SAAYyM,GACV,kBACA,YACA,gBACA,cACA,YALF,CAAY,EAAAA,cAAA,EAAAA,YAAW,M,yFCAvB,yBACA,yBACA,yBACA,0B,yFCHA,yBACA,yBACA,yBACA,0B,yFCHA,2BACA,2BACA,UAEa,EAAAyJ,8BAAyC,UACnDxuB,OAAO,+BAAgC,CAAC,YACxCmW,OAAO,EAAAC,cAEV,UAAe,EAAAoY,8BAA8BnuB,KAG7C,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,2B,yFCjBA,2BACA,2BACA,UAEa,EAAAouB,yBAAoC,UAC9CzuB,OAAO,qCAAsC,CAAC,YAC9CmW,OAAO,EAAAuY,2BAEV,UAAe,EAAAD,yBAAyBpuB,KAExC,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,0BACA,2B,4HCwBesuB,IAlCc,SAAC5f,GAAU,MACjBA,EAAd9J,aAD+B,MACvB,GADuB,EAEhC+a,EAAUC,qBAAW9c,iBACpByrB,EAAmC5O,EAAnC4O,cAAeC,EAAoB7O,EAApB6O,iBAEhBC,EAAWlsB,yBACG,cAAlBgsB,EACI,sCACA,wCACJG,cAEF,OACE,kBAAC,IAAD,CACExiB,MAAK,UAAK3J,yBAAe,iCAApB,YAAwDksB,IAE7D,yBAAK7pB,MAAOA,GACV,kBAAC,IAAD,CACEA,MAAO,CACLC,OAAQ,OACRuK,OAAQ,UACRuf,UAAW,UAAF,OAA8B,cAAlBJ,EAAgC,EAAI,IAAhD,QACTvS,OAAQ,kBAEVkE,KAAMze,SAAO+N,SACbZ,QAAO,sBAAE,sBAAArI,EAAA,sDAEPioB,EADkC,cAAlBD,EAAgC,WAAa,aADtD,iD,wICvBbK,EAAanc,YAAW,CAC5Boc,KAAM,CACJzlB,QAAS,QAFMqJ,CAIhBqc,KAwGYC,IAtGE,SAACrgB,GAAU,IAExB9G,EACE8G,EADF9G,QAASgH,EACPF,EADOE,QAASogB,EAChBtgB,EADgBsgB,KAFM,EAGtBtgB,EADsBG,iBAFA,MAEY,GAFZ,IAGtBH,EADsC9J,aAFhB,MAEwB,GAFxB,IAGtB8J,EADkDugB,oBAF5B,WAIMlgB,mBAAS,MAJf,mBAInBmgB,EAJmB,KAITC,EAJS,KAUpBC,EAAkB,SAACjtB,EAAGktB,GAC1BltB,EAAE+Z,kBACF/Z,EAAEga,YAAYC,2BACVxN,GACFA,EAAQygB,GAENJ,GACFE,EAAY,OAQhB,OACE,yBAAKvqB,MAAOA,GACV,kBAAC,IAAD,CAAmB0qB,YANC,WACtB/c,YAAW,kBAAM4c,EAAY,WAMzB,kBAAC,IAAD,CACEI,aAAW,OACXC,gBAAc,YACdC,gBAAc,OACd7gB,QA1BY,SAACwP,GACnB+Q,EAAY/Q,EAAMsR,gBA0BZ9qB,MAAK,aAAI+D,MAAOlH,SAAOwH,OAAU4F,IAEhCmgB,GAAQ,kBAAC,IAAD,QAGb,kBAACJ,EAAD,CAAYe,KAAMC,QAAQV,GAAWA,SAAUA,GAC5CtnB,EAAQtB,KAAI,SAAC+oB,EAAQpxB,GACpB,MAAoB,cAAhBoxB,EAAO7b,KAEP,yBACEzS,IAAK9C,EACL2G,MAAO,CACLC,OAAQ,MACRqE,gBAAiBzH,SAAOqH,eAKZ,UAAhBumB,EAAO7b,KAEP,yBAAKzS,IAAKsuB,EAAOnjB,MAAOtH,MAAO,CAC7BC,OAAQ,OAAQkF,QAAS,OAAQF,WAAY,SAAUgK,UAAW,SAEpE,0BACEjP,MAAK,2BACAlD,QAAMiR,QADN,IAEHhK,MAAOlH,SAAO0H,MACdmG,WAAY,OACZugB,aAAc,UAGbR,EAAOnjB,QAMd,yBAAKnL,IAAKsuB,EAAOnjB,MAAOtH,MAAO,CAAEmF,QAAS,OAAQF,WAAY,WAC5D,yBAAKjF,MAAO,CACVmF,QAAS,OAAQjF,MAAO,SAExB,kBAAC,IAAD,CACEF,MAAK,2BACAlD,QAAMiR,QADN,IAEHkC,KAAM,IAERjG,QAAS,SAACzM,GAAD,OAAOitB,EAAgBjtB,EAAGktB,MAElCA,aAAA,EAAAA,EAAQS,aACP,kBAAC,IAAD,CACElrB,MAAO,CACL+D,MAAO0mB,EAAOU,SACVtuB,SAAO+N,SACP,cACJlG,YAAa,SAInB,0BAAM1E,MAAOlD,QAAMiR,QAAS0c,EAAOnjB,iB,yDCzGtC,MAA0B,0DCA1B,MAA0B,4D,gBCA1B,MAA0B,qE,+BCWnC8jB,EAAO,CACXjmB,QAAS,OACTjF,MAAO,OACPD,OAAQ,OACRmX,OAAQ,gBACRnS,WAAY,SACZC,eAAgB,SAChBgK,cAAe,UAGXlS,EAAS,CACbquB,gBAAiB,2BAAID,GAAN,IAAY1mB,YAAa,QACxC4mB,UAAW,CAACnmB,QAAS,OAAQF,WAAY,SAAUC,eAAgB,gBACnEqmB,aAAc,CAACrrB,MAAO,OAAQD,OAAQ,OAAQ+O,aAAc,MAAOC,UAAW,OAC9Euc,eAAgB,CAACtrB,MAAO,OAAQD,OAAQ,OAAQ+O,aAAc,QAC9Dyc,WAAY,CAACzc,aAAc,MAAO/O,OAAQ,OAAQC,MAAO,QACzDwrB,SAAU,CAACzrB,OAAQ,OAAQC,MAAO,OAAQ8O,aAAc,OAAQtK,YAAa,QAC7EinB,cAAe,CAACxmB,QAAS,OAAQD,eAAgB,UACjD0mB,UAAW,2BAAI9uB,QAAM+e,OAAZ,IAAmBgQ,WAAY,SAGpCC,EAAKnuB,yBAAe,mBACpBouB,EAAMpuB,yBAAe,8BACrBquB,EAAMruB,yBAAe,gBACrBsuB,EAAMtuB,yBAAe,iCACrBuuB,EAAMvuB,yBAAe,2BAyCZwuB,IAvCS,SAAC,GAAwB,IAAvBzd,EAAuB,EAAvBA,WAAY1O,EAAW,EAAXA,MACpC,OACE,yBAAKA,MAAK,2BAAMhD,EAAOsuB,WAActrB,IACnC,kBAAC,IAAD,CAASsH,MAAOwkB,GACd,yBAAK9rB,MAAOorB,GACV,kBAAC,IAAD,CAAMjrB,KAAMisB,EAAe/iB,SAAUqF,EAAW2d,SAAUrsB,MAAOhD,EAAOuuB,eACxE,kBAAC,IAAD,CAAerkB,UAAWwH,EAAW4d,mBAAoBjjB,SAAUqF,EAAW2d,aAGlF,kBAAC,IAAD,CAAS/kB,MAAOykB,GACd,yBAAK/rB,MAAOhD,EAAO2uB,eACjB,kBAAC,IAAD,CAAMxrB,KAAMosB,EAAiBljB,SAAUqF,EAAW8d,gBAAiBxsB,MAAOhD,EAAOwuB,mBAGrF,kBAAC,IAAD,CAASlkB,MAAO0kB,GACd,yBAAKhsB,MAAOorB,GACV,kBAAC,IAAD,CAAMjrB,KAAMssB,EAAapjB,SAAUqF,EAAWtU,OAAQ4F,MAAOhD,EAAOyuB,aACpE,kBAAC,IAAD,CAAevkB,UAAWwH,EAAWge,iBAAkBrjB,SAAUqF,EAAWtU,WAGhF,kBAAC,IAAD,CAASkN,MAAO2kB,GACd,yBAAKjsB,MAAK,2BAAMhD,EAAOquB,iBAAb,IAA8B/mB,gBAAiBoK,aAAF,EAAEA,EAAYie,eACnE,0BAAM3sB,MAAK,2BAAMhD,EAAO4uB,WAAb,IAAwB7nB,OAAO2K,aAAA,EAAAA,EAAYie,aAAc9vB,SAAOwH,MAAQxH,SAAO+Y,kBACvFlH,EAAWke,YAAc,KAE3Ble,EAAWke,YACV,kBAAC,IAAD,CAAe1lB,UAAWwH,EAAWme,gBAAiBxjB,QAAQ,EAAMhF,OAAK,MAI/E,kBAAC,IAAD,CAASiD,MAAO4kB,GACd,yBAAKlsB,MAAOhD,EAAO2uB,eACjB,kBAAC,IAAD,CAAMxrB,KAAM2sB,IAAWzjB,SAAUqF,EAAWqe,aAAc/sB,MAAOhD,EAAO0uB,iB,8CCjElF,W,iDAAA,YACA,QAIa,EAAAsB,QAAU,WAAM,OAAAtwB,OAAOkD,SAASqtB,UAOhC,EAAAC,aAAe,WAAM,SAAAF,UAAU1vB,MAAM,MAOrC,EAAAoC,eAAiB,WAC5B,IAAMtF,EAAS,mBAAmBuF,KAAK,EAAAqtB,WAEvC,OAAO5yB,EAASA,EAAO,GAAK,MAQjB,EAAAgpB,gBAAkB,WAC7B,IAAM+J,EAAY,EAAKD,eAKvB,OAJqBC,EAAUA,EAAU1jB,QAAQ,KAAO,IAW7C,EAAA2jB,6BAA+B,SAACC,GAC3C,QAD2C,IAAAA,OAAA,GACvCA,EAAS,CACX,IAAMjzB,EAAS,yBAAyBuF,KAAK,EAAAqtB,WAE7C,OAAO5yB,EAASA,EAAO,GAAK,KAE9B,IAAM+yB,EAAY,EAAKD,eAEnBI,EAAOH,EAAU1jB,QAAQ,KAAO,EAIpC,OAHK6jB,IACHA,EAAOH,EAAU1jB,QAAQ,MAAQ,GAE5B4jB,EAAU,EAAAL,UAAYG,EAAUG,IAQ5B,EAAAC,aAAe,WAC1B,IAAMJ,EAAY,EAAKD,eAEvB,OADkBC,EAAUA,EAAU1jB,QAAQ,WAAa,IAShD,EAAA+jB,UAAY,SAACC,QAAA,IAAAA,MAAA,GACxB,IA+CMrzB,EAAS,IAAI,EAAAszB,YAtBL,SAAC5hB,GACb,IAAIqhB,EAAY,EAAKD,eACjBhM,EAASiM,EAAUA,EAAU1jB,QAAQ,KAAO,GAEhD,IAAKyX,EAAQ,CACX,IAAMyM,EAASC,EAAE,+BAIf1M,EAFEyM,EAAOp0B,QAAUo0B,EAAOE,KAAK,QAC/BV,EAAYQ,EAAOE,KAAK,OAAOvwB,MAAM,MAClBwwB,SAAS,KAAOX,EAAUA,EAAU1jB,QAAQ,KAAO,GAAK,GAlCvD,WACxB,IAAIskB,EAAa,KACXC,EAAUJ,EAAE,oCACZK,EAAW,oEAEjB,GAAID,EAAQz0B,QAAU00B,EAASC,KAAK,GAAGF,EAAQj1B,KAAK,QAAW,CAG7Dg1B,EAFY,IAAII,IAAIH,EAAQj1B,KAAK,QAEhBstB,aAAa5qB,IAAI,UAC7B,CACL,IAGM6xB,EAHQnN,MAAMnO,KAClBtF,SAAS0hB,iBAAiB,4DAET7nB,MAAK,SAACvL,GAAM,OAAAizB,EAASC,KAAKlzB,EAAE6E,SAE/C,GAAIytB,EAGFS,EAFY,IAAII,IAAIb,EAAKztB,MAERwmB,aAAa5qB,IAAI,MAItC,OAAOsyB,EAcMM,GAITnN,EACFpV,EAASwiB,KAAKpN,GAEdpV,EAASnE,MAAMuZ,MAcnB,OARA9mB,EAAO6X,KACL,EAAAsc,WAAU,SAACC,GAAW,OAAAA,EAAOvc,KAC3B,EAAAwc,MAAM,KACN,EAAAC,KAAKjB,GACL,EAAAkB,UAAU,EAAAC,iBAIP,IAAIhwB,SAAQ,SAACC,EAASQ,GAC3BjF,EAAOy0B,UAAUhwB,EAASQ,OASjB,EAAAyvB,oBAAsB,WACjC,IAAIC,GAAQ,EAIZ,OAHI,EAAKC,gBACPD,GAAQ,GAEHA,GAQI,EAAAE,gBAAkB,WAC7B,IAAIF,GAAQ,EAIZ,OAHI,EAAKG,YACPH,GAAQ,GAEHA,GAQI,EAAAI,kBAAoB,WAAM,SAAKjC,eAAeY,SAAS,MAOvD,EAAAsB,eAAiB,WAAM,SAAKlC,eAAeY,SAAS,MAOpD,EAAAuB,WAAa,WACxB,IAAMlC,EAAY,EAAKD,eACnB6B,GAAQ,EASZ,OAPG5B,EAAU1jB,QAAQ,OAAS,GAAK0jB,EAAU1jB,QAAQ,MAAQ,IACxD0jB,EAAU1jB,QAAQ,eAAiB,GACnC0jB,EAAU1jB,QAAQ,WAAa,GAC/B0jB,EAAU1jB,QAAQ,QAAU,IAE/BslB,GAAQ,GAEHA,GAQI,EAAAO,eAAiB,WAC5B,IACIP,GAAQ,EAIZ,OALkB,EAAK7B,eAETzjB,QAAQ,aAAe,IACnCslB,GAAQ,GAEHA,GAUI,EAAAQ,aAAe,WAAM,wBAAkBrB,KAAK,EAAAlB,YAAc,EAAKwC,mBAS/D,EAAAA,gBAAkB,WAAM,4BAAsBtB,KAAK,EAAAlB,YAOnD,EAAAyC,eAAiB,WAC5B,IACIV,GAAQ,EAIZ,OALkB,EAAK7B,eAETzjB,QAAQ,MAAQ,IAC5BslB,GAAQ,GAEHA,GAQI,EAAAW,iBAAmB,WAC9B,IACIX,GAAQ,EAIZ,OALkB,EAAK7B,eAETzjB,QAAQ,MAAQ,IAC5BslB,GAAQ,GAEHA,GAQI,EAAAY,YAAc,WACzB,IACIZ,GAAQ,EAIZ,OALkB,EAAK7B,eAETzjB,QAAQ,MAAQ,IAC5BslB,GAAQ,GAEHA,GAQI,EAAAa,kBAAoB,WAC/B,IAAMzC,EAAY,EAAKD,eACnB6B,GAAQ,EAIZ,OAHI5B,EAAU1jB,QAAQ,gBAAkB,GAAK0jB,EAAU1jB,QAAQ,MAAQ,IACrEslB,GAAQ,GAEHA,GAQI,EAAAc,mBAAqB,WAChC,IAAM1C,EAAY,EAAKD,eACnB6B,GAAQ,EAIZ,OAHI5B,EAAU1jB,QAAQ,YAAc,GAAK0jB,EAAU1jB,QAAQ,MAAQ,IACjEslB,GAAQ,GAEHA,GAQI,EAAAe,mBAAqB,WAChC,IAAIf,GAAQ,EAEZ,OAAK,EAAKgB,SAAW,EAAKA,UAAY,EAAA/C,WAIpB,EAAK+C,QAAQzyB,MAAM,KACvBmM,QAAQ,gBAAkB,IACtCslB,GAAQ,GAEHA,GAPEA,GAeE,EAAAiB,oBAAsB,WACjC,IAAIjB,GAAQ,EAEZ,OAAK,EAAKgB,SAIQ,EAAKA,QAAQzyB,MAAM,KACvBmM,QAAQ,YAAc,IAClCslB,GAAQ,GAEHA,GAPEA,GAUE,EAAAkB,gBAAkB,WAAM,SAAKC,aAAe,EAAKA,cAAgB,EAAKxwB,kBAOtE,EAAAywB,WAAa,SAACJ,GACzB,EAAKA,QAAUA,GAQJ,EAAAK,eAAiB,SAACF,GAC7B,EAAKA,YAAcA,K,kDCrWrB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,wBAIa,EAAAG,YAAsD,SAACrtB,QAAA,IAAAA,MAAA,IA0ClE,OAAO,SAAwCyE,GAC7C,IAAM1M,EAzC4C,WAClD,IACIA,EAEJ,GAAIiI,EAAQjI,OACV,IACEA,EAASu1B,EAAQv1B,OAAO,GAAGiI,EAAQjI,QACnC,MAAO2M,GACP3M,EAAS,KAIb,IAAKA,EACH,IACEA,EAASu1B,EAAQv1B,OAbM,OAcvB,MAAO2M,GACPlK,QAAQmK,MAAM,yEAA8FD,GAC5G3M,EAAS,KAIb,OAAOA,EAoBiBw1B,GASxB,OAPIx1B,GACFA,EAAOmW,OAAO,CAAP,0BAAO,SAACsf,GApBsE,IAACC,EAsBpFD,EAAwBne,KAtB4Doe,EAsBnChpB,EAT9C,WAAIgpB,EAAmBC,SAAW,GAAE,CAZjB,WAAlB,IAAmB,sDACzB,IAAMjR,EAAW,IAAYgR,EAAkB,WAAlBA,EAAkB,oBAAIE,KAQnD,OANAn3B,OAAOymB,KAAKzmB,OAAOo3B,eAAenR,IAAcrZ,SAAQ,SAACjK,GACnDsjB,EAAYtjB,aAAgB00B,WAC9BpR,EAAYtjB,GAAOsjB,EAAYtjB,GAAKC,KAAKqjB,OAItCA,MAY0Dzc,EAAQ8tB,UAIpErpB,K,8EC9CX,MACE,SAAmB7J,EAAsB4B,QAAA,IAAAA,MAAA,cAAtB,KAAA5B,QAAsB,KAAA4B,UAD9B,EAAAuxB,c,8ECVb,SAAYC,GACV,mCACA,4CACA,+BACA,mCACA,qCACA,8CACA,iCACA,qCARF,CAAY,EAAAA,kBAAA,EAAAA,gBAAe,M,8ECA3B,SAAYC,GACV,uCACA,qDACA,iDAHF,CAAY,EAAAA,8BAAA,EAAAA,4BAA2B,M,yFCAvC,OACA,QAOA,cAEE,a,OACE,cAAO,KAGX,OANoC,iBAAvBC,EAAc,cAF1B,EAAA/d,WAAW,CAAEC,WAAY,SACzB,EAAA+d,YAAY,CAAE/1B,KAAM,c,sCACR81B,GAAb,CAAoC,EAAAE,aAAvB,EAAAF,kB,yFCRb,OACA,QACA,SAWA,cAGE,mBACE,YAAM,EAAAG,kBAAkB,CAACC,GAAI,EAAAC,0BAAwB,K,OACrD,EAAKC,gBAAgBC,sBAAsB,EAAAC,oBAC3C,EAAKC,aAAY,G,EAWrB,OAjBsC,iBASpC,YAAAC,qBAAA,WACE,EAAAC,eAAengB,KAAKogB,UAAW,EAAAC,aAAaC,eAAgB,CAC1DC,QAAS,CACPl5B,KAAM,GACNm5B,UAAW,MAbNC,EAAgB,cAF5B,EAAAhf,WAAW,CAACC,WAAY,SACxB,EAAA+d,YAAY,CAAC/1B,KAAM,gB,sCACP+2B,GAAb,CAAsC,EAAAf,aAAzB,EAAAe,oB,kFCPDra,EAOAsa,E,OAbZ,SAMA,SAAYta,GACV,4CACA,8DACA,wBACA,WAJF,CAAYA,EAAA,EAAAA,iBAAA,EAAAA,eAAc,KAO1B,SAAYsa,GACV,oBACA,gBACA,wBAHF,CAAYA,EAAA,EAAAA,kBAAA,EAAAA,gBAAe,KAU3B,SAAYC,GACV,0BACA,gDAFF,CAAY,EAAAA,qBAAA,EAAAA,mBAAkB,KAK9B,SAAYC,GACV,oBACA,8BACA,gBACA,cAJF,CAAY,EAAAA,mBAAA,EAAAA,iBAAgB,KAqE5B,8BAAmC7gB,GACjC,OAAO,YACL8gB,YAAY,GACT9gB,IAIP,+BAAoCA,GAClC,OAAO,YACL+gB,QAAS,CACP1xB,MAAO,CAACsxB,EAAgBK,UAAWL,EAAgBM,OACnD9jB,KAAM,CACJkJ,EAAe6a,oBACf7a,EAAe8a,6BACf9a,EAAe+a,UACf/a,EAAegb,QAGnB7wB,KAAM,CACJ8wB,GAAI,kBACJjC,MAAO,EAAAkC,MAAMC,MAEZxhB,IAIP,6BAAkCA,GAChC,OAAO,cACFA,IAIP,4BAAiCA,GAC/B,OAAO,cACFA,K,yFCnIP,OACA,QACA,SAQA,cACE,mBACE,YAAM,EAAAyhB,kBAAkB,CAAC5B,GAAI,EAAA6B,0BAAwB,K,OACrD,EAAKxB,aAAY,G,EAYrB,OAfsC,iBAMpC,YAAAC,qBAAA,WACE,EAAAC,eAAengB,KAAKogB,UAAW,EAAAC,aAAaC,eAAgB,CAC1DC,QAAS,CACPl5B,KAAM,GACNm5B,UAAW,MAVNkB,EAAgB,cAF5B,EAAAjgB,WAAW,CAACC,WAAY,SACxB,EAAA+d,YAAY,CAAC/1B,KAAM,gB,sCACPg4B,GAAb,CAAsC,EAAAhC,aAAzB,EAAAgC,oB,yFCVb,SAQA,SAAY9Y,GACV,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UARF,CAAY,EAAAA,sBAAA,EAAAA,oBAAmB,KAW/B,SAAYC,GACV,wBACA,oCACA,8BACA,oBAJF,CAAY,EAAAA,mBAAA,EAAAA,iBAAgB,KAwD5B,4BAAiC9I,GAC/B,OAAO,cACFA,IAIP,6BAAkCA,GAChC,OAAO,cACFA,IAIP,+BAAoCA,GAClC,OAAO,YACLxP,KAAM,CACJ8wB,GAAI,eACJjC,MAAO,EAAAkC,MAAMC,MAEZxhB,K,yFC7FP,2BACA,2BACA,UAEa,EAAA4hB,8BAAyC,UACnDt4B,OAAO,+BAAgC,CAAC,YACxCmW,OAAO,EAAAC,cAEV,UAAe,EAAAkiB,8BAA8Bj4B,KAE7C,0BACA,0BACA,0BACA,0BACA,0BACA,2B,kFCiBY0c,E,OAhCZ,SAQA,SAAYwC,GACV,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UARF,CAAY,EAAAA,sBAAA,EAAAA,oBAAmB,KAW/B,SAAY8X,GACV,oBACA,gBACA,wBAHF,CAAY,EAAAA,kBAAA,EAAAA,gBAAe,KAM3B,SAAY7X,GACV,wBACA,oCACA,8BACA,oBAJF,CAAY,EAAAA,mBAAA,EAAAA,iBAAgB,KAO5B,SAAYzC,GACV,4CACA,8DACA,wBACA,WAJF,CAAYA,EAAA,EAAAA,iBAAA,EAAAA,eAAc,KAwD1B,6BAAkCrG,GAChC,OAAO,cACFA,IAIP,+BAAoCA,GAClC,OAAO,YACL+gB,QAAS,CACP1xB,MAAO,GACP8N,KAAM,CACJkJ,EAAe6a,oBACf7a,EAAe8a,6BACf9a,EAAe+a,UACf/a,EAAegb,QAGnB7wB,KAAM,CACJ8wB,GAAI,kBACJjC,MAAO,EAAAkC,MAAMC,MAEZxhB,K,yFC7GP,OACA,QACA,SASA,cAEE,mBACE,YAAM,EAAA4f,kBAAkB,CAACC,GAAI,EAAAC,0BAAwB,K,OACrD,EAAKI,aAAY,G,EAWrB,OAfsC,iBAOpC,YAAAC,qBAAA,WACE,EAAAC,eAAengB,KAAKogB,UAAW,EAAAC,aAAaC,eAAgB,CAC1DC,QAAS,CACPl5B,KAAM,GACNm5B,UAAW,MAXNC,EAAgB,cAF5B,EAAAhf,WAAW,CAACC,WAAY,SACxB,EAAA+d,YAAY,CAAC/1B,KAAM,gB,sCACP+2B,GAAb,CAAsC,EAAAf,aAAzB,EAAAe,oB,oCCXb,kCAqBemB,IAjBY,kBACvB,yBACEtzB,MAAO,CACLkB,SAAU,QACV6L,IAAK,EACL1L,KAAM,EACNsO,MAAO,EACPrO,OAAQ,EACR2D,WAAY,SACZC,eAAgB,SAChBC,QAAS,SAGX,kBAAC,IAAD,CAAkB+E,KAAM,Q,uFCjB9B,SAAYgV,GACV,6BACA,mCACA,mCACA,6BACA,6BACA,2BACA,iDACA,+CACA,+BACA,2CACA,qBACA,iEACA,mCACA,yEACA,qDACA,uDACA,2CACA,yBACA,yCACA,iDACA,+CACA,+CACA,qCACA,6CACA,2EACA,iCACA,uEACA,yCACA,+BACA,2CACA,qCACA,iBACA,2CACA,6CACA,iDACA,mDACA,uDACA,iCACA,uEACA,2EACA,2CACA,6CACA,qDACA,2EACA,uCACA,+BACA,mDACA,mDACA,iDACA,+CACA,qCACA,qDACA,yDACA,+BAtDF,CAAY,EAAAA,iBAAA,EAAAA,eAAc,M,8ECAb,EAAAqU,YAA2B,CACtCC,QAAS,MACTC,YAAY,EACZC,QAAS,QACTC,KAAM,CACJC,OAAQ,0BACRC,OAAQ,6BACRC,SAAU,8BACVC,MAAO,sE,6BCPX,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAYpD,WAAYzF,GAHL,KAAA0F,QAAkB,EAKvBtiB,KAAK4c,KAAOA,EAEhB,O,mBAAA,E,GATa,EAAA2F,Y,6BCPb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,QAEA,wB,aAeE,WAAoBC,EAA2CjgB,GAA3C,KAAAigB,sBAGlBxiB,KAAKyiB,OAASlgB,EAASjQ,GACvB0N,KAAK0iB,iBAAmB,CACtB,CACEpwB,GAAI,EAAAkM,aAAamkB,WACjBz2B,MAAO,sDACP2Y,SAAS,EACT+d,UAAW,CAAEC,KAAM,EAAArkB,aAAamkB,aAElC,CACErwB,GAAI,EAAAkM,aAAaskB,sBACjB52B,MAAO,6DACP2Y,SAAS,EACT+d,UAAW,CAAEC,KAAM,EAAArkB,aAAaskB,wBAElC,CACExwB,GAAI,EAAAkM,aAAaukB,iBACjB72B,MAAO,4DACP2Y,SAAS,EACT+d,UAAW,CAAEC,KAAM,EAAArkB,aAAaukB,oBAyCpC,IAAI,EAAI,EAyBZ,O,6CA7DS,YAAAC,gBAAP,SAAuBC,GACrB,IAAMx4B,EAAcuV,KAAKkjB,gBAAgBD,GAEzC,OAAIjjB,KAAKwiB,oBAAoBW,OAAO14B,GAC3BuV,KAAKojB,qBAAqBpjB,KAAKqjB,oBAAoBJ,IAGrDjjB,KAAKsjB,2BAGP,YAAAC,iBAAP,SAAwBN,EAAmBO,GACzC,IAAM/4B,EAAcuV,KAAKkjB,gBAAgBD,GACnCQ,EAAsCD,EACzC3uB,MAAK,SAAC4uB,GAAiD,OAAAA,EAAiB5e,WAE3E7E,KAAKwiB,oBAAoB/0B,IAAIhD,EAAK,GAAGg5B,EAAiBnxB,KAGhD,YAAAgxB,wBAAR,WACE,OAAOtjB,KAAK0iB,iBACT9U,QAAO,SAAC8V,EAA0BD,GACjC,IAAME,EAA0C77B,OAAO0P,OAAO,GAAIisB,GAKlE,OAHAE,EAAqBf,UAAY96B,OAAO0P,OAAO,GAAIisB,EAAiBb,WACpEc,EAAIv7B,KAAKw7B,GAEFD,IACN,KAGC,YAAAL,oBAAR,SAA4BJ,GAC1B,IAAMx4B,EAAcuV,KAAKkjB,gBAAgBD,GACnCW,EAAyB,GAAG5jB,KAAKwiB,oBAAoBz4B,IAAIU,GACzDo5B,EAAyC7jB,KAAKsjB,0BAMpD,OAJAO,EAAkBnvB,SAAQ,SAAC+uB,GACzBA,EAAiB5e,QAAU,GAAG4e,EAAiBnxB,KAASsxB,KAGnDC,GAGD,YAAAT,qBAAR,SAA6BI,GAC3B,IAAMM,EAAuCN,EAC1C7uB,QAAO,SAAC8uB,GAAiD,OAAAA,EAAiB5e,WAW7E,OATKif,EAAgBj8B,OAEVi8B,EAAgBj8B,OAAS,IAClC27B,EAAa,GAAG3e,SAAU,EAC1B2e,EAAat4B,MAAM,GAAGwJ,SAAQ,SAAC+uB,GAC7BA,EAAiB5e,SAAU,MAJ7B2e,EAAa,GAAG3e,SAAU,EAQrB2e,GAGD,YAAAN,gBAAR,SAAwBD,GACtB,OAAUjjB,KAAKyiB,OAAM,uBAAuBQ,GAzFnCc,EAAmB,cAJ/B,EAAA3qB,QAAQ,CACP/P,OAAQ,UACRK,KAAM,wBA0EA,EAAQ,WAAW,oBAAqB,CApEe,mBAoEN,OApEM,IAApB,EAAAs6B,sBAAA,EAAAA,sBAAoB,SAA4B,mBAA5B,OAA4B,IAAhB,EAAAC,kBAAA,EAAAA,kBAAgB,YAJ9EF,G,GAAA,EAAAA,uB,yFCdb,QACA,2BAgBA,2BA6BA,OA3BS,YAAAG,MAAP,WACEl5B,OAAOgC,aAAak3B,SAGf,YAAAf,OAAP,SAAc14B,GACZ,OAA4C,OAArCO,OAAOgC,aAAaC,QAAQxC,IAG9B,YAAA05B,SAAP,SAAyB15B,GACvB,OAAO25B,KAAKC,MAAMrkB,KAAKjW,IAAIU,KAGtB,YAAAV,IAAP,SAAWU,GACT,OAAOO,OAAOgC,aAAaC,QAAQxC,IAG9B,YAAA65B,OAAP,SAAc75B,GACZO,OAAOgC,aAAau3B,WAAW95B,IAG1B,YAAA+5B,SAAP,SAAgB/5B,EAAaN,GAC3B6V,KAAKvS,IAAIhD,EAAK25B,KAAKK,UAAUt6B,KAGxB,YAAAsD,IAAP,SAAWhD,EAAaN,GACtBa,OAAOgC,aAAaQ,QAAQ/C,EAAKN,IA3BxBq4B,EAAmB,cAJ/B,EAAAppB,QAAQ,CACP1P,KAAM,sBACNL,OAAQ,aAEGm5B,GAAb,GAAa,EAAAA,uB,yFCjBb,OACA,QAEA,SAKA,SAAgBkC,EAAmBC,GACjC,MAAO,CACLrS,MAAO,GACPliB,WAAY,GACZw0B,kBAAkB,EAClBC,YAAY,EACZC,UAAW,GACXxyB,GAAI,EACJqyB,WAAU,EACVr0B,UAAW,GACXy0B,UAAW,IAVf,uBAgBA,kBACE,WAAkDC,GAAlD,MACE,YAAMN,EAAmBM,EAAkBL,cAAY,K,OADP,EAAAK,oB,QAGpD,OAJ+B,iBAAlBC,EAAS,cAFrB,EAAAxjB,WAAW,CAACC,WAAY,SACxB,EAAA+d,YAAY,CAAC/1B,KAAM,SAEL,cAAAw7B,OAAO,EAAAC,qB,kCAAkE,mB,OAAA,IAAjB,EAAAC,mBAAA,EAAAA,mBAAiB,YAD3EH,GAAb,CAA+B,EAAAI,OAAlB,EAAAJ,a,8ECxBb,WAQa,EAAAE,mBAAqB,IAAI,EAAAG,eAAkC,2B,wCCRxE,sDAAS9b,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClD,YAAa,YACbjgB,EAAG,gBACHmgB,KAAM,SAGJ2b,EAAqB,gBAAoB,OAAQ,CACnD,YAAa,YACb97B,EAAG,mIACHmgB,KAAM,YAGR,SAAS4b,EAAwBptB,GAC/B,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDM,MAAO,6BACPtb,MAAO,GACPD,OAAQ,IACP6J,GAAQsR,EAAM6b,GAGJ,K,mKCZTE,EAAax5B,yBAAe,gBAC5By5B,EAAsBz5B,yBAAe,mBACrC05B,EAAyB15B,yBAAe,2BACxC25B,EAA4B35B,yBAAe,8BAC3C45B,EAA6B55B,yBAAe,8BA8OnC65B,IA5Oc,SAAC1tB,GAAU,4BAEpC2tB,EAYE3tB,EAZF2tB,OACArzB,EAWE0F,EAXF1F,WACAsK,EAUE5E,EAVF4E,WAJoC,EAclC5E,EATFH,iBALoC,WAclCG,EARFzD,cANoC,MAM3B,CACP,SACA,kBACA,cACA,eACA,kBAXkC,EAapCrG,EACE8J,EADF9J,MAEI+a,EAAUC,qBAAW9c,iBACnBw5B,EAAmB3c,EAAnB2c,IAAKC,EAAc5c,EAAd4c,UACPhsB,EAAMyB,iBAAO,CAAEsB,eAjBiB,EAkBPqK,sBAAW,SAACvM,GAAD,OAAOA,EAAI,IAAG,GAlBlB,mBAkBtBwM,GAlBsB,WAoBtC1O,qBAAU,WACJX,GACFgC,EAAIO,QAAQwC,WAAZ,2BACK/C,EAAIO,QAAQwC,YADjB,IAEE2d,SAAU,KACVjyB,OAAQ,KACRsyB,iBAAkBzlB,IAAeG,WACjCwwB,SAAU,KACV/K,gBAAiB5lB,IAAeG,WAChCklB,mBAAoBrlB,IAAeG,WACnC2lB,aAAc,KACd8K,WAAY,iBAEd7e,MAEArN,EAAIO,QAAQwC,WAAaA,EACzBsK,OAED,CAACrP,IAEJW,qBAAU,WACRqB,EAAIO,QAAQwC,WAAaA,EACzBsK,MACC,CAACtK,IAEJ,IAAMopB,EAAsCC,mBAAQ,kBAAMC,IAAQ,uCAAC,WAAOh0B,EAAIjL,EAAM4Q,EAAW8tB,EAAQC,GAApC,6BAAA/1B,EAAA,0DAC7DgI,EAD6D,uBAE3D8tB,IAAQ,EAIN1+B,EAAK,GADPszB,EAHQ,EAGRA,SAAUjyB,EAHF,EAGEA,OAAQ2yB,EAHV,EAGUA,aAAc6K,EAHxB,EAGwBA,SAAUtL,EAHlC,EAGkCA,mBAAoBI,EAHtD,EAGsDA,iBAAkBG,EAHxE,EAGwEA,gBAElF4K,EAAO,CACLpL,WAAUjyB,SAAQ2yB,eAAc6K,WAAUtL,qBAAoBI,mBAAkBG,qBARrB,iCAa7D4K,GACFA,EAAO1+B,GAdwD,SAgB3D2+B,EAAI1O,2BAA2BjwB,GAhB4B,2CAAD,8DAiB/D,OAAM,CAAC2V,aAAD,EAACA,EAAY1K,KAEhBi0B,EAAS,uCAAG,WAAOC,GAAP,eAAAv2B,EAAA,6DACIF,EAAQkK,EAAIO,QAAxBwC,YACJkpB,SAAWM,aAAf,EAAeA,EAAOl0B,GACtBvC,EAAImrB,WAAasL,aAAjB,EAAiBA,EAAO98B,KACxBqG,EAAIkrB,YAAcuL,aAAlB,EAAkBA,EAAOn0B,MACzBtC,EAAI02B,gBAAkBC,KAAKC,MAC3B1sB,EAAIO,QAAQwC,WAAajN,EANT,SAOVq2B,EAAoC1zB,EAAWJ,GAAI,CAACvC,GAAKkI,EAAW8tB,EAAQC,GAPlE,2CAAH,sDAUTY,EAAY,uCAAG,WAAOC,GAAP,eAAA52B,EAAA,6DACCF,EAAQkK,EAAIO,QAAxBwC,YACJme,gBAAkB0L,EACtB5sB,EAAIO,QAAQwC,WAAajN,EAHN,SAIbq2B,EAAoC1zB,EAAWJ,GAAI,CAACvC,GAAKkI,EAAW8tB,EAAQC,GAJ/D,2CAAH,sDAOZc,EAAoB,uCAAG,WAAOpqB,EAAMhT,GAAb,eAAAuG,EAAA,sDACPF,EAAQkK,EAAIO,QAAxBwC,WADmB,KAEnBtT,EAFmB,OAGpB,WAHoB,OAOpB,8CAPoB,OAWpB,yBAXoB,QAepB,4BAfoB,+BAIvBqG,EAAIrH,OAASgU,EACb3M,EAAIg3B,iBAAmBL,KAAKC,MALL,mCAQvB52B,EAAI4qB,SAAWje,EACf3M,EAAIi3B,mBAAqBN,KAAKC,MATP,oCAYvB52B,EAAIsrB,aAAe3e,EACnB3M,EAAIk3B,uBAAyBP,KAAKC,MAbX,oCAgBvB52B,EAAI+qB,gBAAkBpe,EACtB3M,EAAIm3B,0BAA4BR,KAAKC,MAjBd,wEAsB3B1sB,EAAIO,QAAQwC,WAAajN,EAtBE,UAuBrBq2B,EAAoC1zB,EAAWJ,GAAI,CAACvC,GAAKkI,EAAW8tB,EAAQC,GAvBvD,4CAAH,wDA0BpBmB,EAAsB,uCAAG,WAAOz9B,EAAMm9B,GAAb,eAAA52B,EAAA,sDACTF,EAAQkK,EAAIO,QAAxBwC,WADqB,KAErBtT,EAFqB,OAGtB,WAHsB,OAMxB,8CANwB,6BAIzBqG,EAAIirB,iBAAmB6L,EAJE,kCAOzB92B,EAAI6qB,mBAAqBiM,EAPA,kCAY7B5sB,EAAIO,QAAQwC,WAAajN,EAZI,UAavBq2B,EAAoC1zB,EAAWJ,GAAI,CAACvC,GAAKkI,EAAW8tB,EAAQC,GAbrD,4CAAH,wDAetBoB,EAAazyB,EAAOE,MAAK,SAACI,GAAD,MAAa,WAANA,KAChCoyB,EAAe1yB,EAAOE,MAAK,SAACI,GAAD,MAAa,oBAANA,KAClCqyB,GAAkB3yB,EAAOE,MAAK,SAACI,GAAD,MAAa,gBAANA,KACrCsyB,GAAY5yB,EAAOE,MAAK,SAACI,GAAD,MAAa,iBAANA,KAC/BuyB,GAAqB7yB,EAAOE,MAAK,SAACI,GAAD,MAAa,mBAANA,KAC9C,IAAKoyB,IAAiBC,KAAoBF,EACxC,OAAO,KAhI6B,IAkI9Bn1B,GAAgBS,EAAhBT,YACFC,GAAoBF,+BAAqBC,IAE3C2U,GAAe1U,cAAH,EAAGA,GAAmBu1B,WACpC,SAAChgB,GAAD,aAAOA,EAAEnV,MAAF,UAAS2H,EAAIO,QAAQwC,kBAArB,aAAS,EAAwBkpB,aAI1C,OAFAtf,GAAeA,GAAe,EAAI,EAAIA,GAGpC,oCACE,kBAAC,IAAD,CACEtY,MAAK,aACH6K,OAAQ,gBACRuuB,WAAY,OACZC,cAAe,QACZr5B,IAGJ+4B,GACC,kBAAC,IAAD,CACE/0B,GAAI,4CACJoK,KAAI,UAAEzC,EAAIO,QAAQwC,kBAAd,aAAE,EAAwB2d,SAC9Bhe,YAAa+oB,EACb7oB,aAAciqB,EACdtxB,UAAS,UAAEyE,EAAIO,QAAQwC,kBAAd,aAAE,EAAwB4d,mBACnC3d,WAAYvM,0BAAe,UAACuJ,EAAIO,QAAQwC,kBAAb,aAAC,EAAwBgqB,oBACpDjqB,UAAWoqB,EACXrqB,SAAUmpB,EACVrpB,QAASqpB,EACT9oB,YAAalF,EAAUhM,yBAAe,0BAA0B,GAChEgM,UAAWA,IAGduvB,KAAuBvvB,GACtB,kBAAC,IAAD,CACE3F,GAAI,0BACJoK,KAAI,UAAEzC,EAAIO,QAAQwC,kBAAd,aAAE,EAAwB8d,gBAC9Bne,YAAaspB,EAAYJ,EAA6BD,EACtD3oB,WAAYvM,0BAAe,UAACuJ,EAAIO,QAAQwC,kBAAb,aAAC,EAAwBkqB,2BACpDtqB,SAAO,EACPE,UAAWmpB,EACXppB,aAAciqB,IAGjBM,GACC,kBAAC,IAAD,CACE90B,GAAI,SACJqK,YAAa8oB,EACb5oB,aAAciqB,EACdpqB,KAAI,UAAEzC,EAAIO,QAAQwC,kBAAd,aAAE,EAAwBtU,OAC9B8M,UAAS,UAAEyE,EAAIO,QAAQwC,kBAAd,aAAE,EAAwBge,iBACnCje,UAAWoqB,EACXlqB,WAAYvM,0BAAe,UAACuJ,EAAIO,QAAQwC,kBAAb,aAAC,EAAwB+pB,kBACpDjqB,SAAUmpB,EACVrpB,QAASqpB,EACThuB,UAAWA,EACXkF,YAAalF,EAAUhM,yBAAe,0BAA0B,KAGnEs7B,IAAar1B,GAAkBrK,OAAS,GACvC,oCACE,0BACEyG,MAAK,2BACAlD,QAAMkR,OADN,IAEHgB,aAAc,OACdC,UAAW,UAGZtR,yBAAe,sBAElB,kBAAC,IAAD,CACEqG,GAAI2H,EAAIO,QAAQwC,WAAW1K,GAC3BkD,UAAS,UAAEyE,EAAIO,QAAQwC,kBAAd,aAAE,EAAwBme,gBACnCtU,SAAUnW,0BAAe,UAACuJ,EAAIO,QAAQwC,kBAAb,aAAC,EAAwBypB,iBAClD9f,OAAQzU,GACR0U,aAAcA,GACdG,eAAgB,SAAC6gB,GACfrB,EACEt0B,GAAYE,OAAO0C,MACjB,SAACzC,GAAD,OAAOA,EAAEE,KAAOJ,GAAkB01B,GAAOt1B,QAI/CyK,UAAW,SAAC5S,GAAD,OAAWy8B,EAAaz8B,IACnC2c,aAAcmf,EACdnoB,SAAUmoB,EACVhuB,UAAWA,KAIfqvB,KAAoBrB,GACpB,kBAAC,IAAD,CACE3zB,GAAI,uBACJoK,KAAI,UAAEzC,EAAIO,QAAQwC,kBAAd,aAAE,EAAwBqe,aAC9B1e,YAAagpB,EACb1oB,WAAavM,0BAAe,UAACuJ,EAAIO,QAAQwC,kBAAb,aAAC,EAAwBiqB,wBACrDrqB,SAAO,EACPC,aAAciqB,EACdhqB,SAAUmpB,EACV9oB,YAAalF,EAAUhM,yBAAe,0BAA0B,S,6BCvP7D,QAA0B,2D,yECInCqC,EAAQ,CACZu5B,OAAQ,CACNp0B,QAAS,OACTX,QAAQ,sBACRg1B,SAAU,OACV/0B,aAAc,MACdH,gBAAiB,cAaNm1B,IATS,SAAC,GAAqB,IAApBnyB,EAAoB,EAApBA,MAAO0C,EAAa,EAAbA,QAC/B,OACE,kBAAC,IAAD,CACEA,QAASA,EACThK,MAAOA,EAAMu5B,QACb,0BAAMv5B,MAAK,2BAAMlD,QAAMiR,QAAZ,IAAoB8d,WAAY,SAASvkB,O,0FCdpDtH,EACI,CACNmF,QAAS,OACTlF,OAAQ,MACRuE,QAAS,sBACTg1B,SAAU,OACV/0B,aAAc,OAaHi1B,IATO,SAAC,GAAqC,IAApCpyB,EAAoC,EAApCA,MAAO0C,EAA6B,EAA7BA,QAA6B,IAApB2vB,gBAAoB,SAC1D,OACE,kBAAC,IAAD,CACE3vB,QAASA,EACThK,MAAK,2BAAMA,GAAN,IAAoB0K,WAAY,OAAQhG,YAAa,OAAQJ,gBAAiBq1B,EAAS98B,IAAO4X,QAAQ5X,IAAOiT,SAClH,0BAAM9P,MAAK,2BAAMlD,QAAMiR,QAAZ,IAAoB8d,WAAY,MAAO9nB,MAAO41B,EAAS98B,IAAOwX,UAAUxX,IAAO4X,WAAWnN,O,0OCdrGsG,EAAeC,YAAW,CAC9BC,KAAM,CACJ,mDACKhR,IAAM+e,OADX,IAEErX,QAAS,QAEX,sCACK1H,IAAMkR,OAEX,sBAAuB,CACrBjK,MAAOlH,IAAO0H,OAEhB,8BAA+B,CAC7B0J,kBAAmBpR,IAAO0H,SAbXsJ,CAgBlBK,KAiCY0rB,EA/BM,SAAC9vB,GAAU,IAE5B1O,EACE0O,EADF1O,KAAay+B,EACX/vB,EADIgwB,MAAqB91B,EACzB8F,EADyB9F,GAAIiW,EAC7BnQ,EAD6BmQ,IAAK5K,EAClCvF,EADkCuF,SAAU0qB,EAC5CjwB,EAD4CiwB,QAASvrB,EACrD1E,EADqD0E,SAF3B,EAIJrE,mBAAS0vB,GAJL,mBAIvBC,EAJuB,KAIhBE,EAJgB,KAU9B,OAJA1vB,qBAAU,WACR0vB,EAASH,KACR,CAACA,IAGF,yBAAK75B,MAAO,CAAEmF,QAAS,OAAQF,WAAY,SAAUP,YAAa,QAChE,0BAAM1E,MAAK,2BAAOlD,IAAM+e,OAAb,IAAoB9X,MAAOlH,IAAO0H,MAAOG,YAAa,SAAUtJ,GAC3E,kBAACwS,EAAD,CAAc4B,SAAUhB,EAAUI,KAAM,SAAU5O,MAAO,CAAEE,MAAO,QAAUrE,MAAOi+B,EAAOzqB,SAAU,YAAgB,IAC5GxT,EAD4G,EAAb0T,OAC/F1T,MAMNm+B,EAJEn+B,EADEA,EAAQ,EACF,EAEAA,GAASoe,EAAMA,EAAMpe,GAG3BwT,GACFA,EAAS,CAAEyqB,MAAOr2B,SAAS5H,EAAO,IAAKmI,KAAI+1B,eAG/C,0BAAM/5B,MAAK,eAAOlD,IAAM+e,QAAxB,KAAoC5B,K,QCpCpCggB,EAA6Bt8B,yBAAe,0BAC5Cu8B,EAA2Bv8B,yBAAe,6BACdA,yBAAe,8BA8TlCyL,oBA5TQ,SAACU,GACtB,IAAMiR,EAAUC,qBAAW9c,iBAEzBi8B,EAUErwB,EAVFqwB,uBACA3zB,EASEsD,EATFtD,kBACsB4zB,EAQpBtwB,EARFlD,qBACAjD,EAOEmG,EAPFnG,YACA8zB,EAME3tB,EANF2tB,OAP8B,GAa5B3tB,EALFuwB,YAKEvwB,EAJFzD,eAT8B,MASrB,CAAC,QAAS,WAAY,OAAQ,qBATT,IAa5ByD,EAHFwwB,kBAV8B,MAUjB,GAViB,EAW9BC,EAEEzwB,EAFFywB,QAX8B,EAa5BzwB,EADFH,iBAZ8B,SAezB+tB,EAAwC3c,EAAxC2c,IAAK8C,EAAmCzf,EAAnCyf,qBAAsB7C,EAAa5c,EAAb4c,UAC5B8C,EAAmBrtB,iBAAO,IAhBA,EAiBwBjD,mBAASiwB,GAjBjC,mBAiBzBxzB,EAjByB,KAiBH8zB,EAjBG,KAmBhCpwB,qBAAU,WACJX,EACF+wB,EAAwB9zB,EAAqBlF,KAAI,SAAAC,GAAC,kCAC7CA,GAD6C,IAEhD2qB,oBAAoB,EACpBoM,mBAAoB,KACpBiC,gBAAiB,EACjBC,gBAAiB,EACjBC,gBAAiB,EACjBC,gBAAiB,EACjBC,gBAAiB,EACjBC,gBAAiB,EACjBC,gBAAiB,EACjBC,gBAAiB,EACjBC,gBAAiB,EACjBC,gBAAiB,EACjB/O,SAAU,KACV6L,MAAO,KACPN,SAAU,KACVO,gBAAiB,KACjBtL,iBAAiB,EACjBwO,sBAAuB,KACvBtO,aAAc,KACd4L,uBAAwB,KACxBnM,gBAAiB,KACjBoM,0BAA2B,YAG7B6B,EAAiBvuB,QAAU,GAC3BwuB,EAAwBN,MAEzB,CAACzwB,IAEJW,qBAAU,WACHX,GACH+wB,EAAwBN,KAEzB,CAACD,EAAwBC,IAE5B,IAAMkB,EAAqCvD,mBAAQ,kBAAMC,IAAQ,uCAAC,WAAOruB,EAAW8tB,EAAQgD,EAAkB/C,GAA5C,eAAA/1B,EAAA,0DAC5DgI,EAD4D,uBAE9D8tB,EAAOgD,EAAiBvuB,SAFsC,iCAK1DqvB,EAAaC,IAAUf,EAAiBvuB,SAC9CuuB,EAAiBvuB,QAAU,GACvBurB,GACFA,IAR8D,SAU1DC,EAAI+D,8BAA8BjiC,OAAOymB,KAAKsb,GAAY75B,KAAI,SAACvF,GAAD,OAASo/B,EAAWp/B,OAVxB,2CAAD,4DAW9D,OAAO,CAACg+B,IAEX,KAAKvzB,aAAD,EAACA,EAAsBrN,QACzB,OAAO,KAGT,IAAMmiC,EAAgB,SAACC,GACrBlB,EAAiBvuB,QAAQyvB,EAAI33B,IAAM23B,EACnCL,EAAmC3xB,EAAW8tB,EAAQgD,EAAkB/C,IAGpEkE,EAAmB,uCAAG,WAAOxtB,EAAMhT,EAAb,oBAAAuG,EAAA,sDAAoBqC,EAApB,EAAoBA,GACxCvC,EAAMmF,EAAqBL,MAAK,SAAC5E,GAAD,OAAOA,EAAEqC,KAAOA,KAD5B,KAElB5I,EAFkB,OAGnB,qCAHmB,OAOnB,iBAPmB,OAWnB,yCAXmB,+BAItBqG,EAAI4qB,SAAWje,EACf3M,EAAIi3B,mBAAqBN,KAAKC,MALR,mCAQtB52B,EAAIsrB,aAAe3e,EACnB3M,EAAIk3B,uBAAyBP,KAAKC,MATZ,oCAYtB52B,EAAIo6B,eAAiBztB,EAZC,kFAiBpBstB,EAAcj6B,GAjBM,4CAAH,0DAoBnBq6B,EAAoB,uCAAG,WAAO5D,EAAP,oBAAAv2B,EAAA,6DAAeqC,EAAf,EAAeA,IACpCvC,EAAMmF,EAAqBL,MAAK,SAAC5E,GAAD,OAAOA,EAAEqC,KAAOA,MAClD4zB,SAAWM,aAAf,EAAeA,EAAOl0B,GACtBvC,EAAImrB,WAAasL,aAAjB,EAAiBA,EAAO98B,KACxBqG,EAAI02B,gBAAkBC,KAAKC,MAC3B52B,EAAIy2B,MAAQA,EALe,SAMrBwD,EAAcj6B,GANO,2CAAH,wDASpBs6B,EAAyB,uCAAG,WAAOhjC,GAAP,qBAAA4I,EAAA,6DACzBm4B,EAAsB/gC,EAAtB+gC,MAAO91B,EAAejL,EAAfiL,GAAI+1B,EAAWhhC,EAAXghC,SACZt4B,EAAMmF,EAAqBL,MAAK,SAAC5E,GAAD,OAAOA,EAAEqC,KAAOA,MAClD,iBAAD,OAAkB+1B,IAAaD,EAHF,SAI1B4B,EAAcj6B,GAJY,2CAAH,sDAOzBu6B,EAAqB,uCAAG,WAAO5gC,EAAMm9B,EAAb,oBAAA52B,EAAA,sDAAuBqC,EAAvB,EAAuBA,GAC7CvC,EAAMmF,EAAqBL,MAAK,SAAC5E,GAAD,OAAOA,EAAEqC,KAAOA,KAD1B,KAEpB5I,EAFoB,OAGrB,UAHqB,OAMrB,qCANqB,6BAIxBqG,EAAIorB,gBAAkB0L,EAJE,mCAOxB92B,EAAI6qB,mBAAqBiM,EAPD,iFAYtBmD,EAAcj6B,GAZQ,4CAAH,0DAerBmC,EAAoBF,+BAAqBC,GAEzCs1B,IAAc5yB,EAAOE,MAAK,SAACI,GAAD,MAAa,UAANA,KACjCoyB,IAAiB1yB,EAAOE,MAAK,SAACI,GAAD,MAAa,aAANA,KACpCs1B,IAAa51B,EAAOE,MAAK,SAACI,GAAD,MAAa,SAANA,KAGtC,OAAKsyB,GAAcF,GAAiBkD,EAKlC,oCACGz1B,aADH,EACGA,EAAmB9E,KAAI,SAAC6jB,GAAqB,IACrCgW,EAAchW,EAAdgW,WACP,IAAKA,GAAoC,IAAtBA,EAAWhiC,OAC5B,OAAO,KAGT,IAAMyoB,EAAcuZ,EAAWl1B,QAAO,SAAC/K,GAAD,OAAOsL,EAAqBL,MAAK,SAAC21B,GAAD,OAAQA,EAAGr1B,eAAiBvL,EAAE0I,SACrG,IAAKge,EAAYzoB,OACf,OAAO,KAET,IAAM4iC,EAAqBna,EAAY3b,QAAO,SAAC/K,GAAD,OAAOA,EAAEF,KAAK0uB,cAAcgE,SAASwM,MACnF,OAAkC,IAA9B6B,EAAmB5iC,OAEnB,6BACE,kBAAC,IAAD,CACEyG,MAAO,CACLsE,gBAAiBi2B,EAAU19B,SAAOmI,MAAQnI,SAAO0H,OAEnD+C,MAAOie,EAAiBnqB,OAE1B,0BAAM4E,MAAK,2BAAMlD,QAAMiR,QAAZ,IAAoBrD,WAAY,UACxC/M,yBAAe,4BAMtB,yBAAKxB,IAAKopB,EAAiBvhB,IACzB,kBAAC,IAAD,CACEhE,MAAO,CAACsE,gBAAiBi2B,EAAU19B,SAAOmI,MAAQnI,SAAO0H,OACzD+C,MAAOie,EAAiBnqB,OAEzB+gC,EAAmBl6B,MAAK,SAACN,EAAGO,GAAJ,OAAWP,EAAEvG,KAAK+G,cAAcD,EAAE9G,UAAMghC,EAAW,CAC1EC,SAAS,EACTC,WAAY,YACT56B,KAAI,SAACujB,GACR,IAAMvW,EAAa9H,EAAqBL,MACtC,SAAC5E,GAAD,OAAOA,EAAEsjB,YAAcA,EAAUjhB,IAC5BrC,EAAEkF,eAAiBoe,EAAUjhB,MAE9BsU,EAAe1U,EAAkBu1B,WACrC,SAAChgB,GAAD,OAAOA,EAAEnV,MAAO0K,aAAT,EAASA,EAAYkpB,aAG9B,OACE,kBAAC,IAAD,CAAM53B,MAAO,CAAC6K,OAAQ,iBAAkB1O,IAAK8oB,EAAUjhB,IACrD,0BACEgG,QAAS,kBAAMwwB,EAAqBvV,EAAUjhB,KAC9ChE,MAAK,2BACAlD,QAAMiR,QADN,IAEHvD,OAAQ,UACRwE,aAAc,UAGfiW,EAAU7pB,MAEb,yBACE4E,MAAK,eAAMlD,QAAMiR,QACjB6J,wBAAyB,CACvBC,OAAQoN,EAAUsX,eAGrBtD,KAAct1B,aAAD,EAACA,EAAa64B,aAC1B,kBAAC,IAAD,CACEhtB,SAAUmoB,EACVnf,aAAcmf,EACd3zB,GAAIihB,EAAUjhB,GACdkD,UAAWwH,aAAF,EAAEA,EAAYme,gBACvBtU,SAAUnW,0BAAgBsM,aAAD,EAACA,EAAYypB,iBACtC9f,OAAQzU,EACR0U,aAAcA,EAAe,EAAI,EAAIA,EACrCG,eAAgB,SAAC6gB,GACfwC,EACEn4B,EAAYE,OAAO0C,MACjB,SAACzC,GAAD,OAAOA,EAAEE,KAAOJ,EAAkB01B,GAAOt1B,MAE3C0K,IAGJD,UAAW,SAAC5S,GAAD,OAAWmgC,EAAsB,QAASngC,EAAO6S,IAE5D/E,UAAWA,IAGdsvB,IAAat1B,aAAJ,EAAIA,EAAa64B,aACzB,yBACEx8B,MAAO,CACLmF,QAAS,OACTD,eAAgB,gBAChB8J,aAAc,SAGhB,yBACEhP,MAAO,CACLmF,QAAS,OACTs3B,SAAU,OACVv3B,eAAgB,kBAGjBvB,EAAYE,OAAOnC,KAAI,SAACoC,EAAGzK,GAAJ,OACtB,kBAAC,EAAD,CACEmV,SAAUmpB,EACV3zB,GAAI0K,aAAF,EAAEA,EAAY1K,GAChB+1B,QAAS1gC,EACT8C,IAAK2H,EAAE1I,KACPA,KAAM0I,EAAE1I,KACR0+B,MAAOprB,EAAW,iBAAD,OAAkBrV,KAAQ,EAC3C4gB,IAAKvL,EAAW,qBAAD,OAAsBrV,IACrCgW,SAAU0sB,SAIdpE,GACA,kBAAC,IAAD,CACEhuB,UAAWA,EACXzC,UAAWwH,aAAF,EAAEA,EAAYme,gBACvB7iB,QAAS,SAACnO,GAAD,OAAWmgC,EAAsB,QAASngC,EAAO6S,OAMjEqqB,GAAgB,kBAAC,IAAD,CACf/0B,GAAI,mCACJ0K,WAAYA,EACZxH,UAAWwH,aAAF,EAAEA,EAAY4d,mBACvBje,YAAa4rB,EACb1rB,aAAcqtB,EACdjtB,WAAYvM,0BAAgBsM,aAAD,EAACA,EAAYgqB,oBACxCtqB,KAAMM,aAAF,EAAEA,EAAY2d,SAClB5d,UAAWutB,EACX1tB,QAASqpB,EACTnpB,SAAUmpB,EACV9oB,YAAalF,EAAYhM,yBAAe,0BAA4B,GACpEgM,UAAWA,IAEZsyB,IAAatE,GACZ,kBAAC,IAAD,CACE3zB,GAAI,eACJ0K,WAAYA,EACZL,YAAa6rB,EACb9rB,KAAMM,aAAF,EAAEA,EAAYqe,aAClBpe,WAAYvM,0BACVsM,aADyB,EACzBA,EAAYiqB,wBAEdpqB,aAAcqtB,EACdttB,SAAO,EACPO,YAAalF,EAAYhM,yBAAe,0BAA4B,GACpEgM,UAAWA,KA5JJ,WAGlB,S,uCC3JX,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,OACA,wBACA,2BACA,SACA,QACA,4BAEA,4B,aAkBE,WAAoB+yB,EAA8BC,EAAmCrf,EAAmCsf,GAAxH,WAAoB,KAAAF,SAA8B,KAAAC,eAAmC,KAAArf,WAAmC,KAAAsf,UAGtHlrB,KAAKmrB,iBAAmB,GACxBnrB,KAAKsmB,SAAW,EAChB,UAAQ1rB,QAAQswB,GAASE,GAAG,UAAU,WAAM,SAAKC,cAmEjD,IAAI,EAAI,EAAI,EAAI,EAkBpB,O,yDAlFS,YAAAC,mBAAP,SAA0BC,GAIxB,OAHAA,EAAQj5B,GAAK,EAAAk5B,UAAUC,QACvBzrB,KAAKmrB,iBAAiBhjC,KAAKojC,GAEpBvrB,KAAK0rB,yBAAyBH,EAAQj5B,KAGxC,YAAAq5B,iBAAP,SAAwBV,EAA+CW,GAAvE,gBAAwB,IAAAX,MAA4BjrB,KAAKirB,mBAAc,IAAAW,MAAoB5rB,KAAKgrB,OAAOxwB,QAAQ9Q,MAC7G,IAAMqW,EAAS,UAAUkrB,GACnBY,EAA8B,WAClC,EAAKb,OAAOc,GAAG,GAAGF,EAAa7rB,IAKjC,OAFA8rB,EAAW9rB,OAASA,EAEb8rB,GAGF,YAAAE,cAAP,SAAqBC,GAArB,WACE,OAAO,WACLhhC,OAAOihC,uBAAsB,WAC3B,IAAMrxB,EAAuBoxB,EAAS,GAChCE,EAAuBF,EAASn3B,KAAK,eACrCs3B,EAA0BD,EAAar3B,KAAK,QAElD,GAAI,EAAKu3B,qBAAqBF,GAAe,CAC3C,IAAMG,EAAyBzxB,EAAQ0xB,aACnCJ,EAAarkC,OAAS,GAAKqkC,EAAar3B,KAAK,uBAAuB,GAAGy3B,YACvE,EAAqB,EAMzB,GAJAH,EAAgBI,MAAK,SAAC3E,EAAe4E,GACnC,GAAcA,EAAKC,eAGjB,GAAcJ,EAAgB,CAChC,IAAM,EAAgCA,EAAiBH,EAAarkC,OAEhE,EAA0B,EACxB,EAA+B,GAErCskC,EAAgBI,MAAK,SAAC3E,EAAelO,GACnC,IAAMgT,EAAgB,UAAEhT,GAEpBA,EAAK+S,aAAe,GACtBC,EAAMC,QAAQ,CAAE,YAAa,GAAyB,GACtD,EAAmBxkC,KAAKukC,KAExB,GAAoB,EAAwBhT,EAAK+S,YACjDC,EAAME,WAAW,aAIrB,IAAM,EAAqB,EAAkB,EAAmB/kC,OAAU,EAC1E,EAAmB6M,SAAQ,SAACg4B,GAC1BA,EAAMC,QAAQ,CAAE,YAAa,KAAK,GAAe,WAGnDR,EAAgBS,WAAW,eAO9B,YAAAR,qBAAP,SAA4BS,GAC1B,YAD0B,IAAAA,MAAA,IACnBA,EAAYhlC,OAAS,GAGvB,YAAAilC,8BAAP,SAAqCD,GACnC,YADmC,IAAAA,MAAA,IAC5BA,EAAYl4B,QAAO,SAACo4B,GAA4B,OAAAA,EAAW7gC,UAG5D,YAAAm/B,SAAR,WACErrB,KAAKmrB,iBAAiBz2B,SAAQ,SAAA62B,GAAW,OAAAA,QAGnC,YAAAG,yBAAR,SAAiCsB,GAAjC,WACE,OAAO,WACL,EAAK7B,iBAAmB,EAAKA,iBAC1Bx2B,QAAO,SAAC42B,GAA6C,OAAAA,EAAQj5B,KAAO06B,OA3FhEC,EAAkB,cAJ9B,EAAA7zB,QAAQ,CACP/P,OAAQ,UACRK,KAAM,uBAoFA,EAAQ,WAAW,oBAAqB,CA9EN,mBA8Ee,OA9Ef,IAAZ,EAAAwjC,cAAA,EAAAA,cAAY,SAAmC,mBAAnC,OAAmC,IAAX,EAAAC,aAAA,EAAAA,aAAW,SAAmC,mBAAnC,OAAmC,IAAf,EAAAC,iBAAA,EAAAA,iBAAe,SAAiC,mBAAjC,OAAiC,IAAd,EAAAC,gBAAA,EAAAA,gBAAc,YAJpIJ,G,GAAA,EAAAA,sB,gBCrBb,IAAIj9B,EAAM,CACT,qBAAsB,IACtB,wBAAyB,IACzB,qBAAsB,IACtB,qBAAsB,IACtB,qBAAsB,KAIvB,SAASs9B,EAAeC,GACvB,IAAIj7B,EAAKk7B,EAAsBD,GAC/B,OAAOvkC,EAAoBsJ,GAE5B,SAASk7B,EAAsBD,GAC9B,IAAIvkC,EAAoBY,EAAEoG,EAAKu9B,GAAM,CACpC,IAAI1hC,EAAI,IAAI4hC,MAAM,uBAAyBF,EAAM,KAEjD,MADA1hC,EAAE2oB,KAAO,mBACH3oB,EAEP,OAAOmE,EAAIu9B,GAEZD,EAAe/e,KAAO,WACrB,OAAOzmB,OAAOymB,KAAKve,IAEpBs9B,EAAengC,QAAUqgC,EACzBnkC,EAAOD,QAAUkkC,EACjBA,EAAeh7B,GAAK,K,6gjRC1BpB,SAAYouB,GACV,gBACA,wBAFF,CAAY,EAAAA,kBAAA,EAAAA,gBAAe,M,8ECA3B,SAAYgN,GACV,gFACA,4CACA,wCACA,4CACA,0DACA,2DACA,gEACA,wCARF,CAAY,EAAAA,YAAA,EAAAA,UAAS,M,yFCArB,OACA,QACA,SACA,QAEA,4BAGA,cAGE,WAAsBC,GAAtB,MACE,YAAMA,IAAM,K,OADQ,EAAAA,QAEpB,EAAKC,gB,QA6BT,OAlCsC,iBAQpC,YAAAC,wBAAA,sBACE,OAAO7tB,KAAK8tB,UAAU,CAACC,SAAU,SAAAr7B,GAAc,SAAKq7B,SAASr7B,MAAc6N,KACzE,EAAAvQ,KAAI,SAAAuE,GAAe,SAAKy5B,OAAOz5B,QAIzB,YAAAw5B,SAAV,SAAmBr7B,GACjB,IAAMu7B,EAAUjuB,KAAKkuB,WAAWtO,GAChC,OAAOqO,EAAQnN,QAAQ5jB,KAAKkf,SAAS1pB,EAAWkB,kBAC9Cq6B,EAAQnN,QAAQ1xB,MAAMgtB,SAAS1pB,EAAWtD,QAGpC,YAAA4+B,OAAV,SAAiBz5B,GACf,IAAM05B,EAAUjuB,KAAKkuB,WAAWtO,GAC1BuO,EAAanuB,KAAKouB,cAAcH,EAAQ19B,KAAK8wB,IAEnD,OAAO,UAAK,EAAD,SAAK9sB,IAAc05B,EAAQ19B,KAAK6uB,OAAO+O,IAG1C,YAAAC,cAAV,SAAwB/M,GAGlB,OAAOA,GA9BFgN,EAAgB,cAD5B,EAAA5sB,WAAW,CAACC,WAAY,S,kCAIsB,mB,OAAA,IAAhB,EAAA+e,kBAAA,EAAAA,kBAAgB,YAHlC4N,GAAb,CAAsC,EAAAC,aAAzB,EAAAD,oB,6BCPb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAAtB,SACA,QACA,4B,aAiBE,WAAoB1sB,EAAwBU,GAAxB,KAAAV,YAAwB,KAAAU,OAG1CrC,KAAKuuB,YAAc,GACnBvuB,KAAKwuB,aAAe,IAAI,EAAAC,iBAAiBzuB,KAAKuuB,aAYlD,O,+BATS,YAAAG,kBAAP,sBACE,OAAO1uB,KAAK2B,UAAUyV,GAAGpC,qBAAqBhV,KAAKqC,KAAKrU,kBACrDue,MAAK,SAACgiB,GAIL,OAHA,EAAKA,YAAcA,EACnB,EAAKC,aAAa5R,KAAK,EAAK2R,aAErB,EAAKA,gBAlBPI,EAAkB,cAJ9B,EAAAv1B,QAAQ,CACP/P,OAAQ,UACRK,KAAM,uBAcA,EAAQ,WAAW,oBAAqB,CAAC,OAAQ,UAZ5CilC,G,GAAA,EAAAA,sB,6BCXb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,UACA,UACA,QACA,UAEMC,EAAsBhQ,QAAQhkB,QAAQI,SAASC,MAE/C4zB,EAAyB,SAACC,EAAWC,GAAW,OAAAD,EAAUE,KAAK,CACnEC,kBAAkB,EAClBz4B,WAAY,aACZ04B,aAAc,QACdH,OAAM,YAAID,UAAS,GAAKC,GACxBI,UAAU,EACVC,OAAQR,EACRS,YAAa,kEAaF,EAAAC,2BAA6B,SACxCR,EAAWntB,EAAWU,EAAMqO,EAAqB6e,GAC9C,YAD8C,IAAAA,OAAA,GAC9CT,EACFE,KAAK,CACJI,OAAQR,EACRS,YAAa,oEACb74B,WAAY,EAAAg5B,2BACZriC,QAAS,CACPsiC,mBAAoB,WAAM,OAAA9tB,EAAUyV,GAAGnB,yBACvCvF,oBAAqB,WAAM,OAAAA,GAC3B6e,SAAU,WAAM,OAAAA,IAElBL,aAAc,WAGL,EAAAQ,4BAA8B,SAAC/jB,EAAImjB,EAAWntB,GACzD,OAAAmtB,EAAUE,KAAK,CACbI,OAAQR,EACRS,YAAa,qEACb74B,WACE,WAGEwJ,KAAK8uB,UAAYA,GAGrBI,aAAc,QACdD,kBAAkB,EAClBE,UAAU,EACVhiC,QAAS,CACPohC,YAAa,WAAM,OAAA5iB,EAAGgkB,IAAI,CACxBC,QAASjuB,EAAUyV,GAAGhC,wBACtBya,OAAQluB,EAAUyV,GAAG/B,uBACrBya,OAAQnuB,EAAUyV,GAAG9B,8BAKhB,EAAAya,+BAAiC,SAACjB,EAAWkB,GAYxD,OAAOnB,EAAuBC,EAXf,CACbkB,gBAAe,EACfC,aAAc,CACZC,OAAQ,8BACRC,SAAU,gCACVC,SAAU,gCACVC,aAAc,YACdC,cAAe,oBAOR,EAAAC,iDAAmD,SAACzB,EAAWkB,GAa1E,OAAOnB,EAAuBC,EAXf,CACbkB,gBAAe,EACfC,aAAc,CACZC,OAAQ,mCACRC,SAAU,qCACVC,SAAU,qCACVC,aAAc,YACdC,cAAe,oBAOR,EAAAE,gCAAkC,SAAC1B,EAAWkB,EAAiBC,QAAA,IAAAA,MAAA,IAC1E,IAAMlB,EAAS,CACbiB,gBAAe,EACfC,aAAY,YACVC,OAAQ,+BACRC,SAAU,iCACVC,SAAU,iCACVC,aAAc,YACdC,cAAe,kBACZL,IAIP,OAAOpB,EAAuBC,EAAWC,IAG9B,EAAA0B,yBAA2B,SACtC3B,EAAWntB,EAAWU,EAAMquB,EAC5BhgB,EAAqBigB,EACrBpB,GACG,YADH,IAAAA,OAAA,GACGT,EAAUE,KAAK,CAClBI,OAAQR,EACRS,YAAa,kEACbF,UAAU,EACV34B,WAAY,EAAAo6B,yBACZzjC,QAAS,CACPujC,OAAQ,WAAM,OAAAA,GACdhgB,oBAAqB,WAAM,OAAAA,GAC3BigB,mBAAoB,WAAM,OAAAA,GAC1BlB,mBAAoB,WAAM,OAAA9tB,EAAUyV,GAAGnB,yBACvCsZ,SAAU,WAAM,OAAAA,IAElBL,aAAc,WAGH,EAAA2B,gCAAkC,SAAC/B,EAAWkB,GAYzD,OAAOnB,EAAuBC,EAXf,CACbkB,gBAAe,EACfC,aAAc,CACZC,OAAQ,qCACRC,SAAU,mCACVC,SAAU,mCACVC,aAAc,YACdC,cAAe,gBAOR,EAAAQ,8BAAgC,SAAChC,EAAWtZ,GAAe,OAAAsZ,EAAUE,KAAK,CACrFI,OAAQR,EACRS,YAAa,6EACb74B,WACE,WAGEwJ,KAAK8uB,UAAYA,EAGjB9uB,KAAK+wB,WAAavb,EAAW9rB,KAC7BsW,KAAKgxB,WAAaxb,EAAWhB,MAGjC0a,aAAc,WAGH,EAAA+B,0BAA4B,SAAAnC,GAAa,OAAAA,EAAUE,KAAK,CACnEI,OAAQR,EACRS,YAAa,mEACb74B,WAAU,WACR,aAGEwJ,KAAK8uB,UAAYA,EAMrB,OAHE,YAAA/a,gBAAA,WACE/T,KAAK8uB,UAAUoC,KAAKlxB,KAAKmxB,gBAE7B,EAVA,GAWAjC,aAAc,QACdC,UAAU,KAGC,EAAAiC,4BAA8B,SAACtC,EAAWtZ,EAAY7T,GAAc,OAAAmtB,EAAUE,KAAK,CAC9FI,OAAQR,EACRS,YAAa,qEACbJ,kBAAkB,EAClBE,UAAU,E,sBAER,WAAYkC,EAAY1lB,EAAItJ,GAG1BrC,KAAKqxB,WAAaA,EAClBrxB,KAAK2L,GAAKA,EACV3L,KAAKqC,KAAOA,EAqBhB,O,qCAlBE,YAAAivB,4BAAA,WACExC,EAAUyC,SACV,EAAA7B,4BAA4B1vB,KAAK2L,GAAImjB,EAAWntB,IAGlD,YAAA6vB,0BAAA,sBACE,EAAAP,0BAA0BnC,GACvBviB,MAAK,SAAA4kB,GAAiB,OAAAxvB,EACpByV,GACArD,gBACCyB,EAAWkb,OACX,CAAEhnC,KAAMynC,OAGX5kB,MAAK,WACJ,EAAK8kB,WAAWI,MAAM,EAAAh6B,OAAOi6B,wBAGrC,E,GACAvkC,QAAS,CACPwkC,kBAAmB,WAAM,OAAAhwB,EACtByV,GACAtB,qBAAqBN,IACxBA,WAAY,WAAM,OAAAA,IAEpB0Z,aAAc,WAGH,EAAA0C,0BAA4B,SAAC9C,EAAWvb,EAAWmd,GAAW,OAAA5B,EAAUE,KAAK,CACxFI,OAAQR,EACRO,UAAU,EACVE,YAAa,mEACb74B,WACE,WAGEwJ,KAAK8uB,UAAYA,EACjB9uB,KAAKuT,UAAYA,EACjBvT,KAAK6xB,gBAAkBnB,EAAOxzB,OAAS,EAAA40B,WAAWC,UAGtD7C,aAAc,WAGH,EAAA8C,mCAAqC,SAAClD,EAAWjb,GAAqB,OAAAib,EAAUE,KAAK,CAChGI,OAAQR,EACRS,YAAa,gEACb74B,WACE,WAGEwJ,KAAK8uB,UAAYA,EACjB9uB,KAAK6T,iBAAmBA,GAG5Bqb,aAAc,WAGH,EAAA+C,oCAAsC,SACjDnD,EAAWoD,EAAaC,GACrB,OAAArD,EAAUE,KAAK,CAClBI,OAAQR,EACRO,UAAU,EACVE,YAAa,0EACb74B,WACE,WAGEwJ,KAAK8uB,UAAYA,EACjB9uB,KAAKkyB,YAAcA,EACnBlyB,KAAKmyB,eAAiBA,GAG1BjD,aAAc,WAGH,EAAAkD,+BAAiC,SAAAtD,GAAa,OAAAA,EAAUE,KAAK,CACxEI,OAAQR,EACRO,UAAU,EACVE,YAAa,yEACb74B,WACE,WAGEwJ,KAAK8uB,UAAYA,GAGrBI,aAAc,WAGH,EAAAmD,+CAAiD,SAC5DvD,EAAWoD,EACXC,GACG,OAAArD,EAAUE,KAAK,CAClBI,OAAQR,EACRO,UAAU,EACVE,YAAa,sFACb74B,WACE,WAGEwJ,KAAK8uB,UAAYA,EACjB9uB,KAAKkyB,YAAcA,EACnBlyB,KAAKmyB,eAAiBA,GAG1BjD,aAAc,Y,yFClThB,2BACA,2BACA,UAEa,EAAAoD,yBAAoC,UAC9CjpC,OAAO,qCAAsC,CAAC,YAC9CmW,OAAO,EAAA+yB,2BAEV,UAAe,EAAAD,yBAAyB5oC,KAExC,0BACA,0BACA,0BACA,2B,yFCbA,yBACA,yBACA,yBACA,0B,yFCHA,OACA,QACA,SACA,QAEA,4BAGA,cAEE,WAAsBikC,GAAtB,MACE,YAAMA,IAAM,K,OADQ,EAAAA,Q,QA4BxB,OA9BsC,iBAMpC,YAAAE,wBAAA,sBACE,OAAO7tB,KAAK8tB,UAAU,CAACC,SAAU,SAAAr7B,GAAc,SAAKq7B,SAASr7B,MAAc6N,KACzE,EAAAvQ,KAAI,SAAAuE,GAAe,SAAKy5B,OAAOz5B,QAIzB,YAAAw5B,SAAV,SAAmBr7B,GAEjB,OADgBsN,KAAKkuB,WAAWtO,GACjBkB,QAAQ5jB,KAAKkf,SAAS1pB,EAAWkB,kBAGxC,YAAAo6B,OAAV,SAAiBz5B,GACf,IAAM05B,EAAUjuB,KAAKkuB,WAAWtO,GAC1BuO,EAAanuB,KAAKouB,cAAcH,EAAQ19B,KAAK8wB,IAEnD,OAAO,UAAK,EAAD,SAAK9sB,IAAc05B,EAAQ19B,KAAK6uB,OAAO+O,IAG1C,YAAAC,cAAV,SAAwB/M,GAGlB,OAAOA,GA3BFgN,EAAgB,cAD5B,EAAA5sB,WAAW,CAAEC,WAAY,S,kCAGqB,mB,OAAA,IAAhB,EAAA+e,kBAAA,EAAAA,kBAAgB,YAFlC4N,GAAb,CAAsC,EAAAC,aAAzB,EAAAD,oB,6GCPb,UACA,SACA,QACA,QACA,SAEa,EAAAmE,UAAY,CACvBC,MAAO,QACPC,MAAO,QACPC,KAAM,QAOR,IAAIC,EAAU,6BACVC,EAAa,gCAKZhmC,EAAQC,IAAIC,uBACf6lC,EAEI,0BACJC,EAEI,6DAEN,IAqBIC,EAEAC,EAvBEC,EAAoB,WAAM,OAAGJ,EAAO,eAAe,EAAA5kC,iBAAgB,oFACnEilC,EAA4B,WAAM,OAAGL,EAAO,qBAAqB,EAAA5kC,kBACjEklC,EAAkC,SAACxgB,GAA4B,OAAGkgB,EAAO,yCAAyClgB,EAAuB,KACzIygB,EAA8B,SAAC1hC,GAAiB,OAAGmhC,EAAO,eAAe,EAAA5kC,iBAAgB,gBAAgByD,EAAY,iBACrH2hC,EAA6B,SAAC3hC,EAAc2e,GAAc,OAAGwiB,EAAO,qCAAqCnhC,EAAY,IAAI2e,GACzHijB,EAA6B,SAAC5hC,EAAc2e,GAAc,OAAGwiB,EAAO,qCAAqCnhC,EAAY,IAAI2e,GACzHkjB,EAAoB,SAACC,GAAiB,OAAGX,EAAO,4BAA4BW,GAC5EC,EAA2B,SAAC/hC,GAAiB,OAAGmhC,EAAO,oCAAoC,EAAA5kC,iBAAgB,kBAAkByD,GAC7HgiC,EAAuC,SAAChiC,GAAiB,OAAGmhC,EAAO,8CAA8CnhC,EAAY,KAC7HiiC,EAAmB,SAAC1+B,GAAgB,OAAG49B,EAAO,0BAA0B59B,EAAW,KACnF2+B,EAAwB,SAACnkB,GAAW,OAAGojB,EAAO,6BAA6BpjB,EAAM,uBAAuB,EAAAkM,8BAA6B,GAAK,KAE1IkY,EAA+B,WAAM,OAAGhB,EAAO,mCAC/CiB,EAA4B,SAACpiC,EAAc2e,GAAc,OAAGwiB,EAAO,eAAe,EAAA5kC,iBAAgB,gBAAgByD,EAAY,WAAW2e,EAAS,KAClJ0jB,EAA0B,SAACriC,GAAiB,OAAGmhC,EAAO,eAAe,EAAA5kC,iBAAgB,8CAA8CyD,EAAY,KAC/IsiC,EAA6B,SAACtiC,GAAiB,OAAGmhC,EAAO,+BAA+BnhC,EAAY,KACpGuiC,EAAqB,WAAM,OAAGpB,EAAO,4BAA4B,EAAA5kC,iBAAgB,KACjFimC,EAAgB,SAACr+B,GAAU,OAAGg9B,EAAO,qCAAqC,EAAA5kC,iBAAgB,UAAUkmC,UAAUt+B,IAC9Gu+B,EAAkB,WAAM,OAAGvB,EAAO,qBAAqB,EAAA5kC,iBAAgB,KAMvEomC,EAAmBvnC,EAAQC,IAAIC,qBAErC,aACE,WAAYsnC,EAAmBC,GAA/B,WAqFA,KAAA7iB,eAAiB,WAAM,SAAK8iB,QAAQvB,MAEpC,KAAAwB,mBAAqB,SAAChlB,GAAW,SAAK+kB,QAAQZ,EAAsBnkB,KAEpE,KAAAilB,qBAAuB,WAAM,SAAAC,SAAS1B,IAAqB,EAAKqB,kBAAmB,EAAKC,kBAExF,KAAAK,6BAA+B,WAAM,SAAAD,SAASzB,IAA6B,EAAKoB,kBAAmB,EAAKC,kBAExG,KAAA3hB,yBAA2B,SAAClhB,GAAiB,SAAK8iC,QAAQpB,EAA4B1hC,KAEtF,KAAAmjC,+BAAiC,SAACnjC,GAAiB,SAAAijC,SACjDvB,EAA4B1hC,GAC5B,EAAK4iC,kBACL,EAAKC,kBAGP,KAAAjd,wBAA0B,SAAC5lB,EAAc2e,GAAc,SAAKmkB,QAAQnB,EAA2B3hC,EAAc2e,KAE7G,KAAAykB,4BAA8B,SAACpjC,EAAcqjC,GAC3C,IAAMC,EAAI,EAAAjmB,MAAM,CACdkmB,UAAW,aACXC,UAAW,CACT3iC,GAAI,CAACnI,MAAOsH,EAAcyjC,UAAU,EAAMh4B,KAAM,QAElD43B,OAAQ,CAACA,KAEX,OAAO,EAAKP,QAAQ1B,EAAY,OAAQkC,GAAG,IAG7C,KAAAI,8BAAgC,SAAC1jC,EAAc2e,GAAc,SAAAskB,SAC3DtB,EAA2B3hC,EAAc2e,GACzC,EAAKikB,kBACL,EAAKC,kBAGP,KAAAnkB,wBAA0B,SAAC1e,EAAc2e,GAAc,SAAKmkB,QAAQlB,EAA2B5hC,EAAc2e,KAE7G,KAAAglB,8BAAgC,SAAC3jC,EAAc2e,GAAc,SAAAskB,SAC3DrB,EAA2B5hC,EAAc2e,GACzC,EAAKikB,kBACL,EAAKC,kBAGP,KAAAe,eAAiB,SAAC9B,GAAiB,SAAKgB,QAAQjB,EAAkBC,KAElE,KAAA+B,sBAAwB,SAAC7jC,GAAiB,SAAK8iC,QAAQf,EAAyB/hC,KAEhF,KAAA8jC,4BAA8B,SAAC9jC,GAAiB,SAAAijC,SAC9ClB,EAAyB/hC,GACzB,EAAK4iC,kBACL,EAAKC,kBAGP,KAAA1kB,kCAAoC,SAACne,GAAiB,SAAK8iC,QAAQd,EAAqChiC,KAExG,KAAA+jC,wCAA0C,SAAC/jC,GAAiB,SAAAijC,SAC1DjB,EAAqChiC,GACrC,EAAK4iC,kBACL,EAAKC,kBAGP,KAAAtgB,cAAgB,SAAChf,GAAgB,SAAKu/B,QAAQb,EAAiB1+B,KAE/D,KAAAygC,oBAAsB,SAACzgC,GAAgB,SAAA0/B,SACrChB,EAAiB1+B,GACjB,EAAKq/B,kBACL,EAAKC,kBAGP,KAAA7hB,6BAA+B,SAACmJ,GAAS,SAAK2Y,QAAQrB,EAAgCtX,KAEtF,KAAA8Z,mCAAqC,SAAC9Z,GAAS,SAAA8Y,SAC7CxB,EAAgCtX,GAChC,EAAKyY,kBACL,EAAKC,kBAGP,KAAAqB,gBAAkB,iGAAY,SAAA31B,KAAKu0B,QAAQP,aAE3C,KAAAC,cAAgB,SAAOr+B,GAAK,sFAAK,SAAAoK,KAAKu0B,QAAQN,EAAcr+B,YAE5D,KAAAggC,aAAe,iGAAY,SAAA51B,KAAKu0B,QAAQJ,aAExC,KAAA0B,aAAe,SAAOf,EAAQ1kB,GAAS,+C,+CAYrC,OAXM6kB,EAAY,CAChBa,YAAa,CAAC3rC,MAAO,EAAA6D,iBAAkBknC,UAAU,EAAMh4B,KAAM,WAE3DkT,IACF6kB,EAAU7kB,UAAY,CAACjmB,MAAOimB,EAAW8kB,UAAU,EAAOh4B,KAAM,QAE5D63B,EAAI,EAAAjmB,MAAM,CACdkmB,UAAW,YACXC,UAAS,EACTH,OAAQ,CAACA,KAEJ,CAAP,EAAO90B,KAAKu0B,QAAQ1B,EAAY,OAAQkC,GAAG,WAG7C,KAAAgB,uBAAyB,SAAC1uC,GACxB,IAAM2uC,EAAW,EAAAC,KAAK5uC,EAAM,CAC1B,aACA,YACA,SACA,cAEI0tC,EAAI,EAAAmB,SAAS,CACjBlB,UAAW,yBACXC,UAAW,CACTkB,UAAW,CAAChsC,MAAO6rC,EAAUd,UAAU,EAAMh4B,KAAM,0BAErD43B,OAAQ,CAAC,sLAYX,OAAO,EAAKP,QAAQ1B,EAAY,OAAQkC,IAG1C,KAAAqB,+BAAiC,SAACC,EAAa7hC,EAAU4b,GACvD,IAAM2kB,EAAI,EAAAmB,SAAS,CACjBlB,UAAW,iCACXC,UAAW,CACToB,YAAa,CAAClsC,MAAOksC,EAAanB,UAAU,EAAMh4B,KAAM,SACxD1I,SAAU,CAACrK,MAAOqK,EAAU0gC,UAAU,EAAMh4B,KAAM,OAClDkT,UAAW,CAACjmB,MAAOimB,EAAW8kB,UAAU,EAAMh4B,KAAM,QAEtD43B,OAAQ,CAAC,8BAKX,OAAO,EAAKP,QAAQ1B,EAAY,OAAQkC,IAG1C,KAAAuB,8BAAgC,SAACC,EAAOC,EAAShiC,EAAU4b,GACzD,IAAM2kB,EAAI,EAAAmB,SAAS,CACjBlB,UAAW,gCACXC,UAAW,CACTsB,MAAO,CAACpsC,MAAOosC,EAAOrB,UAAU,EAAMh4B,KAAM,SAC5Cs5B,QAAS,CAACrsC,MAAOqsC,EAAStB,UAAU,EAAMh4B,KAAM,SAChD1I,SAAU,CAACrK,MAAOqK,EAAU0gC,UAAU,EAAMh4B,KAAM,OAClDkT,UAAW,CAACjmB,MAAOimB,EAAW8kB,UAAU,EAAMh4B,KAAM,QAEtD43B,OAAQ,CAAC,8BAKX,OAAO,EAAKP,QAAQ1B,EAAY,OAAQkC,IAG1C,KAAA0B,kCAAoC,SAAChlC,EAAcilC,GACjD,IAAM3B,EAAI,EAAAmB,SAAS,CACjBlB,UAAW,oCACXC,UAAW,CACTxjC,aAAc,CAACtH,MAAOsH,EAAcyjC,UAAU,EAAMh4B,KAAM,OAC1Dy5B,oBAAqB,CAACxsC,MAAOusC,EAAsBxB,UAAU,EAAMh4B,KAAM,YAG7E,OAAO,EAAKq3B,QAAQ1B,EAAY,OAAQkC,IAG1C,KAAA6B,oCAAsC,SAACnlC,EAAco4B,GACnD,IAAMkL,EAAI,EAAAmB,SAAS,CACjBlB,UAAW,sCACXC,UAAW,CACTxjC,aAAc,CAACtH,MAAOsH,EAAcyjC,UAAU,EAAMh4B,KAAM,OAC1D2sB,WAAY,CAAC1/B,MAAO0/B,EAAYqL,UAAU,EAAMh4B,KAAM,uBAG1D,OAAO,EAAKq3B,QAAQ1B,EAAY,OAAQkC,IAG1C,KAAA8B,iBAAmB,SAACnkC,GAClB,IAAMokC,EAAS,EAAAb,KAAKvjC,EAAY,CAC9B,KACA,QACA,WACA,kBACA,YACA,yBAEIqiC,EAAI,EAAAmB,SAAS,CACjBlB,UAAW,mBACXC,UAAW,CACTviC,WAAY,CAACvI,MAAO2sC,EAAQ5B,UAAU,EAAMh4B,KAAM,sBAGtD,OAAO,EAAKq3B,QAAQ1B,EAAY,OAAQkC,IAG1C,KAAAgC,wBAA0B,SAACzmB,GACzB,IAAM0mB,EAAoB1mB,EAAYtgB,KAAI,SAACC,GAAM,SAAAgmC,KAAKhmC,EAAG,CACvD,KACA,WACA,qBACA,WACA,kBACA,kBACA,yBACA,eACA,SACA,wBAEF+mC,EAAkBtiC,SAAQ,SAACzE,GACzBA,EAAEi2B,SAAWj2B,EAAEi2B,SAAW,EAAIj2B,EAAEi2B,SAAW,QAE7C8Q,EAAkBtiC,SAAQ,SAACzE,GACzBA,EAAEgnC,gBAAkBhnC,EAAEgnC,gBAAkB,EAAIhnC,EAAEgnC,gBAAkB,QAElE,IAAMlC,EAAI,EAAAmB,SAAS,CACjBlB,UAAW,yBACXC,UAAW,CACT3kB,YAAa,CAACnmB,MAAO6sC,EAAmB9B,UAAU,EAAMh4B,KAAM,4BAEhE43B,OAAQ,CACN,KACA,WACA,WACA,qBACA,eACA,kBACA,WACA,SACA,qBACA,yBACA,kBACA,kBACA,yBACA,yBACA,wBACA,aACA,aACA,oBACA,YACA,aACA,mBAGJ,OAAO,EAAKP,QAAQ1B,EAAY,OAAQkC,IAG1C,KAAAzd,2BAA6B,SAAChH,GAC5B,IAAM0mB,EAAoB1mB,EAAYtgB,KAAI,SAACC,GAAM,SAAAgmC,KAAKhmC,EAAG,CACvD,KACA,WACA,qBACA,WACA,kBACA,eACA,SACA,mBACA,kBACA,aACA,wBAEF+mC,EAAkBtiC,SAAQ,SAACzE,GACzBA,EAAEi2B,SAAWj2B,EAAEi2B,SAAW,EAAIj2B,EAAEi2B,SAAW,QAE7C,IAAM6O,EAAI,EAAAmB,SAAS,CACjBlB,UAAW,6BACXC,UAAW,CACT3kB,YAAa,CAACnmB,MAAO6sC,EAAmB9B,UAAU,EAAMh4B,KAAM,gCAEhE43B,OAAQ,CACN,KACA,WACA,qBACA,qBACA,WACA,kBACA,aACA,eACA,yBACA,SACA,mBACA,mBACA,aACA,gBAGJ,OAAO,EAAKP,QAAQ1B,EAAY,OAAQkC,IAG1C,KAAAmC,gCAAkC,SAAC5mB,GACjC,IAAM0mB,EAAoB1mB,EAAYtgB,KAAI,SAACC,GAAM,SAAAgmC,KAAKhmC,EAAG,CACvD,KACA,WACA,kBACA,WACA,qBACA,oBAEF+mC,EAAkBtiC,SAAQ,SAACzE,GACzBA,EAAEi2B,SAAWj2B,EAAEi2B,SAAW,EAAIj2B,EAAEi2B,SAAW,QAE7C,IAAM6O,EAAI,EAAAmB,SAAS,CACjBlB,UAAW,kCACXC,UAAW,CACT3kB,YAAa,CAACnmB,MAAO6sC,EAAmB9B,UAAU,EAAMh4B,KAAM,qCAEhE43B,OAAQ,CACN,OACA,KACA,UACA,WACA,WACA,qBACA,eACA,kBACA,uBACA,WACA,eACA,SACA,qBACA,yBACA,kBACA,2BAGJ,OAAO,EAAKP,QAAQ1B,EAAY,OAAQkC,IAG1C,KAAAoC,0BAA4B,SAACC,GAAwB,SAAK7C,QAAQX,IAAgC,MAAOwD,IAEzG,KAAAC,uBAAyB,SAAC5lC,EAAc2e,EAAW/hB,GAAW,SAAKkmC,QACjEV,EAA0BpiC,EAAc2e,GACxC,QACA/hB,IAGF,KAAAipC,qBAAuB,SAAC7lC,EAAcpK,GAAS,SAAKktC,QAAQT,EAAwBriC,GAAe,QAASpK,IAE5G,KAAAkwC,wBAA0B,SAAC9lC,EAAcpK,GAAS,SAAKktC,QAAQR,EAA2BtiC,GAAe,QAASpK,IAElH,KAAA0iC,8BAAgC,SAAOzZ,GAAW,+C,sEA+BhD,OA9BMjpB,EAAOipB,EAAYtgB,KAAI,SAACC,GAAM,OAClCqC,GAAIrC,EAAEqC,GACNqoB,SAAU1qB,EAAE0qB,SACZC,mBAAoB3qB,EAAE2qB,mBACtBS,aAAcprB,EAAEorB,aAChBF,gBAAiBlrB,EAAEkrB,gBACnB+K,SAAUj2B,EAAEi2B,UAAY,KACxBpL,gBAAiB7qB,EAAE6qB,gBACnBmO,gBAAiBh5B,EAAEg5B,iBAAmB,EACtCC,gBAAiBj5B,EAAEi5B,iBAAmB,EACtCC,gBAAiBl5B,EAAEk5B,iBAAmB,EACtCC,gBAAiBn5B,EAAEm5B,iBAAmB,EACtCC,gBAAiBp5B,EAAEo5B,iBAAmB,EACtCC,gBAAiBr5B,EAAEq5B,iBAAmB,EACtCC,gBAAiBt5B,EAAEs5B,iBAAmB,EACtCC,gBAAiBv5B,EAAEu5B,iBAAmB,EACtCC,gBAAiBx5B,EAAEw5B,iBAAmB,EACtCC,gBAAiBz5B,EAAEy5B,iBAAmB,MAElCngC,EAAI,EAAA2sC,SAAS,CACjBlB,UAAW,4BACXC,UAAW,CACT3kB,YAAa,CACXpT,KAAM,6BACN/S,MAAO9C,IAGXytC,OAAQ,CAAC,KAAM,WAAY,cAG7B,GAAM90B,KAAKu0B,QAAQ1B,EAAY,OAAQtpC,I,cAAvC,S,YAGF,KAAAiuC,YAAc,0D,6CAYZ,OAXMzC,EAAI,EAAAjmB,MAAM,CACdkmB,UAAW,WACXF,OAAQ,CACN,KACA,QACA,aACA,YACA,YACA,YAGG,CAAP,EAAO90B,KAAKu0B,QAAQ1B,EAAY,OAAQkC,GAAG,WAG7C,KAAA0C,SAAW,SAAOC,EAAO3rC,GAAG,+C,oEAc1B,OAbMxC,EAAI,EAAA2sC,SAAS,CACjBlB,UAAW,MACXC,UAAW,CACTv4B,KAAM,CACJQ,KAAM,UACN/S,MAAO4B,GAET4rC,MAAO,CACLz6B,KAAM,UACN/S,MAAOutC,MAIb,GAAM13B,KAAKu0B,QAAQ1B,EAAY,OAAQtpC,I,cAAvC,S,YAGF,KAAAquC,gBAAkB,0D,oEACC,SAAM53B,KAAKu0B,QAAQ,0F,cAA9BsD,EAAW,SACjB/rC,QAAQC,IAAI,iBAAkB8rC,G,YA9e9B73B,KAAKq0B,kBAAoBA,EACzBr0B,KAAKs0B,gBAAkBA,EA+e3B,OA5eQ,YAAA5mC,SAAN,W,oGACE,OAAIb,EAAQC,IAAIC,qBACP,CAAP,EAAOF,EAAQC,IAAIgrC,2BAEd,CAAP,EAAO,IAAI5qC,SAAQ,SAACC,EAASQ,GACvBolC,GAAeA,EAAYhlC,OACVgqC,KAAKC,OAAOtR,KAAKC,MAAQoM,EAAYkF,MAAQ,KAhBxC,MAkBtBlF,GAAc,EACd5lC,EAAQ,EAAKO,aAEfP,EAAQ4lC,EAAYhlC,QAEpBX,OAAOQ,QAAQC,YAAY,CAACC,OAAQ,aAAa,SAACC,GAChDglC,EAAc,CAAChlC,MAAK,EAAEkqC,KAAMvR,KAAKC,OACjCx5B,EAAQY,iBAMV,YAAAwmC,QAAN,SAAcz0B,EAAK5O,EAAgB7J,EAAW6wC,G,YAA3B,IAAAhnC,MAAA,YAAgB,IAAA7J,MAAA,SAAW,IAAA6wC,OAAA,G,yIAC5Cl4B,KAAKq0B,kBAAkB6D,EAAwB,MAAQhnC,GACjDsO,EAAS,CAACM,IAAG,EAAE5O,OAAM,EAAE7J,KAAI,GAC3B2lB,EAAgB,EAAH,uBAAOxN,GAAM,CAAE1R,OAAQ,cAC1ChC,QAAQC,IAAI,YAAayT,GACrB40B,EACU,GAAMp0B,KAAKtS,YADrB,M,cACEK,EAAQ,UACR,MACM,GAAMiS,KAAKtS,Y,OAAnBK,EAAQ,S,iBAEJ8R,EAAU,CACd3O,OAAM,EACNinC,QAAS,CACPC,cAAe,iBAAiBrqC,EAChC,eAAgB,qBAGL,QAAXmD,IACF2O,EAAQ5E,KAAOmpB,KAAKK,UAAUp9B,I,iBASV,O,uBALhBgxC,EAAMv4B,EACNzY,EAAKynB,QACPupB,EAAShxC,EAAKynB,MAAM5jB,MAAM,EAAG7D,EAAKynB,MAAM/W,QAAQ,OAAM,KAAKqsB,KAAKK,UAAUp9B,EAAK4tC,WAAU,KAE3FnpC,QAAQshB,KAAK,QAAQirB,GACD,GAAMnrB,MAAMpN,EAAKD,I,OAAxB,SAAO,SAA2By4B,Q,OAG/C,OAHMA,EAAO,SACbxsC,QAAQC,IAAI,qBAAsB,CAACusC,KAAI,EAAE94B,OAAM,IAC/C1T,QAAQyhB,QAAQ,QAAQ8qB,GACjB,CAAP,EAAOC,G,OAGP,O,WADAt4B,KAAKs0B,gBAAgB,EAAEnoC,SAChB,CAAP,EAAO,M,cAEP6T,KAAKq0B,mBAAkB,G,WAI3B,MAAO,CAAP,EAAO,IAAInnC,SAAQ,SAACC,GAClB,IAAIkrC,EAAMv4B,EACNzY,EAAKynB,QACPupB,EAAShxC,EAAKynB,MAAM5jB,MAAM,EAAG7D,EAAKynB,MAAM/W,QAAQ,OAAM,KAAKqsB,KAAKK,UAAUp9B,EAAK4tC,WAAU,KAE3FnpC,QAAQshB,KAAK,QAAQirB,GACrBjrC,OAAOQ,QAAQC,YAAYmf,GAAe,SAACK,GACzCvhB,QAAQC,IAAI,qBAAsB+T,EAAKuN,GACvCvhB,QAAQyhB,QAAQ,QAAQ8qB,GACxB,EAAKhE,mBAAkB,GAEnBhnB,EAAShf,OAAS,KAA2B,IAApBgf,EAAShf,OACpClB,EAAQkgB,EAAShmB,MAEjB,EAAKitC,gBAAgBjnB,kBAka/B,EAlfA,G,YAofa,EAAAkrB,UAAY,SAACtoC,EAAGO,GAI3B,OAHKsiC,IACHA,EAAc,IAAI9M,EAAI/1B,EAAGO,IAEpBsiC,K,sDCjjBT,sDAAStpB,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClDjgB,EAAG,sSAGL,SAAS+uC,EAAYpgC,GACnB,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDjb,OAAQ,GACRC,MAAO,GACPsb,MAAO,8BACN1R,GAAQsR,GAGE,K,uHCUA,Q,qECCTpY,EAAU,CACd,CACEsE,MAAO3J,yBAAe,oDACtBysB,KACE,kBAAC,IAAD,CAAU9O,KAAMze,SAAO0H,MAAOvE,MAAO,CAAEoX,OAAQ,qBAEjDvb,MAVoB,mBAYtB,CACEyL,MAAO3J,yBAAe,qDACtBysB,KAAM,kBAAC,IAAD,CAAe9O,KAAMze,SAAOkY,SAClClZ,MAdc,aAgBhB,CACEyL,MAAO3J,yBAAe,uDACtBysB,KACE,kBAAC,IAAD,CACE9O,KAAMze,SAAO+N,SACb5K,MAAO,CAAEoX,OAAQ,qBAGrBvb,MAvBiB,gBAyBnB,CACEyL,MAAM,WAER,CACEA,MAAO3J,yBAAe,mCACtBysB,KAAM,kBAAC,IAAD,MACNvuB,MAAOiC,aAET,CACEwJ,MAAO3J,yBAAe,wCACtBysB,KAAM,kBAAC,IAAD,MACNvuB,MAAOkC,kBAET,CACEuJ,MAAO3J,yBAAe,4CACtBysB,KAAM,kBAAC,IAAD,MACNvuB,MAAOoC,sBAET,CACEqJ,MAAO3J,yBAAe,uCACtBysB,KAAM,kBAAC,IAAD,MACNvuB,MAAOmC,kBA2HImsC,IAtHU,SAACrgC,GAAU,IAEhCsgC,EACEtgC,EADFsgC,aAAcppC,EACZ8I,EADY9I,QAASqpC,EACrBvgC,EADqBugC,eAAgB9Q,EACrCzvB,EADqCyvB,OAFP,EAG9BzvB,EAD6C9J,aAFf,MAEuB,GAFvB,IAG9B8J,EADyD0E,gBAF3B,WAG9B1E,EAD2EwgC,uBAF7C,WAIFngC,mBAAS,MAJP,mBAI3BmgB,EAJ2B,KAIjBC,EAJiB,OAKRpgB,mBAASigC,GALD,mBAK3BtpC,EAL2B,KAKpBypC,EALoB,KAM5Bxf,EAAOC,QAAQV,GAEfkgB,EAA2B,WAC/B,OAAQ1pC,GACN,IA/DkB,kBAgEhB,OAAOnD,yBAAe,sEACxB,IA/De,eAgEb,OAAOA,yBAAe,mEACxB,IAlEY,YAmEV,OAAOA,yBAAe,gEACxB,QACE,OAAOA,yBAAe,qEAI5B2M,qBAAU,WACRigC,EAASH,KACR,CAACA,IAEJ,IAAMK,EAAc,SAACjxB,GACnB+Q,EAAY/Q,EAAMsR,gBAepB,GAAItc,EACF,OACE,yBAAKxO,MAAO,CAAEmF,QAAS,OAAQF,WAAY,WACxClE,4BAAkB,CAAEhB,OAAQe,IAC7B,0BAAMd,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBrD,WAAY,UAAW8/B,MAK7D,IAAME,EAAgBJ,EAAgBtnC,EAAQA,EAAQpG,MAAM,EAAE,GAE9D,OACE,yBAAKoD,MAAOA,GACV,kBAAC2qC,EAAA,EAAD,CAAmBjgB,YAjBC,SAAClR,GACvB7L,YAAW,WAAQ4c,EAAY,WAiB1BgP,EACC,yBAAKvvB,QAASygC,GAAclR,GAE5B,yBACEvvB,QAASygC,EACTzqC,MAAO,CACLmF,QAAS,OACTD,eAAgB,gBAChBkS,OAAQ,gBACRnH,KAAM,EACNhQ,OAAQ,OACRqE,gBAAiBzH,SAAOwH,MACxBI,aAAc,OACd+F,OAAQ,UACRqF,UAAW,qCACX5K,WAAY,SACZoR,YAAa,OACb4U,aAAc,SAGhB,yBAAKjrB,MAAO,CAAEmF,QAAS,OAAQF,WAAY,WAC1ClE,4BAAkB,CAAEhB,OAAQe,IAC7B,0BAAMd,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBrD,WAAY,UAAW8/B,MAEvD,kBAACI,EAAA,EAAD,CAAe5qC,MAAO,CAAE+D,MAAOlH,SAAO+N,YACrC5J,GArIW,oBAqIAF,IAA6B,IAS/C,kBAACopB,EAAA,EAAD,CAAMa,KAAMA,EAAMT,SAAUA,GACzBogB,EAAchpC,KAAI,SAAC+oB,GAClB,MAAoB,YAAjBA,EAAOnjB,MACD,yBAAKtH,MAAO,CAACC,OAAO,MAAOC,MAAM,OAAQoE,gBAAiBzH,SAAOqH,eAGxE,kBAAC2mC,EAAA,EAAD,CACE1uC,IAAKsuB,EAAOnjB,MACZ0C,QAAS,kBApEA,SAACygB,GACpBF,EAAY,MACZggB,EAAS9f,EAAO5uB,OACZwuC,GACFA,EAAe5f,EAAO5uB,OAgECivC,CAAargB,IAC5BzqB,MAAO,CAACmF,QAAS,OAAQF,WAAY,SAAUT,QAAS,SAEvDimB,EAAOL,KACR,0BACEpqB,MAAK,2BACAlD,QAAMiR,QADN,IAEHrD,WAAY,OACZ0M,OAAQ,mBAGTqT,EAAOnjB,gB,qGCxLxB,2BACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SAEa,EAAAyjC,uBAAkC,UAC5ChwC,OAAO,wBAAyB,IAChCwN,UAAU,SAAU,EAAAyiC,iBACpBziC,UAAU,sBAAuB,EAAA0iC,qBACjC1iC,UAAU,aAAc,EAAA2iC,qBACxB3iC,UAAU,wBAAyB,EAAA4iC,uBACnC5iC,UAAU,oBAAqB,EAAA6iC,4BAC/B7iC,UAAU,kBAAmB,EAAA8iC,iBAC7B9iC,UAAU,qBAAsB,EAAA+iC,oBAChC/iC,UAAU,4BAA6B,EAAAgjC,2BACvChjC,UAAU,kBAAmB,EAAAijC,0BAC7BjjC,UAAU,YAAa,EAAAkjC,oBACvBljC,UAAU,kBAAmB,EAAAmjC,0BAC7BnjC,UAAU,kBAAmB,EAAAojC,0BAC7B3gC,QAAQ,YAAa,EAAA4gC,WACrB5gC,QAAQ,kBAAmB,EAAA6gC,iBAE9B,UAAe,EAAAd,uBAAuB3vC,KACtC,yBACA,yBACA,yBACA,0B,8BChCA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,G,aASpB,WAAYshB,EAAS3I,EAAM+3B,GAA3B,WAGEp6B,KAAKgL,QAAUA,EACfhL,KAAKqC,KAAOA,EACZrC,KAAKq6B,YAAc,KACnBr6B,KAAKs6B,eAAiB,KACtBt6B,KAAKyiB,OAAS,KACdziB,KAAKu6B,UAAY,KACjBv6B,KAAKw6B,SAAW,KAChBx6B,KAAKy6B,gBAAkB,KACvBz6B,KAAK06B,2BAA4B,EACjC16B,KAAK26B,eAAgB,EACrB36B,KAAK46B,SAAW,KAChB56B,KAAK7P,aAAe,KACpB6P,KAAK9P,UAAY,GACjB8P,KAAK3P,SAAW,GAChB2P,KAAK66B,SAAW,GAChB76B,KAAK86B,SAAW,GAChB96B,KAAK+6B,MAAO,EAEZX,EAAUY,MAAM7d,WAAU,SAAA8d,GACxB,EAAKC,aAAaD,MAuGxB,O,yCAnGE,YAAAC,aAAA,SAAaC,GACXn7B,KAAK7P,aAAkBgrC,EAAY/qC,WAAU,IAAI+qC,EAAY7qC,UAC7D0P,KAAK5P,WAAa+qC,EAAY/qC,YAAc,GAC5C4P,KAAK1P,UAAY6qC,EAAY7qC,WAAa,GAC1C0P,KAAK+kB,UAAYoW,EAAYpW,WAAa,GAC1C/kB,KAAK8kB,UAAYqW,EAAYrW,WAAa,GAC1C9kB,KAAK+6B,KAAOI,EAAYtW,aAAc,EACtC7kB,KAAKyiB,OAAS0Y,EAAY7oC,IAAM,EAChC0N,KAAKw6B,SAAWW,EAAYxW,WAAa,UAAY,UACrD3kB,KAAK06B,0BAA4BS,EAAYxW,YAO/C,YAAAyW,UAAA,WACE,IACIC,EACAC,EAFEf,EAAYv6B,KAAKu6B,UAAUniB,cAI7BpY,KAAKqC,KAAK+a,uBACZie,EAAqBr7B,KAAKqC,KAAKib,cAAc,GAAGie,UAAUnjB,cACtDmiB,EAAU1yC,QAAUwzC,EAAmBtjC,QAAQwiC,IAAc,IAC/Dv6B,KAAKq6B,aAAc,IAEZr6B,KAAKqC,KAAKkb,oBAEjB+d,EADEt7B,KAAKqC,KAAKmb,UAAU,GAAGge,WAAW,cACnBx7B,KAAKqC,KAAKmb,UAAU,GAAGge,WAAW,cAAcrxC,MAAMiuB,cAEtDpY,KAAKqC,KAAKmb,UAAU,GAAG+d,UAAUnjB,cAGhDmiB,EAAU1yC,QAAUyzC,EAAevjC,QAAQwiC,IAAc,IAC3Dv6B,KAAKq6B,aAAc,KAUzB,YAAAoB,UAAA,SAAUjnC,GAAV,WACMwL,KAAKqC,KAAK+a,uBACZpd,KAAKgL,QAAQuN,KAAK7jB,SAAQ,SAACgnC,GACrBA,EAAKppC,KAAOkC,GAA0B,YAAdknC,EAAKC,KAC/B,EAAKnB,SAAW,UACPkB,EAAKppC,KAAOkC,GAA0B,YAAdknC,EAAKC,KACtC,EAAKnB,SAAW,UACNhmC,IACV,EAAKgmC,SAAW,UAMxB,YAAAoB,YAAA,SAAYD,GACV37B,KAAKw6B,SAAWmB,GAQlB,YAAAE,YAAA,SAAYrnC,GAAZ,WACMwL,KAAKqC,KAAK+a,uBACZpd,KAAKgL,QAAQuN,KAAK7jB,SAAQ,SAACgnC,GACrBA,EAAKppC,KAAOkC,EACd,EAAK8lC,eAAiBoB,EAAKI,WACjBtnC,IACV,EAAK8lC,eAAiB,UAM9B,YAAAyB,UAAA,WACE,OAAO/7B,KAAKw6B,SAA6B,YAAlBx6B,KAAKw6B,SAAyBx6B,KAAK06B,2BAG5D,YAAAsB,WAAA,WACQ,KAAEhxB,QAAF,KAAW3I,KAAjB,IAAuB,WAAjB,KAAiB,oBAKvB,OAHA45B,EAAQ3pC,GAAK0N,KAAK1N,GAClB2pC,EAAQ3pB,MAAQtS,KAAKsS,MAEd2pB,GAGT,sBAAI,iBAAE,CAJA,IAIN,WACE,OAAOj8B,KAAKyiB,QAFR,YAAY,EACZ,cAAc,IAIpB,sBAAI,oBAAK,CADH,IACN,WACE,OAAOziB,KAAKu6B,WACR,YAAY,EACZ,cAAc,IAAtB,E,GA9Ha,EAAAh4B,Y,6BCbb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAAtB,4BACA,SACA,SAEA,SACA,SACA,S,cAaE,WAAsB25B,EAA0BjR,EAAqCD,EAC/DxI,GADtB,MAIE,cAAO,KAkDH,OAtDgB,EAAA0Z,SAA0B,EAAAjR,eAAqC,EAAAD,SAC/D,EAAAxI,sBAIpB,EAAK2Z,aAAe,CAAC,CACnB/c,MAAO,EAAAE,gBAAgB8c,SACvBlwC,MAAO,sCACN,CACDkzB,MAAO,EAAAE,gBAAgB+c,YACvBnwC,MAAO,8CACN,CACDkzB,MAAO,EAAAE,gBAAgBgd,aACvBpwC,MAAO,+CACN,CACDkzB,MAAO,EAAAE,gBAAgBid,iBACvBrwC,MAAO,0CACN,CACDkzB,MAAO,EAAAE,gBAAgBkd,UACvBtwC,MAAO,uCAET,EAAKuwC,oBAAsB,CACzB,CACErd,MAAO,EAAAtW,eAAe4zB,eACtBxwC,MAAO,wCACN,CACDkzB,MAAO,EAAAtW,eAAe6zB,gBACtBzwC,MAAO,6CACN,CACDkzB,MAAO,EAAAtW,eAAe8zB,aACtB1wC,MAAO,2CAGX,EAAK40B,QAAU,CACb,CACE+b,MAAO,EAAAC,sBAAsBC,KAC7B7/B,KAAM,EAAAkJ,eAAe+a,UACrBj1B,MAAO,sCAET,CACE2wC,MAAO,EAAAC,sBAAsBC,KAC7B7/B,KAAM,EAAAkJ,eAAe6a,oBACrB/0B,MAAO,yCAET,CACE2wC,MAAO,EAAAC,sBAAsBC,KAC7B7/B,KAAM,EAAAkJ,eAAe8a,6BACrBh1B,MAAO,wDAET,CACE2wC,MAAO,EAAAC,sBAAsBE,MAC7B9/B,KAAM,EAAAwjB,gBAAgBK,UACtB70B,MAAO,mBAET,CACE2wC,MAAO,EAAAC,sBAAsBE,MAC7B9/B,KAAM,EAAAwjB,gBAAgBM,MACtB90B,MAAO,iBAGX,EAAK+wC,iBAAmB,EAAKjS,OAAOxwB,QAAQ9Q,KANjC,EAkHf,O,mEAjLmD,iBAwE1C,YAAAwzC,QAAP,WACEl9B,KAAKwI,eAAergB,KAClB6X,KAAKk8B,OAAOiB,IAAI,eAAgBn9B,KAAKo9B,kBAAkB1yC,KAAKsV,SAIzD,YAAAq9B,eAAP,SAAsBC,GACpB,OAAOA,IAAat9B,KAAKirB,aAAaqS,UAGjC,YAAAC,yBAAP,SAAgCC,GAC9B,OAAO,GAGF,YAAAC,iBAAP,SAAwB9oC,EAAwBkoC,GAC9C,OAAOA,IAAU,EAAAC,sBAAsBC,KACrC/8B,KAAKirB,aAAanK,QAAQ1E,SAASznB,GAAUqL,KAAKirB,aAAayS,OAAOthB,SAASznB,IAG5E,YAAAgpC,aAAP,SAAoBL,GAClBt9B,KAAK49B,YAAY,CAAEN,SAAQ,KAGtB,YAAAO,gBAAP,SAAuBL,KAIhB,YAAAM,cAAP,SAAqBnpC,EAA0CkoC,GAC7D,GAAIA,IAAU,EAAAC,sBAAsBC,KAAM,CACxC,IAAIjc,EAA4B9gB,KAAKirB,aAAanK,QAE9CA,EAAQ1E,SAASznB,GACnBmsB,EAAUA,EAAQnsB,QAAO,SAACopC,GAAqC,OAAAA,IAAYppC,KAE3EmsB,EAAQ34B,KAAKwM,GAGf7M,OAAO0P,OAAOwI,KAAKirB,aAAc,CAAEnK,QAAO,SACrC,GAAI+b,IAAU,EAAAC,sBAAsBE,MAAO,CAChD,IAAIU,EAA4B19B,KAAKirB,aAAayS,OAE9CA,EAAOthB,SAASznB,GAClB+oC,EAASA,EAAO/oC,QAAO,SAACqpC,GAAsC,OAAAA,IAAYrpC,KAE1E+oC,EAAOv1C,KAAKwM,GAGd7M,OAAO0P,OAAOwI,KAAKirB,aAAc,CAAEyS,OAAM,MAItC,YAAAO,iBAAP,SAAwBrW,GACtB,QAAO5nB,KAAK8gB,QAAQ8G,EAAQ,IAAK5nB,KAAK8gB,QAAQ8G,GAAOiV,QAAU78B,KAAK8gB,QAAQ8G,EAAQ,GAAGiV,OAG/E,YAAAe,YAAV,SAAsBM,QAAA,IAAAA,MAAA,IACpB,IAAMn+B,EAAiGjY,OACpG0P,OAAO,GAAIwI,KAAKirB,aAAciT,GAEjCl+B,KAAKm+B,YAAYp+B,EAAO+gB,SACxB9gB,KAAKo+B,UAAUr+B,EAAO29B,QACtB19B,KAAKq+B,aAAat+B,EAAOu9B,UACzBt9B,KAAKgrB,OAAOc,GAAG,GAAG9rB,KAAKi9B,iBAAoBl9B,EAAQ,CAAEu+B,QAAQ,KAGrD,YAAAD,aAAV,SAAuBf,GACjBA,GACFt9B,KAAKwiB,oBAAoB/0B,IAAOuS,KAAKu+B,YAAW,sBAAuB,GAAGjB,IAIpE,YAAAc,UAAV,SAAoBV,GACdA,GACF19B,KAAKwiB,oBAAoBgC,SAAYxkB,KAAKu+B,YAAW,oBAAqBb,IAIpE,YAAAS,YAAV,SAAsBrd,GAChBA,GACF9gB,KAAKwiB,oBAAoBgC,SAAYxkB,KAAKu+B,YAAW,uBAAwBzd,IAIvE,YAAA0d,eAAV,WACE,IAAMC,EAAmCz+B,KAAKirB,aAAanK,QACrD4d,EAAoC1+B,KAAKwiB,oBAAoB2B,SAA4BnkB,KAAKu+B,YAAW,wBAE/G,QAAS,UAAIG,EAAiBD,GAAgB52C,QAGtC,YAAA82C,cAAV,WACE,IAAMC,EAAmC5+B,KAAKirB,aAAayS,OACrDmB,EAAoC7+B,KAAKwiB,oBAAoB2B,SAA6BnkB,KAAKu+B,YAAW,qBAEhH,QAAS,UAAIM,EAAgBD,GAAe/2C,QAGpC,YAAAu1C,kBAAV,WACE,IAAMqB,EAAmCz+B,KAAKirB,aAAanK,QACrD8d,EAAmC5+B,KAAKirB,aAAayS,QAEvD19B,KAAKw+B,kBAAoBx+B,KAAK2+B,kBAChC3+B,KAAK49B,YAAY,CAAE9c,QAAS2d,EAAgBf,OAAQkB,KAG1D,E,CAnLA,OAEmDj2B,yBAA7B,EAAAm2B,wB,8ECZtB,SAAYhC,GACV,qBACA,mBAFF,CAAY,EAAAA,wBAAA,EAAAA,sBAAqB,M,8ECUjC,MAKE,SAAY5/B,EAAmCpI,EAAyCob,GACtFlQ,KAAK9C,KAAOA,EACZ8C,KAAKlL,kBAAoBA,GAAqB,GAC9CkL,KAAKkQ,SAAWA,GAAY,IARnB,EAAA6uB,6B,6BCTb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,G,cAUpB,WAAY50C,GAAZ,MAEE,cAAO,KAJH,OAKJ,EAAKA,MAAQA,EALF,EAuBf,O,oBAzB+C,iBAUtC,YAAAgzB,UAAP,SAAiB/iB,GAIf,OAHAA,EAASkoB,QAAS,EAClBloB,EAASwiB,KAAK5c,KAAK7V,OAEZ,YAAMgzB,UAAS,UAAC/iB,IAGlB,YAAAwiB,KAAP,SAAYzyB,GACV6V,KAAK7V,MAAQA,EACb,YAAMyyB,KAAI,UAACzyB,IAGN,YAAA+jC,SAAP,WACE,OAAOluB,KAAK7V,OAEhB,E,CAhCA,OAO+C60C,SAAlC,EAAAvQ,oB,8ECUb,mBAAa,EAAAwQ,iC,6BCjBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,OACA,QACA,SACA,SAEA,UACA,2BACA,O,aAgBE,WAAoBhU,EAAmC5oB,EAAmBV,GAAtD,KAAAspB,eAAmC,KAAA5oB,OAAmB,KAAAV,YAwExE,IAAI,EAmBR,O,8CAvFS,YAAAu9B,gCAAP,WACE,OAAO,IAAI,EAAAC,kBACT,CACEC,QAAS,CACPxkB,oBAAoB,EACpBO,iBAAiB,EACjBH,kBAAkB,EAClBqkB,wBAAwB,GAE1B9rB,UAAW,CACTqH,oBAAoB,EACpBO,iBAAiB,SAElBuP,EAAW,GAAI,KAGf,YAAA4U,gCAAP,SAAuCpiC,GACrC,IAAIqiC,EAA+F,CACjG,CACEjtC,GAAI,EAAAktC,8BAA8BC,oBAClC/1C,KAAM,EAAAuC,eAAe,uBACrB4wC,MAAO,GAET,CACEvqC,GAAI,EAAAktC,8BAA8BE,kBAClCh2C,KAAM,EAAAuC,eAAe,qBACrB4wC,MAAO,IAuCX,OAlCE0C,EADEriC,IAAS,EAAAqiB,4BAA4BogB,oBACjB,YACpB,CACErtC,GAAI,EAAAktC,8BAA8BI,kBAClCl2C,KAAM,EAAAuC,eAAe,qBACrB4wC,MAAO,GAET,CACEvqC,GAAI,EAAAktC,8BAA8BK,cAClCn2C,KAAM,EAAAuC,eAAe,iBACrB4wC,MAAO,GAET,CACEvqC,GAAI,EAAAktC,8BAA8BM,gBAClCp2C,KAAM,EAAAuC,eAAe,kCACrB4wC,MAAO,IAEN0C,GAGiB,YACpB,CACEjtC,GAAI,EAAAktC,8BAA8BM,gBAClCp2C,KAAM,EAAAuC,eAAe,mBACrB4wC,MAAO,GAET,CACEvqC,GAAI,EAAAktC,8BAA8BO,cAClCr2C,KAAM,EAAAuC,eAAe,iBACrB4wC,MAAO,IAEN0C,IAOF,YAAAS,sBAAP,SAA6BC,GAC3B,YAD2B,IAAAA,MAAA,IACpBA,EAAMryB,QAAO,SAAC8V,EAAehK,GAClC,OAAOA,EAAM,WAAKgK,EAAG,CAAEhK,EAAKpnB,KAAMoxB,IACjC,KAGE,YAAA1M,4CAAP,SAAmDC,EAAuCvkB,QAAA,IAAAA,MAA0BsN,KAAKirB,aAAav4B,YACpI,IAAM8B,EAAmBwL,KAAKqC,KAAKrU,iBAC7ByD,EAAuBiB,EAAWJ,GAExC,OAAO0N,KAAK2B,UAAUyV,GACnBJ,4CAA4CxiB,EAAU/C,EAAcwlB,IAGlE,YAAAC,wCAAP,SAA+CD,GAC7C,IAAMziB,EAAmBwL,KAAKqC,KAAKrU,iBAEnC,OAAOgS,KAAK2B,UAAUyV,GAAGF,wCAAwC1iB,EAAUyiB,IA1FlEipB,EAAwB,cAJpC,EAAA9mC,QAAQ,CACP/P,OAAQ,UACRK,KAAM,6BAiFA,EAAQ,WAAW,oBAAqB,CA9ED,mBA8EU,OA9EV,IAAX,EAAAyjC,aAAA,EAAAA,aAAW,0BADlC+S,G,GAAA,EAAAA,4B,6BCtBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QACA,SACA,SACA,UAKA,2B,aAOE,WAAoBv+B,GAAA,KAAAA,YAyClB,IAAI,EAaR,O,wBAlDS,YAAAw+B,WAAP,SAAkBpgC,GAChB,YADgB,IAAAA,MAAA,IACTC,KAAK2B,UAAUtB,yBAAyBN,EAAQ,qBAGlD,YAAAqgC,oBAAP,WACE,MAAO,CACL,CACEljC,KAAM,EAAAmjC,mBAAmBC,KACzB52C,KAAM,yBAER,CACEwT,KAAM,EAAAmjC,mBAAmBE,iBACzB72C,KAAM,qCAER,CACEwT,KAAM,EAAAmjC,mBAAmBG,YACzB92C,KAAM,gCAER,CACEwT,KAAM,EAAAmjC,mBAAmBI,YACzB/2C,KAAM,iCAER,CACEwT,KAAM,EAAAmjC,mBAAmBK,MACzBh3C,KAAM,6BAKL,YAAAi3C,cAAP,SAAqBC,EAAoB9xB,GACvC,IAAM+xB,EAAqB/xB,EAAMgyB,oBAEjC,OAAOF,EAAQjsC,QAAO,SAACosC,GAGrB,OAF2BA,EAAOnrC,MAAMkrC,oBAEtB1kB,SAASykB,OAIxB,YAAAG,cAAP,SAAqBD,GACnB,OAAOA,EAAOnrC,MAAMqrC,MAAM,eAAe,GAAGC,QAGvC,YAAAC,YAAP,SAAmBJ,GACjB,OAAOA,EAAOnrC,MAAMqrC,MAAM,eAAe,GAAGC,QAGvC,YAAAE,kBAAP,SAAyB/5C,GACvB,OAAO2Y,KAAK2B,UAAUwM,eAAe,8BAA+B,EAAAC,YAAY/M,KAAMha,IArD7Eg6C,EAAa,cAJzB,EAAAjoC,QAAQ,CACP/P,OAAQ,UACRK,KAAM,kBAkDA,EAAQ,WAAW,oBAAqB,CA/CN,mBA+Ce,OA/Cf,IAAT,EAAAiY,WAAA,EAAAA,WAAS,YAD7B0/B,G,GAAA,EAAAA,iB,iKCfb,E,KAAA,uBAGa,EAAAC,OAAiG,SAAChwC,GAC7G,OAAO,SAACvJ,EAA0C8C,G,MAC1CmM,EAA6B,UAAQF,MAAM,GAAI,CAAEG,MAAO,GAAIG,UAAU,GAAS9F,GAC/EiG,IAAO,MAAsC1M,GAAW,KAAImM,EAASI,SAAW,IAAM,IAAKJ,EAASC,MAAO,GAC7GZ,EAAkDtO,EAAUsO,YAAc,GAE9EA,EAAa,UAAQS,MAAM,GAAIT,EAAYkB,GAC3CzP,OAAO0P,OAAOzP,EAAW,CAAEsO,WAAU,O,yFCVzC,OACA,QACA,SACA,SACA,QACA,QACA,SAGA,aACE,WAAoBkrC,EACAC,EACEC,EACyCC,GAH3C,KAAAH,YACA,KAAAC,YACE,KAAAC,OACyC,KAAAC,mBAEpC,OAArBA,IACF1hC,KAAKuhC,UAAUI,QAAO,SAAAvyC,GAAS,gCAAKA,GAAUsyC,MAC9C1hC,KAAKuhC,UAAUthB,aAAY,I,YA6CjC,OAzCS,YAAA2hB,UAAP,sBA4BE,OAzBI5hC,KAAKwhC,UAAUK,cACA7hC,KAAKwhC,UAAUM,SAEf,EAAAC,SAAS,CACxB9G,KAAMj7B,KAAKyhC,KAAK13C,IAAU,qBAC1Bi4C,SAAU,EAAA1hC,KAAK,IAAIpT,SAAc,SAAAC,GAAW,OAAAC,OAAOQ,QAAQC,YAAY,CAACC,OAAQ,eAAgBX,SAC/FoT,KACD,EAAAvQ,KAAI,SAAAiyC,GAAW,OAAC,yBAAIA,EAAQhH,MAAS,CAACnW,UAAWmd,EAAQD,SAAS1vC,GAAIggB,MAAO2vB,EAAQD,SAAS1vB,WAC9F,EAAA4vB,WAAU,SAAAjH,GACN,OAAIA,EAAKtW,WACA,EAAK8c,KAAK13C,IAAU,wBAAwBwW,KACjD,EAAA4hC,YAAW,WAAM,SAAAC,GAAGnH,MACpB,EAAAjrC,KAAI,SAAAqd,GAAY,gCAAK4tB,GAAS5tB,OAI3B,EAAA+0B,GAAGnH,MAGd,EAAAje,KAAK,GACL,EAAAxc,KAAI,SAAAy6B,GAAQ,SAAKsG,UAAUI,OAAO,EAAD,YAAK1G,OACtC,EAAAz6B,KAAI,WAAM,SAAK+gC,UAAUthB,aAAY,QAOpC,YAAAoiB,WAAP,SAAkBpH,GAChBj7B,KAAKuhC,UAAUI,QAAO,SAAAvyC,GAAS,gCAAKA,GAAU6rC,OAGzC,YAAAqH,gBAAP,SAAuBC,GAAvB,WACE,OAAOviC,KAAKyhC,KAAKrgC,KAAgB,uBAAwBmhC,GAAWhiC,KAClE,EAAAyc,KAAK,GACL,EAAAxc,KAAI,SAAA6M,GAAY,SAAKk0B,UAAUI,QAAO,SAAAvyC,GAAS,gCAAKA,GAAUie,WAlDvDm1B,EAAW,cADvB,EAAA/gC,WAAW,CAACC,WAAY,SAKV,cAAAwjB,OAAO,EAAAud,sBAAsB,cAAAC,Y,kCAHF,mB,OAAA,IAAT,EAAAzd,WAAA,EAAAA,WAAS,SACA,mBADA,OACA,IAAT,EAAAmV,WAAA,EAAAA,WAAS,SACD,mBADC,OACD,IAAX,EAAA54B,aAAA,EAAAA,aAAW,SAC8C,mBAD9C,OAC8C,IAAJ,EAAAmhC,MAAA,EAAAA,MAAI,YAJ1EH,GAAb,GAAa,EAAAA,e,yFCTb,OACA,QAEA,SAGA,cAGE,WAAsB7U,GAAtB,MACE,YAAMA,IAAM,K,OADQ,EAAAA,QAFf,EAAAqN,MAAQ,EAAK8G,QAAO,SAAC7G,GAAe,OAAAA,K,QAK7C,OAN+B,iBAAlBb,EAAS,cADrB,EAAA34B,WAAW,CAAEC,WAAY,S,kCAIc,mB,OAAA,IAAT,EAAAujB,WAAA,EAAAA,WAAS,YAH3BmV,GAAb,CAA+B,EAAAwI,OAAlB,EAAAxI,a,8ECLb,WAsBa,EAAAqI,oBAAsB,IAAI,EAAAnd,eAAqB,4B,yFCvB5D,QACA,QACA,SACA,SAEA,yBACA,6BACA,4BACA,OAQA,cAME,mBAGE,cAAO,K,OACP,EAAKp5B,MAAQ,GACb,EAAKqI,YAAc,G,EAyBvB,OApC8C,iBAcrC,YAAAsuC,eAAP,SAAsBnwC,GACpB,IAEIowC,EAFEC,EAAiBrwC,EAAWtD,QAAU,EAAAsxB,gBAAgBM,MAC1D,IAAI,EAAA/0B,eAAe,mCAAkC,IAAM,GAW7D,OARIyG,EAAWiB,0BACbmvC,EAAc,EAAA72C,eAAe,sDACpByG,EAAWkB,kBAAoB,EAAAwS,eAAe+a,UACvD2hB,EAAc,EAAA72C,eAAe,qCACpByG,EAAWkB,kBAAoB,EAAAwS,eAAe6a,sBACvD6hB,EAAc,EAAA72C,eAAe,gDAGxB62C,GAAeC,EAAYD,EAAW,IAAIC,EAAWD,GAIvD,YAAAE,aAAP,SAAoBC,GACdA,GAAUA,EAAOr9B,2BAA2BuZ,UAC9C8jB,EAAOr9B,mBA/BX,cADC,EAAA7O,MAAM,CAAEM,QAAQ,I,gEAGjB,cADC,EAAAN,Q,qEAHUmsC,EAAwB,cANpC,EAAAptC,UAAU,CACTzM,OAAQ,UACR6M,SAAU,uBACVitC,SAAU,UACV70C,MAAO,Y,sCAEI40C,GAAb,CAA8C,EAAAv6B,yBAAjC,EAAAu6B,4B,8EChBb,SAAYE,GACV,mBACA,2CACA,iCACA,iCACA,qBALF,CAAY,EAAAA,iBAAA,EAAAA,eAAc,M,wTCoBbC,EAAkB,6rDAyhBhBC,IAtcQ,WACrB,IAAMj6B,EAAUC,qBAAW9c,iBAEzBw5B,EACE3c,EADF2c,IAAKz3B,EACH8a,EADG9a,OAAQ03B,EACX5c,EADW4c,UAAWhO,EACtB5O,EADsB4O,cAAesrB,EACrCl6B,EADqCk6B,qBAAsBC,EAC3Dn6B,EAD2Dm6B,wBAAyBC,EACpFp6B,EADoFo6B,aAH7D,EAKyBhrC,qBALzB,mBAKpBirC,EALoB,KAKAC,EALA,OAMmBlrC,qBANnB,mBAMpBmrC,EANoB,KAMHC,EANG,OAOiCprC,qBAPjC,mBAOpBqrC,EAPoB,KAOIC,EAPJ,OAQOtrC,qBARP,mBAQpBurC,EARoB,KAQTC,EARS,OASsCxrC,oBAAS,GAT/C,mBASpByrC,EAToB,KASOC,EATP,KAUrBC,EAAoB1oC,mBAVC,GAYGjD,oBAAS,GAZZ,qBAYpB4rC,GAZoB,MAYXC,GAZW,MAarBC,GAAgB,uCAAG,gCAAAt0C,EAAA,sEACA+1B,EAAI6P,aAAawN,GADjB,cACjBh2B,EADiB,OAEvB42B,EAAa52B,aAAD,YAACA,EAAUhmB,YAAX,aAAC,EAAgB28C,WAC7BM,IAAW,GAHY,kBAIhBj3B,aAJgB,YAIhBA,EAAUhmB,YAJM,aAIhB,EAAgB28C,WAJA,2CAAH,qDAOhBzvC,IAAcyvC,aAAA,EAAAA,EAAWzvC,cAAe,GACxCiwC,GAAkB,WAAqB,IAApBhwC,EAAoB,uDAAT,KAC5BonB,EAAOpnB,GAAYknB,yCACzB,GAAKE,EAAL,CAGA,IAAM6oB,EAAiBlwC,GACpBvE,KAAI,SAACC,GAAD,OAAQA,GAAR,mBAAeA,EAAEsE,aAAe,QACpCsa,OACGnc,EAAa+xC,EAAe5vC,MAAK,SAAC5E,GAAD,OAAOA,EAAEyf,oBAAsBkM,KAClElpB,EAAWO,WACb0wC,EAAsBjxC,KAIpBgyC,GAAc,uCAAG,WAAOr9C,EAAMqL,GAAb,qDAAAzC,EAAA,6DAAyB00C,EAAzB,gCACd1I,EAAW50C,EAAX40C,SACD2I,EAAW,IACRz8C,KACP69B,EAAI6P,aAAJ,uJAaF+O,EAASz8C,KACP69B,EAAI6O,4BACFniC,EAAWJ,GADb,yMAlBmB,SAqCQpF,QAAQyiC,IAAIiV,GArCpB,mCAqCdC,EArCc,KAqCPC,EArCO,OAsCOD,aAtCP,YAsCOA,EAAOx9C,YAtCd,aAsCO,EAAa28C,UAAlClvC,EAtCc,EAsCdA,kBAtCc,EAuCCgwC,aAvCD,YAuCCA,EAAOz9C,YAvCR,aAuCC,EAAaqL,WAAW,GAAvCT,EAvCc,EAuCdA,YACD8N,EAAS,CACb4kC,WACAv0B,UAAW6rB,aAAF,EAAEA,EAASzkB,WACpB9kB,aACAsK,WAAYtK,aAAF,EAAEA,EAAY4d,YAAYzb,MAClC,SAAC5E,GAAD,OAAOA,EAAEunB,cAAeykB,aAAjB,EAAiBA,EAASzkB,eAEnC1iB,oBACA7C,cACA8yC,YAAa,WACXlB,EAAmB,MACnBU,MAEFr0B,SAAUxd,aAAF,EAAEA,EAAY4d,aAExBuzB,EAAmB9jC,GAvDE,4CAAH,wDA2DdilC,GAAoB,uCAAG,WAAOC,GAAP,uDAAAh1C,EAAA,2DACvBg1C,aADuB,EACvBA,EAAQrB,iBADe,oBAEnBhoB,EAAOF,yCACP+oB,EAAiBlwC,GACpBvE,KAAI,SAACC,GAAD,OAAQA,GAAR,mBAAeA,EAAEsE,aAAe,QACpCsa,QACGnc,EAAa+xC,EAAe5vC,MAChC,SAAC5E,GAAD,OAAOA,EAAEyf,oBAAsBkM,MAEjB3oB,UATS,iDAYlBqd,EAAe5d,EAAf4d,YACD2rB,EAAU3rB,EAAYzb,MAC1B,SAAC5E,GAAD,MAAO,UAAGA,EAAEG,WAAL,YAAmBH,EAAEK,aAAgB20C,EAAOrB,mBAErDc,GAAe,CAACzI,WAAUvpC,GAC1BtF,OAAOC,QAAQC,KAAKG,IAAI,CAACm2C,gBAAiB,IAjBjB,yBAkBhBqB,aAAJ,EAAIA,EAAQvB,sBACjBG,EAAmB,MACnBW,GAAgBS,aAAD,EAACA,EAAQvB,oBACxBt2C,OAAOC,QAAQC,KAAKG,IAAI,CAACi2C,mBAAoB,KArBpB,aAuBvBuB,aAvBuB,EAuBvBA,EAAQC,gBAvBe,kCAwBEX,KAxBF,QAwBnBY,EAxBmB,OAyBnB1zC,EAAewzC,EAAOC,eACtBT,EAAiBU,aA1BE,EA0BFA,EAAc5wC,YAClCvE,KAAI,SAACC,GAAD,OAAQA,GAAR,mBAAeA,EAAEsE,aAAe,QACpCsa,OACGnc,EAAa+xC,EAAe5vC,MAAK,SAAC5E,GAAD,OAAOA,EAAEqC,KAAOb,KACvDsyC,EAA0BrxC,GAC1BtF,OAAOC,QAAQC,KAAKG,IAAI,CAACy3C,eAAgB,IA/BhB,aAiCvBD,aAjCuB,EAiCvBA,EAAQG,sBAjCe,wBAkCzB3B,IACM7tC,EAAQqvC,EAAOG,qBACrBh4C,OAAOC,QAAQC,KAAKG,IAAI,CAAC23C,qBAAsB,IApCtB,UAqCApf,EAAIiO,cAAcr+B,GArClB,eAqCnBlD,EArCmB,iBAsCE6xC,KAtCF,QAsCnBY,EAtCmB,OAuCnB1zC,EAAeiB,EAAWJ,GAC1BmyC,EAAiBU,aAxCE,EAwCFA,EAAc5wC,YAClCvE,KAAI,SAACC,GAAD,OAAQA,GAAR,mBAAeA,EAAEsE,aAAe,QACpCsa,OACGw2B,EAAmBZ,EAAe5vC,MAAK,SAAC5E,GAAD,OAAOA,EAAEqC,KAAOb,KAC7DsyC,EAA0BsB,GA5CD,aA8CvBJ,aA9CuB,EA8CvBA,EAAQK,yBA9Ce,wBA+CnB1vC,EAAQqvC,EAAOK,wBACrBl4C,OAAOC,QAAQC,KAAKG,IAAI,CAAC63C,wBAAyB,IAhDzB,UAiDAtf,EAAIiO,cAAcr+B,GAjDlB,eAiDnBlD,EAjDmB,iBAkDE6xC,KAlDF,eAkDnBY,EAlDmB,OAmDnB1zC,EAAeiB,EAAWJ,GAC1BmyC,EAAiBU,aApDE,EAoDFA,EAAc5wC,YAClCvE,KAAI,SAACC,GAAD,OAAQA,GAAR,mBAAeA,EAAEsE,aAAe,QACpCsa,OACGw2B,EAAmBZ,EAAe5vC,MAAK,SAAC5E,GAAD,OAAOA,EAAEqC,KAAOb,KAvDpC,UAwDnBu0B,EAAI6Q,iBAAJ,2BAAyBwO,GAAzB,IAA2CpyC,WAAW,KAxDnC,yBAyDnBsxC,KAzDmB,4CAAH,sDA6DpBgB,GAAc,uCAAG,sBAAAt1C,EAAA,sDACrB7C,OAAOC,QAAQC,KAAKvD,IAClB,CACE,iBACA,0BACA,kBACA,qBACA,uBACA,4BAEF,SAACsD,GACC23C,GAAqB33C,MAXJ,2CAAH,qDAgBdm4C,GAAe,uCAAG,WAAOP,GAAP,mBAAAh1C,EAAA,yDAChBw1C,EAAU39C,OAAOymB,KAAK02B,GAAQj1C,KAAI,SAACvF,GACvC,IAAMw/B,EAAM,GAEZ,OADAA,EAAIx/B,GAAOw6C,EAAOx6C,GAAKi7C,SAChBzb,KAJa,cAMAwb,EANA,IAMfE,EANe,QAOFvB,EAAkB5pC,QAPhB,uBAQpB4pC,EAAkB5pC,QAAUmrC,EARR,SASdX,GAAqBW,GATP,2CAAH,sDAarB/sC,qBAAU,WACR,GAAKrE,GAAY1M,OAkCjB,OA5BKgF,EAAQC,IAAIC,uBACfK,OAAOC,QAAQC,KAAKvD,IAAI,CAAC,2BAAzB,uCAAqD,WAAO0vB,GAAP,qBAAAxpB,EAAA,yDACT,KAAtCwpB,aAAA,EAAAA,EAAUmsB,yBADqC,iCAE5B9pB,sBAF4B,UAE3CtM,EAF2C,wEAM7BwW,EAAIwO,mBAAmBhlB,GANM,UAM3Cq2B,EAN2C,OAMG,GAC9CpB,EAAiBlwC,GACpBvE,KAAI,SAACC,GAAD,OAAQA,GAAR,mBAAeA,EAAEsE,aAAe,QACpCsa,QACGnc,EAAa+xC,EAAe5vC,MAChC,SAAC5E,GAAD,OAAOA,EAAEqC,KAAOuzC,EAAKnzC,eAEPO,UAbiC,mDAgBjD7F,OAAOC,QAAQC,KAAKG,IAAI,CAACm4C,wBAAyB,IAClDlB,GACE,CAACzI,QAAS,CAACzkB,WAAYquB,EAAKruB,aAC5B9kB,GAnB+C,4CAArD,uDAwBA6yC,KACAn4C,OAAOC,QAAQy4C,UAAUC,YAAYP,KAEhC,WACA34C,EAAQC,IAAIC,sBACfK,OAAOC,QAAQy4C,UAAUE,eAAeR,OAG3C,CAACjxC,KAEJqE,qBAAU,WACR2rC,OACC,IAEH3rC,qBAAU,WACHsrC,GACHK,OAED,CAACL,IAEJ,IAAM+B,GAAyB,uCAAG,WAAOvzC,EAAP,oBAAAzC,EAAA,sDAAoBvG,EAApB,EAAoBA,KAApB,KACxBA,EADwB,OAEzB,eAFyB,OAUzB,YAVyB,QAczB,wBAdyB,6BAGxBgJ,EAAWQ,WAAYR,aAAA,YAAAA,EAAY6B,mBAAZ,eAAyBI,QAAO,SAAC1E,GAAD,OAAOA,EAAEgD,aAAWpL,QAAS,GAH5D,uBAI1Bs8C,EAA4BzxC,GAJF,0CAOtBszB,EAAI6Q,iBAAJ,2BAAyBnkC,GAAzB,IAAqCO,WAAW,KAP1B,wBAQtBsxC,KARsB,6DAWtBve,EAAI6Q,iBAAJ,2BAAyBnkC,GAAzB,IAAqCO,WAAW,KAX1B,yBAYtBsxC,KAZsB,mDAe5BR,EAA0BrxC,GAfE,qGAAH,wDAsBzBwzC,GAAkB,uCAAG,4BAAAj2C,EAAA,6DACnBqD,EAAQ4wC,EACdle,EAAI6Q,iBAAJ,2BAAyBvjC,GAAzB,IAAgCL,WAAW,KAFlB,SAGnB/F,QAAQyiC,IAAIr8B,EAAMiB,YAAYI,QAAO,SAAC1E,GAAD,OAAOA,EAAEgD,aAAWjD,KAAI,SAACC,GAAD,OAAO+1B,EAAI6Q,iBAAJ,2BACrE5mC,GADqE,IAExEgD,WAAW,SALY,OAOzBkxC,GAA4B,GAPH,2CAAH,qDAUlBgC,GAAiB,uCAAG,WAAOzzC,GAAP,SAAAzC,EAAA,0DACpBg2B,EADoB,uBAEtBye,GAAe,CAACzI,QAASvpC,EAAW4d,YAAY,IAAK5d,GAF/B,0BAKpBA,EAAWiB,2BACbowC,EAA0BrxC,GAE5BixC,EAAsBjxC,GARE,2CAAH,sDAWjB0zC,GAAY,uCAAG,WAAO9yC,GAAP,eAAArD,EAAA,sDACbo2C,EAAoBv2C,uCACxBwD,EAAMgd,YACN2H,GAEFysB,GAAe,CAACzI,QAASoK,EAAkB,IAAK/yC,GAAO,GALpC,2CAAH,sDAQlB,GAAIwwC,EACF,OACE,kBAAC,IAAD,CACEpxC,WAAYoxC,EACZwC,QAAS,WACP/B,KACAR,EAA0B,MAC1BJ,EAAsB,SAM9B,GAAIC,EACF,OAAO,kBAAC,IAA6BA,GAEvC,GAAIF,EACF,OACE,kBAAC,IAAD,CACEhxC,WAAYgxC,EACZ6C,KAAM,WACJhC,KACAZ,EAAsB,SAM9B,IAAM6C,GAA+B,IAAvBjyC,GAAY1M,OAQtB4+C,GAAyBlyC,GAC1BI,QAAO,SAAC1E,GAAD,OAAQA,EAAEiD,YACjB3C,MARkB,SAACN,EAAGO,GACvB,IAAMk2C,EAAK,IAAIhgB,KAAKz2B,EAAE02C,SAEtB,OADW,IAAIjgB,KAAKl2B,EAAEm2C,SACVD,KAMRE,GAASryC,GACZI,QAAO,SAAC1E,GAAD,OAAOA,EAAEiD,YAChB3C,MAAK,SAACN,EAAGO,GAAJ,OAAUP,EAAE42C,YAAcr2C,EAAEq2C,eAEP,UAAzBtD,IACFkD,GAAyBA,GAAuBl2C,MAAK,SAACN,EAAGO,GAAJ,OAAUP,EAAE2F,MAAMnF,cAAcD,EAAEoF,WAEzF,IAAMkxC,GAAoB,GAAH,mBAAOL,IAAP,YAAkCG,KACrDG,GAAe,sBAAIN,IAAJ,YAA+BG,GAAO52C,KAAI,SAACC,GAAD,OAAOA,EAAEsE,gBAAnD,YAAoEqyC,KAAQ/3B,OAAOla,QAAO,SAAC1E,GAAD,OAAQA,EAAEgD,aAAW0B,QAAO,SAAA1E,GACvI,GAAIA,EAAEiD,UAC4BjD,EAAEsE,YAAYI,QAAO,SAAAC,GAAE,OAAIA,EAAG3B,aAAWpL,OAAS,EAEhF,OAAO,EAGX,OAAO,KAMT,OAJ4B,IAAxBk/C,GAAal/C,SACfk/C,GAAe,CAAC,CAACrqC,KAAMzQ,yBAAe,kCAAmC0Q,aAAa,KAItF,6BACE,kBAAC,IAAD,CAAuB/G,MAAO3J,yBAAe,qBAC5Co4C,IAAWmC,IAAS,kBAAC,IAAD,MACrB,yBAAKl4C,MAAO,CAACmF,QAAS,OAAQD,eAAgB,WAAYwzC,aAAc,aAAF,OAAe77C,SAAOqH,eAC1F,kBAAC,IAAD,CACEoD,MAAgC,UAAzB2tC,EAAmCt3C,yBAAe,uBAAyBA,yBAAe,iCAEjG,yBAAKqC,MAAO,CAAC6K,OAAQ,qBACnB,kBAAC,IAAD,CACE7K,MAAO,CACLC,OAAQ,OACRuK,OAAQ,UACRuf,UAAW,UAAF,OAAqC,UAAzBkrB,EAAmC,EAAI,IAAnD,SAEX35B,KAAMze,SAAO+N,SACbZ,QAAO,sBAAE,sBAAArI,EAAA,sDACPuzC,EAAiD,UAAzBD,EAAmC,KAAO,SAD3D,gDAOjB,yBAAKj1C,MAAO,CAACC,OAAQA,EAAS,IAAKwX,SAAU,WAC1CygC,KAAUnC,IACT,yBAAK/1C,MAAO,CAAC6K,OAAQ,SACnB,0BAAM7K,MAAK,eAAMlD,QAAM+e,QACpBle,yBAAe,iCAIrB66C,GAAkB92C,KAAI,SAAC0C,GAAe,IAChCO,EAAaP,EAAbO,UACL,OAAIP,EAAWQ,YACbD,EAAYP,EAAW6B,YAAYI,QAAO,SAAC1E,GAAD,OAAOA,EAAEgD,aAAWpL,OAAS,GAAK6K,EAAWO,WAE9E,KAKT,yBAAKxI,IAAKiI,EAAWJ,IAClBI,EAAWQ,UACV,kBAAC,IAAD,CACE+yB,UAAWA,EACXvzB,WAAYA,EACZu0C,oBAAqBd,GACrBe,cAAed,GACfH,0BAA2BA,GAC3BnC,uBAAwBA,KAGzBpxC,EAAWQ,UAAYD,GACxB,kBAAC,IAAD,CACEgzB,UAAWA,EACXvzB,WAAYA,EACZu0C,oBAAqBd,GACrBF,0BAA2BA,GAC3BnC,uBAAwBA,EACxBoD,cAAed,UAMvBngB,GACC,kBAAC,IAAD,CACDkhB,QACE,yBAAK74C,MAAO,CAACC,OAAQ,OAAQgF,WAAY,SAAUE,QAAS,SAC1D,0BAAMnF,MAAK,2BAAMlD,QAAMiR,QAAZ,IAAoBhK,MAAOlH,SAAOmI,SAASrH,yBAAe,4BAGzEm7C,QACE,yBAAK94C,MAAO,CAACmF,QAAS,OAAQ+J,cAAe,SAAUhP,MAAO,SAC3Du4C,GAAa/2C,KAAI,SAACC,GACjB,OAAIA,EAAE0M,YACG,0BAAMrO,MAAK,2BACblD,QAAMiR,QADO,IAEhBzJ,gBAAiBzH,SAAOwH,MACxBG,QAAS,yBACP7C,EAAEyM,MAGN,kBAAC,IAAD,CACEhK,WAAYzC,EACZg2C,0BAA2BA,GAC3B3yC,MAAOszC,GAAO/xC,MAAK,SAACzK,GAAD,OAAOA,EAAEkI,KAAOrC,EAAEo3C,qBAUnD,kBAAC,IAAD,CACEhuB,KAAM6qB,EACNoD,GAAE,sBAAE,sBAAAr3C,EAAA,sEACI+1B,EAAI6Q,iBAAJ,2BAAyBqN,GAAzB,IAAoDjxC,WAAW,KADnE,OAEFkxC,GAA4B,GAF1B,2CAIJoD,IAAKrB,S,gDCxiBb,sDAAS18B,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClD,YAAa,YACbjgB,EAAG,mIACHmgB,KAAM,YAGJ2b,EAAqB,gBAAoB,OAAQ,CACnD,YAAa,YACb97B,EAAG,gBACHmgB,KAAM,SAGR,SAAS49B,EAAqBpvC,GAC5B,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDM,MAAO,6BACPtb,MAAO,GACPD,OAAQ,IACP6J,GAAQsR,EAAM6b,GAGJ,K,6BCxBf,sDAAS/b,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,IAAK,CAC/C,YAAa,cACC,gBAAoB,OAAQ,CAC1C,YAAa,iBACbE,KAAM,OACNngB,EAAG,kBACY,gBAAoB,OAAQ,CAC3C,YAAa,YACbA,EAAG,4LACHmgB,KAAM,aAGR,SAAS69B,EAAmBrvC,GAC1B,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDM,MAAO,6BACPtb,MAAO,GACPD,OAAQ,IACP6J,GAAQsR,GAGE,K,oCCxBf,sDAASF,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClDjgB,EAAG,4jBACHmgB,KAAM,UACND,SAAU,YAGZ,SAAS+9B,EAAatvC,GACpB,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDhb,MAAO,GACPD,OAAQ,GACRub,MAAO,8BACN1R,GAAQsR,GAGE,K,6BClBf,sDAASF,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClDjgB,EAAG,4jBACHmgB,KAAM,UACND,SAAU,YAGZ,SAASg+B,EAAiBvvC,GACxB,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDhb,MAAO,GACPD,OAAQ,GACRub,MAAO,8BACN1R,GAAQsR,GAGE,K,6BClBf,sDAASF,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClDjgB,EAAG,ynBACHmgB,KAAM,UACND,SAAU,YAGZ,SAASi+B,EAAoBxvC,GAC3B,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDhb,MAAO,GACPD,OAAQ,GACRub,MAAO,8BACN1R,GAAQsR,GAGE,K,6BClBf,sDAASF,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClDjgB,EAAG,ynBACHmgB,KAAM,UACND,SAAU,YAGZ,SAASk+B,EAAgBzvC,GACvB,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDhb,MAAO,GACPD,OAAQ,GACRub,MAAO,8BACN1R,GAAQsR,GAGE,K,kHCTTpe,EAAS,CACbouB,KAAM,CACJjmB,QAAS,OACTjF,MAAO,OACPD,OAAQ,OAERgF,WAAY,SACZC,eAAgB,SAChBgK,cAAe,UAEjBkb,KAAM,CAACnqB,OAAQ,OAAQC,MAAO,QAC9Bs5C,YAAa,CACXv5C,OAAQ,OACRC,MAAO,OACP8O,aAAc,SA2FHyqC,IAvFmB,SAAC3vC,GAAU,IACtCkY,EAAiFlY,EAAjFkY,YAAauZ,EAAoEzxB,EAApEyxB,WAAYpQ,EAAwDrhB,EAAxDqhB,SADa,EAC2CrhB,EAA9C4vC,yBADG,MACiB,KADjB,IAC2C5vC,EAApB6vC,iBADvB,SAQ3C,OANKpe,IACHA,EAAavZ,EAAYtgB,KAAI,SAACC,GAAD,MAAQ,CACnCvG,KAAMuG,EAAEkhC,cACR7+B,GAAIrC,EAAEkF,kBAIR,yBACE7G,MAAO,CACLmF,QAAS,OACTF,WAAY,SACZC,eAAgB,eAChBV,QAAS,MACTo1C,YAAa,aAAF,OAAe/8C,SAAOqH,eAGlCq3B,EAAWt5B,MAAK,SAACN,EAAGO,GAAJ,OAAWP,EAAEvG,KAAK+G,cAAcD,EAAE9G,UAAMghC,EAAW,CAClEC,SAAS,EACTC,WAAY,YACT56B,KAAI,SAACpG,GAAM,UACRoT,EAAasT,EAAYzb,MAAK,SAAC5E,GAAD,OAAOA,EAAEkF,eAAiBvL,EAAE0I,OAAO,CACrEA,GAAIylC,KAAKoQ,SACT3hB,OAAQ,GAEJ4hB,GAA8C,KAAvBprC,aAAA,EAAAA,EAAYwpB,OACnCA,GAAQxpB,aAAA,YAAAA,EAAYwpB,aAAZ,eAAmB98B,OAAQ,IACnC2+C,GAAsBL,GACxBp+C,EAAE0I,MAAO01C,aAAT,EAASA,EAAmB11C,IAEhC,OACE,yBACE7H,IAAKb,EAAE0I,GACPhE,MAAO,CACLmF,QAAS,OACTF,WAAY,SACZC,eAAgB,SAChB00C,YAAa,GAAF,OAAKD,EAAY,EAAI,EAArB,oBACTxuB,EAAWtuB,SAAOsY,gBAAkBtY,SAAOqH,eAI/C,kBAAC,IAAD,CAAS/H,IAAKuS,EAAW1K,GAAIsD,MAAOhM,EAAEF,MACpC,yBAAK4E,MAAK,2BAAMhD,EAAOouB,MAAb,IAAmBlqB,SAAU,WAAYhB,MAAO,UACxD,yBAAKF,MAAO,CAACmF,QAAS,OAAQ+J,cAAe,SAAUjK,WAAY,WACnE,0BACEjF,MAAK,2BACAlD,QAAM+e,OADN,IAEHgQ,WAAY,MACZ9nB,OAAO2K,aAAA,YAAAA,EAAYwpB,aAAZ,eAAmBn0B,QAASlH,SAAO+Y,kBAG3CkkC,EAAuB5hB,EAAQ,IAE/B4hB,GACD,kBAAC,IAAD,CAAe5yC,UAAWwH,EAAWme,gBAAiBxjB,UAAUqF,aAAD,YAACA,EAAYwpB,aAAb,aAAC,EAAmB98B,UAGnF2+C,GACC,yBAAK/5C,MAAO,CACbkB,SAAU,WAAY6L,IAAK,EAAG1L,KAAM,EAAGsO,MAAO,EAAGrO,OAAQ,EAAGgD,gBAAiB,kBAIjFq1C,GACF,kBAAC,IAAD,CAASryC,MAAO3J,yBAAe,oBAC7B,yBAAKqC,MAAOhD,EAAOouB,MACjB,kBAAC,IAAD,CAAMjrB,KAAMisB,IAAe/iB,OAAQqF,EAAW2d,SAAUrsB,MAAOhD,EAAOotB,OACtE,kBAAC,IAAD,CAAeljB,UAAWwH,EAAW4d,mBAAoBjjB,SAAUqF,EAAW2d,cAGhFstB,GAAa,kBAAC,IAAD,CAASryC,MAAO3J,yBAAe,4BAC5C,yBAAKqC,MAAK,eAAMhD,EAAOouB,OACrB,kBAAC,IAAD,CACEjrB,KAAM2sB,IACNzjB,OAAQqF,EAAWqe,aACnB/sB,MAAOhD,EAAOw8C,uB,6BCxGjB,QAA0B,+D,6BCAzC,sDAASt+B,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClDjgB,EAAG,gIACHkgB,SAAU,UACV2+B,SAAU,YAGR/iB,EAAqB,gBAAoB,OAAQ,CACnD97B,EAAG,gIACHkgB,SAAU,UACV2+B,SAAU,UACV1+B,KAAM,YAGR,SAAS2+B,EAAQnwC,GACf,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDM,MAAO,6BACP0+B,QAAS,aACRpwC,GAAQsR,EAAM6b,GAGJ,K,kHC8DAkjB,IA7Ee,SAACrwC,GAC7B,IAAMiR,EAAUC,qBAAW9c,iBACPk8C,GAAer/B,EAA3Bs/B,WAA2Bt/B,EAAfq/B,YACZ9yC,EAAsDwC,EAAtDxC,MAH+B,EAGuBwC,EAA/CwwC,gBAHwB,SAGNC,EAA6BzwC,EAA7BywC,WAHM,EAGuBzwC,EAAjBywB,eAHN,SAKvC,OACE,yBACEv6B,MAAO,CACLE,MAAO,OACPD,OAAQ,OACRkF,QAAS,OACTb,gBAAiBi2B,EAAQ19B,SAAOmI,MAAMnI,SAAO0H,MAC7C6S,OAAQ,iBACRlW,SAAU,aAGZ,yBACElB,MAAO,CACLmF,QAAS,OACT8K,KAAM,EACNzL,QAAS,OACT4S,OAAQ,kBAGV,kBAAC,IAAD,CACEpX,MAAO,CACLwK,OAAQ,UACRzG,MAAOlH,SAAOwH,MACdpE,OAAQ,OACRgP,UAAW,MACXvK,YAAa,OAEfsF,QAASowC,IAEX,uBACEp6C,MAAK,2BACAlD,QAAM+e,OADN,IAEH9X,MAAOlH,SAAOwH,MACdqG,WAAY,OACZuE,UAAW,MACX4c,WAAY,SAGbvkB,GAEFgzC,GACC,yBACEtwC,QAASuwC,EACTv6C,MAAO,CACLkB,SAAU,WACV6L,IAAK,OACL4C,MAAO,OACPnF,OAAQ,YAGV,kBAAC,IAAD,CAASlD,MAAO3J,yBAAe,wBAC7B,6BACE,kBAAC,IAAD,UAMV,yBACEqC,MAAO,CACLkB,SAAU,WACVI,OAAQ,EACRD,KAAM,EACNsO,MAAO,IAGT,kBAAC,IAAD,U,6BChFR,sDAASuL,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClDjgB,EAAG,gGACHmgB,KAAM,OACND,SAAU,YAGZ,SAASm/B,EAAQ1wC,GACf,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDhb,MAAO,GACPD,OAAQ,GACRub,MAAO,8BACN1R,GAAQsR,GAGE,K,sECLAq/B,IATc,WAC3B,OACE,yBAAKz6C,MAAO,CAAEoX,OAAO,aAAcva,SAAO0H,MAAOyK,aAAa,OAAQxK,QAAQ,OAAQF,gBAAgBzH,SAAOwH,MAAOI,aAAa,QAC/H,0BAAMzE,MAAK,eAAMlD,QAAMiR,SAAUpQ,yBAAe,6B,iICKhD+8C,EAAiB7sC,aAAW,SAAC8sC,GAAD,MAAY,CAC5CC,MAAO,2BACF99C,QAAMiR,QADN,IAEHuI,SAAU,OACVrW,OAAQ,OACRgF,WAAY,WACZE,QAAS,OACTuzC,aAAc,aAAF,OAAe77C,SAAOqH,aAClCm1B,cAAe,MACf,UAAW,CACTt1B,MAAOlH,SAAO0H,YAVGsJ,CAanBgtC,KAiDWC,IA/CS,SAAChxC,GAAU,IAE/B9G,EACE8G,EADF9G,QAASuV,EACPzO,EADOyO,SAAU1c,EACjBiO,EADiBjO,MAAOk/C,EACxBjxC,EADwBixC,aAFK,EAG7BjxC,EADsC9J,aAFT,MAEiB,GAFjB,EAIjC,OACE,kBAAC,IAAD,CAAaA,MAAK,aAAIiQ,KAAM,EAAG9K,QAAS,QAAWnF,IACjD,kBAAC,IAAD,CAAYgE,GAAIuU,GACd,0BACEvY,MAAK,2BACAlD,QAAMkR,OADN,IAEHjK,MAAiB,KAAVlI,EAAegB,SAAO2I,IAAM3I,SAAO0H,SAG3CgU,IAGL,kBAAC,IAAD,CACEyiC,QAASziC,EACTvY,MAAO,CAAEE,MAAO,QAChBrE,MAAOA,EACPwT,SAAU0rC,EACVE,YAAa,SAACj3C,GAAD,aACX,0BACEhE,MAAK,2BACAlD,QAAMiR,QADN,IAEH0J,SAAU,SACVC,aAAc,cAJlB,UAOG1U,EAAQuD,MAAK,SAACjL,GAAD,OAAOA,EAAE0I,KAAOA,YAPhC,aAOG,EAAkC5I,QAGvCw/C,MAAO,kBAACF,EAAD,OAEN13C,EAAQtB,KAAI,SAAC+oB,GAAD,OACX,kBAAC,IAAD,CAAUtuB,IAAKsuB,EAAOzmB,GAAInI,MAAO4uB,EAAOzmB,IACtC,kBAAC,IAAD,CACEyQ,QAAS,0BAAMzU,MAAK,eAAOlD,QAAMiR,SAAW0c,EAAOrvB,MACnD8/C,UAAW,0BAAMl7C,MAAOlD,QAAM4S,MAAO+a,EAAO8R,wB,qGC9D3C,SAAS4e,EAAMrxC,GAAO,MAI/BA,EAFFsxC,eAFiC,MAEvB,IAFuB,IAI/BtxC,EAFcuxC,gBAFiB,MAEN,QAFM,EAEGx9C,EAElCiM,EAFkCjM,QAASktB,EAE3CjhB,EAF2CihB,KAFZ,EAI/BjhB,EAFiDkuC,eAFlB,MAE4B,aAF5B,IAKK7tC,mBAAS4gB,GALd,mBAK5BuwB,EAL4B,KAKdC,EALc,KAiBnC,OAVAjxC,qBAAU,WACJygB,IACFwwB,GAAgB,GAChB5tC,YAAW,WACT4tC,GAAgB,GAChBvD,MACCoD,MAEJ,CAACrwB,IAECuwB,EAIH,yBAAKt7C,MAAO,CAACmF,QAAS,OAAQjE,SAAU,WAAYI,OAAQ,EAAGD,KAAM,EAAGsO,MAAO,EAAGzK,eAAe,SAAU2K,UAAW,+BAAgCrL,QAAQ,OAAQiG,OAAO,MAC3K,kBAAC,IAAD,CAAO4wC,SAAUA,GAAWx9C,IAJvB,O,6BCrBX,mFAQM29C,EAAyB3tC,YAAW,CACxCC,KAAM,CACJxJ,gBAAiBzH,SAAO+X,KACxBpQ,QAAS,QAHkBqJ,CAK5B4tC,KAEGC,EAAkB7tC,YAAW,CACjCC,KAAM,CACJ,aAAc,CACZmB,UAAW,QAGf0sC,SAAU,IANY9tC,CAOrB+9B,KAEGgQ,EAAyB/tC,YAAW,CACxCC,KAAM,CACJ+tC,UAAW,OACXr3C,QAAS,MACTkG,WAAY,OACZ,aAAc,CACZmxC,UAAW,MACX5sC,UAAW,QAGf6sC,QAAS,CAEPjxC,OAAQ,MACR,aAAc,CACZrG,QAAS,MACTqG,OAAQ,MACRgxC,UAAW,QAGfE,WAAY,CACVv3C,QAAQ,MACRqG,OAAQ,kBACR,aAAc,IAEhB8wC,SAAU,IAxBmB9tC,CAyB5BmuC,KAiBYC,IAdO,SAACnyC,GAAU,IACvB+uC,EAA4B/uC,EAA5B+uC,QAASC,EAAmBhvC,EAAnBgvC,QAAmBhvC,EAAV9J,MAC1B,OACI,kBAAC07C,EAAD,CAAkBQ,QAAM,EAACC,gBAAiB,CAAEC,eAAe,IACzD,kBAACR,EAAD,CAAwBG,WAAY,kBAAC,IAAD,OACjClD,GAEH,kBAAC2C,EAAD,KACG1C,O,yHCnDLuD,EAAuB,CAC3B,CACE/0C,MAAO3J,yBAAe,6BACtBvC,KAAM,uBAER,CACEkM,MAAO3J,yBAAe,0BACtBvC,KAAM,eAIJkhD,EAA0B,CAC9B,CACEh1C,MAAO3J,yBAAe,qBACtBvC,KAAM,YA8FKgO,oBA1FQ,SAACU,GAAU,IAE9B1F,EAME0F,EANF1F,WACAu0C,EAKE7uC,EALF6uC,oBACAhB,EAIE7tC,EAJF6tC,0BAJ8B,EAQ5B7tC,EAHFyyC,eAL8B,SAM9B3D,EAEE9uC,EAFF8uC,cACAjhB,EACE7tB,EADF6tB,UAP8B,EASFxtB,oBAAS,GATP,mBASzBqyC,EATyB,KAShBztC,EATgB,KAiBhC,OACE,yBACEI,aAAc,kBAAMJ,GAAW,IAC/BK,aAAc,kBAAML,GAAW,IAC/B/O,MAAO,CACLC,OAAQ,OACRy4C,aAAc,aAAF,OAAe77C,SAAOqH,aAClCe,WAAY,SACZE,QAAS,OACTkR,YAAakmC,EAAU,OAAS,OAChCj4C,gBAAiBk4C,EAAU3/C,SAAOqH,YAAcrH,SAAOwH,QAGzD,kBAAC,IAAD,CACE2F,QApBQ,WACT5F,EAAWO,WACZg0C,EAAoBv0C,IAmBlBq4C,aAAW,EACXz8C,MAAO,CACLmF,QAAS,OACTF,WAAY,SACZgL,KAAM,EACN/K,eAAgB,eAGjBf,4BAAkBC,GACnB,uBACEpE,MAAK,2BACAlD,QAAMiR,QADN,IAEH0J,SAAU,SACVC,aAAc,WACdC,WAAY,SACZzX,MAAO,QACPw8C,UAAW,WAGZt4C,EAAWkD,QAGhB,yBACEtH,MAAO,CACLmF,QAAS,OACTiS,OAAQ,YACRlX,MAAO,OACP+E,WAAY,SACZC,eAAgB,cAGhByyB,GACA,oCACGvzB,EAAWO,WACZ,kBAAC,IAAD,CAAS2C,MAAO3J,yBAAe,wBAC7B,6BACE,kBAAC,IAAD,CACEqC,MAAO,CAACE,MAAO,OAAQD,OAAQ,OAAQuK,OAAQ,WAC/C8Q,KAAMze,SAAO+N,SACbZ,QAAS,kBAAM4uC,EAAcx0C,QAMnC,kBAAC,IAAD,CACE6F,UAAW,CAAClG,MAAOlH,SAAO+N,SAAUoE,aAAc,OAClDhM,QAASoB,EAAWO,UAAU03C,EAAqBC,EACnDtyC,QAAS,SAACygB,GAAD,OAAYktB,EAA0BvzC,EAAYqmB,a,oMCpGnEkyB,EAAe9uC,aAAW,iBAAO,CACrCuc,KAAM,CACJrmB,MAAOlH,SAAOwH,UAFGwJ,CAIjB+uC,KAEElC,EAAiB7sC,aAAW,iBAAO,CACvC+sC,MAAO,2BACF99C,QAAMiR,QADN,IAEHtJ,aAAc,EACdV,MAAOlH,SAAOwH,MACd4K,UAAW,WALQpB,CAYnBgtC,KAwDWgC,EAtDS,SAAC/yC,GAAU,IAE/B8X,EACE9X,EADF8X,SAAUnI,EACR3P,EADQ2P,aAAc7b,EACtBkM,EADsBlM,MAAOk/C,EAC7BhzC,EAD6BgzC,SAGjC,OACE,yBACE98C,MAAO,CACLmF,QAAS,OACTiS,OAAQ,gBACRnI,UAAW,OACXvE,WAAY,QAGd,yBAAK1K,MAAO,CAACmF,QAAS,OAAQ+J,cAAe,WAC3C,kBAACytC,EAAD,CACE38C,MAAO,CACLoX,OAAQ,mBAAoBnX,OAAQ,OAAQ8D,MAAOlH,SAAOwH,MAAOnE,MAAO,SAE1E06C,MAAO,kBAACF,EAAD,MACP7+C,MAAO4d,GAENmI,EAASlgB,KAAI,SAACisC,GAIb,OAHKA,EAAQ9rC,eACX8rC,EAAQ9rC,aAAR,UAA0B8rC,EAAQ7rC,WAAlC,YAAgD6rC,EAAQ3rC,YAGxD,kBAAC6oC,EAAA,EAAD,CACE7gC,QAAS,WACP8yC,EAASnP,EAAQzkB,aAEnB/sB,IAAKwxC,EAAQzkB,WACbrtB,MAAO8xC,EAAQzkB,WACflpB,MAAK,2BAAMlD,QAAMkR,OAAZ,IAAmBjK,MAAOlH,SAAOwX,aAErCs5B,EAAQ9rC,kBAKjB,0BAAM7B,MAAK,2BACNlD,QAAMkR,OADA,IAETjK,MAAOlH,SAAOwH,MACdoT,SAAU,SACVC,aAAc,WACdC,WAAY,SACZzX,MAAO,QACP+O,UAAU,UACRrR,O,iCCqBGm/C,EAvFwB,SAACjzC,GAAU,IAE9CmuC,EAQEnuC,EARFmuC,KACAr2B,EAOE9X,EAPF8X,SACAta,EAMEwC,EANFxC,MACA01C,EAKElzC,EALFkzC,kBACAC,EAIEnzC,EAJFmzC,kBACA1iB,EAGEzwB,EAHFywB,QACA2iB,EAEEpzC,EAFFozC,aACAvlB,EACE7tB,EADF6tB,UAEF,OACE,yBACE33B,MAAO,CACLkB,SAAU,WACVhB,MAAO,OACPD,OAAQ,OACRkF,QAAS,OACTb,gBAAiBi2B,EAAU19B,SAAOmI,MAAQnI,SAAO0H,MACjD6S,OAAQ,iBACR3M,OAAQ,MAGV,yBACEzK,MAAO,CACLmF,QAAS,OACT8K,KAAM,EACNzL,QAAS,OACT4S,OAAQ,kBAGV,kBAAC+lC,EAAA,EAAD,CACEn9C,MAAO,CACLwK,OAAQ,UACRzG,MAAOlH,SAAOwH,MACdpE,OAAQ,OACRgP,UAAW,MACXvK,YAAa,OAEfsF,QAASiuC,KAETtgB,GACC,kBAAC,EAAD,CACDmlB,SAAUG,EACVr7B,SAAUA,EACVnI,aAAcujC,EACdp/C,MAAO0J,IAGRqwB,GACE,yBAAK33B,MAAO,CAACmF,QAAS,OAAQ+J,cAAe,WAC9C,0BAAMlP,MAAK,2BAAMlD,QAAM+e,OAAZ,IAAmB9X,MAAOlH,SAAOwH,SAASud,EAAS,GAAG9f,WAAjE,IAA8E8f,EAAS,GAAG5f,WAC1F,0BAAMhC,MAAK,2BACNlD,QAAMiR,QADA,IAEThK,MAAOlH,SAAOwH,MACdoT,SAAU,SACVC,aAAc,WACdC,WAAY,SACZzX,MAAM,WACJoH,KAIJqwB,GACC,yBAAK33B,MAAO,CACbkB,SAAU,WAAY6L,IAAK,OAAQ4C,MAAO,OAAQxK,QAAS,OAAQF,WAAY,WAE/E,yBAAKjF,MAAO,CAACwK,OAAQ,UAAWvF,WAAY,SAAUE,QAAS,QAAS6E,QAASkzC,GAC/E,kBAAC,IAAD,CAAS51C,MAAO3J,yBAAe,wBAC7B,6BACE,kBAAC,IAAD,CAAU2d,KAAMze,SAAOwH,aAQjC,yBAAKrE,MAAO,CACVkB,SAAU,WAAYI,OAAQ,EAAGD,KAAM,EAAGsO,MAAO,IAEjD,kBAACgL,EAAA,EAAD,U,oECjCOyiC,EAnDI,SAACtzC,GAAU,IAE1B1F,EACE0F,EADF1F,WAAY6zC,EACVnuC,EADUmuC,KAGNvgB,EADQ1c,qBAAW9c,iBACnBw5B,IACFh7B,EAASuO,gCANa,EAOMd,qBAPN,mBAOrBurC,EAPqB,KAOVC,EAPU,KAgB5B,OAPArrC,qBAAU,WACR,sBAAC,8BAAA3I,EAAA,sEACwB+1B,EAAI6P,aAAa,QADzC,OACOxoB,EADP,OAEC42B,EAAa52B,aAAD,YAACA,EAAUhmB,YAAX,aAAC,EAAgB28C,WAF9B,0CAAD,KAIC,IAGD,yBAAK11C,MAAO,CAAEC,OAAQ,SACpB,yBAAKD,MAAO,CACVkB,SAAU,WACVhB,MAAO,GAAF,OAAKxD,EAAOwD,MAAQ,IAApB,MACLmB,KAAM,GAAF,OAAqB,IAAf3E,EAAOwD,MAAb,MACJD,OAAQ,OACRkF,QAAS,OACTb,gBAAiBF,EAAWQ,SAAW/H,SAAOmI,MAAQnI,SAAO0H,MAC7DU,WAAY,WAEZ,kBAACk4C,EAAA,EAAD,CACEn9C,MAAO,CACLwK,OAAQ,UACRzG,MAAOlH,SAAOwH,MACdpE,OAAQ,OACRyK,WAAY,QAEdV,QAASiuC,IAEX,yBAAKj4C,MAAO,CACVmF,QAAS,OACTjF,MAAO,OACPgF,eAAgB,gBAChBV,QAAS,SAET,yBAAKxE,MAAO,CAAEmF,QAAS,OAAQ+J,cAAe,WAC5C,0BAAMlP,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBhK,MAAOlH,SAAOwH,SAAUqxC,aAAxD,EAAwDA,EAAWt6C,MACnE,0BAAM4E,MAAK,2BAAOlD,QAAM+e,OAAb,IAAoB9X,MAAOlH,SAAOwH,SAAUD,EAAWkD,Y,sDC3CxEs6B,EAAS,2BACV9kC,QAAMiR,QADC,IAEV8d,WAAY,MACZrnB,QAAS,oBACTvE,OAAQ,OACRwX,SAAU,SACVC,aAAc,WACdC,WAAY,WAGR0lC,EAAgB,CACpBp9C,OAAQ,OACRC,MAAO,OACPwK,WAAY,OACZvF,QAAS,OACTF,WAAY,SACZC,eAAgB,SAChBV,QAAS,kBACT84C,WAAY,aAAF,OAAezgD,SAAOqH,cAG5BlH,EAAS,CACbugD,MAAO,CACL1tC,UAAW,+BACX2pB,SAAU,QACV90B,YAAa,OACbzE,OAAQ,QAEVu9C,qBAAsB,2BACjB5b,GADe,IAElBt9B,gBAAiBzH,SAAO0H,MACxBR,MAAOlH,SAAOwH,MACdo5C,oBAAqB,MACrBC,qBAAsB,QAExBC,iBAAkB,2BACb/b,GADW,IAEdt9B,gBAAiBzH,SAAO8I,MACxB5B,MAAOlH,SAAOwH,MACdo5C,oBAAqB,MACrBC,qBAAsB,QAExBr6B,gBAAiB,CACftf,MAAOlH,SAAOwH,MACdnE,MAAO,QACPuX,SAAU,SACVC,aAAc,WACdC,WAAY,SACZjT,YAAa,QAEf8mB,eAAgB,CAACoyB,UAAW,QAC5BC,sBAAuB,2BAClBR,GADgB,IAEnBC,WAAY,aAAF,OAAezgD,SAAOsY,mBAElC2oC,iBAAkB,CAChB34C,QAAS,OACTF,WAAY,SACZC,eAAgB,eAChBV,QAAS,mBAEXu5C,yBAA0B,CACxB54C,QAAS,OACTD,eAAgB,gBAChBD,WAAY,UAEd+4C,aAAc,CACZxzC,OAAQ,UACRvK,OAAQ,QAEVg+C,sBAAuB,CACrBh+C,OAAQ,OACRC,MAAO,MACP2K,OAAQ,mBAEVqzC,GAAI,CACF1zC,OAAQ,UACRvK,OAAQ,QAEVk+C,wBAAyB,CACvBj+C,MAAO,OACPiF,QAAS,OACTF,WAAY,SACZC,eAAgB,WAuGLkE,kBAnGS,SAACU,GAAU,IAE/Bs0C,EASEt0C,EATFs0C,aACAhI,EAQEtsC,EARFssC,eACAhyC,EAOE0F,EAPF1F,WACAu0C,EAME7uC,EANF6uC,oBACA0F,EAKEv0C,EALFu0C,iBACAC,EAIEx0C,EAJFw0C,UACAtB,EAGElzC,EAHFkzC,kBACAh9C,EAEE8J,EAFF9J,MACA4hB,EACE9X,EADF8X,SAV+B,EAaSzX,mBAAS,IAblB,mBAa1Bo0C,EAb0B,KAaXC,EAbW,KAsBjC,OAPAl0C,qBAAU,WACRk0C,EAAiBp6C,EAAW4d,YAAY1C,QAAO,SAAC8V,EAAKzzB,GAEnD,OADAyzB,EAAIzzB,EAAEunB,YAAcvnB,EACbyzB,IACN,OACF,CAAChxB,IAGF,2BAAOpE,MAAK,2BAAMhD,EAAOugD,OAAUv9C,GAAQ7D,IAAKiI,EAAWJ,IACzD,+BACA,4BACE,wBAAIhE,MAA4B,cAArBoE,EAAWtD,MAAwB9D,EAAOwgD,qBAAuBxgD,EAAO2gD,kBACjF,yBACE3zC,QAAS,WACH2uC,GACFA,EAAoBv0C,IAGxBpE,MAAK,2BAAMhD,EAAO+gD,0BAAb,IAAuCvzC,OAAQmuC,EAAsB,UAAY,aAEtF,0BAAM34C,MAAOhD,EAAOqmB,iBACjBjf,EAAWkD,OAEbqxC,GAAuB,kBAAC,IAAD,CAAoBr9B,KAAMze,SAAOwH,WAI9Dud,EAASlgB,KAAI,SAACogB,EAAWzoB,GACxB,IAAMqV,EAAa6vC,EAAcz8B,GAC3B28B,EAAUplD,IAAMilD,EAAYzhD,SAAO+X,KAAO/X,SAAOwH,MACjD8mB,EAAWrJ,IAAck7B,GAAqBqB,EAAiB93C,MAAK,SAACvC,GAAD,OAAQA,IAAO8d,KACzF,OAAKpT,EAeH,wBAAI1O,MAAK,2BAAMhD,EAAOkhD,IAAb,IAAiB55C,gBAAiB6mB,EAAWtuB,SAAOqH,YAAcu6C,IAAUtiD,IAAK2lB,GACxF,wBACE3S,aAAc,kBAAMivC,EAAa/kD,IACjC+V,aAAc,kBAAMgvC,EAAa,OACjCp0C,QAAS,kBAAMosC,EAAe1nC,EAAWwa,cAEzC,yBAAKlpB,MAAOhD,EAAO8gD,kBACjB,kBAAC,IAAD,CAASx2C,MAAOvB,wBAAc2I,EAAWmpB,aACvC,yBAAK73B,MAAK,2BACLhD,EAAOmhD,yBADF,IAERz5C,YAAaN,EAAWs6C,qBAAuB,MAAQ,SAEtD39C,4BAAkB,CAAChB,OAAQ2O,EAAWmpB,WAAY73B,MAAOhD,EAAOwuB,mBAGpEpnB,EAAWs6C,sBACZ,kBAAC,IAAD,CAASp3C,MAAOzG,iCAAuB6N,EAAWiwC,mBAChD,yBAAK3+C,MAAK,2BAAMq9C,GAAN,IAAqBC,WAAY,aAAF,OAAenyB,EAAStuB,SAAOsY,gBAAgBtY,SAAOqH,gBAC5FpE,2BAAiB,CAACC,OAAQ2O,EAAWiwC,qBAI1C,yBACE3+C,MAAK,2BACAhD,EAAOihD,uBADP,IAEH35C,gBAAiB6mB,EAAWtuB,SAAOsY,gBAAkBtY,SAAOqH,gBAEhE,kBAAC,IAAD,CAAiBwK,WAAYA,OAxCjC,wBACEvS,IAAK2lB,EACL9hB,MAAK,2BAAMhD,EAAOghD,cAAb,IAA2B15C,gBAAiB6mB,EAAWtuB,SAAOqH,YAAcu6C,KACjF,wBACEtvC,aAAc,kBAAMivC,EAAa/kD,IACjC+V,aAAc,kBAAMgvC,EAAa,OACjCp0C,QAAS,kBAAMosC,EAAet0B,e,kBCnIxC1L,EAAgBvI,YAAW,CAC/BC,KAAM,CACJ/J,MAAOlH,SAAOsY,gBACdkB,YAAa,EACb3L,WAAY,MACZ,YAAa,CACX3G,MAAOlH,SAAO0H,OAEhB,qBAAsB,CACpB+R,SAAU,WAIdC,QAAS,IAbW1I,CAcnB2I,KAmKGxZ,EAAS,CACb4hD,UAAW,CACTz5C,QAAS,OACTsS,SAAU,SACVvW,SAAU,WACVhB,MAAO,QAET2+C,WAAY,CACV15C,QAAS,OACTlF,OAAQ,KACRiF,eAAgB,aAChBV,QAAS,OACTyK,UAAW,QAEb2yB,OAAQ,2BACH9kC,QAAMiR,QADL,IAEJ8d,WAAY,MACZrnB,QAAS,oBACTvE,OAAQ,OACRwX,SAAU,SACVC,aAAc,WACdC,WAAY,WAEd4lC,MAAO,CACL74C,YAAa,OACb80B,SAAU,QACVv5B,OAAQ,OACR4P,UAAW,gCAEbivC,GAAI,2BACChiD,QAAMiR,QADT,IAEA8d,WAAY,MACZrnB,QAAS,oBACTvE,OAAQ,OACRwX,SAAU,SACVC,aAAc,WACdC,WAAY,SAAUzX,MAAO,QAASiF,QAAS,OAAQF,WAAY,SAAUC,eAAgB,eAE/F65C,gBAAiB,2BACZjiD,QAAMiR,QADI,IAEb2J,aAAc,WACdC,WAAY,SACZF,SAAU,SACVtS,QAAS,eACTjF,MAAO,QACPsE,QAAS,sBAEXw6C,WAAY,CAAC75C,QAAS,OAAQD,eAAgB,gBAC9CymB,cAAe,CACbxmB,QAAS,OACTF,WAAY,SACZC,eAAgB,UAElBsmB,eAAgB,CAACvrB,OAAQ,QACzBg/C,MAAO,CAACh/C,OAAQ,OAAQC,MAAO,OAAQoE,gBAAiB,eACxD46C,OAAQ,CACNh/C,MAAO,OACPD,OAAQ,OACRiB,SAAU,WACVyO,OAAQ,GACR5C,IAAK,EACLzI,gBAAiB,cACjBuL,UAAW,iCAwQAsvC,EApQS,SAACr1C,GAAU,MAEnBs1C,EAQVt1C,EARF1F,WACA44C,EAOElzC,EAPFkzC,kBACAC,EAMEnzC,EANFmzC,kBACAtE,EAKE7uC,EALF6uC,oBACAhvC,EAIEG,EAJFH,UACA01C,EAGEv1C,EAHFu1C,aACAhB,EAEEv0C,EAFFu0C,iBACAiB,EACEx1C,EADFw1C,oBAEI5iD,EAASuO,gCAXkB,EAYGd,mBAASi1C,GAZZ,mBAY1Bh7C,EAZ0B,KAYdm7C,EAZc,OAaCp1C,qBAbD,mBAa1Bm0C,EAb0B,KAafF,EAbe,OAciBj0C,oBAAS,GAd1B,mBAc1Bq1C,EAd0B,KAcPC,EAdO,OAeiBt1C,mBAAS,IAf1B,mBAe1BquC,EAf0B,KAePkH,EAfO,OAgBiBv1C,mBAAS,IAhB1B,mBAgB1B4tC,EAhB0B,KAgBP4H,EAhBO,OAiBDx1C,mBAAS,IAjBR,mBAiB1ByX,EAjB0B,KAiBhBg+B,EAjBgB,KAkB3BC,EAA4BzyC,mBAC5B2N,GAAUC,qBAAW9c,iBACpBw5B,GAAsC3c,GAAtC2c,IAAKzc,GAAiCF,GAAjCE,eAAgB0O,GAAiB5O,GAAjB4O,cACtBm2B,GAAS1yC,kBAAO,GAEhB2yC,GAAO,uCAAG,gCAAAp+C,EAAA,sEACS+1B,GAAI6O,4BACzBniC,EAAWJ,GA5PF,+iGA0PG,OACR+a,EADQ,OAKR4mB,EAAgB5mB,aALR,YAKQA,EAAUhmB,YALlB,aAKQ,EAAgBqL,WAAW,GACjDm7C,EAAc5Z,GAEdh4B,YAAW,kBAAM8xC,GAAqB,KAAO,KAR/B,2CAAH,qDAYbn1C,qBAAU,WACe,SAAnB2Q,IAAgD,QAAnBA,GAC/B6kC,GAAO5zC,SAAU,EACR4zC,GAAO5zC,UACXvC,IACHo2C,KACAD,GAAO5zC,SAAU,MAGpB,CAAC+O,KAEJ3Q,qBAAU,WAAM,QACdi1C,EAAcH,GACdM,EAAqBN,aAAD,YAACA,EAAmBn5C,mBAApB,uBAAC,EAAgCI,QAAO,SAAA1E,GAAC,OAAIA,EAAEgD,oBAA/C,aAAC,EAA0D1C,MAAK,SAACN,EAAGO,GAAJ,OAAUP,EAAE2F,MAAMnF,cAAcD,EAAEoF,WACtHq4C,EAAqBP,EAAkBp9B,YACpC/f,MAAK,SAACN,EAAGO,GACR,MAAsB,cAAlBynB,GACKhoB,EAAEG,WAAWK,cAAcD,EAAEJ,YAE/BH,EAAEK,UAAUG,cAAcD,EAAEF,eAEvC49C,EAAYR,aAAD,EAACA,EAAmBp9B,YAAYtgB,KAAI,SAACC,GAAD,OAAOA,EAAEunB,iBACvD,CAACk2B,EAAmBz1B,KAEvBrf,qBAAU,WACRy1C,OACC,IAEH,IAAM3J,GAAiB4J,uBAAY,SAACh8C,GAC7B2F,GACHszC,EAAkBj5C,KAEnB,CAAC4d,EAAUjY,IAGd,OACE,yBACE3J,MAAO,CACLkB,SAAU,WACVhB,MAAO,GAAF,OAAKxD,EAAOwD,MAAQ,IAApB,MACLmB,KAAM,GAAF,OAAqB,IAAf3E,EAAOwD,MAAb,MACJD,OAAQ,GAAF,OAAKvD,EAAOuD,OAAS,GAArB,MACNkF,QAAS,OACTb,gBAAiBzH,SAAO+X,OAG1B,yBAAK5U,MAAOhD,EAAO4hD,WACjB,kBAACnoC,EAAA,EAAD,CACEC,QAAS,GACT1S,GAAI,cACJoK,KAAMzQ,yBAAe,cACrBgZ,QAAS,SAACzb,GACRmkD,EAAankD,GAIXokD,EAHGpkD,EAGiB,CAAC8hD,GAFD,KAKxBzmC,QAAS5M,EACT3J,MAAO,CACLkB,SAAU,WACVG,KAAM,OACN0L,IAAK,SAGT,yBAAK/M,MAAOhD,EAAO6hD,YACjB,6BACE,2BAAO7+C,MAAOhD,EAAOugD,OACnB,4BACG5zC,GACC,4BACE,kBAAC8M,EAAA,EAAD,CACEC,QAAS,GACT1S,GAAI,cACJhE,MAAO,CAAC0K,WAAY,OAAQzK,OAAQ,QACpC0W,QAAS,SAACspC,GACJA,GACFJ,EAA0B3zC,QAAUmyC,EACpCiB,EACEl7C,EAAW4d,YAAYtgB,KAAI,SAACC,GAAD,OAAOA,EAAEunB,gBAGtCo2B,EAAoBO,EAA0B3zC,UAGlDqK,QACEnS,EAAW4d,YAAYzoB,SAAW8kD,EAAiB9kD,UAK3D,wBAAIyG,MAAOhD,EAAO8hD,IAChB,kBAAC,IAAD,CAAsB9+C,MAAO,CAAC0E,YAAa,SAC1C/G,yBAAe,YAElB,wBAAIqC,MAAOhD,EAAO4kC,QAASjkC,yBAAe,WAC1C,wBAAIqC,MAAOhD,EAAO4kC,QACfjkC,yBAAe,gCAEjByG,aAAA,YAAAA,EAAYwC,4BAAZ,eAAkCrN,QAAS,GAC1C,wBAAIyG,MAAOhD,EAAO4kC,QACfjkC,yBAAe,oBAIrBo6C,EAAkBr2C,KAAI,SAACgN,EAAYrV,GAAM,MAClColD,EAAUplD,IAAMilD,EAAYzhD,SAAO+X,KAAO/X,SAAOwH,MACnD8mB,EAAWzc,EAAWwa,aAAe8zB,EAMzC,OALIrzC,IACFwhB,EAAWkzB,EAAiB93C,MAC1B,SAACvC,GAAD,OAAQA,IAAO0K,EAAWwa,eAI5B,wBACE/Z,aAAc,kBAAMivC,EAAa/kD,IACjC+V,aAAc,kBAAMgvC,EAAa,OACjCp0C,QAAS,kBAAMosC,GAAe1nC,EAAWwa,aACzC/sB,IAAKuS,EAAW1K,GAChBhE,MAAO,CACLsE,gBAAiB6mB,EAAWtuB,SAAOqH,YAAcu6C,EACjDj0C,OAAQ,UACRvK,OAAQ,SAGT0J,GACC,4BACE,yBACE3J,MAAO,CACLmF,QAAS,OACTF,WAAY,SACZC,eAAgB,SAChBhF,MAAO,OACPkX,OAAQ,cAGV,kBAAChB,EAAD,CACEiB,WAAY,CAAC,aAAc,cAC3Bd,QAAS4U,IAAY,EACrB9b,SAAU,SAAC9R,GACLA,EAAEgS,OAAOgH,QACX+oC,EAAoB,GAAD,mBACdjB,GADc,CAEjB3vC,EAAWwa,cAGbo2B,EACEjB,EAAiBh4C,QACf,SAACrC,GAAD,OAAQA,IAAO0K,EAAWwa,oBAS1C,wBAAIlpB,MAAO,IACT,kBAACqH,EAAA,EAAD,CAASC,MAAOoH,aAAF,EAAEA,EAAYsV,OAC5B,0BAAMhkB,MAAOhD,EAAO+hD,iBACjBrwC,EAAW5M,WADd,IAC2B4M,EAAW1M,aAIxC,4BACE,yBAAKhC,MAAOhD,EAAOgiD,YACjB,kBAAC33C,EAAA,EAAD,CAASC,MAAOvB,wBAAc2I,EAAWmpB,aACvC,yBAAK73B,MAAOhD,EAAO2uB,eAChB5qB,4BAAkB,CAAChB,OAAQ2O,EAAWmpB,WAAY73B,MAAOhD,EAAOwuB,mBAGpEpnB,EAAWs6C,sBACZ,kBAACr3C,EAAA,EAAD,CAASC,MAAOzG,iCAAuB6N,EAAWiwC,mBAChD,yBAAK3+C,MAAOhD,EAAO2uB,eAChB7rB,2BAAiB,CAACC,OAAQ2O,EAAWiwC,uBAO9C,4BACE,kBAAC,IAAD,CAAiBjwC,WAAYA,MAE9BtK,aAAA,YAAAA,EAAYwC,4BAAZ,eAAkCrN,QAAS,GAC1C,4BACE,kBAACkgD,EAAA,EAAD,CACEtuB,SAAUA,EACVnJ,YAAa5d,aAAF,EAAEA,EAAYwC,qBAAqBP,QAC5C,SAAC/K,GAAD,OAAOA,EAAE4tB,aAAexa,EAAWwa,sBASnD,yBAAKlpB,MAAOhD,EAAOiiD,SAEpBO,GACD,oCACGhH,aADH,EACGA,EAAmB92C,KAAI,SAACD,GACvB,OACE,kBAAC,EAAD,CACEmgB,SAAUA,EACVzlB,IAAKsF,EAAIuC,GACTo6C,aAAcA,EACdhI,eAAgBA,GAChBhyC,WAAY3C,EACZk3C,oBAAqBA,EACrB0F,iBAAkBA,EAClBC,UAAWA,EACXtB,kBAAmBA,UAM/B,yBAAKh9C,MAAOhD,EAAOkiD,Y,6DC9bVgB,GA7DkB,SAACp2C,GAAU,IACnCugC,EAAkBvgC,EAAlBugC,eADmC,EAEdlgC,qBAFc,mBAEnCpK,EAFmC,KAE3BogD,EAF2B,KAQ1C,OAJA71C,qBAAU,WACR+/B,EAAetqC,KACf,CAACA,IAGD,yBAAKC,MAAO,CAACmF,QAAS,OAAQ+J,cAAe,WAC3C,yBAAKlP,MAAO,CAACmF,QAAS,OAAQF,WAAY,WACxC,kBAACm7C,GAAA,EAAD,CACE7pC,QAAoB,oBAAXxW,EACTsP,SAAU,SAAC9R,GACLA,EAAEgS,OAAOgH,SACX4pC,EAAU,sBAIhB,kBAAC,KAAD,CAAU7kC,KAAMze,SAAO0H,QACvB,0BAAMvE,MAAK,2BACNlD,QAAMiR,QADA,IAETrD,WAAY,SACV/M,yBAAe,sDAErB,yBAAKqC,MAAO,CAACmF,QAAS,OAAQF,WAAY,WACxC,kBAACm7C,GAAA,EAAD,CACE7pC,QAAoB,cAAXxW,EACTsP,SAAU,SAAC9R,GACLA,EAAEgS,OAAOgH,SACX4pC,EAAU,gBAIhB,kBAAC,KAAD,CAAe7kC,KAAMze,SAAOkY,SAC5B,0BAAM/U,MAAK,2BACNlD,QAAMiR,QADA,IAETrD,WAAY,SACV/M,yBAAe,uDAErB,yBAAKqC,MAAO,CAACmF,QAAS,OAAQF,WAAY,WACxC,kBAACm7C,GAAA,EAAD,CACE7pC,QACa,iBAAXxW,EAEFsP,SAAU,SAAC9R,GACLA,EAAEgS,OAAOgH,SACX4pC,EAAU,mBAIhB,kBAAC,KAAD,CAAa7kC,KAAMze,SAAO8Y,YAC1B,0BAAM3V,MAAK,2BACNlD,QAAMiR,QADA,IAETrD,WAAY,SACV/M,yBAAe,2D,wEC7CrBqF,GAAU,CACd,CACEsE,MAAO3J,yBAAe,mCACtBysB,KAAM,kBAAC,KAAD,MACNvuB,MATc,aAWhB,CACEyL,MAAO3J,yBAAe,wCACtBysB,KAAM,kBAAC,KAAD,MACNvuB,MAbmB,kBAerB,CACEyL,MAAO3J,yBAAe,4CACtBysB,KAAM,kBAAC,KAAD,MACNvuB,MAhBsB,sBAkBxB,CACEyL,MAAO3J,yBAAe,uCACtBysB,KAAM,kBAAC,KAAD,MACNvuB,MAtBkB,kBAwHPwkD,GA7FgB,SAACv2C,GAAU,IAEtCsgC,EACEtgC,EADFsgC,aAAcC,EACZvgC,EADYugC,eAAgB9Q,EAC5BzvB,EAD4ByvB,OAFQ,EAGpCzvB,EADoC9J,aAFA,MAEQ,GAFR,IAGpC8J,EADgD0E,gBAFZ,WAIRrE,mBAAS,MAJD,mBAIjCmgB,EAJiC,KAIvBC,EAJuB,OAKdpgB,mBAASigC,GALK,mBAKjCtpC,EALiC,KAK1BypC,EAL0B,KAMlCxf,EAAOC,QAAQV,GAGrBhgB,qBAAU,WACRigC,EAASH,KACR,CAACA,IAEJ,IAAMK,EAAc,SAACjxB,GACnB+Q,EAAY/Q,EAAMsR,gBAepB,OAAItc,EAEA,yBAAKxO,MAAO,CAAEmF,QAAS,OAAQF,WAAY,WACxCnF,2BAAiB,CAAEC,OAAQe,IAC5B,0BAAMd,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBrD,WAAY,UAAW7J,iCAAuBC,KAMlF,yBAAKd,MAAOA,GACV,kBAAC2qC,GAAA,EAAD,CAAmBjgB,YAfC,SAAClR,GACvB7L,YAAW,WAAQ4c,EAAY,WAe1BgP,EACC,yBAAKvvB,QAASygC,GAAclR,GAE5B,yBACEvvB,QAASygC,EACTzqC,MAAO,CACLmF,QAAS,OACTD,eAAgB,gBAChBkS,OAAQ,gBACRnH,KAAM,EACNhQ,OAAQ,OACRqE,gBAAiBzH,SAAOwH,MACxBI,aAAc,OACd+F,OAAQ,UACRqF,UAAW,qCACX5K,WAAY,SACZoR,YAAa,OACb4U,aAAc,SAGhB,yBAAKjrB,MAAO,CAAEmF,QAAS,OAAQF,WAAY,WACxCnF,2BAAiB,CAAEC,OAAQe,IAC5B,0BAAMd,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBrD,WAAY,UAAW7J,iCAAuBC,KAEhF,kBAAC8pC,GAAA,EAAD,CAAe5qC,MAAO,CAAE+D,MAAOlH,SAAO+N,cAI5C,kBAACsf,GAAA,EAAD,CAAMa,KAAMA,EAAMT,SAAUA,GACzBtnB,GAAQtB,KAAI,SAAC+oB,GAAD,OACX,kBAACogB,EAAA,EAAD,CACE1uC,IAAKsuB,EAAOnjB,MACZ0C,QAAS,kBAxDE,SAACygB,GACpBF,EAAY,MACZggB,EAAS9f,EAAO5uB,OACZwuC,GACFA,EAAe5f,EAAO5uB,OAoDDivC,CAAargB,IAC5BzqB,MAAO,CAAEmF,QAAS,OAAQF,WAAY,SAAUT,QAAS,SAExDimB,EAAOL,KACR,0BACEpqB,MAAK,2BACAlD,QAAMiR,QADN,IAEHrD,WAAY,OACZ0M,OAAQ,mBAGTqT,EAAOnjB,cCzCPg5C,GA1EsB,SAACx2C,GAAU,IACvCugC,EAAkBvgC,EAAlBugC,eADuC,EAElBlgC,qBAFkB,mBAEvCpK,EAFuC,KAE/BogD,EAF+B,KAQ9C,OAJA71C,qBAAU,WACR+/B,EAAetqC,KACd,CAACA,IAGF,yBAAKC,MAAO,CAACmF,QAAS,OAAQ+J,cAAe,WAC3C,yBAAKlP,MAAO,CAACmF,QAAS,OAAQF,WAAY,WACxC,kBAACm7C,GAAA,EAAD,CACE7pC,QAjBQ,cAiBCxW,EACTsP,SAAU,SAAC9R,GACLA,EAAEgS,OAAOgH,SACX4pC,EApBI,gBAwBTrgD,2BAAiB,CAACC,OAxBT,cAyBV,0BAAMC,MAAK,2BACNlD,QAAMiR,QADA,IAETrD,WAAY,SACV/M,yBAAe,qCAErB,yBAAKqC,MAAO,CAACmF,QAAS,OAAQF,WAAY,WACxC,kBAACm7C,GAAA,EAAD,CACE7pC,QA/Ba,mBA+BJxW,EACTsP,SAAU,SAAC9R,GACLA,EAAEgS,OAAOgH,SACX4pC,EAlCS,qBAsCdrgD,2BAAiB,CAACC,OAtCJ,mBAuCf,0BAAMC,MAAK,2BACNlD,QAAMiR,QADA,IAETrD,WAAY,SACV/M,yBAAe,0CAErB,yBAAKqC,MAAO,CAACmF,QAAS,OAAQF,WAAY,WACxC,kBAACm7C,GAAA,EAAD,CACE7pC,QA5CiB,uBA4CRxW,EACTsP,SAAU,SAAC9R,GACLA,EAAEgS,OAAOgH,SACX4pC,EA/Ca,yBAmDlBrgD,2BAAiB,CAACC,OAnDA,uBAoDnB,0BAAMC,MAAK,2BACNlD,QAAMiR,QADA,IAETrD,WAAY,SACV/M,yBAAe,8CAErB,yBAAKqC,MAAO,CAACmF,QAAS,OAAQF,WAAY,WACxC,kBAACm7C,GAAA,EAAD,CACE7pC,QA5DY,kBA4DHxW,EACTsP,SAAU,SAAC9R,GACLA,EAAEgS,OAAOgH,SACX4pC,EA/DQ,oBAmEbrgD,2BAAiB,CAACC,OAnEL,kBAoEd,0BAAMC,MAAK,2BACNlD,QAAMiR,QADA,IAETrD,WAAY,SACV/M,yBAAe,2CCmnBZ4iD,IAhgBkB,SAACz2C,GAAU,UAExC8X,EAOE9X,EAPF8X,SACYw9B,EAMVt1C,EANF1F,WACmBo8C,EAKjB12C,EALFtD,kBACWi6C,EAIT32C,EAJFgY,UACA20B,EAGE3sC,EAHF2sC,YACsBiK,EAEpB52C,EAFF62C,qBACAtK,EACEvsC,EADFusC,SAGIt7B,EAAUC,qBAAW9c,iBAEzB0iD,EAME7lC,EANF6lC,2BACAlpB,EAKE3c,EALF2c,IACAz3B,EAIE8a,EAJF9a,OACAu6B,EAGEzf,EAHFyf,qBACA7C,EAEE5c,EAFF4c,UACAkpB,EACE9lC,EADF8lC,wBAlBwC,EAoBR12C,mBAASs2C,GApBD,mBAoBnC3+B,EApBmC,KAoBxBg/B,EApBwB,OAqBN32C,mBAASi1C,GArBH,mBAqBnCh7C,EArBmC,KAqBvBm7C,EArBuB,KAsBpC/4C,EAAoB4G,iBAAOozC,GAC3Br9C,EAAeiK,iBAAOgyC,EAAkBp7C,IAvBJ,EAwBNmG,mBAAS,IAxBH,mBAwBnCmwB,EAxBmC,KAwBvBymB,GAxBuB,QAyBJ52C,qBAzBI,qBAyBnC62C,GAzBmC,MAyBtBC,GAzBsB,SA0BZ92C,oBAAS,GA1BG,qBA0BnC4rC,GA1BmC,MA0B1BC,GA1B0B,SA2Bc7rC,mBACtDu2C,GAA+B,IA5BS,qBA2BnCC,GA3BmC,MA2BbO,GA3Ba,SA8BJ/2C,oBACpC,wBACEi1C,aADF,YACEA,EAAmBp9B,YAAYzb,MAAK,SAAC5E,GAAD,OAAOA,EAAEunB,aAAepH,YAD9D,aACE,EACIq/B,gBAjCkC,qBA8BnC9mB,GA9BmC,MA8BtB+mB,GA9BsB,SAmCVj3C,mBAASksC,GAnCC,qBAmCnCgL,GAnCmC,MAmCzBC,GAnCyB,SAoCRn3C,oBAAS,GApCD,qBAoCnCR,GApCmC,MAoCxB01C,GApCwB,SAqCMl1C,mBAAS,IArCf,qBAqCnCk0C,GArCmC,MAqCjBiB,GArCiB,MAsCpCiC,GAAqBn0C,iBAAO,IAC5Bo0C,GAAqBp0C,mBACrBq0C,GAAMx2C,gCAENy2C,GAAyB1pB,KAC7B,SAAC5pB,GAAD,OAAU2yC,GAAc3yC,EAAK0b,iBAC7B,KA5CwC,GA8CX/Q,sBAAW,SAACvM,GAAD,OAAOA,EAAI,IAAG,GA9Cd,qBA8C1BwM,IA9C0B,aAgDpC+mC,GAAO,uCAAG,oCAAAp+C,EAAA,6DACdq0C,IAAW,GADG,SAESte,EAAI6O,4BACzBniC,EAAWJ,GAtNF,qlGAmNG,OAER+a,EAFQ,OAOdwgC,EAAcxgC,aAAD,YAACA,EAAUhmB,YAAX,aAAC,EAAgBqL,WAAW,IACnCsK,EAAaqQ,aARL,YAQKA,EAAUhmB,YARf,aAQK,EAAgBqL,WAAW,GAAG4d,YAAYzb,MAC3D,SAAC5E,GAAD,OAAOA,EAAEunB,aAAepH,KAE1Bo/B,GACExyC,IAAcqQ,aAAJ,YAAIA,EAAUhmB,YAAd,aAAI,EAAgBqL,WAAW,GAAG4d,YAAY,KAE1DhJ,KACAg9B,IAAW,GAfG,2CAAH,qDAkBb1rC,qBAAU,WACwB,IAA5B+zC,GAAiB9kD,QACnB8lD,IAAa,KAEd,CAAChB,KAEJ/zC,qBAAU,WACRw2C,EAAaL,KACZ,CAACA,IAEJn2C,qBAAU,WACRy1C,OACC,CAACj+B,IAEJxX,qBAAU,WACJlG,EAAWJ,KAAOb,EAAa+I,UACjC/I,EAAa+I,QAAU9H,EAAWJ,GAClC+7C,QAED,CAAC37C,IAEJ,IAAMu9C,GAAa,uCAAG,WAAO5hD,GAAP,SAAA4B,EAAA,6DACpBg/C,GAAqB9oB,WAAa93B,EAClC4gD,GAAqB/5C,qBACnBxC,aADF,EACEA,EAAYwC,qBAAqBP,QAAO,SAAA61B,GAAE,OAAIA,EAAGhT,aAAepH,KACnD,oBAAX/hB,GACF8gD,EAAwB,CACtB19C,aAAciB,EAAWJ,GACzBge,YAAa,CAACtT,IACdkzC,SAAU,WACR7B,QATc,SAadroB,EAAI1O,2BAA2B,CAACta,KAblB,2CAAH,sDAgBbmzC,GAAsB,uCAAG,WAAO9hD,GAAP,SAAA4B,EAAA,6DAC7Bg/C,GAAqBhC,iBAAmB5+C,EADX,SAEvB23B,EAAI1O,2BAA2B,CAAC23B,KAFT,2CAAH,sDAKtBmB,GAAqB,uCAAG,iCAAAngD,EAAA,sDAAQvG,EAAR,EAAQA,KAAR,KACpBA,EADoB,OAErB,oBAFqB,8BAGlBomB,EAAW,CACfI,SAAU,CACRA,EAASrb,MAAK,SAAC5L,GAAD,OAAOA,EAAEuuB,aAAepH,MACtCpgB,KAAI,SAAC/G,GAAD,mBAAC,eAAWA,GAAZ,IAAeqJ,GAAIrJ,EAAEuuB,gBAC3B1iB,kBAAmBA,EAAkB0F,QAAQ7F,QAC3C,SAACkf,GAAD,QAAwBA,EAAiBgW,WAAWhiC,UAEtDqV,KAAMqiB,8BAA4B8wB,uBAVZ,SAYHnB,EAA2BlgB,KAAKlf,GAZ7B,cAYlBpnB,EAZkB,iBAalBs9B,EAAIsR,qBAAqB5kC,EAAWJ,GAAI5J,GAbtB,yBAclB2lD,KAdkB,wFAAH,sDAsBrBrxC,GAAaqpB,mBACjB,kBAAM3zB,aAAN,EAAMA,EAAY4d,YAAYzb,MAAK,SAAC5E,GAAD,OAAOA,EAAEunB,aAAepH,OAC3D,CAAC1d,IAGG49C,IAAqB59C,aAAA,YAAAA,EAAYwC,4BAAZ,yBAAkCP,QAAO,SAAC/K,GAAD,OAAOA,EAAE4tB,aAAepH,YAAjE,eAA6EvoB,SAAU,EAE5G0oD,GAAQ,uCAAG,0CAAAtgD,EAAA,sEACQ+1B,EAAI6O,4BACzBpjC,EAAa+I,QADQ,uPADR,cACT6S,EADS,SAiBOA,aAjBP,YAiBOA,EAAUhmB,YAjBjB,aAiBO,EAAgBqL,WAAW,GAA1C4d,EAjBQ,EAiBRA,YAEHkgC,EAA2B,GAC3BX,GAAmBr1C,UACrBg2C,EAA2B7D,GAAiB38C,KAAI,SAACygD,GAC/C,IAAM1gD,EAAMugB,EAAYzb,MAAK,SAAC5E,GAAD,OAAOA,EAAEunB,aAAei5B,KACrD,kCACK1gD,GADL,IAEEuC,GAAIvC,EAAIuC,GACR6zB,WAAY0pB,GAAmBr1C,QAAQ2rB,YAAcp2B,EAAIo2B,WACzDD,SAAU2pB,GAAmBr1C,QAAQ0rB,UAAYn2B,EAAIm2B,SACrD/K,gBAAiB/lB,6BAAmBy6C,GAAmBr1C,QAAQ2gB,gBAAiBprB,EAAIorB,iBACpFR,SAAUk1B,GAAmBr1C,QAAQmgB,UAAY5qB,EAAI4qB,SACrDC,mBAAoBxlB,6BAAmBy6C,GAAmBr1C,QAAQogB,mBAAoB7qB,EAAI6qB,oBAC1FlyB,OAAQmnD,GAAmBr1C,QAAQ9R,QAAUqH,EAAIrH,OACjDsyB,iBAAkB5lB,6BAAmBy6C,GAAmBr1C,QAAQwgB,iBAAkBjrB,EAAIirB,kBACtFK,aAAcw0B,GAAmBr1C,QAAQ6gB,cAAgBtrB,EAAIsrB,aAC7D4xB,iBAAkB4C,GAAmBr1C,QAAQyyC,kBAAoBl9C,EAAIk9C,uBAIvEyD,EAA0B,GAC1BZ,GAAmBt1C,UACrBk2C,EAA0B/D,GAAiB38C,KAAI,SAACygD,GAAQ,MAChDngC,EAAc5d,aAAH,YAAGA,EAAYwC,4BAAf,aAAG,EAAkCP,QACpD,SAAC/K,GAAD,OAAOA,EAAE4tB,aAAei5B,KAE1B,OAAO3oD,OAAOymB,KAAKuhC,GAAmBt1C,SAASxK,KAAI,SAACvF,GAClD,IAAMkmD,EAAoBb,GAAmBt1C,QAAQ/P,GAC/CuS,EAAasT,EAAYzb,MAC7B,SAAC5E,GAAD,OAAOA,EAAEkF,eAAiBw7C,EAAkBx7C,gBAExCy7C,EAAgB,2BACjB5zC,GADc,IAEjB4d,mBAAoBxlB,6BAAmBu7C,aAAD,EAACA,EAAmB/1B,mBAAoB5d,aAAxC,EAAwCA,EAAY4d,oBAC1FqO,iBACE0nB,aAAA,EAAAA,EAAmB1nB,mBAAmBjsB,aAAtC,EAAsCA,EAAYisB,iBACpDC,iBACEynB,aAAA,EAAAA,EAAmBznB,mBAAmBlsB,aAAtC,EAAsCA,EAAYksB,iBACpDC,iBACEwnB,aAAA,EAAAA,EAAmBxnB,mBAAmBnsB,aAAtC,EAAsCA,EAAYmsB,iBACpDC,iBACEunB,aAAA,EAAAA,EAAmBvnB,mBAAmBpsB,aAAtC,EAAsCA,EAAYosB,iBACpDC,iBACEsnB,aAAA,EAAAA,EAAmBtnB,mBAAmBrsB,aAAtC,EAAsCA,EAAYqsB,iBACpDC,iBACEqnB,aAAA,EAAAA,EAAmBrnB,mBAAmBtsB,aAAtC,EAAsCA,EAAYssB,iBACpDC,iBACEonB,aAAA,EAAAA,EAAmBpnB,mBAAmBvsB,aAAtC,EAAsCA,EAAYusB,iBACpDC,iBACEmnB,aAAA,EAAAA,EAAmBnnB,mBAAmBxsB,aAAtC,EAAsCA,EAAYwsB,iBACpDC,iBACEknB,aAAA,EAAAA,EAAmBlnB,mBAAmBzsB,aAAtC,EAAsCA,EAAYysB,iBACpDC,iBACEinB,aAAA,EAAAA,EAAmBjnB,mBAAmB1sB,aAAtC,EAAsCA,EAAY0sB,iBACpD/O,UAAUg2B,aAAA,EAAAA,EAAmBh2B,YAAY3d,aAA/B,EAA+BA,EAAY2d,UACrDQ,gBAAiB/lB,6BAAmBu7C,aAAD,EAACA,EAAmBx1B,gBAAiBne,aAArC,EAAqCA,EAAYme,iBACpFE,cACEs1B,aAAA,EAAAA,EAAmBt1B,gBAAgBre,aAAnC,EAAmCA,EAAYqe,cACjDP,iBACE61B,aAAA,EAAAA,EAAmB71B,mBAAmB9d,aAAtC,EAAsCA,EAAY8d,mBAMtD,OAJI61B,aAAJ,EAAIA,EAAmBzqB,YACrB0qB,EAAc1qB,UACZyqB,aAAA,EAAAA,EAAmBzqB,YAAYlpB,aAA/B,EAA+BA,EAAYkpB,WAExC0qB,SAnFE,UAwFT5qB,EAAI1O,2BAA2Bk5B,GAxFtB,yBAyFTtjD,IAAQ8C,IACZ0gD,GACA,SAACpgC,GACC,OAAO0V,EAAI+D,8BAA8BzZ,KAE3C,CAACugC,YAAa,KA9FD,WAiG+B,oBAA1ChB,GAAmBr1C,QAAQ2rB,WAjGhB,iBAkGPjxB,EAAuBxC,aAlGhB,EAkGgBA,EAAYwC,qBAAqBlF,KAAI,SAAAw6B,GAAM,QAChEsmB,EAAK,UAAGJ,SAAH,uBAAG,EAAyB7hC,cAA5B,aAAG,EAAiCha,MAAK,SAAAk8C,GAAG,OAAIA,EAAIz+C,KAAOk4B,EAAGl4B,MACzE,OAAOw+C,GAAgBtmB,KAEnBwmB,EAAa,CACjBv/C,aAAciB,EAAWJ,GACzBge,YAAakgC,EAAyBxgD,KAAI,SAACC,GAEzC,OADAA,EAAEiF,qBAAuBA,aAAzB,EAAyBA,EAAsBP,QAAO,SAAC/K,GAAD,OAAOqG,EAAEunB,aAAe5tB,EAAE4tB,cACzEvnB,KAETigD,SAAU,WAAF,4BAAE,sBAAAjgD,EAAA,6DACR09C,IAAa,GACbC,GAAoB,IAFZ,SAGFS,KAHE,OAIRwB,GAAmBr1C,QAAU,GAC7Bs1C,GAAmBt1C,QAAU,GALrB,2CAAF,kDAAE,GAOVy2C,iBAAiB,GAEnB9B,EAAwB6B,GArHX,+BAuHbrD,IAAa,GACbC,GAAoB,IAxHP,UAyHPS,KAzHO,QA0HbwB,GAAmBr1C,QAAU,GAC7Bs1C,GAAmBt1C,QAAU,GA3HhB,4CAAH,qDA8HRquC,GAAa,WACjB+G,IAAaD,KAGTxJ,GAAqBmI,sBAAW,uCAAC,WAAO4C,GAAP,uBAAAjhD,EAAA,6DACrC09C,IAAa,GADwB,SAEd3nB,EAAI6P,aAAJ,sJAFc,OAE/BxoB,EAF+B,SAaLA,aAbK,YAaLA,EAAUhmB,YAbL,aAaL,EAAgB28C,UAAtBmN,EAbW,EAa9Br8C,kBACPA,EAAkB0F,QAAU22C,EAC5B5B,GAAe78C,GACfm7C,EAAcqD,GACRnhD,EAAMmhD,EAAmB5gC,YAAYzb,MACzC,SAAC5E,GAAD,OAAOA,EAAEunB,aAAepH,KAE1Bo/B,GAAwBz/C,GAAOmhD,EAAmB5gC,YAAY,IAC9D8+B,GACEr/C,aAAA,EAAAA,EAAKynB,aAAc05B,EAAmB5gC,YAAY,GAAGkH,YAtBlB,4CAAD,sDAwBnC,CAACpH,IAEEghC,GAAM,uCAAG,8BAAAnhD,EAAA,0DACTq/C,GADS,iCAKDtpB,EAAIrT,yBAAyB28B,GAAYh9C,IALxC,gBAIT++C,EAJS,EAITA,mBAGFv8C,EAAkB0F,QAAU62C,EAC5BxD,EAAcyB,IACdF,EAAaE,GAAYh/B,YAAY,GAAGkH,YACxC+3B,GAAe,MAVJ,wBAYXxK,IAZW,4CAAH,qDAgBN9I,GAAU/rB,EAASrb,MAAK,SAAC5L,GAAD,OAAOA,EAAEuuB,aAAepH,KAwMtD,OAtME,oCACGu/B,IACC,yBAAKrhD,MAAO,CAACmF,QAAS,SACpB,kBAAC,EAAD,CACEqlB,gBAAiBs3B,GACjB19C,WAAYA,EACZ4+C,WAAYzI,GACZtC,KAAM,WACJzd,GAAqB,GACrBsoB,QAGJ,kBAAC,KAAD,CACEvoB,QAASn2B,aAAF,EAAEA,EAAYQ,SACrB0C,MAAO3J,yBAAe,mBACtB28C,UAAQ,EACRC,WAAYA,MAIjB8G,IACC,kBAAC,EAAD,CACEhC,aAAcA,GACd11C,UAAWA,GACXszC,kBAAmB6D,EACnB18C,WAAYA,EACZ44C,kBAAmBl7B,EACnB62B,oBAAqBd,GACrBwG,iBAAkBA,GAClBiB,oBAAqBA,MAGvB+B,IACA,kBAAC,EAAD,CACE1pB,UAAWA,EACXslB,kBAAmB6D,EACnBmC,WAAS,EACThL,KAAM,WACJzd,GAAqB,GACrBic,KAEFuG,kBAAmBl7B,EACnBF,SAAUA,EACVta,MAAOlD,EAAWkD,MAClBkjB,gBAAiBs3B,GACjBvnB,QAASn2B,EAAWQ,SACpBs4C,aAAc3C,KAGjB8G,IACC,yBACErhD,MAAO,CACLsE,gBAAiBzH,SAAOqH,YACxBiB,QAAS,OACTF,WAAY,SACZT,QAAS,OACTU,eAAgB,kBAGlB,yBAAKlF,MAAO,CAACmF,QAAS,OAAQ+J,cAAe,WAC3C,0BAAMlP,MAAK,eAAMlD,QAAM+e,QAEnBlS,GAAS,UACF00C,GAAiB9kD,OADf,aAC0BoE,yBAC/B,qBAFK,WAIFgwC,cAAA,EAAAA,GAAS7rC,aAAc,GAJrB,aAKL6rC,cAAA,EAAAA,GAAS3rC,YAAa,GALjB,OAQX2H,KAAagkC,cAAd,EAAcA,GAAS3pB,QACtB,0BAAMhkB,MAAK,eAAMlD,QAAMkR,QAAvB,IAAiC2/B,cAAjC,EAAiCA,GAAS3pB,MAA1C,MAGHra,IACC,kBAACu5C,EAAA,EAAD,CACEl5C,QAASi4C,GACTjiD,MAAO,CACLoX,OAAQ,aAAF,OAAeva,SAAOsY,iBAC5B3Q,QAAS,oBACTC,aAAc,MACdH,gBAAiBzH,SAAO+X,OAG1B,0BAAM5U,MAAK,eAAMlD,QAAMiR,SACpBpQ,yBAAe,cAM1B,yBACEqC,MAAO,CACLwE,QAAS,OACTvE,OAAQ,GAAF,OAAKA,GAAUohD,GAAW,IAAM,IAAhC,MACN5pC,SAAU,WAGX9N,IAAa,kBAAC,KAAD,MACd,kBAAC,IAAD,CACE3J,MAAO,CACLsE,iBAAiBF,aAAA,EAAAA,EAAYQ,UAAW/H,SAAOmI,MAAQnI,SAAO0H,MAC9DyK,aAAc,QAEhB1H,MAAO3J,yBAAe,aAEtBgM,IACA,oCACE,kBAAC,IAAD,CACEygC,aAAczgC,GAAY,eAAiB+E,cAApB,EAAoBA,GAAYmpB,WACvD72B,QAASq5B,GACTgQ,eAAgB,SAACtqC,GAAD,OAAY4hD,GAAc5hD,IAC1CyO,SAAUmpB,IAEXvzB,EAAWs6C,sBACZ,kBAAC,GAAD,CACEtU,cAAc17B,cAAA,EAAAA,GAAYiwC,mBAAoB,gBAC9CtU,eAAgB,SAACtqC,GACf8hD,GAAuB9hD,IAEzByO,SAAUmpB,EACV33B,MAAO,CAACiP,UAAW,WAIxBtF,IACC,oCACE,kBAAC,GAAD,CAA0B0gC,eAAgB,SAACtqC,GAAD,OAAYwhD,GAAmBr1C,QAAQ2rB,WAAa93B,KAC7FqE,EAAWs6C,sBACZ,yBAAK1+C,MAAO,CAACmjD,UAAW,aAAF,OAAetmD,SAAO0H,SAC1C,kBAAC,GAAD,CACE8lC,eAAiB,SAAAtqC,GAAM,OAAIwhD,GAAmBr1C,QAAQyyC,iBAAmB5+C,OAKjF,kBAAC,IAAD,CACEC,MAAO,CACLsE,gBAAiBF,EAAWQ,SAAW/H,SAAOmI,MAAQnI,SAAO0H,MAC7D0K,UAAW,QAEb3H,MAAO3J,yBAAe,gCAExB,kBAAC,IAAD,CACEgM,UAAWA,GACX00C,iBAAkBA,GAClB5mB,OAAQ,SAACh2B,GACP8/C,GAAmBr1C,QAAnB,2BACKq1C,GAAmBr1C,SACnBzK,IAGP2C,WAAYA,EACZsK,WAAYiyC,KAEbqB,GAAqB,IACpB,kBAAC,IAAD,CACEzzC,aAAcmzC,GACdpzC,SAAO,EACPD,YAAa1Q,yBAAe,oBAC5BqC,MAAO,CAAC6K,OAAQ,OAAQmE,aAAc,OAAQ9O,MAAO,WAIzD,kBAAC,IAAD,CACEyJ,UAAWA,GACX2wB,WAAYA,EACZH,uBAAwBwmB,cAAF,EAAEA,GAAsB38C,GAC9CwC,kBAAmBA,EAAkB0F,QACrCtF,sBACExC,aAAA,YAAAA,EAAYwC,4BAAZ,eAAkCP,QAChC,SAAC/K,GAAD,OAAOA,EAAE4tB,aAAepH,OACrB,GAEPne,YAAaS,EAAWT,YACxB02B,YAAa+mB,GACb7mB,QAASn2B,EAAWQ,SACpB6yB,OAAQ,SAAC7wB,GACP46C,GAAmBt1C,QAAUtF,MAIlCmvC,IACD,yBAAK/1C,MAAO,CACVmF,QAAS,OACTjE,SAAU,WACV6L,IAAK,GACL1L,MAAOogD,GAAIvhD,MACXyP,MAAO,EACPrO,OAAQ,EACRgD,gBAAiBzH,SAAOkZ,OACxB9Q,WAAY,SACZC,eAAgB,WAEhB,kBAACk+C,EAAA,EAAD,CAAkBl5C,KAAM,S,iICpoBjBm5C,EAlDsB,SAACv5C,GAAU,IACvC1F,EAA4C0F,EAA5C1F,WAAY4zC,EAAgCluC,EAAhCkuC,QAASvgB,EAAuB3tB,EAAvB2tB,OAAQ6rB,EAAex5C,EAAfw5C,YACpC,OACE,yBACEtjD,MAAO,CACLwE,QAAS,oBACTvE,OAAQ,OACRkF,QAAS,OACTb,gBAAiBF,EAAWQ,SAAW/H,SAAOmI,MAAQnI,SAAO0H,MAC7DrD,SAAU,WACV+D,WAAY,WAGd,yBAAKjF,MAAO,CAACiF,WAAY,SAAUE,QAAS,OAAQlF,OAAQ,SAC1D,kBAACsjD,EAAA,EAAD,CACEv5C,QAASguC,EACTh4C,MAAO,CAACwK,OAAQ,UAAWzG,MAAOlH,SAAOwH,SAE3C,0BACErE,MAAK,2BACAlD,QAAM+e,OADN,IAEHgQ,WAAY,MACZ9nB,MAAOlH,SAAOwH,MACdqG,WAAY,MACZ+M,SAAU,SACVC,aAAc,WACdC,WAAY,SACZzX,MAAO,WAGRkE,EAAWkD,QAGhB,0BACE0C,QAASytB,EACTz3B,MAAK,2BACAlD,QAAMiR,QADN,IAEHhK,MAAOu/C,EAAczmD,SAAOwH,MAAQxH,SAAO+N,SAC3C1J,SAAU,WACVyO,MAAO,OACPrO,OAAQ,OACRkJ,OAAQ84C,EAAc,UAAY,aAGnC3lD,yBAAe,WAAW0K,kB,2BC3C7BrL,EAAS,CACbwmD,WAAY,2BACP1mD,QAAMiR,QADD,IAERhK,MAAOlH,SAAO0H,MACdiG,OAAQ,aAwDGi5C,EApDI,SAAC35C,GAAU,IACrBihB,EAAmCjhB,EAAnCihB,KAAM0M,EAA6B3tB,EAA7B2tB,OAAQugB,EAAqBluC,EAArBkuC,QAAS0L,EAAY55C,EAAZ45C,SAC9B,OACE,kBAACC,EAAA,EAAD,CAAQ54B,KAAMA,GACZ,yBACE/qB,MAAO,CACLwE,QAAS,MACTW,QAAS,OACT+J,cAAe,SACfhP,MAAO,UAGT,kBAAC,IAAD,CACEoH,MAAO3J,yBAAe,WAAW0K,cACjCrI,MAAO,CAAC6K,OAAQ,SAElB,0BAAM7K,MAAK,2BAAMlD,QAAMiR,QAAZ,IAAoBvJ,QAAS,UACnC7G,yBAAe,0BAEpB,yBACEqC,MAAO,CACLwE,QAAS,mBACTW,QAAS,OACTD,eAAgB,kBAGhB,0BACE8E,QAASguC,EACTh4C,MAAK,eAAMhD,EAAOwmD,aAEjB7lD,yBAAe,gBAEpB,6BACI,0BACEqM,QAAS05C,EACT1jD,MAAOhD,EAAOwmD,YAEb7lD,yBAAe,cAEpB,0BACEqM,QAASytB,EACTz3B,MAAK,2BAAMhD,EAAOwmD,YAAb,IAAyB94C,WAAY,UAEvC/M,yBAAe,kB,sCCbjBimD,EAtCoB,SAAC,GAAD,IAAEx1C,EAAF,EAAEA,KAAF,IAAQy1C,eAAR,SAAwBx0C,EAAxB,EAAwBA,SAAxB,IAAkCkH,eAAlC,aAAkDutC,gBAAlD,gBACjC,yBACE9jD,MAAO,CACLmF,QAAS,OACTF,WAAY,SACZ/E,MAAO,OACPgF,eAAgB,kBAGjB4+C,GACC,kBAACrtC,EAAA,EAAD,CACEF,QAASA,EACTI,QAAStH,EACTjB,KAAMA,EACNyI,YAAY,EACZC,UAAW,OAGbgtC,GACA,oCACE,0BAAM9jD,MAAK,eAAMlD,QAAMiR,SAAUK,GACjC,kBAAC/G,EAAA,EAAD,CACEC,MAAOu8C,EAAU,GAAKlmD,yBAAe,8BAErC,6BACE,kBAAComD,EAAA,EAAD,CACE10C,SAAUA,EACVkH,QAASA,EACTxS,MAAM,UACNyL,UAAWq0C,U,0BCOVG,EApCW,SAAC,GAA2B,IAA1B5/C,EAA0B,EAA1BA,WAAYiL,EAAc,EAAdA,SAAc,EACElF,oBAAS,GADX,mBAC7C85C,EAD6C,KACxBC,EADwB,KAGpD,OACE,yBAAKlkD,MAAO,CAACiP,UAAW,SACtB,0BAAMjP,MAAK,2BAAMlD,QAAMkR,OAAZ,IAAmBjK,MAAOlH,SAAO0H,SACzC5G,yBAAe,iBAEjByG,aAJH,EAIGA,EAAYoC,kBACVvE,MAAK,SAACN,EAAGO,GAAJ,OAAUP,EAAEvG,KAAK+G,cAAcD,EAAE9G,SACtCsG,KAAI,SAACxG,GACF,OACE,kBAAC,EAAD,CACEkT,KAAMlT,EAAEE,KACR0oD,UAAQ,EACRvtC,QAAS,kBAAMrb,EAAEiwB,UACjB9b,SACE,SAACkH,GAAY,MAC6D,KAApEnS,aAAA,YAAAA,EAAYoC,kBAAkBH,QAAO,SAAAw8C,GAAE,OAAIA,EAAG13B,mBAA9C,eAAyD5xB,SAAiBgd,EAG5Erb,EAAEiwB,SAAW5U,EAFb2tC,GAAuB,GAIzB70C,EAASjL,SAMvB,kBAAC,IAAD,CAAOg3C,QAAS,IAAMpD,QAAS,kBAAMkM,GAAuB,IAAQn5B,KAAMk5B,EACnEpmD,QAASF,yBAAe,yCCftBwmD,EAjBM,WACnB,OACE,yBACEnkD,MAAO,CACLmF,QAAS,OACTF,WAAY,SACZC,eAAgB,SAChBjF,OAAQ,QACRuE,QAAS,kBAGL,0BAAMxE,MAAK,eAAMlD,QAAMiR,SACpBpQ,yBAAe,gC,iBC2FfymD,EAjGI,SAAC,GAAgD,IAA/ChgD,EAA+C,EAA/CA,WAAYigD,EAAmC,EAAnCA,oBAAqBh1C,EAAc,EAAdA,SAE7CmrB,EADSxf,qBAAW9c,iBACpBs8B,qBAEAh0B,EAAqBpC,EAArBoC,kBACP,IAAKA,EACH,OAAO,KAGT,IAAM89C,EAAuB,SAAC/tC,EAASvS,GACrCI,EAAWoC,kBAAkBJ,SAAQ,SAAAy8C,GACnCA,EAAGtnB,WAAWn1B,SAAQ,SAAA9K,GAChBA,EAAE0I,KAAOA,IACX1I,EAAE6vB,SAAW5U,SAInBlH,EAAS,eAAIjL,KAGf,OAAOoC,EAAkBH,QAAO,SAAAnL,GAAC,OAAIA,EAAEiwB,YAAUlpB,MAAK,SAACN,EAAGO,GAAJ,OAAUP,EAAEvG,KAAK+G,cAAcD,EAAE9G,SACpFsG,KAAI,SAAC6iD,GACJ,OAA8B,IAA1BA,EAAIhpB,WAAWhiC,OACV,KAGP,yBAAK4C,IAAKooD,EAAIvgD,GAAIhE,MAAO,CAAC0K,WAAY,OAAQhG,YAAa,SACzD,kBAAC,IAAD,CAAQ1E,MAAO,CAACsE,iBAAiBF,aAAA,EAAAA,EAAYQ,UAAW/H,SAAOmI,MAAQnI,SAAO0H,OACtE+C,MAAOi9C,EAAInpD,OACnB,kBAAC,IAAD,CAAM4E,MAAO,CAACC,OAAQ,OAAQuE,QAAS,IACpC+/C,EAAIhpB,WAAWt5B,MAAK,SAACN,EAAGO,GAAJ,OAAWP,EAAEvG,KAAK+G,cAAcD,EAAE9G,UAAMghC,EAAW,CACtEC,SAAS,EACTC,WAAY,YACT56B,KAAI,SAACpG,GAAM,MACd,OACE,yBAAKa,IAAKb,EAAE0I,GAAIhE,MAAO,CAAC04C,aAAc,aAAF,OAAe77C,SAAOqH,gBACvDmgD,aAAA,EAAAA,EAAqB7nB,aACpB,kBAAC,IAAD,CACEsc,QACE,6BACGuL,aADH,YACGA,EAAqBxgD,cADxB,aACG,EAA6BnC,KAC5B,SAACoC,EAAGzK,GAAJ,OACE,kBAAC,IAAD,CACE8C,IAAK2H,EAAEE,GACP4K,KAAM,SACN5O,MAAO,CAACE,MAAO,SACfkO,KAAM9S,EAAEkpD,mBAAmBnrD,GAC3BgV,YAAW,UAAK1Q,yBAAe,kBAApB,YAAyCmG,EAAE1I,MACtDkT,SAAS,EACTC,aAAc,SAACH,GACb9S,EAAEkpD,mBAAmBnrD,GAAKoK,SAAS2K,EAAM,IACzCiB,EAAS,eAAIjL,KAEfJ,GAAIF,EAAEE,SAMhB60C,QACE,kBAACpiC,EAAA,EAAD,CACEzM,QAAS,WACPwwB,EAAqBl/B,EAAE0I,KAEzBA,GAAI1I,EAAE0I,GACN2S,QAAS2tC,EACT5tC,QAASpb,EAAEihC,YACXnuB,KAAM9S,EAAEF,KACRmb,QAASjb,EAAE6vB,SACXnrB,MAAO,CACLwE,QAAS,mBACTtE,MAAO,eAMfmkD,aAAD,EAACA,EAAqB7nB,aACrB,kBAAC/lB,EAAA,EAAD,CACEzM,QAAS,kBAAMwwB,EAAqBl/B,EAAE0I,KACtCA,GAAI1I,EAAE0I,GACN2S,QAAS2tC,EACT5tC,QAASpb,EAAEihC,YACXnuB,KAAM9S,EAAEF,KACRmb,QAASjb,EAAE6vB,SACXnrB,MAAO,CAACwE,QAAS,oCCzFjCxH,EAAS,CACbwmD,WAAY,2BACP1mD,QAAMiR,QADD,IAERhK,MAAOlH,SAAO0H,MACdiG,OAAQ,aAiDGi6C,EA7CY,SAAC,GAA+B,IAA9BC,EAA8B,EAA9BA,kBAAmBC,EAAW,EAAXA,MAC9C,OACE,kBAAChB,EAAA,EAAD,CAAQ54B,OAAQ25B,GACd,yBACE1kD,MAAO,CACLwE,QAAS,MACTW,QAAS,OACT+J,cAAe,SACfhP,MAAO,UAGT,kBAAC,IAAD,CACEoH,MAAO3J,yBAAe,gCACtBqC,MAAO,CAAC6K,OAAQ,SAElB,0BAAM7K,MAAK,2BAAMlD,QAAMiR,QAAZ,IAAoBvJ,QAAS,UACnCkgD,GAEL,yBACE1kD,MAAO,CACLwE,QAAS,mBACTW,QAAS,OACTD,eAAgB,aAGhB,0BACE8E,QAAS,kBAAM26C,KACf3kD,MAAOhD,EAAOwmD,YAEb7lD,yBAAe,cAEpB,0BACEqM,QAAO,sBAAE,sBAAArI,EAAA,sDACPgjD,GAAM,GADC,2CAGT3kD,MAAK,2BAAMhD,EAAOwmD,YAAb,IAAyB94C,WAAY,UAEvC/M,yBAAe,iBCHxBw5B,EAAax5B,yBAAe,gBAC5By5B,EAAsBz5B,yBAAe,mBACrC05B,EAAyB15B,yBAAe,2BACxC25B,EAA4B35B,yBAAe,8BAC3CinD,EAAiBjnD,yBAAe,kBA0TvBknD,IAxTgB,SAAC/6C,GAAU,QACrBs1C,EAA8Bt1C,EAA1C1F,WAA+B4zC,EAAWluC,EAAXkuC,QAEhCj9B,EAAUC,qBAAW9c,iBACpBw5B,EAAqC3c,EAArC2c,IAAK8C,EAAgCzf,EAAhCyf,qBAAsBv6B,EAAU8a,EAAV9a,OAJM,EAMJkK,mBAASi1C,GANL,mBAMjCh7C,EANiC,KAMrBm7C,EANqB,OAOAp1C,qBAPA,mBAOjC26C,EAPiC,KAOnBC,EAPmB,OAQU56C,qBARV,mBAQjCu6C,EARiC,KAQdM,EARc,OASF76C,oBAAS,GATP,mBASjCm5C,EATiC,KASpB2B,EAToB,OAUI96C,oBAAS,GAVb,mBAUjC+6C,GAViC,KAUjBC,GAViB,QAWVh7C,oBAAS,GAXC,qBAWjC4rC,GAXiC,MAWxBC,GAXwB,SAYc7rC,qBAZd,qBAYjCi7C,GAZiC,MAYZC,GAZY,SAaQl7C,oBAAS,GAbjB,qBAajCm7C,GAbiC,MAafC,GAbe,MAelCC,GAAsBp4C,mBAEtBq4C,GAAiB,SAACC,EAAMC,GAC5B,OAAID,aAAA,EAAAA,EAAMnsD,WAAWosD,aAAjB,EAAiBA,EAAMpsD,SAIJ,IADVmsD,EAAKr/C,QAAO,SAAC1E,GAAD,OAAOgkD,EAAKl8C,QAAQ9H,GAAK,KACtCpI,QAGRqsD,GAAoB,WAAM,YACdj6C,EAAO65C,GAAhBt5C,QACP,GAAKP,GAAQvH,EAAb,CAGA,IAAIyhD,GAAa,EACdl6C,EAAI+yC,uBAAyBt6C,EAAWs6C,uBACzCmH,GAAa,GAEXl6C,EAAIm6C,kBAAoB1hD,EAAW0hD,kBACrCD,GAAa,GAGf,IAAME,EAAoB,UAAGp6C,EAAInF,yBAAP,aAAG,EAAuBH,QAAO,SAAAw8C,GAAE,OAAIA,EAAG13B,YAAUzpB,KAAI,SAAAmhD,GAAE,OAAIA,EAAG7+C,MACrFwC,EAAiB,UAAGpC,EAAWoC,yBAAd,aAAG,EAA8BH,QAAO,SAAAw8C,GAAE,OAAIA,EAAG13B,YAAUzpB,KAAI,SAAAmhD,GAAE,OAAIA,EAAG7+C,MAC3FyhD,GAAeM,EAAsBv/C,KACvCq/C,GAAa,GAGf,IAAMG,EAAwB,UAAGr6C,EAAInF,yBAAP,aAAG,EAAuB9E,KAAI,SAAAmhD,GAAE,OAAIA,aAAJ,EAAIA,EAAItnB,WAAWl1B,QAAO,SAAA/K,GAAC,OAAIA,EAAE6vB,YAAUzpB,KAAI,SAAApG,GAAC,OAAIA,EAAE0I,SAAKuc,OACnH0lC,EAAqB,UAAG7hD,EAAWoC,yBAAd,aAAG,EAA8B9E,KAAI,SAAAmhD,GAAE,OAAIA,aAAJ,EAAIA,EAAItnB,WAAWl1B,QAAO,SAAA/K,GAAC,OAAIA,EAAE6vB,YAAUzpB,KAAI,SAAApG,GAAC,OAAIA,EAAE0I,SAAKuc,OAK7H,GAJIklC,GAAeO,EAA0BC,KAC3CJ,GAAa,IAGVA,EAAY,SACTK,EAAqB,UAAGv6C,EAAInF,yBAAP,aAAG,EAAuB9E,KAAI,SAAAmhD,GAAE,OAAIA,aAAJ,EAAIA,EAAItnB,WAAWl1B,QAAO,SAAA/K,GAAC,OAAIA,EAAE6vB,eAAW5K,OACjG4lC,EAAkB,UAAG/hD,EAAWoC,yBAAd,aAAG,EAA8B9E,KAAI,SAAAmhD,GAAE,OAAIA,aAAJ,EAAIA,EAAItnB,WAAWl1B,QAAO,SAAA/K,GAAC,OAAIA,EAAE6vB,eAAW5K,OACrG6lC,EAAgBF,EAAsBxkD,KAAI,SAAApG,GAAC,OAAIA,EAAEkpD,sBACjD6B,EAAaF,EAAmBzkD,KAAI,SAAApG,GAAC,OAAIA,EAAEkpD,sBAEjD4B,EAAchgD,SAAQ,SAACkgD,EAAIjtD,GACVitD,EAAGjgD,QAAO,SAAC3K,EAAG6qD,GAAJ,OAAW7qD,IAAM2qD,EAAWhtD,GAAGktD,MAC7ChtD,SACTssD,GAAa,MAMnBZ,EAAeY,KAGjBv7C,qBAAU,WACRs7C,OACC,CAACxhD,IAEJ,IAAMoiD,GAAiB,SAACC,GACtB,OAAOA,EACJ/kD,KAAI,SAACxG,GAAD,OAAOA,EAAEyI,eACb4c,OACAjB,QAAO,SAAC8V,EAAKtxB,GAIZ,OAHKsxB,aAAD,EAACA,EAAK7uB,MAAK,SAAC5E,GAAD,OAAOA,EAAEqC,KAAOF,EAAEE,QAC/BoxB,EAAIv7B,KAAKiK,GAEJsxB,IACN,IACFnzB,MAAK,SAACN,EAAGO,GACR,OAAIP,EAAE+kD,SACI,EAENxkD,EAAEwkD,QACG,EAEF/kD,EAAEvG,KAAK+G,cAAcD,EAAE9G,UAI9BsrB,GAAoB,uCAAG,8DAAA/kB,EAAA,6DAC3Bq0C,IAAW,GADgB,SAEJte,EAAI6P,aApIP,0bAkIO,cAErBxoB,EAFqB,SAGTA,aAHS,YAGTA,EAAUhmB,YAHD,aAGT,EAAgB28C,UAA3B+Q,EAHoB,EAGpBA,QACD9iD,EAAc6iD,GAAeC,GACnC1B,EAAgBphD,GALW,SAMM+zB,EAAI6O,4BAA4BniC,EAAWJ,GAA3C,qlBANN,UAMrB2iD,EANqB,SA+BIA,aA/BJ,YA+BIA,EAAoB5tD,YA/BxB,aA+BI,EAA0BqL,WAAW,GAA7DwC,EA/BoB,EA+BpBA,qBAEDu/C,EAjCqB,YAiCI,IAAIS,IAAIhgD,EAAqBlF,KAAI,SAAApG,GAAC,OAAIA,EAAEuL,kBAjC5C,EAkCQkY,aAlCR,YAkCQA,EAAUhmB,YAlClB,aAkCQ,EAAgB28C,WAArClvC,EAlCa,EAkCtBigD,SACa/kD,KAAI,SAAAmhD,GACpBA,EAAGtnB,WAAasnB,EAAGtnB,WAAW75B,KAAI,SAAApG,GAChC,IACIkpD,EADE1b,EAAsBliC,EAAqBL,MAAK,SAAA21B,GAAE,OAAIA,EAAGr1B,eAAiBvL,EAAE0I,MAOlF,OAJEwgD,EADE1b,EACmBtvC,OAAOymB,KAAK6oB,GAAqBziC,QAAO,SAAAwgD,GAAC,OAAIA,EAAEC,WAAW,UAAQplD,KAAI,SAAAmlD,GAAC,OAAI/d,EAAoB+d,MAE/F,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAEnD,2BAAWvrD,GAAX,IAAc6vB,WAAYg7B,EAAmB5/C,MAAK,SAAAvC,GAAE,OAAIA,IAAO1I,EAAE0I,MAAKwgD,+BAIpEuC,EAAiE,KAAzC3iD,aAAA,EAAAA,EAAYoC,kBAAkBjN,SAhDjC,kCAkDnBm+B,EAAIyQ,kCAAkC/jC,EAAWJ,GAAIwC,EAAkB9E,KAAI,SAAAmhD,GAAE,OAAIA,EAAG7+C,OAlDjE,QAoDrBgjD,EAAuBxgD,EAAkB9E,KAAI,SAAAmhD,GACjD,kCAAWA,GAAX,IAAe13B,YAAY/mB,aAAD,EAACA,EAAYoC,kBAAkBD,MAAK,SAAA0gD,GAAG,OAAIA,EAAIjjD,KAAO6+C,EAAG7+C,QAAO+iD,OAEtFphB,EAvDqB,2BAwDtBvhC,GAxDsB,IAyDzBoC,kBAAmBwgD,EACnBlB,gBAAiB1hD,aAAF,YAAEA,EAAYT,mBAAd,aAAE,EAAyBK,KAE5Cu7C,EAAc5Z,GAEd6f,GAAoBt5C,QAAU4pB,KAAKC,MAAMD,KAAKK,UAAUwP,IAClDuhB,EAAwBvhB,aA/DH,EA+DGA,EAAen/B,kBAAkB9E,KAAI,SAAAmhD,GAAE,OAAIA,EAAGtnB,WAAWl1B,QAAO,SAAA/K,GAAC,OAAIA,EAAE6vB,eAAW5K,OAAOhnB,OACvHgsD,GAAoB2B,EAAwB,GAC5ClR,IAAW,GAjEgB,4CAAH,qDAoEpBmR,GAAU,uCAAG,qCAAAxlD,EAAA,6DAAQylD,aAAR,aAAuBzC,aAAvB,UACba,GAAoBt5C,QAAQ45C,iBAAmBN,GAAoBt5C,QAAQ45C,kBAAoB1hD,EAAW0hD,iBAAoBsB,EADjH,uBAEfpC,EAAqBrnD,yBAAe,qCAFrB,iCAKX49B,EAAan3B,EAAWoC,kBAAkB9E,KAAI,SAAAmhD,GAAE,OAAIA,EAAGtnB,WAAWl1B,QAAO,SAAA/K,GAAC,OAAIA,EAAE6vB,eAAW5K,OALhF,SAMXmX,EAAIyQ,kCAAkC/jC,EAAWJ,GAAII,EAAWoC,kBAAkBH,QAAO,SAAAw8C,GAAE,OAAIA,EAAG13B,YAAUzpB,KAAI,SAAAmhD,GAAE,OAAIA,EAAG7+C,OAN9G,uBAOX0zB,EAAI4Q,oCAAoClkC,EAAWJ,GAAIu3B,EAAW75B,KAAI,SAAApG,GAAC,YAAK,CAChF0I,GAAI1I,EAAE0I,GACNwgD,mBAAkB,UAAEjpB,EAAWh1B,MAAK,SAAA8gD,GAAE,OAAIA,EAAGrjD,KAAO1I,EAAE0I,aAApC,aAAE,EAAuCwgD,wBAT5C,wBAWX9sB,EAAI6Q,iBAAiBnkC,GAXV,QAYjBohD,GAAoBt5C,QAAU4pB,KAAKC,MAAMD,KAAKK,UAAU/xB,IACxDwhD,MACIxhD,aAAJ,EAAIA,EAAY0hD,kBACdxiD,mCAAyBc,aAAD,EAACA,EAAY0hD,iBAEnCnB,GACF3M,IAlBe,4CAAH,sDA8BhB,OARA1tC,qBAAU,WACRoc,KACA,sBAAC,4BAAA/kB,EAAA,sEAC6B6B,mCAD7B,OACO8jD,EADP,OAECjC,GAAuBiC,GAFxB,0CAAD,KAIC,IAGD,oCACE,kBAAC,EAAD,CACEljD,WAAYA,EACZ4zC,QAAS,WACHsL,EACF6B,IAAkB,IAElBnN,IACAxd,GAAqB,KAGzB/C,OAAQ0vB,GACR7D,YAAaA,IAEf,kBAAC3oC,EAAA,EAAD,MACCo7B,IAAW,kBAAC,IAAD,OACVA,IAAqD,KAA1C3xC,aAAA,YAAAA,EAAYoC,yBAAZ,eAA+BjN,SAAgB,kBAAC,EAAD,OAC1Dw8C,KAAW3xC,aAAA,YAAAA,EAAYoC,yBAAZ,eAA+BjN,QAAS,GACrD,yBAAKyG,MAAO,CAACC,OAAQ,GAAF,OAAKA,EAAS,GAAd,MAAsBwX,SAAU,WACjD,kBAAC,IAAD,CACEzX,MAAO,CACLsE,iBAAiBF,aAAA,EAAAA,EAAYQ,UAAW/H,SAAOmI,MAAQnI,SAAO0H,MAC9D0K,UAAW,OACXvE,WAAY,OACZhG,YAAa,QAEf4C,MAAK,UAAK3J,yBAAe,iCAApB,YAAwDyG,aAAxD,EAAwDA,EAAYkD,MAApE,OAEP,kBAAC,IAAD,CAAMtH,MAAO,CAACwE,QAAS,OAAQqG,OAAQ,sBACrC,kBAAC,EAAD,CACEuD,KAAMzQ,yBAAe,wBAAyBkmD,SAAS,EACvDttC,QAASnS,EAAWs6C,qBACpBrvC,SAAU,WACRkwC,EAAc,2BAAIn7C,GAAL,IAAiBs6C,sBAAuBt6C,EAAWs6C,2BAGpE,kBAAC,EAAD,CAA4BtwC,KAAMgpB,EAAqBysB,SAAS,IAChE,kBAAC,EAAD,CAA4Bz1C,KAAMkpB,EAA2BusB,SAAS,IACtE,kBAAC,EAAD,CAA4Bz1C,KAAM+oB,EAAY0sB,SAAS,IACvD,kBAAC,EAAD,CACEz1C,KAAMzQ,yBAAe,qBACrB4Y,UAAWnS,EAAW0hD,gBACtBz2C,SAAU,WACR,GAAKjL,EAAW0hD,gBAOdvG,EAAc,2BAAIn7C,GAAL,IAAiB0hD,gBAAiB,QAC/CP,IAAoB,OARW,CAC/B,IAAMgC,EAAiBzC,EAAav+C,MAAK,SAACihD,GAAD,OAAQA,EAAGxjD,KAAOohD,MAC3D7F,EAAc,2BACTn7C,GADQ,IAEX0hD,gBAAiByB,EAAiBnC,GAAsBN,EAAa,GAAG9gD,UAQhF,kBAAC,EAAD,CAA4BoK,KAAMipB,EAAwBwsB,SAAS,EAAOttC,SAAS,IACnF,kBAAC,EAAD,CACEnI,KAAMw2C,EACNruC,QAAS+uC,MAAsBlhD,EAAW0hD,gBAC1Cz2C,SAAU,SAAC9R,GAET,GADAgoD,GAAoBhoD,EAAEgS,OAAOgH,SACxBnS,EAAW0hD,iBAMT,IAAKvoD,EAAEgS,OAAOgH,QAAS,OAC5BnS,SAAA,UAAAA,EAAYoC,yBAAZ,SAA+BJ,SAAQ,SAAAy8C,GACrCA,EAAGtnB,WAAasnB,EAAGtnB,WAAW75B,KAAI,SAAApG,GAAC,kCAASA,GAAT,IAAY6vB,UAAU,UAE3Do0B,EAAc,eAAIn7C,SAVa,CAC/B,IAAMmjD,IAAmBzC,EAAav+C,MAAK,SAACihD,GAAD,OAAQA,EAAGxjD,KAAOohD,MAC7D7F,EAAc,2BACTn7C,GADQ,IAEX0hD,gBAAiByB,EAAiBnC,GAAsBN,EAAa,GAAG9gD,WAU9EI,EAAW0hD,iBAAmBR,KAC9B,kBAAC,IAAD,CACEtiD,QAAS8hD,EAAapjD,KAAI,SAACoC,GAAD,MAAQ,CAACE,GAAIF,EAAEE,GAAI5I,KAAM0I,EAAE1I,UAAW,GAChEmd,SAAU5a,yBAAe,eACzB9B,MAAOuI,EAAW0hD,gBAClB/K,aAAc,SAACx9C,GAAD,OAAOgiD,EAAc,2BAAIn7C,GAAL,IAAiB0hD,gBAAiBvoD,EAAEgS,OAAO1T,UAC7EmE,MAAO,CAACiP,UAAW,WAGtB7K,aAAA,EAAAA,EAAYoC,kBAAkBjN,QAAS,GACxC,kBAAC,EAAD,CAAmB6K,WAAYA,EAAYiL,SAAU,SAAC1N,GAAD,OAAO49C,EAAc,eAAI59C,QAE/E2jD,IAAoBlhD,EAAW0hD,iBAChC,kBAAC,EAAD,CACE1hD,WAAYA,EACZigD,oBAAqBS,EAAav+C,MAAK,SAAAkhD,GAAE,OAAIA,EAAGzjD,MAAOI,aAAV,EAAUA,EAAY0hD,oBACnEz2C,SAAUkwC,KAKd,kBAAC,EAAD,CACEmF,kBAAmBA,EACnBC,MAAO,WAAkB,IAAjB+C,EAAiB,wDACvB1C,GAAqB,GACjB0C,GACFP,GAAW,CAACC,OAAO,OAKzB,kBAAC,EAAD,CACEr8B,KAAMm6B,GACNztB,OAAQ,WACN0vB,GAAW,CAACxC,OAAO,KAErBjB,SAAU,WACRyB,IAAkB,IAEpBnN,QAASA,O,wECxWjB,SAAS98B,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClDjgB,EAAG,qSACHmgB,KAAM,OACNqsC,OAAQ,UACRC,gBAAiB,QAGnB,SAASC,EAAkB/9C,GACzB,OAAoB,gBAAoB,MAAOoR,EAAS,CACtD,cAAe,OACfg/B,QAAS,YACT1+B,MAAO,8BACN1R,GAAQsR,GAGE,Q,gBCXT0sC,EAAiB,SAAChnD,GACtB,OAAQA,GACN,KAAKmG,IAAeC,UAClB,OAAOvJ,yBAAe,8BACxB,KAAKsJ,IAAeE,aAClB,OAAOxJ,yBAAe,gCACxB,KAAKsJ,IAAeG,WAClB,OAAOzJ,yBAAe,oCAeboqD,IAXQ,SAACj+C,GAAU,IAChBhJ,EAAsBgJ,EAA/Ba,QAAgB3K,EAAe8J,EAAf9J,MAAOkK,EAAQJ,EAARI,KAE9B,OACE,kBAAC,IAAD,CAAS5C,MAAOwgD,EAAehnD,IAC5BA,IAAUmG,IAAeG,YAC1B,kBAAC,IAAD,CAAe8C,KAAMA,EAAMhD,UAAWpG,IAAUmG,IAAeC,UAAWmC,QAAQ,EAAMrJ,MAAOA,IAC9Fc,IAAUmG,IAAeG,YAAc,kBAAC,EAAD,CAAgBpH,MAAK,aAAGE,MAAOgK,EAAOA,EAAO,KAAO,QAAWlK,S,iGC1B7G,iBAGE,aAEE0R,KAAKs2C,SAAWt2C,KAAKs2C,SAAS5rD,KAAKsV,MACnCA,KAAKu2C,YAAcv2C,KAAKu2C,YAAY7rD,KAAKsV,MA6B7C,OA1BS,EAAAxV,OAAP,WACE,OAAO,IAAI+f,GAGb,YAAA+rC,SAAA,SAAS17C,EAAS47C,EAAWC,GAM3B,OALID,IAAcjsC,EAAqBisC,WACrCv6C,YAAW,WACTrB,EAAQ87C,OAAOC,UAAU,EAAGF,KAC3B,GAEEz2C,KAAK42C,kBAAkBlsD,KAAK,CAAEkQ,QAAO,KAG9C,YAAA27C,YAAA,SAAY37C,EAAS47C,EAAWC,GAK9B,OAJID,IAAcjsC,EAAqBisC,WACrC57C,EAAQ87C,OAAOG,QAAQ,EAAGJ,GAGrBz2C,KAAK42C,kBAAkBlsD,KAAK,CAAEkQ,QAAO,KAG9C,YAAAg8C,kBAAA,WACM52C,KAAKpF,SAAWoF,KAAKpF,QAAQ87C,MAC/B12C,KAAKpF,QAAQ87C,QA/BV,EAAAF,UAAY,kBAkCrB,EAnCA,GAAa,EAAAjsC,wB,8ECAb,+BAeA,OAXgB,EAAAkhB,MAAd,SAAoB36B,GAClB,YADkB,IAAAA,MAAA,GAAoB06B,EAAUsrB,YAActrB,EAAUsrB,aACjEhmD,EAAO2F,QAAQuJ,KAAK+2C,QAASvrB,EAAUwrB,qBAGjC,EAAAA,mBAAf,WACE,OAAOxrB,EAAUyrB,kBAAkBC,SAAS,IAAIhsD,MAAM,IAGzC,EAAA+rD,gBAAf,SAA+Bv0C,GAC7B,YAD6B,IAAAA,MAAeq1B,KAAKC,MAA4B,OAArB,EAAID,KAAKoQ,YAC1DzlC,EAAO1X,OAAOmsD,OAAOC,gBAAgB,IAAIC,WAAW,IAAI,GAAK,IAAM30C,EAAO,GAZrE,EAAAo0C,YAAsB,IACrB,EAAAC,QAAkB,IAAIO,OAAO,GAAG9rB,EAAUsrB,YAAe,KAa1E,EAfA,GAAa,EAAAtrB,a,8ECEb,SAAY+rB,GACV,+BACA,yCACA,+BAHF,CAAY,EAAAA,aAAA,EAAAA,WAAU,M,6BCGtB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,G,aAIpB,WAAsBl1C,EAAqBV,GAArB,KAAAU,OAAqB,KAAAV,YAGzC3B,KAAKkQ,SAAW,GAqBpB,O,+BAlBS,YAAAsnC,mBAAP,SAA0BC,GACxBz3C,KAAKkQ,SAAWunC,GAGX,YAAAnmC,gBAAP,sBACE,OAAOtR,KAAKkQ,SAASroB,OACnBqF,QAAQC,QAAO,WAAK6S,KAAKkQ,WACzBlQ,KAAK2B,UAAU2P,gBAAgBtR,KAAKqC,KAAKrU,kBACtCue,MAAK,SAAC2D,GAGL,OAFA,EAAKA,SAAWA,EAET,EAAP,SAAWA,OAIZ,YAAAwnC,eAAP,WACE,OAAO13C,KAAKkQ,SAASlgB,KAAI,SAAAisC,GAAW,OAAAA,EAAQ3pC,OAEhD,E,GA3Ba,EAAA6Y,Y,cCPb,SAASwsC,EAAyBpqB,GAGjC,OAAOrgC,QAAQC,UAAUof,MAAK,WAC7B,IAAI1gB,EAAI,IAAI4hC,MAAM,uBAAyBF,EAAM,KAEjD,MADA1hC,EAAE2oB,KAAO,mBACH3oB,KAGR8rD,EAAyBppC,KAAO,WAAa,MAAO,IACpDopC,EAAyBxqD,QAAUwqD,EACnCtuD,EAAOD,QAAUuuD,EACjBA,EAAyBrlD,GAAK,K,6BCX9B,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAFA,EAEc,EAAQ,GAFtB,uB,aAkBE,WAAsBw8B,GAAA,KAAAA,YAXN,KAAA8oB,gBAA8C,CAC5D3oB,kBAAkB,E,sBAEhB,WAAmBH,GAAA,KAAAA,YAGrB,O,wBAAA,E,GACAI,aAAc,QACdE,OAAQ,UAAQx0B,QAAQI,SAASC,OAUrC,O,wBAHY,YAAA48C,aAAV,SAAuBvmD,GACrB,YADqB,IAAAA,MAAsC0O,KAAK43C,iBACzD9vD,OAAO0P,OAAO,GAAIwI,KAAK43C,gBAAiBtmD,IAEnD,E,GAnBsB,EAAAwmD,iB,6BCLtB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,2BACA,QACA,SAGA,SACA,2B,cAaE,WAAsBhpB,GARhB,IAAI,EAQV,EAGE,YAAMA,IAAU,KAHZ,OAAgB,EAAAA,YAIpB,EAAKipB,kBAAe,MACjB,EAAAx4B,4BAA4B8wB,uBAAwB,8DACrD,EAAC,EAAA9wB,4BAA4By4B,gBAAiB,4DAC9C,EAAC,EAAAz4B,4BAA4BogB,qBAAsB,4DAR7C,GACG,EAqCX,IAAI,EAAI,EAoCZ,O,wBA5EoD,iBAc3C,YAAA3Q,KAAP,SAAYlf,GACV,IAAMxe,EAAsC0O,KAAK63C,aAAa,CAC5D9oB,OAAQ,CACNjf,SAAQ,EACRmoC,eAAgBj4C,KAAK+3C,gBAAgBjoC,EAAS5S,O,sBAM9C,WAAoB4xB,GAAA,KAAAA,YAElB9uB,KAAKk4C,yBAA0B,EAyBnC,O,wBAtBS,YAAAv6C,SAAP,SAAgBsZ,GACd,IAAMkhC,EACJn4C,KAAKo4C,mBAAmB,UAAInhC,EAAmB,8BAA+B,QAC9EjX,KAAKo4C,mBAAmB,UAAInhC,EAAmB,4BAA6B,OAE9EjX,KAAKk4C,0BAA2BjhC,GAAsBkhC,GACnDlhC,EAAkBohC,aAAaxwD,QAC/BovB,EAAkBqhC,uBAAuBzwD,QACL,kBAA9BovB,EAAkBhe,SAE3B+G,KAAKiX,kBAAoBA,GAGnB,YAAAmhC,mBAAR,SAA2BnuB,GACzB,IAAK,IAAMsuB,KAAQtuB,EACjB,GAAI,UAAIA,EAAK,GAAGsuB,GAAQ,GACtB,OAAO,EAIX,OAAO,GAEX,E,GACApV,SAAU,2hCAsBZ,OAAOnjC,KAAK8uB,UAAUE,KAAK19B,IA1ElBknD,EAA8B,cAJ1C,EAAAp/C,QAAQ,CACP/P,OAAQ,UACRK,KAAM,mCAgDA,EAAQ,WAAW,oBAAqB,CA3Ca,mBA2CJ,EA3CpB,oBAAF+uD,SAAW,KAAT,EAAFA,GAAGC,WAAQ,EAACC,gBAAc,YAHhDH,G,CAAuC,EAAAV,eAAvC,EAAAU,kC,kFCjBb,E,KAAA,uBAGa,EAAAI,gBAAiH,SAACtnD,GAC7H,OAAO,SAACvJ,EAAyC8C,G,MACzCmM,EAAoC,UAAQF,MAAM,GAAI,CAC1DG,MAAO,GACPG,UAAU,GACT9F,GACGgF,IAAO,MAAsCzL,GAAW,MAAKmM,EAASI,SAAW,IAAM,IAAKJ,EAASC,MAAO,GAC9GV,EAAiDxO,EAAUwO,WAAa,GAE5EA,EAAY,UAAQO,MAAM,GAAIP,EAAWD,GACzCxO,OAAO0P,OAAOzP,EAAW,CAAEwO,UAAS,O,6BCZxC,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAFA,EAEc,EAAQ,GAFtB,uB,aAeE,WAAsBu4B,GAAA,KAAAA,YAGpB9uB,KAAK8uB,UAAYA,EAWrB,O,wBARE,YAAAE,KAAA,SAAKxvB,GACH,OAAOQ,KAAK8uB,UAAUE,KAAKhvB,KAAK64C,kBAAkBr5C,KAGpD,YAAAq5C,kBAAA,SAAkBr5C,QAAA,IAAAA,MAAA,IAChB,IAAMs5C,EAAU,UAAQC,KAAKv5C,GAC7B,OAAO,UAAQw5C,OAAO,GAAIC,EAAqBC,eAAgBJ,IAxB1D,EAAAI,eAAkD,CACvDjqB,kBAAkB,EAClBz4B,WAAA,sBAAWs4B,GAGT9uB,KAAK8uB,UAAYA,IAEnBI,aAAc,SACdE,OAAQ,UAAQx0B,QAAQI,SAASC,OAE5B,EAAAk+C,cAAgB,4CAgBzB,E,GA3Ba,EAAAF,wB,8ECAb,8BACE,KAAAG,mBAA+B,aAC/B,KAAAC,kBAA8B,aAC9B,KAAAC,kBAA8B,aAC9B,KAAAC,iBAA6B,aAC7B,KAAAC,mBAA+B,aAC/B,KAAAC,mBAA+B,aAC/B,KAAAC,kBAA8B,aAC9B,KAAAC,oBAAgC,aA8ClC,OA5CE,YAAAC,cAAA,WACE55C,KAAKo5C,qBACLp5C,KAAKq5C,oBACLr5C,KAAKs5C,oBACLt5C,KAAKu5C,mBACLv5C,KAAKw5C,qBACLx5C,KAAKy5C,qBACLz5C,KAAK05C,oBACL15C,KAAK25C,uBAKP,YAAAE,SAAA,SAASC,GACP,OAAO,GAGT,YAAAC,QAAA,SAAQD,GACN,OAAO,GAGT,YAAAE,OAAA,SAAOF,GACL,OAAO,GAGT,YAAAG,SAAA,SAASH,GACP,OAAO,GAGT,YAAAI,QAAA,SAAQJ,GACN,OAAO,GAGT,YAAAK,SAAA,SAASL,GACP,OAAO,GAGT,YAAAM,UAAA,SAAUN,GACR,OAAO,GAGT,YAAAO,OAAA,SAAOP,GACL,OAAO,GAEX,EAtDA,GAAsB,EAAAQ,qB,kFCDtB,E,KAAA,uBAEa,EAAAC,2BAAsE,SAACC,GAAwC,gBAACzkD,GAC3H,IAAM0kD,EAA8B,IAAI1kD,EACxC0kD,EAASrB,mBAAqBoB,EAC3BX,SAASY,EAASC,eAAe,SAACZ,GAAyB,OAAAW,EAASZ,SAASC,QAGlF,0BACEj8C,EACA88C,EACAC,GAEA,IAAM1pD,EAAS0pD,EAAmBzwD,MAC5B0wD,EAAuB,aAAaF,EAAalkD,QAAQ,MAAO,MAUtE,OARAmkD,EAAmBzwD,MAAQ,W,IAAU,sDACnC,IAAM2vD,EAAkB5oD,EAAO1I,MAAMwX,KAAMif,GAI3C,OAFA,UAAIjf,KAAM66C,GAAsB,eAAU5yD,KAAK+X,MAExC85C,GAGFc,I,yFCzBT,2BACA,2BACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAGa,EAAAE,gBAA2B,UAAQzxD,OAAO,gBAAiB,CAAC,YACtEwN,UAAU,YAAa,EAAAkkD,oBACvBlkD,UAAU,qBAAsB,EAAAmkD,6BAChCnkD,UAAU,4BAA6B,EAAAokD,oCACvCpkD,UAAU,iBAAkB,EAAAqkD,yBAC5BrkD,UAAU,wBAAyB,EAAAskD,gCACnCtkD,UAAU,yBAA0B,EAAAukD,iCACpCvkD,UAAU,sBAAuB,EAAAwkD,8BACjCxkD,UAAU,oBAAqB,EAAAykD,4BAC/BzkD,UAAU,oBAAqB,EAAA0kD,4BAC/B1kD,UAAU,kBAAmB,EAAA2kD,0BAC7BliD,QAAQ,iBAAkB,EAAAmiD,gBAC1BniD,QAAQ,kBAAmB,EAAAmJ,iBAC3BnJ,QAAQ,oBAAqB,EAAAoiD,mBAC7Bl8C,OAAO,EAAAm8C,kBAEV,UAAe,EAAAb,gBAAgBpxD,KAE/B,0BACA,2B,8ECrCA,SAAYkX,GACV,kBACA,YACA,cACA,oBACA,gBACA,cACA,YAPF,CAAY,EAAAA,kBAAA,EAAAA,gBAAe,M,yFCA3B,yBACA,yBACA,yBACA,0B,yFCHA,OACA,QACA,SAGA,cAEE,WAAsB+sB,GAAtB,MACE,YAAMA,IAAM,K,OADQ,EAAAA,Q,QAIxB,OANoC,iBAAvB9rB,EAAc,cAD1B,EAAAJ,WAAW,CAAEC,WAAY,S,kCAGmB,mB,OAAA,IAAd,EAAA8d,gBAAA,EAAAA,gBAAc,YAFhC3d,GAAb,CAAoC,EAAAysB,aAAvB,EAAAzsB,kB,yFCLb,OAKA,4BACA,SAGA,aAEE,WAAsB+5C,GAAA,KAAAA,iB,MAgBxB,OAbE,YAAAj7C,IAAA,SAAaP,EAAuBN,EAAa5C,EAAuBjC,EAAY8E,QAAA,IAAAA,MAAA,IAClF,IAAMzN,EAAS0N,KAAKC,WAAWH,EAAK5C,EAAMjC,EAAM8E,GAEhDC,KAAK47C,eAAej7C,IAAI,CAAErO,GAAE,EAAE8N,OAAM,KAGtC,YAAAK,OAAA,SAAOnO,GACL0N,KAAK47C,eAAet3B,OAAOhyB,IAG7B,YAAA2N,WAAA,SAAWH,EAAa5C,EAAuBjC,EAAY8E,GACzD,YADyD,IAAAA,MAAA,IAClD,UAAS87C,KAAK,GAAG/7C,EAAM5C,EAAOknB,KAAKK,UAAUxpB,GAAQmpB,KAAKK,UAAU1kB,KAhBlE6B,EAAgB,cAD5B,EAAAH,WAAW,CAAEC,WAAY,S,kCAG4B,mB,OAAA,IAAd,EAAA8d,gBAAA,EAAAA,gBAAc,YAFzC5d,GAAb,GAAa,EAAAA,oB,wKCTb,2BAEa,EAAAk6C,+BAA0C,UAAQzyD,OAAO,iCAAkC,IAExG,UAAe,EAAAyyD,+BAA+BpyD,KAE9C,0BACA,2B,kFCPA,E,KAAA,uBAGa,EAAAqyD,iBAAmH,SAACzqD,GAC/H,OAAO,SAACvJ,EAAyC8C,G,MACzCmM,EAAqC,UAAQF,MAAM,GAAI,CAC3DG,MAAO,GACPG,UAAU,GACT9F,GACGgF,IAAO,MAAsCzL,GAAW,KAAImM,EAASI,SAAW,IAAM,IAAKJ,EAASC,MAAO,GAC7GV,EAAiDxO,EAAUwO,WAAa,GAE5EA,EAAY,UAAQO,MAAM,GAAIP,EAAWD,GACzCxO,OAAO0P,OAAOzP,EAAW,CAAEwO,UAAS,O,yFCbxC,OACA,SACA,QACA,SACA,QACA,QAEA,QACA,SACA,SACA,SACA,SAGA,aAEE,WAAsBylD,EACAC,EACAC,EACAza,EACA0a,GAJA,KAAAH,mBACA,KAAAC,mBACA,KAAAC,mBACA,KAAAza,OACA,KAAA0a,O,kBAgGxB,OA7FE,YAAApyD,IAAA,WACE,OAAOiW,KAAKi8C,iBAAiBpa,cAAgB7hC,KAAKi8C,iBAAiBnuB,YAAc9tB,KAAKo8C,cAGxF,YAAAza,OAAA,SAAOjvC,GACLsN,KAAKg8C,iBAAiBra,OAAOjvC,EAAWJ,IAAI,SAAAlD,GAAS,2CAChDA,GACAsD,GAAU,CACb2pD,yBAAyB,IAAK31B,MAAQ41B,gBAI1C,YAAAC,SAAA,SAASjqD,EAAQkqD,GACfx8C,KAAKg8C,iBAAiBp8B,GAAG+hB,OAAOrvC,GAAI,SAAAlD,GAAS,gCACtCA,GACAotD,OAKT,YAAAC,WAAA,SAAW37B,GACT9gB,KAAKg8C,iBAAiBra,QAAO,SAAAvyC,GAAS,gCACjCA,GAAK,CACRwwB,GAAI,EAAF,uBACGxwB,EAAMwwB,IAAE,CACXkB,QAAO,SAIX9gB,KAAKg8C,iBAAiB97B,wBAGxB,YAAAw8B,WAAA,SAAWnsD,GACTyP,KAAKg8C,iBAAiBra,QAAO,SAAAvyC,GAAS,gCACjCA,GAAK,CACRwwB,GAAI,EAAF,uBACGxwB,EAAMwwB,IAAE,CACXrvB,KAAI,SAIRyP,KAAKg8C,iBAAiB97B,wBAGd,YAAAk8B,WAAV,sBACQO,EAAe38C,KAAKm8C,KAAKnuD,iBACzB+R,EAAiB,CACrB68C,iBAAkB,CAAC,EAAAl8B,gBAAgBK,UAAW,EAAAL,gBAAgBM,QAG1DlhB,EAAM,eAAe68C,EAAQ,gBAEnC,OAAO38C,KAAKyhC,KAAK13C,IAAkB+V,EAAKC,GAAQQ,KAC9C,EAAAvQ,KAAI,SAAAqd,GAAY,SAAKwvC,oBAAoBxvC,MACzC,EAAArd,KAAI,SAAAqd,GAAY,SAAKyvC,sBAAsBzvC,MAC3C,EAAArd,KAAI,SAAAqd,GAAY,SAAA0vC,6BAA6B1vC,MAC7C,EAAA7M,KAAI,SAAAw8C,GAAqB,SAAKC,0BAA0BD,MACxD,EAAAx8C,KAAI,SAAAw8C,GAAqB,SAAKE,0BAA0BF,MACxD,EAAAhtD,KAAI,SAAAgtD,GAAqB,OAAAl1D,OAAO6e,OAAOq2C,EAAkBG,SAAS5oD,aAAe,SAK3E,YAAA2oD,0BAAV,SAAoCF,GAClCh9C,KAAKg8C,iBAAiBvuD,IAAI,CACxB0vD,SAAUH,EAAkBG,SAAS5oD,aAAe,GACpD6oD,IAAKJ,EAAkBt0D,UAKjB,YAAAu0D,0BAAV,SAAoCD,GAClCh9C,KAAKk8C,iBAAiBzuD,IAAIuvD,EAAkBG,SAAS7sC,aAAe,KAG5D,YAAAusC,oBAAV,SAA8BtoD,GAC5B,OAAOA,EAAYvE,KAAI,SAAA0C,GACrB,IAAM2qD,EAAwB,IAAK32B,KAAKh0B,EAAW2pD,yBAA0BC,WAAa5pD,EAAW2pD,wBAC/FiB,EAAoB,IAAK52B,KAAKh0B,EAAW6qD,oBAAqBjB,WAAa5pD,EAAW6qD,mBAC5F,OAAO,EAAP,uBACK7qD,GAAU,CACb2pD,wBAAyBgB,EACzBE,mBAAoBD,QAKhB,YAAAR,sBAAV,SAAgCvoD,GAC9B,OAAOA,EAAYvE,KAAI,SAAA0C,GAAc,gCAChCA,GAAU,CACbkB,gBAAiBlB,EAAWiB,0BAA4B,EAAAyS,eAAe8a,6BAA+BxuB,EAAWkB,sBA3BrH,cADC,EAAA4pD,c,uEACsE,mB,OAAA,IAAhB,EAAAC,kBAAA,EAAAA,kBAAgB,W,wFAQvE,cADC,EAAAD,c,uEACsE,mB,OAAA,IAAhB,EAAAC,kBAAA,EAAAA,kBAAgB,W,wFAhF5DC,EAAkB,cAD9B,EAAAj8C,WAAW,CAACC,WAAY,S,kCAGiC,mB,OAAA,IAAhB,EAAA+e,kBAAA,EAAAA,kBAAgB,SACA,mBADA,OACA,IAAhB,EAAA4N,kBAAA,EAAAA,kBAAgB,SACA,mBADA,OACA,IAAhB,EAAA3M,kBAAA,EAAAA,kBAAgB,SACjB,mBADiB,OACjB,IAAX,EAAAlgB,aAAA,EAAAA,aAAW,SACP,mBADO,OACP,IAAJ,EAAAa,MAAA,EAAAA,MAAI,YANrBq7C,GAAb,GAAa,EAAAA,sB,yFCdb,OACA,QACA,SACA,SACA,QACA,4BAGA,cAEE,WAAsB/vB,GAAtB,MACE,YAAMA,IAAM,K,OADQ,EAAAA,Q,QAkCxB,OApCsC,iBAMpC,YAAAgwB,iBAAA,SAAiBP,GAAjB,WACE,OAAOp9C,KAAK8tB,UAAU,CACpBC,SAAU,SAAA/wB,GAAc,OAAAogD,EAAIhhC,SAASpf,EAAW1K,OAC/CiO,KACD,EAAAvQ,KAAI,SAAAsgB,GAAe,SAAK0d,OAAO1d,QAIzB,YAAA0d,OAAV,SAAiB1d,GACf,IAAM2d,EAAUjuB,KAAKkuB,WAAWtO,GAC1BuO,EAAanuB,KAAKouB,cAAcH,EAAQ19B,KAAK8wB,IAEnD,OAAO,UAAK,EAAD,SAAK/Q,IAAc2d,EAAQ19B,KAAK6uB,OAAO+O,IAG1C,YAAAC,cAAV,SAAwB/M,GACtB,OAAQA,GACN,IAAK,aACH,OAAOrhB,KAAK49C,gBACd,QACE,OAAOv8B,IAIb,YAAAu8B,gBAAA,SAAgB5gD,GAGd,OAAO,EAFS,CAAC,EAAA6L,iBAAiB+zB,aAAc,EAAA/zB,iBAAiBg1C,UAAW,EAAAh1C,iBAAiB8zB,iBAE1E5kC,QAAQiF,EAAWmpB,aAjC7B23B,EAAgB,cAD5B,EAAAr8C,WAAW,CAAEC,WAAY,S,kCAGqB,mB,OAAA,IAAhB,EAAAggB,kBAAA,EAAAA,kBAAgB,YAFlCo8B,GAAb,CAAsC,EAAAxvB,aAAzB,EAAAwvB,oB,yFCRb,OACA,SAQA,QACA,QAEA,QAEA,SAGA,aAEE,WAAsB5B,EACAC,EACA1a,GAFA,KAAAya,mBACA,KAAAC,OACA,KAAA1a,O,UA0FxB,OAvFE,YAAAE,OAAA,SAAO3kC,GACLgD,KAAKk8C,iBAAiBva,OAAO3kC,EAAW1K,IAAI,SAAAlD,GAAS,gCAChDA,GACA4N,OAIP,YAAA+gD,aAAA,SAAaC,EAAkBhhD,EAAwBihD,GAAvD,WACE,OAAOj+C,KAAKk+C,gBAAgBF,EAAchhD,EAAWwa,WAAYymC,GAAkB19C,KACjF,EAAAvQ,KAAI,SAAAqd,GACH,IAAM8wC,EAAoB,EAAH,uBAClBnhD,GAAU,CACbmpB,WAAY83B,EAAiB5vD,OAC7BohD,aAAcpiC,EAAWA,EAASoiC,aAAezyC,EAAWyyC,eAI9D,OAFA,EAAK9N,OAAOwc,GAELA,OAKZ,YAAAC,oBAAA,SAAoB1rD,EAAwB2rD,GAA5C,WACE,OAAOr+C,KAAKs+C,uBAAuB5rD,EAAWJ,GAAI+rD,GAAsB99C,KACtE,EAAAvQ,KAAI,SAAAqd,GACF,IAAMkxC,EAAUlxC,GAAY3a,EAAW4d,YACpC3b,QAAO,SAAAqI,GAAc,OAAAqhD,EAAqBG,YAAYpiC,SAASpf,EAAWwa,eAC1ExnB,KAAI,SAAAgN,GAAc,OAAE1K,GAAI0K,EAAW1K,GAAIm9C,aAAczyC,EAAWyyC,iBAC7DgP,EAAmB,EAAAC,qCAAqCH,GAE9D,MAAO,CAACE,EAAiBtB,SAASoB,QAASE,EAAiB/1D,WAE9D,EAAA8X,KAAI,SAAC,G,IAAA,gBAAC+9C,EAAA,KAASI,EAAA,KACb,EAAKzC,iBAAiB0C,OAAOD,GAAe,SAAAvvD,GAC1C,OAAO,EAAP,uBACKA,GAAK,CACR+2B,WAAYk4B,EAAqBhwD,OACjCohD,cAAe8O,EAAQnvD,EAAMkD,KAAOlD,GAAOqgD,uBAMrD,YAAAoP,yBAAA,SAAyB7hD,GAAzB,WACE,OAAOgD,KAAK8+C,sBAAsB9hD,EAAW1K,IAAIiO,KAC/C,EAAAvQ,KAAI,SAAAqd,GAAY,gCAAKrQ,GAAeqQ,MACpC,EAAA7M,KAAI,SAAA29C,GAAqB,SAAKxc,OAAOwc,QAIzC,YAAAY,mBAAA,SAAmB/hD,GACjB,OAAOgD,KAAK8+C,sBAAsB9hD,EAAW1K,IAAIiO,KAC/C,EAAAvQ,KAAI,SAAAqd,GAAY,OAAAA,EAASoiC,kBAI7B,YAAAiN,WAAA,SAAWnsD,GACTyP,KAAKk8C,iBAAiBva,QAAO,SAAAvyC,GAAS,gCACjCA,GAAK,CACRwwB,GAAI,EAAF,uBACGxwB,EAAMwwB,IAAE,CACXrvB,KAAI,SAIRyP,KAAKk8C,iBAAiBh8B,wBAGd,YAAAg+B,gBAAV,SAA0BF,EAAkBgB,EAAef,GACzD,IACMn+C,EAAM,eADSE,KAAKm8C,KAAKnuD,iBACI,gBAAgBgwD,EAAY,WAAWgB,EAAS,IAEnF,OAAOh/C,KAAKyhC,KAAKvgC,MAAsCpB,EAAK,EAAF,YAAMm+C,KAGxD,YAAAK,uBAAV,SAAiCN,EAAkBiB,GACjD,IACMn/C,EAAM,eADaE,KAAKm8C,KAAKnuD,iBACA,gBAAgBgwD,EAAY,WAE/D,OAAOh+C,KAAKyhC,KAAKvgC,MAAwCpB,EAAKm/C,IAGtD,YAAAH,sBAAV,SAAgCI,GAC9B,IAAMp/C,EAAM,4BAA4Bo/C,EAAY,IAEpD,OAAOl/C,KAAKyhC,KAAK13C,IAAoC+V,IA5F5Cq/C,EAAkB,cAD9B,EAAA19C,WAAW,CAAEC,WAAY,S,kCAGgC,mB,OAAA,IAAhB,EAAAggB,kBAAA,EAAAA,kBAAgB,SACxB,mBADwB,OACxB,IAAJ,EAAArf,MAAA,EAAAA,MAAI,SACO,mBADP,OACO,IAAX,EAAAb,aAAA,EAAAA,aAAW,YAJ5B29C,GAAb,GAAa,EAAAA,sB,8ECjBb,aAEMC,EAA8B,IAAI,EAAAC,OAAOC,OAAO,WACzC,EAAAZ,qCAAuC,SAAArxC,GAAY,SAAAkyC,UAAUlyC,EAAU,CAAC+xC,M,8ECHrF,aAIMpiD,EAAa,IAAI,EAAAqiD,OAAOC,OAAO,eAC/BE,EAAsB,IAAI,EAAAH,OAAOC,OAAO,yBACxC5sD,EAAa,IAAI,EAAA2sD,OAAOC,OAAO,cAAe,CAClDhvC,YAAa,CAACtT,GACdyiD,sBAAuB,CAACD,KAGb,EAAAzC,6BAA+B,SAAAxoD,GAC1C,SAAAgrD,UAA0DhrD,EAAa,CAAC7B,M,yFCZ1E,2BAEa,EAAAgtD,uBAAkC,UAC5Cr2D,OAAO,wBAAyB,IAEnC,UAAe,EAAAq2D,uBAAuBh2D,KAEtC,0BACA,2B,yFCRA,2BAGa,EAAAi2D,UAAiD,SAACruD,GAgD7D,OAAO,SAAwDyE,GAC7D,IAAM1M,EA/C0C,WAChD,IACIA,EAEJ,GAAIiI,EAAQjI,OACV,IACEA,EAAS,UAAQA,OAAO,GAAGiI,EAAQjI,QACnC,MAAO2M,GACP3M,EAAS,KAIb,IAAKA,EACH,IACEA,EAAS,UAAQA,OAbM,OAcvB,MAAO2M,GACPlK,QAAQmK,MAAM,+BAA+B3E,EAAQ4E,SAAQ,4CAAiEF,GAC9H3M,EAAS,KAIb,OAAOA,EA0BiB8M,GAElBypD,EAzBgH,SAAC7pD,GACvH,IAAM6pD,EAAwB,W,IAAC,sDAC7B,IAAMp1C,EAAS,IAA2BzU,EAAW,WAAXA,EAAW,oBAAIkpB,KAGzD,OAFAn3B,OAAO0P,OAAOgT,EAAWlZ,GAElBkZ,GAOT,OAJIzU,EAAYipB,UACd4gC,EAAiB5gC,QAAUjpB,EAAYipB,SAGlC4gC,EAa6CC,CAAuB9pD,GAE3E,GAAI1M,EAAQ,CACV,IAAM6M,EAbgD,SAACA,GACzD,OAAOA,EAASO,QACd,aACA,SAACC,GAAyB,OAAAA,EAAK,GAAGC,iBAUTC,CAAoBtF,EAAQ4E,UACrD7M,EAAOmhB,UAAUtU,EAAU0pD,GAG7B,OAAO7pD,K,+FC7DX,2BACA,UACA,UACA,UAEa,EAAA+pD,uBAAkC,UAC5Cz2D,OAAO,uBAAwB,IAC/BwN,UAAU,0BAA2B,EAAAkpD,yBACrClpD,UAAU,qBAAsB,EAAAgI,kBAChCW,OAAO,EAAAwgD,yBAEV,UAAe,EAAAF,uBAAuBp2D,KAItC,gCACA,6BACA,IAAAo2D,uBAAuBG,UAAS93D,KAAI,mBAAI,CAAC,UAA+B,aAExE,yBACA,2B,yFCpBA,2BAEa,EAAA+3D,wBAAmC,UAAQ72D,OAAO,yBAA0B,IAEzF,UAAe,EAAA62D,wBAAwBx2D,KACvC,0BACA,2B,yFCNA,OACA,SACA,QACA,SACA,QACA,QACA,SACA,QACA,SACA,SAGA,aAEE,WAAsBsyD,EACAC,EACAxa,EACA0a,GAHA,KAAAH,mBACA,KAAAC,mBACA,KAAAxa,OACA,KAAA0a,O,cA2ExB,OAxEE,YAAApyD,IAAA,WACE,OAAOiW,KAAKi8C,iBAAiBpa,cAAgB7hC,KAAKi8C,iBAAiBnuB,YAAc9tB,KAAKo8C,cAGxF,YAAAK,WAAA,SAAW37B,GACT9gB,KAAKg8C,iBAAiBra,QAAO,SAAAvyC,GAAS,gCACjCA,GAAK,CACRwwB,GAAI,EAAF,uBACGxwB,EAAMwwB,IAAE,CACXkB,QAAO,SAIX9gB,KAAKg8C,iBAAiB97B,wBAGxB,YAAAw8B,WAAA,SAAWnsD,GACTyP,KAAKg8C,iBAAiBra,QAAO,SAAAvyC,GAAS,gCACjCA,GAAK,CACRwwB,GAAI,EAAF,uBACGxwB,EAAMwwB,IAAE,CACXrvB,KAAI,SAIRyP,KAAKg8C,iBAAiB97B,wBAGd,YAAAk8B,WAAV,sBAEQt8C,EAAM,gCADSE,KAAKm8C,KAAKnuD,iBACqB,IAEpD,OAAOgS,KAAKyhC,KAAK13C,IAAkB+V,GAAKS,KACtC,EAAAvQ,KAAI,SAAAqd,GAAY,SAAKwvC,oBAAoBxvC,MACzC,EAAArd,KAAI,SAAAqd,GAAY,SAAKyvC,sBAAsBzvC,MAC3C,EAAArd,KAAI,SAAAqd,GAAY,SAAA0vC,6BAA6B1vC,MAC7C,EAAA7M,KAAI,SAAAw8C,GAAqB,SAAKE,0BAA0BF,MACxD,EAAAhtD,KAAI,SAAAgtD,GAAqB,OAAAl1D,OAAO6e,OAAOq2C,EAAkBG,SAAS5oD,aAAe,SAK3E,YAAA2oD,0BAAV,SAAoCF,GAClCh9C,KAAKg8C,iBAAiBvuD,IAAI,CACxB0vD,SAAUH,EAAkBG,SAAS5oD,aAAe,GACpD6oD,IAAKJ,EAAkBt0D,UAIjB,YAAAm0D,oBAAV,SAA8BtoD,GAC5B,OAAOA,EAAYvE,KAAI,SAAA0C,GACrB,IAAM2qD,EAAwB,IAAK32B,KAAKh0B,EAAW2pD,yBAA0BC,WAAa5pD,EAAW2pD,wBAC/FiB,EAAoB,IAAK52B,KAAKh0B,EAAW6qD,oBAAqBjB,WAAa5pD,EAAW6qD,mBAC5F,OAAO,EAAP,uBACK7qD,GAAU,CACb2pD,wBAAyBgB,EACzBE,mBAAoBD,QAKhB,YAAAR,sBAAV,SAAgCvoD,GAC9B,OAAOA,EAAYvE,KAAI,SAAA0C,GACrB,OAAIA,EAAWiB,4BAA8BjB,EAAWkB,gBAC/C,EAAP,uBACKlB,GAAU,CACbkB,gBAAiB,EAAAwS,eAAe8a,+BAG7B,EAAP,YAAYxuB,OA3BhB,cADC,EAAA8qD,c,uEACsE,mB,OAAA,IAAhB,EAAAC,kBAAA,EAAAA,kBAAgB,W,wFAlD5DC,EAAkB,cAD9B,EAAAj8C,WAAW,CAAEC,WAAY,S,kCAGgC,mB,OAAA,IAAhB,EAAA+e,kBAAA,EAAAA,kBAAgB,SACA,mBADA,OACA,IAAhB,EAAA4N,kBAAA,EAAAA,kBAAgB,SACjB,mBADiB,OACjB,IAAX,EAAA7sB,aAAA,EAAAA,aAAW,SACP,mBADO,OACP,IAAJ,EAAAa,MAAA,EAAAA,MAAI,YALrBq7C,GAAb,GAAa,EAAAA,sB,8ECZb,aAIMhrD,EAAa,IAAI,EAAA2sD,OAAOC,OAAO,eAExB,EAAAvC,6BAA+B,SAAAxoD,GAC1C,SAAAgrD,UAA0DhrD,EAAa,CAAC7B,M,8ECA1E,mBAAa,EAAAytD,6B,yFCPb,2BACA,2BACA,UACA,UAEA,0BAEa,EAAAC,qCAAgD,UAC1D/2D,OAAO,iDAAkD,CAAC,YAC1DmN,WAAW,qCAAsC,EAAA6pD,mCACjD7gD,OAAO,EAAA8gD,uCAEV,UAAe,EAAAF,qCAAqC12D,KAEpD,0BACA,2B,88KCfA,OAAe,g4B,oECAA,QAA0B,0D,6BCA1B,QAA0B,oE,6BCA1B,QAA0B,gF,6BCA1B,QAA0B,6D,8GCAzC,E,KAAA,wBACA,SACA,SACA,SAEa,EAAA62D,aAAe3hC,QACzBv1B,OAAO,eAAgB,CACtB,UACA,EAAAm3D,qBACA,EAAAC,oBACA,EAAAC,yBAEDh3D,M,6BCZH,OAAe,iE,6BCAf,OAAe,0lB,yFC0Cf,SAAUi3D,EAAkBC,EAAmBC,G,kFACjB,G,KAET,EAAAC,c,yDACjB,GAAMD,EAAgBpqD,QAAQ,UAAW,EAAAqqD,cAAcC,GAAMH,M,aAA7D,S,uDA9CS,EAAAE,cAA+D,CAC1EE,GAAI,CACFxpD,OAAQ,SACRw+C,KAAM,OACNv1C,OAAQ,SACRwgD,SAAU,WACVC,UAAW,aACXxuD,WAAY,aACZyuD,SAAU,WACVC,UAAW,aACX9tD,MAAO,QACP+tD,SAAU,MACVC,IAAK,OAEPC,GAAI,CACF/pD,OAAQ,WACRw+C,KAAM,QACNv1C,OAAQ,UACRwgD,SAAU,aACVC,UAAW,eACXxuD,WAAY,UACZyuD,SAAU,QACVC,UAAW,sBACX9tD,MAAO,OACP+tD,SAAU,YACVC,IAAK,SAEPE,GAAI,CACFhqD,OAAQ,oBACRw+C,KAAM,UACNv1C,OAAQ,cACRwgD,SAAU,WACVC,UAAW,kBACXxuD,WAAY,WACZyuD,SAAU,QACVC,UAAW,4BACX9tD,MAAO,YACP+tD,SAAU,YACVC,IAAK,WAYT,+BA+BA,OA9BS,EAAAG,kBAA4B,UAE5B,EAAAC,4BAA2B,WAAiBf,EAAkB,SAAU,oCAAoCgB,EAASF,kBAAiB,OAEpI,EAAAG,2BAA0B,WAAiBjB,EAAkB,WAAY,yCAAyCgB,EAASF,kBAAiB,OAE9I,EAAAI,0BAAyB,WAAiBlB,EAAkB,OAAQ,oCAAoCgB,EAASF,kBAAiB,OAElI,EAAAK,yBAAwB,WAAiBnB,EAAkB,MAAO,oCAAoCgB,EAASF,kBAAiB,OAGhI,EAAAM,4BAA2B,WAAiBpB,EAAkB,SAAU,yCAAyCgB,EAASF,kBAAiB,OAE3I,EAAAO,gCAA+B,WAAiBrB,EAAkB,SAAU,iCAAiCgB,EAASF,kBAAiB,OAEvI,EAAAQ,kCAAiC,WAAiBtB,EAAkB,WAAY,iCAAiCgB,EAASF,kBAAiB,OAE3I,EAAAS,oCAAmC,WAAiBvB,EAAkB,YAAa,iCAAiCgB,EAASF,kBAAiB,OAG9I,EAAAU,wBAAoC,CAAC,oCAGrC,EAAAC,gCAA+B,WAAiBzB,EAAkB,aAAc,sDAAsDgB,EAASF,kBAAiB,OAEhK,EAAAY,8BAA6B,WAAiB1B,EAAkB,WAAY,sDAAsDgB,EAASF,kBAAiB,OAE5J,EAAAa,gCAA+B,WAAiB3B,EAAkB,YAAa,sDAAsDgB,EAASF,kBAAiB,OAE/J,EAAAc,2BAA0B,WAAiB5B,EAAkB,QAAS,sDAAsDgB,EAASF,kBAAiB,OAC/J,EA/BA,GAAa,EAAAE,Y,6JClDb,YAKA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAOpD,WAAYz2B,EAASrf,EAAQlK,EAAWqJ,GAGtChL,KAAKkrB,QAAUA,EACflrB,KAAK6L,OAASA,EACd7L,KAAK2B,UAAYA,EACjB3B,KAAKgL,QAAUA,EACfhL,KAAKy6C,SAAW,GAkKpB,O,qDA/JE,YAAA+H,eAAA,WACE,MACyB,2BAAvBxiD,KAAK6L,OAAOwC,QACZrO,KAAKy6C,SAASgI,YAAYrmC,SAAS,gBAGvC,sBAAI,qBAAM,CAFJ,IAEN,WACE,MAAO,CACLsmC,OAAQ,kBACRC,cAAe,iBACfC,eAAgB,4BAChBC,oBAAqB,kCACrBn6D,OAAQ,oBACRo6D,iBAAkB,8BAClBC,qBAAsB,mCACtBpoC,SAAU,sBACVU,aAAc,2BACd2nC,WAAY,0BACZC,iBAAkB,yBAClBC,cAAe,sBACfC,wBAAyB,+BACzBC,oBAAqB,oCACrBC,eAAgB,iBAChBC,yBAA0B,wBAC1BC,2BAA4B,+BAC5BC,mCAAoC,0BACpCC,yBAA0B,oBAC1BC,wBAAyB,yBACzBC,yBAA0B,wBAC1BC,gCAAiC,+BACjCC,iCAAkC,gCAClCC,cAAe,qBACfC,6BAA8B,+BAC9BC,qBAAsB,wBACtBC,iCAAkC,mCAClCC,4CAA6C,mCAE7CC,0CAA2C,4CAC3CC,uCAAwC,yCACxCC,mCAAoC,sCACpCC,qCAAsC,uCACtCC,2CAA4C,oDAC1C,YAAY,EACZ,cAAc,IAQpB,YAAArsD,KAAA,SAAKnK,EAAOwsC,GACVv6B,KAAKy6C,SAAS1sD,MAAQA,EACtBiS,KAAKy6C,SAASgI,YAAcloB,GAQ9B,YAAAh0B,MAAA,SAAMi+C,GACJ,GAAIxkD,KAAKwiD,mBAAqBgC,EAC5B,OAAOt3D,QAAQC,UAGjB,IAEMozB,EAAU,CACdzY,MAHgB9H,KAAKykD,aAAaD,GAIlCE,WAAY,CACVjC,YAAaziD,KAAKy6C,SAASgI,YAC3BxrD,MAAO+I,KAAKy6C,SAASgI,YACrB10D,MAAOiS,KAAKy6C,SAAS1sD,MACrB42D,QAAS3kD,KAAKkrB,QAAQz/B,UAAUm5D,YAIpC,OAAO5kD,KAAK2B,UAAUkQ,cACpB7R,KAAKkrB,QAAQ25B,KAAKzgC,KAAKK,UAAUlE,MAYrC,YAAAukC,OAAA,SAAO5nD,EAAM6nD,EAAaC,EAAuBC,GAC/C,GAAIjlD,KAAKwiD,iBACP,OAAOt1D,QAAQC,UAGjB,IAAI4uC,EAAY,KACVmpB,EAAcllD,KAAKmlD,iBAEnB5kC,EAAU,CACd6kC,aAAcplD,KAAKy6C,SAASgI,YAC5B4C,OAAQrlD,KAAKy6C,SAAS1sD,OAsCxB,MAnCa,kBAATmP,IACFqjB,EAAQ+kC,KAAO,CACbC,OAAQvlD,KAAKy6C,SAASgI,cAIb,qBAATvlD,IACFqjB,EAAQilC,UAAY,CAClB,mBAAoBN,GAGtB3kC,EAAQ+kC,KAAO,CACb,eAAgBP,EAChB,0BAA2BC,EAC3B,mBAAoBC,IAIX,eAAT/nD,IACFqjB,EAAQ+kC,KAAO,CACb,oBAAqBJ,EACrB,eAAgBH,EAChB,0BAA2BC,EAC3B,mBAAoBC,IAIX,aAAT/nD,IACF6+B,EAAY/7B,KAAKgL,QAAQuN,KAAKxJ,MAAK,SAAA02C,GAAc,MAAoB,YAApBA,EAAW9pB,QAE5Dpb,EAAQ+kC,KAAO,CACb,YAAavpB,EAAY,UAAY,YAIlC/7B,KAAK2B,UAAUoQ,eACpB/R,KAAKkrB,QAAQ25B,KAAKzgC,KAAKK,UAAUlE,MAQrC,YAAAkkC,aAAA,SAAaD,GACX,OAAOxkD,KAAK0lD,OAAOlB,IAOrB,YAAAW,eAAA,WACE,OAAOv0D,IAAS+0D,eAEpB,E,GA1Ka,EAAA56C,a,oGCAb,E,KAAA,uBAEA,2BAQA,OAPE,YAAA66C,gBAAA,WACE,UAAOC,OAAOz4D,OAAO04D,KAAKC,kBAGrB,EAAAnvC,mBAAP,SAA0BD,GACxB,YADwB,IAAAA,MAAevpB,OAAO04D,KAAKC,iBAC5CpvC,EAAalgB,QAAQ,cAAe,MAAMqqC,qBAErD,EARA,GAAa,EAAAj2B,U,4FCRb,WAEM+jB,EAAsBhQ,QAAQhkB,QAAQI,SAASC,MAExC,EAAA+qD,eAAiB,SAACl3B,EAAWljB,EAAUggB,EAAWq6B,GAC7D,IAAMC,EAAaD,EAASl8D,IAAO6hC,EAAS,SAE5ChgB,GAAS,WACP,QAAmB8e,IAAfw7B,EAA0B,CAM5B,IAAI,EACA,EAEJ,OARAD,EAAS3kD,IAAOsqB,EAAS,QAAS,GAAI,CACpCuwB,KAAM,IACNgK,QAASv1D,IAAS+P,IAAI,EAAG,QAAQylD,WAM3Bx6B,GACN,IAAK,0BACH,EAAa,EAAA3/B,eAAe,+BAC5B,EAAc,EAAAA,eAAe,gCAC7B,MACF,IAAK,0BACH,EAAa,EAAAA,eAAe,6BAC5B,EAAc,EAAAA,eAAe,8BAK7B,GAAc,GAChB6iC,EAAUE,KAAK,CACbI,OAAQR,EACRS,YAAa,kCACb74B,WAAU,WACR,aAGEwJ,KAAK8uB,UAAYA,EACjB9uB,KAAKk9B,UAOT,OAJE,YAAAA,QAAA,WACEl9B,KAAKqmD,WAAa,EAClBrmD,KAAKsmD,YAAc,GAEvB,EAZU,GAaVp3B,aAAc,aAInB,Q,gGCvDQ,EAAAq3B,WAAa,CACxBC,QAAS,EACTC,KAAM,EACNC,aAAc,I,8ECOhB,8BACS,KAAAC,UAA4B,GA4BrC,OA1BS,YAAAxpC,UAAP,SAAiB/iB,GAAjB,WAIE,OAHAA,EAASkoB,QAAS,EAClBtiB,KAAK2mD,UAAUx+D,KAAKiS,GAEb,WACL,EAAKsO,YAAYtO,KAId,YAAAsO,YAAP,SAAmBtO,GACjBA,EAASkoB,QAAS,EAClBtiB,KAAK2mD,UAAY3mD,KAAK2mD,UAAUhyD,QAAO,SAACiyD,GAAqC,QAACA,EAAUtkC,QAAYskC,IAAcxsD,OAG7G,YAAAwiB,KAAP,SAAYzyB,GACV6V,KAAK2mD,UAAUjyD,SAAQ,SAAC0F,GACjBA,EAASkoB,QACZloB,EAASwiB,KAAKzyB,OAKb,YAAA08D,QAAP,WACE7mD,KAAK2mD,UAAUjyD,QAAQsL,KAAK0I,YAAYhe,KAAKsV,OAC7CA,KAAK2mD,UAAY,IAErB,EA7BA,GAAa,EAAA3nB,W,6BCVb,OAAe,i5F,6BCCf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QACA,SAEA,2B,aAOE,WAAoBr9B,GAAA,KAAAA,YAOlB,IAAI,EAKR,O,wBARS,YAAAmlD,OAAP,WACE,OAAO9mD,KAAK2B,UAAUwM,eAAe,2BAGhC,YAAA44C,kBAAP,SAAyBC,EAAuBC,GAC9C,OAAOD,EACJnyD,MAAK,SAACqyD,GAA+B,OAAAA,EAAQC,eAAiBF,MAXxDG,EAAc,cAJ1B,EAAAhuD,QAAQ,CACP/P,OAAQ,UACRK,KAAM,mBAgBA,EAAQ,WAAW,oBAAqB,CAbN,mBAae,OAbf,IAAT,EAAAiY,WAAA,EAAAA,WAAS,YAD7BylD,G,GAAA,EAAAA,kB,6BCTb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QAEA,2B,aAaE,WAAsBzlD,GAAA,KAAAA,YAqDxB,O,wBAjDS,YAAA5X,IAAP,SAAWqmB,EAAmB6B,GAC5B,OAAOjS,KAAK2B,UAAUyV,GAAGD,6BAA6B/G,EAAW6B,GAC9D1F,KAAKvM,KAAKhQ,IAAItF,KAAKsV,QAGjB,YAAAhQ,IAAP,SAAWq3D,GACT,OAAOrnD,KAAKsnD,+BACVtnD,KAAKunD,2BACHvnD,KAAKwnD,2BACHxnD,KAAKynD,6DAA6DJ,OAMlE,YAAAI,6DAAR,SAAqEJ,GACnE,OAAOA,EACJr3D,KAAI,SAAC0pB,GACJ,OAAAA,EAAKguC,kCAIH,YAAAF,2BAAR,SAAmCG,GACjC,OAAOA,EACJ/5C,QAAO,SAAC8V,EAAwBkkC,GAC7B,OAAAlkC,EAAI/V,OAAOi6C,KACb,KAIE,YAAAL,2BAAR,SAAmCM,GACjC,IAAMzK,EAAgB,GACtB,OAAOyK,EACJj6C,QAAO,SAAC8V,EAAwBkkC,GAM7B,OALKxK,EAAIhhC,SAASwrC,EAAet1D,MAC/BoxB,EAAIv7B,KAAKy/D,GACTxK,EAAIj1D,KAAKy/D,EAAet1D,KAGnBoxB,IAET,KAIE,YAAA4jC,+BAAR,SAAuCO,GACrC,OAAOA,EACJlzD,QAAO,SAACizD,GAA6C,OAACA,EAAe98B,eArD/Dg9B,EAAqB,cAJjC,EAAA1uD,QAAQ,CACP1P,KAAM,wBACNL,OAAQ,YAqCF,EAAQ,WAAW,oBAAqB,CAAC,UAnCpCy+D,G,GAAA,EAAAA,yB,8ECdb,SAAYtoB,GACV,iDACA,6CACA,6CACA,yCACA,qCACA,qCANF,CAAY,EAAAA,gCAAA,EAAAA,8BAA6B,M,6BCCzC,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,wBACA,U,aASE,WAAoBuoB,EAAqCC,GAArC,KAAAD,eAAqC,KAAAC,aA+BvD,IAAI,EAAI,EAEZ,O,wCA7BS,YAAA3uC,KAAP,SAAYvZ,EAAamoD,GACnBA,EACFjoD,KAAKkoD,UAAUpoD,GAEfE,KAAKmoD,QAAQroD,IAIP,YAAAooD,UAAV,SAAoBpoD,GAClBE,KAAK+nD,aAAa1uC,KAAKvZ,IAGf,YAAAqoD,QAAV,SAAkBroD,GAAlB,WACME,KAAKooD,IACPpoD,KAAKgoD,WAAWj+D,IAAIiW,KAAKooD,KAAK77C,MAAK,SAAC67C,GAC9BA,EACF,EAAKJ,WAAWrmB,OAAOymB,EAAK,CAAEzwD,QAAQ,EAAMmI,IAAG,IAAIyM,KAAK,EAAK87C,SAAS39D,KAAK,IAE3E,EAAKs9D,WAAW3uC,KAAKvZ,GAAKyM,KAAK,EAAK87C,SAAS39D,KAAK,OAItDsV,KAAKgoD,WAAW3uC,KAAKvZ,GAAKyM,KAAKvM,KAAKqoD,SAAS39D,KAAKsV,QAI5C,YAAAqoD,SAAV,SAAmBD,GACjBpoD,KAAKooD,IAAMA,GAlCFE,EAAiB,cAJ7B,EAAAlvD,QAAQ,CACP/P,OAAQ,UACRK,KAAM,sBA0CA,EAAQ,WAAW,oBAAqB,CArCC,mBAqCQ,OArCR,IAAb,EAAA6+D,eAAA,EAAAA,eAAa,SAAgC,mBAAhC,OAAgC,IAAV,EAAAP,YAAA,EAAAA,YAAU,YAHpEM,G,GAAA,EAAAA,qB,6BCRb,OAAe,q8I,6BCAf,OAAe,u8J,6BCAf,OAAe,wrE,6BCAf,OAAe,ktD,6BCAf,OAAe,w/L,8ECqBf,MAOE,SAAYV,GACV9/D,OAAOU,MAAMwX,KAAM4nD,GAAkB,KAR5B,EAAAY,kB,6BCrBb,OAAe,mb,6BCAf,OAAe,kb,6BCAf,OAAe,gvE,6BCAf,OAAe,gc,6BCAf,OAAe,mT,+ECMf,mBAAa,EAAAC,W,6BCNb,OAAe,+4H,6BCAf,OAAe,gzH,6BCAf,OAAe,sL,6BCAf,OAAe,qiB,6BCAf,OAAe,kE,8ECiBf,mBAAa,EAAAC,c,6BCjBb,OAAe,4N,6BCAf,OAAe,ooB,6BCAf,OAAe,onC,6BCAf,OAAe,gxC,6BCAf,OAAe,u0J,6BCAf,OAAe,gL,yFCAf,2BAEa,EAAAC,qBAAgC,UAAQt/D,OAAO,sBAAuB,IAEnF,UAAe,EAAAs/D,qBAAqBj/D,KAEpC,2B,6BCNA,OAAe,siE,6BCAf,OAAe,8hB,6BCAf,OAAe,g0D,6BCAf,OAAe,opE,6BCAf,OAAe,0oC,6BCAf,OAAe,m1C,6BCAf,OAAe,yD,8ECWf,iBACE,WAAYiY,GACV3B,KAAK2B,UAAYA,EA4ErB,OAtEE,YAAAinD,wBAAA,WACE5oD,KAAK6oD,sBAAmBn+B,EACxB1qB,KAAK8oD,cACL9oD,KAAK+oD,wBAAwB/oD,KAAKgpD,oBAMpC,YAAAC,uBAAA,WACEjpD,KAAK8oD,cACL9oD,KAAKkpD,aAAalpD,KAAK6oD,mBAGzB,YAAAC,YAAA,WACE9oD,KAAKnO,WAAQ64B,EACb1qB,KAAKmpD,OAAS,IAOhB,YAAAJ,wBAAA,SAAwBC,GAAxB,WAGE,OADAhpD,KAAKopD,kBAAoB,GAClBppD,KAAK2B,UACTyV,GACApB,qBAAqB,CACpBqzC,mBAAoBL,EAAkB12D,KAEvCia,MAAK,SAAC68C,GACL,EAAKA,kBAAoBA,MAQ/B,YAAAF,aAAA,SAAaL,GAAb,WAGE,GAFA7oD,KAAKmpD,OAAS,GAETN,EAIL,OAAO7oD,KAAK2B,UACTyV,GACArB,UAAU,CACTuzC,kBAAmBT,EAAiBv2D,KAErCia,MAAK,SAAC48C,GACL,EAAKA,OAASA,MAIpB,YAAAI,iCAAA,sBACE,OAAOvpD,KAAK+oD,wBAAwB/oD,KAAKgpD,mBACtCz8C,MAAK,WACJ,EAAKi9C,oBAAoB,EAAK74B,uBAE/BpkB,MAAK,WAAM,SAAK28C,aAAa,EAAKL,sBAGvC,YAAAW,oBAAA,SAAoB74B,GAClB3wB,KAAK6oD,iBAAmB7oD,KAAKopD,kBAAkBv0D,MAC7C,SAAAg0D,GAAoB,OAAAA,EAAiBv2D,KAAOq+B,MAGlD,EA9EA,GAAa,EAAA84B,+B,6BCXb,OAAe,yhG,6BCAf,OAAe,s8T,6BCAf,OAAe,g+G,6BCAf,OAAe,uwC,6BCAf,OAAe,4yD,6BCAf,OAAe,yD,6BCAf,OAAe,olG,6BCAf,OAAe,yS,6BCAf,OAAe,uc,yFCAf,2BACA,2BACA,UAEa,EAAAC,8BAAyC,UACnDrgE,OAAO,0CAA2C,CAAC,YACnDmW,OAAO,EAAAmqD,gCAEV,UAAe,EAAAD,8BAA8BhgE,KAC7C,2B,6BCTA,OAAe,67Q,yFCAf,2BACA,2BACA,UAEa,EAAAkgE,mCAA8C,UACxDvgE,OAAO,+CAAgD,CAAC,YACxDmW,OAAO,EAAAqqD,qCAEV,UAAe,EAAAD,mCAAmClgE,KAClD,2B,6BCTA,OAAe,qzQ,6BCAf,OAAe,20B,6BCAf,OAAe,2iH,6BCAf,OAAe,iY,6BCAf,OAAe,+N,yFCKf,2BAEA,0BAEa,EAAAogE,8BAAyC,UACnDzgE,OAAO,0CAA2C,IAClDmN,WAAW,mCAAoC,EAAQ,OAE1D,UAAe,EAAAszD,8BAA8BpgE,KAE7C,2B,yFCfA,2BACA,2BAEA,0BAEa,EAAAqgE,mCAA8C,UACxD1gE,OAAO,+CAAgD,CACtD,YAEDmN,WAAW,wCAAyC,EAAQ,OAC/D,UAAe,EAAAuzD,mCAAmCrgE,KAElD,2B,cCPA,SAASsgE,KAOTA,EAAyBjiE,UAAUkiE,yBAA2B,SAASC,EAAYC,EAAWC,GAC5FF,EAAWrlD,SAAWqlD,EAAWrlD,QAEjC7E,KAAKqqD,2BAA2BF,EAAWC,IAQ7CJ,EAAyBjiE,UAAUuiE,sBAAwB,SAASH,EAAWC,GAC7EA,EAAaG,iBAAmBH,EAAaG,gBAEzCH,EAAaG,gBACfJ,EAAUz1D,SAAQ,SAASmf,GACzBA,EAAiBgW,WAAWn1B,SAAQ,SAAS6e,GAC3CA,EAAU1O,SAAU,QAIxBslD,EAAUz1D,SAAQ,SAASmf,GACzBA,EAAiBgW,WAAWn1B,SAAQ,SAAS6e,GAC3CA,EAAU1O,SAAU,SAW5BmlD,EAAyBjiE,UAAUsiE,2BAA6B,SAASF,EAAWC,GAClF,IAAII,GAAqB,EAEzBL,EAAUz1D,SAAQ,SAASmf,GACzBA,EAAiBgW,WAAWn1B,SAAQ,SAAS6e,GACtCA,EAAU1O,UACb2lD,GAAqB,SAMzBJ,EAAaG,kBADXC,GAWNR,EAAyBjiE,UAAU0iE,6BAA+B,SAASN,GAGzE,IAFA,IAAIO,GAAqB,EAEhB/iE,EAAI,EAAGA,EAAIwiE,EAAUtiE,UAC5B6iE,EAAqBP,EAAUxiE,GAAGkiC,WAAW9a,MAAK,SAAS2sB,GACzD,OAAwB,IAAjBA,EAAK72B,YAFsBld,KAQtC,OAAO+iE,GAQTV,EAAyBjiE,UAAU4iE,wBAA0B,SAASR,EAAWC,GAC/EA,EAAaG,iBAAkB,EAE/BJ,EAAUz1D,SAAQ,SAASmf,GACzBA,EAAiBgW,WAAWn1B,SAAQ,SAAS6e,GAC3CA,EAAU1O,SAAU,SAK1Bxb,EAAOD,QAAU4gE,G,yFCjGjB,2BAEA,0BAEa,EAAAY,qCAAgD,UAC1DvhE,OAAO,iDAAkD,IACzDmN,WAAW,0CAA2C,EAAQ,OAEjE,UAAe,EAAAo0D,qCAAqClhE,KAEpD,2B,6BCVA,OAAe,8c,6BCAf,OAAe,gtB,6BCAf,OAAe,u8E,6BCAf,OAAe,mnL,6BCAf,OAAe,6Z,6BCAf,OAAe,gO,6BCAf,OAAe,iY,8BCAf,OAAe,wlB,6FC6CAgrC,IA3CE,SAAC50B,EAAKu0B,EAAmBw2B,GAAiB,MAC/BpyD,oBAAS,GADsB,mBAClDxC,EADkD,KAC3C60D,EAD2C,OAEjCryD,mBAAS,IAFwB,mBAElDpR,EAFkD,KAE5C0jE,EAF4C,OAG3BtyD,oBAAS,GAHkB,mBAGlD4rC,EAHkD,KAGzCC,EAHyC,KAwCzD,MAAO,CAACD,EAASpuC,EAAO5O,EAnCT,uCAAG,gCAAA4I,EAAA,yDACVuP,EAAS,CAAEM,MAAK5O,OAAQ,MAAO7J,KAAM,IACrC2lB,EAFU,2BAEWxN,GAFX,IAEmB1R,OAAQ,cAE3CumC,EAAkB70B,EAAOtO,QACzBozC,GAAW,IAEPz3C,EAAQC,IAAIC,qBAPA,iCASNmgB,MAAMpN,EAAK,CACf5O,OAAQ,MACRinC,QAAS,CACPC,cAAe,iBAAF,OAAmBvrC,EAAQC,IAAIgrC,8BAZpC,8BAeZQ,OAfY,cAQRA,EARQ,OAgBdgM,GAAW,GACXx4C,QAAQC,IAAI,sBAAuB+T,EAAKw4B,GACxCyyB,EAAQzyB,GACRjE,GAAkB,GAnBJ,2BAsBhBjnC,OAAOQ,QAAQC,YAAYmf,GAAe,SAACK,GAErCA,EAAShf,OAAS,IACpB08D,EAAQ19C,EAAShmB,OAEjByjE,EAASz9C,EAAShf,QAClBw8D,EAAax9C,EAAShf,SAExBi2C,GAAW,GACXjQ,GAAkB,MA/BJ,4CAAH,yD,oFCPF,QAA0B,uE,6BCA1B,QAA0B,iE,6BCA1B,QAA0B,4D,6BCA1B,QAA0B,8D,6BCA1B,QAA0B,0D,6BCA1B,QAA0B,4D,6BCA1B,QAA0B,yD,6BCA1B,QAA0B,8D,6BCA1B,QAA0B,kE,gFCA5B,EAAA9U,4BAA8B,CACzCy4B,eAAgB,EAChB3H,sBAAuB,EACvB1Q,oBAAqB,I,oICOjBgL,EAAuB,CAC3B,CACE/0C,MAAO3J,yBAAe,6BACtBvC,KAAM,uBAER,CACEkM,MAAO3J,yBAAe,0BACtBvC,KAAM,eAGJkhD,EAA0B,CAC9B,CACEh1C,MAAO3J,yBAAe,qBACtBvC,KAAM,YAsHKshE,IAlHG,SAAC5yD,GAAU,IAEb9E,EAKV8E,EALF1F,WACAu0C,EAIE7uC,EAJF6uC,oBACAC,EAGE9uC,EAHF8uC,cACAjB,EAEE7tC,EAFF6tC,0BACAhgB,EACE7tB,EADF6tB,UAIKsd,EADSj6B,qBAAW9c,iBACpB+2C,qBAVoB,EAWG9qC,oBAAS,GAXZ,mBAWpBqyC,EAXoB,KAWXztC,EAXW,KAmB3B,OACE,6BACE,yBACEI,aAAc,kBAAMJ,GAAW,IAC/BK,aAAc,kBAAML,GAAW,IAC/B/O,MAAO,CACLC,OAAQ,OACRC,MAAO,OACPiF,QAAS,OACTuzC,aAAc,aAAF,OAAe77C,SAAOqH,aAClCI,gBAAiBk4C,EAAU3/C,SAAOqH,YAAcrH,SAAOwH,QAGzD,kBAAC,IAAD,CACE2F,QApBM,WACThF,EAAML,WACPg0C,EAAoB3zC,IAmBhBy3C,aAAW,EACXz8C,MAAO,CACLmF,QAAS,OACTF,WAAY,SAEZC,eAAgB,aAChBmR,YAAa,SAGdlS,4BAAkBa,GACnB,uBACEhF,MAAK,2BACAlD,QAAMiR,QADN,IAEH0J,SAAU,SACVC,aAAc,WACdC,WAAY,SACZzX,MAAO,QACPw8C,UAAW,QACX7wB,WAAW,SAGZ7mB,EAAMsC,QAGX,yBACEtH,MAAO,CACLmF,QAAS,OACTiS,OAAQ,YACRlS,eAAgB,WAChBD,WAAY,SACZ/E,MAAO,UAGPy3B,GACA,oCACG3yB,EAAML,WACP,kBAAC,IAAD,CAAS2C,MAAO3J,yBAAe,wBAC7B,6BACE,kBAAC,IAAD,CACE2d,KAAMze,SAAO+N,SACb5K,MAAO,CACLE,MAAO,OACPD,OAAQ,OACRmX,OAAQ,YACR5M,OAAQ,WAEVR,QAAS,kBAAM4uC,EAAc5zC,QAKnC,kBAAC,IAAD,CACEhF,MAAO,GACPiK,UAAW,CAAClG,MAAOlH,SAAO+N,SAAUoE,aAAc,OAClDhM,QAASgC,EAAML,UAAU03C,EAAqBC,EAC9CtyC,QAAS,SAACygB,GAAD,OAAYktB,EAA0B3yC,EAAOylB,SAM/DzlB,aA3EH,EA2EGA,EAAOiB,YACLI,QAAO,SAAA1E,GAAC,OAAIA,EAAEgD,aACd1C,MAAK,SAACN,EAAGO,GACR,GAA6B,UAAzB+yC,EACF,OAAOtzC,EAAE2F,MAAMnF,cAAcD,EAAEoF,OAEjC,IAAM8wC,EAAK,IAAIhgB,KAAKz2B,EAAE02C,SAEtB,OADW,IAAIjgB,KAAKl2B,EAAEm2C,SACVD,KAEb12C,KAAI,SAAC0C,GAAD,OACH,yBAAKjI,IAAKiI,EAAWJ,IACnB,kBAAC,IAAD,2BAAwB8F,GAAxB,IAA+B1F,aAAYm4C,SAAS,Y,+FChI1DogB,EAAc,CAClB,CACEr1D,MAAO3J,yBAAe,qBACtBvC,KAAM,YAIJwhE,EAAY,2BACb9/D,QAAMiR,QADI,IAEb0J,SAAU,SACVC,aAAc,WACdC,WAAY,SACZzX,MAAO,QACPw8C,UAAW,UA6DEtzC,oBA1DU,SAACU,GAAU,IAEhC1F,EAGE0F,EAHF1F,WACAuzC,EAEE7tC,EAFF6tC,0BAHgC,EAK9B7tC,EADF9E,aAJgC,WAMJmF,oBAAS,GANL,mBAM3BqyC,EAN2B,KAMlBztC,EANkB,KAQlC,OACE,yBACEI,aAAc,kBAAMJ,GAAW,IAC/BK,aAAc,kBAAML,GAAW,IAC/B/O,MAAO,CACLC,OAAQ,OACRy4C,aAAc,aAAF,OAAe77C,SAAOqH,aAClCe,WAAY,SACZE,QAAS,OACTkR,YAAa,OACb/R,gBAAiBk4C,EAAU3/C,SAAOqH,YAAcrH,SAAOwH,QAGzD,yBACErE,MAAO,CACLmF,QAAS,OACTF,WAAY,SACZgL,KAAM,EACN/K,eAAgB,eAGjBf,4BAAkBC,GACnB,yBAAKpE,MAAO,CAACmF,QAAS,OAAQ+J,cAAe,WAC1ClK,GAAS,0BAAMhF,MAAK,uCAAM48D,GAAc9/D,QAAM4S,MAA1B,IAAgCmc,WAAY,SAAS7mB,EAAMsC,OAChF,0BAAMtH,MAAK,2BAAM48D,GAAN,IAAiB/wC,WAAYznB,EAAWQ,SAAW,MAAQ,SACnER,EAAWkD,SAIlB,yBACEtH,MAAO,CACLmF,QAAS,OACTiS,OAAQ,YACRlX,MAAO,OACP+E,WAAY,SACZC,eAAgB,aAIlB,kBAAC,IAAD,CACE+E,UAAW,CAAClG,MAAOlH,SAAO+N,SAAUoE,aAAc,OAClDhM,QAAS25D,EACT3yD,QAAS,SAACygB,GAAD,OAAYktB,EAA0BvzC,EAAYqmB,Y,qGClE/DoyC,EAASt+D,EAAQC,IAAIC,qBAAuB,2HAAnC,6BAAsLK,OAAOQ,QAAQ0E,GAArM,wBA0CA84D,IAxCe,SAAC,GAAoB,IAAnB/xC,EAAmB,EAAnBA,KAAMiuB,EAAa,EAAbA,GAAIC,EAAS,EAATA,IACxC,OAAKluB,EAIH,yBAAK/qB,MAAO,CACVkB,SAAU,WACViE,QAAS,OACT4H,IAAK,EACL1L,KAAM,EACNsO,MAAO,EACPrO,OAAQ,EACR4D,eAAgB,SAChBD,WAAY,WAEZ,yBAAKjF,MAAO,CACVE,MAAO,QACPoE,gBAAiBzH,SAAO4X,QACxBhQ,aAAc,MACdoG,OAAQ,OACRJ,OAAQ,SACRoF,UAAW,+BACXrL,QAAQ,sBAGR,yBAAKxE,MAAO,CAACwE,QAAQ,OAAQW,QAAQ,SACnC,yBAAKmE,IAAKuzD,EAAQ78D,MAAO,CACvBE,MAAO,OAAQD,OAAQ,OAAQqE,gBAAiBzH,SAAOwH,MAAOG,QAAS,MAAOC,aAAc,UAEhG,0BAAMzE,MAAK,2BAAMlD,QAAMiR,QAAZ,IAAoB8d,WAAY,MAAOnhB,WAAW,UAAU/M,yBAAe,+BAEtF,yBAAKqC,MAAO,CAACmjD,UAAU,aAAetmD,SAAOwY,gBAAiBnV,MAAM,OAAQ2K,OAAO,uBACnF,yBAAK7K,MAAO,CAACmF,QAAS,OAAQD,eAAgB,aAC5C,kBAAC,IAAD,CAAiB8E,QAASgvC,EAAI1xC,MAAO3J,yBAAe,6BACpD,kBAAC,IAAD,CAAeqM,QAASivC,EAAK3xC,MAAO3J,yBAAe,iCAhClD,Q,2GCyBIo/D,IA7BW,SAACjzD,GAAU,IAC5ByyD,EAAgBzyD,EAAhByyD,aACDxhD,EAAUC,qBAAW9c,iBACpB8nC,EAAwBjrB,EAAxBirB,gBAH4B,GAGJjrB,EAAP2c,IACAvtB,mBAASoyD,IAJE,mBAI5BxxC,EAJ4B,KAItBiyC,EAJsB,KAiBnC,OAXIT,GACF/+D,QAAQC,IAAI,kBAAmB8+D,GAIjCjyD,qBAAU,WACJiyD,GACFS,GAAQ,KAET,CAACT,IAGF,kBAAC,IAAD,CACEnhB,QAAS,IACTpD,QAAS,WACPglB,GAAQ,GACRh3B,EAAgB,OAElBjb,KAAMA,EACNltB,QAASF,yBAAe,kB,8EC3BxBs/D,EAAYt/D,yBAAe,wBAqClBu/D,IAnCG,SAACpzD,GAAU,IACnBmR,EAAmBnR,EAAnBmR,eACFna,EAAQsM,kBAAO,GAFM,EAGHjD,oBAAS,GAHN,mBAGpB4gB,EAHoB,KAGdiyC,EAHc,KAe3B,OAVA1yD,qBAAU,WACJ2Q,GAAqC,QAAnBA,EACpBna,EAAMoL,QAAU,SACN+O,GAAoC,WAAlBna,EAAMoL,UAClC8wD,GAAQ,GACRl8D,EAAMoL,QAAU,KAChByB,YAAW,WAAOqvD,GAAQ,KAAS,QAEpC,CAAC/hD,IAEC8P,EAIH,yBACE/qB,MAAO,CACLkB,SAAU,WACVI,OAAQ,OACRqO,MAAO,OACPrL,gBAAiBzH,SAAO+N,SACxBpG,QAAQ,oBACRC,aAAa,MACbgG,OAAO,SAGT,0BAAMzK,MAAK,2BAAMlD,QAAMiR,QAAZ,IAAoBhK,MAAMlH,SAAOwH,SAAS44D,IAdhD,O,6JCqGIE,IAvFc,SAACrzD,GAAU,YAC9BpD,EAAkCoD,EAAlCpD,YAD8B,EACIoD,EAArBwO,oBADiB,MACF,EADE,EAEhCyC,EAAUC,qBAAW9c,iBAEnBw5B,EAA8B3c,EAA9B2c,IAAK8C,EAAyBzf,EAAzByf,qBAJyB,EAKErwB,mBAASmO,GALX,mBAK/B8kD,EAL+B,KAKjBC,EALiB,OAMJlzD,qBANI,mBAM/B8a,EAN+B,KAMpBq4C,EANoB,KAQhCC,EAAc,uCAAG,oCAAA57D,EAAA,sEACE+1B,EAAI6P,aAnChB,gXAkCU,OACfxoB,EADe,OAEf22B,EAAY32B,aAFG,YAEHA,EAAUhmB,YAFP,aAEH,EAAgB28C,WAC5BzwB,EAAYywB,aAHG,EAGHA,EAAW+Q,QAAQ/kD,KAAI,SAAAxG,GACvC,OAAOA,EAAEqgC,WAAW75B,KAAI,SAAApG,GAAC,kCAASA,GAAT,IAAY4K,SAAUhL,EAAE8I,WAChDuc,OAAOha,MAAK,SAAAjL,GAAC,OAAIA,EAAE0I,KAAO0C,MACnB/C,YAAV,UAAwB+xC,EAAU+Q,QAAQlgD,MAAK,SAAArL,GAAC,OAAIA,EAAE8I,KAAOihB,EAAU/e,mBAAvE,aAAwB,EAA0DvC,YAAY4C,MAAK,SAAAzC,GAAC,OAAIA,EAAE4iD,WAC1G4W,EAAar4C,GAPQ,2CAAH,qDAcpB,GAJA3a,qBAAU,WACRizD,MACC,CAAC72D,KAECue,GAAkC,IAArBA,EAAU1rB,OAC1B,OACE,yBAAKyG,MAAO,CAACmF,QAAQ,OAAQF,WAAW,SAAUC,eAAe,SAAUjF,OAAO,QAASmX,OAAO,cAClG,kBAAC,IAAD,OAIJ,IAAMiB,EAAS4M,aAAH,YAAGA,EAAWthB,mBAAd,uBAAG,EAAwBE,cAA3B,aAAG,EAAgCnC,KAAI,SAACoC,EAAGzK,GAAJ,MAAW,CAC5D2K,GAAIF,EAAEE,GACNpG,MAAOkG,EAAElG,MACTmG,MAAOD,EAAEC,MACTlI,MAAOxC,EACP+B,KAAM0I,EAAE1I,SAGV,OACE,yBACE4E,MAAO,CACLE,MAAO,QACPoE,gBAAiBzH,SAAO+X,KACxBnQ,aAAc,OACdD,QAAS,sBACT2+C,UAAW,aAAF,OAAetmD,SAAOsY,iBAC/BhQ,QAAS,OACTjE,SAAU,aAGZ,yBAAKlB,MAAO,CAAEoX,OAAQ,gBAAiBlX,MAAO,SAC5C,0BAAMF,MAAK,2BACNlD,IAAM+e,OADA,IAETlE,WAAY,SACZzX,MAAO,MACPgB,SAAU,WACV6L,IAAK,OACL1L,KAAM,OACNoW,SAAU,SACVC,aAAc,cACZ/Z,yBAAe,sBATnB,IAS2CsnB,EAAU7pB,MACrD,kBAAC,IAAD,CACEkd,aAAcA,EACdE,aAAa,EACbH,OAAQA,EACRhJ,SAAU,SAACnU,GACTmiE,EAAgBhlD,EAAOnd,GAAG8I,OAG9B,yBACEhE,MAAO,CAAEiP,UAAW,OAAQhP,OAAQ,QAASwX,SAAU,UACvDG,wBAAyB,CACvBC,OAAQoN,aAAF,YAAEA,EAAWu4C,6BAAb,uBAAE,EAAkCj3D,MAAK,SAAAsgD,GAAC,OAAIA,EAAEjvB,WAAawlC,YAA7D,aAAE,EAA0E7gC,gBAIxF,kBAAC,IAAD,CACEvyB,QAAS,kBAAMwwB,GAAqB,IACpCx6B,MAAO,CACLkB,SAAU,WACVyO,MAAO,OACP5C,IAAK,c,6BCpHf,sDAASmO,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAIC,EAAoB,gBAAoB,OAAQ,CAClDjgB,EAAG,4GACHmgB,KAAM,YAGR,SAASmiD,EAAY3zD,GACnB,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDg/B,QAAS,6BACT1+B,MAAO,8BACN1R,GAAQsR,GAGE,K,uHCbMsiD,E,kDACnB,WAAY5zD,GAAO,kCACjB,cAAMA,IACD4tB,IAAM5tB,EAAM4tB,IAFA,E,8DAKD/vB,EAAOg2D,GACvB,IACEjsD,KAAKgmB,IAAIyR,SAASjF,YAAUC,MAAOrO,KAAKK,UAAU,CAACwnC,YAAWh2D,WAC9D,MAAOpK,GACPC,QAAQC,IAAI,UAAWF,M,+BAKzB,OAAOmU,KAAK5H,MAAMvC,a,GAfqBC,c,8LCarC4O,EAAgBvI,YAAW,CAC/BC,KAAM,CACJ/J,MAAOlH,SAAOsY,gBACdkB,YAAa,EACb3L,WAAY,OACZ,YAAa,CACX3G,MAAOlH,SAAO0H,OAEhB,qBAAsB,CACpB+R,SAAU,WAIdC,QAAS,IAbW1I,CAcnB2I,KAoPYonD,IAlPU,SAAC9zD,GAAU,IAEhC3G,EAIE2G,EAJF3G,aACA6e,EAGElY,EAHFkY,YACA4/B,EAEE93C,EAFF83C,SAJgC,EAM9B93C,EADF64C,uBALgC,SAO5B5nC,EAAUC,qBAAW9c,iBACpB2iD,EAAgC9lC,EAAhC8lC,wBAAyBnpB,EAAO3c,EAAP2c,IAC1BmmC,EAAa5yD,gCATe,EAUVd,oBAAS,GAVC,mBAU3Bu2B,EAV2B,KAUrBo9B,EAVqB,KAY5BC,EAAY3wD,iBAAO,CACvB,SACA,WACA,aACA,sBACA,sBAGIs6C,EAAI,uCAAG,4BAAA/lD,EAAA,6DACLq8D,EAAUh8C,EAAYtgB,KAAI,SAACC,GAAD,mBAAC,eAC5BA,GAD2B,IAE9B+qB,mBAAoBqxC,EAAU7xD,QAAQ3F,MAAK,SAAC5L,GAAD,MAAa,WAANA,KAClD2xB,qBAAsByxC,EAAU7xD,QAAQ3F,MAAK,SAAC5L,GAAD,MAAa,aAANA,KACpDkyB,kBAAmBkxC,EAAU7xD,QAAQ3F,MAAK,SAAC5L,GAAD,MAAa,eAANA,KACjDiM,qBAAsBjF,EAAEiF,qBAAqBlF,KAAI,SAACw6B,GAAD,mBAAC,eAC7CA,GAD4C,IAE/CrP,kBAAmBkxC,EAAU7xD,QAAQ3F,MACnC,SAAC5L,GAAD,MAAa,wBAANA,KAET2xB,qBAAsByxC,EAAU7xD,QAAQ3F,MACtC,SAAC5L,GAAD,MAAa,sBAANA,eAZF,SAiBL+8B,EAAI1O,2BAA2Bg1C,GAjB1B,uBAkBLtmC,EAAI+D,8BACRuiC,EAAQt8D,KAAI,SAACC,GAAD,OAAOA,EAAEiF,wBAAsB2Z,QAnBlC,OAqBXsgC,EAAwB,MACxBe,IAtBW,2CAAH,qDAyBVt3C,qBAAU,WACR,sBAAC,4BAAA3I,EAAA,sEACuBuB,4CAAkCC,GADzD,QACOC,EADP,SAE4B,KAAZA,GACb26D,EAAU7xD,QAAU9I,EACpBskD,IACA7G,EAAwB,OAExBid,GAAQ,GAPX,0CAAD,KAUC,IAEH,IAAMnnD,EAAU,SAACJ,EAAS3H,GAEtBmvD,EAAU7xD,QADRqK,EACF,sBAAwBwnD,EAAU7xD,SAAlC,CAA2C0C,IAEvBmvD,EAAU7xD,QAAQ7F,QAAO,SAAC1L,GAAD,OAAOA,IAAMiU,MAKxDqvD,EAAY,SAAC7vD,EAAMpK,GAAmB,IAAfhE,EAAe,uDAAP,GAiBnC,OACE,kBAAC,IAAD,CACEgE,GAAIA,EACJoK,KAAMzQ,yBAAeyQ,GACrBuI,QAAS,SAACJ,GACRI,EAAQJ,EAASvS,IAEnBuS,QAASwnD,EAAU7xD,QAAQ3F,MAAK,SAAC5L,GAAD,OAAOA,IAAMqJ,KAC7ChE,MAAK,2BAAMA,GAAN,IAAa0K,WAAY,WAKpC,IAAKg2B,EACH,OAAO,KAIT,OACE,yBACE1gC,MAAO,CACLkB,SAAU,WACVG,KAA0B,IAAnBw8D,EAAW39D,MAClByP,MAAO,EACPrO,OAAQ,EACRyL,IAAK,EACLzI,gBAAiBzH,SAAOkZ,OACxB5Q,QAAS,OACTF,WAAY,SACZC,eAAgB,SAChBkS,OAAQ,gBACR3M,OAAQ,SAGV,yBACEzK,MAAO,CACLsE,gBAAiBzH,SAAOwH,MACxBnE,MApBa,IAsBbkX,OAAQ,YACR3S,aAAc,QAIhB,yBACEzE,MAAO,CACLwE,QAAS,OACTk0C,aAAc,aAAF,OAAe77C,SAAOqH,aAClCiB,QAAS,OACT+J,cAAe,WAGjB,yBAAKlP,MAAO,CAACgP,aAAc,SACzB,kBAAC,IAAD,CAAUsM,KAAMze,SAAO0H,MAAOvE,MAAO,KACrC,0BACEA,MAAK,2BACAlD,QAAM8e,QADN,IAEHiQ,WAAY,MACZnhB,WAAY,UAGb/M,yBACC,8DAIN,0BAAMqC,MAAK,eAAMlD,QAAM+e,QACpBle,yBACC,+DAIN,yBACEqC,MAAO,CACLwE,QAAS,wBAGX,0BAAMxE,MAAK,eAAMlD,QAAMiR,SACpBpQ,yBACC,kEAGHsgE,EACC,kEACA,SACA,CAAChvD,UAAW,SAEbgvD,EACC,2EACA,YAGDA,EACC,gFACA,cAGDA,EACC,sEACA,uBAGDA,EACC,wFACA,sBAGAtb,GACA,yBACE3iD,MAAO,CACLmF,QAAS,OACTF,WAAY,SACZC,eAAgB,gBAChB+J,UAAW,QAGb,0BAAMjP,MAAK,eAAMlD,QAAMiR,SACpBpQ,yBACC,4DAGJ,kBAACyY,EAAD,CACE/G,SAAU,SAAC9R,GACT8F,4CACEF,EACA5F,EAAEgS,OAAOgH,QAAUwnD,EAAU7xD,QAAU,SAOnD,yBACElM,MAAO,CACLwE,QAAS,OACTW,QAAS,OACTD,eAAgB,aAIlB,kBAAC,IAAD,CACEoC,MAAO3J,yBAAe,mEACtBqM,QAAS,WACP62C,EAAwB,MACxBe,OAGJ,kBAAC,IAAD,CACEjoB,UAAQ,EACRryB,MAAO3J,yBAAe,oEACtBqM,QAAS09C,S,uECrONwW,IAlCG,SAACp0D,GAAU,IACnBsE,EAAkBtE,EAAlBsE,KAAMU,EAAYhF,EAAZgF,QADa,EAEH3E,oBAAS,GAFN,mBAEpB4gB,EAFoB,KAEdiyC,EAFc,KAc3B,OAVA1yD,qBAAU,WACJ8D,IACF4uD,GAAQ,GACRrvD,YAAW,WACTqvD,GAAQ,GACRluD,EAAQ,QACP,QAEJ,CAACV,IAEC2c,EAIH,yBACE/qB,MAAO,CACLkB,SAAU,WACVI,OAAQ,OACRqO,MAAO,OACPrL,gBAAiBzH,SAAO+N,SACxBpG,QAAS,oBACTC,aAAc,MACdgG,OAAQ,SAGV,0BAAMzK,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBhK,MAAOlH,SAAOwH,SAAU+J,IAdnD,O,sICZLyuD,EAASt+D,EAAQC,IAAIC,qBAAuB,2HAAnC,6BAAsLK,OAAOQ,QAAQ0E,GAArM,wBA8FAm6D,IA7Fa,WAAM,MACRh0D,qBADQ,mBACzBu2B,EADyB,KACnBo9B,EADmB,KAE1BhoB,EAAoB1oC,mBAEpB6pC,EAAc,uCAAG,sBAAAt1C,EAAA,sDACrB7C,OAAOC,QAAQC,KAAKvD,IAClB,CAAC,iBADH,uCAEE,WAAOk7C,GAAP,eAAAh1C,EAAA,uDACMg1C,aAAJ,EAAIA,EAAQhR,iBACJr+B,EAAQqvC,EAAOhR,cACrBm4B,EAAQx2D,GACRxI,OAAOC,QAAQC,KAAKG,IAAI,CAACwmC,cAAe,KAJ5C,2CAFF,uDADqB,2CAAH,qDAaduR,EAAe,uCAAG,WAAOP,GAAP,mBAAAh1C,EAAA,yDAChBw1C,EAAU39C,OAAOymB,KAAK02B,GAAQj1C,KAAI,SAACvF,GACvC,IAAMw/B,EAAM,GAEZ,OADAA,EAAIx/B,GAAOw6C,EAAOx6C,GAAKi7C,SAChBzb,KAJa,cAMAwb,EANA,IAMfE,EANe,QAOFvB,EAAkB5pC,QAPhB,uBAQpB4pC,EAAkB5pC,QAAUmrC,EARR,SASdJ,EAAeI,GATD,2CAAH,sDAwBrB,OAXA/sC,qBAAU,WACR,IAAK/L,EAAQC,IAAIC,qBAEf,OADAK,OAAOC,QAAQy4C,UAAUC,YAAYP,GAC9B,WACA34C,EAAQC,IAAIC,sBACfK,OAAOC,QAAQy4C,UAAUE,eAAeR,MAI7C,IAEExW,EAIH,yBAAK1gC,MAAO,CACVkB,SAAU,QACV6L,IAAK,MACL4C,MAAO,MACPzP,MAAO,QACPoE,gBAAiBzH,SAAO4X,QACxBhQ,aAAc,MACdoG,OAAQ,OACRJ,OAAQ,SACRoF,UAAW,iCAEX,yBAAK7P,MAAO,CAACmF,QAAS,OAAQX,QAAS,OAAQS,WAAY,WACzD,yBAAKqE,IAAKuzD,EAAQ78D,MAAO,CACvBE,MAAO,OAAQD,OAAQ,OAAQqE,gBAAiBzH,SAAOwH,MAAOG,QAAS,MAAOC,aAAc,UAE9F,yBAAKzE,MAAO,CAACmF,QAAS,OAAQ+J,cAAe,SAAUxE,WAAY,SACjE,0BAAM1K,MAAK,2BAAMlD,QAAM+e,OAAZ,IAAmBgQ,WAAY,SACvCluB,yBAAe,qCAChB,0BAAMqC,MAAK,2BAAMlD,QAAM+e,OAAZ,IAAmBgQ,WAAY,SAAS6U,GAClD/iC,yBAAe,yCAItB,yBAAKqC,MAAO,CAACmjD,UAAW,aAAetmD,SAAOwY,gBAAiBnV,MAAO,OAAQ2K,OAAQ,uBACtF,yBACE7K,MAAO,CACLgP,aAAc,OACd7J,QAAS,OACTD,eAAgB,aAElB,kBAAC,IAAD,CACEoC,MAAO3J,yBAAe,4CACtBqM,QAAS,WACPlL,OAAOC,QAAQC,KAAKG,IAAI,CAAC,wBAA2BuhC,IAAO,kBAAMljC,QAAQC,IAAI,0BAA2BijC,MACxGo9B,GAAQ,MAGZ,kBAAC,IAAD,CACEx2D,MAAO3J,yBAAe,UACtBqM,QAAS,WACPlL,OAAOC,QAAQC,KAAKG,IAAI,CAAC,qBAAwBuhC,IAAO,kBAAMljC,QAAQC,IAAI,uBAAwBijC,MAClGo9B,GAAQ,QA5CT,Q,+KCyBIM,EAjEW,SAACt0D,GAAU,IAC5BuwC,EAAkDvwC,EAAlDuwC,WAAYE,EAAsCzwC,EAAtCywC,WAAY8jB,EAA0Bv0D,EAA1Bu0D,aAAchd,EAAYv3C,EAAZu3C,SAC7C,OACE,yBACErhD,MAAO,CACLkB,SAAU,WACVhB,MAAO,OACPD,OAAQ,OACRkF,QAAS,OACTb,gBAAiBzH,SAAO2Y,eACxB4B,OAAQ,iBACRnS,WAAY,SACZT,QAAS,sBAGX,kBAAC0lB,EAAA,EAAD,CACElqB,MAAO,CACLwK,OAAQ,UACRzG,MAAOlH,SAAOwH,MACdpE,OAAQ,OACRgP,UAAW,MACXvK,YAAa,OAEfsF,QAAS,kBAAMqwC,OAEjB,uBACEr6C,MAAK,2BACAlD,QAAM+e,OADN,IAEH9X,MAAOlH,SAAOwH,MACdqG,WAAY,OACZmhB,WAAY,SAGbluB,yBAAe,0BAEjB0gE,GACD,yBAAKr0D,QAASuwC,EACTv6C,MAAO,CACLkB,SAAU,WAAY6L,IAAK,OAAQ4C,MAAO,OAAQnF,OAAQ,YAE/D,kBAAC,IAAD,CAASlD,MAAO+5C,EAAS1jD,yBAAe,uBAAuBA,yBAAe,wBAC5E,8BACI0jD,GACF,kBAAC,IAAD,CAAU/lC,KAAMze,SAAOwH,QAEtBg9C,GACC,kBAAC,IAAD,SAMR,yBACErhD,MAAO,CACLkB,SAAU,WACVI,OAAQ,EACRD,KAAM,EACNsO,MAAO,IAGT,kBAACgL,EAAA,EAAD,CAAgBG,MAAI,Q,mBCHbwjD,EA9DK,SAACx0D,GAAU,IAE3B6jC,EACE7jC,EADF6jC,QAAS4wB,EACPz0D,EADOy0D,eAAgBv+D,EACvB8J,EADuB9J,MAAOmrB,EAC9BrhB,EAD8BqhB,SAFL,EAIKhhB,oBAAS,GAJd,mBAItBm0C,EAJsB,KAIXF,EAJW,KAcvBogB,EAAYrzC,EAAWtuB,SAAOqH,YAAc,cAElD,OACA,yBAAKlE,MAAO,CAAEkB,SAAU,WAAYjB,OAAQ,SAC1C,kBAACijD,EAAA,EAAD,CACEzG,aAAW,EACXzyC,QAASu0D,EACTpiE,IAAKwxC,EAAQ3pC,GACbmL,aAhBqB,WACvBivC,GAAa,IAgBXhvC,aAbuB,WACzBgvC,GAAa,IAaXp+C,MAAK,aACHE,MAAO,OACPD,OAAQ,OACRy4C,aAAc,aAAF,OAAe77C,SAAOqH,aAClCI,gBAAiBg6C,EAAYzhD,SAAO+X,KAAO4pD,EAC3Ct5D,eAAgB,aAChBmR,YAAa,QACVrW,IAGL,yBACEA,MAAO,CACLE,MAAO,OACPD,OAAQ,OACRwE,aAAc,OACdgT,SAAU,SACV/S,YAAa,SAGf,yBAAK1E,MAAO,CAAEE,MAAO,QAAUoJ,IAAKqkC,EAAQlX,aAE9C,kBAACpvB,EAAA,EAAD,CAASC,MAAOqmC,EAAQ3pB,OACxB,0BACEhkB,MAAK,2BACAlD,QAAMiR,QADN,IAEH7N,MAAO,QACPuX,SAAU,SACVC,aAAc,WACdC,WAAY,SACZ+kC,UAAW,WAGZ/O,EAAQ7rC,WAVX,IAUwB6rC,EAAQ3rC,e,gBCxDhCy8D,EAAa,2BACd3hE,QAAMiR,QADK,IAEdhK,MAAOlH,SAAOsY,kBA2CDupD,EAxCI,SAAC50D,GAAU,IAE1B60D,EACE70D,EADF60D,SAAUC,EACR90D,EADQ80D,cAAex8B,EACvBt4B,EADuBs4B,OAAQp4B,EAC/BF,EAD+BE,QAFP,EAKIG,oBAAS,GALb,mBAKrBghB,EALqB,KAKX0zC,EALW,KAO5B,OACE,yBACE1vD,aAAc,kBAAM0vD,GAAY,IAChCzvD,aAAc,kBAAMyvD,GAAY,IAChC7+D,MAAO,CACLmF,QAAS,OACT+J,cAAe,SACfkI,OAAQ,aAAF,OAAeva,SAAOqH,aAC5BM,QAAS,OACTqG,OAAQ,MACRL,OAAQ,UACRlG,gBAAiB6mB,EAAWtuB,SAAO+X,KAAO/X,SAAOwH,OAEnD2F,QAASA,GAET,0BAAMhK,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqB8d,WAAY,MAAO7c,aAAc,SAC9DozB,EAAOhnC,MAEV,0BAAM4E,MAAOy+D,GAAb,OAA8Br8B,EAAOlc,MACrC,0BAAMlmB,MAAOy+D,GACV9gE,yBAAe,aADlB,KACkCihE,GAElC,6BACE,0BAAM5+D,MAAOy+D,GAAa9gE,yBAAe,WAAzC,MACCghE,aAFH,EAEGA,EAAUj9D,KAAI,SAAC5F,GAAD,OACb,0BAAMK,IAAKL,EAAEkI,GAAIhE,MAAOy+D,GACrB3iE,EAAEgG,WADL,IACkBhG,EAAEkG,UAAW,WCsB1B88D,G,OAvCK,SAACh1D,GAAU,MACrB6jC,EAA8B7jC,EAA9B6jC,QAASoxB,EAAqBj1D,EAArBi1D,iBADY,EAEK50D,mBAAS,IAFd,mBAEtBurC,EAFsB,KAEXC,EAFW,OAGCxrC,oBAAS,GAHV,mBAGtB4rC,EAHsB,KAGbC,EAHa,KAKrBte,EADQ1c,qBAAW9c,iBACnBw5B,IAEFsnC,EAAW,uCAAG,8BAAAr9D,EAAA,6DAClBq0C,GAAW,GADO,SAEKte,EAAI6P,aA1BhB,gKA0BqCoG,EAAQ3pC,IAFtC,OAEZ+a,EAFY,OAGlB42B,EAAa52B,aAAD,YAACA,EAAUhmB,YAAX,aAAC,EAAgB28C,WAC7BM,GAAW,GAJO,2CAAH,qDAejB,OARA1rC,qBAAU,WACR00D,MACC,IAEH10D,qBAAU,WACR00D,MACC,CAACrxB,IAEAoI,EACK,KAIP,yBAAK/1C,MAAO,CAAEwE,QAAS,OAAQW,QAAQ,OAAQjF,MAAM,OAAQgP,cAAc,WACzE,0BAAMlP,MAAK,eAAOlD,QAAM+e,QAAxB,UAAqCle,yBAAe,aAApD,YACE+3C,EAAUt6C,OAEZ,kBAAC,IAAD,CAAM4E,MAAO,CAAEiP,UAAW,SACvBymC,aADH,YACGA,EAAW+Q,eADd,aACG,EAAoB/kD,KAAI,SAACxG,GAAD,OACvB,kBAAC,EAAD,CAAYknC,OAAQlnC,EAAGiB,IAAKjB,EAAE8I,GAAI26D,SAAUjpB,aAAF,EAAEA,EAAWipB,SAAUC,cAAelpB,EAAUt6C,KAAM4O,QAAS,kBAAM+0D,EAAiB7jE,a,oBCI3H+jE,EAzDe,SAACn1D,GAAU,IAErCo1D,EACEp1D,EADFo1D,YAAaz8B,EACX34B,EADW24B,WAAY08B,EACvBr1D,EADuBq1D,OAAQnnB,EAC/BluC,EAD+BkuC,QAAS4mB,EACxC90D,EADwC80D,cAAe/7B,EACvD/4B,EADuD+4B,cAErD4e,EAAMx2C,gCAEZ,OACE,yBACEjL,MAAO,CACLC,OAAQ,OACRC,MAAOuhD,EAAIvhD,MAAQ,IACnBoE,gBAAiBzH,SAAO2Y,eACxBvQ,WAAY,SACZE,QAAS,OACT02C,UAAW,OACXr3C,QAAS,kBACTtD,SAAU,UAGXi+D,GACC,kBAAChiB,EAAA,EAAD,CACEn9C,MAAO,CACLwK,OAAQ,UACRzG,MAAOlH,SAAOwH,MACdpE,OAAQ,OACRyK,WAAY,QAEdV,QAASm1D,KAGXA,GACG,kBAAC5b,EAAA,EAAD,CACDvjD,MAAO,CACLwK,OAAQ,UACRzG,MAAOlH,SAAOwH,MACdpE,OAAQ,OACRyK,WAAY,QAEhBV,QAASguC,IAEX,yBAAKh4C,MAAO,CACVkB,SAAU,WAAYG,KAAM,OAAQ8D,QAAS,OAAQF,WAAY,WAEjE,0BAAMjF,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBhK,MAAOlH,SAAOwH,SAAUu6D,GACzDn8B,GACE,oCACD,kBAAC0a,EAAA,EAAD,CAAWn9C,MAAO,CAAE+D,MAAOlH,SAAOwH,MAAO0lB,UAAW,iBAAkB9pB,OAAQ,UAC9E,0BAAMD,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBhK,MAAOlH,SAAOwH,SAAUo+B,GACxD,kBAAC0a,EAAA,EAAD,CAAWn9C,MAAO,CAAE+D,MAAOlH,SAAOwH,MAAO0lB,UAAW,iBAAkB9pB,OAAQ,UAC9E,0BAAMD,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBhK,MAAOlH,SAAOwH,SAAU66D,GACxD,kBAAC/hB,EAAA,EAAD,CAAWn9C,MAAO,CAAE+D,MAAO8+B,EAAgBhmC,SAAOwH,MAAQ,cAAe0lB,UAAW,iBAAkB9pB,OAAQ,UAC9G,0BAAMD,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBhK,MAAOlH,SAAOwH,SAAUw+B,O,mCC/C1Du8B,EAAkB,SAAC1wD,GAAD,mBAAC,eACpBA,GADmB,IAEtB2d,SAAU,KACVqM,mBAAoB,KACpBpM,oBAAoB,EACpB+yC,WAAY,KACZC,cAAe,KACfC,UAAW,KACX3nC,SAAU,KACVO,gBAAiB,KACjBtL,iBAAiB,EACjBE,aAAc,KACd4L,uBAAwB,KACxBgQ,gBAAiB,KACjB62B,uBAAwB,KACxBzuB,wBAAwB,KAoJX0uB,EAhJc,SAAC31D,GAAU,UAC/B4E,EAA4C5E,EAA5C4E,WAAY+oB,EAAgC3tB,EAAhC2tB,OAAQ3V,EAAwBhY,EAAxBgY,UAAWnY,EAAaG,EAAbH,UAE/B+tB,EADS1c,qBAAW9c,iBACpBw5B,IACD2qB,EAAoBj1C,iBAAOsB,GAJK,EAKPqK,sBAAW,SAACvM,GAAD,OAAOA,EAAI,IAAG,GALlB,mBAKtBwM,GALsB,WAOtC1O,qBAAU,WACR+3C,EAAkBn2C,QAAUvC,EAAYy1D,EAAgB1wD,GAAcA,EACtEsK,MACC,CAACtK,EAAYoT,IAEhBxX,qBAAU,WACR+3C,EAAkBn2C,QAAUvC,EACxBy1D,EAAgB1wD,GAChBA,EACJsK,MACC,CAACrP,IAEJ,IAAM+1D,EAAuB3nC,mBAAQ,kBAAMC,IAAQ,uCAAC,WAAON,EAAKhpB,EAAY+oB,GAAxB,SAAA91B,EAAA,sEAC5C+1B,EAAI+Q,wBAAwB,CAAC/5B,IADe,OAE9C+oB,GACFA,IAHgD,2CAAD,0DAKhD,OAAO,CAAC/oB,aAAD,EAACA,EAAY1K,KAEjB27D,EAAqBj8D,+BAAoB,UAC7C2+C,EAAkBn2C,eAD2B,uBAC7C,EAA2BvI,mBADkB,aAC7C,EAAwC4C,MAAK,SAACzC,GAAD,OAAOA,EAAE87D,aAGlDtnD,EAAeqnD,EAAmBxmC,WACtC,SAACr1B,GAAD,OAAOA,EAAEE,KAAOq+C,EAAkBn2C,QAAQ0rB,YAGtCioC,EAAqBF,EAAmBxmC,WAC5C,SAACr1B,GAAD,OAAOA,EAAEE,KAAOq+C,EAAkBn2C,QAAQy8B,mBAGtC+e,EAAO,WACN/9C,EAGH8tB,EAAO4qB,EAAkBn2C,SAFzBwzD,EAAqBhoC,EAAK2qB,EAAkBn2C,QAASurB,IAMzD,OACE,6BACE,0BACEz3B,MAAK,2BACAlD,QAAM+e,OADN,IAEH9X,MAAOlH,SAAO2Y,eACd9K,WAAY,UAGb/M,yBAAe,+BAElB,kBAAC,IAAD,CAAMqC,MAAO,CAACiP,UAAW,SACvB,0BAAMjP,MAAK,eAAMlD,QAAMiR,SACpBpQ,yBAAe,qBAElB,kBAAC,IAAD,CACEqG,GAAI8d,EACJzJ,OAAQsnD,EACRrnD,aAAcA,EAAe,EAAI,EAAIA,EACrCjJ,SAAU,SAACiqB,GACT+oB,EAAkBn2C,QAAQ0rB,SAAW+nC,EAAmBrmC,GAAOt1B,IAEjEkD,UAAWm7C,aAAF,YAAEA,EAAmBn2C,eAArB,aAAE,EAA4B2gB,gBACvCpe,UAAW,SAAC3N,GACVuhD,EAAkBn2C,QAAQ2gB,gBAAkB/rB,EAC5C4mD,KAEFnvC,SAAUnW,0BAAgBigD,EAAkBn2C,QAAQisB,iBACpD1f,eAAgB,WACdivC,KAEF/9C,UAAWA,IAEb,0BAAM3J,MAAK,eAAMlD,QAAMiR,SACpBpQ,yBAAe,mCAElB,kBAAC,IAAD,CACEqG,GAAI8d,EACJzJ,OAAQsnD,EACRrnD,aAAcunD,EAAqB,EAAI,EAAIA,EAC3CxwD,SAAU,SAACiqB,GACT+oB,EAAkBn2C,QAAQy8B,gBACxBg3B,EAAmBrmC,GAAOt1B,IAE9BkD,UAAWm7C,EAAkBn2C,QAAQ6kC,uBACrCtiC,UAAW,SAAC3N,GACVuhD,EAAkBn2C,QAAQ6kC,uBAAyBjwC,EACnD4mD,KAEFnvC,SAAUnW,0BAAgBigD,EAAkBn2C,QAAQisB,iBACpD1f,eAAgB,WACdivC,KAEF3jD,MAAOlH,SAAO4Y,eACd9L,UAAWA,IAGb,kBAAC,IAAD,CACEyE,KAAMi0C,EAAkBn2C,QAAQmgB,SAChChe,YAAa1Q,yBAAe,uBAC5B4Q,aAAc,SAACH,GACbi0C,EAAkBn2C,QAAQmgB,SAAWje,EACrCs5C,KAEFxgD,UAAWm7C,EAAkBn2C,QAAQogB,mBACrC7d,UAAW,SAACzK,EAAInI,GACdwmD,EAAkBn2C,QAAQogB,mBAAqBzwB,EAC/C6rD,KAEF1jD,GAAIq+C,EAAkBn2C,QAAQlI,GAC9B0K,WAAY2zC,EAAkBn2C,QAC9ByC,WAAYvM,0BACVigD,EAAkBn2C,QAAQwsB,oBAE5B7pB,YAAalF,EAAYhM,yBAAe,0BAA4B,GACpEgM,UAAWA,IAEb,kBAAC,IAAD,CACEyE,KAAMi0C,EAAkBn2C,QAAQ6gB,aAChC1e,YAAa1Q,yBAAe,2BAC5B4Q,aAAc,SAACH,GACbi0C,EAAkBn2C,QAAQ6gB,aAAe3e,EACzCs5C,KAEF1jD,GAAIq+C,EAAkBn2C,QAAQlI,GAC9B0K,WAAY2zC,EAAkBn2C,QAC9ByC,WAAYvM,0BACVigD,EAAkBn2C,QAAQysB,wBAE5BrqB,SAAO,EACPO,YAAalF,EAAYhM,yBAAe,0BAA4B,GACpEgM,UAAWA,OCrKrB,SAASuR,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAI,EAAoB,gBAAoB,OAAQ,CAClDhgB,EAAG,2TACHkgB,SAAU,YAGZ,SAASykD,EAAah2D,GACpB,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDjb,OAAQ,GACRC,MAAO,GACPsb,MAAO,8BACN1R,GAAQ,GAGE,ICjBf,SAAS,IAA2Q,OAA9P,EAAWtQ,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAI,EAAoB,gBAAoB,OAAQ,CAClDhgB,EAAG,0LACHkgB,SAAU,YAGZ,SAAS0kD,EAAcj2D,GACrB,OAAoB,gBAAoB,MAAO,EAAS,CACtD7J,OAAQ,GACRC,MAAO,GACPsb,MAAO,8BACN1R,GAAQ,GAGE,ICjBf,SAAS,IAA2Q,OAA9P,EAAWtQ,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAI,EAAoB,gBAAoB,OAAQ,CAClDhgB,EAAG,yRACHkgB,SAAU,YAGZ,SAAS2kD,EAAWl2D,GAClB,OAAoB,gBAAoB,MAAO,EAAS,CACtD7J,OAAQ,GACRC,MAAO,GACPsb,MAAO,8BACN1R,GAAQ,GAGE,Q,kBCbT9J,EAAQ,CACZigE,aAAc,CACZ96D,QAAS,OACTjF,MAAO,QACPD,OAAQ,OACRwE,aAAc,MACd+F,OAAQ,UACRlG,gBAAiBzH,SAAOgZ,SACxB5Q,WAAY,SACZC,eAAgB,SAChBR,YAAa,OACbuK,UAAW,QAgCAixD,EA1BS,SAACp2D,GAAU,IAC1BjO,EAAmFiO,EAAnFjO,MAAOskE,EAA4Er2D,EAA5Eq2D,WAAYpgE,EAAgE+J,EAAhE/J,OAAQqqB,EAAwDtgB,EAAxDsgB,KAAMg2C,EAAkDt2D,EAAlDs2D,cAAer8D,EAAmC+F,EAAnC/F,MAAO4F,EAA4BG,EAA5BH,UAAW02D,EAAiBv2D,EAAjBu2D,cADxC,EAEDl2D,oBAAS,GAFR,mBAE1BghB,EAF0B,KAEhB0zC,EAFgB,KAGjC,OACE,yBAAK7+D,MAAO,CAAEmF,QAAS,SACpBwE,GAAa,kBAACy2C,EAAA,EAAD,CAAO7pC,QAAS8pD,EAAer2D,QAAS,WACpDm2D,EAAW,2BAAKpgE,GAAN,IAAcA,OAAQlE,QAElC,yBACEmO,QAAS,WACPm2D,EAAW,2BAAKpgE,GAAN,IAAcA,OAAQlE,MAElCsT,aAAc,kBAAM0vD,GAAY,IAChCzvD,aAAc,kBAAMyvD,EAAY,OAChC7+D,MAAK,2BACAA,EAAMigE,cADN,IAEH37D,gBACE6mB,EAAWi1C,EAAgBr8D,KAG9BqmB,KC9BHpqB,EAAQ,CACZigE,aAAc,CACZ96D,QAAS,OACTjF,MAAO,QACPD,OAAQ,OACRwE,aAAc,MACd+F,OAAQ,UACRlG,gBAAiBzH,SAAOgZ,SACxB5Q,WAAY,SACZC,eAAgB,SAChBR,YAAa,OACbuK,UAAW,QAGTqxD,EAAW,SAACvgE,GAChB,IAAKA,EACH,MAAO,cAET,OAAQA,GACN,IAAK,KACH,OAAOlD,SAAOgZ,SAChB,IAAK,KACH,OAAOhZ,SAAO4X,QAChB,IAAK,KACH,OAAO5X,SAAO2I,IAChB,QACE,MAAO,gBA2LE+6D,EAvKS,SAACz2D,GAAU,IAEvB02D,EAKN12D,EALF/J,OACA+hB,EAIEhY,EAJFgY,UACA5b,EAGE4D,EAHF5D,SACAyD,EAEEG,EAFFH,UAL+B,EAO7BG,EADFuF,gBAN+B,SASzBqoB,EADQ1c,qBAAW9c,iBACnBw5B,IATyB,EAULvtB,mBAASq2D,GAAiB,IAVrB,mBAU1BzgE,EAV0B,KAUlBogD,EAVkB,KAY3BuH,EAAO3vB,mBACX,kBACEC,IAAQ,uCAAC,WAAOj/B,EAAM2+B,GAAb,SAAA/1B,EAAA,sEACD+1B,EAAI+P,uBAAuB1uC,GAD1B,2CAAD,wDAEL,OACL,CAAC+oB,IAGHxX,qBAAU,WACR61C,EAAUx2C,EAAY,GAAK62D,KAC1B,CAACA,EAAe1+C,IAEnBxX,qBAAU,WACR61C,EAAUx2C,EAAY,GAAK62D,KAC1B,CAAC72D,IAEJ,IAAMw2D,EAAU,uCAAG,WAAOp5D,GAAP,eAAApF,EAAA,sDACXq8D,EADW,2BAEZj+D,GAFY,IAGfA,OAAQgH,EAAUhH,OAClBmpB,WAAYpH,EACZqE,UAAWjgB,EACXu6D,SAAUroC,KAAKC,QAEjB8nB,EAAU6d,GACLr0D,GACH+9C,EAAKsW,EAAStmC,GAEZroB,GACFA,EAAS2uD,GAbM,2CAAH,sDAiBVzlC,EAAO,uCAAG,WAAOrxB,GAAP,eAAAvF,EAAA,sDACRq8D,EADQ,2BAETj+D,GAFS,IAGZmpB,WAAYpH,EACZqE,UAAWjgB,EACXgB,UAAWA,IAERyC,IACH+9C,EAAKsW,EAAStmC,GACdyoB,EAAU6d,IAER3uD,GACFA,EAAS2uD,GAZG,2CAAH,sDAgBb,OACE,yBAAKh+D,MAAO,CAAEmF,QAAS,OAAQ+J,cAAe,YAC1CvF,GACA,yBAAK3J,MAAO,CAAEmF,QAAS,OAAQF,WAAY,WACzC,yBAAKjF,MAAO,CAAEmF,QAAS,OAAQjF,MAAO,UACpC,yBAAKF,MAAO,CAAEmF,QAAS,OAAQ+J,cAAe,WAC5C,0BAAMlP,MAAOlD,QAAMiR,QAChBpQ,yBAAe,wBAElB,0BAAMqC,MAAOlD,QAAMkR,OAChB5L,0BAAgBrC,aAAD,EAACA,EAAQ0gE,aAI/B,yBACEzgE,MAAK,2BACAA,EAAMigE,cADN,IAEHz1D,OAAQ,UACRlG,gBAAiBg8D,EAASvgE,aAAD,EAACA,EAAQA,QAClCqX,QAAQrX,aAAA,EAAAA,EAAQA,QACZ,EADI,oBAESlD,SAAOsY,oBAlGtB,SAACpV,GACf,IAAKA,EACH,OAAO,KAET,OAAQA,GACN,IAAK,KACH,OAAO,kBAAC,EAAD,MACT,IAAK,KACH,OAAO,kBAAC,EAAD,MACT,IAAK,KACH,OAAO,kBAAC,EAAD,MACT,QACE,OAAO,MAyFA2gE,CAAQ3gE,aAAD,EAACA,EAAQA,UAElBA,aAAA,EAAAA,EAAQA,SACP,kBAAC,IAAD,CACEmK,KAAM,GACNP,UAAWA,EACXzC,UAAWnH,aAAF,EAAEA,EAAQmH,UACnB8C,QAAS,SAACjK,GACRw4B,EAAQx4B,OAMjB4J,GACC,yBAAK3J,MAAO,CAAEmF,QAAS,OAAQF,WAAY,WACzC,0BAAMjF,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqB7N,MAAO,WACpCvC,yBAAe,eAElB,kBAAC,IAAD,CACEgM,UAAWA,EACXzC,UAAWnH,aAAF,EAAEA,EAAQmH,UACnB8C,QAAS,SAACjK,GACRw4B,EAAQx4B,OAKhB,yBAAKC,MAAO,CAAEmF,QAAS,OAAQ8J,UAAW,SACxC,0BACEjP,MAAK,2BACAlD,QAAMiR,QADN,IAEH7N,MAAO,QACPs5B,SAAU7vB,EAAY,QAAU,WAGjChM,yBAAe,oBAElB,yBACEqC,MAAO,CACLmF,QAAS,OAGTuF,WAAY,MACZ+xB,SAAU,SAGZ,kBAAC,EAAD,CACE5gC,MAAO,KACPwkE,cAAkC,QAAnBtgE,aAAA,EAAAA,EAAQA,QACvBogE,WAAYA,EACZx2D,UAAWA,EACX5J,OAAQA,EACRqqB,KAAM,kBAAC,EAAD,MACNg2C,cAAa,UAAKvjE,SAAOgZ,SAAZ,MACb9R,MAAOlH,SAAOgZ,WAEhB,kBAAC,EAAD,CACEha,MAAO,KACPwkE,cAAkC,QAAnBtgE,aAAA,EAAAA,EAAQA,QACvBogE,WAAYA,EACZx2D,UAAWA,EACX5J,OAAQA,EACRqqB,KAAM,kBAAC,EAAD,MACNg2C,cAAa,UAAKvjE,SAAO4X,QAAZ,MACb1Q,MAAOlH,SAAO4X,UAEhB,kBAAC,EAAD,CACE5Y,MAAO,KACPwkE,cAAkC,QAAnBtgE,aAAA,EAAAA,EAAQA,QACvBogE,WAAYA,EACZx2D,UAAWA,EACX5J,OAAQA,EACRqqB,KAAM,kBAAC,EAAD,MACNg2C,cAAa,UAAKvjE,SAAO2I,IAAZ,MACbzB,MAAOlH,SAAO2I,U,2BCtHX4D,mBAzFkB,SAACU,GAAU,QAUtCA,EARF62D,iBAAkBC,OAFsB,MAEI,GAFJ,EAGxCC,EAOE/2D,EAPF+2D,0BACA/+C,EAMEhY,EANFgY,UACA5b,EAKE4D,EALF5D,SACAyD,EAIEG,EAJFH,UACAm3D,EAGEh3D,EAHFg3D,OAPwC,EAUtCh3D,EAFFuF,gBARwC,WAUtCvF,EADFi3D,2BATwC,MASlB,GATkB,EAYnCrpC,EADS1c,qBAAW9c,iBACpBw5B,IAZmC,EAcMvtB,mBAASy2D,GAdf,mBAcnCD,EAdmC,KAcjBK,EAdiB,KAgBpC/4B,EAAQ76B,iBAAO,IACf86B,EAAU96B,iBAAO,IAEvB9C,qBAAU,WACLy2D,EAAoBxnE,OACrBynE,EAAoBD,GAEpBC,EAAoB,YAAIJ,IAE1B14B,EAAQh8B,QAAU,GAClB+7B,EAAM/7B,QAAU,KACf,CAAC00D,EAAyB9+C,EAAWnY,EAAWo3D,IAEnD,IAAME,EAAclpC,mBAAQ,kBAAMC,mBAAQ,uCAAC,WAAON,EAAKqQ,EAAa7hC,EAAU4b,GAAnC,SAAAngB,EAAA,sEACnC+1B,EAAIoQ,+BAA+BC,EAAYrmC,KAAI,SAAAnE,GAAC,OAAIA,EAAEyG,MAAKkC,EAAU4b,GADtC,2CAAD,4DAEvC,OAAO,CAACA,IAEX,OACE,yBAAK9hB,MAAO,CAACiP,UAAW,OAAQ9J,QAAS,OAAQ+J,cAAe4xD,EAAS,SAAW,QAClF,yBAAK9gE,MAAO,CACVmF,QAAS,OAAQiS,OAAQ,YAAaoiB,SAAU,QAAStqB,cAAe,WAExE,0BAAMlP,MAAOlD,QAAMiR,QAASpQ,yBAAe,qBAC3C,0BACEqC,MAAOlD,QAAMkR,OAAQ5L,0BAAgBu+D,EAAgB,UAAGA,EAAiBA,EAAiBpnE,OAAS,UAA9C,aAAG,EAA+CknE,SAAW,QAEtH,yBAAKzgE,MAAO,CAAC0K,WAAYo2D,EAAS,OAAS,QACxCD,aADH,EACGA,EAA2B5+D,MAAK,SAACN,EAAGO,GAAJ,OAAUP,EAAEvG,KAAK+G,cAAcD,EAAE9G,SAAOsG,KAAI,SAACnE,GAC5E,IAAIgZ,GAAU5M,KAAoBg3D,aAAA,EAAAA,EAAkBxnC,WAAU,SAACx3B,GAAD,OAAOA,EAAEqC,KAAOzG,EAAEyG,QAAO,IAAK,GACxFiT,GAAgB,EACpB,GAAI8pD,EAAoBxnE,OAAS,EAAG,CAClC,IAAM2nE,EAAaH,EAAoBx6D,MAAK,SAAA5E,GAAC,OAAIA,EAAEqC,KAAOzG,EAAEyG,MAC5DuS,EAAiC,WAAvB2qD,aAAA,EAAAA,EAAYnhE,QACtBkX,EAAuC,aAAvBiqD,aAAA,EAAAA,EAAYnhE,QAE9B,IAAM3E,EAAOmC,EAAEnC,KACT+lE,EAAsBL,EAAS,GAAK,GAC1C,OACE,yBAAK3kE,IAAKoB,EAAEyG,IACV,kBAACyS,GAAA,EAAD,CACEK,UAAWgqD,EAAS,QAAU,QAC9BpqD,QAAS,GACTO,cAAeA,EACfF,QAAS3b,EAAK7B,OAAS4nE,EAAsB/lE,EAAO,GACpD4I,GAAIzG,EAAEyG,GAAK,IAAM8d,EAAYnY,EAC7ByE,KAAMhT,EACNub,QAAS,SAACspC,GACR,IAAImhB,EACJA,EAAqBT,EAAiBt6D,QAAO,SAAA1E,GAAC,OAAIA,EAAEqC,KAAOzG,EAAEyG,MACzDi8C,IACFmhB,EAAqB,GAAH,mBAAOA,GAAP,CAA2B7jE,KAE/CyjE,EAAoBI,GACfz3D,GACHs3D,EAAYvpC,EAAK0pC,EAAoBl7D,EAAU4b,GAG7CzS,GACFA,EAAS,CAAC+xD,qBAAoBl7D,WAAU4b,eAG5CvL,QAASA,EACTvW,MAAO,CAACgP,aAAc,SACtB6H,YAAU,cC9DXwqD,GAtBmB,SAACv3D,GAAU,IAGvCw3D,EACiC,IAH7BC,EAAaz3D,EAAby3D,SACJC,EAAc7jE,yBAAe,cAE7B4jE,GAAYA,EAAShoE,OAAS,IAChCioE,EAAW,UAAGD,EAASA,EAAShoE,OAAS,UAA9B,aAAG,EAA+BkoE,QAC7CH,EAAel/D,0BAAe,UAACm/D,EAASA,EAAShoE,OAAS,UAA5B,aAAC,EAA+BknE,WAGhE,OACE,yBAAKzgE,MAAO,CAAEmF,QAAS,OAAQ8J,UAAW,SACxC,yBAAKjP,MAAO,CACVmF,QAAS,OAAQ+J,cAAe,SAAUsqB,SAAU,QAASpiB,OAAQ,YAAa1S,YAAa,QAE/F,0BAAM1E,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqB4J,WAAY,YAAaha,yBAAe,oBACxE,0BAAMqC,MAAK,eAAOlD,QAAMiR,SAAWuzD,IAErC,0BAAMthE,MAAOlD,QAAMiR,QAASyzD,MCwFnBE,GArEQ,SAAC53D,GAAU,MACzB6jC,EAA6E7jC,EAA7E6jC,QAASvL,EAAoEt4B,EAApEs4B,OAAQz4B,EAA4DG,EAA5DH,UAAWm3D,EAAiDh3D,EAAjDg3D,OADH,EACoDh3D,EAAzCuF,gBADX,SAC6B0xD,EAAuBj3D,EAAvBi3D,oBAEtDrpC,EADS1c,qBAAW9c,iBACpBw5B,IAHyB,EAIEvtB,qBAJF,mBAIzBurC,EAJyB,KAIdC,EAJc,KAK1BgsB,EAAsBv0D,iBAAO,IAE7Bw0D,EAAU,uCAAG,8BAAAjgE,EAAA,sEACM+1B,EAAI6P,aAxChB,+cAuCM,OACXxoB,EADW,OAEjB42B,EAAa52B,aAAD,YAACA,EAAUhmB,YAAX,aAAC,EAAgB28C,WAFZ,2CAAH,qDAKhBprC,qBAAU,WACRs3D,MACC,CAACj0B,EAAQ3pC,GAAI2F,IAEhBW,qBAAU,WACRs3D,MACC,IAEH,IAAMC,EAAMnsB,aAAH,YAAGA,EAAW9zB,SAASrb,MAAK,SAAA5L,GAAC,OAAIA,EAAEqJ,KAAO2pC,EAAQ3pC,aAAlD,aAAG,EAAoD89D,IAAIv7D,MAAK,SAAChJ,GAAD,OAAOA,EAAE2I,WAAak8B,EAAOp+B,MAChG68D,EAA4BnrB,aAAH,EAAGA,EAAWirB,iBAC7C,OACE,6BACE,0BACE3gE,MAAK,2BACAlD,QAAM+e,OADN,IAEH9X,MAAOlH,SAAO2Y,eACd9K,WAAY,UAGb/M,yBAAe,uBAElB,kBAAC,IAAD,CAAMqC,MAAO,CAACiP,UAAW,OAAQD,aAAc,SAC7C,kBAAC,EAAD,CACEjP,OAAQ8hE,aAAF,EAAEA,EAAK9hE,OACb+hB,UAAW6rB,EAAQ3pC,GACnBkC,SAAUk8B,EAAOp+B,GACjB2F,UAAWA,EACX0F,SAAU,SAACw4B,GACT85B,EAAoBz1D,QAAQ27B,UAAYA,EACpCx4B,GACFA,EAASsyD,EAAoBz1D,YAInC,kBAAC,GAAD,CACE40D,OAAQA,EACRn3D,UAAWA,EACXmY,UAAW6rB,EAAQ3pC,GACnBkC,SAAUk8B,EAAOp+B,GACjB28D,iBAAkBkB,aAAF,EAAEA,EAAKlB,iBACvBE,0BAA2BA,EAC3BE,oBAAqBA,EACrB1xD,SAAU,SAAC04B,GACT45B,EAAoBz1D,QAAQy0D,iBAAmB54B,EAC3C14B,GACFA,EAASsyD,EAAoBz1D,aAIjCvC,GACA,kBAAC,GAAD,CAA2B43D,SAAUM,aAAF,EAAEA,EAAKE,sBCnErCC,GAhCQ,SAACl4D,GAAU,IACxBs4B,EAAWt4B,EAAXs4B,OACR,OACE,kBAAC,IAAD,CAAMpiC,MAAO,CAAEgP,aAAc,SAC3B,yBAAKhP,MAAO,CAAEmF,QAAS,OAAQF,WAAY,WACzC,yBACEjF,MAAO,CACLsE,gBAAiBzH,SAAO2Y,eACxBtV,MAAO,OACPD,OAAQ,OACRwE,aAAc,UAGlB,yBACEzE,MAAO,CACLmF,QAAS,OACT+J,cAAe,SACfxE,WAAY,SAGd,0BAAM1K,MAAK,2BAAOlD,QAAM+e,OAAb,IAAoBgQ,WAAY,SACxCuW,EAAOhnC,MAEV,0BAAM4E,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBhK,MAAOlH,SAAOsY,mBAC3CitB,EAAOlc,W,sDC5BpB,SAAS,KAA2Q,OAA9P,GAAW1sB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAI,GAAoB,gBAAoB,OAAQ,KAAmB,gBAAoB,QAAS,OAEhG,GAAqB,gBAAoB,IAAK,CAChDnX,GAAI,iCACJ,YAAa,aACC,gBAAoB,IAAK,CACvCA,GAAI,kCACU,gBAAoB,OAAQ,CAC1CsX,KAAM,OACNngB,EAAG,kBACY,gBAAoB,OAAQ,CAC3CmgB,KAAM,UACNngB,EAAG,0FAGL,SAAS8mE,GAAiBn4D,GACxB,OAAoB,gBAAoB,MAAO,GAAS,CACtD0R,MAAO,6BACP0+B,QAAS,aACRpwC,GAAQ,GAAM,IAGJ,IC1Bf,SAAS,KAA2Q,OAA9P,GAAWtQ,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAI,GAAoB,gBAAoB,OAAQ,KAAmB,gBAAoB,QAAS,OAEhG,GAAqB,gBAAoB,IAAK,CAChDnX,GAAI,6BACJ,YAAa,aACC,gBAAoB,IAAK,CACvCA,GAAI,8BACU,gBAAoB,OAAQ,CAC1CsX,KAAM,OACNngB,EAAG,kBACY,gBAAoB,OAAQ,CAC3CmgB,KAAM,UACNngB,EAAG,sGAGL,SAAS+mE,GAAap4D,GACpB,OAAoB,gBAAoB,MAAO,GAAS,CACtD0R,MAAO,6BACP0+B,QAAS,aACRpwC,GAAQ,GAAM,IAGJ,Q,SCjBT9M,GAAS,CACbouB,KAAM,CACJjmB,QAAS,OACTjF,MAAO,OACPD,OAAQ,OACRgF,WAAY,SACZC,eAAgB,SAChBgK,cAAe,WAKbizD,GAAMxkE,yBAAe,iCACrBouB,GAAMpuB,yBAAe,mBACrBquB,GAAMruB,yBAAe,2BAqDZyL,mBAnDoB,SAACU,GAAU,IACrC4E,EAAqB5E,EAArB4E,WAAYwpB,EAASpuB,EAATouB,MACnB,OACE,yBAAKl4B,MAAO,CACVmF,QAAS,OACTF,WAAY,SACZq4C,WAAY,aAAF,OAAezgD,SAAOqH,aAChC01C,YAAa,aAAF,OAAe/8C,SAAOqH,aACjC+mB,aAAc,QAEd,kBAAC,IAAD,CAAS3jB,MAAO66D,IACd,yBAAKniE,MAAOhD,GAAOouB,MACjB,0BACEprB,MAAK,2BACAlD,QAAM+e,OADN,IAEH9X,OAAOm0B,aAAA,EAAAA,EAAOn0B,QAASlH,SAAO+Y,eAC9BiW,WAAY,UAGbqM,aAAA,EAAAA,EAAO98B,OAAQ,MAEjB88B,aAAA,EAAAA,EAAO98B,OACN,kBAAC,KAAD,CAAe8L,UAAWwH,aAAF,EAAEA,EAAYme,gBAAiBxjB,QAAQ,MAIrE,kBAAC,IAAD,CAAS/B,MAAOykB,IACd,yBAAK/rB,MAAOhD,GAAOouB,MACjB,kBAAC,GAAD,CACEprB,MAAO,CAACC,OAAQ,OAAQC,MAAO,QAC/Bob,MACE5M,aAAA,EAAAA,EAAY2d,UAAWxvB,SAAO8Y,UAAY9Y,SAAO+Y,iBAGrD,kBAAC,KAAD,CAAe1O,UAAWwH,aAAF,EAAEA,EAAY4d,mBAAoBjjB,OAAQqF,aAAF,EAAEA,EAAY2d,aAGlF,kBAAC,IAAD,CAAS/kB,MAAO0kB,IACd,yBAAKhsB,MAAO,CAACmF,QAAS,OAAQD,eAAgB,WAC5C,kBAAC,GAAD,CACElF,MAAO,CAACC,OAAQ,OAAQC,MAAO,OAAQ8O,aAAc,QACrDsM,MACE5M,aAAA,EAAAA,EAAYqe,cAAelwB,SAAO8Y,UAAY9Y,SAAO+Y,wB,qBCwDpDxM,mBAnHmB,SAACU,GAAU,wBAE7Bs4D,EAOVt4D,EAPF4E,WACA4J,EAMExO,EANFwO,aACAtU,EAKE8F,EALF9F,GACAJ,EAIEkG,EAJFlG,kBACA45D,EAGE1zD,EAHF0zD,sBANyC,EASvC1zD,EAFFH,iBAPyC,SAQzC8tB,EACE3tB,EADF2tB,OAGKC,EADS1c,qBAAW9c,iBACpBw5B,IAXoC,EAYbvtB,mBAASi4D,aAAD,EAACA,EAAmBxqC,UAZf,mBAYpCmC,EAZoC,KAY3BsoC,EAZ2B,KAarC3zD,EAAatB,iBAAOg1D,GAbiB,EAcHj4D,mBAASmO,GAdN,mBAcpCgqD,EAdoC,KActBC,EAdsB,OAeZxpD,sBAAW,SAACvM,GAAD,OAAOA,EAAI,IAAG,GAfb,mBAe3BwM,GAf2B,WAiB3C1O,qBAAU,WACRi4D,EAAgBjqD,KACf,CAACA,EAActU,IAElBsG,qBAAU,WACRoE,EAAWxC,QAAUk2D,EACrBppD,IACAqpD,EAAWD,aAAD,EAACA,EAAmBxqC,YAC7B,CAAC5zB,IAEJ,IAAMw+D,EAAiBzqC,mBAAQ,kBAAMC,mBAAQ,uCAAC,WAAON,EAAKhpB,GAAZ,SAAA/M,EAAA,sEACtC+1B,EAAIkR,gCAAgC,CAACl6B,IADC,2CAAD,wDAE1C,OAAO,CAAC0zD,aAAD,EAACA,EAAmBp+D,KAExB0jD,EAAO,WACP/9C,EACF8tB,EAAO/oB,EAAWxC,SAElBs2D,EAAe9qC,EAAKhpB,EAAWxC,UAInC,OACE,yBACElM,MAAO,CAACmF,QAAS,OAAQ+J,cAAe,SAAUhP,MAAO,SAEzD,kBAAC,IAAD,CACE8D,GAAIA,EACJqU,OAAQzU,EACR0U,aAAcgqD,EACdjzD,SAAU,SAACiqB,GAAD,OAAW+oC,EAAWz+D,EAAkB01B,GAAOt1B,KACzDkD,UAAS,UAAEwH,EAAWxC,eAAb,aAAE,EAAoB2gB,gBAC/Bpe,UAAW,SAAC5S,GACV6S,EAAWxC,QAAX,2BACKwC,EAAWxC,SADhB,IAEE2gB,gBAAiBhxB,IAEnB6rD,KAEFnvC,SAAUnW,0BAAe,UAACsM,EAAWxC,eAAZ,aAAC,EAAoBisB,iBAC9C3f,aAAa,EACbC,eAAgB,WACd/J,EAAWxC,QAAX,2BACKwC,EAAWxC,SADhB,IAEE0rB,SAAUmC,IAEZ2tB,KAEFl4C,UAAU,EACV7F,UAAWA,IAEb,yBACE3J,MAAK,aACHiP,UAAW,OACXhP,OAAQ,QACRwX,SAAU,UACP3a,KAAMiR,QAEX6J,wBAAyB,CACvBC,OAAQ2lD,aAAF,YAAEA,EAAuBj3D,MAAK,SAACsgD,GAAD,OAAOA,EAAEjvB,WAAamC,YAApD,aAAE,EACJwC,eAGR,kBAAC,IAAD,CACEnuB,KAAI,UAAEM,EAAWxC,eAAb,aAAE,EAAoBmgB,SAC1Bhe,YAAa1Q,yBAAe,mBAC5B4Q,aAAc,SAACH,GACbM,EAAWxC,QAAX,2BAAyBwC,EAAWxC,SAApC,IAA6CmgB,SAAUje,IACvDs5C,KAEFxgD,UAAS,UAAEwH,EAAWxC,eAAb,aAAE,EAAoBogB,mBAC/B7d,UAAW,SAACzK,EAAIlD,GACd4N,EAAWxC,QAAX,2BAAyBwC,EAAWxC,SAApC,IAA6CogB,mBAAoBxrB,IACjE4mD,KAEF1jD,GAAE,UAAE0K,EAAWxC,eAAb,aAAE,EAAoBlI,GACxB0K,WAAYA,EAAWxC,QACvByC,WAAYvM,0BAAe,UAACsM,EAAWxC,eAAZ,aAAC,EAAoBwsB,oBAChD7pB,YAAalF,EAAYhM,yBAAe,0BAA4B,GACpEgM,UAAWA,IAEb,kBAAC,IAAD,CACEyE,KAAI,UAAEM,EAAWxC,eAAb,aAAE,EAAoB6gB,aAC1B1e,YAAa1Q,yBAAe,2BAC5B4Q,aAAc,SAACH,GACbM,EAAWxC,QAAX,2BAAyBwC,EAAWxC,SAApC,IAA6C6gB,aAAc3e,IAC3Ds5C,KAEFp5C,SAAO,EACPtK,GAAE,UAAE0K,EAAWxC,eAAb,aAAE,EAAoBlI,GACxB0K,WAAYA,EAAWxC,QACvByC,WAAYvM,0BAAe,UAACsM,EAAWxC,eAAZ,aAAC,EAAoBysB,wBAChD9pB,YAAalF,EAAYhM,yBAAe,0BAA4B,SCxE7D8kE,GAzCY,SAAC34D,GAAU,IAC5B44D,EAAqB54D,EAArB44D,QAASC,EAAY74D,EAAZ64D,QACXh3D,EAAMyB,mBAUZ,OARAK,2BAAgB,WACV9B,EAAIO,SACFw2D,GACFA,EAAQ/2D,EAAIO,QAAQ02D,eAGvB,CAACD,IAGF,yBAAKh3D,IAAKA,EAAK3L,MAAO,CAAEmF,QAAS,OAAQ09D,SAAU,UAChDF,aADH,EACGA,EAASjhE,KAAI,SAAClF,GAAD,OACZ,kBAAC,IAAD,CAAS8K,MAAO9K,EAAE07B,MAAMt6B,OACtB,yBACEoC,MAAO,CACLE,MAAO,OACPgF,eAAgB,SAChBD,WAAY,SACZmS,OAAQ,YACRjS,QAAS,SAGX,0BACEnF,MAAK,2BACAlD,QAAMkR,OADN,IAEH6d,WAAYrvB,EAAEsmE,SAAW,IAAM,IAC/B/+D,MAAOvH,EAAEsmE,SAAWtmE,EAAE07B,MAAMn0B,MAAQlH,SAAOsY,mBAG5C3Y,EAAEsmE,SACFH,EAAQppE,OAAS,EAAjB,WAAyBopE,EAAQI,OAAU,WCiG3C35D,mBApHuB,SAACU,GAAU,IAE7C9F,EAWE8F,EAXF9F,GACAJ,EAUEkG,EAVFlG,kBACA0U,EASExO,EATFwO,aACY8pD,EAQVt4D,EARF4E,WACA8uD,EAOE1zD,EAPF0zD,sBACAv4C,EAMEnb,EANFmb,UACA+9C,EAKEl5D,EALFk5D,oBACAC,EAIEn5D,EAJFm5D,oBACA5e,EAGEv6C,EAHFu6C,oBAV6C,EAa3Cv6C,EAFFH,iBAX6C,SAY7C8tB,EACE3tB,EADF2tB,OAGI9rB,EAAMyB,mBACNsB,EAAatB,iBAAOg1D,GAhBqB,EAiBrBj4D,qBAjBqB,mBAiBxCjK,EAjBwC,KAiBjCgjE,EAjBiC,OAkBhBnqD,sBAAW,SAACvM,GAAD,OAAOA,EAAI,IAAG,GAlBT,mBAkB/BwM,GAlB+B,aAmBP7O,mBAAS,GAnBF,mBAmBxCg5D,EAnBwC,KAmB1BC,EAnB0B,KAqB/C94D,qBAAU,WAAM,MACd44D,EAASv3D,aAAD,YAACA,EAAKO,eAAN,aAAC,EAAc8xB,eACvB,IAEF1zB,qBAAU,WACRoE,EAAWxC,QAAUk2D,EACrBppD,MACC,CAAChV,EAAIo+D,IAER,IAAMlqC,EAAQt0B,EAAkB2C,MAC9B,SAACzC,GAAD,aAAOA,EAAEE,MAAF,UAAS0K,EAAWxC,eAApB,aAAS,EAAoB0rB,aAGhCx8B,EAAO6pB,aAAH,EAAGA,EAAW7pB,KAClBioE,EAAWnjE,EArCI,IAuCfg4C,GAAQmM,aAAA,EAAAA,EAAqBxgD,OAAOnC,KAAI,SAAAoC,GAAC,MAAK,CAACo0B,MAAO,CAACn0B,MAAM,cAAenG,MAAM,IAAKklE,SAAU,QAAM,GAG7G,OAFA5qB,EAAM6qB,MAAQ,EAGZ,kBAACn3B,GAAA,EAAD,CAAWjgC,IAAKA,EAAKwwC,gBAAiB,CAAEC,eAAe,IACrD,kBAACJ,GAAA,EAAD,CAAkBD,WAAY,kBAAC,KAAD,OAC5B,yBACE/7C,MAAO,CACLmF,QAAS,OACTD,eAAgB,gBAChBD,WAAY,SACZ/E,MAAO,SAGT,kBAACmH,EAAA,EAAD,CAASC,MAAOlM,EAAK7B,OAAS,GAAK6B,EAAO,IACxC,0BACE4E,MAAK,2BACAlD,QAAMiR,QADN,IAEH0J,SAAU,SACVC,aAAc,WACdC,WAAY,SACZzX,MAAOmjE,EAAW,GAAH,OAAM,IAAMF,EAAZ,MAA+B,WAG/C/nE,IAGL,yBAAK4E,MAAO,CAAEmF,QAAS,OAAQF,WAAY,WACxCo+D,GAAYJ,GACX,kBAAC,GAAD,CACEP,QAASU,EACTT,QACEM,EAAoBh+C,aAAD,EAACA,EAAWjhB,IAAMi/D,EAAoBh+C,aAAD,EAACA,EAAWjhB,IAAMk0C,IAIhF,kBAAC,GAAD,CACExpC,WAAYA,EAAWxC,QACvBgsB,MAAOA,IAERmrC,GACC,kBAACngB,EAAA,EAAD,CACEl5C,QAAS,SAACzM,GACRA,EAAE+Z,kBACF/Z,EAAEga,YAAYC,2BACdwrD,EAAoB/9C,IAEtBw3B,aAAW,EACXz8C,MAAO,CACLoX,OAAQ,aAAF,OAAeva,SAAO+X,MAC5BpQ,QAAS,OACTkG,WAAY,OACZpG,gBAAiBzH,SAAOwH,QAG1B,0BAAMrE,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqB4J,WAAY,YACzCha,yBAAe,uBAO5B,kBAAC89C,GAAA,EAAD,KACE,kBAAC,GAAD,CACE/sC,WAAY0zD,EACZ9pD,aAAcA,EACdtU,GAAIA,EACJJ,kBAAmBA,EACnB45D,sBAAuBA,EACvB7zD,UAAWA,EACX8tB,OAAQ,SAAC/oB,GACP+oB,EAAO,aAACzzB,GAAIihB,EAAUjhB,IAAO0K,Y,wCCxHnCgsC,GAAiB7sC,cAAW,iBAAO,CACvC+sC,MAAO,2BACF99C,QAAMiR,QADN,IAEHuI,SAAU,OACVrW,OAAQ,OACRC,MAAO,MACP+E,WAAY,WACZE,QAAS,OACTuzC,aAAc,aAAF,OAAe77C,SAAOqH,aAClCM,QAAS,MACTqG,OAAQ,WAVWgD,CAYnBgtC,MAEE8B,GAAe9uC,cAAW,iBAAO,CACrCC,KAAM,CACJ5N,MAAO,MACPsE,QAAS,MACTqG,OAAQ,MACRuM,OAAQ,YACRkmC,WAAY,aAAF,OAAezgD,SAAOqH,cAElC02C,MAAO,CACL72C,MAAO,eAETyvC,OAAQ,CACNvoB,aAAc,iBACdlnB,MAAO,kBAbU8J,CAejB+uC,MA6TW0mB,GAvNuB,SAACx5D,GAAU,QACxCgY,EAA+DhY,EAA/DgY,UAAW5b,EAAoD4D,EAApD5D,SAAU88D,EAA0Cl5D,EAA1Ck5D,oBAAqBr5D,EAAqBG,EAArBH,UAAW8tB,EAAU3tB,EAAV2tB,OACtD1c,EAAUC,qBAAW9c,iBACpBw5B,EAAuB3c,EAAvB2c,IAAKzc,EAAkBF,EAAlBE,eAHmC,EAInB9Q,qBAJmB,mBAIxCi4B,EAJwC,KAIhCmhC,EAJgC,OAKfp5D,qBALe,mBAKxCyX,EALwC,KAK9Bg+B,EAL8B,OAMnBz1C,oBAAS,GANU,mBAMxC21C,EANwC,KAMhC0jB,EANgC,OAOOr5D,oBAAS,GAPhB,mBAOxC84D,EAPwC,KAOnBQ,EAPmB,OAQOt5D,mBAAS,GARhB,mBAQxCk6C,EARwC,KAQnBqf,EARmB,KASzCC,EAAmBv2D,iBAAO,IAC1BzB,EAAMyB,mBAVmC,EAWrBjD,qBAXqB,mBAWxCjK,EAXwC,KAWjCgjE,EAXiC,KAYzCU,EAA8Bx2D,iBAAO,IACrCy2D,EAAez2D,kBAAO,GAExBsB,EAAa,GAEXgX,EAAa,uCAAG,0CAAA/jB,EAAA,sEACG+1B,EAAI6P,aAtHhB,muDAqHS,OACdxoB,EADc,OAEd22B,EAAY32B,aAFE,YAEFA,EAAUhmB,YAFR,aAEF,EAAgB28C,UAC5BS,EAAiBT,aAHH,YAGGA,EAAW9zB,SAASrb,MAAK,SAAA5L,GAAC,OAAIA,EAAEqJ,KAAO8d,YAH1C,uBAGG,EAAmD7b,mBAHtD,uBAGG,EACnBvE,KAAI,SAACC,GAAD,OAAQA,GAAR,mBAAeA,EAAEsE,aAAe,eAJpB,aAGG,EAEnBsa,OAEJojD,EAAiBz3D,QAAUiqC,aAA3B,EAA2BA,EAAgB72B,QAAO,SAAC8V,EAAK3zB,GAAQ,QAQ9D,QANEA,aAAA,YAAAA,EAAKkC,mBAAL,eAAkBK,KACjBoxB,EAAI7uB,MAAK,SAAC5E,GAAD,aAAOA,aAAA,EAAAA,EAAGqC,OAAOvC,aAAV,YAAUA,EAAKkC,mBAAf,aAAU,EAAkBK,SAC7C,UAACvC,EAAIkC,mBAAL,aAAC,EAAiB64B,aAElBpH,EAAIv7B,KAAK4H,aAAT,EAASA,EAAKkC,aAETyxB,IACN,IAEG0uC,EAAYH,EAAiBz3D,QAAQxK,KAAI,SAACqiE,GAC9C,IAAM99D,EAAckwC,EAAe9vC,QACjC,SAAC1E,GAAD,aAAOA,aAAA,YAAAA,EAAGgC,mBAAH,eAAgBK,MAAO+/D,EAAI//D,MAE9B8/D,EAAY79D,aAAH,EAAGA,EAAaqZ,QAAO,SAAC8V,EAAKzzB,GAAM,QA2BhD,OA1BAA,SAAA,UAAAA,EAAGiF,4BAAH,mBAAyBP,QAAO,SAAA/K,GAAC,OAAIA,EAAE4tB,aAAepH,YAAtD,SAAkE1b,SAAQ,SAAC81B,GAQzE,GAPK9G,EAAI17B,eAAewiC,EAAGr1B,gBACzBuuB,EAAI8G,EAAGr1B,cAAgBk9D,EAAIlgE,OAAOnC,KAAI,SAACoC,GAAD,MAAQ,CAC5Cg/D,SAAU,EACV5qC,MAAOp0B,MAETsxB,EAAI8G,EAAGr1B,cAAck8D,MAAQ,GAE3B7mC,EAAGhE,MAAO,CAEZ,GADA9C,EAAI8G,EAAGr1B,cAAck8D,OAAS,EACP,IAAnB7mC,EAAGhE,MAAMpH,MAAa,CACxB,IAAMkzC,EAAc5uC,EAAI8G,EAAGr1B,cAAc,GAAGi8D,SAAW,EACvD1tC,EAAI8G,EAAGr1B,cAAc,GAArB,2BACKuuB,EAAI8G,EAAGr1B,cAAc,IAD1B,IAEEi8D,SAAUkB,IAGd,IAAK,IAAIx3D,EAAI0vB,EAAGhE,MAAMpH,MAAOtkB,GAAK,EAAGA,IAAK,CACxC,IAAMw3D,EAAc5uC,EAAI8G,EAAGr1B,cAAc2F,GAAGs2D,SAAW,EACvD1tC,EAAI8G,EAAGr1B,cAAc2F,GAArB,2BACK4oB,EAAI8G,EAAGr1B,cAAc2F,IAD1B,IAEEs2D,SAAUkB,SAKX5uC,IACN,IACH,MAAO,CACL6uC,cAAeF,EAAI//D,GACnBkgE,gBAAiBH,EAAI3oE,KACrBmgC,WAAYuoC,MAGhBL,EAAuBK,GAEvBP,EAAU7tB,aAAD,EAACA,EAAW+Q,QAAQlgD,MAAK,SAACrL,GAAD,OAAOA,EAAE8I,KAAOkC,MAC7C29D,EAAa33D,SAChB0zC,EAAYlK,aAAD,EAACA,EAAW9zB,UA7DL,4CAAH,qDAkEnBtX,qBAAU,WACe,SAAnB2Q,GAAgD,QAAnBA,EAC/BuoD,GAAU,GACD1jB,IACTp6B,IACA89C,GAAU,MAEX,CAACvoD,IAEJ3Q,qBAAU,WAAM,MACdob,IACAw9C,EAASv3D,aAAD,YAACA,EAAKO,eAAN,aAAC,EAAc8xB,eACtB,IAEH1zB,qBAAU,WACRob,MACC,CAAC5D,IAEJxX,qBAAU,WACRu5D,EAAa33D,QAAUvC,EAClBA,IACH+b,IACAk+C,EAA4B13D,QAAU,MAEvC,CAACvC,IAEJ,IAIgB,EAJV/F,EAAoBF,+BACxB0+B,aAD4C,EAC5CA,EAAQz+B,YAAY4C,MAAK,SAACzC,GAAD,OAAOA,EAAE4iD,YAG/B/8C,IACH+E,EAAakT,aAAH,YAAGA,EAAUrb,MAAK,SAAA5L,GAAC,OAAIA,EAAEqJ,KAAO8d,KAAWqiD,yBAA3C,aAAG,EAA2D59D,MAAK,SAAC5E,GAAD,OAAOA,EAAEuE,WAAaA,MAGrG,OACE,yBAAKlG,MAAO,CAACiP,UAAW,OAAQ/N,SAAU,YAAayK,IAAKA,GAC1D,0BACE3L,MAAK,2BACAlD,QAAM+e,OADN,IAEH9X,MAAOlH,SAAO2Y,eACd9K,WAAY,UAGb/M,yBAAe,mBAEjBuC,EAlIgB,KAkIUyjE,EAAiBz3D,QAAQ3S,OAAS,GAC3D,yBACEyG,MAAO,CACLoX,OAAQ,aAAF,OAAeva,SAAOqH,aAC5BI,gBAAiBzH,SAAOwH,MACxBnD,SAAU,WACVyO,MAAO,QACP5C,IAAK,MACL5H,QAAS,OACTlF,OAAQ,OACR4iE,SAAU,UAGZ,8CACGc,EAAiBz3D,QAAQm4C,UAD5B,uBACG,EAA+CxgD,cADlD,aACG,EAAuDnC,KAAI,SAACoC,GAC3D,OACE,yBACE9D,MAAO,CACLE,MAAO,OACPiF,QAAS,OACT+J,cAAe,MACfjK,WAAY,SACZC,eAAgB,SAChBkS,OAAQ,cAGV,0BAAMpX,MAAK,2BAAMlD,QAAMkR,OAAZ,IAAmBjK,MAAOD,EAAEC,SACpCD,EAAElG,WAKX,kBAAC++C,GAAD,CACE9gD,MAAOwoD,EACPh1C,SAAU,YAAc,IAAZE,EAAY,EAAZA,OACVm0D,EAAuBn0D,EAAO1T,QAEhC++C,MAAO,kBAACF,GAAD,OAENipB,EAAiBz3D,QAAQxK,KAAI,SAACoC,EAAGzK,GAChC,OAAO,kBAACwxC,GAAA,EAAD,CAAUhvC,MAAOxC,GAAIyK,EAAE1I,YAMxC,yBAAK4E,MAAO,CAACiP,UAAW,SACrBmzB,aADH,EACGA,EAAQ7G,WAAWt5B,MAAK,SAACN,EAAGO,GAAJ,OAAWP,EAAEvG,KAAK+G,cAAcD,EAAE9G,UAAMghC,EAAW,CAC1EC,SAAS,EACTC,WAAY,YACT56B,KAAI,SAACpG,GAAM,UACRwtC,EAAmB,UAAGp6B,SAAH,uBAAG,EAAY01D,kCAAf,aAAG,EAAwC79D,MAClE,SAAC21B,GAAD,OAAQA,EAAGr1B,eAAiBvL,EAAE0I,MAE1BsU,GAAewwB,aAAA,EAAAA,EAAqBlR,UACtCh0B,EAAkBu1B,WAClB,SAACr1B,GAAD,OAAOA,EAAEE,MAAO8kC,aAAT,EAASA,EAAqBlR,aAErC,EACJ,OACE,kBAAC,GAAD,CACEjuB,UAAWA,EACX8tB,OAAQ,SAAC/oB,GACPk1D,EAA4B13D,QAAQwC,EAAW1K,IAAM0K,EACrD+oB,EAAOmsC,EAA4B13D,UAErC/P,IAAKb,EAAE0I,GACPJ,kBAAmBA,EACnB0U,aAAcA,EACd5J,WAAYo6B,EACZ00B,sBAAuBliE,EAAEkiE,sBACzBv4C,UAAW3pB,EACX0I,GAAI8kC,aAAF,EAAEA,EAAqB9kC,GACzBqgD,oBACEsf,EAAiBz3D,QAAQm4C,GAE3B2e,oBAAqBA,EACrBC,oBAAmB,UACjBA,EAAoB5e,UADH,aACjB,EAA0C9oB,oB,wCCpVpDv7B,GAAQ,CACZorB,KAAM,2BACDtuB,QAAMkR,OADP,IAEF1J,gBAAiBzH,SAAOwH,MACxBnE,MAAO,OACP+E,WAAY,SACZE,QAAS,OACTg+C,UAAW,aAAF,OAAetmD,SAAOqH,aAC/B01C,YAAa,aAAF,OAAe/8C,SAAOqH,gBA0DtBmgE,GAtDuB,SAACv6D,GAAU,IACvCw6D,EAAoBx6D,EAApBw6D,gBACR,OACE,yBACEtkE,MAAO,CACL+M,IAAK,QACL1L,KAAM,QACNpB,OAAQ,OACRkF,QAAS,OACTjE,SAAU,aAGZ,yBACElB,MAAK,2BACAA,GAAMorB,MADN,IAEHkyB,WAAY,aAAF,OAAezgD,SAAOqH,aAChCu5C,oBAAqB,MACrBv4C,eAAgB,SAChBhF,MAAO,UAGT,8BAAOvC,yBAAe,YAExB,yBACEqC,MAAK,2BACAA,GAAMorB,MADN,IAEHlrB,MAAO,WAGT,0BAAMF,MAAO,CAAE0K,WAAY,QAAU/M,yBAAe,mCAEtD,yBACEqC,MAAK,2BACAA,GAAMorB,MADN,IAEHsyB,qBAAsB,MACtBx9C,MAAO,GAAF,OAAKokE,EAAL,SAGP,0BACEtkE,MAAO,CACL0K,WAAY,MACZxK,MAAOokE,EACP7sD,SAAU,SACVC,aAAc,WACdC,WAAY,WAGbha,yBAAe,gCC5CpB69C,GAAyB3tC,aAAW,CACxCC,KAAM,CACJxJ,gBAAiBzH,SAAO+X,OAFG/G,CAI5B4tC,MAEGC,GAAkB7tC,aAAW,CACjCC,KAAM,CACJ,aAAc,CACZmB,UAAW,QAGf0sC,SAAU,IANY9tC,CAOrB+9B,MAEGgQ,GAAyB/tC,aAAW,CACxCC,KAAM,CACJ+tC,UAAW,OACXr3C,QAAS,MACTkG,WAAY,OACZ,aAAc,CACZmxC,UAAW,MACX5sC,UAAW,QAGf6sC,QAAS,CAEPjxC,OAAQ,MACR,aAAc,CACZrG,QAAS,MACTqG,OAAQ,MACRgxC,UAAW,QAGfE,WAAY,CACVv3C,QAAS,MACTqG,OAAQ,kBACR,aAAc,IAEhB8wC,SAAU,IAxBmB9tC,CAyB5BmuC,MAEG1wB,GAAY,CAChBgyB,WAAY,aAAF,OAAezgD,SAAOqH,aAChC01C,YAAa,aAAF,OAAe/8C,SAAOqH,aACjChE,MAAM,SAgKOqkE,GA7JiB,SAACz6D,GAAU,IAEvC4E,EAYE5E,EAZF4E,WACAtK,EAWE0F,EAXF1F,WACAoC,EAUEsD,EAVFtD,kBAJuC,EAcrCsD,EATF9J,aALuC,MAK/B,GAL+B,IAcrC8J,EARFlD,4BANuC,MAMhB,GANgB,IAcrCkD,EAPFyxB,kBAPuC,MAO1B,GAP0B,IAcrCzxB,EANF06D,sBARuC,SASvC9qB,EAKE5vC,EALF4vC,kBATuC,EAcrC5vC,EAJF26D,gBAVuC,WAcrC36D,EAHF46D,oBAXuC,MAWxB,KAXwB,IAcrC56D,EAFF66D,iBAZuC,SAavCltC,EACE3tB,EADF2tB,OAGI9rB,EAAMyB,mBAhB6B,EAiBfjD,qBAjBe,mBAiBlCjK,EAjBkC,KAiB3BgjE,EAjB2B,KAuBzC,GAJA54D,qBAAU,WAAM,MACd44D,EAASv3D,aAAD,YAACA,EAAKO,eAAN,aAAC,EAAc8xB,iBAGpBtvB,EACH,OAAO,KAGT,IAAM20D,EAAWnjE,EA7EI,IA8EjB0kE,EAAYvB,EAAW,IAAM,IAQjC,OAPIoB,IACFG,GAAa,IAEXJ,IACFI,GAAa,KAIb,yBAAK5kE,MAAO,CAACkB,SAAU,aACpByjE,GAAatB,GACZ,kBAAC,GAAD,CACEiB,gBAAsC,IAArB/oC,aAAA,EAAAA,EAAYhiC,UAGjC,kBAACmiD,GAAD,CACEQ,QAAM,EACNvwC,IAAKA,EACL3L,MAAK,2BAAMA,GAAN,IAAaoX,OAAQ,oBAC1B+kC,gBAAiB,CAACC,eAAe,IAEjC,kBAACR,GAAD,CAAwBG,WAAY,kBAAC,KAAD,OAClC,yBACE/7C,MAAO,CACLmF,QAAS,OACTF,WAAY,SACZC,eAAgB,gBAChBV,QAAS,sBAIX,yBACExE,MAAO,CAELmF,QAAS,OACTF,WAAY,SACZyF,WAAY+5D,EAAW,OAAS,IAGjCtgE,4BAAkBC,GACnB,0BACEpE,MAAK,2BACAlD,QAAMiR,QADN,IAEH2J,aAAc,WACdD,SAAU,SACVE,WAAY,SAEZzX,MAAO,GAAF,OAAK0kE,EAAL,SAGNxgE,EAAWkD,QAGhB,yBACEtH,MAAO,CACLmF,QAAS,OACTF,WAAY,SACZq4C,WAAY,aAAF,OAAezgD,SAAOqH,eAGlC,kBAACmD,EAAA,EAAD,CAASC,MAAOvB,wBAAc2I,EAAWmpB,aACvC,yBAAK73B,MAAO,CAACE,MAAO,OAAQiF,QAAS,OAAQF,WAAY,SAAUC,eAAgB,WAChFnE,4BAAkB,CACjBhB,OAAQ2O,EAAWmpB,WACnB73B,MAAO,CACL49C,UAAW,OACXp5C,QAAS,yBAKhB6+D,GACD,kBAACh8D,EAAA,EAAD,CACEC,MAAOlD,EAAWs6C,qBAAuB79C,iCAAuB6N,EAAWiwC,kBAAoB,IAC/F,yBAAK3+C,MAAO,CACVs9C,WAAY,aAAF,OAAezgD,SAAOqH,aAChChE,MAAO,OACPiF,QAAS,OACTD,eAAgB,SAChBD,WAAY,SACZhF,OAAQ,SAEPmE,EAAWs6C,sBAAwB5+C,2BAAiB,CAACC,OAAQ2O,EAAWiwC,qBAI5E0kB,GACC,yBAAKrjE,MAAO,CAACmF,QAAS,OAAQiS,OAAQ,cACpC,kBAAC,KAAD,CAAiB1I,WAAYA,EAAY1O,MAAOsrB,KAC/Ck5C,GACC,kBAAC/qB,GAAA,EAAD,CACEle,WAAYA,EACZvZ,YAAapb,EACb8yC,kBAAmBA,EACnBC,WAAW,QAQzB,kBAAC6B,GAAD,KACE,yBACEx7C,MAAO,CACLmF,QAAS,OACT+J,cAAe,SACfhP,MAAOwkE,EAAe,GAAH,OAAMA,EAAN,MAAyB,SAG9C,kBAAC,KAAD,CACEtgE,WAAYA,EACZsK,WAAYA,EACZ+oB,OAAQA,IAEV,kBAAC,KAAD,CACEA,OAAQA,EACR0C,uBAAwBzrB,EAAW1K,GACnCwC,kBAAmBA,EACnBI,qBAAsBA,EACtBjD,YAAaS,aAAF,EAAEA,EAAYT,YACzB42B,QAASn2B,aAAF,EAAEA,EAAYQ,gBCiIpBigE,GAhJS,SAAC/6D,GAAU,IAE/BgY,EAOEhY,EAPFgY,UACA5b,EAME4D,EANF5D,SAH+B,EAS7B4D,EALF06D,sBAJ+B,WAS7B16D,EAJF4vC,yBAL+B,MAKX,KALW,IAS7B5vC,EAHFg7D,eAN+B,WAS7Bh7D,EAFF46D,oBAP+B,MAOhB,KAPgB,IAS7B56D,EADF9J,aAR+B,MAQvB,GARuB,EAU3B+a,EAAUC,qBAAW9c,iBACpBw5B,EAAuB3c,EAAvB2c,IAAKzc,EAAkBF,EAAlBE,eAXqB,EAYC9Q,qBAZD,mBAY1BurC,EAZ0B,KAYfC,EAZe,OAaKxrC,mBAAS,IAbd,mBAa1BlE,EAb0B,KAab8+D,EAba,KAc3BjlB,EAAS1yC,kBAAO,GAChB43D,EAAW53D,kBAAO,GAElBm6B,EAAY,uCAAG,oCAAA5lC,EAAA,sEACI+1B,EAAI6P,aAjNhB,2jIAgNQ,OACbxoB,EADa,OAEnB42B,EAAa52B,aAAD,YAACA,EAAUhmB,YAAX,aAAC,EAAgB28C,WAFV,EAGM32B,aAHN,YAGMA,EAAUhmB,YAHhB,aAGM,EAAgB28C,UAAvBj0C,EAHC,EAGdwE,YACLxE,EAAMuE,sCAA4BvE,EAAKyE,GACnCwzC,IACFj4C,EAAMgF,uCAA6BhF,EAAKi4C,aAAN,EAAMA,EAAmB11C,KAE7D+gE,EAAetjE,GARI,2CAAH,qDAalB6I,qBAAU,WACe,SAAnB2Q,GAAgD,QAAnBA,EAC/B6kC,EAAO5zC,SAAU,EACR4zC,EAAO5zC,UACX84D,EAAS94D,SACZq7B,IAEFy9B,EAAS94D,SAAU,EACnB4zC,EAAO5zC,SAAU,KAElB,CAAC+O,IAEJ3Q,qBAAU,WACRi9B,MACC,CAACmS,aAAD,EAACA,EAAmB11C,GAAI8d,IAE3B,IAAI6iD,GAAY,EAChB,OACE,yBAAK3kE,MAAO,CAACiP,UAAW,UACpB61D,IAAW7+D,aAAA,EAAAA,EAAa1M,QAAS,GACjC,0BACEyG,MAAK,2BACAlD,QAAM+e,OADN,IAEH9X,MAAOlH,SAAO2Y,eACd9K,WAAY,UAGb/M,yBAAe,yBAGpB,yBAAKqC,MAAO,CAACmF,QAAS,SACpB,yBACEnF,MAAO,CACLiP,UAAW61D,EAAU,QAAU,OAC/Bj1D,UAAW,iCAGZ5J,aANH,EAMGA,EACGhE,MAAK,SAACN,EAAGO,GAAJ,OAAUP,EAAE2F,MAAMnF,cAAcD,EAAEoF,UACxC5F,KAAI,SAAC0C,GAAe,YAEnB,KADoBA,EAAWO,YAAaP,aAAA,YAAAA,EAAY6B,mBAAZ,eAAyBI,QAAO,SAAA1E,GAAC,OAAIA,EAAEgD,aAAWpL,QAAS,GAErG,OAAO,KAET,IAAMmV,EAAatK,EAAW4d,YAAYzb,MACxC,SAAC5E,GAAD,OAAOA,EAAEunB,aAAepH,KAM1B,OAHK6iD,GAAaj2D,IAChBi2D,EAAYj2D,EAAW1K,IAGvB,yBAAKhE,MAAK,eAAMA,GAAQ7D,IAAKiI,EAAWJ,IACtC,kBAAC,GAAD,CACEyzB,OAAQ,WACNutC,EAAS94D,SAAU,GAErBy4D,WAAWj2D,aAAA,EAAAA,EAAY1K,MAAO2gE,EAC9BD,aAAcA,EACdhrB,kBAAmBA,EACnBhrC,WAAYA,EACZtK,WAAYA,EACZogE,eAAgBA,EAChB59D,qBAAsBxC,aAAF,EAAEA,EAAYwC,qBAAqBP,QACrD,SAAC61B,GAAD,OAAQA,EAAGhT,aAAepH,KAE5ByZ,WACEma,aADQ,YACRA,EAAWlvC,kBAAkBD,MAC3B,SAACrL,GAAD,OAAOA,EAAE8I,KAAOkC,YAFV,aACR,EAEGq1B,WAEL/0B,kBAAmBkvC,aAAF,EAAEA,EAAWlvC,kBAAkBH,QAC9C,SAACw8C,GAAD,OAAQA,EAAG7+C,KAAOkC,OApBxB,UAuBG9B,EAAW6B,mBAvBd,uBAuBG,EAAwBI,QAAO,SAAA1E,GAAC,OAAIA,EAAEgD,oBAvBzC,aAuBG,EAAkDjD,KAAI,SAACujE,GAAO,MACvDxjE,EAAMwjE,EAAGjjD,YAAYzb,MACzB,SAAC5E,GAAD,OAAOA,EAAEunB,aAAepH,KAE1B,OACE,kBAAC,GAAD,CACE2V,OAAQ,WACNutC,EAAS94D,SAAU,GAErBw4D,aAAcA,EACdhrB,kBAAmBA,EACnB+qB,UAAQ,EACRtoE,IAAK8oE,EAAGjhE,GACR0K,WAAYjN,EACZ2C,WAAY6gE,EACZT,eAAgBA,EAChB59D,qBAAsBq+D,aAAF,EAAEA,EAAIr+D,qBAAqBP,QAC7C,SAAC61B,GAAD,OAAQA,EAAGhT,aAAepH,KAE5ByZ,WACEma,aADQ,YACRA,EAAWlvC,kBAAkBD,MAC3B,SAACrL,GAAD,OAAOA,EAAE8I,KAAOkC,YAFV,aACR,EAEGq1B,WAEL/0B,kBAAmBkvC,aAAF,EAAEA,EAAWlvC,kBAAkBH,QAC9C,SAACw8C,GAAD,OAAQA,EAAG7+C,KAAOkC,mB,UCzH7BkD,mBA3Je,SAACU,GAAU,QAErC6jC,EAWE7jC,EAXF6jC,QACAvL,EAUEt4B,EAVFs4B,OACApiC,EASE8J,EATF9J,MAJqC,EAanC8J,EARFo7D,sBALqC,SAMrClC,EAOEl5D,EAPFk5D,oBANqC,EAanCl5D,EANFg3D,cAPqC,WAanCh3D,EALFH,iBARqC,SASrC8tB,EAIE3tB,EAJF2tB,OATqC,EAanC3tB,EAHFi3D,2BAVqC,WAanCj3D,EAFFu0C,wBAXqC,SAYrCtI,EACEjsC,EADFisC,QAIKre,EADS1c,qBAAW9c,iBACpBw5B,IAhBgC,EAkBLvtB,qBAlBK,mBAkBhCurC,EAlBgC,KAkBrBC,EAlBqB,KAmBjCwvB,EAAmB/3D,iBAAO,IAE1B2yC,EAAO,uCAAG,8BAAAp+C,EAAA,sEACS+1B,EAAI6P,aAjEhB,4sBAgEG,OACRxoB,EADQ,OAEd42B,EAAa52B,aAAD,YAACA,EAAUhmB,YAAX,aAAC,EAAgB28C,WAFf,2CAAH,qDAKPnO,EAAY,uCAAG,sBAAA5lC,EAAA,6DACnBo0C,GAAQ,GADW,SAEbgK,IAFa,OAGnBhK,GAAQ,GAHW,2CAAH,qDAgBlB,GAVAzrC,qBAAU,WACRi9B,MACC,IAEHj9B,qBAAU,WACHX,GACH49B,MAED,CAACoG,EAAQ3pC,GAAI2F,KAEX+rC,EACH,OAAO,KAGT,IAAMhnC,EAAagnC,aAAH,YAAGA,EAAW9zB,SAASrb,MAAK,SAAA5L,GAAC,OAAIA,EAAEqJ,KAAO2pC,EAAQ3pC,aAAlD,uBAAG,EAAoDmgE,yBAAvD,aAAG,EAAuE59D,MAAK,SAAC5E,GAAD,OAAOA,EAAEuE,WAAak8B,EAAOp+B,MACtHohE,EAAYtE,EAAS,CAAC5gE,MAAO,SAAW,CAACs5B,SAAU,SASzD,OACE,yBACEx5B,MAAO,CACLsE,gBAAiBzH,SAAO+X,KACxBzP,QAAS,OACT+J,cAAe,SACfuI,SAAU,SACVvW,SAAU,WACV6L,IAAK+zD,EAAS,OAAS,OACvBz/D,KAAM,EACNsO,MAAO,EACPrO,OAAQ,IAGV,yBACEtB,MAAO,CACL49C,UAAW,OACXt5C,gBAAiBzH,SAAOgY,WACxB1P,QAAS,OACTF,WAAY,SACZT,QAAS,OACTk0C,aAAc,aAAF,OAAe77C,SAAOqH,eAGpC,0BACElE,MAAK,2BAAMlD,QAAM6e,SAAZ,IAAqBkQ,WAAY,SADxC,UAEKluB,yBAAe,cAFpB,cAEuCykC,aAFvC,EAEuCA,EAAQhnC,QAEhDuO,GACC,yBAAK3J,MAAO,CACVmF,QAAS,OACTF,WAAY,SACZC,eAAgB,gBAChBV,QAAS,OACTk0C,aAAc,aAAe77C,SAAOqH,cAEpC,0BAAMlE,MAAK,eAAMlD,QAAM+e,QAASwiC,EAAiB9kD,OAAjD,IAA0DoE,yBAAe,qBACzE,kBAACulD,EAAA,EAAD,CACEljD,MAAO,CACLoX,OAAQ,aAAF,OAAeva,SAAOsY,iBAC5B3Q,QAAS,oBACTC,aAAc,MACdH,gBAAiBzH,SAAOwH,OAE1B2F,QAnDY,WAChBytB,IACFA,EAAO0tC,EAAiBj5D,SACxBi5D,EAAiBj5D,QAAU,MAkDnB,0BAAMlM,MAAOlD,QAAMiR,QAChBpQ,yBAAe,cAM1B,yBAAKqC,MAAO,CAACkB,SAAU,WAAYuW,SAAU,WAC3C,yBAAKzX,MAAK,aAAGE,MAAO,QAASsE,QAAS,QAAWxE,KAC7CklE,GAAkB,kBAAC,GAAD,CAAgB9iC,OAAQA,IAC3Cz4B,GAAa,kBAAC,KAAD,MACd,kBAAC,GAAD,CACEgkC,QAASA,EACTvL,OAAQA,EACRz4B,UAAWA,EACXm3D,OAAQA,EACRzxD,SAAU,SAACwyD,GACTsD,EAAiBj5D,QAAQ21D,IAAMA,GAEjCd,oBAAqBA,IAEvB,kBAAC,EAAD,CACEj/C,UAAW6rB,EAAQ3pC,GACnB0K,WAAYA,EACZ+oB,OAAQ,SAAC/oB,GACPy2D,EAAiBj5D,QAAQm5D,iBAAmB32D,GAE9C/E,UAAWA,IAEb,kBAAC,GAAD,CACEzD,SAAUk8B,EAAOp+B,GACjB8d,UAAW6rB,EAAQ3pC,GACnBg/D,oBAAqBA,EACrBr5D,UAAWA,EACX8tB,OAAQ,SAAC0f,GACPguB,EAAiBj5D,QAAQtF,qBAAuBuwC,MAGlDxtC,GACA,kBAAC,GAAD,CACE3J,MAAOolE,EACPtjD,UAAW6rB,EAAQ3pC,GACnBkC,SAAUk8B,EAAOp+B,GACjBwgE,gBAAiB1D,EACjB4D,aAAc,MAGjB/6D,GAAa,yBAAK3J,MAAO,CAACC,OAAQ,gB,UCZ9BqlE,GAtIiB,SAACx7D,GAAU,gBACjCmb,EAAoDnb,EAApDmb,UAAW0oB,EAAyC7jC,EAAzC6jC,QAASvL,EAAgCt4B,EAAhCs4B,OAAQ4gC,EAAwBl5D,EAAxBk5D,oBAE5BtrC,EADQ1c,qBAAW9c,iBACnBw5B,IAHiC,EAIPvtB,qBAJO,mBAIlCurC,EAJkC,KAIvBC,EAJuB,KAKjCz1C,EAAU+K,gCAAV/K,MAEFqlE,EAAO,uCAAG,8BAAA5jE,EAAA,sEACS+1B,EAAI6P,aAxDhB,kxBAwDqCoG,EAAQ3pC,IAD1C,OACR+a,EADQ,OAEd42B,EAAa52B,aAAD,YAACA,EAAUhmB,YAAX,aAAC,EAAgB28C,WAFf,2CAAH,qDAKbprC,qBAAU,WACRi7D,MACC,CAAC53B,EAAQ3pC,GAAIihB,EAAUjhB,KAE1B,IAAMrJ,EAAI+6C,aAAH,YAAGA,EAAW9zB,gBAAd,aAAG,EAAqBrb,MAAK,SAAC5L,GAAD,OAAOA,EAAEqJ,KAAO2pC,EAAQ3pC,MACtDmgE,EAAoBxpE,aAAH,YAAGA,EAAGwpE,yBAAN,aAAG,EAAsB59D,MAC9C,SAAC5E,GAAD,OAAOA,EAAEuE,WAAak8B,EAAOp+B,MAEzB0K,EAAay1D,aAAH,YAAGA,EAAmBC,kCAAtB,aAAG,EAA+C79D,MAChE,SAACi/D,GAAD,OAAQA,EAAG3+D,eAAiBoe,EAAUjhB,MAGlCyhE,EAAM/vB,aAAH,YAAGA,EAAW+Q,eAAd,aAAG,EAAoBlgD,MAAK,SAACrL,GAAD,OAAOA,EAAE8I,KAAOo+B,EAAOp+B,MACtDJ,EAAoBF,+BACxB+hE,aAD4C,YAC5CA,EAAK9hE,mBADuC,aAC5C,EAAkB4C,MAAK,SAACzC,GAAD,OAAOA,EAAE4iD,YAE5BpuC,GAAe5J,aAAA,EAAAA,EAAYkpB,UAC7Bh0B,EAAkBu1B,WAAU,SAACr1B,GAAD,OAAOA,EAAEE,MAAO0K,aAAT,EAASA,EAAYkpB,aACxD,EAEE50B,GACJyiE,aAAA,YAAAA,EAAKlqC,kBAAL,eAAiB75B,KAAI,SAACpG,GAAD,MAAQ,CAC3B0I,GAAI1I,EAAE0I,GACN5I,KAAME,EAAEF,WACH,GAET,OACE,yBACE4E,MAAO,CACLmF,QAAS,OACT+J,cAAe,SACfhO,SAAU,WACV+N,UAAW,OACXwI,SAAU,SACV1K,IAAK,EACL1L,KAAM,EACNsO,MAAO,EACPrO,OAAQ,IAGV,yBACEtB,MAAO,CACLC,OAAQ,OACRqE,gBAAiBzH,SAAOgY,WACxB1P,QAAS,OACTF,WAAY,SACZT,QAAS,OACTk0C,aAAc,aAAF,OAAe77C,SAAOqH,eAGpC,0BACElE,MAAK,2BACAlD,QAAM6e,SADN,IAEHkQ,WAAY,MACZpU,SAAU,SACVC,aAAc,WACdC,WAAY,SACZzX,MAAO,GAAF,OAAKA,EAAQ,IAAb,MACLwlE,WAAY,UARhB,UAUK/nE,yBAAe,mCAVpB,YAWEsnB,aAXF,EAWEA,EAAW7pB,OAEb,yBACE4E,MAAO,CACLE,MAAO,QACPgB,SAAU,WACVyO,MAAO,OACPnL,QAAS,oBACTC,aAAc,MACdH,gBAAiBzH,SAAOwH,MACxBwL,UAAW,iCAGb,kBAAC,KAAD,CACE7M,QAASA,EACTuV,SAAU5a,yBACR,6CAEF9B,MAAOopB,EAAUjhB,GACjB+2C,aAAc,SAACx9C,GAAM,MACnBylE,EACEyC,aADiB,YACjBA,EAAKlqC,kBADY,aACjB,EAAiBh1B,MAAK,SAACjL,GAAD,OAAOA,EAAE0I,KAAOzG,EAAEgS,OAAO1T,WAGnDmE,MAAO,CAAEgP,aAAc,OAAQ1K,gBAAiBzH,SAAOwH,WAI7D,yBAAKrE,MAAO,CAAEwE,QAAS,OAAQiT,SAAU,SAAUxX,OAAQ,SACzD,yBAAKD,MAAO,CAAEE,MAAO,QAAS8O,aAAc,SAC1C,0BACEhP,MAAK,2BACAlD,QAAM+e,OADN,IAEH9X,MAAOlH,SAAO2Y,eACd9K,WAAY,UAGb/M,yBAAe,oBAElB,kBAAC,IAAD,CAAMqC,MAAO,CAAEiP,UAAW,SACxB,kBAAC,GAAD,CACEP,WAAYA,EACZ4J,aAAcA,EACdtU,GAAI0K,aAAF,EAAEA,EAAY1K,GAChBJ,kBAAmBA,EACnB45D,sBAAuBv4C,aAAF,EAAEA,EAAWu4C,0BAIxC,kBAAC,GAAD,CACEx9D,MAAO,CAAEw5B,SAAU,SACnB1X,UAAW6rB,EAAQ3pC,GACnBkC,SAAUk8B,EAAOp+B,GACjBwgE,gBAAc,EACd9qB,kBAAmBz0B,EACnBy/C,aAAc,SCxFTiB,GA1FS,SAAC77D,GAAU,IAE/B6jC,EAQE7jC,EARF6jC,QACAqK,EAOEluC,EAPFkuC,QACA+mB,EAMEj1D,EANFi1D,iBACgB6G,EAKd97D,EALF+7D,eACAtrB,EAIEzwC,EAJFywC,WACAqkB,EAGE90D,EAHF80D,cACAoE,EAEEl5D,EAFFk5D,oBACAtpB,EACE5vC,EADF4vC,kBAEIh9C,EAASuO,gCAXkB,EAYWd,mBAASy7D,GAZpB,mBAY1BC,EAZ0B,KAYVC,EAZU,KAc3B5G,EAAc,GAAH,OAAMvxB,EAAQ7rC,WAAd,YAA4B6rC,EAAQ3rC,WAMrD,OAJAsI,qBAAU,WACRy0D,EAAiB8G,KAChB,CAACA,IAGF,yBACE7lE,MAAO,CACLkB,SAAU,WACVhB,MAAO,GAAF,OAAKxD,EAAOwD,MAAQ,IAApB,MACLmB,KAAM,GAAF,OAAqB,IAAf3E,EAAOwD,MAAb,MACJD,OAAQ,GAAF,OAAKvD,EAAOuD,OAAZ,MACNkF,QAAS,OACTb,gBAAiBzH,SAAO+X,KACxB1F,cAAe,SACfkI,OAAQ,mBAGV,kBAAC,EAAD,CACEwnD,cAAeA,EACfrkB,WAAYA,EACZvC,QAASA,EACTknB,YAAaA,EACbz8B,WAAYojC,aAAF,EAAEA,EAAgBzqE,KAC5BynC,cAAe6W,aAAF,EAAEA,EAAmBt+C,KAClC+jE,OACEzlB,GAAqBmsB,EACjB,WACInsB,EACFspB,EAAoB,MACX6C,GACTC,EAAkB,OAGpB,OAGPpsB,GACC,kBAAC,GAAD,CACE/L,QAASA,EACT1oB,UAAWy0B,EACXtX,OAAQyjC,EACR7C,oBAAqBA,IAGxB6C,IAAmBnsB,GAClB,kBAAC,GAAD,CACEwrB,gBAAc,EACdv3B,QAASA,EACTvL,OAAQyjC,EACR7C,oBAAqBA,EACrBtpB,kBAAmBA,EACnB3D,QAAS,eAIb,yBAAK/1C,MAAO,CAAEiP,UAAW,OAAQwI,SAAU,SAAUtS,QAAS,UAC1D0gE,GACA,kBAAC,EAAD,CAAal4B,QAASA,EAASoxB,iBAAkB+G,KAGrD,yBACE9lE,MAAO,CACLE,MAAO,OACPD,OAAQ,OACRiB,SAAU,WACVyO,OAAQ,GACR5C,IAAK,EACLzI,gBAAiB,cACjBuL,UAAW,oC,+BC5FN,I,OAAA,IAA0B,0DCA1B,OAA0B,0DCA1B,OAA0B,uDCA1B,OAA0B,yD,mBCyEnCsyD,GAAMxkE,yBAAe,uBACrBouB,GAAMpuB,yBAAe,oBAkEZyL,mBAhEC,SAACU,GAAU,cAClB+3D,EAAiB/3D,EAAjB+3D,IAAK12C,EAAYrhB,EAAZqhB,SAEZ,OACE,yBACEnrB,MAAO,CACLmF,QAAS,OACTq0B,SAAU,OACVv0B,WAAY,SACZC,eAAgB,iBAGlB,kBAAC,IAAD,CAASoC,MAAO66D,IACd,yBACEniE,MAAO,CACLmF,QAAS,OACT+J,cAAe,SACfjK,WAAY,SACZ+J,aAAc,SAjFJ,SAACjP,EAAQorB,GAC7B,IAAM46C,EAAU,CACd7lE,MAAO,OACPD,OAAQ,OACRwE,aAAc,OACdH,gBAAiBzH,SAAOgZ,SACxBhL,OAAQ,mBAEV,IAAK9K,EACH,OACE,yBACEC,MAAO,CACLE,MAAO,MACPD,OAAQ,OACRmX,OAAQ,aAAF,OAAe+T,EAAWtuB,SAAOsY,gBAAkBtY,SAAOqH,aAChEO,aAAc,OACdo+D,SAAU,OACVrpC,SAAU,OACV3uB,OAAQ,sBAKhB,OAAQ9K,GACN,IAAK,KACH,OACE,yBAAKC,MAAO+lE,GACV,kBAAC,KAAD,CAAM5lE,KAAM6lE,GAAYhmE,MAAO,CAACE,MAAO,WAG7C,IAAK,KACH,OACE,yBAAKF,MAAK,2BAAM+lE,GAAN,IAAezhE,gBAAiBzH,SAAO4X,WAC/C,kBAAC,KAAD,CAAMtU,KAAM8lE,GAAajmE,MAAO,CAACE,MAAO,WAG9C,IAAK,KACH,OACE,yBAAKF,MAAK,2BAAM+lE,GAAN,IAAezhE,gBAAiBzH,SAAO2I,OAC/C,kBAAC,KAAD,CAAMrF,KAAM+lE,GAAUlmE,MAAO,CAACE,MAAO,WAI3C,QACE,OACE,yBACEF,MAAO,CACLE,MAAO,MACPD,OAAQ,OACRmX,OAAQ,aAAF,OAAeva,SAAOqH,aAC5BO,aAAc,OACdo+D,SAAU,OACVrpC,SAAU,OACV3uB,OAAQ,uBA+BTs7D,CAActE,aAAD,YAACA,EAAK9hE,cAAN,aAAC,EAAaA,OAAQorB,IACnC02C,aAAA,YAAAA,EAAK9hE,cAAL,eAAaA,SACZ,kBAAC,KAAD,CACE4K,SAASk3D,aAAA,YAAAA,EAAK9hE,cAAL,eAAamH,WAAYD,IAAeC,UAAYD,IAAeE,aAC5EnH,MAAO,CACL+D,OAAO89D,aAAA,YAAAA,EAAK9hE,cAAL,eAAamH,WAAYrK,SAAO0H,MAAQ1H,SAAO+N,cAKhE,kBAAC,IAAD,CAAStD,MAAOykB,IACd,yBAAK/rB,MAAO,CAACkB,SAAU,WAAY8N,aAAc,QAC/C,kBAAC,KAAD,CAAM7O,KAAMimE,GAAYpmE,MAAO,CAACE,MAAO,UACvC,yBACEF,MAAO,CACLkB,SAAU,WACVI,OAAQ,EACRqO,OAAQ,EACRrL,gBAAiBzH,SAAOiT,MACxB5P,MAAO,OACPD,OAAQ,OACRwE,aAAc,OACdU,QAAS,OACTF,WAAY,SACZC,eAAgB,WAGlB,0BACElF,MAAK,2BACAlD,QAAM4S,MADN,IAEH3L,MAAOlH,SAAOwH,MACd4K,UAAW,MACXqH,SAAU,SAGXurD,aARH,YAQGA,EAAKlB,wBARR,aAQG,EAAuBpnE,e,oBC3HhCyD,GAAS,CACb4hD,UAAW,CACTz5C,QAAS,OACTq0B,SAAU,QACVv0B,WAAY,SACZC,eAAgB,gBAElBkmB,KAAM,CACJnmB,WAAY,SACZE,QAAS,OACT+J,cAAe,UAEjBqc,aAAc,CAACtrB,OAAQ,OAAQC,MAAO,QACtCmmE,gBAAiB,CAACpmE,OAAQ,OAAQC,MAAO,OAAQ8O,aAAc,SAG3DmzD,GAAMxkE,yBAAe,oBACrBouB,GAAMpuB,yBAAe,4CACrBquB,GAAMruB,yBAAe,uBACrBsuB,GAAMtuB,yBAAe,2BAuDZyL,mBArDiB,SAACU,GAAU,IAClCu7D,EAAoBv7D,EAApBu7D,iBACD1hE,EAAc0hE,aAAH,EAAGA,EAAkB1hE,YAAY4C,MAAK,SAACzC,GAAD,OAAOA,EAAE87D,YAC1D0G,EAAc3iE,aAAH,EAAGA,EAAaE,OAAO0C,MACtC,SAACkhD,GAAD,OAAQA,EAAGzjD,MAAOqhE,aAAV,EAAUA,EAAkB18B,oBAGtC,OACE,yBAAK3oC,MAAOhD,GAAO4hD,WACjB,kBAAC,IAAD,CAASt3C,MAAO66D,IACd,yBAAKniE,MAAOhD,GAAOouB,MACjB,0BACEprB,MAAK,2BACAlD,QAAM+e,OADN,IAEH9X,OAAOshE,aAAA,EAAAA,EAAkBhG,aAAcxiE,SAAO+Y,eAC9CiW,WAAY,UAGbw5C,aAAA,EAAAA,EAAkB9F,YAAa,KAElC,kBAAC,KAAD,CAAer4D,UAAWm+D,EAAiBx4C,gBAAiBxjB,UAAUg8D,aAAD,EAACA,EAAkB9F,eAG5F,kBAAC,IAAD,CAASj4D,MAAOykB,IACd,yBAAK/rB,MAAOhD,GAAOouB,MACjB,0BACEprB,MAAK,2BACAlD,QAAM+e,OADN,IAEHgQ,WAAY,MACZ9nB,OAAOuiE,aAAA,EAAAA,EAAa1oE,OAChBf,SAAO4Y,eACP5Y,SAAO+Y,mBAGZ0wD,aAAA,EAAAA,EAAa1oE,QAAS,KAEzB,kBAAC,KAAD,CAAesJ,UAAWm+D,aAAF,EAAEA,EAAkBt0B,uBAAwB1nC,UAAUi9D,aAAD,EAACA,EAAa1oE,WAG/F,kBAAC,IAAD,CAAS0J,MAAO0kB,IACd,yBAAKhsB,MAAOhD,GAAOouB,MACjB,kBAAC,KAAD,CAAMjrB,KAAMisB,KAAe/iB,OAAQg8D,aAAF,EAAEA,EAAkBh5C,SAAUrsB,MAAOhD,GAAOuuB,eAC7E,kBAAC,KAAD,CAAerkB,UAAWm+D,aAAF,EAAEA,EAAkB/4C,mBAAoBjjB,UAAUg8D,aAAD,EAACA,EAAkBh5C,cAGhG,kBAAC,IAAD,CAAS/kB,MAAO2kB,IACd,6BACE,kBAAC,KAAD,CAAM9rB,KAAM2sB,KAAWzjB,UAAUg8D,aAAD,EAACA,EAAkBt4C,cAAc/sB,MAAOhD,GAAOqpE,wBCxEnFrpE,GAAS,CACbouB,KAAM,CACJjmB,QAAS,OACTjF,MAAO,OACPD,OAAQ,OACRmX,OAAQ,gBACRnS,WAAY,SACZC,eAAgB,SAChBgK,cAAe,WA6DJ9F,mBAzD6B,SAACU,GAAU,IAC9ClD,EAA8CkD,EAA9ClD,qBAAsBjD,EAAwBmG,EAAxBnG,YAAa86C,EAAW30C,EAAX20C,QADW,EAEHt0C,mBAAS,IAFN,mBAE9C4tC,EAF8C,KAE3B4H,EAF2B,OAGnBx1C,mBAAS,IAHU,mBAG9Co8D,EAH8C,KAGnCC,EAHmC,KAmBrD,OAdAl8D,qBAAU,WACRq1C,EAAqB/4C,aAAD,EAACA,EAAsB3E,MAAK,SAACN,EAAGO,GAAJ,OAAWP,EAAEvG,KAAK+G,cAAcD,EAAE9G,UAAMghC,EAAW,CACjGC,SAAS,EACTC,WAAY,eAEb,CAAC11B,IAEJ0D,qBAAU,WAAM,MACdk8D,EAAa7iE,aAAD,YAACA,EAAaE,cAAd,aAAC,EAAqByb,QAAO,SAAC8V,EAAKtxB,GAE7C,OADAsxB,EAAItxB,EAAEE,IAAMF,EACLsxB,IACN,OACF,CAACzxB,IAGF,yBAAK3D,MAAO,CAACmF,QAAS,OAAQjF,MAAO,OAAQgF,eAAgB,iBAC1D6yC,aADH,EACGA,EAAmBr2C,KAAI,SAACgN,GACvB,IAAMwpB,GAAQxpB,aAAA,EAAAA,EAAYkpB,UAAW2uC,EAAU73D,EAAWkpB,UAAY,KACtE,OACE,yBACEz7B,IAAKuS,EAAW1K,GAChBhE,MAAO,CACLmF,QAAS,OACT+J,cAAe,MACf0qC,YAAa,aAAF,OACT6E,IAAY5hD,SAAOwH,MACfxH,SAAOsY,gBACPtY,SAAOqH,eAIf,kBAAC,IAAD,CAAS/H,IAAKuS,EAAW1K,GAAIsD,MAAOoH,EAAWtT,MAC7C,yBAAK4E,MAAOhD,GAAOouB,MACzB,0BACEprB,MAAK,2BACAlD,QAAMiR,QADN,IAEH8d,WAAY,MACZ9nB,OAAOm0B,aAAA,EAAAA,EAAOn0B,QAASlH,SAAO+Y,kBAGnC,KACIsiB,aAAA,EAAAA,EAAOt6B,QAAS,KAEX,kBAAC,KAAD,CAAesJ,UAAWwH,aAAF,EAAEA,EAAYme,gBAAiBxjB,UAAU6uB,aAAD,EAACA,EAAOt6B,oBCNzEwL,mBArDY,SAACU,GAAU,IAElC24B,EACE34B,EADF24B,WAAYm8B,EACV90D,EADU80D,cAA2BM,GACrCp1D,EADyBk5C,WACzBl5C,EADqCo1D,aAEnCzd,EAAMx2C,gCAEZ,OACE,yBACEjL,MAAO,CACLC,OAAQ,OACRC,MAAOuhD,EAAIvhD,MAAQ,IACnBoE,gBAAiBzH,SAAO2Y,eACxBvQ,WAAY,SACZE,QAAS,OACT02C,UAAW,OACXr3C,QAAS,mBACTtD,SAAU,UAGZ,yBACElB,MAAO,CAAE0K,WAAY,OAAQzF,WAAY,SAAUE,QAAS,SAE3Dy5D,GACC,oCACE,0BAAM5+D,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBhK,MAAOlH,SAAOwH,SAC3Cu6D,GAEH,kBAACzhB,EAAA,EAAD,CACEn9C,MAAO,CACL+D,MAAOlH,SAAOwH,MACd0lB,UAAW,iBACX9pB,OAAQ,UAGZ,0BAAMD,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBhK,MAAOlH,SAAOwH,SAC3Co+B,GAEH,kBAAC0a,EAAA,EAAD,CACEn9C,MAAO,CACL+D,MAAOlH,SAAOwH,MACd0lB,UAAW,iBACX9pB,OAAQ,UAGZ,0BAAMD,MAAK,2BAAOlD,QAAMiR,QAAb,IAAqBhK,MAAOlH,SAAOwH,SAC3C66D,S,UCmIA91D,mBA9KS,SAAlBq9D,EAAmB38D,GAAU,MAE/B8X,EAOE9X,EAPF8X,SACAxd,EAME0F,EANF1F,WACAupC,EAKE7jC,EALF6jC,QACA2Q,EAIEx0C,EAJFw0C,UACAF,EAGEt0C,EAHFs0C,aACAphD,EAEE8M,EAFF9M,OACA0pE,EACE58D,EADF48D,gBAR+B,EAWDv8D,oBAAS,GAXR,mBAW1BwxC,EAX0B,KAWhBgrB,EAXgB,OAYWx8D,mBAAS,IAZpB,mBAY1By8D,EAZ0B,KAYVC,EAZU,KAc1Bl9C,EADS3O,qBAAW9c,iBACpByrB,cAEDm9C,GAAiB1iE,aAAA,YAAAA,EAAY6B,mBAAZ,eAAyB1M,QAAS,EAEnDklD,EAAUr6C,EAAWQ,SAAW/H,SAAOmI,MAAQnI,SAAO0H,MAE5D+F,qBAAU,WACRu8D,EAAkBjlD,EACf3f,MAAK,SAACN,EAAGO,GAC2B,MAE5B,EAFP,MAAsB,cAAlBynB,EACF,UAAOhoB,EAAEG,kBAAT,aAAO,EAAcK,cAAcD,EAAEJ,YAErC,UAAOH,EAAEK,iBAAT,aAAO,EAAaG,cAAcD,EAAEF,iBAKzC,CAAC2nB,EAAe/H,IA/Bc,MAiCSzX,mBAAS,IAjClB,mBAiC1Bo0C,EAjC0B,KAiCXC,EAjCW,KA0CjC,OAPAl0C,qBAAU,WACRk0C,EAAiBp6C,EAAW4d,YAAY1C,QAAO,SAAC8V,EAAKzzB,GAEnD,OADAyzB,EAAIzzB,EAAEunB,YAAcvnB,EACbyzB,IACN,OACF,CAAChxB,IAGF,yBACEpE,MAAO,CACLkB,SAAU,WACViE,QAAS,OACTb,gBAAiBq3C,EAAW9+C,SAAOmI,MAAQ,cAC3C6F,OAAQ8wC,EAAW,kBAAoB,IAGzC,2BAAO37C,MAAK,eAAMhD,EAAOugD,QACvB,wBAAIv9C,MAAO,IACT,wBACE+mE,QAAS,EACT/mE,MAAO,CACLsE,gBAAuC,WAAtBF,aAAA,EAAAA,EAAYtD,OAAoBjE,SAAO8I,MAAQ84C,EAChEx+C,OAAQ,SAGV,yBACED,MAAO,CACLmF,QAAS,OACTD,eAAgB,gBAChBD,WAAY,WAGd,0BACEjF,MAAK,2BACAlD,QAAMiR,QADN,IAEH4J,WAAY,SACZD,aAAc,WACdD,SAAU,SACVorD,SAAU,QACV9+D,MAAOlH,SAAOwH,MACdwG,OAAQ,qBAGTzG,EAAWkD,OAEblD,EAAWQ,UAAYkiE,IAAmBnrB,GACzC,kBAAC,IAAD,CAASr0C,MAAO3J,yBAAe,uBAC7B,6BACE,kBAAC,KAAD,CACE2d,KAAMze,SAAOwH,MACbrE,MAAO,CAACwK,OAAQ,UAAW9F,YAAa,OACxCsF,QAAS,kBAAM28D,GAAahrB,WAQzCirB,EAAellE,KAAI,SAACslE,GACnB,IAAMt4D,EAAa6vC,EAAcyoB,EAAKhjE,IAChCy6C,EAAUuoB,EAAKhjE,KAAOs6C,EAAYzhD,SAAO+X,KAAO/X,SAAOwH,MACvDC,EACJ0iE,EAAKhjE,KAAO2pC,EAAQ3pC,GAAKnH,SAAOqH,YAAcu6C,EAChD,OAAK/vC,EAiBH,wBACE1E,QAAS,kBAAM08D,EAAgBh4D,EAAWwa,aAC1C/Z,aAAc,kBAAMivC,EAAa1vC,EAAWwa,aAC5C9Z,aAAc,kBAAMgvC,EAAa,OACjCjiD,IAAKuS,EAAW1K,GAChBhE,MAAO,CACLsE,kBACArE,OAAQ,OACRuK,OAAQ,YAGV,4BACE,kBAAC,IAAD,CAASlD,MAAOvB,wBAAc2I,aAAD,EAACA,EAAYmpB,aACxC,yBAAK73B,MAAO,CAACE,MAAM,OAAQiF,QAAQ,OAAQF,WAAW,SAAUC,eAAe,WAC5EnE,4BAAkB,CAAChB,OAAQ2O,aAAF,EAAEA,EAAYmpB,WAAY73B,MAAM,CAAC49C,UAAW,aAI5E,wBAAI59C,MAAOhD,EAAOiqE,IAChB,kBAAC,KAAD,CAAiBv4D,WAAYA,MAlC/B,wBACE1E,QAAS,kBAAM08D,EAAgBM,EAAKhjE,KACpCmL,aAAc,kBAAMivC,EAAa4oB,EAAKhjE,KACtCoL,aAAc,kBAAMgvC,EAAa,OACjCjiD,IAAK6qE,EAAKhjE,GACVhE,MAAO,CACLsE,kBACArE,OAAQ,OACRuK,OAAQ,iBAgCnBmxC,GACC,yBACE37C,MAAO,CACLmF,QAAS,OACTb,gBAAiBzH,SAAOmI,MACxBimB,aAAc,SAGf7mB,EAAW6B,YACTI,QAAO,SAAA1E,GAAC,OAAIA,EAAEgD,aACd1C,MAAK,SAACN,EAAGO,GAAJ,OAAUP,EAAE2F,MAAMnF,cAAcD,EAAEoF,UACvC5F,KAAI,SAACC,GAAD,OACH,kBAAC8kE,EAAD,eAAiBtqE,IAAKwF,EAAEqC,IAAxB,2BAAoC8F,GAApC,IAA2C1F,WAAYzC,UAI9Dg6C,GACC,kBAAC,KAAD,CACErgC,KAAMze,SAAOwH,MACbrE,MAAO,CACLwK,OAAQ,UACRtJ,SAAU,WACVyO,MAAO,OACP5C,IAAK,OACLgd,UAAW,kBAEb/f,QAAS,kBAAM28D,GAAahrB,U,UCzBhC3+C,GAAS,CACbkqE,OAAQ,2BACHpqE,QAAMiR,QADL,IAEJ8d,WAAY,MACZrnB,QAAS,kBACTmT,WAAY,SACZ+kC,UAAW,SACXz8C,OAAQ,OACRwX,SAAU,SACVC,aAAc,aAEhByvD,OAAQ,2BACHrqE,QAAMiR,QADL,IAEJ5I,QAAS,eACT0F,OAAQ,oBACR4M,SAAU,SACVC,aAAc,WACdC,WAAY,SACZzX,MAAO,QACPkX,OAAQ,YACRslC,UAAW,UAEba,MAAO,CACL1tC,UAAW,+BACXhF,OAAQ,qBACRvG,gBAAiBzH,SAAO+X,KACxB3U,OAAQ,MAEVgnE,GAAI,GACJG,WAAY,CACV9iE,gBAAiBzH,SAAOwH,MACxBnD,SAAU,QACVhB,MAAO,QACPyP,MAAO,EACP5C,IAAK,EACL0K,SAAU,SACVjT,QAAS,mBACTyK,UAAW,SAITmH,GAAgBvI,aAAW,CAC/BC,KAAM,CACJ/J,MAAOlH,SAAOsY,gBACdkB,YAAa,EACb3L,WAAY,MACZ,YAAa,CACX3G,MAAOlH,SAAO0H,OAEhB,qBAAsB,CACpB+R,SAAU,WAIdC,QAAS,IAbW1I,CAcnB2I,MAEG6wD,GAA6B,CAACnnE,MAAO,SAif5BkJ,mBA/eM,SAACU,GAAU,IACvBs4B,EAA4Ct4B,EAA5Cs4B,OAAiBklC,EAA2Bx9D,EAApC6jC,QAAyBqK,EAAWluC,EAAXkuC,QAClCj9B,EAAUC,qBAAW9c,iBACpBw5B,EAAsC3c,EAAtC2c,IAAKzc,EAAiCF,EAAjCE,eAAgB0O,EAAiB5O,EAAjB4O,cAHE,EAIIxf,qBAJJ,mBAIvBurC,EAJuB,KAIZC,EAJY,OAKAxrC,mBAASm9D,GALT,mBAKvB35B,EALuB,KAKd45B,EALc,OAMIp9D,qBANJ,mBAMvBm0C,EANuB,KAMZF,EANY,KAOxBqD,EAAMx2C,gCAPkB,EAQFd,oBAAS,GARP,mBAQvB21C,EARuB,KAQf0jB,EARe,OASIr5D,oBAAS,GATb,mBASvBR,EATuB,KASZ01C,EATY,OAUkBl1C,oBAAS,GAV3B,mBAUvBk0C,EAVuB,KAULiB,EAVK,KAWxBkoB,EAAkCp6D,mBAClCwU,EAAWxU,iBAAO,IAZM,EAacjD,mBAAS,IAbvB,mBAavBy8D,EAbuB,KAaPC,EAbO,OAcwB18D,mBAAS,IAdjC,mBAcvB42D,EAduB,KAcF0G,GAdE,QAeoBt9D,mBAAS,IAf7B,qBAevBquC,GAfuB,MAeJkH,GAfI,SAgBUv1C,mBAAS,IAhBnB,qBAgBvBu9D,GAhBuB,MAgBTC,GAhBS,SAiB0Bx9D,mBAAS,IAjBnC,qBAiBvBy9D,GAjBuB,MAiBDC,GAjBC,SAkBC9uD,sBAAW,SAACvM,GAAD,OAAOA,EAAI,IAAG,GAlB1B,qBAkBdwM,IAlBc,gBAmBoB7O,oBAAS,GAnB7B,qBAmBvBq1C,GAnBuB,MAmBJC,GAnBI,SAoBAt1C,oBAAS,GApBT,qBAoBvB4rC,GApBuB,MAoBdC,GApBc,MAuBxB8xB,GAAe/vC,mBAAQ,kBAAMC,KAAS,SAACh0B,GAC3CujE,EAAWvjE,KACV,IAAK,CAAC+jE,UAAU,EAAOC,SAAS,MAAQ,CAAC5lC,EAAOp+B,KAM7CikE,IAJYjoB,uBAAY,SAACjK,GAC7BC,GAAWD,KACV,CAAC3T,EAAOp+B,KAEWg0B,IAAQ,sBAAC,gCAAAr2B,EAAA,sEACJ+1B,EAAI6P,aA7NlB,ipEA4NkB,OACrBxoB,EADqB,SAEPA,aAFO,EAEPA,EAAUhmB,MAAvB28C,EAFoB,EAEpBA,WACGzvC,YAAcD,sCACtB0vC,aADiD,EACjDA,EAAWzvC,YACXm8B,EAAOp+B,IAET2xC,EAAaD,GAEb/nC,YAAW,kBAAM8xC,IAAqB,KAAO,KATlB,2CAW7B,MAEIyoB,GAAYloB,sBAAW,uCAAC,WAAO7I,GAAP,6BAAAx1C,EAAA,qEACxBw1C,EAAQ0qB,WADgB,aACxB,EAAah6B,WADW,uBAEnBA,EAAasP,EAAQ0qB,IAArBh6B,UAFmB,SAGpBjpC,KAAQ8C,IAAI28C,EAAZ,uCAA8B,WAAOr6C,GAAP,uBAAArC,EAAA,6DAC5BgsC,EAAU+H,aADkB,YAClBA,EAAW9zB,gBADO,aAClB,EAAqBrb,MAAK,SAAC5L,GAAD,OAAOA,EAAEqJ,KAAOA,KACpD69D,EAAMl0B,aAFsB,EAEtBA,EAASm0B,IAAIv7D,MAAK,SAAChJ,GAAD,OAAOA,EAAE2I,WAAak8B,EAAOp+B,MACrDg6D,EAAU,CACdj+D,OAAQ8nC,aAAF,EAAEA,EAAW9nC,OACnBmpB,WAAYllB,EACZmiB,UAAWic,EAAOp+B,GAClBkD,UAAWJ,6BAAmB+gC,EAAU3gC,WAAW26D,aAAA,YAAAA,EAAK9hE,cAAL,eAAamH,aAAa,GAC7Eu5D,SAAUroC,KAAKC,OARiB,SAU5BX,EAAI+P,uBAAuBu2B,GAVC,2CAA9B,uDAHoB,YAgBxB7mB,aAhBwB,YAgBxBA,EAAS0qB,WAhBe,aAgBxB,EAAclB,kBAhBU,uBAiBnBA,EAAoBxpB,EAAQ0qB,IAA5BlB,iBACAS,EAAgCT,EAAhCS,mBAAoBl7D,EAAYy6D,EAAZz6D,SAlBD,SAmBpBtH,KAAQ8C,IAAI28C,EAAZ,uCAA8B,WAAOr6C,GAAP,mBAAArC,EAAA,6DAC5BgsC,EAAU/rB,EAAS1V,QAAQ3F,MAAK,SAAC5L,GAAD,OAAOA,EAAEqJ,KAAOA,KAChDmkE,EAAQx6B,EAAQm0B,IAAIv7D,MAAK,SAAChJ,GAAD,OAAOA,EAAE2I,WAAak8B,EAAOp+B,MACzD28D,iBACG5nE,EAAOqoE,EAAmB/6D,QAAO,SAACnL,GACtC,QAAiB,YAAbA,EAAE6E,SACCooE,EAAM5hE,MAAK,SAAChJ,GAAD,OAAOA,EAAE6qE,sBAAwBltE,EAAE8I,UANrB,SAY5B0zB,EAAIoQ,+BACR/uC,EAAK2I,KAAI,SAACxG,GAAD,OAAOA,EAAE8I,MAClBkC,EACAlC,GAfgC,2CAA9B,uDAnBoB,YAsCxBmzC,aAtCwB,EAsCxBA,EAASkuB,kBAtCe,wBAuCpBgD,EAAWhqB,EAAiB38C,KAAI,SAACogB,GAAc,UAC5CujD,EAAoBluB,EAApBkuB,iBACD32D,EAAagnC,aAAH,YAAGA,EAAW9zB,gBAAd,uBAAG,EAAqBrb,MAAK,SAAC5L,GAAD,OAAOA,EAAEqJ,KAAO8d,YAA7C,uBAAG,EACfqiD,yBADY,aAAG,EACI59D,MAAK,SAAC5E,GAAD,OAAOA,EAAEuE,WAAak8B,EAAOp+B,MACzD,kCACK0K,GADL,IAEE2d,UAAUg5C,aAAA,EAAAA,EAAkBh5C,WAAY3d,EAAW2d,SACnDC,mBAAoBxlB,6BAAmBu+D,aAAD,EAACA,EAAkB/4C,mBAAoB5d,EAAW4d,oBACxFsL,UAAUytC,aAAA,EAAAA,EAAkBztC,WAAYlpB,EAAWkpB,SACnD/K,gBAAiB/lB,6BAAmBu+D,aAAD,EAACA,EAAkBx4C,gBAAiBne,EAAWme,iBAClF8b,iBAAiB08B,aAAA,EAAAA,EAAkB18B,kBAAmBj6B,EAAWi6B,gBACjEoI,uBAAwBjqC,6BAAmBu+D,aAAD,EAACA,EAAkBt0B,uBAAwBriC,EAAWqiC,wBAChGhkB,cAAcs4C,aAAA,EAAAA,EAAkBt4C,eAAgBre,EAAWqe,kBAnDrC,UAsDpB2K,EAAI+Q,wBAAwB4/B,GAtDR,SAwDxBlxB,aAAJ,EAAIA,EAASvwC,wBACLyhE,EAAWhqB,EACd38C,KAAI,SAACogB,GAAD,OAAetoB,OAAOymB,KAAKk3B,EAAQvwC,sBAAsBlF,KAAI,SAACgF,GAAgB,UAC3EiwC,EAASQ,EAAQvwC,qBAAqBF,GAEtC4hE,GADa5yB,aAAH,YAAGA,EAAW9zB,gBAAd,uBAAG,EAAqBrb,MAAK,SAAC5L,GAAD,OAAOA,EAAEqJ,KAAO8d,YAA7C,uBAAG,EAAsDqiD,yBAAzD,aAAG,EAAyE59D,MAAK,SAAC5E,GAAD,OAAOA,EAAEuE,WAAak8B,EAAOp+B,OAChFogE,2BAA2B79D,MAAK,SAACi/D,GAAD,OAAQA,EAAG3+D,eAAiBpD,SAASiD,EAAa,OAChI,8CACK4hE,GACA3xB,GAFL,IAGE9pB,gBAAiB/lB,6BAAmB6vC,aAAD,EAACA,EAAQ9pB,gBAAiBy7C,aAA1B,EAA0BA,EAA4Bz7C,iBACzFP,mBAAoBxlB,6BAAmB6vC,aAAD,EAACA,EAAQrqB,mBAAoBg8C,aAA7B,EAA6BA,EAA4Bh8C,oBAC/FtoB,GAAIskE,EAA2BtkE,WAGlCuc,OACHmX,EAAIkR,gCAAgCy/B,IAGtChpB,GAAa,GA1Ee,4CAAD,sDA2E1B,CAACjd,EAAOp+B,GAAIq6C,IAGf/zC,qBAAU,WACe,SAAnB2Q,GAAgD,QAAnBA,EAC/BuoD,GAAU,GACD1jB,IACTmoB,KACAzE,GAAU,MAEX,CAACvoD,IAEJ3Q,qBAAU,WACR29D,OACC,IAEH39D,qBAAU,WACwB,IAA5B+zC,EAAiB9kD,QACnB8lD,GAAa,KAEd,CAAChB,IAEJ/zC,qBAAU,WACHX,GACH89D,GAAuB,MAExB,CAAC99D,IAEJW,qBAAU,WAAM,MACdu8D,EAAkBnxB,aAAD,YAACA,EAAW9zB,gBAAZ,aAAC,EACd3f,MAAK,SAACN,EAAGO,GACT,MAAsB,cAAlBynB,EACKhoB,EAAEG,WAAWK,cAAcD,EAAEJ,YAE/BH,EAAEK,UAAUG,cAAcD,EAAEF,eAEvC09C,GAAqBhK,aAAD,EAACA,EAAWzvC,YAC7BI,QAAO,SAAA1E,GAAC,OAAIA,EAAEgD,aACd1C,MAAK,SAACN,EAAGO,GAAJ,OAAUP,EAAE2F,MAAMnF,cAAcD,EAAEoF,WAC1C0R,OACC,CAAC08B,aAAD,EAACA,EAAW9zB,SAAU+H,IAEzBrf,qBAAU,WAAM,QACRi+D,EAAa7yB,aAAH,YAAGA,EAAW9zB,gBAAd,aAAG,EAAqBlgB,KAAI,SAAA/G,GAAC,MAAK,CAChDmnB,UAAWnnB,EAAEqJ,GACb89D,IAAKnnE,EAAEmnE,IAAIv7D,MAAK,SAAAhJ,GAAC,OAAIA,EAAE2I,WAAak8B,EAAOp+B,UAEvC0jE,EAAea,aAAH,EAAGA,EAAYjpD,QAAO,SAAC8V,EAAKozC,GAE5C,OADApzC,EAAIozC,EAAG1mD,WAAa0mD,EAAG1G,IAChB1sC,IACN,IACHuyC,GAAgBD,GAEhB,IAAMvD,EAAoBzuB,aAAH,YAAGA,EAAW9zB,gBAAd,aAAG,EAAqBlgB,KAAI,SAAA/G,GAAC,MAAK,CACvDmnB,UAAWnnB,EAAEqJ,GACbge,YAAarnB,aAAF,EAAEA,EAAGwpE,kBAAkB59D,MAAK,SAAAkiE,GAAE,OAAIA,EAAGviE,WAAak8B,EAAOp+B,UAEhE4jE,EAAuBzD,aAAH,EAAGA,EAAmB7kD,QAAO,SAAC8V,EAAKszC,GAE3D,OADAtzC,EAAIszC,EAAG5mD,WAAa4mD,EAAG1mD,YAChBoT,IACN,IACHyyC,GAAwBD,KACvB,CAAClyB,aAAD,EAACA,EAAW9zB,WAGf,IAAM+mD,GAAuBjzB,aAAH,EAAGA,EAAW+Q,QACrClgD,MAAK,SAACrL,GAAD,OAAOA,EAAE8I,KAAOo+B,EAAOp+B,MAC5BL,YAAY4C,MAAK,SAACzC,GAAD,OAAOA,EAAE4iD,WAEvBkiB,GAA0B,uCAAG,WAAOC,GAAP,eAAAlnE,EAAA,sEACV+1B,EAAI6P,aAAJ,yNADU,OAC3BxoB,EAD2B,OAejC6C,EAAS1V,QAAU6S,EAAShmB,KAAK28C,UAAU9zB,SAC3CknD,GAA0BD,GAhBO,2CAAH,sDAmB1BC,GAAyB,uCAAG,WAAOC,GAAP,iBAAApnE,EAAA,sDAC1BqnE,EAAiBD,EACpBrnE,KAAI,SAACsC,GAAD,uBAAQ4d,EAAS1V,QAAQ3F,MAAK,SAAC5L,GAAD,OAAOA,EAAEqJ,KAAOA,YAA9C,aAAQ,EAA2C89D,IAAIv7D,MAAK,SAAChJ,GAAD,OAAOA,EAAE2I,WAAak8B,EAAOp+B,MAC3F28D,iBAAiBj/D,KAAI,SAACnE,GAAD,OAAOA,EAAE6qE,0BAAsB7nD,OACnD0oD,EAJ0B,YAIF,IAAIriB,IAAIoiB,IACtCvB,GACEwB,EAAkBvnE,KAAI,SAACsC,GAAD,MAAS,CAC7BA,KACAjE,OACEipE,EAAe3iE,QAAO,SAAC1E,GAAD,OAAOA,IAAMqC,KAAIzK,SACnCwvE,EAAoBxvE,OACpB,QACA,eAZsB,2CAAH,sDAiBzB2G,GAAQuhD,EAAIvhD,MAAQ,IAE1B,OACE,6BACE,yBACEF,MAAO,CACLkB,SAAU,WACV6L,IAAK,MACL1L,KAAM,GAAF,QAAMnB,GAAN,MACJoB,OAAQ,EACRqO,MAAO,EACPrL,gBAAiB,UAGnB,kBAAC,GAAD,CACEs6D,cAAelpB,aAAF,EAAEA,EAAWt6C,KAC1BqnC,WAAYL,EAAOhnC,KACnB8jE,YAAW,UAAKvxB,EAAQ7rC,WAAb,YAA2B6rC,EAAQ3rC,WAC9CghD,WAAYhL,IAEd,yBACEh4C,MAAO,CACL0E,YAAa,QACbJ,gBAAiBzH,SAAO+X,KACxB3F,UAAW,SAGb,yBACEjP,MAAO,CACLmF,QAAS,OACTjF,MAAO,OACPuX,SAAU,SACVxX,OAAQ,GAAF,OAAKwhD,EAAIxhD,OAAS,GAAlB,MACNqE,gBAAiBzH,SAAO+X,KACxB1F,cAAe,WAGjB,kBAACuH,GAAA,EAAD,CACEC,QAAS,GACT1S,GAAI,cACJoK,KAAMzQ,yBAAe,cACrBgZ,QAAS,SAACzb,GACRmkD,EAAankD,GACRA,GAIHokD,EAAoB,CAAC3R,EAAQ3pC,KAC7B4kE,GAA2B,CAACj7B,EAAQ3pC,OAJpCs7C,EAAoB,IACpBmoB,GAAuB,MAM3BlxD,QAAS5M,EACT3J,MAAO,CACL0K,WAAY,OACZsE,aAAc,WAGlB,yBAAKhP,MAAO,CAACmF,QAAS,SACpB,6BACE,2BAAOnF,MAAOhD,GAAOugD,OACnB,wBAAIv9C,MAAO,CAACsE,gBAAiBzH,SAAO+X,OACjCjL,GACC,4BACE,kBAACyM,GAAD,CACE/G,SAAU,SAAC9R,GACT,GAAIA,EAAEgS,OAAOgH,QAAS,CACpBixD,EAAgCt7D,QAAUmyC,EAC1C,IAAM6qB,EAAcxzB,aAAH,EAAGA,EAAW9zB,SAASlgB,KACtC,SAAC/G,GAAD,OAAOA,EAAEqJ,MAEXs7C,EAAoB4pB,GACpBJ,GAA0BI,QAE1B5pB,EACEkoB,EAAgCt7D,aAO5C,wBAAIlM,MAAOhD,GAAOkqE,QAChB,yBAAKlnE,MAAO,CAACmF,QAAS,OAAQF,WAAY,WACxC,kBAAC,KAAD,CAAsBjF,MAAO,CAAC0E,YAAa,SAC1C/G,yBAAe,aAGpB,wBAAIqC,MAAOhD,GAAOkqE,QAASvpE,yBAAe,QAC1C,wBAAIqC,MAAOhD,GAAOkqE,QACfvpE,yBAAe,+BAElB,wBAAIqC,MAAOhD,GAAOkqE,QACfvpE,yBAAe,oBAGnBipE,aApCH,EAoCGA,EAAgBllE,KAAI,SAAC/G,EAAGtB,GACvB,IAAMwoE,EAAM6F,GAAa/sE,EAAEqJ,IACrBqhE,EAAmBuC,GAAqBjtE,EAAEqJ,IAC5Cy6C,EAAU9jD,EAAEqJ,KAAOs6C,EAAYzhD,SAAO+X,KAAO/X,SAAOwH,MACxDo6C,EAAU9jD,EAAEqJ,KAAO2pC,EAAQ3pC,GAAKnH,SAAOqH,YAAcu6C,EACrD,IAAItzB,GAAW,EAUf,OATIxhB,IACFwhB,GAAWkzB,aAAA,EAAAA,EAAkBllB,WAAU,SAACn1B,GAAD,OAAQA,IAAOrJ,EAAEqJ,QAAO,GAE7DmnB,EACFszB,EAAU5hD,SAAOqH,aACPinB,GAAYxhB,IACtB80C,EAAU5hD,SAAOwH,OAIjB,wBACE2F,QAAS,WAIL,IAAI++D,EAHDp/D,GAKD00C,EAAiBllB,WAAU,SAACn1B,GAAD,OAAQA,IAAOrJ,EAAEqJ,OACzC,GAEH+kE,EAAsB1qB,EAAiBh4C,QACrC,SAACrC,GAAD,OAAQA,IAAOrJ,EAAEqJ,MAEnBs7C,EAAoBypB,KAEpBA,EAAsB,GAAH,mBAAO1qB,GAAP,CAAyB1jD,EAAEqJ,KAC9Cs7C,EAAoBypB,IAEtBD,GAA0BC,IAf1BjB,GAAantE,IAkBjBwU,aAAc,kBAAMivC,EAAazjD,EAAEqJ,KACnCoL,aAAc,kBAAMgvC,EAAa,OACjCjiD,IAAKxB,EAAEqJ,GACPhE,MAAO,CACLwK,OAAQ,UACRvK,OAAQ,OACRqE,gBAAiBm6C,IAGlB90C,GACC,4BACE,kBAACyM,GAAD,CACEiB,WAAY,CAAC,aAAc,cAC3Bd,QAAS4U,IAAY,EACrB9b,SAAU,SAAC9R,GACLA,EAAEgS,OAAOgH,QACX+oC,EAAoB,GAAD,mBACdjB,GADc,CAEjB1jD,EAAEqJ,MAGJs7C,EACEjB,EAAiBh4C,QAAO,SAACrC,GAAD,OAAQA,IAAOrJ,EAAEqJ,WAOrD,wBAAIhE,MAAOhD,GAAOiqE,IAChB,0BAAMjnE,MAAOhD,GAAOmqE,QACjBxsE,EAAEmH,WADL,IACkBnH,EAAEqH,YAGtB,wBAAIhC,MAAOhD,GAAOiqE,IAChB,kBAAC,GAAD,CAASpF,IAAKA,EAAK12C,SAAUxwB,EAAEqJ,KAAO2pC,EAAQ3pC,MAEhD,wBAAIhE,MAAOhD,GAAOiqE,IAChB,kBAAC,GAAD,CACE5B,iBAAkBA,KAGtB,wBAAIrlE,MAAOhD,GAAOiqE,IAChB,kBAAC,GAAD,CACEtjE,YAAaglE,GACb/hE,qBAAsBy+D,aAAF,EAAEA,EAAkBjB,2BACxC3lB,QAASA,UAOrB,yBAAKz+C,MAAO,CAACC,OAAQ,OAAQC,MAAO,OAAQoE,gBAAiB,mBAE7DqF,GAAa61C,IACb,yBAAKx/C,MAAO,CAACmF,QAAS,OAAQ8lB,aAAc,UACzCutB,cADH,EACGA,GAAmB92C,KAAI,SAAC0C,GAAD,OACtB,kBAAC,GAAD,CACEjI,IAAKiI,EAAWJ,GAChB4d,SAAU8zB,aAAF,EAAEA,EAAW9zB,SACrB8kD,gBAAiB,SAAC1iE,GAAO,MACjBgjE,EAAOtxB,aAAH,YAAGA,EAAW9zB,gBAAd,aAAG,EAAqBrb,MAChC,SAAC5L,GAAD,OAAOA,EAAEqJ,KAAOA,KAElB8jE,GAAad,IAEf5iE,WAAYA,EACZk6C,UAAWA,EACX3Q,QAASA,EACTyQ,aAAcA,EACdphD,OAAQA,YAQtB,yBACEgD,MAAK,2BACAhD,GAAOoqE,YADP,IAEHnnE,OAAQ,GAAF,OAAKwhD,EAAIxhD,QAAU0J,EAAY,GAAK,IAApC,MACNkG,UAAW,+BACXZ,UAAWtF,EAAY,OAAS,UAGlC,kBAAC,GAAD,CACE3J,MAAOqnE,GACPnC,gBAAc,EACdv3B,QAASA,EACTvL,OAAQA,EACR0+B,QAAM,EACNn3D,UAAWA,EACX8tB,OAAQywC,GACRnH,oBAAqBA,EACrB1iB,iBAAkBA,EAClBtI,QAAS,gBAETpsC,GACA,yBACE3J,MAAO,CACLkB,SAAU,QACV6L,IAAK,GACL4C,MAAO,EACP1P,OAAQ,OACRqE,gBAAiBzH,SAAOqH,YACxBhE,MAAO,QACP+E,WAAY,SACZT,QAAS,oBACTW,QAAS,SAGX,0BAAMnF,MAAK,2BAAMlD,QAAM+e,OAAZ,IAAmBgQ,WAAY,SACvC8hB,EAAQ7rC,WADX,IACwB6rC,EAAQ3rC,cAMvC+zC,KAAW,MCpiBHozB,IAlHQ,SAACr/D,GAAU,MACFK,qBADE,mBAChB6rC,GADgB,aAEc7rC,qBAFd,mBAEzBi/D,EAFyB,KAERC,EAFQ,OAGYl/D,qBAHZ,mBAGzB07D,EAHyB,KAGTC,EAHS,OAIkB37D,qBAJlB,mBAIzBuvC,EAJyB,KAIN4vB,EAJM,OAMAn/D,oBAAS,GANT,mBAMzBk3C,EANyB,KAMfC,EANe,KAO1BvmC,EAAUC,qBAAW9c,iBAEzBw5B,EACE3c,EADF2c,IAAKz3B,EACH8a,EADG9a,OAAQ0pB,EACX5O,EADW4O,cAAeywB,EAC1Br/B,EAD0Bq/B,WATE,EAWEjwC,qBAXF,mBAWzBurC,EAXyB,KAWdC,EAXc,KAa1BsyB,EAAa,uCAAG,8BAAAtmE,EAAA,6DACpBq0C,GAAW,GADS,SAEGte,EAAI6P,aA7BP,0JA2BA,OAEdxoB,EAFc,OAGpB42B,EAAa52B,aAAD,YAACA,EAAUhmB,YAAX,aAAC,EAAgB28C,WAC7BM,GAAW,GAJS,2CAAH,qDAUnB,OAJA1rC,qBAAU,WACR29D,MACC,IAEC5mB,EAEA,6BACE,kBAAC,GAAD,CACEjf,OAAQyjC,EACRl4B,QAASy7B,IAAmB1zB,aAAJ,EAAIA,EAAW9zB,SAAS,IAChDo2B,QAAS,kBAAMsJ,GAAY,MAE7B,kBAAC,EAAD,CACEjH,WAAYD,EACZG,WAAY,WACwB,KAA9B7E,aAAA,EAAAA,EAAW+Q,QAAQltD,SACrBusE,EAAkBpwB,aAAD,EAACA,EAAW+Q,QAAQ,IAEvCnF,GAAaD,IAEfgd,eAAgBwH,GAAgD,KAA9BnwB,aAAA,EAAAA,EAAW+Q,QAAQltD,QACrD8nD,SAAUA,KAOhB,yBAAKrhD,MAAO,CAAEoX,OAAQ,kBAAmBnX,OAAQ,SAC9CmpE,GACC,kBAAC,GAAD,CACE7uB,WAAY,kBAAM+G,GAAaD,IAC/BwkB,eAAgBA,EAChBl4B,QAASy7B,EACTpxB,QAAS,kBAAMqxB,EAAmB,OAClCtK,iBAAkB+G,EAClBlH,cAAelpB,aAAF,EAAEA,EAAWt6C,KAC1B4nE,oBAAqBsG,EACrB5vB,kBAAmBA,IAGvB,kBAAC,EAAD,CACEW,WAAYD,EACZG,WAAY,WACwB,KAA9B7E,aAAA,EAAAA,EAAW+Q,QAAQltD,SACrBusE,EAAkBpwB,aAAD,EAACA,EAAW+Q,QAAQ,IAEvCnF,GAAaD,IAEfgd,eAAgBwH,GAAgD,KAA9BnwB,aAAA,EAAAA,EAAW+Q,QAAQltD,UAEvD,yBACEyG,MAAO,CACLyX,SAAU,SACVxX,OAAQA,EAAS,GACjBkF,QAAS,OACT+J,cAAe,WAGjB,yBACElP,MAAO,CACL04C,aAAc,aAAF,OAAe77C,SAAOqH,aAClCiB,QAAS,OACTD,eAAgB,WAChBV,QAAS,QAGX,kBAAC,KAAD,CAAsBxE,MAAO,MAE9B01C,aAlBH,EAkBGA,EAAW9zB,SACT3f,MAAK,SAACN,EAAGO,GACR,MAAsB,cAAlBynB,EACKhoB,EAAEG,WAAWK,cAAcD,EAAEJ,YAE/BH,EAAEK,UAAUG,cAAcD,EAAEF,cAEpCN,KAAI,SAACisC,GAAD,OACH,yBAAKxxC,IAAKwxC,EAAQ3pC,IAChB,kBAAC,EAAD,CACEmnB,UAAUi+C,aAAA,EAAAA,EAAiBplE,MAAO2pC,EAAQ3pC,GAC1C2pC,QAASA,EACT4wB,eAAgB,WACd8K,EAAmB17B,GACe,KAA9B+H,aAAA,EAAAA,EAAW+Q,QAAQltD,SACrBusE,EAAkBpwB,aAAD,EAACA,EAAW+Q,QAAQ,e,8NC/GnD8iB,EAAgB,SAACz/D,GAAU,IAE7By0D,EAOEz0D,EAPFy0D,eACAv+D,EAME8J,EANF9J,MACA2tC,EAKE7jC,EALF6jC,QACAj/B,EAIE5E,EAJF4E,WAL6B,EAS3B5E,EAHF40C,4BAN6B,SAO7BrU,EAEEvgC,EAFFugC,eAP6B,EAS3BvgC,EADF0/D,4BAR6B,WAUGr/D,oBAAS,GAVZ,mBAUxBm0C,EAVwB,KAUbF,EAVa,KAY1BzQ,EAAQ9rC,eACX8rC,EAAQ9rC,aAAR,UAA0B8rC,EAAQ7rC,WAAlC,YAAgD6rC,EAAQ3rC,YAb3B,IAgBjBgC,EAGV2pC,EAHFzkB,WACcugD,EAEZ97B,EAFF9rC,aAEE8rC,EADFwT,aAG2BzyC,EAAtBmpB,WASP,OACE,yBAAK73B,MAAO,CAACkB,SAAU,WAAYjB,OAAQ,SACzC,kBAACijD,EAAA,EAAD,CACEzG,aAAW,EACXzyC,QAASu0D,EACTpiE,IAAK6H,EACLmL,aAdmB,WACvBivC,GAAa,IAcThvC,aAXqB,WACzBgvC,GAAa,IAWTp+C,MAAK,aACHE,MAAO,OACPD,OAAQ,OACRm5B,WAAY,MACZnO,aAAc,OACdoO,cAAe,MACfhjB,YAAa,OACbqiC,aAAc,aAAF,OAAe77C,SAAOqH,aAClCI,gBAAiBg6C,EAAYzhD,SAAO+X,KAAO,eACxC5U,IAGL,yBACEA,MAAO,CACLE,MAAO,OACPiF,QAAS,OACTF,WAAY,WAGd,yBAAKjF,MAAO,CAACmF,QAAS,OAAQD,eAAgB,gBAAiBhF,MAAO,SACpE,kBAAC,IAAD,CAASoH,MAAOvB,wBAAc2I,EAAWmpB,aACvC,6BACG92B,4BAAkB,CAAChB,OAAQ2O,EAAWmpB,WAAY73B,MAAO,CAAC49C,UAAW,YAGzEc,GACD,yBAAK1+C,MAAO,CAAC0K,WAAY,QACvB,kBAAC,IAAD,CAASpD,MAAOzG,iCAAuB6N,EAAWiwC,mBAChD,6BACG7+C,2BAAiB,CAACC,OAAQ2O,EAAWiwC,uBAK9C,kBAAC,IAAD,CAASr3C,MAAOqmC,aAAF,EAAEA,EAAS3pB,OACvB,uBACEhkB,MAAK,2BACAlD,QAAMiR,QADN,IAEHrD,WAAY,OACZxK,MAAOw+C,EAAuB,QAAU,QACxCjnC,SAAU,SACVC,aAAc,WACdC,WAAY,SACZ+kC,UAAW,WAGZ+sB,MAKRD,GACC,kBAAC,IAAD,CACExpE,MAAO,CACLwK,OAAQ,UACRtJ,SAAU,WACVyO,MAAO,OACP5C,IAAK,OACLhJ,MAAOlH,SAAO+N,UAEhBy/B,eAAgB,SAACtjC,GAAD,OAAesjC,EAAe,CAACtqC,OAAQgH,EAAW4mC,aAElErD,gBAAiBoU,EACjBnlB,OAAQ,kBAACmwC,EAAA,EAAD,UAOZhuB,EAAkB7tC,YAAW,CACjCC,KAAM,CACJ,aAAc,CACZmB,UAAW,QAGf0sC,SAAU,IANY9tC,CAOrB+9B,KAEGgQ,EAAyB/tC,YAAW,CACxCC,KAAM,CACJtJ,QAAS,MACTqG,OAAQ,MACR,aAAc,CACZgxC,UAAW,QAGfC,QAAS,CACPt3C,QAAS,MACTqG,OAAQ,MACR,aAAc,CACZrG,QAAS,MACTqG,OAAQ,MACRgxC,UAAW,QAGfE,WAAY,CACV76C,SAAU,WACVyO,MAAO,OACP,aAAc,IAEhBgsC,SAAU,IAtBmB9tC,CAuB5BmuC,KAEGR,EAAyB3tC,YAAW,CACxCC,KAAM,CACJtJ,QAAS,QAFkBqJ,CAI5B4tC,KAEU6iB,EAAc,SAACx0D,GAAU,IAElCE,EAWEF,EAXFE,QACA2jC,EAUE7jC,EAVF6jC,QACAtD,EASEvgC,EATFugC,eACAjmC,EAQE0F,EARF1F,WALkC,EAahC0F,EAPF6/D,kBANkC,SAOlCtjE,EAMEyD,EANFzD,OACA1C,EAKEmG,EALFnG,YACA6C,EAIEsD,EAJFtD,kBACUojE,EAGR9/D,EAHF6xC,SACAjtC,EAEE5E,EAFF4E,WAXkC,EAahC5E,EADFuM,mBAZkC,MAYpB,MAZoB,IAeJlM,mBAASy/D,GAfL,mBAe7BjuB,EAf6B,KAenBgrB,EAfmB,OAgBNx8D,oBAAS,GAhBH,mBAgB7BqyC,EAhB6B,KAgBpBztC,EAhBoB,KAkBpCzE,qBAAU,WACRq8D,EAAYiD,KACX,CAACA,IAEJ,IAAMrL,EAAiB,WACrBv0D,EAAQ,CAAC2jC,UAAS/mC,qBAAsB8H,aAAF,EAAEA,EAAY9H,qBAAsB8H,gBAO5E,OAAKi7D,EAKH,yBAAK3pE,MAAO,CAACkB,SAAU,aACrB,kBAACw6C,EAAD,CACES,gBAAiB,CAACC,eAAe,EAAMytB,OAAO,EAAOC,MAAM,GAC3DnuB,SAAUA,EACVtsC,SAba,SAAC9R,EAAGwsE,GACrBpD,EAAYoD,KAcR,kBAACnuB,EAAD,CACEzsC,aAAc,kBAAMJ,GAAW,IAC/BK,aAAc,kBAAML,GAAW,IAC/B/O,MAAO,CACLsE,gBAAiBk4C,EAAU3/C,SAAO+X,KAAO/X,SAAOwH,MAChDG,QAAS,mBACTqG,OAAQ,MACR6tC,aAAc,aAAF,OAAe77C,SAAOqH,cAEpC63C,WAAY,kBAAC,IAAD,OAEZ,kBAAC,EAAD,2BAEOjyC,GAFP,IAGIy0D,iBACAiL,sBAAsB,EACtB9qB,qBAAsBt6C,EAAWs6C,qBACjC1+C,MAAO,CAACoX,OAAQ,MAAOf,mBAI7B,kBAACmlC,EAAD,CACEx7C,MAAO,CACLmF,QAAS,OACT+J,cAAe,SACf1K,QAAS,sBAGX,kBAAC,IAAD,CACE6B,OAAQA,EACRjC,WAAYA,EACZsK,WAAYA,IAEd,kBAAC,IAAD,CACEyrB,uBAAwBzrB,aAAF,EAAEA,EAAY1K,GACpCwC,kBAAmBA,EACnBI,qBAAsB8H,aAAF,EAAEA,EAAY9H,qBAClCjD,YAAaA,EACb0C,OAAQA,MAId,kBAAC,IAAD,CACErG,MAAO,CACLwK,OAAQ,UACRtJ,SAAU,WACVyO,MAAO,OACP5C,IAAK,OACLhJ,MAAOlH,SAAO+N,UAEhBy/B,eAAgB,SAACtjC,GAAD,OAAesjC,EAAe,CAACtqC,OAAQgH,EAAW4mC,aAElErD,gBAAiBlmC,EAAWs6C,qBAC5BnlB,OAAQ,kBAACmwC,EAAA,EAAD,SA/DL,kBAAC,EAAD,2BAAuB5/D,GAAvB,IAA8By0D,iBAAgBv+D,MAAO,CAACqW,mB,4CClMjE,SAAS6E,IAA2Q,OAA9PA,EAAW1hB,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAI,EAAoB,gBAAoB,OAAQ,CAClDhgB,EAAG,yhCAGL,SAAS6uE,EAAYlgE,GACnB,OAAoB,gBAAoB,MAAOoR,EAAS,CACtDM,MAAO,6BACPtb,MAAO,GACPD,OAAQ,IACP6J,GAAQ,GAGE,QCyEAmgE,EAhFqB,SAACngE,GAAU,IAE3CmuC,EAKEnuC,EALFmuC,KACA3wC,EAIEwC,EAJFxC,MAH2C,EAOzCwC,EAHFywB,eAJ2C,SAK3C8b,EAEEvsC,EAFFusC,SACA6zB,EACEpgE,EADFogE,UAGF,OACE,yBACElqE,MAAO,CACLE,MAAO,OACPD,OAAQ,OACRkF,QAAS,OACTb,gBAAiBi2B,EAAU19B,SAAOmI,MAAQnI,SAAO0H,MACjD6S,OAAQ,iBACR3M,OAAQ,IACRvJ,SAAU,aAGZ,yBACElB,MAAO,CACLwE,QAAS,OACT4S,OAAQ,kBAGV,yBAAKpX,MAAO,CAAEmF,QAAS,OAAQF,WAAY,SAAUmS,OAAQ,mBAC3D,kBAAC+lC,EAAA,EAAD,CACEn9C,MAAO,CACLwK,OAAQ,UACRzG,MAAOlH,SAAOwH,MACdpE,OAAQ,OACRgP,UAAW,MACXvK,YAAa,OAEfsF,QAASiuC,IAEX,0BACEj4C,MAAK,2BACAlD,QAAM+e,OADN,IAEH9X,MAAOlH,SAAOwH,MACdqG,WAAY,OACZuE,UAAW,MACX4c,WAAY,MACZ3rB,MAAO,QACPwX,aAAc,WACdD,SAAU,SACVE,WAAY,YAGfrQ,IAGH,yBAAKtH,MAAO,CACVwK,OAAQ,UAAWvF,WAAY,SAAUE,QAAS,OAAQjE,SAAU,WAAYyO,MAAO,OAAQ5C,IAAK,QACnG/C,QAASqsC,GACV,kBAAC,IAAD,CAAS/uC,MAAO3J,yBAAe,wBAC7B,6BACF,kBAAC,IAAD,CAAU2d,KAAMze,SAAOwH,WAIzB,kBAAC,IAAD,CAASiD,MAAO3J,yBAAe,kCAC7B,yBAAKqC,MAAO,CACVkB,SAAU,WAAY6L,IAAK,OAAQ4C,MAAO,OAAQnF,OAAQ,YAE9D,kBAAC,EAAD,CAAc8Q,KAAMze,SAAOwH,MAAO2F,QAASkgE,OAI7C,yBAAKlqE,MAAO,CACVkB,SAAU,WAAYI,OAAQ,EAAGD,KAAM,EAAGsO,MAAO,IAEjD,kBAACgL,EAAA,EAAD,U,oICpEFvE,EAAgBvI,YAAW,CAC/BC,KAAM,CACJ/J,MAAOlH,SAAO+X,KACd,YAAa,CACX7Q,MAAOlH,SAAO0H,QAGlBgS,QAAS,IAPW1I,CAQnB2I,KAEGkkC,GAAiB7sC,aAAW,iBAAO,CACvC+sC,MAAO,2BACF99C,QAAMiR,QADN,IAEHuI,SAAU,OACVrW,OAAQ,OACRgF,WAAY,WACZE,QAAS,OACTuzC,aAAc,aAAF,OAAe77C,SAAOqH,aAClCM,QAAS,MACT,UAAW,QATQqJ,CAanBgtC,KAEEsvB,GAAYxsE,yBAAe,sDAiElBysE,GAhEU,SAACtgE,GAAU,IAEhC6nC,EAME7nC,EANF6nC,MACArqC,EAKEwC,EALFxC,MACA+iE,EAIEvgE,EAJFugE,UACAvtB,EAGEhzC,EAHFgzC,SALgC,EAQ9BhzC,EAFF+5C,eANgC,SAOhCymB,EACExgE,EADFwgE,cAkBIC,EAAY,CAChBC,WAAY,CACVxqE,MAAO,CACL49C,UAAW6sB,IACXvqE,MAAO,MAGXwqE,mBAAoB,KACpBC,WAAW,GAEb,OACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KAAavjE,GACb,kBAACs1C,EAAA,EAAD,CACEptC,UAAWq0C,EACXhjB,UAAQ,EACRhlC,MAAOyuE,EACPj7D,SAhCe,SAACmK,GAAU,IACtB3d,EAAU2d,EAAMjK,OAAhB1T,MACJsvB,EAAW,GACiB,QAA5BtvB,EAAMA,EAAMtC,OAAS,GACnB+wE,EAAc/wE,SAAWo4C,EAAMp4C,SACjC4xB,EAAWwmB,EAAMjwC,KAAI,SAAC/G,GAAD,OAAOA,EAAEqJ,OAGhCmnB,EAAWtvB,EAEbihD,EAAS3xB,IAuBL8vB,YAAa,kBAAOqvB,EAAc/wE,SAAWo4C,EAAMp4C,OAA/B,UAA2C4wE,GAA3C,YAAwD7iE,EAAMwiB,eAA9D,UAAmFwgD,EAAc/wE,OAAjG,YAA2G8wE,EAA3G,YAAwH1sE,yBAAe,oEAC3J4sE,UAAWA,EACX3vB,MAAO,kBAACF,GAAD,OAEP,kBAAC7P,EAAA,EAAD,CAAU1uC,IAAK,MAAON,MAAO,OAC3B,kBAACua,EAAD,CAAeG,QAAS+zD,EAAc/wE,SAAWo4C,EAAMp4C,SACvD,kBAACuxE,EAAA,EAAD,CAAcr2D,QAAS01D,MAEzB,kBAACY,EAAA,EAAD,MACCp5B,EAAMjwC,KAAI,SAAC0pB,GAAD,OACT,kBAACyf,EAAA,EAAD,CAAU1uC,IAAKivB,EAAKpnB,GAAInI,MAAOuvB,EAAKpnB,IAClC,kBAACoS,EAAD,CACEG,QAAS+zD,EAAc/jE,MAAK,SAACvC,GAAD,OAAQA,IAAOonB,EAAKpnB,OAAO,IAEzD,kBAAC8mE,EAAA,EAAD,CAAcr2D,QAAS2W,EAAKxtB,e,qCClFlCotE,GAAcrtE,yBAAe,8BAC7Bw5B,GAAax5B,yBAAe,gBAC5By5B,GAAsBz5B,yBAAe,mBACrC05B,GAAyB15B,yBAAe,2BACxCs8B,GAA6Bt8B,yBAAe,0BAC5Cu8B,GAA2Bv8B,yBAAe,6BA4NjCstE,GA1Ne,SAACnhE,GAC7B,IACQ4tB,EADQ1c,qBAAW9c,iBACnBw5B,IAGN3M,EACEjhB,EADFihB,KAAMitB,EACJluC,EADIkuC,QAASp2B,EACb9X,EADa8X,SAAU6kC,EACvB38C,EADuB28C,QAAS9iD,EAChCmG,EADgCnG,YAAaS,EAC7C0F,EAD6C1F,WALV,EAOS+F,mBAAS,IAPlB,mBAOhCk0C,EAPgC,KAOdiB,EAPc,OAQan1C,mBAAS,IARtB,mBAQhCg8C,EARgC,KAQZ+kB,EARY,OASX/gE,qBATW,mBAShC/P,EATgC,KASxB+wE,EATwB,OAUPhhE,qBAVO,mBAUhCkiB,EAVgC,KAUtB++C,EAVsB,OAWfjhE,qBAXe,mBAWhCkhE,EAXgC,KAW1BC,EAX0B,OAYbnhE,qBAZa,mBAYhC+tB,EAZgC,KAYzBqzC,EAZyB,OAaWphE,qBAbX,mBAahCqhE,EAbgC,KAabC,EAba,OAcGthE,qBAdH,mBAchCuhE,EAdgC,KAcjBC,EAdiB,OAeXxhE,oBAAS,GAfE,oBAehC21C,GAfgC,MAexB0jB,GAfwB,MAiBjCoI,GAA6BvtB,EAAiB9kD,OAAS,EACvDsyE,GAA+B1lB,EAAmB5sD,OAAS,EAEjE,IAAKqoB,IAAaje,EAChB,OAAO,KAET,IAAMmoE,GAAc,WAClB9zB,KAGImP,GAAU,uCAAG,8BAAAxlD,EAAA,6DACjB6hE,IAAU,GADO,SAGT5kE,QAAQyiC,IACZgd,EAAiB38C,KAAI,SAACogB,GAAD,OAAe4V,EAAI7V,wBAAwBzd,EAAWJ,GAAI8d,OAJlE,cAEXyZ,EAFW,OAOd75B,KAAI,SAAC/G,GAAD,OAAOA,EACT0L,QAAO,SAAC/K,GAAD,OAAO6qD,EAAmB5/C,MAAK,SAACvC,GAAD,OAAQA,IAAO1I,EAAE2pB,gBACvDvjB,KAAI,SAACpG,GAAD,mBAAC,eACDA,GADA,IAEH+wB,SAAUm/C,GAAqBlwE,EAAE+wB,SACjCU,aAAc2+C,GAAiBpwE,EAAEyxB,aACjC6K,UAAUM,aAAA,EAAAA,EAAOl0B,KAAM1I,EAAEs8B,SACzBhL,YAAYsL,aAAA,EAAAA,EAAO98B,OAAQE,EAAEsxB,mBAEhCrM,OAhBc,SAmBT3hB,QAAQyiC,IACZgd,EAAiB38C,KAAI,SAACogB,GAAD,OAAe4V,EAAI3O,wBAAwB3kB,EAAWJ,GAAI8d,OApBlE,cAkBXE,EAlBW,OAsBftgB,KAAI,SAACgN,GAAD,mBAAC,eACFA,GADC,IAEJ2d,SAAUA,GAAY3d,EAAW2d,SACjCjyB,OAAQA,GAAUsU,EAAWtU,OAC7B2yB,aAAcs+C,GAAQ38D,EAAWqe,kBA1BlB,SA6BX2K,EAAI1O,2BAA2B5kB,EAAWJ,GAAIge,GA7BnC,wBA+BX0V,EAAI+D,8BAA8BF,GA/BvB,QAgCjBioC,IAAU,GACVsI,KAjCiB,4CAAH,qDAoCVloE,GAAoBF,+BAAqBC,GAEzC43B,GAAakrB,EAAQ/kD,KAAI,SAACxG,GAAD,OAAOA,EAAEqgC,cAAYhb,OACpD,OACE,kBAACojC,EAAA,EAAD,CAAQ3L,QAAS8zB,GAAa/gD,KAAMA,GAClC,yBACE/qB,MAAO,CACLE,MAAO,QACPsE,QAAS,OACTW,QAAS,OACT+J,cAAe,WAGjB,0BACElP,MAAK,2BACAlD,QAAM8e,QADN,IAEH1b,MAAO,OACPsE,QAAS,kBACTwK,aAAc,UAGfrR,yBAAe,+BAElB,kBAAC,GAAD,CACE2sE,cAAejsB,EACfvB,SAAU,SAACtJ,GACT8L,EAAoB9L,GACE,IAAlBA,EAAOj6C,QACT2xE,EAAsB,KAG1Bv5B,MAAO/vB,EAASlgB,KAAI,SAAC/G,GAAD,MAAQ,CAC1BqJ,GAAIrJ,EAAEuuB,WACNtrB,MAAOjD,EAAEkH,iBAEXyF,MAAO3J,yBAAe,YACtB0sE,UAAW1sE,yBAAe,YAAYmsB,gBAExC,yBACE9pB,MAAO,CACLmF,QAAS,OACT+J,cAAe,WAGjB,kBAAC,KAAD,CACE5H,MAAO0jE,GACPhrE,MAAO,CACLsE,gBAAiBsnE,GACb/uE,SAAO0H,MACP1H,SAAO+N,YAGf,kBAAC,KAAD,CAAM5K,MAAO,CAAE6K,OAAQ,qBACrB,kBAAC,KAAD,CACE2D,UAAWo9D,GACXv9D,YAAa8oB,GACb5oB,aAAc,SAACH,GAAD,OAAU+8D,EAAU/8D,IAClCE,SAAO,IAET,kBAAC,KAAD,CACEE,UAAWo9D,GACXv9D,YAAa+oB,GACb7oB,aAAc,SAACH,GAAD,OAAUg9D,EAAYh9D,IACpCE,SAAO,IAET,kBAAC,KAAD,CACEE,UAAWo9D,GACXv9D,YAAagpB,GACb/oB,SAAO,EACPC,aAAc,SAACH,GAAD,OAAUk9D,EAAQl9D,OAIpC,kBAAC,GAAD,CACEk8D,cAAenkB,EACftC,QAAS+nB,GACT9uB,SAAU,SAAC3xB,GAAD,OAAc+/C,EAAsB//C,IAC9CwmB,MAAOpW,GAAW75B,KAAI,SAACpG,GAAD,MAAQ,CAAE0I,GAAI1I,EAAE0I,GAAIpG,MAAOtC,EAAEF,SACnDkM,MAAO3J,yBAAe,kBACtB0sE,UAAW1sE,yBAAe,kBAAkBmsB,gBAG9C,kBAAC,KAAD,CACExiB,MAAO3J,yBAAe,kBACtBqC,MAAO,CACLsE,gBAAiBunE,GACbhvE,SAAO0H,MACP1H,SAAO+N,YAGf,kBAAC,KAAD,CAAM5K,MAAO,CAAE6K,OAAQ,oBAOrB,kBAAC,KAAD,CACE2N,aAAa,EACbhJ,UAAWq8D,GACXxzD,OAAQzU,GACR0U,aAAc,EACdG,eAAgB,SAAC6gB,GACf,IAAMyyC,EAAgBpoE,EAAYE,OAAO0C,MAAK,SAACzC,GAAD,OAAOA,EAAE1I,OAASwI,GAAkB01B,GAAOl+B,QACzFmwE,EAASQ,MAGb,kBAAC,KAAD,CACEv9D,UAAWq9D,GACXx9D,YAAa4rB,GACb1rB,aAAc,SAACH,GAAD,OAAUq9D,EAAqBr9D,IAC7CE,SAAO,IAET,kBAAC,KAAD,CACED,YAAa6rB,GACb1rB,UAAWq9D,GACXt9D,aAAc,SAACH,GAAD,OAAUu9D,EAAiBv9D,IACzCE,SAAO,MAIb,kBAAC09D,EAAA,EAAD,CAAQhsE,MAAO,CAAEiP,UAAW,QAAUjF,QAASm9C,IAC7C,0BAAMnnD,MAAOlD,QAAM+e,OAAQle,yBAAe,WAAW0K,gBAEvD,kBAAC,IAAD,CACE2B,QAAS8hE,GACT9rE,MAAO,CACLkB,SAAU,WACV6L,IAAK,OACL4C,MAAO,OACPnF,OAAQ,cAIbs1C,IACC,yBACE9/C,MAAO,CACLkB,SAAU,WACV6L,IAAK,EACL1L,KAAM,EACNsO,MAAO,EACPrO,OAAQ,EACRgD,gBAAiB,YACjBW,WAAY,SACZC,eAAgB,SAChBC,QAAS,OACT+J,cAAe,WAGjB,kBAACk0C,EAAA,EAAD,CAAkBl5C,KAAM,S,8BC3OlC,SAAS,KAA2Q,OAA9P,GAAW1Q,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAI,GAAoB,gBAAoB,IAAK,CAC/CG,KAAM,WACQ,gBAAoB,OAAQ,CAC1CngB,EAAG,qNACHkgB,SAAU,UACV2+B,SAAU,YACK,gBAAoB,OAAQ,CAC3C7+C,EAAG,qNACHkgB,SAAU,UACV2+B,SAAU,aAGZ,SAASiyB,GAAUniE,GACjB,OAAoB,gBAAoB,MAAO,GAAS,CACtD0R,MAAO,6BACP0+B,QAAS,aACRpwC,GAAQ,IAGE,ICvBf,SAAS,KAA2Q,OAA9P,GAAWtQ,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAI,GAAoB,gBAAoB,OAAQ,CAClDhgB,EAAG,wJACHkgB,SAAU,UACV2+B,SAAU,YAGR/iB,GAAqB,gBAAoB,OAAQ,CACnD97B,EAAG,wJACHkgB,SAAU,UACV2+B,SAAU,UACV1+B,KAAM,YAGR,SAAS4wD,GAAUpiE,GACjB,OAAoB,gBAAoB,MAAO,GAAS,CACtD0R,MAAO,6BACP0+B,QAAS,aACRpwC,GAAQ,GAAMmtB,IAGJ,ICxBf,SAAS,KAA2Q,OAA9P,GAAWz9B,OAAO0P,QAAU,SAAUqG,GAAU,IAAK,IAAIlW,EAAI,EAAGA,EAAI8hB,UAAU5hB,OAAQF,IAAK,CAAE,IAAIyY,EAASqJ,UAAU9hB,GAAI,IAAK,IAAI8C,KAAO2V,EAActY,OAAOC,UAAUC,eAAeC,KAAKmY,EAAQ3V,KAAQoT,EAAOpT,GAAO2V,EAAO3V,IAAY,OAAOoT,IAA2BrV,MAAMwX,KAAMyJ,WAIhT,IAAI,GAAoB,gBAAoB,OAAQ,CAClDhgB,EAAG,kOACHkgB,SAAU,UACV2+B,SAAU,YAGR,GAAqB,gBAAoB,OAAQ,CACnD7+C,EAAG,kOACHkgB,SAAU,UACV2+B,SAAU,UACV1+B,KAAM,YAGR,SAAS6wD,GAAeriE,GACtB,OAAoB,gBAAoB,MAAO,GAAS,CACtD0R,MAAO,6BACP0+B,QAAS,aACRpwC,GAAQ,GAAM,IAGJ,Q,oBC2ETsiE,GAAgB,CACpB,CAAC9kE,MAAO3J,yBAAe,uBAAwBiR,KAAM,SACrD,CACEtH,MAAO3J,yBACL,4EAEFvC,KAAM,kBACN+vB,UAAU,EACVD,YAAY,GAEd,CACE5jB,MAAO3J,yBAAe,8BACtBvC,KAAM,iBACN+vB,UAAU,EACVD,YAAY,GAEd,CACE5jB,MAAO3J,yBAAe,iBACtBvC,KAAM,SACN+vB,UAAU,EACVD,YAAY,GAEd,CACE5jB,MAAO3J,yBAAe,qBACtBvC,KAAM,eACN+vB,UAAU,EACVD,YAAY,GAEd,CACE5jB,MAAO3J,yBAAe,2BACtBvC,KAAM,cACN+vB,UAAU,EACVD,YAAY,GAEd,CAACtc,KAAM,aACP,CACEtH,MAAO3J,yBAAe,kBACtBvC,KAAM,QACN+vB,UAAU,EACVD,YAAY,GAEd,CACE5jB,MAAO3J,yBAAe,0BACtBvC,KAAM,WACN+vB,UAAU,EACVD,YAAY,GAEd,CACE5jB,MAAO3J,yBAAe,8BACtBvC,KAAM,OACN+vB,UAAU,EACVD,YAAY,IAsUDmhD,IAlUe,SAACviE,GAC7B,IAAMiR,EAAUC,qBAAW9c,iBAEzBw5B,EAGE3c,EAHF2c,IACA/N,EAEE5O,EAFF4O,cACAk3B,EACE9lC,EADF8lC,wBAEiBzB,EAA2Bt1C,EAAvC1F,WAA+B6zC,EAAQnuC,EAARmuC,KAPC,EAQO9tC,mBAAS,MARhB,mBAQhCi/D,EARgC,KAQfC,EARe,OAYnCl/D,qBAZmC,mBAUrCmiE,EAVqC,KAWrCC,EAXqC,OAaOpiE,oBAAS,GAbhB,mBAahCqiE,EAbgC,KAafC,EAbe,OAcHtiE,mBAASi1C,GAdN,mBAchCh7C,EAdgC,KAcpBm7C,EAdoB,OAeDp1C,mBAAS,IAfR,mBAehC6X,EAfgC,KAenB0qD,EAfmB,OAgBXviE,mBAAS,CACnC,kBACA,cACA,iBACA,iBApBqC,mBAgBhC9D,EAhBgC,KAgBxBsmE,EAhBwB,OAsBLxiE,oBAAS,GAtBJ,mBAsBhCyiE,EAtBgC,KAsBrBC,EAtBqB,OAuBW1iE,oBAAS,GAvBpB,mBAuBhC2iE,EAvBgC,KAuBbC,EAvBa,QAwBT5iE,oBAAS,GAxBA,qBAwBhC4rC,GAxBgC,MAwBvBC,GAxBuB,SAyBD7rC,oBAAS,GAzBR,qBAyBhC6iE,GAzBgC,MAyBnBC,GAzBmB,MA2BjCtpE,GAAcyJ,iBAAO,IACrB5G,GAAoB4G,iBAAO,IAE3BywD,GAAa5yD,gCAEbiiE,GAAqB,uCAAG,kDAAAvrE,EAAA,sEACP+1B,EAAI6P,aAAJ,sJADO,cACxBxoB,EADwB,mBAYIA,SAZJ,uBAYI,EAAUhmB,YAZd,aAYI,EAAgB28C,UAAtBmN,EAZE,EAYrBr8C,kBAZqB,SAaXkxB,EAAI6O,4BAA4BniC,EAAWJ,GAhLjD,s9CAmKiB,OAa5B+a,EAb4B,mBAkBxBA,SAlBwB,uBAkBxB,EAAUhmB,YAlBc,aAkBxB,EAAgBqL,WAAW,GAHhBojD,EAfa,EAe1B7jD,YACAqe,EAhB0B,EAgB1BA,YACApb,EAjB0B,EAiB1BA,qBAEFJ,GAAkB0F,QAAU22C,EAC5Bl/C,GAAYuI,QAAUs7C,EAChBnmB,EAAMrf,EAAYtgB,KAAI,SAACC,GAC3B,kCACKA,GADL,IAEEiF,qBAAsBA,EAAqBP,QACzC,SAAC61B,GAAD,OAAQA,EAAGhT,aAAevnB,EAAEunB,mBAIlCwjD,EAAerrC,GA7Ba,4CAAH,qDAgC3B/2B,qBAAU,WACR0rC,IAAW,GAEX,sBAAC,4BAAAr0C,EAAA,sEACOurE,KADP,uBAEiBnqE,wCAFjB,QAEO4D,EAFP,SAIGgmE,EAAUhmE,GAGZqvC,IAAW,GAPZ,0CAAD,KASC,IAEH1rC,qBAAU,WACRi1C,EAAcH,KACb,CAACA,IAEJ,IAAMW,GAAO,uCAAG,kCAAAp+C,EAAA,6DACdq0C,IAAW,GADG,SAESte,EAAI6P,aAAawN,MAF1B,OAERh2B,EAFQ,OAGR9Y,EAAc8Y,aAHN,YAGMA,EAAUhmB,YAHhB,uBAGM,EAAgB28C,iBAHtB,aAGM,EAA2BzvC,YAC5CvE,KAAI,SAACC,GAAD,OAAQA,GAAR,mBAAeA,EAAEsE,aAAe,QACpCsa,OACHg/B,EAAct5C,EAAYM,MAAK,SAAC5E,GAAD,OAAOA,EAAEqC,KAAOI,EAAWJ,OAC1DkpE,KACAl3B,IAAW,GARG,2CAAH,qDAWP3L,GAAc,uCAAG,iCAAA1oC,EAAA,6DAAQgsC,EAAR,EAAQA,QAAS5tC,EAAjB,EAAiBA,OAChC2O,EAAasT,EAAYzb,MAC7B,SAAC5E,GAAD,OAAOA,EAAEunB,aAAeykB,EAAQzkB,cAE/B,CAACprB,YAAWC,iBAAgBE,qBAAoBD,iBAAeuI,MAAK,SAAA5L,GAAC,OAAIA,IAAMoF,KAChF2O,EAAWiwC,iBAAmB5+C,EAE9B2O,EAAWmpB,WAAa93B,EAGX,oBAAXA,GACF8gD,EAAwB,CACtB19C,aAAciB,EAAWJ,GACzBge,YAAa,CAACtT,GACdkzC,SAAU,WACR7B,QAfe,SAmBfroB,EAAI1O,2BAA2B,CAACta,IAnBjB,2CAAH,sDAsBd0nC,GAAiB,SAACr9C,GAAS,IAelB,EAbX40C,EAIE50C,EAJF40C,QACA/mC,EAGE7N,EAHF6N,qBACA8H,EAEE3V,EAFF2V,WAJ6B,EAM3B3V,EADFs9C,SAEI5kC,EAAS,CACb4kC,cAR6B,SAS7Bv0B,UAAW6rB,EAAQzkB,WACnB9kB,aACAoC,kBAAmBA,GAAkB0F,QACrCvI,YAAaA,GAAYuI,QACzBtF,uBACA+5C,qBAAsBjyC,EACtB+nC,aAAW,wBAAE,sBAAA90C,EAAA,6DACX0nE,EAAmB,MADR,SAELtpB,KAFK,2CAAF,4CAIXn+B,SAAUxd,EAAW4d,aAEvBqnD,EAAmB53D,IAsBrB,GAAI23D,EACF,OAAO,kBAAC,IAA6BA,GAEvC,GAAIkD,EACF,OACE,kBAAC,KAAD,CACEt0B,QAAS,WACPu0B,GAAkC,GAClCxsB,MAEF37C,WAAYA,IAKlB,IAAM+oE,KAAqB9mE,EAAOE,MAAK,SAACI,GAAD,MACrC,CAAC,QAAS,WAAY,OAAQ,qBAAqBJ,MAAK,SAAC5E,GAAD,OAAOA,IAAMgF,QAUjEuxC,IAAQl2B,GAAqC,IAAvBA,EAAYzoB,OACpBqoB,GAAYxd,EAAzB4d,YACD4kD,GAAiBhlD,GACnBpgB,uCAA6BogB,GAAU+H,GACvC,GAEJ,OACE,yBAAK3pB,MAAO,IACV,kBAAC,EAAD,CACEsH,MAAOlD,EAAWkD,MAClB2wC,KAAMA,EACN1d,QAASn2B,aAAF,EAAEA,EAAYQ,SACrBslE,UAAW,WACTqC,GAAkC,IAEpCl2B,SAAU,kBACRD,GAAe,CACbzI,QAASi5B,GAAe,GACxBhgE,qBAAsBob,aAAF,EAAEA,EAAapb,qBACnCob,cACAq0B,UAAU,OAIfN,IAAW,kBAAC,KAAD,MACXmC,KAAUnC,IACT,yBAAK/1C,MAAO,CAAC6K,OAAQ,SACnB,0BAAM7K,MAAK,eAAMlD,QAAM+e,QACpBle,yBAAe,oBAIpBo4C,KAAYmC,IACZ,oCACE,yBACEl4C,MAAO,CACLmF,QAAS,OACTD,eAAgB,WAChBV,QAAS,qBACTk0C,aAAc,aAAF,OAAe77C,SAAOqH,aAClCjE,OAAQ,OACRgF,WAAY,WAGd,kBAAC,KAAD,MACA,kBAAC,IAAD,CACE8lB,KAAMiiD,GACN1lE,MAAO3J,yBAAe,uCAEtB,yBACEyvE,UAAW,kBAAMH,IAAe,IAChC99D,aAAc,kBAAM89D,IAAe,IACnC79D,aAAc,kBAAM69D,IAAe,KAEnC,kBAAC,KAAD,CACE7iD,KACE,kBAAC,GAAD,CACEpqB,MAAO,CAACC,OAAQ,OAAQmX,OAAQ,iBAChCkE,KAAMze,SAAO+N,WAGjB5H,QAASopE,GAAc1qE,KAAI,SAACiF,GAAD,mBAAC,eACvBA,GADsB,IAEzBwkB,SAAU9kB,EAAOE,MAAK,SAACnL,GAAD,OAAUA,IAASuL,EAAEvL,aAE7C4O,QAAS,SAACohB,GAAD,OA9GChwB,EA8G0BgwB,EAAKhwB,KA5GnDiL,EAAOE,MAAK,SAACI,GAAD,OAAOA,IAAMvL,MAC3BiyE,EAAYhnE,EAAOA,QAAO,SAAChK,GAAD,OAAOA,IAAMjB,KACvCuxE,EAAUU,GACVpqE,sCAA4BoqE,KAE5BA,EAAY,GAAH,mBAAOhnE,GAAP,CAAejL,IACxBuxE,EAAUU,GACVpqE,sCAA4BoqE,WAELA,EAAU9mE,MAAK,SAACI,GAAD,MACtC,CAAC,QAAS,WAAY,OAAQ,qBAAqBJ,MAAK,SAAC5E,GAAD,OAAOA,IAAMgF,SAGrEkmE,GAAa,IAfQ,IAACzxE,EACpBiyE,GA8GUhjD,cAAc,MAIpB,kBAAC,IAAD,CACE/iB,MAAO3J,yBAAe,gCACtBotB,KAAM+hD,GAEN,kBAAC,IAAD,CACExlE,MACEslE,EACIjvE,yBAAe,qBACfA,yBAAe,oBAGrB,yBACEqC,MAAO,CACLmF,QAAS,OACT+J,cAAe,SACf1E,OAAQ,UACRvK,OAAQ,OACRC,MAAO,OACP+E,WAAY,SACZC,eAAgB,SAChBkS,OAAQ,aAEVpN,QApGQ,WACjBmjE,IAGHJ,GAAqB,GACrBp/D,YAAW,kBAAMo/D,GAAqB,KAAQ,MAH9CF,GAAcD,MAoGAA,GAAa,kBAAC,GAAD,CAAYtxD,KAAMze,SAAO+N,WACvCgiE,GAAa,kBAAC,GAAD,CAActxD,KAAMze,SAAO+N,eAKjD,yBAAK5K,MAAO,CAACC,OAAQ49D,GAAW59D,OAAS,IAAKwX,SAAU,WACrDmvD,GAAellE,KAAI,SAACisC,GAAD,OAClB,kBAAC,EAAD,CACEgO,SAAUixB,EACVvmE,OAAQA,EACRsjE,YAAU,EACVvlE,WAAYA,EACZimC,eAAgBA,GAChBluC,IAAKwxC,EAAQzkB,WACblf,QAASosC,GACTzI,QAASA,EACTnnC,kBAAmBA,GAAkB0F,QACrCvI,YAAaA,GAAYuI,QACzBwC,WAAYsT,EAAYzb,MACtB,SAAC5E,GAAD,OAAOA,EAAEunB,aAAeykB,EAAQzkB,oBAKxC,kBAAC,GAAD,CACE9kB,WAAYA,EACZwd,SAAUxd,aAAF,EAAEA,EAAY4d,YACtB+I,KAAMyhD,EACNx0B,QAAS,WACP+H,KACA0sB,GAAmB,IAErBhmB,QAASjgD,GAAkB0F,QAAQ7F,QACjC,SAACnL,GAAD,aAAO,UAAAA,EAAEqgC,kBAAF,eAAchiC,QAAS,KAEhCoK,YAAaA,GAAYuI,c,0IC/atBohE,EAhCI,SAACxjE,GAAU,IAE1BE,EACEF,EADFE,QAASogB,EACPtgB,EADOsgB,KAAMmjD,EACbzjE,EADayjE,WAAYn/D,EACzBtE,EADyBsE,KAFD,EAGxBtE,EAD+BqhB,gBAFP,WAKMhhB,oBAAS,GALf,mBAKrBm0C,EALqB,KAKVF,EALU,KAMtBK,EAAUH,EAAYzhD,SAAO+X,KAAO/X,SAAOwH,MAEjD,OACE,kBAAC6+C,EAAA,EAAD,CACEsqB,YAAa,kBAAMpvB,GAAa,IAChChvC,aAAc,kBAAMgvC,GAAa,IACjC3B,aAAW,EACXzyC,QAASA,EACThK,MAAO,CACLE,MAAO,OACPD,OAAQ,OACRkF,QAAS,OACTF,WAAY,SACZC,eAAgB,aAChBsF,OAAQ,UACRlG,gBAAiB6mB,EAAWtuB,SAAOgY,WAAa4pC,IAEjDr0B,GACE,yBAAKpqB,MAAO,CAACC,OAAQ,OAAQ4K,OAAQ,qBAAsBvB,IAAK8gB,IAElEmjD,GAAc,yBAAKvtE,MAAO,CAAC6K,OAAQ,sBAAuB0iE,GAC3D,0BAAMvtE,MAAK,2BAAMlD,QAAMiR,QAAZ,IAAoB8d,WAAY,SAASzd,K,eCpBpDq/D,EAAMzlE,EAAQ,KAqHL0lE,IAjHA,SAAC5jE,GAAU,IAEtB66C,EACE76C,EADF66C,MAAOx5B,EACLrhB,EADKqhB,SAAUwiD,EACf7jE,EADe6jE,WAAYC,EAC3B9jE,EAD2B8jE,UAAWjgC,EACtC7jC,EADsC6jC,QAGnChB,EADS3xB,qBAAW9c,iBACpByuC,KALiB,EAOUkhC,qBAAU,iBAAO,CAACC,GAAI,CAACvkE,QAAS,GAAIyI,KAAM,CAACzI,QAAS,OAP9D,mBAOjBwkE,EAPiB,KAOJC,EAPI,OAQMH,qBAAU,iBAAO,CAC7CnjE,WAAY,EACZsH,KAAM,CAACtH,YAZG,KAaVwG,OAAQ,CAAC+8D,KAAM,EAAGC,SAAU,EAAGC,SAAU,IACzCC,OAAQ,SAACtkE,IAdC,MAeJA,EAAMjO,MAAM6O,YAAuBi6C,SAbnB,mBAQjB0pB,EARiB,KAQPC,EARO,KAiBlBC,EAAe,WACnBD,EAAU,CAAC5jE,YApBD,MAqBVsjE,EAAW,CAACzkE,QAAS,KAGjBilE,EAAW,SAACj6C,GAChBo5C,EAAWp5C,GACXg6C,KAGI1Q,EAAa5yD,gCACnB,IAAK0hC,EACH,OAAO,KAGT,IAAM8F,GAAS9F,aAAA,EAAAA,EAAM8F,SAAU,CAACr3C,KAAM,GAAIqzE,KAAM,IAOhD,OACE,6BACE,kBAAC,WAASC,IAAV,CACE1kE,QAASukE,EACTvuE,MAAK,aACHkB,SAAU,WACV6L,IAAK,EACL1L,KAAM,EACNsO,MAAO,EACPrO,OAAQ,EACRgD,gBAAiBzH,SAAOiZ,WACrBi4D,KAEP,kBAAC,WAASW,IAAV,CAAc1uE,MAAK,aACjBkB,SAAU,WACVhB,MAxDM,IAyDND,OAAQ49D,EAAW59D,OACnB8M,IAAK,EACLzI,gBAAiBzH,SAAOwH,OACrBgqE,IAEH,yBAAKruE,MAAO,CACVmF,QAAS,OAAQlF,OAAQ,QAASqE,gBAAiBzH,SAAO4X,QAASvF,cAAe,WAElF,yBAAK5F,IAAG,kBAAaqjC,EAAKlW,WAAaz2B,MAAO,CAC5CmF,QAAS,OACTjF,MAAO,OACPD,OAAQ,OACRqE,gBAAiBzH,SAAOwH,MACxBI,aAAc,OACdoG,OAAQ,UAEV,0BAAM7K,MAAK,2BACNlD,QAAM8e,QADA,IAETiQ,WAAY,MACZhhB,OAAQ,uBACN8hC,EAAK7qC,WAJT,IAIsB6qC,EAAK3qC,WAC3B,0BAAMhC,MAAK,2BACNlD,QAAMiR,QADA,IAETlD,OAAQ,wBACN4nC,aAHJ,EAGIA,EAAQr3C,MAAMq3C,aAAA,EAAAA,EAAQg8B,MAAR,aAAqBh8B,EAAOg8B,MAAS,KAGzD,kBAAC,EAAD,CAAYzkE,QAAS,kBAAMwkE,EAAS,gBAAgBrjD,SAAuB,gBAAbA,EAClDoiD,WAAY,kBAACnT,EAAA,EAAD,CAAYp6D,MAAO,CAAC+D,MAAOlH,SAAO0Y,mBAC9CnH,KAAMzQ,yBAAe,qBACjC,kBAAC,EAAD,CAAYqM,QAAS,kBAAMwkE,EAAS,mBAAmBrjD,SAAuB,mBAAbA,EACrDoiD,WAAY,kBAACoB,EAAA,EAAD,CAAQ3uE,MAAO,CAAC+D,MAAOlH,SAAO2Y,kBAC1CpH,KAAMzQ,yBAAe,2BACjC,kBAAC,EAAD,CAAYqM,QAAS,kBAAMwkE,EAAS,uBACxBjB,WAAY,kBAACqB,EAAA,EAAD,CAAM5uE,MAAO,CAAC+D,MAAOlH,SAAO4Y,kBACxCrH,KAAMzQ,yBAAe,6BAC/BgwC,GACC,oCACD,yBAAK3tC,MAAO,CAAC04C,aAAc,aAAF,OAAe77C,SAAOqH,gBAC/C,kBAAC,EAAD,CAAY8F,QA5DJ,WACd4jE,IACAW,KA0DoChB,WAAY,kBAACsB,EAAA,EAAD,CAAS7uE,MAAO,CAAC+D,MAAOlH,SAAOwX,aAC7DjG,KAAMzQ,yBAAe,yBACjC,yBAAKqC,MAAO,CAAC04C,aAAc,aAAF,OAAe77C,SAAOqH,iBAGjD,0BAAMlE,MAAK,2BACNlD,QAAM4S,MADA,IAET4G,SAAU,OACVpV,SAAW,WACXI,OAAQ,MACRqO,MAAO,MACP5L,MAAO,eANT,YAOa0pE,aAPb,EAOaA,EAAKqB,a,2JC3FNC,E,OA3BpB,2BACA,2BACA,4BACA,4BACA,4BACA,4BACA,SAEA,SACA,4BACA,SACA,4BACA,UACA,UACA,UACA,UACA,6BACA,4BACA,6BACA,6BAKA,EAAQ,OAGYA,EAIT,SAHM9uD,OAAOve,IAAIqtE,GAM1BC,EAAM99D,OAAO,mEAAW,CACtBwiB,QAAS,UAERu7C,UAAU,EAAQ,MAA6B,WAC/CC,UAGL,IAAMC,EAAiB,CACrB,UACA,oBACA,UACA,UACA,UACA,UACA,WAGIC,EAAc,CAClB,EAAAnd,aACA,UACA,UACA,EAAAod,qBACA,UACA,UACA,EAAAC,mBACA,WAIAF,EAAYnrE,QAAQ,WAItB,UACGlJ,OAAO,MAAO,EAAF,SAAMo0E,EAAmBC,IACrC7mE,UACC,OACA,EAAAgnE,cAAc,UAAK,CAAC,OAAQ,OAAQ,OAAQ,aAE7Cr+D,OAAO,EAAAs+D,WACPt+D,OAAO,EAAAu+D,YACPC,IAAI,EAAAC,U,+JC9EP,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,2B,cAwBE,WAAoB/hC,EAAwBlQ,EAAuCkO,GAAnF,MAGE,cAAO,KATH,OAMc,EAAAgC,SAAwB,EAAAlQ,WAAuC,EAAAkO,YAIjF,EAAK7gB,MAAO,EACZ,EAAKvb,UAAW,EAChB,EAAKogE,OAAS,UAAQC,KACtB,EAAK73B,QAAU,UAAQ63B,KACvB,EAAKllE,SAAU,EAdJ,EAuEf,O,4CArFwC,iBA+BtC,YAAAikC,QAAA,sBACEl9B,KAAKqZ,KAAOrZ,KAAKqZ,OAASrZ,KAAKlC,SAE/BkC,KAAKwL,YAAYrjB,KACf6X,KAAKk8B,OAAOkiC,QACV,WAAM,SAAK/kD,QACX,WACE,EAAKglD,cACL,EAAKC,mBAKXt+D,KAAKwL,YAAYrjB,KACf6X,KAAKk8B,OAAOkiC,QACV,WAAM,SAAKtgE,YACX,SAACA,GACC,EAAKA,SAAWA,EAChB,EAAKub,KAAO,EAAKA,MAAQ,EAAKvb,aAKpCkC,KAAKq+D,eAGP,YAAA3b,OAAA,WACO1iD,KAAKlC,WACRkC,KAAKqZ,MAAQrZ,KAAKqZ,OAItB,YAAAglD,YAAA,sBACOr+D,KAAKlC,WACJkC,KAAKqZ,MACPrZ,KAAK/G,SAAU,EACf+G,KAAKk6B,UAAU7gB,KAAKrZ,KAAKgsB,WAEzBhsB,KAAKk6B,UAAU+Y,MAAMjzC,KAAKgsB,UAAUtf,SAAQ,WAC1C,EAAKzT,SAAU,OAMvB,YAAAqlE,aAAA,WACOt+D,KAAKlC,WACJkC,KAAKqZ,KACPrZ,KAAKk+D,OAAO,CAAEK,UAAWv+D,OAEzBA,KAAKsmC,QAAQ,CAAEi4B,UAAWv+D,SAhFzB,EAAA5J,SAAW,CAChBijB,KAAM,KACN6kD,OAAQ,KACR53B,QAAS,KACTxoC,SAAU,gBAEL,EAAAtH,WAAaujC,EACb,EAAA1K,YAAc,6CACd,EAAAmvC,WAAa,CAClBtuC,OAAQ,mBACRuuC,OAAQ,oBA0EZ,E,CAxFA,OAGwC/yD,oBAA3B,EAAAquB,sB,6BCHb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,a,aASE,WAAoB2kC,EAAmD9yD,GAAnD,KAAA8yD,WAAmD,KAAA9yD,WAuEzE,O,kCAnEE,YAAAyN,KAAA,SAAKslD,GAAL,WACE3+D,KAAK4L,UACH,WACE,EAAKgzD,yBAAyBD,GAC9B,EAAKE,aAAaF,GAClB,IAAMG,EAA6BH,EAAiB9pE,KAAKqlC,EAAU6kC,2BACnE,EAAKC,cAAcL,GAEdG,EAAmBG,SAAS/kC,EAAUglC,sBACzCJ,EAAmBK,IAAI,UAAW,IAGpC,IAAMC,EAAmB,EAAKV,SAC3BpoB,SAASwoB,EAAoB5kC,EAAUglC,qBACvC3yD,MAAK,WAAM,SAAK8yD,wBAAwBV,MAE3CG,EAAmBz3E,KAAK,WAAY+3E,KAEtC,IAIJ,YAAAnsB,MAAA,SAAM0rB,GAAN,WACE3+D,KAAK4+D,yBAAyBD,GAC9B3+D,KAAKs/D,gBAAgBX,GACrB,IAAMG,EAA6BH,EAAiB9pE,KAAKqlC,EAAU6kC,2BACnE/+D,KAAKg/D,cAAcF,GAEdA,EAAmBG,SAAS/kC,EAAUglC,sBACzCJ,EAAmBK,IAAI,UAAW,QAGpC,IAAMC,EAAmBp/D,KAAK0+D,SAC3BnoB,YAAYuoB,EAAoB5kC,EAAUglC,qBAC1C3yD,MAAK,WAAM,SAAK8yD,wBAAwBV,MAI3C,OAFAG,EAAmBz3E,KAAK,WAAY+3E,GAE7BA,GAGT,YAAAP,aAAA,SAAaF,GACX,OAAO3+D,KAAK0+D,SAASpoB,SAASqoB,EAAkBzkC,EAAUqlC,iBAG5D,YAAAD,gBAAA,SAAgBX,GACd,OAAO3+D,KAAK0+D,SAASnoB,YAAYooB,EAAkBzkC,EAAUqlC,iBAG/D,YAAAP,cAAA,SAAcpkE,GACRA,GAAWA,EAAQvT,KAAK,cAC1B2Y,KAAK0+D,SAASntC,OAAO32B,EAAQvT,KAAK,aAClCuT,EAAQ4kE,WAAW,cAIvB,YAAAZ,yBAAA,SAAyBD,GACvBA,EACG9pE,KAAKqlC,EAAUulC,yBACfnpB,SAASpc,EAAUwlC,yBAGxB,YAAAL,wBAAA,SAAwBV,GACtBA,EACG9pE,KAAKqlC,EAAUulC,yBACflpB,YAAYrc,EAAUwlC,yBA3EpB,EAAAX,0BAA4B,uBAC5B,EAAAU,wBAA0B,qBAC1B,EAAAP,oBAAsB,EAAA30D,qBAAqBisC,UAC3C,EAAA+oB,eAAiB,OACjB,EAAAG,uBAAyB,cAyElC,E,GA9Ea,EAAAxlC,a,8ECFb,iBASE,cAGF,OAXS,EAAA1jC,WAAayjC,EACb,EAAA3jC,QAAU,CAAEioE,UAAW,MACvB,EAAAlvC,YACL,mEACK,EAAAmvC,YAAa,EAOtB,EAZA,GAAa,EAAAvkC,4B,8ECAb,iBAYE,cAGF,OAdS,EAAAzjC,WAAawjC,EACb,EAAA1jC,QAAU,CACfioE,UAAW,MAEN,EAAAlvC,YAAc,mEACd,EAAAmvC,WAAa,CAClBmB,KAAM,wBAQV,EAfA,GAAa,EAAA3lC,4B,8ECGA,EAAAP,sBAAwB,CACnC+kC,WAAY,CACVoB,QAAS,YAEXxpE,SAAU,CACRypE,YAAa,KAEf18B,SAAU,id,8ECPC,EAAAtJ,0BAA4B,CACvC2kC,YAAY,EACZr7B,SAAU,kL,8ECPC,EAAA7J,gBAAkB,CAC7BljC,SAAU,CACR8G,KAAM,KAERimC,SAAU,qOASV3sC,WAAU,WAAE,cAIZ,OAHE,YAAA0mC,QAAA,WACEl9B,KAAK8/D,YAAc,uBAAsB9/D,KAAK9C,MAAQ,UAAQ,YAElE,EAJU,K,6BCRZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GActB,SACA,Q,cAeE,WAAYm0B,EAAYrF,EAAUpgB,EAAUuuB,GAA5C,MAGE,cAAO,KADH,OAEJ,EAAK9I,WAAaA,EAClB,EAAKrF,SAAWA,EAChB,EAAKpgB,SAAWA,EAChB,EAAKuuB,gBAAkBA,EACvB,EAAKmhC,aAAc,EACnB,EAAKyE,UAAY,MACjB,EAAKjxD,MAAQ,KACb,EAAKhR,UAAW,EAChB,EAAK7E,QAAU,KACf,EAAK+mE,WAAY,EAXN,EAiDf,O,iEAhE8C,iBA6B5C,YAAA9iC,QAAA,sBACEl9B,KAAKwL,YAAYrjB,KACf6X,KAAKqxB,WAAW8L,IAAI,EAAA1lC,OAAOwoE,gBAAgB,WAAM,SAAKC,wBACtDlgE,KAAKm6B,gBAAgB7O,oBAAmB,WAAM,SAAK40C,yBAGjDlgE,KAAKggE,WACPhgE,KAAKwL,YAAYrjB,KACf6X,KAAKqxB,WAAW+sC,QAAO,WAAM,SAAK1hE,QAAM,WAAM,SAAKwjE,yBAIvDlgE,KAAKgsB,SAASZ,GAAG,6BAA6B,WAC5C,EAAK+O,gBAAgBgmC,uBACrB,EAAKn0C,SAASo0C,IAAI,iCAItB,YAAAC,UAAA,WACErgE,KAAKkgE,sBAGP,YAAAz3D,WAAA,WACE,YAAMA,WAAU,WAChBzI,KAAKgsB,SAASo0C,IAAI,8BAGpB,YAAAF,mBAAA,sBACElgE,KAAK4L,UAAS,WACZ,EAAK0vD,aACF,EAAKx9D,YACJ,EAAKpB,MACP,EAAKy9B,gBAAgBmmC,SAAS,EAAKt0C,SAAU,EAAKld,SACnD,GAAG,IA7DD,EAAA1Y,SAAW,CAChBsG,KAAM,IACNqjE,UAAW,KACXjxD,MAAO,KACPhR,SAAU,cACV7E,QAAS,KACT+mE,UAAW,KAEN,EAAAxpE,WAAasjC,EACb,EAAAzK,YAAc,yDACd,EAAAmvC,YAAa,EAqDtB,E,CAhE8C,EAAA9yD,oBAAjC,EAAAouB,4B,6BCtBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IADtD,a,aASE,WAAY5O,EAAStf,GAArB,WAGE5L,KAAK4L,SAAWA,EAChB5L,KAAKmrB,iBAAmB,GACxBnrB,KAAKugE,eAAiB,KACtBvgE,KAAKsmB,SAAW,GAChBtmB,KAAKwgE,kBAAoB,KACzB5hD,QAAQhkB,QAAQswB,GAASE,GAAG,UAAU,WAAM,SAAKC,cAgDrD,O,iCA7CE,YAAAA,SAAA,sBACMrrB,KAAKugE,gBACPvgE,KAAK4L,SAAS2lB,OAAOvxB,KAAKugE,gBAG5BvgE,KAAKugE,eAAiBvgE,KAAK4L,UACzB,WAAM,SAAKuf,iBAAiBz2B,SAAQ,SAAA62B,GAAW,OAAAA,SAC/CvrB,KAAKsmB,WAIT,YAAAgF,mBAAA,SAAmBC,GAIjB,OAHAA,EAAQj5B,GAAK,EAAAk5B,UAAUC,QACvBzrB,KAAKmrB,iBAAiBhjC,KAAKojC,GAEpBvrB,KAAK0rB,yBAAyBH,EAAQj5B,KAG/C,YAAAo5B,yBAAA,SAAyBsB,GAAzB,WACE,OAAO,WACL,EAAK7B,iBAAmB,EAAKA,iBAAiBx2B,QAAO,SAAA42B,GAAW,OAAAA,EAAQj5B,KAAO06B,OAInF,YAAAszC,SAAA,SAASt0C,EAAUld,QAAA,IAAAA,MAAA,MACjB,IAAIwsD,GAAc,EACZmF,EAAiB3xD,EACrBkd,EAASn3B,KAAKia,GAAO4xD,QACrB10C,EAASn3B,KAAK,iBAAiBgB,WAAW6qE,QAO5C,OALID,EAAe54E,SACjByzE,EACEvjC,KAAK4oC,KAAKF,EAAe,GAAGh0C,aAAesL,KAAK4oC,KAAKF,EAAehnE,eAGjE6hE,GAGT,YAAA6E,qBAAA,sBACOngE,KAAKwgE,oBACRxgE,KAAKwgE,kBAAoBxgE,KAAK4L,UAAS,WACrC,EAAK40D,kBAAoB,OACxB,OA3DA,EAAAI,cAAgB,CACrBpxE,SAAU,WACV6L,IAAK,SACL4K,WAAY,UA2DhB,E,GA/Da,EAAAk0B,mB,8ECFA,EAAAX,oBAAsB,CACjC2J,SAAU,8M,8ECIC,EAAA5J,oBAAsB,CACjCnjC,SAAU,CACRxL,OAAQ,IACRi2E,gBAAiB,KAEnB19B,SAAU,ya,8ECJC,EAAAvJ,mBAAqB,CAChC4kC,WAAY,CACVoB,QAAS,YAEXz8B,SAAU,ud,6BCLZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QACA,SAMa,EAAAxJ,gBAAkB,C,uBAE3B,WAAYtI,EAAYzlB,GAAxB,MAGE,cAAO,KAID,OAHN,EAAKylB,WAAaA,EAClB,EAAKzlB,SAAWA,EAEH,EA8CjB,O,oCAtD0B,iBASxB,YAAAsxB,QAAA,sBACEl9B,KAAK8gE,iBAAmB,EACxB9gE,KAAK/G,SAAU,EACf+G,KAAK+gE,aAAc,EAEnB/gE,KAAKwL,YAAYrjB,KAAK6X,KAAKqxB,WAAW8L,IACpC,EAAA1lC,OAAOupE,qBAAqB,WACI,IAA1B,EAAKF,mBACP,EAAK7nE,SAAU,GAEjB,EAAK6nE,kBAAoB,EACzB,EAAKC,aAAc,MAIvB/gE,KAAKwL,YAAYrjB,KAAK6X,KAAKqxB,WAAW8L,IACpC,EAAA1lC,OAAOwpE,+BAA+B,WACpC,EAAKH,kBAAoB,EACzB,EAAKC,aAAc,EACW,IAA1B,EAAKD,kBACP,EAAKI,8BAKXlhE,KAAKwL,YAAYrjB,KAAK6X,KAAKqxB,WAAW8L,IACpC,EAAA1lC,OAAO0pE,0BAA0B,WAC/B,EAAKL,kBAAoB,EACzB,EAAKC,aAAc,EACW,IAA1B,EAAKD,kBACP,EAAKI,+BAMb,YAAAA,wBAAA,sBACElhE,KAAK4L,UAAS,WAEP,EAAKk1D,mBACR,EAAK7nE,SAAU,EACf,EAAK8nE,aAAc,KAEpB,MAEP,E,CAtD0B,EAAAr1D,oBAwD1By3B,SAAU,2e,8ECrEC,EAAAzJ,2BAA6B,CACxCtjC,SAAU,CACRgrE,cAAe,KAEjBj+B,SAAU,46C,2GCHZ,QACA,4BACA,4BACA,4BASA,aACE,cAGF,OAJak+B,EAA4B,cAPxC,EAAAvrE,UAAU,CACTzM,OAAQ,UACR6M,SAAU,wBACVitC,SAAU,UACV70C,MAAO,UACPkwE,YAAY,I,sCAED6C,GAAb,GAAa,EAAAA,gC,+CCZb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,wBACA,QACA,QACA,4BAEA,SACA,SACA,4B,cAcE,WAAoBr1C,EAAuCiB,GAA3D,MAGE,cAAO,KAJH,OACc,EAAAjB,WAAuC,EAAAiB,qBAIzD,EAAKJ,YAAc,GACnB,EAAKT,sBAAuB,EAC5B,EAAKk1C,cAAgB,UAAQnD,KAPlB,EAcX,IAAI,EAAI,EASZ,O,4CA7B0C,iBAgBhC,YAAAjhC,QAAR,sBACEl9B,KAAK6sB,YAAc7sB,KAAKitB,mBAAmBH,8BAA8B9sB,KAAK6sB,aAC9E7sB,KAAKosB,qBAAuBpsB,KAAKitB,mBAAmBb,qBAAqBpsB,KAAK6sB,aAE1E7sB,KAAKosB,uBACPpsB,KAAKshE,cAAgBthE,KAAKitB,mBAAmBlB,cAAc/rB,KAAKgsB,UAChEhsB,KAAKwL,YAAYrjB,KAAK6X,KAAKitB,mBAAmB3B,oBAAmB,WAAM,SAAKg2C,sBAIxE,YAAAjB,UAAR,WACErgE,KAAKshE,iBAzBP,cADC,EAAAvqE,MAAM,CAAEE,MAAO,UAsBV,EAAQ,WAAW,cAAe,QACnC,EAAqB,UAAW,mBAAe,GAxBzCsqE,EAAoB,cALhC,EAAAzrE,UAAU,CACTzM,OAAQ,UACR85C,SAAU,UACVjtC,SAAU,gBAiCJ,EAAQ,WAAW,oBAAqB,CAxBG,mBAwBM,OAxBN,IAAnB,EAAAsrE,qBAAA,EAAAA,qBAAmB,SAAiD,mBAAjD,OAAiD,IAAnB,EAAAC,qBAAA,EAAAA,qBAAmB,YAPvFF,G,CAA6B,EAAA71D,oBAA7B,EAAA61D,wB,8ECTb,aACA,SAEa,EAAA/gB,qBAAuB5hC,QACjCv1B,OAAO,uBAAwB,IAC/BiQ,QAAQ,gCAAiC,EAAAooE,+BACzCpoE,QAAQ,qBAAsB,EAAAqoE,oBAC9Bj4E,M,8BCZH,YAKA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,2BACA,QACA,SAEMk4E,EAAU,CACdC,OAAQ,EACRhhE,OAAQ,EACRihE,WAAY,EACZC,OAAQ,EACRC,SAAU,EACVC,SAAU,EACVC,aAAc,EACdC,aAAc,G,aAOd,WACE9wC,EAAYrG,EAAQpf,EAAUvJ,EAAME,EAAUH,EAASu/D,EACvDS,EAAmBr3D,EAAUs3D,GAI7BriE,KAAKqxB,WAAaA,EAClBrxB,KAAKgrB,OAASA,EACdhrB,KAAK4L,SAAWA,EAChB5L,KAAKqC,KAAOA,EACZrC,KAAKuC,SAAWA,EAChBvC,KAAKoC,QAAUA,EACfpC,KAAK2hE,mBAAqBA,EAC1B3hE,KAAKoiE,kBAAoBA,EACzBpiE,KAAK+K,SAAWA,EAChB/K,KAAKqiE,eAAiBA,EAyJ1B,O,8IAtJE,YAAAnqE,KAAA,sBACE8H,KAAKsiE,OAAM,WAEN,EAAA3gB,SAASD,4BAA4B1xD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQG,WAC1E,EAAApgB,SAASC,2BAA2B5xD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQG,WACzE,EAAApgB,SAASE,0BAA0B7xD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQG,WACxE,EAAApgB,SAASG,yBAAyB9xD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQG,WACvE,EAAApgB,SAASI,4BAA4B/xD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQ/gE,WAG1E,EAAA8gD,SAASK,gCAAgChyD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQG,WAC9E,EAAApgB,SAASM,kCAAkCjyD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQI,aAChF,EAAArgB,SAASO,oCAAoClyD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQE,eAElF,EAAAngB,SAASQ,wBAAwBnyD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQK,aAEtE,EAAAtgB,SAASS,gCAAgCpyD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQO,iBAC9E,EAAAxgB,SAASU,8BAA8BryD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQO,iBAC5E,EAAAxgB,SAASW,gCAAgCtyD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQO,iBAC9E,EAAAxgB,SAASY,2BAA2BvyD,KAAI,SAACkG,GAAa,OAACA,EAAU0rE,EAAQO,kBAG9EniE,KAAKqxB,WAAW8L,IAAI,EAAA1lC,OAAO8qE,eAAe,WACT,YAA3B,EAAKhgE,SAASi4B,UAA0B,EAAKn4B,KAAKwb,eACpD,EAAK2kD,WAEL,EAAKC,gBAITziE,KAAK0iE,YAAa,EAClB1iE,KAAK2iE,0BAGP,YAAAA,uBAAA,WAGOzmD,EAAE0mD,KAAK,KAAKC,aACf3mD,EAAE0mD,KAAK,KAAKC,WAAa3mD,EAAE0mD,KACxBE,cAAa,SAACpmE,GAAS,gBAAC9B,GAAY,iBAAIA,EAAS,aAAa,MAAYA,EAAQmoE,UAAU9hC,MAAM,IAAIqW,OAAO,IAAI56C,EAAI,IAAK,YAIjI,YAAA8lE,SAAA,sBACE,IAAKxiE,KAAK0iE,WAAY,CACpB1iE,KAAKyiE,aAGLziE,KAAKsiE,OAAO5tE,SAAQ,SAACoT,GACb,oBAAC5R,EAAA,KAAUpI,EAAA,KACjBouB,EAAElhB,UAAUowB,GAJI,6BAIUl1B,EAAU,CAAEpI,OAAM,GAAI,EAAKy9B,QAAQ7gC,KAAK,OAGpEsV,KAAK0iE,YAAa,IAItB,YAAAD,WAAA,WACEvmD,EAAElhB,UAAUolE,IAAI,qBAChBpgE,KAAK0iE,YAAa,GAUpB,YAAAn3C,QAAA,SAAQzjB,GAAR,WACEA,EAAMlC,kBAEA,+DAACo9D,EAAA,KAA0BC,EAAA,KAC3BC,EAAqBljE,KAAKkjE,mBAAmBp7D,EAAMzgB,KAAKyG,QAC9D,GAAIm1E,EACF,IAEE,IAAI,EACEE,EAAWjnD,EAAE,4BACbgtB,EAAQhtB,EAAE,8BACZinD,EAASt7E,OACX,EAAQs7E,EAAS,GAAGh5E,MAAM+2C,OACjBgI,EAAMrhD,SACf,EAAQqhD,EAAM,GAAG/+C,MAAM+2C,QAIzBlhC,KAAK4L,UAAS,WACR,IAIFxe,OAAOC,QAAQC,KAAKG,IAAI,CAAEwmC,cAAe,IAAS,WAAM,OAAAnoC,QAAQC,IAAI,gBAAiB,MAErF,EAAKgf,SAASxE,MAAM,2BAErB,KACH,MAAOvQ,GAEPlK,QAAQC,IAAIiK,GAIZgtE,GACFhjE,KAAKoC,QAAQghE,kBAAkBpjE,KAAKqC,KAAKrU,kBAAkB,GACxDue,MAAK,WACJ,EAAK8kB,WAAWI,MAAM,EAAAh6B,OAAO4rE,wBAI/BH,GACFljE,KAAK4L,UAAS,WAAM,SAAKy2D,eAAeiB,oBAI5C,YAAAC,yBAAA,SAAyBz1E,GACvB,IAAIugD,GAAU,EACVm1B,GAAY,EA2BhB,OAzBIxjE,KAAK2hE,mBAAmB8B,uBACtB31E,IAAW8zE,EAAQK,WAGrB5zB,GAAU,EACVm1B,GAAY,GAELxjE,KAAK2hE,mBAAmB+B,eAC7B,CAAC9B,EAAQK,SAAUL,EAAQ/gE,QAAQub,SAAStuB,KAG9CugD,GAAU,GAEHruC,KAAK2hE,mBAAmBgC,iBAE7B,CAAC/B,EAAQC,OAAQD,EAAQG,OAAQH,EAAQE,YAAY1lD,SAAStuB,KAChEugD,GAAU,EACVm1B,GAAY,GAELxjE,KAAK2hE,mBAAmBiC,0BAC7B91E,IAAW8zE,EAAQG,SAErB1zB,GAAU,GAGP,CAACA,EAASm1B,IAGnB,YAAAN,mBAAA,SAAmBp1E,GACjB,OAAOA,IAAW8zE,EAAQO,cAE9B,E,GAzKa,EAAAT,kC,6GCnBb,aAEMmC,EAAY,WAEhB,IAAIh7C,EAAU3M,EAAE,0CAA0C,EAAA4kC,cAAcE,GAAG1tD,MAAK,MAAMzL,OAGtF,OADCghC,GADAA,EAAUA,GAAW3M,EAAE,0CAA0C,EAAA4kC,cAAcS,GAAGjuD,MAAK,MAAMzL,SACxEq0B,EAAE,0CAA0C,EAAA4kC,cAAcU,GAAGluD,MAAK,MAAMzL,QAGhG,2BA4BA,OAxBE,sBAAI,qCAAsB,C,IAA1B,WAEE,OAAOq0B,EAAE,wBAAwBr0B,QAAUq0B,EAAE,yBAAyBr0B,Q,gCAGxE,sBAAI,6BAAc,C,IAAlB,WAEE,OAAOq0B,EAAE,wBAAwBr0B,SAAWg8E,K,gCAG9C,sBAAI,+BAAgB,C,IAApB,WACE,QAAIA,KAGG3nD,EAAE,yDACJA,EAAE,qEACFA,EAAE,yE,gCAGT,sBAAI,uCAAwB,C,IAA5B,WAEE,OAAOA,EAAE,0DACHA,EAAE,yE,gCAEZ,EA5BA,GAAa,EAAAylD,uB,gGCPb,aACa,EAAAlhB,oBAAsB7hC,QAChCv1B,OAAO,sBAAuB,IAC9BsL,OAAO,aAAc,EAAAmvE,YACrBp6E,M,kFCNH,E,KAAA,uBAEA,wBACE,OAAO,SAACq6E,GACN,OAAKA,EACE,UAAOA,GAAkBjzE,OAAO,SADT,M,gBCRlC,IAAId,EAAM,CACT,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,gBAAiB,IACjB,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,YAAa,IACb,eAAgB,IAChB,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,QAAS,IACT,WAAY,IACZ,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,QAAS,IACT,WAAY,IACZ,OAAQ,IACR,UAAW,IACX,QAAS,IACT,WAAY,IACZ,QAAS,IACT,aAAc,IACd,gBAAiB,IACjB,WAAY,IACZ,UAAW,IACX,aAAc,IACd,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,UAAW,IACX,OAAQ,IACR,YAAa,IACb,eAAgB,IAChB,UAAW,IACX,OAAQ,IACR,UAAW,IACX,aAAc,IACd,gBAAiB,IACjB,OAAQ,IACR,UAAW,IACX,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,IACd,UAAW,IACX,aAAc,KAIf,SAASs9B,EAAeC,GACvB,IAAIj7B,EAAKk7B,EAAsBD,GAC/B,OAAOvkC,EAAoBsJ,GAE5B,SAASk7B,EAAsBD,GAC9B,IAAIvkC,EAAoBY,EAAEoG,EAAKu9B,GAAM,CACpC,IAAI1hC,EAAI,IAAI4hC,MAAM,uBAAyBF,EAAM,KAEjD,MADA1hC,EAAE2oB,KAAO,mBACH3oB,EAEP,OAAOmE,EAAIu9B,GAEZD,EAAe/e,KAAO,WACrB,OAAOzmB,OAAOymB,KAAKve,IAEpBs9B,EAAengC,QAAUqgC,EACzBnkC,EAAOD,QAAUkkC,EACjBA,EAAeh7B,GAAK,K,8EC9QpB,aACA,SAEa,EAAAouD,uBAAyB9hC,QACnCv1B,OAAO,yBAA0B,IACjCmhB,UAAU,oBAAqB,EAAAw5D,mBAC/Bx5D,UAAU,YAAa,EAAAy5D,mBAAmBz5E,QAC1Cd,M,6BCPH,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAzC,EAAAs6E,kBAAA,YAAoB,SAACj5D,GAGhC,MAAO,CACLm5D,SAAU,IACV5tE,QAAS,UACTslB,KAAI,SAACsgB,EAAQlQ,EAAUm4C,EAAQC,GAC7B,IAAIC,GAAkB,EAGtBnoC,EAAOkiC,QAAO,WAAM,OAAAgG,EAAQE,eAAa,SAACC,EAAQC,GAChDH,EAAkBE,IAAWC,KAG/B,IAAM7iC,EAAS,WACT0iC,IACFA,GAAkB,EAClBt5D,EAASxE,MAAM49D,EAAOM,qBAKtBz4C,EAAS04C,GAAG,mBACd14C,EAASZ,GAAG,yBAA0BuW,GAEtC3V,EAASn3B,KAAK,mBAAmBu2B,GAAG,yBAA0BuW,Q,8EC9BtE,iBAQE,aAEE3hC,KAAK2kE,cAAe,EACpB3kE,KAAKkkE,SAAW,IAYpB,OArBS,EAAA15E,OAAP,WAGE,OAAO,IAAIy5E,GASb,YAAAroD,KAAA,SAAKsgB,EAAQthC,EAASgqE,GACpB,IAAMC,EAAoB3oC,EAAOkiC,OAAOwG,EAAME,WAAW,SAAA36E,GACvD,OAAAyQ,EAAQzQ,EAAQ,cAAgB,YAAY85E,EAAmBztB,cAGjEta,EAAOiB,IAAI,YAAY,WACrB0nC,QAnBG,EAAAruB,UAAY,YAsBrB,EAvBA,GAAa,EAAAytB,sB,6BCWb,SAAgB74D,EAAY0jB,EAAWm3B,EAAU1jD,EAAUZ,GAGzD,MAAO,CACLojE,WAAY,KAEZ/1C,KAAI,WAAJ,WACQ+xB,EAAO3zD,OAAO04D,KAAKC,gBAEzBpkD,EAAUiQ,eAAemvC,GAAMx0C,MAAK,SAACy4D,GACnC,IAAMC,EAAQD,EACRE,EAAa,OAAO3iE,EAASkgB,OAAM,YAAYwiD,EAAME,eAEnB,IAA7Blf,EAASl8D,IAAIm7E,IAAgCD,EAAMG,aAAc,EAAKL,aAIjFj2C,EAAUE,KAAK,CACbI,OAAQxQ,QAAQhkB,QAAQI,SAAS0hB,iBAAiB,iCAClD2S,YAAa,gCACbg2C,qBAAqB,EACrB7uE,WAAU,WACGwJ,KAERoqC,QAAU66B,EAAM94E,QAFR6T,KAIRslE,QAAU,WACX,IAAMC,EAAc,IAAI7+C,KAClB8+C,EAAW,IAAI9+C,KACrB8+C,EAASC,QAAQF,EAAYG,cAAgB,GAE7Czf,EAAS3kD,IAAI4jE,EAAY,OAAQ,CAC/B/oB,KAAM,IACNgK,QAASqf,IAGX12C,EAAUoC,SAGdhC,aAAc,KACdD,kBAAkB,IAGpB,EAAK81C,YAAa,OAItB7zC,KAAI,WACGlxB,KAAK+kE,aAIVj2C,EAAUoC,OACVlxB,KAAK+kE,YAAa,K,0DA3DxB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAMtD,iB,6BCVA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAzC,EAAAn6D,aAAe,WAAM,OAChCs5D,SAAU,IACV1tE,WAAY,CAAZ,wBAAY,SAAC0lC,EAAQypC,GAGnBA,EAAavrB,UAAU,CAAEgiB,GAAI,OAAQ,SAACwJ,GACpC,IAAMC,EAAUD,EAAaE,MAC7B5pC,EAAO6pC,kBAAoBF,EAAQG,mB,6BCHzC,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAtD,YACA,OAEA,W,WACE,SAASxvE,EACP0lC,EAAQ+pC,EAAY5jE,EAAME,EAAU6/D,EACpChgE,EAASsI,EAAUK,GAInB,IAAMm7D,EAAKlmE,KAKXkmE,EAAGC,iBAAmB,WAChBz7D,EAAS07D,wBAIO,YAAhBF,EAAG1rC,SACL9vB,EAAS27D,yBAAyB,sBACT,YAAhBH,EAAG1rC,UACZ9vB,EAAS27D,yBAAyB,wBAOtCH,EAAGv9B,WAAa,WACds9B,EAAW,iBAAiBvjB,SAE5BwjB,EAAGI,eAAiBL,EAAW,iBAAiBM,UAMlDL,EAAGM,uBAAyB,WAC1BN,EAAGO,kBAAoB/7D,EAASgtD,gBAAgBhuE,KAC5CghB,EAASwmC,oBACXg1B,EAAGQ,qBAAuBh8D,EAASwmC,mBAAmBt7C,MACtDswE,EAAGS,mBAAqBj8D,EAASwmC,mBAAmB5+C,KAEpD4zE,EAAGQ,0BAAuBh8C,EAC1Bw7C,EAAGS,wBAAqBj8C,IAI5Bw7C,EAAGU,mBAAqB,SAACC,GAAqB,OAAAX,EAAGY,eAAe1xB,WAAWyxB,IAK3EX,EAAGa,qBAAuB,WACxBb,EAAGY,eAAiBp8D,EAAS07D,uBAM/BF,EAAGc,sBAAwB,WACzBd,EAAGe,gBAAkB7kE,EAAQ8kE,4BAO/BhB,EAAGiB,SAAW,SAACC,GACb,IAAMtnE,EAAM,EAAA7T,eAAem7E,GAC3Bp8E,OAAOquB,KAAKvZ,EAAK,UAEjBomE,EAAGI,cAAe,EAClBL,EAAW,iBAAiBhzB,SAO9BizB,EAAGmB,UAAY,SAACz7C,EAAWsS,GACzBA,EAAcA,GAAe,GAE7BxzB,EAAS27D,yBAAyBz6C,IAE9BA,EAAUwpB,WAAW,uBAAyBxpB,EAAUwpB,WAAW,yBACjE8wB,EAAGO,mBAAqC,YAAhBP,EAAG1rC,UAC7B5O,EAAY,oCACZsS,EAAYsvB,YAAc0Y,EAAGO,kBAC7BrE,EAAkBkF,aAAa,8BACtBpB,EAAGQ,sBAAwC,YAAhBR,EAAG1rC,UACvC5O,EAAY,4BACZsS,EAAYxrC,WAAagY,EAASwmC,oBACzBg1B,EAAGQ,sBAAwC,YAAhBR,EAAG1rC,WACvC5O,EAAY,4BAIhBs6C,EAAGI,cAAe,EAClBL,EAAW,iBACRhzB,QACA1mC,MAAK,WACJ61D,EAAkBt2C,GAAGF,EAAWsS,OAOtCgoC,EAAGqB,gBAAkB,WACnBnlE,EAAQolE,6BAA6BnlE,EAAKrU,kBAAkB,GAAM,GAElEk4E,EAAGI,cAAe,EAClBL,EAAW,iBAAiBhzB,SAO9BizB,EAAGr0D,cAAgB,SAAC2yC,GAClBz5C,EAASxE,MAAMi+C,IAMjB95C,EAAS+8D,kBAAkBvB,EAAGv9B,YAK9Bj+B,EAASg9D,sBAAsBxB,EAAGM,wBAKlC97D,EAASi9D,iCAAiCzB,EAAGa,sBAK7C3kE,EAAQwlE,2BAA2B1B,EAAGc,uBAKtC9qC,EAAOiB,IAAI,EAAA1lC,OAAO8qE,eAAe,WAC/B2D,EAAG1rC,SAAWj4B,EAASi4B,SACvB0rC,EAAGC,sBAIP,O,wGAAO,CACLjC,SAAU,IACV70C,YAAa,6BACb74B,WAAU,EACV04B,aAAc,Q,mFC/JlB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAQtD,aAEA,SAAgBxkB,EAASm9D,EAAWC,EAAiB1tC,GAGnD,IAAM2tC,EAAkB,GAClBC,EAAsB,GACtBC,EAAiC,GAEvC,MAAO,CAEL7B,sBAAuB,KAEvBl1B,mBAAoB,KAEpBwmB,gBAAiB,CACfhuE,KAAM,MAQR+9E,kBAAiB,SAACv3B,GAChB63B,EAAgB5/E,KAAK+nD,IAQvBw3B,sBAAqB,SAACx3B,GACpB83B,EAAoB7/E,KAAK+nD,IAQ3By3B,iCAAgC,SAACz3B,GAC/B+3B,EAA+B9/E,KAAK+nD,IAOtCvH,WAAU,WACRo/B,EAAgBrzE,SAAQ,SAACgnC,GAAS,OAAAA,OAClCmsC,EAAUK,+BAQZC,sBAAqB,SAACz1E,GACpBsN,KAAKkxC,mBAAqBx+C,EAC1BsN,KAAKooE,iBACLJ,EAAoBtzE,SAAQ,SAACgnC,GAAS,OAAAA,QAQxC2sC,mBAAkB,SAAC7a,GACjBxtD,KAAK03D,gBAAgBhuE,KAAO8jE,EAC5BxtD,KAAKooE,iBACLJ,EAAoBtzE,SAAQ,SAACgnC,GAAS,OAAAA,QAOxC2qC,yBAAwB,SAACz6C,GAIrB5rB,KAAKomE,sBAHFx6C,IAC0BwO,EAAUlM,WAAWvJ,WAAa,qBAAuB,sBAKxFsjD,EAA+BvzE,SAAQ,SAACgnC,GAAS,OAAAA,QASnD4sC,oBAAmB,SAAC18C,GAClB,OAAK5rB,KAAKomE,uBAMYpmE,KAAKomE,sBAAsBx6E,MAAM,KAAK,KAEnCggC,GAPhB5rB,KAAKomE,wBAA0Bx6C,GAU1Cw8C,eAAc,WACMhuC,EAAUlM,WAAWvJ,WAGjC3kB,KAAK03D,iBAAmB13D,KAAK03D,gBAAgBhuE,OAOtCsW,KAAKkxC,mBACd42B,EAAgBnmC,OAAO,EAAA4V,WAAWgxB,WAAY,CAC5Cn5E,MAAO,4BACP2Q,OAAQ,CACNrN,WAAYsN,KAAKkxC,sBAIrB42B,EAAgBnmC,OAAO,EAAA4V,WAAWgxB,WAAY,CAC5Cn5E,MAAO,qBACP2Q,OAAQ,QAGHC,KAAKkxC,mBACd42B,EAAgBnmC,OAAO,EAAA4V,WAAWgxB,WAAY,CAC5Cn5E,MAAO,kBACP2Q,OAAQ,OAGV+nE,EAAgBnmC,OAAO,EAAA4V,WAAWgxB,WAAY,CAC5Cn5E,MAAO,qBACP2Q,OAAQ,SA3IlB,c,6BCVA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAOpD,WAAY4B,GAGV3B,KAAK2B,UAAYA,EACjB3B,KAAKuY,KAAO,GA4DhB,O,wBAzDE,YAAAiwD,sBAAA,SAAsBh5D,EAAQC,GAA9B,WACE,OAAOzP,KAAK2B,UAAU4N,eAAeC,EAAQC,GAC1ClD,MAAK,SAACmkB,GAEL,OADA,EAAKnY,KAAKpwB,KAAKuoC,GACRA,MAQb,YAAA+3C,UAAA,SAAUj0E,GAAV,WACE,OAAOwL,KAAK2B,UAAU2N,mBAAmB9a,GACtC+X,MAAK,SAACmkB,GAEL,OADA,EAAKnY,KAAKpwB,KAAKuoC,GACRA,MASb,YAAAg4C,cAAA,SAAcl0E,GACZ,QAASwL,KAAKuY,KAAK1jB,MAAK,SAAA67B,GAAU,QAAEA,GAAUA,EAAOp+B,KAAOkC,MAQ9D,YAAAm0E,oBAAA,SAAoBn0E,GAClB,IAAI6oB,GAAQ,EAUZ,OARArd,KAAKuY,KAAK7jB,SAAQ,SAAC+wD,GACbA,EAAWnzD,KAAOkC,IAItB6oB,EAAQooC,EAAWmjB,2BAGdvrD,GAGT,YAAAnI,uBAAA,SAAuB1gB,EAAUkxC,GAC/B1lC,KAAKuY,KAAK7jB,SAAQ,SAAC+wD,GACbA,EAAWnzD,KAAOkC,IAItBixD,EAAWmjB,uBAAyBljC,OAG1C,E,GAjEa,EAAA16B,W,8BCXb,Y,0XAKA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,2BACA,QACA,QACA,QAEA,SAAgBP,EACd4mB,EAAYzlB,EAAUD,EAAIk9D,EAAW79C,EAAQC,EAAc69C,EAAgBh6C,EAAWzsB,EACtFV,EAAWqJ,EAASzI,EAAUwmE,EAAQxmD,EAAU6/C,EAAmB13D,EACnEtI,EAAS0I,EAAcM,EAAaL,EAAUs3D,EAAgB2G,EAASC,EACvEC,EAAqB1mC,EAAa/hB,EAAkB0oD,EAAoBC,GAIxE,IAAMC,EAAa,CACjBC,UAAU,EACV5gE,YAAa,UAAQy1D,MA4CvB,SAASoL,IAGP,OAFAhnE,EAAS64B,YAEJ74B,EAASk4B,gBAMPl4B,EAAS83B,iBAQZh4B,EAAK+a,uBAWTosD,IAgDAp8E,OAAOQ,QAAQ67E,UAAU1jC,aAAY,SAAClmC,GACb,eAAnBA,EAAQ/R,SACN47C,GACF99B,EAAS2lB,OAAOmY,GAElBA,EAAU99B,GAAS,WACjB49D,MACC,SAnDPttD,EAAElhB,SAASC,MAAMmwB,GAAG,QAAS,KAAK,WAGhC,IAGIoiC,EAHE5xC,EAAOM,EAAElc,MACT7R,EAAOytB,EAAKO,KAAK,SAAW,GAC5BiT,EAASxT,EAAK8tD,QAAQ,qBAAqBriF,KAAK,cAiBtD,GAbEmmE,EADEp+B,EACYxT,EAAK/mB,KAAK,6CAA6C6H,OAEvDkf,EAAK8tD,QAAQ,uCAAuCC,OAAOjtE,OAWvEvO,EAAK4J,QAAQ,iBAAmB,GAAK5J,EAAK4J,QAAQ,aAAe,GAAKy1D,EAAY3lE,OAAQ,CAC5F6iB,EAAS29D,mBAAmB7a,GAE5B,IAAMz1D,EAAUy1D,EAAYz1D,QAAQ,KACpCy1D,EAAcA,EAAYoc,UAAU,GAAgB,IAAb7xE,EAAiBy1D,EAAY3lE,OAASkQ,GAC7E3K,OAAOC,QAAQC,KAAKG,IAAI,CAAEm2C,gBAAiB4pB,IAAe,WAAM,OAAA1hE,QAAQC,IAAI,kBAAmByhE,WAC1F,GACLr/D,EAAK4J,QAAQ,iBAAmB,GAC7B5J,EAAK4J,QAAQ,SAAW,IAfd,CACb,0BACA,0BACA,aAaW6V,QAAO,SAACllB,EAAQyB,GAAU,OAAAzB,GAAUsiC,EAAO5O,SAASjyB,MAAQ,GAAQ,CAC/E,IAAM,EAASkY,EAAKqZ,+BACpBtuB,OAAOC,QAAQC,KAAKG,IAAI,CAAEi2C,mBAAoB,IAAU,WAAM,OAAA53C,QAAQC,IAAI,uBAAwB,WA9C3FsW,EAAKkb,mBACdssD,MARA7+C,EAAOc,GAAG,mBACVu2C,EAAeyH,qBAPf9+C,EAAOc,GAAG,wBACVu2C,EAAeyH,oBAoBnB,IAgDMpgC,EAoDN,SAASmgC,IACP,IAAMp6D,EAAkBpN,EAAKqZ,8BAA6B,GAC1D,OAAOrZ,EAAKyZ,UAAU,GACnBvP,MAAK,SAACiD,GAAW,OAAAxE,EAAQw9D,sBAAsBh5D,EAAQC,MACvDlD,MAAK,SAACmkB,GAGLnuB,EAASq5B,YAAYlL,EAAOiL,MAC5BotC,EAAOgB,mBAEP38E,OAAOC,QAAQC,KAAKG,IAAI,CAAEm4C,wBAAyB7N,KAAKoQ,WAAY,WAAM,OAAAr8C,QAAQC,IAAI,iCAEvFi+E,OAAM,WACLh/C,EAAOc,GAAG,2BAEXpf,SAAQ,WACP21D,EAAeyH,mBAnDnB5tD,EAHc,oDAGLkT,SAASgxC,IAFA,oBAEeh1C,GAFf,oBAE6B,WAC7Cxf,GAAS,WACPi+D,MACC,QAKY,cAEJrtD,KAAKxxB,OAAOkD,SAASqtB,YAChC8tD,EAAW3gE,cACX2gE,EAAW3gE,YAAcwgE,EAAoBe,QAAO,WAClDj/C,EAAOc,GAAG,WACPvf,MAAK,WACJs9D,IACGt9D,MAAK,WAEJw8D,EAAOgB,mBACP38E,OAAOC,QAAQC,KAAKG,IAAI,CAAEm4C,wBAAyB7N,KAAKoQ,WAAY,WAAM,OAAAr8C,QAAQC,IAAI,iCAEvFi+E,OAAM,WACLh/C,EAAOc,GAAG,qCAwCxB,SAAS09C,IACP59D,GAAS,WAEP,IAAMuwC,EAAOnxD,OAAOkD,SAASqtB,SACvB/mB,EAAW6N,EAAKrU,iBAChBk8E,EAA4B7nE,EAAKqZ,+BAGnCyuD,EAAoBx+D,EAAGy+D,OAAO79D,MAAK,WAUrC,GAAIlK,EAAKmc,aAAenc,EAAKmc,cAAgBhqB,EAK3C,OAJA68B,EAAWI,MAAM,EAAAh6B,OAAO4yE,eAExBv/D,EAAaw/D,oBACb7pD,EAAiBR,aAAY,GACtB+K,EAAOc,GAAG,cAMjBt3B,IAAawW,EAAQ09D,cAAcl0E,KACrC21E,EAAoBn/D,EAAQy9D,UAAUj0E,GACnC+X,MAAK,WACJxB,EAAS+5C,OAAO,gBAKlBziD,EAAKmc,cAAgBhqB,GAAa60E,EAAWC,WAC/CjH,EAAeiB,gBACfwF,EAAe53C,OACfpC,EAAUoC,QAGZi5C,EACG59D,MAAK,WAEJgW,EAASgsB,QAGThsC,EAASk5B,UAAUjnC,GAGnB+N,EAASs5B,YAAYrnC,GAEjB6N,EAAK+a,wBAEJ/a,EAAKob,qBACFpb,EAAKqb,kBACLrb,EAAKsb,cACLtb,EAAKub,iBAITxS,EAAY8lB,OAFZ9lB,EAAY4jB,WAMjBziB,MAAK,WACJ,IACGlK,EAAKob,sBACFpb,EAAKqb,mBACLrb,EAAKsb,eACLtb,EAAKub,kBACNvb,EAAK+a,uBACiB,YAAtB7a,EAASi4B,SACZ,CACA,GAAIn4B,EAAKmc,cAAgBhqB,EAIvB,OAAO,KACP,GAAI6N,EAAKwb,eAET,OAAOzb,EAAQghE,kBAAkB5uE,GAAU,OAIhD+X,MAAK,WAOF,IAiBM7Z,GAtBL2P,EAAK6b,sBAAuB7b,EAAK8b,sBAC9B9b,EAAK+b,sBACL/b,EAAKic,uBACgB,YAAtB/b,EAASi4B,WAEN9nC,EAAau2E,EAAYx2D,6BAC7By3D,KAGA9nE,EAAQmoE,YAAY73E,EAAWJ,IAAI,IASpC+P,EAAK6b,sBAAuB7b,EAAK8b,sBAC9B9b,EAAK+b,sBACL/b,EAAKic,sBAWTjc,EAAKmc,cAAgBhqB,KAChB6N,EAAK+b,uBAAwB/b,EAAKic,uBACjCjc,EAAK6b,qBAAwB7b,EAAK8b,wBAExCzT,EAASy9D,sBAAsB,MAC/Bz9D,EAAS29D,mBAAmB,QAdtB31E,EAAau2E,EAAYx2D,6BAC7By3D,KAGAvoE,EAAUoO,yBAAyBrd,EAAWJ,GAAIkC,GAAU+X,MAAK,SAAC7Z,GAChEgY,EAASy9D,sBAAsBz1E,OAenC2P,EAAKob,qBACFpb,EAAKqb,kBACLrb,EAAKsb,cACLtb,EAAKub,kBACLvb,EAAKmc,cAAgBhqB,IAExBkW,EAAS27D,yBAAyB,MA+B5C,SAAoB7xE,GAClB,GAAI6N,EAAK+a,sBAEP,GACE/a,EAAKob,qBACFpb,EAAKqb,kBACLrb,EAAKsb,cACLtb,EAAKub,iBAIRmrD,EAAOyB,wBACF,KACJnoE,EAAKob,qBACFpb,EAAKqb,kBACLrb,EAAKsb,cACLtb,EAAKub,kBAGT,GAAIvb,EAAKmc,cAAgBhqB,GAAawW,EAAQ29D,oBAAoBn0E,GAI3D,IACJ6N,EAAK6b,sBAAuB7b,EAAK8b,sBAC9B9b,EAAK+b,sBACL/b,EAAKic,yBACL5T,EAAS49D,oBAAoB,uBAC5B59D,EAAS49D,oBAAoB,uBAC7B59D,EAAS49D,oBAAoB,QAWlCjmE,EAAKmc,cAAgBhqB,GACjB6N,EAAKwb,iBAAmBxb,EAAK+b,sBAAwB/b,EAAKic,yBACxD5T,EAAS49D,oBAAoB,uBAC5B59D,EAAS49D,oBAAoB,0BAMpCS,EAAOgB,uBApBmC,CAKtC1nE,EAAKmc,cAAgBhqB,GACvBu0E,EAAOgB,mBAET,IAAM,EAAS1nE,EAAKqZ,+BACpBtuB,OAAOC,QAAQC,KAAKG,IAAI,CAAEi2C,mBAAoB,IAAU,WAAM,OAAA53C,QAAQC,IAAI,uBAAwB,WAhBlGg9E,EAAO0B,yBA/CPC,CAAWl2E,GAIP60E,EAAWC,WACbD,EAAWC,UAAW,GAIxBjnE,EAAKoc,WAAW09B,GAChB95C,EAAKqc,eAAelqB,GAGpB6tE,EAAesI,gBAGft5C,EAAWu5C,WAAW,EAAAnzE,OAAO8qE,oBAEhC,KAnWLhgD,EAASrqB,KAAKsxE,GA6dd,MAAO,CACLtF,SAAU,IACVtoD,KA9DW,SAACivD,GACZz9E,OAAOQ,QAAQC,YAAY,CACzBC,OAAQ,gBACP,SAACk3E,GACF,IAAI8F,EAEJvoE,EAASg4B,UAAYyqC,EAAI1yD,MAEzBkwB,EAAYH,WAAW,CAAE/vB,MAAO0yD,EAAI1yD,SAEhC0yD,EAAI1yE,GAAGzK,QAAUm9E,EAAI1yD,MAAMzqB,UAC7B0a,EAASk4B,iBAAkB,GAG7BqwC,EAAWjC,GAAU,WACnB,IAAMkC,EAAe7uD,EAAElhB,SAASC,MAAMpG,KAAK,uBACrCm2E,EAAe9uD,EAAElhB,SAASC,MAAMpG,KAAK,0BACrCo2E,EAAwB/uD,EAAElhB,SAASC,MAAMpG,KAAK,8BAC9Cq2E,EAAahvD,EAAElhB,SAASC,MAAMpG,KAAK,iBAGvCm2E,EAAanjF,QACVojF,EAAsBpjF,QACtBqjF,EAAWrjF,QACXkjF,KAEHlC,EAAUt3C,OAAOu5C,GAEbE,EAAanjF,OACfwa,EAAKib,cAAgB0tD,EACZC,EAAsBpjF,OAC/Bwa,EAAKmb,UAAYytD,EACRC,EAAWrjF,OACpBwa,EAAKmb,UAAY0tD,EACRH,EAAaljF,SACtBwa,EAAKmb,UAAYutD,GAvbzB//C,EAAOc,GAAG,UAAW,IAAIvf,MAAK,WACvB68D,EAAY+B,cAKf,EAAAC,cAAc,CAAC5oC,EAAYZ,YAAa,EAAAthC,KAAKqB,EAAUwN,2BACpD5O,KAAK,EAAAyc,KAAK,IACVG,WAAU,SAAC,GALF,IAKKwd,EAAH,cAAG,GAGb,GAFAp4B,EAASo4B,cAAgBA,EAErBA,EACF,OAAO4uC,IAETv+C,EAAOc,GAAG,aAAavf,MAAK,WAC1B81D,EAAeyH,yBAbrB9+C,EAAOc,GAAG,aAAavf,MAAK,WAC1B81D,EAAeyH,4BAybhB,QAGLe,EAAM1tC,IAAI,EAAA1lC,OAAO4zE,sBAAsB,WAChChpE,EAAKob,sBACR4rD,EAAWC,UAAW,GAExBC,OAGFn8E,OAAOQ,QAAQ67E,UAAU1jC,aAAY,SAAClmC,GACb,oBAAnBA,EAAQ/R,QAAgC,CAC1C,oCAAqC,4BAA6B,wBAClEsuB,SAAS4sD,EAAQsC,wBAEjBlJ,EAAkBmJ,qBAte1B,oB,+CCLA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAOpD,WAAY5/D,EAAIhK,EAAWU,GAGzBrC,KAAK2L,GAAKA,EACV3L,KAAK2B,UAAYA,EACjB3B,KAAKqC,KAAOA,EACZrC,KAAKozC,aAAe,GAgDxB,O,oCAvCE,YAAAo4B,mBAAA,SAAmBC,GACjBzrE,KAAKozC,aAAeq4B,EAAoB79D,QAAO,SAACwlC,EAAcs4B,GAFtD,IAAI,EAMV,OAHA5jF,OAAO0P,OAAO47C,IAAY,MACvBs4B,EAAmBp5E,IAAKo5E,EADjB,IAGHt4B,IACN,KAQL,YAAAk3B,kBAAA,WACEtqE,KAAKozC,aAAe,IAOtB,YAAAu4B,sBAAA,sBACQh/D,EAAW3M,KAAK2L,GAAGiB,QAUzB,OATIgS,QAAQgtD,OAAO5rE,KAAKozC,aAAc,IACpCpzC,KAAK2B,UAAUkqE,GAAG94D,gBAAgB/S,KAAKqC,KAAKrU,kBACzCue,MAAK,SAACy4D,GACL,EAAKwG,mBAAmBxG,GACxBr4D,EAASxf,QAAQ,EAAKimD,iBAG1BzmC,EAASxf,QAAQ6S,KAAKozC,cAEjBzmC,EAASN,SAGlB,YAAAy/D,mBAAA,SAAmBx5E,GACjB,OAAO0N,KAAKozC,aAAa9gD,IAE7B,E,GAvDa,EAAAwY,gB,6BCVb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IADtD,a,aA6BE,WAAY4zD,GAEV1+D,KAAK0+D,SAAWA,EAChB1+D,KAAKkkE,SAAW,IAChBlkE,KAAK2kE,cAAe,EACpB3kE,KAAK+rE,gBAAkB,KAyB3B,O,uBApCS,EAAAvhF,OAAA,YAAP,SAAck0E,GAGZ,OAAO,IAAI/zD,EAAqB+zD,KAWlC,YAAA9iD,KAAA,SAAKsgB,EAAQthC,EAASgqE,GAAtB,WAOQC,EAAoB3oC,EAAOkiC,OAC/BwG,EAAMoH,aACN,SAAC7hF,GACC,EAAK4hF,gBAAkB,EAAKrN,SAASv0E,EAAQ,WAAa,eACxDyQ,EACA,EAAA2P,qBAAqBisC,cAK3Bta,EAAOiB,IAAI,YAAY,WACrB0nC,IAhBI,EAAKkH,iBACP,EAAKrN,SAASntC,OAAO,EAAKw6C,qBAmBlC,E,GArCa,EAAAphE,wB,6BCrBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IADtD,WAEa,EAAAW,eAAA,QAAiB,SAAC2gE,GAG7B,IAAMC,EAAY,SAAChjC,GAAU,SAAAj9C,eAAei9C,IAAUA,GAOtD,OAAO,SAACA,EAAYijC,QAAZ,IAAAjjC,MAAA,SAAY,IAAAijC,MAAA,eAClB,IAAMC,EAAcljC,EAAMkM,WAAW,UANZ,SAAClM,GAAU,OAAAA,EAAMzyC,QAC1C,kBACA,SAACwqC,EAAOorC,GAAO,OAACA,EAAKH,EAAUG,GAAM,MAKjCC,CAAmBpjC,GACnBgjC,EAAUhjC,GAEd,OAAOijC,GAAWF,EAAKE,GAAWF,EAAKE,GAASC,GAAeljC,GAASkjC,GAAeljC,M,6BChB3F,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAApD,WAAYv9B,GAEV3L,KAAKusE,MAAQ5gE,EAAGxe,UAQpB,O,iBALE,YAAAhF,KAAA,SAAKkkB,GAGH,OAFArM,KAAKusE,MAAQvsE,KAAKusE,MAAMhgE,KAAKF,EAASA,GAE/BrM,MAEX,E,gBAGE,WAAY2L,GAGV3L,KAAK2L,GAAKA,EAMd,O,iBAHE,YAAA6gE,YAAA,WACE,OAAO,IAAIC,EAAMzsE,KAAK2L,KAE1B,E,GAVa,EAAAV,gB,2FCFA,EAAAI,aAAe,WAG1B,OAAO,SAACqhE,GAiBN,OAdKA,EAGM97E,IAASC,OAAO67E,EAAiB,OAE7B97E,EAAO87E,GAAiB57E,OAAO,QACnCF,IAASC,OAAO67E,EAAiB,QAE7B97E,EAAO87E,GAAiB57E,OAAO,SAG/BF,EAAO87E,GAAiB57E,OAAO,cAT/B,IAYGC,wB,gGC3BtB,WAUA1H,EAAOD,QAAU,WAoCf,MAAO,CACLujF,SAAU,IACVzI,SAAU,IACV0I,QApCF,SAAiBC,EAAkBC,GAOjC,SAASC,EAAgBC,GACvB,OAAOA,EACJv2E,QAAQ,kBAAkB,SAACwqC,EAAOorC,GAAO,OAACA,EAAK,EAAApgF,eAAeogF,GAAM,MAiBzE,GAdIS,GACFhlF,OAAOymB,KAAKu+D,GAAqBp4E,SAAQ,SAAC63D,GACxC,GAC4C,iBAAnCugB,EAAoBvgB,IACxBugB,EAAoBvgB,GAAWnX,WAAW,UAAW,CACxD,IAAMg3B,EAAcW,EAAgBD,EAAoBvgB,IACpD6f,IAEFU,EAAoBvgB,GAAa6f,OAMT,IAA5BS,EAAiBhlF,OAAc,CACjC,IAAMuiD,EAAUyiC,EAAiB,GAAGtxC,UAAU2b,WAE9C21B,EAAiB,GAAGtxC,UAAYwxC,EAAgB3iC,Q,iBC9CtD,YAKA,IAAI6iC,EAAa,EAAQ,KAGzB5jF,EAAOD,QAAU,SAAUwiB,GAyXzB,MAAO,CACLs4D,SAAU,IACV2G,MAAO,CACLzG,QAAS,IACT/7C,QAAS,IACT6kD,SAAU,IACVC,SAAU,KACVl7E,YAAa,IACbm7E,UAAW,KAEbxxD,KAjYF,SAAcivD,EAAOjwE,EAASuhB,GAC5B,IAAIkxD,EACAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EAGAC,EAEAC,EAEAruE,EAOAsuE,EAbAC,EAAe,GASfC,GAAc,EACdC,GAAU,EACVC,GAAc,EAKlBrD,EAAMsD,gBAAkB,WACA,SAAlBhyD,EAAKre,WACPuvE,GAAiB,GAGC,SAAhBlxD,EAAKquB,SACP8iC,GAAe,GAGS,SAAtBnxD,EAAKiyD,eACPb,GAAqB,GAGY,SAA/BpxD,EAAKkyD,wBACPb,GAA8B,IAKlC3C,EAAMyD,cAAgB,WACpB1zE,EAAQ2zE,OAAO,iCACfX,EAAgBhzE,EAAQ/F,KAAK,eAI/Bg2E,EAAM2D,oBAAsB,WACJ,KAAlB3D,EAAMzG,QAKmB,gBAAlByG,EAAMzG,QAQjB5kE,EAAO9K,SAAQ,SAAU+5E,GACnB5D,EAAMzG,UAAYqK,EAAW/kF,OAIjC+jF,EAAmBgB,EAAWrvD,MAC9B0uD,EAAaL,MAXbK,EADAL,GAAoB,EAJpBK,EADAL,GAAoB,GAsBxB5C,EAAM6D,eAAiB,WAGnBhB,EAFEH,GAEgB,GAGA,EAGpBI,EAAiBnuE,EAAO3X,OAAS,GAInCgjF,EAAM8D,gBAAkB,WAElBpB,GACFQ,EAAa5lF,KAAK4J,UAAU,IAG9Bg8E,EAAa5lF,KAAK4J,UAAU,IAE5ByN,EAAO9K,SAAQ,SAAU+5E,GACvBV,EAAa5lF,KAAK4J,SAAS08E,EAAWrvD,WAGxC2uD,EAAax9E,QAIfs6E,EAAM+D,WAAa,WACjB3B,EAAWziF,OAAOojF,EAAc,GAAI,CAClCiB,MAAOpB,EACPqB,QAAS,QACTC,MAAO,CACL,IAAOrB,EACP,IAAOC,GAETqB,KAAM,CACJ3kF,KAAM,SACNsc,OAAQonE,MAMdlD,EAAMoE,iBAAmB,WACvB,IAAIC,EAAO,CACT,4BACA,gBACA,SACA,gCACA,gBACA,UACA/hE,KAAK,IAEMvS,EAAQ/F,KAAK,gBACf05E,OAAOW,GAClBrB,EAAiBjzE,EAAQ/F,KAAK,iBAIhCg2E,EAAMsE,oBAAsB,WACjBv0E,EAAQ/F,KAAK,qBAAqBu6E,UACpC16E,SAAQ,SAAU26E,GACvB,IAAIC,EAAav9E,SAASmqB,EAAEmzD,GAAW3yE,SAGnB,IAAhB4yE,IACFD,EAAUtM,UAAY,KAIJ,IAAhBuM,IACFD,EAAUtM,UAAY,KAExBvjE,EAAO9K,SAAQ,SAAU+5E,GACnBa,IAAeb,EAAWrvD,QAI9BiwD,EAAUtM,UAAY0L,EAAWviF,cAMvC2+E,EAAM0E,cAAgB,WACflC,GAILO,EAAc,GAAG4B,aAAa,YAAY,IAK5C3E,EAAM4E,mBAAqB,WACrBpC,IAIJzyE,EAAQ,GAAG40E,aAAa,WAAY,GAEpC50E,EAAQ,GAAGd,iBAAiB,WAAW,SAAUjO,GAC/C,IAAI1B,EAAQulF,OAAO9B,EAAc,GAAGX,WAAWljF,OAE/C,OAAQ8B,EAAE8jF,OACR,KAAK,GACH/B,EAAc,GAAGX,WAAWx/E,IAAItD,EAAQ,GACxCyhB,EAASi/D,EAAMqC,SAAU,GACzB,MACF,KAAK,GACHU,EAAc,GAAGX,WAAWx/E,IAAItD,EAAQ,GACxCyhB,EAASi/D,EAAMqC,SAAU,SAMjCrC,EAAM+E,eAAiB,SAAU1jF,EAAOoY,EAAYoB,EAAQrT,GAC1D,IAAIw9E,EAAgBhC,EAAe,GAAGnxD,iBAAiB,QAEvDmxD,EAAe,GAAGv/E,MAAMkE,YAAckT,EACtCmqE,EAAc,GAAG9M,UAAY72E,EAC7B0hF,EAAc,GAAGt/E,MAAMsE,gBAAkB8S,EAErC4nE,GACFO,EAAe,GAAGv/E,MAAMsE,gBAAkB,OAC1Ci9E,EAAc,GAAGvhF,MAAM+D,MAAQqT,IAE/BmoE,EAAe,GAAGv/E,MAAMsE,gBAAkB0R,EAC1CurE,EAAc,GAAGvhF,MAAM+D,MAAQA,IAInCw4E,EAAMiF,eAAiB,WAErB,IAAItC,IAA+B3C,EAAMuC,UAAzC,CAIA,IACI2C,EAA4B,GAE5BC,EAAejC,EAAalmF,OAAS,EACrCooF,EAJ+B,GAIjBD,EAMlB,GAAKzC,GAAsB0C,GAAe,MAAU1C,GAAsB0C,GAAe,IACvFr1E,EAAQ,GAAGtM,MAAME,MAAQyhF,EAAc,SAClC,CACL,IAAIzhF,EAAU++E,EAA4B,IAAN,IACpC3yE,EAAQ,GAAGtM,MAAME,MAAQA,EAAQ,KACjCuhF,EAA4B,IAAMC,EAIhCzC,IACF3yE,EAAQ,GAAGtM,MAAM0K,WAAa,IAAM+2E,EAA4B,QAKpElF,EAAMzM,OAAO,WAAW,WACtB,IAAIj0E,EAEA8jF,GAAWD,EACbC,GAAU,GAIU,gBAAlBpD,EAAMzG,QACRj6E,GAAS,EACkB,KAAlB0gF,EAAMzG,UACfj6E,GAAS,GAGXqV,EAAO9K,SAAQ,SAAU+5E,GACnB5D,EAAMzG,UAAYqK,EAAW/kF,OAIjCS,EAAQskF,EAAWrvD,UAGrBwuD,EAAc,GAAGX,WAAWx/E,IAAItD,OAIlC0gF,EAAMzM,OAAO,eAAe,SAAUoG,EAAQD,IACvC2J,GAAe1J,GAAUA,EAAOryE,SAGnCqN,EAASglE,EAAOryE,OAEhB04E,EAAMsD,kBACNtD,EAAM2D,sBACN3D,EAAM6D,iBACN7D,EAAM8D,kBACN9D,EAAMyD,gBACNzD,EAAM+D,aACN/D,EAAMiF,iBACNjF,EAAMoE,mBACNpE,EAAMsE,sBACNtE,EAAM4E,qBACN5E,EAAM0E,gBAIN3B,EAAc,GAAGX,WAAW7hD,GAAG,SAAS,SAAUjhC,GAC5CyQ,EAAQ,KAAOI,SAASk1E,eAC1Bt1E,EAAQ,GAAGu1E,WAOfvC,EAAc,GAAGX,WAAW7hD,GAAG,UAAU,SAAUjhC,GACjD,IAAIimF,EAAar+E,SAASgmC,KAAKs4C,MAAMlmF,IAErCyjF,EAAc,GAAGX,WAAWx/E,IAAI2iF,GAE5Bx1E,EAAQ,KAAOI,SAASk1E,eAC1Bt1E,EAAQ,GAAGu1E,QAGTrC,IAAesC,IACjBtC,EAAasC,EAKfxkE,EAASi/D,EAAMqC,SAAU,OAK3BU,EAAc,GAAGX,WAAW7hD,GAAG,UAAU,SAAUjhC,GACjD,IAAIimF,EAAar+E,SAASgmC,KAAKs4C,MAAMlmF,KAEjB,IAAhBimF,EACFvF,EAAM+E,eAAe,GAAI,UAAW,UAAW,YACtB,IAAhBQ,GACTvF,EAAM+E,eAAe,IAAK,UAAW,UAAW,WAGlD,IAAMU,EAAgB9wE,EAAO3K,MAAK,SAAA45E,GAAc,OAAA2B,IAAe3B,EAAWrvD,UAEzEyrD,EAAMsC,UAAY,cAAY,CAAErlE,MAAOwoE,GAAiB,OAErDA,GACFzF,EAAM+E,eAAeU,EAAcC,aAAcD,EAAcj+E,MAAOi+E,EAAcj+E,MAAO,cAM/Fu7E,EAAc,GAAGX,WAAW7hD,GAAG,OAAO,SAAUjhC,GAC9C6jF,GAAc,EAEd,IAAIoC,EAAar+E,SAASgmC,KAAKs4C,MAAMlmF,IAErC0gF,EAAM2F,YAAW,YACK,IAAhBJ,GACFvF,EAAMzG,QAAU,mBACa,IAAlByG,EAAMxiD,UACfwiD,EAAMxiD,QAAU,QAEO,IAAhB+nD,IACTvF,EAAMzG,QAAU,QACa,IAAlByG,EAAMxiD,UACfwiD,EAAMxiD,QAAU,OAIpB7oB,EAAO9K,SAAQ,SAAU+5E,GACnB2B,IAAe3B,EAAWrvD,QAI9ByrD,EAAMzG,QAAUqK,EAAW/kF,UAELghC,IAAlBmgD,EAAMxiD,UACRwiD,EAAMxiD,QAAUomD,EAAWn8E,WAKjC07E,GAAc,KAGhBE,GAAc,S,mEC5XtB,UAOQ,EAAO,QAAW,0BAAP,EAajB,WAED,aAgBA,SAASuC,EAAS/0C,GAElB,IAAIg1C,EAAOh1C,EAAKxgC,wBAEfy1E,EADMj1C,EAAKk1C,cACGC,gBACdC,EAAaC,IASb,MAJK,0BAA0Bv0D,KAAK/wB,UAAUm5D,aAC7CksB,EAAWh2E,EAAI,GAGT,CACNO,IAAKq1E,EAAKr1E,IAAMy1E,EAAW/1E,EAAI41E,EAAQK,UACvCrhF,KAAM+gF,EAAK/gF,KAAOmhF,EAAWh2E,EAAI61E,EAAQM,YAK3C,SAASC,EAAYjhF,GACpB,MAAoB,iBAANA,IAAmBkhF,MAAOlhF,IAAOmhF,SAAUnhF,GAU1D,SAASohF,EAAcz2E,EAAS47C,EAAW86B,GAC1Ch7B,EAAS17C,EAAS47C,GAClBv6C,YAAW,WACVs6C,EAAY37C,EAAS47C,KACnB86B,GAIJ,SAAS3gE,EAAQ1gB,GAChB,OAAO8nC,KAAKxvB,IAAIwvB,KAAKzvB,IAAIrY,EAAG,KAAM,GAInC,SAASshF,EAAUthF,GAClB,OAAOwe,MAAMC,QAAQze,GAAKA,EAAI,CAACA,GAUhC,SAASqmD,EAAWk7B,EAAIh7B,GAClBg7B,EAAGC,UACPD,EAAGC,UAAU9wE,IAAI61C,GAEjBg7B,EAAGh7B,WAAa,IAAMA,EAKxB,SAASD,EAAci7B,EAAIh7B,GACrBg7B,EAAGC,UACPD,EAAGC,UAAUntD,OAAOkyB,GAEpBg7B,EAAGh7B,UAAYg7B,EAAGh7B,UAAU//C,QAAQ,IAAI6gD,OAAO,UAAYd,EAAU5qD,MAAM,KAAKuhB,KAAK,KAAO,UAAW,MAAO,KAUhH,SAAS4jE,IAER,IAAIW,OAA2ChnD,IAAvB1/B,OAAO2mF,YAC9BC,EAAgD,gBAA/B52E,SAAS62E,YAAc,IAIzC,MAAO,CACN/2E,EAJI42E,EAAoB1mF,OAAO2mF,YAAcC,EAAe52E,SAAS61E,gBAAgBiB,WAAa92E,SAASC,KAAK62E,WAKhH/2E,EAJI22E,EAAoB1mF,OAAO+mF,YAAcH,EAAe52E,SAAS61E,gBAAgBmB,UAAYh3E,SAASC,KAAK+2E,WASjH,SAASpsE,EAAkB/Z,GAC1BA,EAAE+Z,kBAWH,IAIAqsE,EAAUjnF,OAAOS,UAAUymF,eAAiB,CAC3CrD,MAAO,cACPsD,KAAM,cACNC,IAAK,aACFpnF,OAAOS,UAAU4mF,iBAAmB,CACvCxD,MAAO,gBACPsD,KAAM,gBACNC,IAAK,eACF,CACHvD,MAAO,uBACPsD,KAAM,sBACNC,IAAK,oBAENE,EAAmB,QAMnB,SAASC,EAAgBC,EAAIC,GAC5B,OAAQ,KAAOA,EAAKD,GAIrB,SAASE,EAAiB3D,EAAO5kF,GAChC,OAAgB,IAARA,GAAiB4kF,EAAM,GAAKA,EAAM,IAkB3C,SAAS4D,EAAOxoF,EAAOyoF,GAItB,IAFA,IAAI/pF,EAAI,EAEAsB,GAASyoF,EAAI/pF,IACpBA,GAAK,EAGN,OAAOA,EAIR,SAASgqF,EAAaC,EAAMC,EAAM5oF,GAEjC,GAAKA,GAAS2oF,EAAK5nF,OAAO,GAAG,GAC5B,OAAO,IAGR,IAA6B8nF,EAAIC,EAAIT,EAAIC,EAArC5pF,EAAI8pF,EAAMxoF,EAAO2oF,GAOrB,OALAE,EAAKF,EAAKjqF,EAAE,GACZoqF,EAAKH,EAAKjqF,GACV2pF,EAAKO,EAAKlqF,EAAE,GACZ4pF,EAAKM,EAAKlqF,GAEH2pF,EAvCR,SAAwBzD,EAAO5kF,GAC9B,OAAOuoF,EAAgB3D,EAAOA,EAAM,GAAK,EACxC5kF,EAAQ4tC,KAAKm7C,IAAInE,EAAM,IACtB5kF,EAAQ4kF,EAAM,IAoCHoE,CAAa,CAACH,EAAIC,GAAK9oF,GAASooF,EAAeC,EAAIC,GAsBjE,SAASW,EAAUL,EAAMM,EAAQC,EAAMnpF,GAEtC,GAAe,MAAVA,EACJ,OAAOA,EAGR,IAA6B8F,EAAGO,EAA5B3H,EAAI8pF,EAAMxoF,EAAO4oF,GAGrB,OAAKO,EAMCnpF,GAJL8F,EAAI8iF,EAAKlqF,EAAE,MACX2H,EAAIuiF,EAAKlqF,IAGaoH,GAAG,EACjBO,EAGDP,EAGFojF,EAAOxqF,EAAE,GAIRkqF,EAAKlqF,EAAE,GAtOf,SAAmBsB,EAAOiyE,GACzB,OAAOrkC,KAAKs4C,MAAMlmF,EAAQiyE,GAAMA,EAqObsN,CAClBv/E,EAAQ4oF,EAAKlqF,EAAE,GACfwqF,EAAOxqF,EAAE,IALFsB,EAYT,SAASopF,EAAmB3rD,EAAOz9B,EAAOqpF,GAEzC,IAAIC,EAQJ,GALsB,iBAAVtpF,IACXA,EAAQ,CAACA,IAIuC,mBAA5CrC,OAAOC,UAAUmvD,SAASjvD,KAAMkC,GACpC,MAAM,IAAIsjC,MAAM,+CAajB,IAAMyjD,EARLuC,EADc,QAAV7rD,EACS,EACQ,QAAVA,EACE,IAEA8rD,WAAY9rD,MAIQspD,EAAW/mF,EAAM,IAClD,MAAM,IAAIsjC,MAAM,4CAIjB+lD,EAAKT,KAAK5qF,KAAMsrF,GAChBD,EAAKV,KAAK3qF,KAAMgC,EAAM,IAKhBspF,EAKLD,EAAKH,OAAOlrF,MAAMgpF,MAAMhnF,EAAM,KAAcA,EAAM,IAJ5CgnF,MAAOhnF,EAAM,MAClBqpF,EAAKH,OAAO,GAAKlpF,EAAM,IAO1B,SAASwpF,EAAkBhsF,EAAGgD,EAAG6oF,GAGhC,IAAM7oF,EACL,OAAO,EAIR6oF,EAAKH,OAAO1rF,GAAK+qF,EAAe,CAC9Bc,EAAKV,KAAKnrF,GACV6rF,EAAKV,KAAKnrF,EAAE,IACXgD,GAAK4nF,EACPiB,EAAKT,KAAKprF,GACV6rF,EAAKT,KAAKprF,EAAE,IASd,SAASisF,EAAWt5E,EAAOg5E,EAAMvT,EAAW8T,GAE3C7zE,KAAK+yE,KAAO,GACZ/yE,KAAK8yE,KAAO,GACZ9yE,KAAKqzE,OAAS,CAAEQ,IAAc,GAC9B7zE,KAAK8zE,UAAY,EAAE,GAEnB9zE,KAAKszE,KAAOA,EACZtzE,KAAK+/D,UAAYA,EAEjB,IAAIn4C,EAAOmsD,EAAU,GAGrB,IAAMnsD,KAASttB,EACTA,EAAMtS,eAAe4/B,IACzBmsD,EAAQ5rF,KAAK,CAACmS,EAAMstB,GAAQA,IAa9B,IARKmsD,EAAQlsF,QAAmC,iBAAlBksF,EAAQ,GAAG,GACxCA,EAAQxjF,MAAK,SAASN,EAAGO,GAAK,OAAOP,EAAE,GAAG,GAAKO,EAAE,GAAG,MAEpDujF,EAAQxjF,MAAK,SAASN,EAAGO,GAAK,OAAOP,EAAE,GAAKO,EAAE,MAKzCo3B,EAAQ,EAAGA,EAAQmsD,EAAQlsF,OAAQ+/B,IACxC2rD,EAAiBQ,EAAQnsD,GAAO,GAAImsD,EAAQnsD,GAAO,GAAI5nB,MAQxD,IAHAA,KAAK8zE,UAAY9zE,KAAKqzE,OAAOnoF,MAAM,GAG7B08B,EAAQ,EAAGA,EAAQ5nB,KAAK8zE,UAAUjsF,OAAQ+/B,IAC/C+rD,EAAgB/rD,EAAO5nB,KAAK8zE,UAAUlsD,GAAQ5nB,MAIhD4zE,EAAS7rF,UAAUisF,UAAY,SAAW7pF,GACzC,OAA4B,IAArB6V,KAAK+yE,KAAKlrF,QAAe6qF,EAAe1yE,KAAK8yE,KAAM3oF,IAG3DypF,EAAS7rF,UAAU8qF,WAAa,SAAW1oF,GAS1C,OAPAA,EAAQ0oF,EAAY7yE,KAAK8yE,KAAM9yE,KAAK+yE,KAAM5oF,GAGrC6V,KAAK+/D,YACT51E,EAAQ,IAAMA,GAGRA,GAGRypF,EAAS7rF,UAAUksF,aAAe,SAAW9pF,GAO5C,OAJK6V,KAAK+/D,YACT51E,EAAQ,IAAMA,GAhVS+pF,EA2JzB,SAAwBpB,EAAMC,EAAM5oF,GAGnC,GAAKA,GAAS,IACb,OAAO2oF,EAAK5nF,OAAO,GAAG,GAGvB,IAAqCsnF,EAAjC3pF,EAAI8pF,EAAMxoF,EAAO4oF,GAOrB,OAlDD,SAAwBhE,EAAO5kF,GAC9B,OAASA,GAAU4kF,EAAM,GAAKA,EAAM,IAAQ,IAAOA,EAAM,GAiDlDoF,CAAa,CALfrB,EAAKjqF,EAAE,GACPiqF,EAAKjqF,KAIqBsB,GAH/BqoF,EAAKO,EAAKlqF,EAAE,KAGiC0pF,EAAeC,EAFvDO,EAAKlqF,KA4KYorF,CAAcj0E,KAAK8yE,KAAM9yE,KAAK+yE,KAAM5oF,GAlVtDW,EAAIitC,KAAKq8C,IAAI,GAAI,GACd1E,QAAQ33C,KAAKs4C,MAAM6D,EAAOppF,GAAGA,GAAGupF,QAAQ,IAFhD,IAAyBH,EACpBppF,GAqVL8oF,EAAS7rF,UAAUqrF,QAAU,SAAWjpF,GAcvC,OAVK6V,KAAK+/D,YACT51E,EAAQ,IAAMA,GAGfA,EAAQipF,EAAQpzE,KAAK+yE,KAAM/yE,KAAKqzE,OAAQrzE,KAAKszE,KAAMnpF,GAE9C6V,KAAK+/D,YACT51E,EAAQ,IAAMA,GAGRA,GAGRypF,EAAS7rF,UAAUusF,kBAAoB,SAAWnqF,GAGjD,IAAItB,EAAI8pF,EAAKxoF,EAAO6V,KAAK+yE,MAAOtC,EAAmB,MAAVtmF,EAAgB,EAAI,EAC7D,MAAO,CAAC6V,KAAK8zE,UAAUjrF,EAAE,GAAImX,KAAK8yE,KAAKjqF,EAAE4nF,GAASzwE,KAAK8zE,UAAUjrF,EAAE4nF,KAIpEmD,EAAS7rF,UAAUwsF,QAAU,SAAWpqF,GACvC,OAAO6V,KAAKozE,QAAQpzE,KAAK6yE,WAAW1oF,KAgBrC,IAAIqqF,EAAmB,CAAE,GAAM,SAAUrqF,GACxC,YAAiBugC,IAAVvgC,GAAuBA,EAAMkqF,QAAQ,IAC1C,KAAQ3E,QAEX,SAAS+E,EAAWC,EAAQp6E,GAE3B,IAAM42E,EAAW52E,GAChB,MAAM,IAAImzB,MAAM,sCAKjBinD,EAAOb,WAAav5E,EAGrB,SAASq6E,EAAYD,EAAQp6E,GAG5B,GAAsB,iBAAVA,GAAsBmU,MAAMC,QAAQpU,GAC/C,MAAM,IAAImzB,MAAM,yCAIjB,QAAmB/C,IAAdpwB,EAAMgO,UAAmCoiB,IAAdpwB,EAAMiO,IACrC,MAAM,IAAIklB,MAAM,kDAIjB,GAAKnzB,EAAMgO,MAAQhO,EAAMiO,IACxB,MAAM,IAAIklB,MAAM,wDAGjBinD,EAAOE,SAAW,IAAIhB,EAASt5E,EAAOo6E,EAAOpB,KAAMoB,EAAOG,IAAKH,EAAOb,YAGvE,SAASiB,EAAYJ,EAAQp6E,GAM5B,GAJAA,EAAQi3E,EAAQj3E,IAIVmU,MAAMC,QAASpU,KAAYA,EAAMzS,QAAUyS,EAAMzS,OAAS,EAC/D,MAAM,IAAI4lC,MAAM,4CAIjBinD,EAAOK,QAAUz6E,EAAMzS,OAIvB6sF,EAAO7F,MAAQv0E,EAGhB,SAAS06E,EAAWN,EAAQp6E,GAK3B,GAFAo6E,EAAOpB,KAAOh5E,EAEQ,kBAAVA,EACX,MAAM,IAAImzB,MAAM,gDAIlB,SAASwnD,EAAcP,EAAQp6E,GAK9B,GAFAo6E,EAAO/nD,QAAUryB,EAEK,kBAAVA,EACX,MAAM,IAAImzB,MAAM,mDAIlB,SAASynD,EAAcR,EAAQp6E,GAE9B,GAAe,UAAVA,GAAwC,IAAnBo6E,EAAOK,QAChCL,EAAO5F,QAAU,OACX,GAAe,UAAVx0E,GAAwC,IAAnBo6E,EAAOK,QACvCL,EAAO5F,QAAU,OACX,IAAe,IAAVx0E,GAAqC,IAAnBo6E,EAAOK,QACpCL,EAAO5F,QAAU,MACX,KAAe,IAAVx0E,EAGX,MAAM,IAAImzB,MAAM,4DAFhBinD,EAAO5F,QAAU,GAMnB,SAASqG,EAAkBT,EAAQp6E,GAIlC,OAASA,GACP,IAAK,aACNo6E,EAAOU,IAAM,EACb,MACC,IAAK,WACNV,EAAOU,IAAM,EACb,MACC,QACD,MAAM,IAAI3nD,MAAM,iDAIlB,SAAS4nD,EAAaX,EAAQp6E,GAE7B,IAAM42E,EAAU52E,GACf,MAAM,IAAImzB,MAAM,gDAIjB,GAAe,IAAVnzB,IAILo6E,EAAOv7E,OAASu7E,EAAOE,SAASZ,UAAU15E,IAEpCo6E,EAAOv7E,QACZ,MAAM,IAAIs0B,MAAM,oEAIlB,SAAS6nD,EAAYZ,EAAQp6E,GAE5B,IAAM42E,EAAU52E,GACf,MAAM,IAAImzB,MAAM,+CAKjB,GAFAinD,EAAO/jE,MAAQ+jE,EAAOE,SAASZ,UAAU15E,IAEnCo6E,EAAO/jE,MACZ,MAAM,IAAI8c,MAAM,mEAIlB,SAAS8nD,EAAgBb,EAAQp6E,GAKhC,OAASA,GACP,IAAK,MACNo6E,EAAOG,IAAM,EACb,MACC,IAAK,MACNH,EAAOG,IAAM,EACbH,EAAO5F,QAAU,CAAC,EAAE,EAAE,EAAE,GAAG4F,EAAO5F,SAClC,MACC,QACD,MAAM,IAAIrhD,MAAM,uDAIlB,SAAS+nD,EAAgBd,EAAQp6E,GAGhC,GAAsB,iBAAVA,EACX,MAAM,IAAImzB,MAAM,gEAKjB,IAAIjtB,EAAMlG,EAAMvC,QAAQ,QAAU,EACjC09E,EAAOn7E,EAAMvC,QAAQ,SAAW,EAChC29E,EAAQp7E,EAAMvC,QAAQ,UAAY,EAClCu7E,EAAOh5E,EAAMvC,QAAQ,SAAW,EAChC49E,EAAQr7E,EAAMvC,QAAQ,UAAY,EAGnC,GAAK09E,IAASf,EAAO5F,QACpB,MAAM,IAAIrhD,MAAM,mEAGjBinD,EAAOhvB,OAAS,CACfllD,IAAKA,GAAO8yE,EACZmC,KAAMA,EACNC,MAAOA,EACPpC,KAAMA,EACNqC,MAAOA,GAIT,SAASC,EAAelB,EAAQp6E,GAE/B,IAAI3S,EAEJ,IAAe,IAAV2S,EAEE,IAAe,IAAVA,EAIX,IAFAo6E,EAAOmB,SAAW,GAEZluF,EAAI,EAAGA,EAAI+sF,EAAOK,QAASptF,IAChC+sF,EAAOmB,SAAS1tF,MAAK,OAGhB,CAIN,GAFAusF,EAAOmB,SAAWtE,EAAQj3E,GAErBo6E,EAAOmB,SAAShuF,SAAW6sF,EAAOK,QACtC,MAAM,IAAItnD,MAAM,sDAGjBinD,EAAOmB,SAASnhF,SAAQ,SAASohF,GAChC,GAA0B,kBAAdA,IAAiD,iBAAdA,GAAkD,mBAAjBA,EAAU1Z,IACzF,MAAM,IAAI3uC,MAAM,qEAMpB,SAASsoD,EAAarB,EAAQp6E,GAK7B,GAHAo6E,EAAO5jF,OAASwJ,EAGS,mBAAbA,EAAM8hE,IAA2C,mBAAf9hE,EAAMgG,KACnD,OAAO,EAGR,MAAM,IAAImtB,MAAO,0DAGlB,SAASuoD,EAAgBtB,EAAQp6E,GAEhC,QAAeowB,IAAVpwB,GAAwC,iBAAVA,EAClC,MAAM,IAAImzB,MAAO,6CAGlBinD,EAAOuB,UAAY37E,EAIpB,SAAS47E,EAAc5kF,GAMtB,IAKG6kF,EALCzB,EAAS,CACZv7E,OAAQ,EACRwX,MAAO,EACPgc,SAAS,EACT77B,OAAQ0jF,GAIT2B,EAAQ,CACP,KAAQ,CAAEnsF,GAAG,EAAOI,EAAGqqF,GACvB,MAAS,CAAEzqF,GAAG,EAAMI,EAAG0qF,GACvB,QAAW,CAAE9qF,GAAG,EAAMI,EAAG8qF,GACzB,UAAa,CAAElrF,GAAG,EAAMI,EAAGmrF,GAC3B,KAAQ,CAAEvrF,GAAG,EAAOI,EAAG4qF,GACvB,QAAW,CAAEhrF,GAAG,EAAOI,EAAG6qF,GAC1B,MAAS,CAAEjrF,GAAG,EAAMI,EAAGuqF,GACvB,YAAe,CAAE3qF,GAAG,EAAOI,EAAG+qF,GAC9B,OAAU,CAAEnrF,GAAG,EAAOI,EAAGirF,GACzB,MAAS,CAAErrF,GAAG,EAAOI,EAAGkrF,GACxB,UAAa,CAAEtrF,GAAG,EAAMI,EAAGorF,GAC3B,OAAU,CAAExrF,GAAG,EAAOI,EAAG2rF,GACzB,SAAY,CAAE/rF,GAAG,EAAOI,EAAGwrF,GAC3B,UAAa,CAAE5rF,GAAG,EAAOI,EAAG4rF,IAG7B,IAAII,EAAW,CACd,SAAW,EACX,UAAa,MACb,UAAa,MACb,YAAe,cA2BhB,OArBAtuF,OAAOymB,KAAK4nE,GAAOzhF,SAAQ,SAAUhL,GAGpC,QAAuBghC,IAAlBp5B,EAAQ5H,SAA0CghC,IAAnB0rD,EAAS1sF,GAAsB,CAElE,GAAKysF,EAAMzsF,GAAMM,EAChB,MAAM,IAAIyjC,MAAM,gBAAkB/jC,EAAO,kBAG1C,OAAO,EAGRysF,EAAMzsF,GAAMU,EAAGsqF,OAA0BhqD,IAAlBp5B,EAAQ5H,GAAsB0sF,EAAS1sF,GAAQ4H,EAAQ5H,OAI/EgrF,EAAO1F,KAAO19E,EAAQ09E,KAGtB0F,EAAOpmF,MAAQomF,EAAOU,IAAM,MAAQ,OAE7BV,EAIT,SAAS2B,EAAUx4E,EAAQvM,GAG1B,IAECglF,EACAC,EAIAC,EA9mBqBP,EAumBlBQ,EAAe54E,EAClB64E,EAAkB,EAAE,GAAI,GAGxBC,EAAiBrlF,EAAQsjF,SACzBgC,EAAe,GACfC,EAAe,GAGXC,EAAa,CACL,SACA,OACA,SACA,SACA,aACA,WACA,aACA,UACA,MACA,MACA,YACA,GACA,aACA,GACA,YACA,SACA,GACA,WACA,UACA,GACA,OACA,SACA,SACV9mF,KAxoBmBimF,EAwoBF3kF,EAAQ2kF,WAAa3D,EAvoBjC,SAAS97B,GACf,OAAOy/B,EAAYz/B,KA0sBrB,SAASugC,EAAYhX,EAAWn4C,GAE/B,IAAIovD,EAASh8E,SAASi8E,cAAc,OACnCC,EAASl8E,SAASi8E,cAAc,OAChCE,EAAY,CAAE,SAAU,UAYzB,OAVKpX,GACJoX,EAAUC,UAGX9gC,EAAS4gC,EAAQJ,EAAW,IAC5BxgC,EAAS4gC,EAAQJ,EAAW,GAAKK,EAAUvvD,IAE3C0uB,EAAS0gC,EAAQF,EAAW,IAC5BE,EAAOK,YAAYH,GAEZF,EAqDR,SAASM,EAAaJ,EAAQtvD,GAE7B,IAAMt2B,EAAQukF,SAASjuD,GACtB,OAAO,EAGR,IAAIhtB,EAAUI,SAASi8E,cAAc,OAErC,OADAr8E,EAAQ47C,UAAYsgC,EAAW,IACxBI,EAAOK,WAAWF,YAAYz8E,GA2LtC,SAAS48E,EAAaC,EAAQC,EAAY5B,GAEzC,IAAIxnF,EAAQ,CAAC,aAAc,YAAYgD,EAAQ8jF,KAC9Cx6E,EAAUI,SAASi8E,cAAc,OACjCU,EAAM,GASP,SAASC,EAASnH,EAAQrwE,EAAQuG,GACjC,MAAO,UAAYvG,EAAS,IAC3BA,EAAS,IAAM9R,EAAQ,IACvB8R,EANM,CAAE,UAAW,SAAU,QAMZuG,EAAO,IACxB,YAAcrV,EAAQhD,MAAQ,KAAOmiF,EAAS,KA2BhD,OAtCAn6B,EAAS17C,EAASk8E,EAAW,KAC7BxgC,EAAS17C,EAASk8E,EAAW,IAAM,IAAMxoF,GAgCzCxG,OAAOymB,KAAKkpE,GAAQ/iF,SAAQ,SAASzE,IAnBrC,SAAqBwgF,EAAQ9pE,GAEvBgwE,EAAe5W,YACnB0Q,EAAS,IAAMA,GAIhB9pE,EAAO,GAAMA,EAAO,IAAM+wE,EAAcA,EAAW/wE,EAAO,GAAIA,EAAO,IAAMA,EAAO,GAGlFgxE,GAAO,QAAUC,EAAQnH,EAAQqG,EAAW,IAAKnwE,GAAU,UAGtDA,EAAO,KACXgxE,GAAO,QAAQC,EAAQnH,EAAQqG,EAAW,IAAKnwE,GAAQ,IAAMmvE,EAAU1Z,GAAGz1D,EAAO,IAAM,UAMxFkxE,CAAU5nF,EAAGwnF,EAAOxnF,OAErB2K,EAAQ2gC,UAAYo8C,EAEb/8E,EAGR,SAASo0E,EAAO8I,GAEhB,IAAIztF,EAAOytF,EAAKztF,KACf0tF,EAAUD,EAAKC,SAAW,EAC1BpjF,EAASmjF,EAAKnjF,SAAU,EAGxBkoC,EAvND,SAAoBxyC,EAAMsc,EAAQqxE,GAGjC,GAAc,UAAT3tF,GAA6B,UAATA,EACxB,OAAOssF,EAAe7D,KAGvB,GAAc,UAATzoF,EAAmB,CAGvB,IAAmCod,EAA/BgwE,EAAW,KAAO9wE,EAAO,GAAShf,EAAI,EAI1C,IAHAgf,EAAS,IAGDc,EAAE9f,IAAI8vF,IAAW,KACxB9wE,EAAOxe,KAAKsf,GAGbpd,EAAO,YAGR,MAAc,cAATA,EAGGsc,EAAO3W,KAAI,SAAU7F,GAC3B,OAAOwsF,EAAe1C,aAAc+D,EAAUrB,EAAevD,QAASjpF,GAAUA,MAIpE,WAATE,EAGC2tF,EAEGrxE,EAAO3W,KAAI,SAAU7F,GAG3B,OAAOwsF,EAAe1C,aAAc0C,EAAevD,QAASuD,EAAe9D,WAAY1oF,QAMlFwc,OAdR,EA0LQsxE,CAAU5tF,EAFTytF,EAAKnxE,SAAU,EACdmxE,EAAKE,UAAW,GAE1BP,EAzKD,SAA0BM,EAAS1tF,EAAMwyC,GAOxC,IAv9Beq7C,EAu9BXC,EAA4BxB,EAAe5W,UAC9CqY,EAAU,GACVC,EAAe1B,EAAe7D,KAAK,GACnCwF,EAAc3B,EAAe7D,KAAK6D,EAAe7D,KAAKjrF,OAAO,GAC7D0wF,GAAc,EACdC,GAAa,EACbC,EAAU,EAkGX,OA7FA9B,EAAe5W,UAAY,EAl+BZmY,EAq+BAr7C,EAAM3xC,QAAQqF,MAAK,SAASN,EAAGO,GAAI,OAAOP,EAAIO,MAA7DqsC,EAp+BOq7C,EAAMvjF,QAAO,SAAS1E,GAC5B,OAAQ+P,KAAK/P,KAAK+P,KAAK/P,IAAK,KAC1B,KAq+BQ,KAAOooF,IACjBx7C,EAAMtqC,QAAQ8lF,GACdE,GAAc,GAIV17C,EAAMA,EAAMh1C,OAAS,KAAOywF,IAChCz7C,EAAM10C,KAAKmwF,GACXE,GAAa,GAGd37C,EAAMnoC,SAAQ,SAAW8F,EAASotB,GAGjC,IAAIzf,EAAMxgB,EAAGotC,EAGZ2jD,EAAQC,EAAuBz7E,EAC/B07E,EAAOC,EAAWC,EAHlBC,EAAMv+E,EACNw+E,EAAOn8C,EAAMjV,EAAM,GAiBpB,GAXc,UAATv9B,IACJ8d,EAAOwuE,EAAe7C,UAAWlsD,IAI5Bzf,IACLA,EAAO6wE,EAAKD,IAKA,IAARA,QAA0BruD,IAATsuD,EAKtB,IAAMrxF,EAAIoxF,EAAKpxF,GAAKqxF,EAAMrxF,GAAkBA,EAAGwgB,GA1DpBksE,QAAQ,GAAK,EA0De,CAkBtD,IAXAuE,GAFAD,GADAD,EAAS/B,EAAe9D,WAAYlrF,IACX8wF,GAEDV,EAOxBe,EAAWH,GANXE,EAAY9gD,KAAKs4C,MAAMuI,IAUjB7jD,EAAI,EAAGA,GAAK8jD,EAAW9jD,GAAK,EAOjCqjD,GADSK,EAAY1jD,EAAI+jD,GACVzE,QAAQ,IAAM,CAAC,IAAK,GAIpCn3E,EAAQ2/B,EAAM9kC,QAAQpQ,IAAM,EAAK,EAAe,UAAT0C,EAAmB,EAAI,GAGxDu9B,GAAS2wD,IACdr7E,EAAO,GAGDvV,IAAMqxF,GAAQR,IAEpBJ,EAAQM,EAAOrE,QAAQ,IAAM,CAAC1sF,EAAGuV,IAIlCu7E,EAAUC,MAKZ/B,EAAe5W,UAAYoY,EAEpBC,EA0DEa,CAAgBlB,EAAS1tF,EAAMwyC,GACxC/rC,EAASgnF,EAAKhnF,QAAU,CACvBsrE,GAAIrkC,KAAKs4C,OAGV,OAAOoG,EAAaY,YAAYG,EAC/BC,EACA9iF,EACA7D,IAMF,SAASooF,IACR,IAAIxI,EAAO4F,EAAWp7E,wBAAyBi+E,EAAM,SAAW,CAAC,QAAS,UAAU7nF,EAAQ8jF,KAC5F,OAAuB,IAAhB9jF,EAAQ8jF,IAAa1E,EAAKliF,OAAO8nF,EAAW6C,GAASzI,EAAKniF,QAAQ+nF,EAAW6C,GAIrF,SAASC,EAAYtxE,EAAOuxE,EAAc74E,QAEnBkqB,IAAjB2uD,GAAkD,IAApB/nF,EAAQyjF,UAC1CsE,EAAethD,KAAKm7C,IAAImG,EAAe/nF,EAAQujF,MAGhD/sF,OAAOymB,KAAKsoE,GAAcniF,SAAQ,SAAU4kF,GAE3C,IAAIC,EAAYD,EAAY1tF,MAAM,KAAK,GAElCkc,IAAUyxE,GACd1C,EAAayC,GAAa5kF,SAAQ,SAAUw7C,GAE3CA,EAASjoD,KAERuuF,EAEAjF,EAAQiI,KAERH,EAEA9H,EAAQkI,EAAchrE,MAAM1mB,UAAUmD,MAAMjD,KAAK2uF,KAEjDp2E,IAAO,EAEPk2E,SAQL,SAAS+C,EAAgB9yE,GAGxB,OAAuB,IAAlBA,EAAO9e,OACJ8e,EAAO,GAGVrV,EAAQujF,IACLluE,EAAOywE,UAGRzwE,EAKR,SAAS+yE,EAASh0B,EAAQ9qD,EAASs1C,EAAU7oD,GAK5C,IAAI6J,EAAS,SAAWrF,GAEvB,OAAK4qF,EAAakD,aAAa,cA/mCbnI,EAonCJiF,EApnCQjgC,EAonCMsgC,EAAW,KAnnCjCtF,EAAGC,WAAYD,EAAGC,UAAUmI,SAASpjC,IAAa,IAAIc,OAAO,MAAQd,EAAY,OAAOh6B,KAAKg1D,EAAGh7B,cAunCtG3qD,EA7bF,SAAoBA,EAAGilF,GAItBjlF,EAAEguF,iBAKF,IAGC/+E,EAAEC,EAHC++E,EAAoC,IAA5BjuF,EAAEqR,KAAKnF,QAAQ,SAC1BgiF,EAAoC,IAA5BluF,EAAEqR,KAAKnF,QAAQ,SACvBiiF,EAAwC,IAA9BnuF,EAAEqR,KAAKnF,QAAQ,WACpB+P,EAAQjc,EAyBd,OAtBqC,IAAhCA,EAAEqR,KAAKnF,QAAQ,eACnBiiF,GAAU,GAGNF,IAGJh/E,EAAIjP,EAAEouF,eAAe,GAAGC,MACxBn/E,EAAIlP,EAAEouF,eAAe,GAAGE,OAGzBrJ,EAAaA,GAAcC,KAEtBgJ,GAASC,KACbl/E,EAAIjP,EAAEuuF,QAAUtJ,EAAWh2E,EAC3BC,EAAIlP,EAAEwuF,QAAUvJ,EAAW/1E,GAG5B+M,EAAMgpE,WAAaA,EACnBhpE,EAAMwyE,OAAS,CAACx/E,EAAGC,GACnB+M,EAAMhP,OAASihF,GAASC,EAEjBlyE,EAwZFyyE,CAAS1uF,EAAGxE,EAAKypF,cAGhBprB,IAAWusB,EAAQpD,YAAuBnkD,IAAd7+B,EAAE2uF,SAAyB3uF,EAAE2uF,QAAU,MAKnEnzF,EAAKsuF,QAAS9pF,EAAE2uF,WAIrB3uF,EAAE4uF,UAAY5uF,EAAEyuF,OAAQhpF,EAAQ8jF,UAGhCllC,EAAWrkD,EAAGxE,MAvoChB,IAAoBmqF,EAAIh7B,GAyoCpBkkC,EAAU,GAQb,OALAh1B,EAAO95D,MAAM,KAAK8I,SAAQ,SAAUimF,GACnC//E,EAAQd,iBAAiB6gF,EAAWzpF,GAAQ,GAC5CwpF,EAAQvyF,KAAK,CAACwyF,EAAWzpF,OAGnBwpF,EAIR,SAASvI,EAAOrqE,EAAOzgB,GAOtB,IAAiD,IAA5CoE,UAAUmvF,WAAW7iF,QAAQ,WAAsC,IAAlB+P,EAAM0yE,SAA0C,IAAzBnzF,EAAKwzF,gBACjF,OAAOzI,EAAItqE,EAAOzgB,GAGnB,IAA6CyzF,EAEYnzF,EA9flCsI,EAAGO,EAAGuqF,EAGzBvxF,EAAcC,EAyfdsrF,EAAU1tF,EAAK0tF,SAAWwB,EAA0BnnF,GAAQ,EAC/D4rF,EAA6C,KAAhClzE,EAAM2yE,UAAYpzF,EAAKwnF,OAAgBxnF,EAAK6xF,SACzDG,EAAetE,EAAQ,KAAOwB,EAAc,GAAK,EAAI,EAOtD,GArgBuBtmF,EAigBG+qF,EAjgBAxqF,EAigBUnJ,EAAKyzF,UAjgBZC,EAigBuBhG,EAAQltF,OAAS,EA9fjE2B,EAAIyG,EAAIO,EAAE,GAAI/G,EAAIwG,EAAIO,EAAE,GA8f5BsqF,EA1fKC,GACCvxF,EAAI,IACRC,GAAKsuC,KAAKm7C,IAAI1pF,IAEVC,EAAI,MACRD,GAAOC,EAAI,KAIL,CAACknB,EAAMnnB,GAAImnB,EAAMlnB,KAGlB,CAACD,EAAEC,GAgfV2F,EAAQ6rF,EAAYlG,EAAQ,GAAI+F,EAAUzB,GAAkC,IAAnBtE,EAAQltF,QAE5DktF,EAAQltF,OAAS,GAIrB,GAFAuH,EAAQ6rF,EAAYlG,EAAQ,GAAI+F,EAAUzB,EAAa,EAAE,IAAI,IAAWjqF,EAIvE,IAAMzH,EAAI,EAAGA,EAAIN,EAAK0tF,QAAQltF,OAAQF,IACrCyxF,EAAU,QAASzxF,QAGVyH,GAEXgqF,EAAU,QAASC,GAKrB,SAASjH,EAAMtqE,EAAOzgB,GAGrB,IAAIsQ,EAAS2+E,EAAW4E,cAAe,IAAMpE,EAAW,KACvDuC,EAAehyF,EAAK0tF,QAAQ,KAAOwB,EAAc,GAAK,EAAI,EAE3C,OAAX5+E,GACJ4+C,EAAY5+C,EAAQm/E,EAAW,KAI3BhvE,EAAMhP,SACVkC,SAASC,KAAK3M,MAAMwK,OAAS,GAC7BkC,SAASC,KAAKlB,oBAAoB,cAAeiB,SAASC,KAAKkgF,eAGhE,IAAI1xF,EAAIuR,SAAS61E,gBAGjBpnF,EAAE2xF,cAAc1mF,SAAQ,SAAUlL,GACjCC,EAAEsQ,oBAAoBvQ,EAAE,GAAIA,EAAE,OAI/B+sD,EAAYkgC,EAAcK,EAAW,KAGrCsC,EAAU,MAAOC,GACjBD,EAAU,SAAUC,QAGO3uD,IAAtBrjC,EAAKgyF,cACTD,EAAU,MAAO/xF,EAAKgyF,cAKxB,SAASgC,EAAgBvzE,EAAOzgB,GACX,aAAfygB,EAAM5K,MAAiD,SAA1B4K,EAAMjK,OAAOy9E,UAA+C,OAAxBxzE,EAAMyzE,eAC3EnJ,EAAMtqE,EAAOzgB,GAKf,SAASwnF,EAAQ/mE,EAAOzgB,GAEvB,IAAIoC,EAAIuR,SAAS61E,gBAGjB,GAA6B,IAAxBxpF,EAAK0tF,QAAQltF,SACjByuD,EAASjvD,EAAK0tF,QAAQ,GAAGl/E,SAAS,GAAIihF,EAAW,KAG5CzvF,EAAK0tF,QAAQ,GAAG4E,aAAa,aACjC,OAAO,EAKT7xE,EAAM+xE,iBAGN/xE,EAAMlC,kBAGN,IAAI41E,EAAY9B,EAAOzH,EAAQE,KAAM1oF,EAAG0oF,EAAM,CAC7CtD,MAAO/mE,EAAM2yE,UACbvB,SAAUA,IACVpI,WAAYhpE,EAAMgpE,WAClBiE,QAAS1tF,EAAK0tF,QACdsE,aAAchyF,EAAKgyF,aACnBwB,gBAAiB/yE,EAAM0yE,QACvBM,UAAW,CACVpE,EAAgB,GAChBA,EAAgBH,EAAc1uF,OAAS,MAErC4zF,EAAW/B,EAAOzH,EAAQG,IAAK3oF,EAAG2oF,EAAK,CAC1C2C,QAAS1tF,EAAK0tF,QACdsE,aAAchyF,EAAKgyF,eAGhBqC,EAAWhC,EAAO,WAAYjwF,EAAG4xF,EAAe,CACnDtG,QAAS1tF,EAAK0tF,QACdsE,aAAchyF,EAAKgyF,eAOpB,GAJA5vF,EAAE2xF,cAAgBI,EAAU7tE,OAAO8tE,EAAUC,GAIxC5zE,EAAMhP,OAAS,CAGnBkC,SAASC,KAAK3M,MAAMwK,OAAS6iF,iBAAiB7zE,EAAMjK,QAAQ/E,OAGvDy9E,EAAc1uF,OAAS,GAC3ByuD,EAASmgC,EAAcK,EAAW,KAGnC,IAAI7hF,EAAI,WACP,OAAO,GAGR+F,SAASC,KAAKkgF,aAAelmF,EAG7B+F,SAASC,KAAKnB,iBAAiB,cAAe7E,GAAG,QAGvBy1B,IAAtBrjC,EAAKgyF,cACTD,EAAU,QAAS/xF,EAAKgyF,cAK1B,SAAS74E,EAAMsH,GAEd,IAA2CuxE,EAAcjd,EAArDluE,EAAW4Z,EAAM2yE,UAAWppB,EAAQ,EA8BxC,GA3BAvpD,EAAMlC,kBAGN2wE,EAAc7hF,SAAQ,SAASzE,GAC9BohE,GAASof,EAAOxgF,GAAIqB,EAAQhD,UAI7B+qF,EAAiBnrF,EAAWmjE,EAAM,GAA8B,IAAzBklB,EAAc1uF,OAAiB,EAAI,EAGtE0uF,EAAc8C,GAAcM,aAAa,cAC5CN,EAAeA,EAAe,EAAI,GAMnCjd,EAAkB,KAHlBluE,GAAYuiF,EAAO6F,GAAahlF,EAAQhD,QAGd4qF,IAEpB5nF,EAAQo0D,OAAO4tB,MAGpBjC,EAAaoF,EAAcK,EAAW,IAAK,KAIvCP,EAAc8C,GAAcM,aAAa,YAC7C,OAAO,EAKRsB,EAAW1E,EAAc8C,GAAejd,GAExCgd,EAAU,QAASC,GAAc,GACjCD,EAAU,MAAOC,GAAc,GAC/BD,EAAU,SAAUC,GAAc,GAE7B/nF,EAAQo0D,OAAO4tB,MACnBzE,EAAM/mE,EAAO,CAAEitE,QAAS,CAACwB,EAAc8C,MAKzC,SAAS1D,EAAQ7tE,GAEhB,IAAI5Z,EAAW4Z,EAAM2yE,UAAYhK,EAAO6F,GAAahlF,EAAQhD,OAC5D8tE,EAAKua,EAAevD,QAAqB,IAAXllF,EAAmBgrF,KACjD/uF,EAAQwsF,EAAe1C,aAAc7X,GAEtCt0E,OAAOymB,KAAKsoE,GAAcniF,SAAQ,SAAU4kF,GACtC,UAAYA,EAAY1tF,MAAM,KAAK,IACvCirF,EAAayC,GAAa5kF,SAAQ,SAAUw7C,GAC3CA,EAASjoD,KAAMuuF,EAAYrsF,SAmE/B,SAAS8wF,EAAY/D,EAAQ9a,EAAIwf,GAEhC,IAAIC,EAAU3E,IAAWX,EAAc,GAAK,EAAI,EAC/CuF,EAAcpF,EAAgB,GAAKplF,EAAQ6H,OAC3C4iF,EAAcrF,EAAgB,GAAKplF,EAAQ6H,OAC3C6iF,EAAatF,EAAgB,GAAKplF,EAAQqf,MAC1CsrE,EAAavF,EAAgB,GAAKplF,EAAQqf,MAyB3C,OApBK4lE,EAAc1uF,OAAS,IAC3Bu0E,EAAKyf,EAAU9jD,KAAKxvB,IAAK6zD,EAAI0f,GAAgB/jD,KAAKzvB,IAAK8zD,EAAI2f,KAOrC,IAAlBH,GAA2BtqF,EAAQqf,OAAS4lE,EAAc1uF,OAAS,IACvEu0E,EAAKyf,EAAU9jD,KAAKzvB,IAAM8zD,EAAI4f,GAAejkD,KAAKxvB,IAAK6zD,EAAI6f,IAI5D7f,EAAKua,EAAevD,QAAShX,IAI7BA,EAAKzrD,EAAM+iE,WAAWtX,EAAGiY,QAAQ,QAGrBqC,EAAgBmF,KAQvB7wF,OAAOihC,sBACXjhC,OAAOihC,uBAAsB,WAC5BirD,EAAO5oF,MAAMgD,EAAQhD,OAAS8tE,EAAK,OAGpC8a,EAAO5oF,MAAMgD,EAAQhD,OAAS8tE,EAAK,IAI9B8a,EAAOgF,kBACZ3lC,EAAY2gC,EAAQJ,EAAW,KAC1B1a,EAAK,IACT9lB,EAAS4gC,EAAQJ,EAAW,MAK9BJ,EAAgBmF,GAAWzf,EAG3Bwa,EAAaiF,GAAWlF,EAAe1C,aAAc7X,GAErDgd,EAAU,SAAUyC,IAEb,GA4CR,SAASM,EAAWjzC,GAEnB,IAAI9gB,EAAkCzgC,EAA3Bgf,EAAS4qE,EAASroC,GAwB7B,IApBK53C,EAAQujF,KAAOvjF,EAAQyjF,QAAU,GACrCpuE,EAAOywE,UAKH9lF,EAAQq7B,UAAmC,IAAxB+pD,EAAgB,IACvCrF,EAAaoF,EAAcK,EAAW,IAAK,KAI5C1uD,EAAQmuD,EAAc1uF,OAAS,EAAI,EAAI,EAEhB,IAAlB8e,EAAO9e,SACXugC,EAAQ,GA5DV,SAAqBA,EAAOzhB,GAE3B,IAAIhf,EAAGk0F,EAASzf,EAUhB,IAPK9qE,EAAQqf,QACZyX,GAAS,GAMJzgC,EAAI,EAAGA,EAAIygC,EAAOzgC,GAAK,EAShB,QAJZy0E,EAAKz1D,EAHLk1E,EAAUl0F,EAAE,MAOe,IAAPy0E,IAGA,iBAAPA,IACXA,EAAKggB,OAAOhgB,MAOD,KAJZA,EAAK9qE,EAAQR,OAAOwP,KAAM87D,KAIL+U,MAAM/U,KAAyG,IAAlG6e,EAAW1E,EAAcsF,GAAUlF,EAAe9D,WAAYzW,GAAMz0E,IAAO,EAAI2J,EAAQujF,OACxHuE,EAAU,SAAUyC,IA8BvBQ,CAAYj0D,EAAOzhB,GAGbhf,EAAI,EAAGA,EAAI4uF,EAAc1uF,OAAQF,IAGnB,OAAdgf,EAAOhf,IACXyxF,EAAU,MAAOzxF,GAMpB,SAAS6xF,IAER,IAAI7xF,EAAG20F,EAAS,GAGhB,IAAM30F,EAAI,EAAGA,EAAI2J,EAAQyjF,QAASptF,GAAK,EACtC20F,EAAO30F,GAAK2J,EAAQR,OAAOsrE,GAAIwa,EAAajvF,IAG7C,OAAO8xF,EAAe6C,GAsDvB,SAASC,EAAYC,EAAiBtsC,GACrC2mC,EAAa2F,GAAmB3F,EAAa2F,IAAoB,GACjE3F,EAAa2F,GAAiBr0F,KAAK+nD,GAGI,WAAlCssC,EAAgB5wF,MAAM,KAAK,IAC/B2qF,EAAc7hF,SAAQ,SAASzE,EAAG23B,GACjCwxD,EAAU,SAAUxxD,MAyDvB,GAAK6uD,EAAaxJ,WACjB,MAAM,IAAIx/C,MAAM,mCAmCjB,OA9BA6oD,EAr6BA,SAAqBvW,EAAW0c,EAAa5+E,GAG5Cy4C,EAASz4C,EAAQi5E,EAAW,IAC5BxgC,EAASz4C,EAAQi5E,EAAW,EAAI/W,IAChCzpB,EAASz4C,EAAQi5E,EAAW,EAAI2F,IAEhC,IAAIzf,EAAMhiE,SAASi8E,cAAc,OAGjC,OAFA3gC,EAAS0mB,EAAK8Z,EAAW,IACzBj5E,EAAOw5E,YAAYra,GACZA,EA25BK0f,CAAWprF,EAAQujF,IAAKvjF,EAAQ8jF,IAAKqB,GAClDF,EAr7BA,SAAsBoG,EAAW5c,EAAWr9D,GAE3C,IAAIklB,EAAOmtD,EAAU,GAGrB,IAAMntD,EAAQ,EAAGA,EAAQ+0D,EAAW/0D,GAAS,EAG5CmtD,EAAQ5sF,KAAMua,EAAK20E,YAAYN,EAAWhX,EAAWn4C,KAGtD,OAAOmtD,EA06BQ6H,CAAYtrF,EAAQyjF,QAASzjF,EAAQujF,IAAKyB,GAz8B1D,SAAyBxH,EAASjxE,EAAQk3E,GAMzC,OAASjG,GACR,KAAK,EAAGx4B,EAASz4C,EAAQi5E,EAAW,IAClCxgC,EAASy+B,EAAQ,GAAI+B,EAAW,IAChC,MACF,KAAK,EAAGxgC,EAASy+B,EAAQ,GAAI+B,EAAW,IAExC,KAAK,EAAGxgC,EAASy+B,EAAQ,GAAI+B,EAAW,IAExC,KAAK,EAAGxgC,EAASz4C,EAAQi5E,EAAW,KA87BtC+F,CAAgBvrF,EAAQw9E,QAAS2H,EAAcF,GAE1CjlF,EAAQ09E,MACZA,EAAK19E,EAAQ09E,MAGT19E,EAAQukF,UAr5Bb,WAEMvkF,EAAQujF,KACZvjF,EAAQukF,SAASuB,UAIlB,IAAI0F,EAAOvG,EAAcvmF,IAAIsnF,GAExBhmF,EAAQujF,MACZiI,EAAK1F,UACL9lF,EAAQukF,SAASuB,WAGlBmF,EAAU,UAAU,SAAStnF,EAAGrL,EAAGI,GAC7B8yF,EAAKlzF,KACTkzF,EAAKlzF,GAAG2xC,WAAoC,IAAxBjqC,EAAQukF,SAASjsF,GAAcqL,EAAErL,GAAK0H,EAAQukF,SAASjsF,GAAGwyE,GAAGpyE,EAAEJ,QAs4BrFisF,GAGDW,EAAa,CACZuG,QAvID,WAOC,IALAjG,EAAWpiF,SAAQ,SAASsoF,GACrBA,GACNzmC,EAAYkgC,EAAcuG,MAGpBvG,EAAac,YACnBd,EAAawG,YAAYxG,EAAac,mBAGhCd,EAAaxJ,YA6HpB2L,MAzHD,WA+BC,OAAOa,EA3BM/C,EAAgB1mF,KAAI,SAAU9B,EAAU05B,GAEpD,IArnDuBs1D,EACpBC,EAonDCh1E,EAAOwuE,EAAerC,kBAAmBpmF,GAI5CkvF,GAznDsBF,EAynDOd,OAAOj0E,EAAK,KAxnDvCg1E,EAASD,EAAOtxF,MAAM,MACZ/D,OAAS,EAAIs1F,EAAO,GAAGt1F,OAAS,GA0nD5CsC,EAAQysF,EAAahvD,GAIrBy1D,EAAyB,MAAbnvF,EAAmB,KAAOia,EAAK,GAI3CwhE,EAAO+F,QAAQvlF,EAAQge,EAAK,IAAIksE,QAAQ+I,IAMzC,MAAO,CAFmB,IAAblvF,EAAiB,KAAQy7E,GAAQxhE,EAAK,GAAMA,EAAK,GAAMA,EAAK,KAAM,EAE5Dk1E,QA+FpBjyD,GAAImxD,EACJnc,IA3ED,SAAuBoc,GAEtB,IAAI10E,EAAQ00E,EAAgB5wF,MAAM,KAAK,GACtC0xF,EAAYd,EAAgB5S,UAAU9hE,EAAMjgB,QAE7CC,OAAOymB,KAAKsoE,GAAcniF,SAAQ,SAAUhK,GAE3C,IAAI6yF,EAAS7yF,EAAKkB,MAAM,KAAK,GAC5B4xF,EAAa9yF,EAAKk/E,UAAU2T,EAAO11F,QAE7BigB,GAASA,IAAUy1E,GAAaD,GAAaA,IAAcE,UAC1D3G,EAAansF,OAiEtBX,IAAKyvF,EACL/rF,IAAK0uF,EACLsB,cA7DD,SAAyBC,GAExB,IAAoB/1F,EAAhB8f,EAAI+xE,IAAemE,EAAazH,EAAY,CAC/CrH,MAAO,CAAC,EAAG,GACX11E,OAAQukF,EAAgBvkF,OACxBwX,MAAO+sE,EAAgB/sE,MACvBxI,KAAMu1E,EAAgBv1E,KACtB4mE,MAAO2O,EAAgB3O,MACvBpiD,QAAS+wD,EAAgB/wD,QACzB2mD,UAA+B5oD,IAAzBgzD,EAAgBpK,KAAqBhiF,EAAQgiF,KAAOoK,EAAgBpK,OAkB3E,IAfA,CAAC,SAAU,QAAS,OAAQ,QAAS,WAAW5+E,SAAQ,SAAShL,QACjCghC,IAA1BgzD,EAAgBh0F,KACpB4H,EAAQ5H,GAAQg0F,EAAgBh0F,OAMlCi0F,EAAW/I,SAAS7U,UAAY4W,EAAe5W,UAC/C4W,EAAiBgH,EAAW/I,SAG5B8B,EAAkB,EAAE,GAAI,GACxByF,EAAS10E,GAEH9f,EAAI,EAAGA,EAAI4uF,EAAc1uF,OAAQF,IACtCyxF,EAAU,SAAUzxF,IAkCrB2J,QAASA,EACTuM,OAAQ44E,EACRzH,KAAMA,GAxWP,SAAkB4O,GAEjB,IAAIj2F,EAAG8tF,EAGP,IAAMmI,EAAUlI,MAEf,IAAM/tF,EAAI,EAAGA,EAAI4uF,EAAc1uF,OAAQF,GAAK,EAI3C+xF,EAASzH,EAAQpD,MAAO0H,EAAc5uF,GAAGkO,SAAS,GAAIg5E,EAAO,CAC5DkG,QAAS,CAAEwB,EAAc5uF,IACzB0xF,aAAc1xF,IAcjB,GARKi2F,EAAUp9E,KAEdk5E,EAASzH,EAAQpD,MAAOyH,EAAY91E,EAAK,CACxCu0E,QAASwB,IAKNqH,EAAUjI,MAEd,IADA+D,EAASzH,EAAQE,KAAMmE,EAAYX,EAAO,CAAEA,OAAO,IAC7ChuF,EAAI,EAAGA,EAAI4uF,EAAc1uF,OAAQF,GAAK,EAC3C,CAAC,uCAAuC+M,SAAQ,SAAUimF,GACzDpE,EAAc5uF,GAAGkO,SAAS,GAAGiE,iBAAiB6gF,EAAW/0E,GAAiB,MAMxEg4E,EAAUnI,OAGdn/B,GADAm/B,EAAO,CAACa,EAAW4E,cAAe,IAAMpE,EAAW,MACrC,GAAIA,EAAW,KAMxB8G,EAAUlI,OACdD,EAAKttF,KAAKouF,EAAed,EAAK,KAAOc,EAAc,GAAK,EAAI,GAAI1gF,SAAS,IAG1E4/E,EAAK/gF,SAAQ,SAAUkG,GACtB8+E,EAASzH,EAAQpD,MAAOj0E,EAASi0E,EAAO,CACvCkG,QAASwB,QAwTb7wB,CAAQp0D,EAAQo0D,QAET8wB,EAwBP,MAAO,CACNhsF,OAnBD,SAAsBqT,EAAQggF,GAE7B,IAAMhgF,EAAOy9E,SACZ,MAAM,IAAI7tD,MAAM,gDAIjB,IAAIn8B,EAAU4kF,EAAa2H,GAC1BC,EAASzH,EAASx4E,EAAQvM,GAM3B,OAHAwsF,EAAOrwF,IAAI6D,EAAQu9E,OAEnBhxE,EAAOovE,WAAa6Q,EACbA,MA31DiB,gC,cCF1Bz0F,EAAOD,QAAU,WAEf,SAASoN,EAAW0lC,EAAQlQ,EAAU+xD,GACpC,IAAI7X,EAAKlmE,KAETkmE,EAAGj0E,YAAciqC,EAAOjqC,YACxBi0E,EAAG8X,aAAe9hD,EAAO8hD,aACzB9X,EAAGxzE,WAAawpC,EAAOxpC,WACvBwzE,EAAG+X,cAAgB/X,EAAGxzE,WAAWwrF,eAE7BlyD,EAAS3kC,KAAK,cAChB6+E,EAAGiY,iBAAkB,GAMvBjY,EAAGhuE,KAAO,WACRguE,EAAG+X,cAAcvpF,SAAQ,SAASgnC,GACZ,OAAhBA,EAAK4+C,SAAmB5+C,EAAK4+C,OAAS,SAQ9CpU,EAAGkY,WAAa,SAASx2D,GACnBs+C,EAAGmY,aAAaz2D,GAClBs+C,EAAG+X,cAAcr2D,GAAO0yD,OAASvoF,SAASm0E,EAAG+X,cAAcr2D,GAAO0yD,QAElEpU,EAAG+X,cAAcr2D,GAAO0yD,OAAS,KASrCpU,EAAGmY,aAAe,SAASz2D,GAGzB,MAFgB,gBAECpL,KAAK0pD,EAAG+X,cAAcr2D,GAAO0yD,SAShDpU,EAAGoY,WAAa,SAAS12D,EAAOm4C,GAC9B,IAAI1iD,GAAQ,EAEZ,OAAQ0iD,GACN,IAAK,KACCmG,EAAG+X,cAAcr2D,GAAO0yD,QAAUpU,EAAG+X,cAAcr2D,GAAOrf,MAAO8U,GAAQ,GAC7E,MACF,IAAK,OACoC,MAAnC6oD,EAAG+X,cAAcr2D,GAAO0yD,SAAkBj9D,GAAQ,GACtD,MACF,IAAK,SACC6oD,EAAG+X,cAAcr2D,GAAO0yD,QAAUpU,EAAG+X,cAAcr2D,GAAOrf,MAAO29D,EAAG+X,cAAcr2D,GAAO0yD,OAASpU,EAAG+X,cAAcr2D,GAAOrf,KAC1H29D,EAAG+X,cAAcr2D,GAAO0yD,QAAU,IAAKpU,EAAG+X,cAAcr2D,GAAO0yD,OAAS,GAIhF,OAAOj9D,GAOT6oD,EAAGqY,SAAW,SAAS32D,GAChBs+C,EAAGoY,WAAW12D,EAAO,QAIa,MAAnCs+C,EAAG+X,cAAcr2D,GAAO0yD,OAC1BpU,EAAG+X,cAAcr2D,GAAO0yD,OAAS,EAEjCpU,EAAG+X,cAAcr2D,GAAO0yD,OAASvoF,SAASm0E,EAAG+X,cAAcr2D,GAAO0yD,QAAU,EAG9EpU,EAAGsY,cAOLtY,EAAGuY,SAAW,SAAS72D,GAChBs+C,EAAGoY,WAAW12D,EAAO,UAIa,IAAnCs+C,EAAG+X,cAAcr2D,GAAO0yD,OAC1BpU,EAAG+X,cAAcr2D,GAAO0yD,OAAS,IAEjCpU,EAAG+X,cAAcr2D,GAAO0yD,OAASvoF,SAASm0E,EAAG+X,cAAcr2D,GAAO0yD,QAAU,EAG9EpU,EAAGsY,cAOLtY,EAAGwY,aAAe,SAAS92D,GACzBs+C,EAAGkY,WAAWx2D,GACds+C,EAAGoY,WAAW12D,EAAO,UAErBs+C,EAAGsY,aAOLtY,EAAGyY,YAAc,SAAS17C,GACpBijC,EAAGiY,iBAIPl7C,EAAO7pB,cAAc0oB,UAMvBokC,EAAGsY,UAAYT,GAAS,WAClB7X,EAAGiY,iBAIPjY,EAAG8X,aAAa,CAAC9X,EAAGxzE,eACnB,KAEHwzE,EAAGhuE,OAGL,O,2CAAO,CACLgsE,SAAU,IACV2G,MAAO,CACLn4E,WAAY,IACZT,YAAa,IACb+rF,aAAc,KAEhB3uD,YAAa,4BACb74B,WAAYA,EACZ04B,aAAc,S,cCzJlB7lC,EAAOD,QAAU,WAEf,SAASoN,EAAW0lC,EAAQ4sC,EAAgBnnE,EAAWqnE,GACrD9sC,EAAOkiC,OAAO,WAAW,gBACA1zC,IAAnBwR,EAAO2/C,SAIXl6E,EAAUgO,+BAA+BusB,EAAOlnC,aAAauX,MAAK,SAASy4D,GACzE8D,EAAe95C,KAAK,CAClBI,OAAQxQ,QAAQhkB,QAAQI,SAAS0hB,iBAAiB,iCAClD2S,YAAa,0CACb74B,WAAY,WACV,IAAI0vE,EAAKlmE,KAKTkmE,EAAG3yD,UAAYyxD,EAEfkB,EAAG0Y,0BAA4B5V,EAAQ6V,uBAAuB3Y,EAAG3yD,UAAUurE,cAK3E5Y,EAAG6Y,sBAAwB,WACzB7Y,EAAG8Y,kBAAoB,GAEvB9Y,EAAG8Y,kBAAoB9Y,EAAG3yD,UAAU0rE,uBAAuBpqF,MAAK,SAAS04B,GACrE,OAAOA,EAAIrS,aAAegrD,EAAG0Y,8BAOnC1Y,EAAGjzB,MAAQ,WACT61B,EAAe53C,QAMjBg1C,EAAG6Y,yBAEL7vD,aAAc,aAMtB,O,4DAAO,CACLg1C,SAAU,IACV1tE,WAAYA,EACZq0E,MAAO,CACLgR,QAAS,IACT7mF,YAAa,S,iBC7DnB,YAMA3L,EAAOD,QAAU,SAASwiB,GA0FxB,MAAO,CACLs4D,SAAU,IACVtoD,KA3FF,SAAcivD,EAAOjwE,EAASuhB,GAC5B,IAAI3c,EAAS,GACT0/E,GAAW,EAEfrU,EAAMxB,WAAa,WACjBz9D,GAAS,WACPi/D,EAAMsU,gBAIVtU,EAAMsU,UAAY,WAChB3/E,EAAS,GAET,IAAI4/E,EAAcxkF,EACf/F,KAAK,sBACLwqF,cAEED,IAAeA,EAAc,GAEnBxkF,EACZ/F,KAAK,sBACLu6B,SACAggD,UAEM16E,SAAQ,SAAS88E,EAAI7pF,GAC5B,IACI23F,EACAC,EAFAC,EAAgBtjE,EAAEs1D,GAAI6N,cAItBI,EAAYvjE,EAAEs1D,GAAI38E,KAAK,sBACvB6qF,EAAkBD,EAAUJ,cAQhCE,GALED,EADQ,IAAN33F,EACa6X,EAAOA,EAAO3X,OAAS,GAAG03F,WAAa//E,EAAOA,EAAO3X,OAAS,GAAG63F,gBAEjEN,GAGWI,EAAgBE,EAE5ClgF,EAAOrX,KAAK,CACV,UAAas3F,EACb,gBAAmBC,EACnB,aAAgBJ,EAChB,WAAcC,EACd,aAAgBA,EAAaD,QAKnC1kF,EAAQwwB,GAAG,UAAU,WACd8zD,IACHrU,EAAMsU,YAEND,GAAW,EAEXtzE,GAAS,WACPszE,GAAW,IACV,MAGL,IAAIlN,EAAY91D,EAAEthB,GAASo3E,YAE3BxyE,EAAO9K,SAAQ,SAAS88E,EAAI7pF,GAC1B,IAAIg4F,EAAoB3N,EAAYR,EAAG8N,aAEnCtN,EAAYR,EAAG8N,cAAgBtN,EAAYR,EAAG+N,WAChDrjE,EAAEs1D,EAAGiO,WACFtgB,IAAI,CACH,UAAa,oBAAsBwgB,EAAoB,aAExDrpC,SAAS,qBACH07B,GAAaR,EAAG8N,aACzBpjE,EAAEs1D,EAAGiO,WACFtgB,IAAI,CACH,UAAa,+BAEd5oB,YAAY,qBACNy7B,GAAaR,EAAG+N,YACzBrjE,EAAEs1D,EAAGiO,WACFtgB,IAAI,CACH,UAAa,oBAAsBqS,EAAGoO,aAAe,aAEtDrpC,YAAY,8B,oEC1FzB,YAMAltD,EAAOD,QAAU,WA6Bf,MAAO,CACL86E,SAAU,IACVtoD,KA5BF,WACE,IAAMikE,EAAc,CAAC,IAAK,OAQpBC,EAAmB,SAACllF,GACxB,IAAMmlF,EAAiB7jE,EAAEthB,GACtB8uE,QAAQ,uBACR70E,KAAK,oBAER,OAAOkrF,EAAel4F,OAASk4F,EAXH,SAACnlF,GAC7B,IAAMolF,EAAe9jE,EAAEthB,GAAS+uE,OAEhC,OAAOqW,EAAan4F,QAAUg4F,EAAYzjE,SAAS4jE,EAAa,GAAGC,WAAaD,EAAe9jE,EAAE,SAQjDgkE,CAAsBtlF,IAGxEshB,EAAElhB,UAAUowB,GAAG,aAAc,0BAA0B,SAACv/B,GACtDi0F,EAAiBj0F,EAAEutB,eAAek9B,SAAS,mBAG7Cp6B,EAAElhB,UAAUowB,GAAG,aAAc,0BAA0B,SAACv/B,GACtDi0F,EAAiBj0F,EAAEutB,eAAem9B,YAAY,wB,gCCtBpDltD,EAAOD,QAAU,WAEf,SAASoN,EAAW66B,EAAYrF,EAAUi6C,EAAY5D,GACpDA,EAAe8d,wBAAuB,WACpCn0D,EAASuqB,YAAY,kCAGvB8rB,EAAe+d,4BAA2B,WACxCp0D,EAASuqB,YAAY,6BAGvB8rB,EAAege,uBAAsB,WACnCr0D,EAASsqB,SAAS,yDAGpB+rB,EAAeie,uBAAsB,WACnCt0D,EAASuqB,YAAY,kCAGvB8rB,EAAeke,2BAA0B,WACvCv0D,EAASuqB,YAAY,6BAGvB8rB,EAAeme,sBAAqB,WAClCx0D,EAASsqB,SAAS,yDAGpB+rB,EAAeoe,oBAAmB,WAChCz0D,EAASsqB,SAAS,+BAGpB+rB,EAAeqe,mBAAkB,WAC/B10D,EAASuqB,YAAY,+BAGvBv2C,KAAK2gF,eAAiB,WAEpBte,EAAeue,kBAQnB,O,kEAAO,CACL/V,OAAO,EACP3G,SAAU,IACV1tE,WAAYA,EACZ04B,aAAc,S,cCpDlB7lC,EAAOD,QAAU,SAASwiB,EAAUmyE,EAAU3b,GAiB5C,MAAO,CACL8B,SAAU,IACVtoD,KAlBF,SAAcivD,EAAOjwE,GACnB,IAAIimF,EAAgBze,EAAkB0e,mBAEnCD,EAAcE,gBACfn1E,GAAS,WACPhR,EAAQo3E,UAAU6O,EAAcE,mBAIpCnmF,EAAQwwB,GAAG,SAAU2yD,GAAS,SAAClyF,GAC7Bu2E,EAAkB4e,aAAa,CAC7BD,eAAgBnmF,EAAQo3E,gBAEzB,S,6ECUP3oF,EAAOD,QAlBP,WACE,IAAImL,EAAc,GAClB,MAAO,CAMLgd,sBAAqB,SAAC0vE,GACpB1sF,EAAc0sF,GAGhBxuE,6BAA4B,SAAChD,GAC3B,OAAOlb,EAAYM,MAAK,SAAAnC,GAAc,OAAAA,EAAWgd,oBAAsBD,S,8DCpB7E,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAMtB,QACA,SAEA,SAAS5D,EAAOs9D,GAGd,SAAS+X,EAAgBv1E,EAAIvJ,GAC3B,IAAMuK,EAAWhB,EAAGiB,QAEdk+D,EAAWqW,aAAY,WAExB/+E,EAAQg/E,0BACRh/E,EAAQi/E,uBACRj/E,EAAQk/E,qBAETC,cAAczW,GACdn+D,EAASxf,aAEV,KAEH,OAAOwf,EAASN,QAIlB,MAAO,CACL,aACE,OAAO88D,EAAmBqY,KAE5B,qBACE,OAAO,EAAA3/D,YAAYI,KAAKG,UAE1Bq/D,aAAc,sBAAsBr0F,OAAO04D,KAAK47B,WAAW,kBAAiB,IAC5EC,YAAav0F,OAAO04D,KAAK47B,WAAW,kBACpCE,OAAQ,CACN,CAGEl4F,KAAM,4BACNiyC,KAAM,UACNtM,YAAa,sDACb22C,WAAY,iBACZ6b,KAAM,mCACN3yD,aAAc,KACdnvB,OAAQ,CACN+hF,QAAS,KACTC,YAAa,KACbC,eAAgB,GAChB/vE,mBAAoB,CAClB9nB,MAAO,KACP83F,SAAS,GAEXvvF,WAAY,MAEdvF,QAAS,CACPoH,YAAa,CAAb,qBAAa,SAACmpD,GAGZ,OAAO,IAAIxwD,SAAQ,SAAAC,GACjBuwD,EAAmB3zD,MAAMozB,UAAUhwB,QAGvCuF,WAAA,wHAAU,SAACu4B,EAAcg+C,EAAa5mE,EAAMV,EAAW0sB,EAAkB95B,EAAaksB,EAAkBq9B,GAGtG,IAAMprD,EAAau4B,EAAav4B,WAOhC,OANiBA,EACfxF,QAAQC,QAAQkhC,EAAiBluB,UAAUzN,EAAWJ,KACtDqP,EAAUkqE,GAAGp5D,6BAA6BpQ,EAAKqZ,gCAC5CnP,MAAK,SAAA7Z,GAAc,OAAA27B,EAAiBluB,UAAUzN,EAAWJ,QAG9Cia,MAAK,SAAA7Z,GAEnB,OADA+tB,EAAiByhE,UAAUxvF,EAAWJ,IAC/B,IAAIpF,SAAQ,SAAAC,GACjB2wD,EAAiBqkC,WAAWzvF,EAAW4d,aAAa/P,KAClD,EAAAvQ,KAAI,SAAAsgB,GAAe,gCACd5d,GAAU,CACb4d,YAAW,QAEb6M,UAAUhwB,WAKlBi1F,sBAAA,0DAAqB,SAACz2E,EAAIqf,EAAQ3oB,EAAMV,EAAW+I,EAAUhY,GAG3D,IAAMjB,EAAeiB,EAAWJ,GAC1BkC,EAAW6N,EAAKrU,iBAEtB,OAAO2T,EAAUyV,GAAGO,2BAA2BnjB,EAAU/C,GACtD8a,MAAK,SAAAc,GAIJ,OAHyBA,EAASgkC,mBAC/Bx8C,MAAK,SAAAgf,GAAoB,OAAAA,EAAiBgW,WAAWhiC,UAE9BwlB,EAAU,yBAAKA,GAAQ,CAAEgkC,mBAAoB,QAExE24B,OAAM,WAEL,OADAt/D,EAASy9D,sBAAsB,MACxBx8D,EAAGhe,cAGhB00F,oBAAA,iDAAmB,SAAC12E,EAAItJ,EAAMV,EAAW+I,EAAUhY,GAGjD,IAAMjB,EAAeiB,EAAWJ,GAC1BkC,EAAW6N,EAAKrU,iBACtB,OAAO2T,EAAUqO,uBACfve,EAAc+C,GACdw1E,OAAM,WAEN,OADAt/D,EAASy9D,sBAAsB,MACxBx8D,EAAGhe,cAGduzF,gBAAA,gBAAe,SAACv1E,EAAIvJ,GAGlB,OAAO8+E,EAAgBv1E,EAAIvJ,OAIjC,CAGE1Y,KAAM,oCACNiyC,KAAM,UACNtM,YAAa,6DACb22C,WAAY,iBACZ6b,KAAM,0CACN3yD,aAAc,KACdnvB,OAAQ,CACNqQ,UAAW,KACXo9C,YAAa,KACbv7C,mBAAoB,CAClB9nB,MAAO,KACP83F,SAAS,GAEXF,YAAa,KACbrvF,WAAY,MAEdvF,QAAS,CACPoH,YAAa,CAAb,qBAAa,SAACmpD,GAGZ,OAAO,IAAIxwD,SAAQ,SAAAC,GACjBuwD,EAAmB3zD,MAAMozB,UAAUhwB,QAGvCuF,WAAA,wHAAU,SAACu4B,EAAcg+C,EAAa5mE,EAAMV,EAAW0sB,EAAkB95B,EAAaksB,EAAkBq9B,GAGtG,IAAMprD,EAAau4B,EAAav4B,WAOhC,OANiBA,EACfxF,QAAQC,QAAQkhC,EAAiBluB,UAAUzN,EAAWJ,KACtDqP,EAAUkqE,GAAGp5D,6BAA6BpQ,EAAKqZ,gCAC5CnP,MAAK,SAAA7Z,GAAc,OAAA27B,EAAiBluB,UAAUzN,EAAWJ,QAG9Cia,MAAK,SAAA7Z,GAGnB,OAFA+tB,EAAiByhE,UAAUxvF,EAAWJ,IAE/B,IAAIpF,SAAQ,SAAAC,GACjB2wD,EAAiBqkC,WAAWzvF,EAAW4d,aAAa/P,KAClD,EAAAvQ,KAAI,SAAAsgB,GAAe,gCACd5d,GAAU,CACb4d,YAAW,QAEb6M,UAAUhwB,WAIlBi1F,sBAAA,iDAAqB,SAACz2E,EAAItJ,EAAMV,EAAW+I,EAAUhY,GAGnD,IAAM8B,EAAW6N,EAAKrU,iBACtB,OAAO2T,EAAUyV,GAAGO,2BAA2BnjB,EAAU9B,EAAWJ,IACjE03E,OAAM,WAGL,OAFAt/D,EAASy9D,sBAAsB,MAC/Bz9D,EAAS29D,mBAAmB,MACrB18D,EAAGhe,cAGhBuzF,gBAAA,gBAAe,SAACv1E,EAAIvJ,GAGlB,OAAO8+E,EAAgBv1E,EAAIvJ,OAIjC,CAGE1Y,KAAM,uBACNiyC,KAAM,UACNtM,YAAa,2DACb22C,WAAY,iBACZ6b,KAAM,wCACN3yD,aAAc,KACdnvB,OAAQ,CACNtO,aAAc,KACdswF,YAAa,KACb9vE,mBAAoB,CAClB9nB,MAAO,KACP83F,SAAS,IAGb90F,QAAS,CACPqH,SAAA,uCAAQ,SAAC6N,EAAM2I,EAAS0yC,GAGtB,IAAIvwD,EAEJ,GAAI6d,EAAQuN,KAAK1wB,OACfsF,EAAUD,QAAQC,QAAQ6d,EAAQuN,KAAK,GAAGjmB,QACrC,CACL,IAAM,EAAkB+P,EAAKqZ,8BAA6B,GAE1DvuB,EAAUkV,EAAKyZ,UAAU,GACtBvP,MAAK,SAAAiD,GAAU,OAAAxE,EAAQw9D,sBAAsBh5D,EAAQ,MACrDjD,MAAK,SAAAmkB,GAAU,OAAAA,EAAOp+B,MAG3B,OAAOnF,EAAQof,MAAK,SAAAowC,GAAY,WAAIzvD,SAAQ,SAAAC,GACxC,OAAAuwD,EAAmB3zD,MAAMozB,WAAU,WAAM,OAAAhwB,EAAQwvD,cAIvD2lC,mBAAA,2DAAkB,SAACt3D,EAAQ3oB,EAAMV,EAAWnN,EAAUisB,GAGpD,IAAM8S,EAAelxB,EAAKqZ,8BAA6B,GACvD,OAAOrZ,EAAKyZ,UAAU,GACnBvP,MAAK,SAAAiD,GAAU,OAAA7N,EAAUyP,mBAAmB5B,EAAQ+jB,MACpDhnB,MAAK,SAAAc,GAGJ,OAFoBA,EAASxY,MAAK,SAAA6kB,GAAQ,OAAAA,EAAKolE,iBAQ/Cr+D,EAAiByhE,UAAU70E,EAAS,GAAG3a,YAEhCiP,EAAUyV,GAAGO,2BAA2BnjB,EAAU6Y,EAAS,GAAG3a,YAClE6Z,MAAK,SAACsG,GACL,IAAMvF,EAAmB,CACvBi1E,mBAAoB1vE,EAAsB0vE,mBAC1CC,6BAA8B3vE,EAAsB2vE,8BAGtD,MAAO,CAAC16F,OAAO0P,OAAO6V,EAAS,GAAIC,QAd9B0d,EAAOc,GAAG,4BAA6B,CAC5Cp5B,WAAY,CAACJ,GAAI+a,EAAS,GAAG3a,iBAehCs3E,OAAM,WACPh/C,EAAOc,GAAG,6BAGhBp5B,WAAY,CAAZ,oEAAY,SAAC4vF,EAAoBj0D,EAAkByvB,EAAkB9yB,GASnE,OANiB,IAAI99B,SAAQ,SAACC,EAASQ,GACrC,IAAMgK,EAAS02B,EAAiBo0D,YAEhC,OAAO9qF,EAASxK,EAAQwK,GAAUhK,EAAOgK,MAG3B4U,MAAK,SAAA7Z,GACnB,OAAO,IAAIxF,SAAQ,SAAAC,GACjB2wD,EAAiBqkC,WAAWzvF,EAAW4d,aAAa/P,KAClD,EAAAvQ,KAAI,SAAAsgB,GAAe,gCACd5d,GAAU,CACb4d,YAAW,QAEb6M,UAAUhwB,SAEb68E,OAAM,WACPh/C,EAAOc,GAAG,6BAGdv3B,YAAa,CAAb,qBAAa,SAACmpD,GAGZ,OAAO,IAAIxwD,SAAQ,SAAAC,GACjBuwD,EAAmB3zD,MAAMozB,UAAUhwB,YASjD9D,EAAOD,QAAUyiB,G,8BChTjB,Y,4CAKA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAtD,YACA,QAYA,SAASxJ,EAAK6oB,EAASxgB,EAAUkB,GAC/B,MAAO,CACL0R,cAAe,KACfE,UAAW,KACXa,QAAS,KACTG,YAAa,KAOb,WACE,OAAO0M,EAAQh9B,SAASqtB,UAQ1BC,aAAY,WACV,OAAOxb,KAAKm8C,KAAKvwD,MAAM,MAQzBoC,eAAc,WACZ,IAAMtF,EAAS,mBAAmBuF,KAAK+R,KAAKm8C,MAE5C,OAAOzzD,EAASA,EAAO,GAAK,MAQ9BgpB,gBAAe,WACb,IAAM+J,EAAYzb,KAAKwb,eACnB/pB,EAAegqB,EAAUA,EAAU1jB,QAAQ,KAAO,GAItD,OAHKtG,GAAgBiZ,EAASwmC,qBAC5Bz/C,EAAeiZ,EAASwmC,mBAAmB5+C,IAEtCb,GAOTiqB,6BAA4B,SAACC,GAC3B,QAD2B,IAAAA,OAAA,GACvBA,EAAS,CACX,IAAMjzB,EAAS,yBAAyBuF,KAAK+R,KAAKm8C,MAElD,OAAOzzD,EAASA,EAAO,GAAK,KAE9B,IAAM+yB,EAAYzb,KAAKwb,eACnBknE,EAAUjnE,EAAUA,EAAU1jB,QAAQ,KAAO,GAIjD,OAHK2qF,IACHA,EAAUjnE,EAAUA,EAAU1jB,QAAQ,MAAQ,IAEzC2qF,GAQT7mE,aAAY,WACV,IAAMJ,EAAYzb,KAAKwb,eAEvB,OADkBC,EAAUA,EAAU1jB,QAAQ,WAAa,IAS7D+jB,UAAS,SAACC,GAAV,gBAAU,IAAAA,MAAA,GACR,IA+CMrzB,EAAS,IAAI,EAAAszB,YAtBL,SAAC5hB,GACb,IAAIqhB,EAAY,EAAKD,eACjBhM,EAASiM,EAAUA,EAAU1jB,QAAQ,KAAO,GAEhD,IAAKyX,EAAQ,CACX,IAAMyM,EAASC,EAAE,+BAIf1M,EAFEyM,EAAOp0B,QAAUo0B,EAAOE,KAAK,QAC/BV,EAAYQ,EAAOE,KAAK,OAAOvwB,MAAM,MAClBwwB,SAAS,KAAOX,EAAUA,EAAU1jB,QAAQ,KAAO,GAAK,GAlCvD,WACxB,IAAIskB,EAAa,KACXC,EAAUJ,EAAE,oCACZK,EAAW,oEAEjB,GAAID,EAAQz0B,QAAU00B,EAASC,KAAK,GAAGF,EAAQj1B,KAAK,QAAW,CAG7Dg1B,EAFY,IAAII,IAAIH,EAAQj1B,KAAK,QAEhBstB,aAAa5qB,IAAI,UAC7B,CACL,IAGM6xB,EAHQnN,MAAMnO,KAClBtF,SAAS0hB,iBAAiB,4DAET7nB,MAAK,SAAC+mB,GAAS,OAAAW,EAASC,KAAKZ,EAAKztB,SAErD,GAAIytB,EAGFS,EAFY,IAAII,IAAIb,EAAKztB,MAERwmB,aAAa5qB,IAAI,MAItC,OAAOsyB,EAcMM,GAITnN,EACFpV,EAASwiB,KAAKpN,GAEdpV,EAASnE,MAAMuZ,MAcnB,OARA9mB,EAAO6X,KACL,EAAAsc,WAAU,SAACC,GAAW,OAAAA,EAAOvc,KAC3B,EAAAwc,MAAM,KACN,EAAAC,KAAKjB,GACL,EAAAkB,UAAU,EAAAC,iBAIP,IAAIhwB,SAAQ,SAACC,EAASQ,GAC3BjF,EAAOy0B,UAAUhwB,EAASQ,OAS9ByvB,oBAAmB,WACjB,IAAIC,GAAQ,EAIZ,OAHIrd,KAAKsd,gBACPD,GAAQ,GAEHA,GAQTE,gBAAe,WACb,IAAIF,GAAQ,EAIZ,OAHIrd,KAAKwd,YACPH,GAAQ,GAEHA,GAQTI,kBAAiB,WACf,OAAOzd,KAAKwb,eAAeY,SAAS,MAQtCsB,eAAc,WACZ,OAAO1d,KAAKwb,eAAeY,SAAS,MAQtCuB,WAAU,WACR,IAAMlC,EAAYzb,KAAKwb,eACnB6B,GAAQ,EASZ,OAPG5B,EAAU1jB,QAAQ,OAAS,GAAK0jB,EAAU1jB,QAAQ,MAAQ,IACxD0jB,EAAU1jB,QAAQ,eAAiB,GACnC0jB,EAAU1jB,QAAQ,WAAa,GAC/B0jB,EAAU1jB,QAAQ,QAAU,IAE/BslB,GAAQ,GAEHA,GAQTO,eAAc,WACZ,IACIP,GAAQ,EAIZ,OALkBrd,KAAKwb,eAETzjB,QAAQ,aAAe,IACnCslB,GAAQ,GAEHA,GAUTQ,aAAY,WACV,MAAO,kBAAkBrB,KAAKxc,KAAKm8C,OAASn8C,KAAK8d,mBAUnDA,gBAAe,WACb,MAAO,sBAAsBtB,KAAKxc,KAAKm8C,OAQzCp+B,eAAc,WACZ,IACIV,GAAQ,EAIZ,OALkBrd,KAAKwb,eAETzjB,QAAQ,MAAQ,IAC5BslB,GAAQ,GAEHA,GAQTW,iBAAgB,WACd,IACIX,GAAQ,EAIZ,OALkBrd,KAAKwb,eAETzjB,QAAQ,MAAQ,IAC5BslB,GAAQ,GAEHA,GAQTY,YAAW,WACT,IACIZ,GAAQ,EAIZ,OALkBrd,KAAKwb,eAETzjB,QAAQ,MAAQ,IAC5BslB,GAAQ,GAEHA,GAQTa,kBAAiB,WACf,IAAMzC,EAAYzb,KAAKwb,eACnB6B,GAAQ,EAOZ,OANI5B,EAAU1jB,QAAQ,gBAAkB,GAAK0jB,EAAU1jB,QAAQ,MAAQ,IACrEslB,GAAQ,GAEN5B,EAAU1jB,QAAQ,MAAQ,IAC5BslB,GAAQ,GAEHA,GAQTc,mBAAkB,WAChB,IAAM1C,EAAYzb,KAAKwb,eACnB6B,GAAQ,EAIZ,OAHI5B,EAAU1jB,QAAQ,YAAc,GAAK0jB,EAAU1jB,QAAQ,MAAQ,IACjEslB,GAAQ,GAEHA,GAQTe,mBAAkB,WAChB,IAAIf,GAAQ,EAEZ,OAAKrd,KAAKqe,SAAWre,KAAKqe,UAAYre,KAAKm8C,MAIzBn8C,KAAKqe,QAAQzyB,MAAM,KACvBmM,QAAQ,gBAAkB,IACtCslB,GAAQ,GAEHA,GAPEA,GAeXiB,oBAAmB,WACjB,IAAIjB,GAAQ,EAEZ,OAAKrd,KAAKqe,SAIQre,KAAKqe,QAAQzyB,MAAM,KACvBmM,QAAQ,YAAc,IAClCslB,GAAQ,GAEHA,GAPEA,GAUXkB,gBAAe,WACb,OAAOve,KAAKwe,aAAexe,KAAKwe,cAAgBxe,KAAKhS,kBAQvDywB,WAAU,SAACJ,GACTre,KAAKqe,QAAUA,GAQjBK,eAAc,SAACF,GACbxe,KAAKwe,YAAcA,IAKzBn1B,EAAOD,QAAUiZ,I,gCClYjB,SAAS07E,EAASnyE,GAChB,OAAO,SAAU+2E,EAAMlnF,EAAMmnF,GAC3B,IAAI3jE,EAAM5V,EAASw5E,EAAiBn5C,EAYpC,OAVKjuC,IAAQA,EAAO,KAEpBonF,EAAkB,WAChBn5C,EAAU,KAELk5C,GACHD,EAAKn6F,MAAM6gB,EAAS4V,IAIjB,WACL5V,EAAUrJ,KACVif,EAAOxV,UAEP,IAAIq5E,EAAUF,IAAcl5C,EAE5B99B,EAAS2lB,OAAOmY,GAEhBA,EAAU99B,EAASi3E,EAAiBpnF,GAEhCqnF,GACFH,EAAKn6F,MAAM6gB,EAAS4V,K,uBAM5B51B,EAAOD,QAAU20F,G,iBC5CjB,YAcA,SAAS/U,EAAQh+C,EAAQnf,EAAQd,EAAUgzE,GACzC,IAAIgF,EAAqB,KACrBC,EAAuB,KACvBC,EAA0B,KAE9B,MAAO,CAQLC,qBAAoB,SAACnB,EAAaoB,GAKhC,OAFSA,EAAQxuF,QAAO,SAAAyuF,GAAO,OAAArB,IAAgBqB,KAEjCv7F,QAWhBw7F,oBAAmB,SAACtqE,EAAQgpE,EAAaoB,GACvC,IACI9lE,GAAQ,EAMZ,OAPard,KAAKkjF,qBAAqBnB,EAAaoB,IAG7B,gBAAXpqE,IACVsE,GAAQ,GAGHA,GAWTimE,eAAc,SAACvqE,EAAQgpE,EAAaoB,GAClC,IACI9lE,GAAQ,EAMZ,OAPard,KAAKkjF,qBAAqBnB,EAAaoB,IAG7B,gBAAXpqE,IACVsE,GAAQ,GAGHA,GAWTkmE,cAAa,SAACxqE,EAAQgpE,EAAaoB,GACjC,IACI9lE,GAAQ,EAMZ,OAPard,KAAKkjF,qBAAqBnB,EAAaoB,IAGxCpqE,IACVsE,GAAQ,GAGHA,GAQTmmE,aAAY,SAACh/B,GACXz5C,EAASxE,MAAMi+C,IAQjBi/B,iBAAkB1F,GAAS,SAACv5B,GAC1Bz5C,EAASxE,MAAMi+C,KACd,KAWHk/B,oBAAmB,SAAC1F,EAAc2F,EAAYC,EAAaC,EAAiBr/B,GAC1Eo/B,EAAYC,IAAoBD,EAAYC,GAE5C7F,EAAa2F,GAEb3jF,KAAKwjF,aAAah/B,IAUpBs/B,iBAAgB,SAAC9F,EAAc2F,EAAYn/B,GACzCw5B,EAAa2F,GAEb3jF,KAAKyjF,iBAAiBj/B,IAUxBu/B,kBAAiB,SAAC/F,EAAc2F,EAAYn/B,GAC1Cw5B,EAAa2F,GAEb3jF,KAAKyjF,iBAAiBj/B,IAUxBw/B,gBAAe,SAAC5wC,EAAcmf,GAC5B,OAAInf,EAAa6wC,KAAKnF,aAAaxsF,KAAOigE,EACjCnf,EAAa6wC,KAAKnF,aAChB1rC,EAAa8wC,MAAMpF,aAAaxsF,KAAOigE,EACzCnf,EAAa8wC,MAAMpF,aAErB1rC,EAAamf,GAAeusB,cASrCD,uBAAsB,SAAC5sF,GACrB,IAAIkyF,EAYJ,OAVAlyF,EAAYE,OAAOuC,SAAQ,SAACgnC,GACtBA,EAAK0oD,YACFD,EAEMzoD,EAAKtc,MAAQ+kE,EAAmB/kE,QACzC+kE,EAAqBzoD,GAFrByoD,EAAqBzoD,MAOpByoD,EAAmBz6F,MAU5B26F,oBAAmB,SAACn0E,EAAUs9C,GAC5B,IAAIp9C,EAUJ,OARAF,EAASxb,SAAQ,SAACunC,GACZuxB,IAAgBvxB,EAAQ9rC,eAI5BigB,EAAY6rB,EAAQzkB,WAAaykB,EAAQzkB,WAAaykB,EAAQ3pC,OAGzD8d,GAGTk0E,wBAAuB,WACrB,IAAKrB,EAAyB,CAC5B,IAAI,EAAW,MACfA,EAA0B,IAAIsB,kBAAiB,WAC7CC,aAAa,GACb,EAAWvoF,YAAW,WACpBgwB,uBAAsB,WACpB,IAAMw4D,EAAkBzpF,SAASC,KAAKigF,cAAc,gCAC9CwJ,EAAW1pF,SAASC,KAAKigF,cAAc,kCAEzCuJ,IAAoBC,GACtBD,EAAgBngE,cAGnB,SAGmB/pB,QAAQS,SAAS2pF,eAAe,YAAa,CACnEC,gBAAiB,CAAC,iBAClBppD,YAAY,EACZqpD,SAAS,MAKfC,0BAAyB,WACnB7B,GACFA,EAAwBxoF,cAI5BsqF,qBAAoB,WAClB,IAAK/B,EAAsB,CACzB,IAAI,EAAW,MACfA,EAAuB,IAAIuB,kBAAiB,WAC1CC,aAAa,GACb,EAAWvoF,YAAW,WACpBgwB,uBAAsB,WACpB,IAAM+4D,EAAeh6D,EAAOxwB,QAAQwrE,YAAc,iBAClDhrE,SAASC,KAAKu0E,aAAa,WAAYwV,QAExC,SAGgBzqF,QAAQS,SAAS2pF,eAAe,YAAa,CAChEC,gBAAiB,CAAC,SAClBK,mBAAmB,MAKzBC,uBAAsB,WAChBlC,GACFA,EAAqBvoF,cASzB0qF,SAAQ,SAACC,GAGP,IAFA,IAAIpf,EAEKr+E,EAAI,EAAGA,EAAIkkB,EAAO+1E,OAAO/5F,OAAQF,IACxC,GAAIkkB,EAAO+1E,OAAOj6F,GAAG+B,OAASshC,EAAOxwB,QAAQ9Q,KAAM,CACjDs8E,EAAan6D,EAAO+1E,OAAOj6F,GAAGq+E,WAC9B,MAIJ9pD,EAAEkpE,GACC7uC,aAAY,SAAC5uD,EAAGw3E,GAAQ,OAACA,EAAIl+B,MAAM,wBAA0B,IAAI9zB,KAAK,QAAMmpC,SAAS0vB,IAQ1Fqf,sBAAqB,SAAC5zF,GACpBsxF,EAAqBtxF,GASvB6zF,qBAAoB,SAACC,GACnB,IAAI9zF,EAEJ,GAAKsxF,EAUL,OANAtxF,EAAesxF,EAEXwC,IACFxC,EAAqB,MAGhBtxF,GAQT65E,oBAAmB,WACjB,OAAOtgD,EAAOxwB,QAAQ9Q,O,oDAK5BL,EAAOD,QAAU4/E,I,8DCtUjB,IAAI,EAAU,EAAQ,GAetB,SAAS5G,EAAkBp3C,EAAQw6D,GACjC,MAAO,CAGLC,QAAS,GAQTne,aAAY,SAAC17C,EAAWsS,GACtBA,EAAcA,GAAe,GAEzBl+B,KAAKylF,QAAQ59F,OAAS,GACxBmY,KAAKylF,QAAQzlF,KAAKylF,QAAQ59F,OAAS,GAAG+jC,YAAcA,EACpD5rB,KAAKylF,QAAQzlF,KAAKylF,QAAQ59F,OAAS,GAAGq2C,YAAW,yBAC5Cl+B,KAAKylF,QAAQzlF,KAAKylF,QAAQ59F,OAAS,GAAGq2C,aACtCA,GAGLl+B,KAAKylF,QAAQt9F,KAAK,CAChByjC,UAAS,EACTsS,YAAW,KAKjBwnD,iBAAgB,WACd,KAAI1lF,KAAKylF,QAAQ59F,QAAU,GAE3B,OAAOmY,KAAKylF,QAAQzlF,KAAKylF,QAAQ59F,OAAS,IAU5CikC,GAAE,SAACF,EAAWsS,EAAaynD,GACzBznD,EAAcA,GAAe,GAE7BsnD,EAAKI,aAEL56D,EAAOc,GAAGF,EAAWsS,GAChBynD,GACH3lF,KAAKsnE,aAAa17C,EAAWsS,IAWjC2nD,aAAY,SAACj6D,EAAWsS,EAAaynD,GACnCznD,EAAcA,GAAe,GAE7BsnD,EAAKI,aAEL56D,EAAO66D,aAAaj6D,EAAWsS,EAAa,CAAEI,QAAQ,IACjDqnD,GACH3lF,KAAKsnE,aAAa17C,EAAWsS,IAQjCqI,KAAI,SAACu/C,GACH,QADG,IAAAA,MAAA,MACC9lF,KAAKylF,QAAQ59F,QAAU,GAA3B,CAIAmY,KAAKylF,QAAQM,MAEb,IAAM32F,EAAQ4Q,KAAKylF,QAAQzlF,KAAKylF,QAAQ59F,OAAS,GAC3C+jC,EAAYx8B,EAAMw8B,UAClBsS,EAAcp2C,OAAO0P,OAAO,GAAIpI,EAAM8uC,YAAa4nD,GAEzDN,EAAKI,aACL56D,EAAOc,GAAGF,EAAWsS,KAOvBqtC,cAAa,WACXvgD,EAAOsT,UAQT0iD,aAAY,SAAC9iD,GACX,IAAM8nD,EAAehmF,KAAKylF,QAAQzlF,KAAKylF,QAAQ59F,OAAS,GACxDC,OAAO0P,OAAOwuF,EAAY,yBAAOA,GAAY,CAAE9nD,YAAa8nD,EAAa9nD,aAAe,KAAM,CAACA,YAAW,KAO5G4iD,iBAAgB,WACd,IAAMD,EAAgB7gF,KAAKylF,QAAQv6F,OAAO,GAE1C,OAAO21F,EAAch5F,OAASC,OAAO0P,OAAO,GAAIqpF,EAAc,GAAG3iD,aAAe,KAKtF70C,EAAOD,QAAUg5E,G,cC3HjB,SAAS2G,EAAOxmE,EAAU6/D,EAAmB13D,EAAUu+D,EAAa5mE,GAClE,MAAO,CAKL4jF,eAAc,WACR1jF,EAASw5B,YACXqmC,EAAkBt2C,GAAG,wBAErBs2C,EAAkBt2C,GAAG,uBAQzBo6D,oBAAmB,WACjB,IAAMxzF,EAAau2E,EAAYx2D,6BAC7BpQ,EAAKqZ,gCAEmB,YAAtBnZ,EAASi4B,SACX4nC,EAAkBt2C,GAAG,4BAA6B,CAChDp5B,WAAU,EAAEovF,SAAS,IAEQ,YAAtBv/E,EAASi4B,UAClB4nC,EAAkBt2C,GAAG,kBAAmB,CACtCg2D,SAAS,EAAOpvF,gBAAYg4B,KASlCq/C,iBAAgB,WAIVr/D,EAAS07D,sBACXhE,EAAkBt2C,GAAGphB,EAAS07D,uBAIN,YAAtB7jE,EAASi4B,SACX4nC,EAAkBt2C,GATW,sBAUE,YAAtBvpB,EAASi4B,UAClB4nC,EAAkBt2C,GAVW,uBAkBjC2+C,uBAAsB,WAIM,YAAtBloE,EAASi4B,UACX9vB,EAAS27D,yBAJ0B,2BAKnCjE,EAAkBt2C,GALiB,4BAMJ,YAAtBvpB,EAASi4B,WAClB9vB,EAAS27D,yBAN0B,kBAOnCjE,EAAkBt2C,GAPiB,oBAevC0+C,iBAAgB,WACdpI,EAAkBt2C,GAAG,UAAW,IAAI,K,2EAK1CziC,EAAOD,QAAU2/E,G,cCjFjB,SAASxmD,EAASvX,EAASrJ,EAAWU,GACpC,MAAO,CACLo4C,SAAU,KAEVj7C,OAAQ,CACNg8B,YAAY,EACZ2qD,WAAW,EACXC,eAAe,GAQjBluF,KAAI,SAACsxE,GACHxpE,KAAKy6C,SAAW,IAAI8pC,kBAAiB,SAAC8B,GACpCA,EAAU3xF,SAAQ,SAACwhC,GACZA,EAASowD,aAAaz+F,QAIvBquC,EAASowD,aAAa,GAAG/qD,UAAUxjC,QAAQ,cAAgB,GAC7D4J,EACGyV,GACApC,qBAAqB3S,EAAKrU,kBAC1Bue,MAAK,SAACy4D,GACLh6D,EAAQuN,KAAOysD,EAEfwE,cAWZj7B,MAAK,WACClsC,EAAKob,oBACPzd,KAAKy6C,SAASlgD,QAAQS,SAASC,KAAM+E,KAAKR,QAE1CQ,KAAKy6C,SAAShgD,e,yCAMtBpR,EAAOD,QAAUm5B,G,cCNjBl5B,EAAOD,QA/CP,WACE,IAAIm9F,EAAyB,GACzBC,EAAkB,GAEtB,MAAO,CAMLC,kBAAmB,SAAUv2C,GAC3Bs2C,EAAgBr+F,KAAK+nD,IAQvBw2C,0BAA2B,SAAUx2C,GACnCq2C,EAAuBp+F,KAAK+nD,IAO9B01C,WAAY,WACVY,EAAgB9xF,SAAQ,SAAUgnC,GAChCA,OAGF8qD,EAAkB,IAOpBG,kBAAmB,WACjBJ,EAAuB7xF,SAAQ,SAAUgnC,GACvCA,W,+HCpDR,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAEtB,OASA,SAASt5B,EAAQuJ,EAAIi7E,EAAUjlF,EAAWygE,EAAmBj3D,EAAU89D,GACrE,MAAO,CACL/B,2BAA4B,KAE5Bka,0BAA0B,EAC1BC,uBAAuB,EACvBC,oBAAoB,EAEpBuF,4BAA6B,GAU7Brf,6BAA4B,SAAChzE,EAAUsyF,EAAWC,GAAlD,WACQp6E,EAAWhB,EAAGiB,QAEpB,OAAOjB,EAAGgkB,IACR,CACE3vB,KAAKojE,kBAAkB5uE,GAAU,GACjCwL,KAAKgnF,eAAexyF,GAAU,KAG/B+X,MAAK,SAACy4D,GACLr4D,EAASxf,QAAQ63E,GAEjB,EAAKiiB,mCAEDF,GACF3kB,EAAkBmJ,gBAGhBub,GACFF,EAAS53D,KAAK,CACZK,YAAa,yBACbD,OAAQlT,EAAE,QACVgrE,UAAW,IACX13F,SAAU,eACVgH,WAAU,WACRwJ,KAAKmnF,YAAc,EAAAl7F,eAAe,uCAEpCijC,aAAc,WAalBk0C,kBAAiB,SAAC5uE,EAAUsyF,GAN1B,OAAO,EAAQ,UAAU,UAAM,OAAQ,GAAQ,WAC3C,IAAI,EAAQ,KACZ,OAAO,EAAQ,YAAY,MAAM,SAAU,GAMrD,OADA9mF,KAAKohF,0BAA2B,EACzB,CAAP,EAAOz/E,EAAU4P,sBAAsB/c,GACpC+X,MAAK,SAAChY,GAgBL,OAfIuyF,GACFF,EAAS53D,KAAK,CACZK,YAAa,yBACbD,OAAQlT,EAAE,QACVgrE,UAAW,IACX13F,SAAU,eACVgH,WAAU,WACRwJ,KAAKmnF,YAAc,EAAAl7F,eAAe,4BAEpCijC,aAAc,OAGlB+5C,EAAY13D,sBAAsBhd,GAElC,EAAK6sF,0BAA2B,EACzB7sF,aAWbyyF,eAAc,SAACxyF,EAAUsyF,GAAzB,WACE,GAAKtyF,EAAL,CAIA,IAAMmY,EAAWhB,EAAGiB,QA+BpB,OA9BA5M,KAAKqhF,uBAAwB,EAI7B1/E,EACG2P,gBAAgB9c,GAChB+X,MAAK,SAACy4D,GACD8hB,GACFF,EAAS53D,KAAK,CACZK,YAAa,yBACbD,OAAQlT,EAAE,QACVgrE,UAAW,IACX13F,SAAU,eACVgH,WAAU,WACGwJ,KAERmnF,YAAc,EAAAl7F,eAAe,yBAElCijC,aAAc,OAIlB/jB,EAASqsC,mBAAmBwtB,GAE5B,EAAKqc,uBAAwB,EAC7B10E,EAASxf,QAAQ63E,MAChB,SAAChvE,GACF2W,EAAShf,OAAOqI,MAGb2W,EAASN,UAUlBk+D,YAAW,SAAC94E,EAAcq1F,GAA1B,WACE,GAAKr1F,EAAL,CAIA,IAAMkb,EAAWhB,EAAGiB,QAuBpB,OAtBA5M,KAAKshF,oBAAqB,EAE1B3/E,EAAU6P,6BAA6B/f,GAAc8a,MAAK,SAACy4D,GACrD8hB,GACFF,EAAS53D,KAAK,CACZK,YAAa,yBACbD,OAAQlT,EAAE,QACVgrE,UAAW,IACX13F,SAAU,eACVgH,WAAU,WACRwJ,KAAKmnF,YAAc,EAAAl7F,eAAe,sBAEpCijC,aAAc,OAIlB,EAAKoyD,oBAAqB,EAC1B30E,EAASxf,QAAQ63E,MAChB,SAAChvE,GACF2W,EAAShf,OAAOqI,MAGX2W,EAASN,UAOlB46E,iCAAgC,WAC9B,IAAIhvD,EAAO,IAAIvR,KACfuR,EAAOA,EAAKmvD,iBACZpnF,KAAKknE,2BAA6BjvC,EAElCj4B,KAAK6mF,4BAA4BnyF,SAAQ,SAACgnC,GACxCA,QASJksC,2BAA0B,SAAC13B,GACzBlwC,KAAK6mF,4BAA4B1+F,KAAK+nD,KAK5C7mD,EAAOD,QAAUgZ,I,gCChMjB,SAASigE,EAAehxC,EAAY40C,EAAY5jE,EAAME,EAAUijF,EAAMz6E,GAGpE,IAAMs8E,EAAuB,GACvBC,EAA2B,GAC3BC,EAAsB,GACtBC,EAAsB,GACtBC,EAA0B,GAC1BC,EAAqB,GACrBC,EAAkB,GAClBC,EAAiB,GAEnBC,GAAY,EACZC,GAAsB,EACtBC,GAAqB,EAEzB,MAAO,CAML5H,uBAAsB,SAACjwC,GACrBm3C,EAAqBl/F,KAAK+nD,IAQ5BkwC,2BAA0B,SAAClwC,GACzBo3C,EAAyBn/F,KAAK+nD,IAQhCmwC,sBAAqB,SAACnwC,GACpBq3C,EAAoBp/F,KAAK+nD,IAQ3BowC,sBAAqB,SAACpwC,GACpBs3C,EAAoBr/F,KAAK+nD,IAQ3BqwC,0BAAyB,SAACrwC,GACxBu3C,EAAwBt/F,KAAK+nD,IAQ/BswC,qBAAoB,SAACtwC,GACnBw3C,EAAmBv/F,KAAK+nD,IAQ1BuwC,mBAAkB,SAACvwC,GACjBy3C,EAAgBx/F,KAAK+nD,IAQvBwwC,kBAAiB,SAACxwC,GAChB03C,EAAez/F,KAAK+nD,IAStBzM,aAAY,SAACukD,EAAuBC,QAAvB,IAAAD,MAAA,UAAuB,IAAAC,MAAA,KAClCH,GAAsB,EAElBD,GACFI,EAAa,KACbJ,GAAY,IAEmB,iBAApBG,IACTA,EAAkB,KAEM,iBAAfC,IACTA,EAAa,MAIjBT,EAAoB9yF,SAAQ,SAACgnC,GAC3BA,OAGFz/B,YAAW,WACTwrF,EAAwB/yF,SAAQ,SAACgnC,GAC/BA,OAGFuqC,EAAW,YAAY5sD,OACvBgY,EAAW02D,mBAAqBA,IAC/BC,GAEH/rF,YAAW,WACTyrF,EAAmBhzF,SAAQ,SAACgnC,GAC1BA,OAGFosD,GAAsB,IACrBG,IASL3kB,cAAa,SAAC0kB,EAAuBC,QAAvB,IAAAD,MAAA,UAAuB,IAAAC,MAAA,KACnCH,GAAsB,EAElBD,IACFI,EAAa,KACbJ,GAAY,GAGdR,EAAqB3yF,SAAQ,SAACgnC,GAC5BA,OAGFz/B,YAAW,WACTqrF,EAAyB5yF,SAAQ,SAACgnC,GAChCA,OAGFuqC,EAAW,YAAYhzB,QACvB80C,EAAqB12D,EAAW02D,mBAChC12D,EAAW02D,oBAAqB,IAC/BC,GAEH/rF,YAAW,WACTsrF,EAAoB7yF,SAAQ,SAACgnC,GAC3BA,OAGFosD,GAAsB,IACrBG,IAOLrH,eAAc,WACZ71E,EAASxE,MAAM,UACVvG,KAAKkoF,8BAA+BJ,IAIrC9nF,KAAKmoF,iBAEPnoF,KAAKsjE,gBAELtjE,KAAKyjC,eAGP+hD,EAAKmB,sBAGP7c,iBAAgB,WACV9pE,KAAKmoF,iBACPnoF,KAAKyjC,eAELzjC,KAAKsjE,iBAST6kB,eAAc,WACZ,OAAOliB,EAAW,YAAYM,UAOhC2hB,0BAAyB,WACvB,IAAIE,GAAqB,EAezB,OAbE/lF,EAAK+a,uBACL7a,EAAS83B,aACT93B,EAASk4B,kBAEPp4B,EAAKob,qBACLpb,EAAKqb,kBACLrb,EAAKsb,cACLtb,EAAKub,oBAEPwqE,GAAqB,EACrBpoF,KAAKsjE,iBAGA8kB,GAOTzd,cAAa,WACP3qE,KAAKkoF,4BACPN,EAAelzF,SAAQ,SAACgnC,GACtBA,OAGFisD,EAAgBjzF,SAAQ,SAACgnC,GACvBA,S,0EAOVryC,EAAOD,QAAUi5E,G,cCrPjB,SAASgmB,EAASpc,GAChB,OAAO,SAASqc,GACd,OAAOrc,EAAKsc,YAAYD,I,mBAI5Bj/F,EAAOD,QAAUi/F,G,6BClBjB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,2BAEA,SACA,4BAMA,2BAeI,IAAI,EAMR,OArBI,EAASvpE,EAIJ,YAAAne,IAAP,SAAWoe,EAAiC6I,QAAA,IAAAA,MAAgB,EAAwB7b,aAAalkB,QAC/F,EAAwBkkB,aAAahjB,OAAO6+B,EAAO,EAAG7I,IAGjD,YAAAypE,KAAA,aAAP,SAAYrmF,GAAZ,WAGE,OAAO,EAAwB4J,aAC5B6B,QACC,SAAC8V,EAAoB3E,GAAmD,mBAAC,EAAK0pE,iBAAiBtmF,EAAW4c,IAAwB2E,KAAM,MAItI,YAAA+kE,iBAAR,SAAyBtmF,EAA0C4c,GACjE,OAAO,UAAQ2pE,SAAS3pE,GACtB5c,EAAUpY,IAAiBg1B,GAAsB5c,EAAUwmF,OAAoB5pE,IAjB5D,EAAAhT,aAA8B,GAF1C+S,EAAuB,gBAJnC,EAAA8pE,SAAS,CACRv/F,OAAQ,UACRK,KAAM,qBAEKo1B,GAAb,GAAa,EAAAA,2B,kFCTb,E,KAAA,uBAGa,EAAA8pE,SAA+C,SAACt3F,GA0B3D,OAAO,SAAmDyE,GACxD,IAAM1M,EAzBwC,WAC9C,IACIA,EAEJ,GAAIiI,EAAQjI,OACV,IACEA,EAAS,UAAQA,OAAO,GAAGiI,EAAQjI,QACnC,MAAO2M,GACP3M,EAAS,KAIb,IAAKA,EACH,IACEA,EAAS,UAAQA,OAbM,OAcvB,MAAO2M,GACPlK,QAAQmK,MAAM,6BAA6B3E,EAAQ5H,KAAI,4CAAiEsM,GACxH3M,EAAS,KAIb,OAAOA,EAIiBgQ,GAMxB,OAJIhQ,GACFA,EAAOw/F,SAASv3F,EAAQ5H,KAAM,IAAIqM,GAG7BA,K,6BCnCX,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,SAGA,SACA,4B,aASE,WAAoB4V,EAAuBxJ,GAAvB,KAAAwJ,KAAuB,KAAAxJ,YAGzCnC,KAAK8oF,SAAW,8BAehB,IAAI,EAAI,EAAI,EAWhB,O,6BAvBS,YAAAz7E,SAAP,SAAgBA,GAKd,OAJIA,EAAS7N,OAAOtO,SAAW,EAAAkd,YAAYtN,KAAOd,KAAK8oF,SAAStsE,KAAKnP,EAAS7N,OAAOM,MACnFE,KAAK+oF,mBAAmB17E,EAAShmB,MAG5B2Y,KAAK2L,GAAGxe,QAAQkgB,IAGlB,YAAAa,cAAP,SAAqBb,GAKnB,OAJIrN,KAAK8oF,SAAStsE,KAAKnP,EAAS7N,OAAOM,MACrCE,KAAK+oF,oBAAmB,GAGnB/oF,KAAK2L,GAAGhe,OAAO0f,IAGhB,YAAA07E,mBAAR,SAA2B5+F,GACzB,IAAM63C,EAAgBhiC,KAAKmC,UAAUpY,IAAI,YACnCi/F,EAA2BhpF,KAAKmC,UAAUpY,IAAI,eAEpDi4C,EAASrH,cAAgBxwC,EACzB6+F,EAAYC,eAAe,CAACC,gBAAgB,KA9BnCC,EAAwB,cAHpC,EAAAxqE,YAAY,CACXt1B,OAAQ,YA4BF,EAAQ,WAAW,oBAAqB,CAvBb,mBAuBsB,OAvBtB,IAAT,EAAA+/F,WAAA,EAAAA,WAAS,SAAkD,mBAAlD,EAA4B,oBAAPxqE,cAAY,KAAL,EAAPA,QAAQyqE,OAAI,EAACC,kBAAgB,YAHxEH,G,GAAA,EAAAA,4B,6BCVb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,OACA,QACA,SAGA,SACA,SACA,4B,aAQE,WAAsBx9E,EACAqf,EACA7oB,GAFA,KAAAwJ,KACA,KAAAqf,SACA,KAAA7oB,YAepB,IAAI,EAAI,EAAI,EAAI,EAOpB,O,sCAlBS,YAAA+L,cAAP,SAAqBb,GAWnB,OAVIA,EAAShf,SAAW,EAAAmf,eAAe+7E,YACjCl8E,EAAShmB,KAAKmiG,aAAe,EAAAC,aAAaC,oBAAsBr8E,EAAShmB,KAAKs9B,WAChF3kB,KAAKgrB,OAAOc,GAAG,aAKjB9rB,KAAK2pF,uBAGA3pF,KAAK2L,GAAGhe,OAAO0f,IAGhB,YAAAs8E,oBAAR,WAC8B3pF,KAAKmC,UAAUpY,IAAI,kBAChC+/E,oBAvBN8f,EAAsB,cAHlC,EAAAjrE,YAAY,CACXt1B,OAAQ,YAyBF,EAAQ,WAAW,oBAAqB,CAtBX,mBAsBoB,OAtBpB,IAAT,EAAA+/F,WAAA,EAAAA,WAAS,SACO,mBADP,OACO,IAAZ,EAAAl8D,cAAA,EAAAA,cAAY,SACoB,mBADpB,EACF,oBAAPtO,cAAY,KAAL,EAAPA,QAAQyqE,OAAI,EAACC,kBAAgB,YAHnDM,G,GAAA,EAAAA,0B,8ECdb,SAAYH,GACV,0CADF,CAAY,EAAAA,eAAA,EAAAA,aAAY,M,yFCExB,SACA,4BAMA,2BAIA,OAHS,YAAAp8E,SAAP,SAAgBA,GACd,OAAOngB,QAAQC,QAAQkgB,EAAShmB,OAFvBwiG,EAAsB,cAJlC,EAAAlrE,YAAY,CACXt1B,OAAQ,UACR+1B,MAAO,KAEIyqE,GAAb,GAAa,EAAAA,0B,6BCRb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,OACA,QAGA,SACA,SACA,4B,aAOE,WAAoBl+E,EAAuBqf,GAAvB,KAAArf,KAAuB,KAAAqf,SAOzC,IAAI,EAAI,EAIZ,O,0BAPS,YAAA9c,cAAP,SAAqBb,GACnB,OAAIA,EAAShf,SAAW,EAAAmf,eAAe+7E,WAAal8E,EAAShmB,KAAKyiG,OACzD9pF,KAAKgrB,OAAOc,GAAG,iBAGjB9rB,KAAK2L,GAAGhe,OAAO0f,IAVb08E,EAAuB,cAHnC,EAAAprE,YAAY,CACXt1B,OAAQ,YAeF,EAAQ,WAAW,oBAAqB,CAZb,mBAYsB,OAZtB,IAAT,EAAA+/F,WAAA,EAAAA,WAAS,SAA8B,mBAA9B,OAA8B,IAAZ,EAAAl8D,cAAA,EAAAA,cAAY,YADpD68D,G,GAAA,EAAAA,2B,6BCXb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,OACA,QAGA,SACA,SAEA,4B,aAUE,WAAoB14D,EACA1lB,EACAqf,EACA7oB,GAHA,KAAAkvB,aACA,KAAA1lB,KACA,KAAAqf,SACA,KAAA7oB,YAGlBnC,KAAK8oF,SAAW,4BAChB9oF,KAAKuC,SAAW,KAqBhB,IAAI,EAAI,EAAI,EAAI,EAAI,EAYxB,O,mDA9BS,YAAA2L,cAAP,SAAqBb,GAmBnB,OAlBArN,KAAKgqF,yBAED38E,EAAShf,SAAW,EAAAmf,eAAey8E,WAAajqF,KAAK8oF,SAAStsE,KAAKnP,EAAS7N,OAAOM,MACjFE,KAAKuC,SAASkgB,QAAUziB,KAAKuC,SAASw5B,cACpC/7B,KAAKuC,SAASo4B,cAChB36B,KAAKgrB,OAAOc,GAAG,cAEX9rB,KAAKuC,SAASw4B,KAChB/6B,KAAKgrB,OAAOc,GAAG,cAMnB9rB,KAAK2pF,uBAIF3pF,KAAK2L,GAAGhe,OAAO0f,IAGhB,YAAAs8E,oBAAR,WAC8B3pF,KAAKmC,UAAUpY,IAAI,kBAChC+/E,oBAGT,YAAAkgB,uBAAR,WACEhqF,KAAKuC,SAAWvC,KAAKmC,UAAUpY,IAAI,aA3C1BmgG,EAA2B,cAHvC,EAAAvrE,YAAY,CACXt1B,OAAQ,YAwCF,EAAQ,WAAW,oBAAqB,CAjCG,mBAiCM,OAjCN,IAAjB,EAAA8gG,mBAAA,EAAAA,mBAAiB,SAChB,mBADgB,OAChB,IAAT,EAAAf,WAAA,EAAAA,WAAS,SACO,mBADP,OACO,IAAZ,EAAAl8D,cAAA,EAAAA,cAAY,SACoB,mBADpB,EACF,oBAAPtO,cAAY,KAAL,EAAPA,QAAQyqE,OAAI,EAACC,kBAAgB,YARjDY,G,GAAA,EAAAA,+B,6BCXb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,QACA,SAGA,SACA,SACA,SAEA,4B,aAUE,WAAoBv+E,EAAuBxJ,EAAkD6oB,GAAzE,KAAArf,KAAuB,KAAAxJ,YAAkD,KAAA6oB,SAG3FhrB,KAAK8oF,SAAW,yBAwBhB,IAAI,EAAI,EAAI,EAAI,EAapB,O,sCAlCS,YAAAz7E,SAAP,SAAgBA,GAkBd,OAjBArN,KAAKgqF,yBAED38E,EAAS7N,OAAOtO,SAAW,EAAAkd,YAAYtN,KAAOd,KAAK8oF,SAAStsE,KAAKnP,EAAS7N,OAAOM,OACnFE,KAAKuC,SAASkgB,OAASpV,EAAShmB,KAAKiL,GACrC0N,KAAKuC,SAASm4B,2BAA4B,EAC1C16B,KAAKuC,SAAS24B,aAAa7tB,EAAShmB,MAEhC,eAAgBgmB,EAAShmB,MAAQgmB,EAAShmB,KAAKs9B,WACjD3kB,KAAKuC,SAASm4B,2BAA4B,EACjC,gBAAiBrtB,EAAShmB,OACnC2Y,KAAKuC,SAASm4B,4BAA8BrtB,EACzChmB,KACA+iG,YACAv1F,MAAK,SAAAw1F,GAAc,OAAAA,EAAWA,aAAe,EAAAC,eAAeC,mBAI5DvqF,KAAK2L,GAAGxe,QAAQkgB,IAGlB,YAAAa,cAAP,SAAqBb,GACnB,OAAIA,EAAShf,SAAW,EAAAmf,eAAe+7E,WAAavpF,KAAK8oF,SAAStsE,KAAKnP,EAAS7N,OAAOM,MACrFE,KAAKgrB,OAAOc,GAAG,iBAER9rB,KAAK2L,GAAGxe,QAAQkgB,IAGlBrN,KAAK2L,GAAGhe,OAAO0f,IAGhB,YAAA28E,uBAAR,WACEhqF,KAAKuC,SAAWvC,KAAKmC,UAAUpY,IAAI,aA3C1BygG,EAAmB,cAH/B,EAAA7rE,YAAY,CACXt1B,OAAQ,YAuCF,EAAQ,WAAW,oBAAqB,CAhCb,mBAgCsB,OAhCtB,IAAT,EAAA+/F,WAAA,EAAAA,WAAS,SAAkD,mBAAlD,EAA4B,oBAAPxqE,cAAY,KAAL,EAAPA,QAAQyqE,OAAI,EAACC,kBAAgB,SAA8B,mBAA9B,OAA8B,IAAZ,EAAAp8D,cAAA,EAAAA,cAAY,YALtGs9D,G,GAAA,EAAAA,uB,8ECdA,EAAAF,eAAiB,CAC5BC,cAAe,kB,6BCAjB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,wBACA,SAGA,SACA,SAEA,4BACA,O,aAWE,WAAoB5+E,EAAuBxJ,EAAoD6oB,GAA3E,KAAArf,KAAuB,KAAAxJ,YAAoD,KAAA6oB,SAG7FhrB,KAAK8oF,SAAW,4BAahB,IAAI,EAAI,EAAI,EAAI,EAcpB,O,sCAxBS,YAAAz7E,SAAP,SAAgBA,GAOd,OANArN,KAAKgqF,yBAED38E,EAAS7N,OAAOtO,SAAW,EAAAkd,YAAYtN,KAAOd,KAAK8oF,SAAStsE,KAAKnP,EAAS7N,OAAOM,OACnFE,KAAKuC,SAASq4B,UAAW,GAGpB56B,KAAK2L,GAAGxe,QAAQkgB,IAGlB,YAAAa,cAAP,SAAqBb,GAQnB,OAPArN,KAAKgqF,yBAED38E,EAAShf,SAAW,EAAAmf,eAAey8E,WAAajqF,KAAK8oF,SAAStsE,KAAKnP,EAAS7N,OAAOM,OACrFE,KAAKuC,SAASq4B,UAAW,EACzB56B,KAAKgrB,OAAOc,GAAG,cAGV9rB,KAAK2L,GAAGhe,OAAO0f,IAGhB,YAAA28E,uBAAR,WACEhqF,KAAKuC,SAAWvC,KAAKmC,UAAUpY,IAAI,aAjC1B0gG,EAA0B,cAHtC,EAAA9rE,YAAY,CACXt1B,OAAQ,YA4BF,EAAQ,WAAW,oBAAqB,CArBb,mBAqBsB,OArBtB,IAAT,EAAA+/F,WAAA,EAAAA,WAAS,SAAkD,mBAAlD,OAA4B,IAAP,gBAAY,KAAL,EAAP,UAAQC,OAAI,EAACC,kBAAgB,SAAgC,mBAAhC,OAAgC,IAAZ,EAAAp8D,cAAA,EAAAA,cAAY,YALxGu9D,G,GAAA,EAAAA,8B,yFCTb,SACA,SACA,2BAEA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAEa,EAAA9sB,qBAAuB/+C,QACjCv1B,OAAO,uBAAwB,CAC9B,EAAAk3D,aACA,EAAAmqC,4BACA,YAED7zF,UAAU,oBAAqB,EAAA8zF,4BAC/B9zF,UAAU,0BAA2B,EAAA+zF,kCACrC/zF,UAAU,gBAAiB,EAAAg0F,wBAC3Bh0F,UAAU,kBAAmB,EAAAi0F,iBAC7Bj0F,UAAU,mBAAoB,EAAAk0F,2BAC9Bl0F,UAAU,aAAc,EAAAitE,YACxBjtE,UAAU,oBAAqB,EAAAm0F,mBAC/Bn0F,UAAU,+BAAgC,EAAAo0F,uCAC1Cp0F,UAAU,iBAAkB,EAAAq0F,yBAC5Br0F,UAAU,wBAAyB,EAAAs0F,gCACnCt0F,UAAU,sBAAuB,EAAAu0F,8BACjCv0F,UAAU,uBAAwB,EAAAw0F,+BAClCx0F,UAAU,iCAAkC,EAAAy0F,yCAC5ChyF,QAAQ,0BAA2B,EAAAiyF,yBACnCjyF,QAAQ,kBAAmB,EAAAwF,iBAC3BxF,QAAQ,iBAAkB,EAAAkyF,gBAC1BlyF,QAAQ,wBAAyB,EAAAmyF,uBACjCnyF,QAAQ,8BAA+B,EAAAoyF,6BACvCpyF,QAAQ,2BAA4B,EAAAqyF,0BACpCryF,QAAQ,uCAAwC,EAAAsyF,sCAChDpsF,OAAO,EAAAC,cACP/V,M,yFCvDH,2BACA,4BAEA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SAEa,EAAAghG,4BAA8B9rE,QACxCv1B,OAAO,8BAA+B,CACrC,UACA,YAEDwN,UAAU,yBAA0B,EAAAg1F,wBACpCh1F,UAAU,gBAAiB,EAAAi1F,eAC3Bj1F,UAAU,iBAAkB,EAAAk1F,yBAC5Bl1F,UAAU,cAAe,EAAAm1F,sBACzBn1F,UAAU,mBAAoB,EAAAo1F,2BAC9Bp1F,UAAU,wBAAyB,EAAAq1F,gBACnCr1F,UAAU,2BAA4B,EAAAs1F,0BACtCt1F,UAAU,iCAAkC,EAAAu1F,wBAC5Cv1F,UAAU,wBAAyB,EAAAw1F,gCACnCx1F,UAAU,0BAA2B,EAAAy1F,yBACrC9sF,OAAO,EAAA+sF,mCACP7iG,M,gFC9BU,EAAAmiG,uBAAyB,CACpCz1F,SAAU,CACRo2F,UAAW,IACXlmD,QAAS,KAEXnD,SAAU,wU,8ECLZ,aAEa,EAAA2oD,cAAgB,CAC3B11F,SAAU,CACRs6B,OAAQ,IACRijC,iBAAkB,KAEpBtkC,YAAa,wGACb74B,WAAY,EAAAi2F,oB,6BCRd,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAtD,Y,aAGE,WAAYp7D,EAAYrG,GAGtBhrB,KAAKqxB,WAAaA,EAClBrxB,KAAKgrB,OAASA,EAiBlB,O,kCAdE,YAAAkS,QAAA,WACEl9B,KAAKqxB,WAAWI,MACd,EAAAh6B,OAAOi1F,kDAIX,YAAAC,iBAAA,WACE3sF,KAAK2zD,iBAAiBt6C,MAAQrZ,KAAK2zD,iBAAiBt6C,MAGtD,YAAAuzE,gBAAA,WACE5sF,KAAKgrB,OAAOc,GAAG,0BAA2B,CAAE4E,OAAQ,OACpD1wB,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOo1F,4BAEjC,E,GAtBa,EAAAJ,qB,8ECFb,iBASE,aAGEzsF,KAAK0wB,OAAS,KACd1wB,KAAKm0D,eAAiB,KAO1B,OAJE,YAAA24B,wBAAA,WACE9sF,KAAKm0D,eAAiBn0D,KAAK0wB,OAC3B1wB,KAAK+sF,SAAS,CAAE54B,eAAgBn0D,KAAKm0D,kBAjBhC,EAAA/9D,SAAW,CAChBs6B,OAAQ,IACRyjC,eAAgB,IAChB44B,SAAU,KAEL,EAAAv2F,WAAau1F,EACb,EAAA18D,YAAc,oGAavB,EApBA,GAAa,EAAA08D,2B,6BCAb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QACA,SACA,O,cASE,WAAY16D,EAAYrG,EAAQrpB,EAAWY,EAAUF,EAAM4qB,GAA3D,MAGE,cAAO,KAKH,OAJJ,EAAKoE,WAAaA,EAClB,EAAKrG,OAASA,EACd,EAAKrpB,UAAYA,EACjB,EAAKY,SAAWA,EAChB,EAAKF,KAAOA,EACZ,EAAK4qB,mBAAqBA,EAC1B,EAAK8nB,QAAU,GACf,EAAKof,eAAiB,KACtB,EAAK64B,cAAgB,CAAE16F,IAAK,EAAG26F,uBAAwB,EAAAhhG,eAAe,iBAJ3D,EAkEf,O,qFAjF0C,iBAsBxC,YAAAixC,QAAA,sBACEl9B,KAAKktF,WAAa,IAAIC,IAEtBntF,KAAK+0C,QAAQrgD,SAAQ,SAACg8B,GACpB,EAAKw8D,WAAWz/F,IAAIijC,EAAOp+B,GAAIo+B,MAGjC1wB,KAAKwL,YAAYrjB,KAAK6X,KAAKqxB,WAAW8L,IACpC,EAAA1lC,OAAOi1F,iDACP,WACE,EAAK/qF,UACFyV,GACArC,uCACC,EAAK1S,KAAKrU,iBACV,EAAKuU,SAASkgB,QAEflW,MAAK,SAACwoC,GAAY,SAAKq4C,yBAAyBr4C,UAIvD/0C,KAAKwL,YAAYrjB,KAAK6X,KAAKqxB,WAAW8L,IACpC,EAAA1lC,OAAOo1F,2BACP,WAAM,OAAC,EAAK14B,eAAiB,SAG/Bn0D,KAAKwL,YAAYrjB,KAAK6X,KAAKqxB,WAAW8L,IACpC,EAAA1lC,OAAO41F,yBACP,SAACvlF,EAAOqsD,GAAmB,OAAC,EAAKA,eAAiBA,MAIpDn0D,KAAKqxB,WAAWI,MACd,EAAAh6B,OAAOi1F,kDAIX,YAAAU,yBAAA,SAAyBr4C,GAAzB,WACEA,EAAQrgD,SAAQ,SAACg8B,GACX,EAAKw8D,WAAWI,IAAI58D,EAAOp+B,MAC7B,EAAK46F,WAAWnjG,IAAI2mC,EAAOp+B,IAAIi7F,aAAe78D,EAAO68D,kBAK3D,YAAAC,kBAAA,SAAkBr5B,GAChBn0D,KAAKm0D,eAAiBA,GAEK,IAAvBA,EAAe7hE,GACjB0N,KAAKgrB,OAAOc,GAAG,2CAA4C,CACzD2hE,mBAAoBztF,KAAK+0C,UAG3B/0C,KAAKgrB,OAAOc,GAAG,+DAAgE,CAC7E4E,OAAQyjC,EACRl4B,QAASj8B,KAAKuC,SACdsqB,YAAa,IACZ,CAAEyR,QAAQ,KA7EV,EAAAloC,SAAW,CAAE2+C,QAAS,KAEtB,EAAAv+C,WAAaw1F,EAEb,EAAA38D,YAAc,kFA4EvB,E,CAjF0C,EAAA3jB,oBAA7B,EAAAsgF,wB,8ECJb,+BAEA,OADS,EAAA38D,YAAc,wGACvB,EAFA,GAAa,EAAA48D,6B,6BCAb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,SACA,QAEA,yBAEa,EAAAC,eAAiB,CAC5B91F,SAAU,CACRka,YAAa,IACbogB,OAAQ,KAEVrB,YAAa,yG,sBAEX,WAAYrE,EAAQC,EAAcyiE,EAAS9hF,EAAUqhB,EAAoBlJ,GAEvE/jB,KAAK2tF,kBAAoB,4CACzB3tF,KAAKgrB,OAASA,EACdhrB,KAAKirB,aAAeA,EACpBjrB,KAAK0tF,QAAUA,EACf1tF,KAAK4L,SAAWA,EAChB5L,KAAKitB,mBAAqBA,EAC1BjtB,KAAK+jB,oBAAsBA,EAC3B/jB,KAAK4tF,cAAgB,GACrB5tF,KAAK6tF,SAAW,EAAArvF,aAAamkB,WAC7B3iB,KAAKsQ,YAAc,GACnBtQ,KAAK0wB,OAAS,KAoElB,O,oGAjEE,YAAAwM,QAAA,WACEl9B,KAAK4tF,cAAgB5tF,KAAK+jB,oBAAoBf,gBAAgBhjB,KAAK2tF,mBACnE3tF,KAAK6tF,SAAW7tF,KAAK4tF,cAAc/4F,MAAK,SAAA4uB,GAAoB,OAAAA,EAAiB5e,WAC1E+d,UAAUC,MAGf,YAAA8pE,iBAAA,SAAiB3vF,GACfA,EAAWqc,MAAQrc,EAAWqc,MAGhC,YAAAy0E,4BAAA,SAA4B9wF,GAC1B,IAAM6vB,EAAW,WACZ7sB,KAAKirB,aAAa4B,YAAW,CAChC,IAAI,EAAAxN,WACFrf,KAAK0wB,OAAOu8D,uBACZjtF,KAAKitB,mBAAmBtB,sBAI5B3rB,KAAKgrB,OAAOc,GACV,2EACA,CACE9uB,WAAU,EACV6vB,YAAW,EACX6D,OAAQ1wB,KAAK0wB,OACbnd,UAAWvW,EAAWuW,aAK5B,YAAAw6E,gBAAA,SAAgBC,GACdhuF,KAAK4tF,cAAcl5F,SAAQ,SAACu5F,GAC1BnmG,OAAO0P,OAAOy2F,EAAU,CAAEppF,SAAS,OAErC/c,OAAO0P,OAAOw2F,EAAiB,CAAEnpF,SAAS,IAC1C7E,KAAK+jB,oBAAoBR,iBAAiBvjB,KAAK2tF,kBAAmB3tF,KAAK4tF,eACvE5tF,KAAK6tF,SAAWG,EAAgBprE,UAAUC,MAG5C,YAAAqrE,eAAA,SAAet4F,GACb,OAAOoK,KAAK6tF,WAAa,EAAArvF,aAAaukB,mBAAoB,GAAGntB,GAAQsrC,OAAOr5C,QAG9E,YAAAsmG,qBAAA,SAAqBtjE,GACnB,OAAO7qB,KAAK6tF,WAAa,EAAArvF,aAAamkB,aACpC,GAAG3iB,KAAK0tF,QAAQ,sBAAb1tF,CAAoC6qB,IAAeqW,OAAOr5C,QAGjE,YAAAqzE,UAAA,WACEl7D,KAAKouF,uBAAsB,IAG7B,YAAAC,YAAA,WACEruF,KAAKouF,uBAAsB,IAG7B,YAAAA,sBAAA,SAAsBh/F,GAAtB,WACE4Q,KAAK4L,UAAS,WACZ,EAAK0E,YAAc,EAAKA,YAAYtgB,KAAI,SAACgN,GAGvC,OAFAA,EAAWqc,KAAOjqB,EAEX4N,OAER,IAEP,E,oDC5FF,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAtD,YAEa,EAAAmvF,yBAA2B,CACtC/1F,SAAU,CACR4G,WAAY,IACZtK,WAAY,IACZ6gB,UAAW,IACX+6E,qBAAsB,IACtBC,gBAAiB,IACjBC,0BAA2B,IAC3BhC,UAAW,IACXiC,4BAA6B,IAC7BC,kBAAmB,IACnBC,oBAAqB,K,sBAGrB,WAAYt9D,EAAY1vB,EAAWY,GAEjCvC,KAAKqxB,WAAaA,EAClBrxB,KAAK2B,UAAYA,EACjB3B,KAAKuC,SAAWA,EAuBpB,O,gDApBE,sBAAI,6BAAc,CAAV,IAAR,WACE,QAASvC,KAAKhD,WAAW2d,UACvB3a,KAAKhD,WAAWwpB,OAChBxmB,KAAKhD,WAAWkhF,gBAChBl+E,KAAKhD,WAAW4xF,cAChB5uF,KAAKhD,WAAW8d,kBAEZ,YAAY,EACZ,cAAc,IAAtB,YAAA+zE,qBAAA,SAAqBC,GAArB,WACE9uF,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,qBAC7BhhE,KAAK2B,UAAUyV,GACZ3D,2BACCzT,KAAKuC,SAASkgB,OACdziB,KAAKuT,UAAUjhB,GACfw8F,GAEDpiF,SAAQ,WACP,EAAK2kB,WAAWI,MAAM,EAAAh6B,OAAOwpE,mCAGrC,E,GACA99B,SAAU,i1B,6BC5CZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,SACA,4BACA,SACA,SAEa,EAAAipD,uBAAyB,CACpCh2F,SAAU,CACRka,YAAa,IACb/b,YAAa,IACbgf,UAAW,sBAEb8b,YAAa,sI,uBAGX,WAAYvwB,EAAiBo9B,EAAQjR,EAAcD,EAAQpf,EAAU4W,GAArE,MAGE,YAAM0Z,EAAQjR,EAAcD,EAAQxI,IAAoB,KAgBlD,OAdN,EAAK5W,SAAWA,EAChB,EAAK9M,gBAAkBA,EACvB,EAAKy/B,YAAc,mCACnB,EAAKzd,QAAU,CACb,CACE+b,MAAO,EAAAC,sBAAsBC,KAC7B7/B,KAAM,EAAAkJ,eAAe+a,UACrBj1B,MAAO,sCAET,CACE2wC,MAAO,EAAAC,sBAAsBC,KAC7B7/B,KAAM,EAAAkJ,eAAe6a,oBACrB/0B,MAAO,0CAEE,EAuDjB,O,gGA5E0B,iBAwBxB,YAAAgxC,QAAA,sBACE,YAAMA,QAAO,WACb,IAAM6xD,EAAyB/uF,KAAKsQ,YAAYzb,MAAK,SAAAm6F,GACnD,OAAAA,EAAUlQ,aAAah0D,cAEzB9qB,KAAKivF,qBAA6CvkE,IAA3BqkE,EACvB/uF,KAAKsQ,YAActQ,KAAKzL,YAAYvE,KAAI,SAAA0C,GACtC,SAAK4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWtK,WAAWJ,KAAOI,EAAWsgB,qBAIhF,YAAA25E,iBAAA,SAAiB3vF,GAEfA,EAAWqc,MAAQrc,EAAWqc,MAGhC,YAAA61E,2BAAA,SAA2BlyF,GACzB,OAAOgD,KAAKlB,gBAAgBowF,2BAA2BlvF,KAAKzL,YAAayI,IAG3E,YAAAmyF,gBAAA,SAAgBnyF,GACd,IAAMtK,EAAasN,KAAKkvF,2BAA2BlyF,GACnD,QAAStK,KAAgBA,EAAW2oB,cAGtC,YAAA+zE,oBAAA,SAAoBpyF,GAClB,IAAMtK,EAAasN,KAAKkvF,2BAA2BlyF,GACnD,QAAStK,GAAcA,EAAWkoB,sBAAwBloB,EAAWioB,UAGvE,YAAA00E,eAAA,SAAeC,GACb,OAAOtvF,KAAKzL,YACTM,MAAK,SAAAnC,GAAc,OAAAA,EAAWsgB,gBAAkBs8E,EAAqBh9F,OAG1E,YAAA4oE,UAAA,WACEl7D,KAAKouF,uBAAsB,IAG7B,YAAAC,YAAA,WACEruF,KAAKouF,uBAAsB,IAG7B,YAAAA,sBAAA,SAAsBh/F,GAAtB,WACE4Q,KAAK4L,UAAS,WACZ,EAAK0E,YAAc,EAAKA,YAAYtgB,KAAI,SAACgN,GAGvC,OAFAA,EAAWqc,KAAOjqB,EAEX4N,OAER,IAEP,E,CA5E0B,EAAA8hC,sBA6E1BxwC,MAAK,Y,+CCzFP,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAtD,a,aAOE,WAAY08B,EAAQi7B,EAAUr6C,EAAUkjB,EAAW08D,GAGjDxrF,KAAKgrB,OAASA,EACdhrB,KAAKimD,SAAWA,EAChBjmD,KAAK4L,SAAWA,EAChB5L,KAAK8uB,UAAYA,EACjB9uB,KAAKwrF,eAAiBA,EACtBxrF,KAAKxL,SAAW,KAChBwL,KAAK+0C,QAAU,GAanB,O,wEAVE,YAAA7X,QAAA,WACE,EAAA8oB,eAAehmD,KAAK8uB,UAAW9uB,KAAK4L,SAAU5L,KAAKgrB,OAAOxwB,QAAQ9Q,KAAMsW,KAAKimD,UAEzEjmD,KAAKwrF,eAAe+D,mBACtBvvF,KAAKgrB,OAAOc,GACV9rB,KAAKwrF,eAAegE,eAAe9lG,KACnCsW,KAAKwrF,eAAegE,eAAezvF,SAtBlC,EAAA3J,SAAW,CAAE2+C,QAAS,KACtB,EAAA1lB,YAAc,kFACd,EAAA74B,WAAa61F,EAwBtB,E,GA3Ba,EAAAA,kC,6BCNb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IADtD,aACA,SAEa,EAAAE,kCAAA,kBAAoC,SAACkD,GAGhDA,EACGrgG,MAAM,0BAA2B,CAChCjC,QAAS,CACP4nD,QAAS,CAAT,uBAAS,SAACpzC,EAAWY,GAGnB,OAAOZ,EAAUyV,GAAGlE,6BAA6B3Q,EAASjQ,OAG9Do9F,MAAO,CACL,IAAK,CAAE74F,UAAW,4BAGrBzH,MAAM,2CAA4C,CACjD2Q,OAAQ,CACN0tF,mBAAoB,KACpB5gE,YAAa,IAEf1/B,QAAS,CACPsgG,mBAAoB,CAApB,eAAoB,SAACxiE,GAGnB,OAAOA,EAAawiE,oBAAsB,OAE5C14C,QAAS,CAAT,mBAAS,SAACpzC,EAAWU,GAGnB,OAAOV,EAAUyV,GAAGpC,qBAAqB3S,EAAKrU,qBAGlD0hG,MAAO,CACL,YAAa,2BAGhBtgG,MAAM,+DAAgE,CACrE2Q,OAAQ,CACN2wB,OAAQ,KACR7D,YAAa,GACboP,QAAS,MAEX9uC,QAAS,CACP8uC,QAAS,CAAT,WAAS,SAAC15B,GAGR,OAAOA,EAASy5B,eAElBtL,OAAQ,CAAR,eAAQ,SAACzF,GAGP,OAAOA,EAAayF,QAAU,OAEhCi/D,eAAgB,CAAhB,SAAgB,SAACj/D,GAGf,OAAOA,IAETpgB,YAAa,CAAb,gCAAa,SAAC3O,EAAWY,EAAUmuB,GAGjC,OAAOA,EACL/uB,EAAUyV,GACP/D,wCAAwC9Q,EAASkgB,OAAQiO,EAAOk/D,mBACnE,OAEJj8B,iBAAkB,CAAlB,gCAAkB,SAAChyD,EAAW+uB,EAAQnuB,GAGpC,OAAOmuB,EACL/uB,EAAUyV,GACPjE,8BAA8B5Q,EAASkgB,OAAQiO,EAAOk/D,mBACzD,MAGNF,MAAO,CACL,YAAa,CACX74F,UAAW,kBAEb,uEAAwE,CACtEA,UAAW,4BAIhBzH,MAAM,2EAA4E,CACjF2Q,OAAQ,CACN/C,WAAY,KACZ6vB,YAAa,GACbtZ,UAAW,KACX+pB,SAAU,EAAAhe,gBAAgB8c,SAC1Btb,QAAS,CACP,EAAA1a,eAAe+a,UACf,EAAA/a,eAAe6a,sBAGnB55B,KAAM,CACJk3C,YAAa,+CAEfpxC,QAAS,CACPiqC,oBAAqB,CAArB,eAAqB,SAACnM,GAGpB,OAAOA,EAAajuB,aAEtB6yF,kBAAmB,CAAnB,eAAmB,SAAC5kE,GAGlB,OAAOA,EAAa1X,YAEtBsW,WAAY,CAAZ,2BAAY,SAACoB,EAActpB,GAGzB,OAAOA,EAAUyV,GACdnE,8BAA8BgY,EAAayF,OAAOk/D,qBAEvDt/E,YAAa,CAAb,sCAAa,SAAC2a,EAActpB,EAAWY,GAGrC,OAAOZ,EAAUyV,GACdjH,wBAAwB5N,EAASkgB,OAAQwI,EAAa1X,UAAUjhB,MAErEiC,YAAa,CAAb,gGAAa,SAACs7F,EAAmBttF,EAAUutF,EAA6B7kE,EAAc8kE,GAGpF,IAAM/iF,EAAgB,CACpBswB,SAAUrS,EAAaqS,UAGzB,OAAOwyD,EACJE,mCAAmCztF,EAASkgB,OAAQotE,EAAkBv9F,GAAI0a,GAC1ET,MAAK,SAAA0jF,GACJ,OAAAF,EACGG,yBAAyBD,EAAwBhlE,EAAanK,cAGvE7uB,YAAa,CAAb,eAAa,SAAC6Y,GAGZ,OAAOA,EAAa6gE,2BAGxB+jB,MAAO,CACL,YAAa,CACX74F,UAAW,oBAEb,mFAAoF,CAClFA,UAAW,wC,6BCjJrB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAtD,YAEa,EAAAy1F,wBAA0B,CACrCl2F,SAAU,CACRy5F,kBAAmB,IACnBhmE,WAAY,IACZuN,oBAAqB,IACrB1G,OAAQ,KAEVrB,YAAa,8G,sBAEX,WAAYgC,EAAY+wC,GAGtBpiE,KAAKqxB,WAAaA,EAClBrxB,KAAKoiE,kBAAoBA,EA8B7B,O,6CA3BE,YAAAllC,QAAA,WACEl9B,KAAKqxB,WAAWI,MACd,EAAAh6B,OAAOi1F,kDAIX,YAAAyD,qBAAA,WACEnwF,KAAKoiE,kBAAkBt2C,GACrB,sDACA,CACE4E,OAAQ1wB,KAAK0wB,UAKnB,YAAA0/D,gBAAA,WACEpwF,KAAKoiE,kBAAkBt2C,GACrB,iEACA,CACEvY,UAAWvT,KAAK6vF,qBAKtB,YAAAlD,iBAAA,WACE3sF,KAAKo3B,oBAAoB/d,MAAQrZ,KAAKo3B,oBAAoB/d,MAE9D,E,oFC7CW,EAAAla,qBAAuB,CAClC/I,SAAU,CACRlK,MAAO,IACPs6B,MAAO,IACP6pE,SAAU,IACVC,SAAU,IACVvD,SAAU,KAEZv2F,WAAU,WAAE,cAsBZ,OArBE,YAAA+5F,YAAA,WACEvwF,KAAK+sF,SAAS,CAAEvmE,MAAOxmB,KAAKwmB,SAG9B,YAAAgqE,cAAA,WACMxwF,KAAKwmB,MAAQxmB,KAAKqwF,UAA2B,OAAfrwF,KAAKwmB,QACrCxmB,KAAKwmB,OAAS,EACdxmB,KAAKuwF,eAEY,OAAfvwF,KAAKwmB,QACPxmB,KAAKwmB,MAAQ,EACbxmB,KAAKuwF,gBAIT,YAAAE,cAAA,WACMzwF,KAAKwmB,MAAQ,IACfxmB,KAAKwmB,OAAS,EACdxmB,KAAKuwF,gBAGX,EAtBU,GAuBVptD,SAAU,43B,8EC/BC,EAAAjkC,oBAAsB,CACjC9I,SAAU,CACRlK,MAAO,IACPs6B,MAAO,IACP6pE,SAAU,KAEZltD,SAAU,8Z,6BCLZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAzC,EAAA/jC,oBAAsB,CACjChJ,SAAU,CACRka,YAAa,K,sBAGb,WAAYxF,GAGV9K,KAAK8K,aAAeA,EAoDxB,O,2BAjDE,YAAA4lF,WAAA,sBACE1wF,KAAK2wF,wBAA0B,GAEX3wF,KAAKsQ,YACtB3b,QAAO,SAAAi8F,GAAe,OAAAA,EAAY9R,aAAah0D,cAEtCp2B,SAAQ,SAACsI,GACnB,IAAM1K,EAAK0K,EAAW8hF,aAAaxsF,GAC7BL,EAAc,EAAK6Y,aAAaghE,mBAAmBx5E,GACnDu+F,EAAc5+F,EAAYE,OAAOtK,OAGvC,GAAKmV,EAAWkhF,eAAhB,CAIA,IAAMv3E,EAAS3J,EAAWkhF,eAAehzF,MAAM,EAAG2lG,GAC5CC,EAAY9zF,EAAW8hF,aAAahsC,mBAAmB5nD,MAAM,EAAG2lG,GAEtE,GAAIv+F,KAAM,EAAKq+F,wBAAyB,CACtC,IAAMtpG,EAAO,EAAKspG,wBAAwBr+F,GAC1CjL,EAAKsf,OAAS,EAAKoqF,gBAAgB1pG,EAAKsf,OAAQA,GAChDtf,EAAKypG,UAAY,EAAKC,gBAAgB1pG,EAAKypG,UAAWA,QAEtD,EAAKH,wBAAwBr+F,GAAM,CACjCqU,OAAM,EACNmqF,UAAS,EACTE,OAAQ/+F,EAAYE,OAAOnC,KAAI,SAAAw2B,GAAS,OAAAA,EAAM+pD,qBAMpDvwE,KAAK2wF,wBAA0B7oG,OAAO6e,OAAO3G,KAAK2wF,0BAGpD,YAAAI,gBAAA,SAAgBE,EAAQC,GACtB,IAAMC,EAAM,IAAI1iF,MAAMwiF,EAAOppG,QAE7B,IAAK,IAAMyK,KAAMxK,OAAO6e,OAAOsqF,GAEV,OAAfA,EAAO3+F,IAA+B,OAAf4+F,EAAO5+F,GAChC6+F,EAAI7+F,GAAM,KAEV6+F,EAAI7+F,GAAM2+F,EAAO3+F,GAAM4+F,EAAO5+F,GAGlC,OAAO6+F,GAEX,E,GAEAhuD,SAAU,mkC,6BCnEZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAEtB,QAEa,EAAAnkC,cAAgB,CAC3B5I,SAAU,CACRowB,MAAO,IACPv0B,YAAa,IACbq+F,SAAU,IACVc,cAAe,IACfC,oBAAqB,IACrBC,cAAe,IACfC,cAAe,K,sBAGf,WAAYr1D,EAAQtwB,EAAUogB,EAAUjhB,GAGtC/K,KAAKk8B,OAASA,EACdl8B,KAAK4L,SAAWA,EAChB5L,KAAKgsB,SAAWA,EAChBhsB,KAAK+K,SAAWA,EAChB/K,KAAKoxF,eAAgB,EACrBpxF,KAAKwxF,iBAAmB,UACxBxxF,KAAK89E,OAAS,CAAE3zF,OAAQ,GA8F5B,O,sDA3FE,YAAA+yC,QAAA,sBAeE,GAdAl9B,KAAKgsB,SACFo0C,IAAI,2BACJh1C,GAAG,qCAAqC,WAAM,SAAKxf,UAAS,WAC3D,EAAK6lF,cAAa,yBAAQ,EAAKA,eAAa,CAAEC,kBAAkB,UAEjEtmE,GAAG,qCAAqC,WAAM,SAAKxf,UAAS,WAC3D,EAAK6lF,cAAa,yBAAQ,EAAKA,eAAa,CAAEC,kBAAkB,UAIhE1xF,KAAKwmB,QACPxmB,KAAK89E,OAAO3zF,MAAQ6V,KAAK/N,YAAYE,OAAOs1B,WAAU,SAAAjB,GAAS,OAAAA,EAAMl0B,KAAO,EAAKk0B,MAAMl0B,OAGrF0N,KAAKoxF,cAAe,CACtBpxF,KAAK/N,YAAc2sB,QAAQm6B,KAAK/4C,KAAK/N,aACrC,IAAM,EAAY+N,KAAK/N,YAAYE,OAAO6N,KAAK/N,YAAYE,OAAOtK,OAAS,GAAGwK,MAE9E2N,KAAK/N,YAAYE,OAAOuC,SAAQ,SAAC8xB,GAC3BA,EAAMn0B,QAAU,IAElBm0B,EAAMn0B,MAAQ,EAAKm/F,qBAKzB,IAAMG,EAAU,aAAK,GAAM3xF,KAAK/N,YAAYE,OAAOnC,KAAI,SAAC7F,EAAOy9B,GAAU,OAAAA,MAEzE5nB,KAAKyxF,cAAgB,CACnBE,WAAU,EACVC,aAAa,EACb55D,OAAQ,EACR65D,kBAAkB,EAClBC,WAAW,EACXC,iBAAiB,EACjBpxB,KAAM3gE,KAAK/N,YAAYE,OAAOtK,OAAS,EACvCyoG,SAAUtwF,KAAKswF,SACfxlB,SAAU,EACV4mB,kBAAkB,EAClBM,qBAAsB,SAAC7nG,GACrB,OAAe,IAAXA,EACK,UAEF,EAAK8H,YAAYE,OAAOhI,GAAOkI,OAExC4/F,gBAAiB,SAAC9nG,GAChB,OAAe,IAAXA,EACK,UAEF,EAAK8H,YAAYE,OAAOhI,GAAOkI,OAExC65E,UAAW,SAAC/hF,EAAO+nG,EAAUC,GAC3B,OAAe,IAAXhoG,EACK,GAEQ,UAAVgoG,EACL,EAAKlgG,YAAYE,OAAOhI,GAAOomF,aAC/B,EAAKt+E,YAAYE,OAAOhI,GAAO+B,OAEnC6tD,QAAS,WACP,EAAKq4C,UAAW,GAElBz0F,SAAU,WACR,EAAK4zF,cAAc,CAAE/qE,MAAO,EAAK6rE,cAEnCC,MAAO,WACL,EAAKF,UAAW,EAChB,EAAKd,cAAc,CAAE9qE,MAAO,EAAK6rE,aACjC,EAAKtnF,SAASxE,MAAM,EAAK8qF,wBAK/B,YAAAhxB,UAAA,sBACErgE,KAAK4L,UAAS,WAAM,SAAKswB,OAAO0uC,WAAW,EAAAnzE,OAAO86F,0BAAyB,GACxEhmF,MAAK,WACJ,EAAKX,UAAS,WAAM,SAAKswB,OAAO0uC,WAAW,EAAAnzE,OAAO86F,0BAAyB,QAIjF,YAAA9pF,WAAA,WACEzI,KAAKgsB,SAASo0C,IAAI,4BAGpB,YAAAiyB,SAAA,WACE,OAA2B,IAAvBryF,KAAK89E,OAAO3zF,MACP6V,KAAK/N,YAAYE,OAAO6N,KAAK89E,OAAO3zF,OAEtC,MAEX,E,GACAg5C,SAAU,yoB,8ECpHC,EAAAlkC,UAAY,CACvBkkC,SAAU,wO,8ECDZ,YAEa,EAAApkC,kBAAoB,CAE/BokC,SAAU,2RASV3sC,WAAU,WACR,WAAY66B,GACVrxB,KAAKqxB,WAAaA,EAOtB,OAJE,YAAA6L,QAAA,WAEEl9B,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAO+6F,mDAEjC,EATU,K,6BCjBZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,6BACA,SACA,SACA,SAEa,EAAA1zF,gBAAkB,CAC7B1I,SAAU,CACRka,YAAa,IACb/b,YAAa,IACb0nC,QAAS,IACT4zD,kBAAmB,KAErBxgE,YACE,8G,uBAEA,WAAYgC,EAAY6K,EAAQtwB,EAAUqf,EAAcD,EAAQxI,EAAqB7gB,EAAW7C,GAAhG,MAGE,YAAMo9B,EAAQjR,EAAcD,EAAQxI,IAAoB,KAuBlD,OAtBN,EAAK6O,WAAaA,EAClB,EAAK6K,OAASA,EACd,EAAKtwB,SAAWA,EAChB,EAAKqf,aAAeA,EACpB,EAAKtpB,UAAYA,EACjB,EAAK7C,gBAAkBA,EACvB,EAAK2zF,eAAiB,IACtB,EAAKC,YAAa,EAClB,EAAKn0D,YAAc,mCACnB,EAAKzd,QAAU,CACb,CACE+b,MAAO,EAAAC,sBAAsBC,KAC7B7/B,KAAM,EAAAkJ,eAAe+a,UACrBj1B,MAAO,sCAET,CACE2wC,MAAO,EAAAC,sBAAsBC,KAC7B7/B,KAAM,EAAAkJ,eAAe6a,oBACrB/0B,MAAO,0CAIE,EAmIjB,O,yHA9J0B,iBA4BxB,YAAAgxC,QAAA,sBACE,YAAMA,QAAO,WACb,IAAM6xD,EAAyB/uF,KAAKsQ,YAAYzb,MAAK,SAACm6F,GACpD,OAAOA,EAAUlQ,aAAah0D,cAEhC9qB,KAAKivF,qBAA6CvkE,IAA3BqkE,EACvB/uF,KAAK0yF,WAAa1yF,KAAKirB,aAAayF,QAClC1wB,KAAKirB,aAAayF,OAAOiiE,iBAE3B3yF,KAAKsQ,YAActQ,KAAKzL,YAAYvE,KAAI,SAAA0C,GACtC,SAAK4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWtK,WAAWJ,KAAOI,EAAWsgB,qBAIhF,YAAA25E,iBAAA,SAAiB3vF,GACflV,OAAO0P,OAAOwF,EAAY,CAAEqc,MAAOrc,EAAWqc,OAE1Crc,EAAWqc,OAASrc,EAAW41F,OACjC5yF,KAAK2B,UAAUyV,GACZlB,2BACClW,KAAKi8B,QAAQ3pC,GACb0N,KAAK6vF,kBAAkBv9F,GACvB0K,GAEDuP,MAAK,WACJzkB,OAAO0P,OAAOwF,EAAY,CAAE41F,MAAM,OAGtC5yF,KAAK2B,UAAUyV,GACZL,wCACC/W,KAAKi8B,QAAQ3pC,GACb0N,KAAK6vF,kBAAkBv9F,GACvB,CAAE0gB,cAAehW,EAAWtK,WAAWJ,KAExCia,MAAK,WACJzkB,OAAO0P,OAAOwF,EAAWtK,WAAY,CAAEkgG,MAAM,SAKrD,YAAA/D,qBAAA,SAAqBC,GAArB,WACE9uF,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,qBAC7BhhE,KAAK2B,UAAUyV,GACZ3D,2BACCzT,KAAKi8B,QAAQ3pC,GACb0N,KAAK6vF,kBAAkBv9F,GACvBw8F,GAEDviF,MAAK,SAACqkF,GACL,EAAKtgF,YAAc,EAAKA,YAAYtgB,KAAI,SAACgN,GACvC,GAAIA,EAAW1K,KAAOs+F,EAAYt+F,GAAI,CAE5B,EAAAqoB,SAAU,EAAAU,aAAc,EAAA3yB,OAAxB,IAAgC,mDACxC,OAAO,EAAP,kCAAYsU,GAAe61F,GAAI,CAAE/T,aAAc9hF,EAAW8hF,eAE5D,OAAO9hF,QAGV0P,SAAQ,WACP,EAAK2kB,WAAWI,MAAM,EAAAh6B,OAAOwpE,mCAInC,YAAAiuB,2BAAA,SAA2BlyF,GACzB,OAAOgD,KAAKlB,gBAAgBowF,2BAA2BlvF,KAAKzL,YAAayI,IAG3E,YAAA81F,mBAAA,SAAmBpgG,GAAnB,WACEsN,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,qBAC7BhhE,KAAK2B,UAAUyV,GACZN,oCACC9W,KAAKi8B,QAAQ3pC,GACb0N,KAAK6vF,kBAAkBv9F,GACvBI,GAED6Z,MAAK,SAACc,GACL,EAAK9Y,YAAc,EAAKA,YAAYvE,KAAI,SAAC+iG,GACvC,GAAIA,EAAYzgG,KAAOI,EAAWJ,GAAI,CAE5B,EAAAqoB,SAAU,EAAAU,aAAc,EAAA3yB,OAAxB,IAAgC,mDACxC,OAAOZ,OAAO0P,OAAO,GAAIu7F,EAAargG,EAAYmgG,GAEpD,OAAOE,QAGVrmF,SAAQ,WAAM,SAAK2kB,WAAWI,MAAM,EAAAh6B,OAAOwpE,mCAGhD,YAAAkuB,gBAAA,SAAgBnyF,GACd,IAAMtK,EAAasN,KAAKkvF,2BAA2BlyF,GAEnD,QACKA,KAAgBA,EAAWqe,gBAC3B3oB,KAAgBA,EAAW2oB,cAIlC,YAAA+zE,oBAAA,SAAoBpyF,GAClB,IAAMtK,EAAasN,KAAKkvF,2BAA2BlyF,GAEnD,QACKA,GACDA,EAAW4d,sBACT5d,EAAW2d,YACZjoB,GAAcA,EAAWkoB,sBAAwBloB,EAAWioB,UAInE,YAAA00E,eAAA,SAAeC,GACb,OAAOtvF,KAAKzL,YACTM,MAAK,SAAAnC,GAAc,OAAAA,EAAWsgB,gBAAkBs8E,EAAqBh9F,OAG1E,YAAA4oE,UAAA,WACEl7D,KAAKouF,uBAAsB,IAG7B,YAAAC,YAAA,WACEruF,KAAKouF,uBAAsB,IAG7B,YAAAA,sBAAA,SAAsBh/F,GAAtB,WACE4Q,KAAK4L,UAAS,WACZ,EAAK0E,YAAc,EAAKA,YAAYtgB,KAAI,SAACgN,GAGvC,OAFAA,EAAWqc,KAAOjqB,EAEX4N,OAER,IAEP,E,CA9J0B,EAAA8hC,sBA+J1BxwC,MAAK,Y,gGCzKP,cAEa,EAAAuQ,iBAAmB,CAC9BzI,SAAU,CACR6lC,QAAS,IACTvL,OAAQ,IACR7G,WAAY,IACZgmE,kBAAmB,IACnBz4D,oBAAqB,KAEvB/H,YAAa,8FACb74B,WAAY,EAAAw8F,uB,6BCXd,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QACA,S,aAGE,WAAY3hE,EAAY6K,EAAQjR,EAAcD,EAAQpf,EAAUqhB,EAAoBtrB,EAAWY,GAG7FvC,KAAKqxB,WAAaA,EAClBrxB,KAAKk8B,OAASA,EACdl8B,KAAKirB,aAAeA,EACpBjrB,KAAKgrB,OAASA,EACdhrB,KAAK4L,SAAWA,EAChB5L,KAAKitB,mBAAqBA,EAC1BjtB,KAAK2B,UAAYA,EACjB3B,KAAK6sB,YAAc,GACnB7sB,KAAK6pB,WAAa,GAClB7pB,KAAKyyF,eAAiB,IACtBzyF,KAAK0yF,YAAa,EAClB1yF,KAAK+7B,UAAYx5B,EAASw5B,YA6D9B,O,iHA1DE,YAAAmB,QAAA,WACEl9B,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAO+6F,kDAE7BxyF,KAAK6sB,YAAc,WAAI7sB,KAAKirB,aAAa4B,aAAalf,OACpD,IAAI,EAAA0R,WACFrf,KAAKirB,aAAa1X,UAAU7pB,KAC5BsW,KAAKitB,mBAAmBtB,qBAI5B3rB,KAAK0yF,WAAa1yF,KAAKirB,aAAayF,QAAU1wB,KAAKirB,aAAayF,OAAOiiE,kBAGzE,YAAAxC,qBAAA,WAEEnwF,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAO+6F,kDAC7BxyF,KAAKirB,aAAa4B,YAAYk5D,MAAMj4F,UAGtC,YAAAsiG,gBAAA,WACEpwF,KAAKgrB,OAAOc,GACX9rB,KAAKgrB,OAAOxwB,QAAQ9Q,KACnBsW,KAAKizF,sBAIT,YAAAA,kBAAA,WACE,OAAOnrG,OAAO0P,OAAO,GAAIwI,KAAKirB,aAAc,CAC1C1X,UAAWvT,KAAK6vF,kBAChB5zD,QAASj8B,KAAKi8B,QACdvL,OAAQ1wB,KAAK0wB,OACb7D,YAAa7sB,KAAK6sB,YAAY3hC,MAAM,GAAI,MAI5C,YAAAyhG,iBAAA,WACE3sF,KAAKo3B,oBAAoB/d,MAAQrZ,KAAKo3B,oBAAoB/d,MAG5D,YAAAw1E,qBAAA,SAAqBC,GAArB,WACE9uF,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,qBAC7BhhE,KAAK2B,UAAUyV,GACZ9D,0CACCtT,KAAKi8B,QAAQ3pC,GACb0N,KAAK0wB,OAAOk/D,kBACZd,GAEDviF,MAAK,SAAC2mF,GACLprG,OAAO0P,OAAO07F,EAAoB,CAAE75E,KAAMy1E,EAAez1E,OAEjD,EAAAsB,SAAU,EAAAU,aAAc,EAAA3yB,OAAxB,IAAgC,mDACxC,EAAK0uC,oBAAmB,yBAAQ,EAAKA,qBAAwBy7D,MAE9DtmF,MAAK,WACJ,EAAK8kB,WAAWI,MAAM,EAAAh6B,OAAO+6F,kDAC7B,EAAKnhE,WAAWI,MAAM,EAAAh6B,OAAOwpE,mCAGrC,E,GA5Ea,EAAA+xB,wB,6BCPb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,SACA,SACA,SAEA,0B,kBAWE,WAAY3hE,EAAY6K,EAAQlR,EAAQC,EAAcrf,EAAUqhB,EAAoBtrB,EACxEpC,GADZ,MAIE,cAAO,KAWH,OAVJ,EAAK8xB,WAAaA,EAClB,EAAK6K,OAASA,EACd,EAAKlR,OAASA,EACd,EAAKC,aAAeA,EACpB,EAAKrf,SAAWA,EAChB,EAAKqhB,mBAAqBA,EAC1B,EAAKtrB,UAAYA,EACjB,EAAKpC,sBAAwBA,EAC7B,EAAK08B,QAAUhR,EAAagR,SAAW,GACvC,EAAK8Y,QAAU9pB,EAAa8pB,SAAW,GACvC,EAAK46C,eAAiB1kE,EAAayF,OACnC,EAAKijC,iBAAmB1oC,EAAa0oC,kBAAoB,GACzD,EAAK9mC,YAAc,GACnB,EAAK4lE,eAAiB,IACtB,EAAKC,YAAa,EAClB,EAAK59F,kBAAoB,KACzB,EAAKinC,UAAY,EAAKx8B,sBAAsBw8B,UAC5C,EAAKo3D,4BAA6B,EAPvB,EAiIf,O,8HAzJ6C,iBAkC3C,YAAAj2D,QAAA,WACE,IAAM9iC,EAAW,IAAI,EAAAmoB,SAASviB,KAAKozF,gCAAgC1oG,KAAKsV,OAExEA,KAAKwI,eACFrgB,KAAK6X,KAAKT,sBAAsB8zF,2BAA2Bl2E,UAAU/iB,IAGnE4F,KAAK2vF,gBAGR3vF,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAO+6F,kDAE7BxyF,KAAK6sB,YAAc,WAAI7sB,KAAKirB,aAAa4B,aAAalf,OACpD,IAAI,EAAA0R,WACFrf,KAAK2vF,eAAe1C,uBACpBjtF,KAAKitB,mBAAmBtB,sBAP5B3rB,KAAKgrB,OAAOc,GAAG,8CAYjB9rB,KAAK0yF,WAAa1yF,KAAKirB,aAAapX,kBAClC7T,KAAKirB,aAAapX,iBAAiB8+E,kBAGvC,YAAAW,aAAA,sBACMtzF,KAAK2vF,eAAeC,oBAAsB5vF,KAAK2zD,iBAAiBi8B,mBAClE5vF,KAAKgrB,OAAOc,GAAG9rB,KAAKgrB,OAAOxwB,QAAQ9Q,KAAM,CACvCgnC,OAAQ1wB,KAAK2vF,eACb97E,iBAAkB7T,KAAK2vF,eACvB9iE,YAAa7sB,KAAK6sB,YAAY3hC,MAAM,GAAI,KACvCqhB,MAAK,WACD,EAAKwvB,WAAyC,IAA5B,EAAKlP,YAAYhlC,QACtC,EAAKwpC,WAAWI,MAAM,EAAAh6B,OAAO41F,wBAAyB,EAAKsC,oBAMnE,YAAAhD,iBAAA,WACE3sF,KAAK2zD,iBAAiBt6C,MAAQrZ,KAAK2zD,iBAAiBt6C,MAGtD,YAAAw1E,qBAAA,SAAqBC,GAArB,WACE9uF,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,qBAC7BhhE,KAAK2B,UAAUyV,GACZhE,iCACCpT,KAAKi8B,QAAQ3pC,GACb0N,KAAK2vF,eAAeC,kBACpBd,GAEDviF,MAAK,SAACvP,GACLlV,OAAO0P,OAAOwF,EAAY,CAAEqc,KAAMy1E,EAAez1E,OAEzC,EAAAsB,SAAU,EAAAU,aAAc,EAAA3yB,OAAxB,IAAgC,mDACxC,EAAKirE,iBAAgB,yBAAQ,EAAKA,kBAAqBk/B,MAExDtmF,MAAK,WACJ,EAAK8kB,WAAWI,MAAM,EAAAh6B,OAAO+6F,kDAC7B,EAAKnhE,WAAWI,MAAM,EAAAh6B,OAAOwpE,mCAInC,YAAAsyB,iBAAA,WACMvzF,KAAK6sB,YAAYhlC,OAAS,EAC5BmY,KAAKirB,aAAa4B,YAAYk5D,MAAMj4F,SAEpCkS,KAAKT,sBAAsBi0F,8BAI/B,YAAAC,yBAAA,WACE,OAAOzzF,KAAKlL,kBACVkL,KAAK0zF,0BAA0B7rG,OAC/B,GAGJ,YAAA8rG,0BAAA,WACE,OAAO3zF,KAAK0zF,0BAA0B,IAGxC,YAAAA,wBAAA,sBACE,OAAO1zF,KAAKlL,kBACVhN,OACGymB,KAAKvO,KAAKlL,mBACV8Y,QAAO,SAAC8V,EAAKj5B,GAAQ,OAAAi5B,EAAI/V,OAAO,EAAK7Y,kBAAkBrK,MAAO,IACjE,IAGJ,YAAA2oG,gCAAA,SAAgCQ,GAAhC,WACE,GAAIA,EAA2B,CAC7B,IAAIC,EAA4B7zF,KAAKT,sBAAsBu0F,cACzD9zF,KAAKT,sBAAsBw0F,sBAAsBH,EAA2B5zF,KAAK+0C,UAG/E/0C,KAAK+7B,YACP83D,EAA4B7zF,KAAKT,sBAAsBy0F,4BAA4BH,IAGrF7zF,KAAKlL,kBAAoBkL,KAAKT,sBAAsB00F,gBAClDJ,QAGF7zF,KAAKmzF,4BAA6B,EAClCnzF,KAAKT,sBAAsB2N,QAAQX,MAAK,SAACkhF,GAKvC,GAJA,EAAKkC,eAAiBlC,EAAmB54F,MAAK,SAACgf,GAC7C,OAAAA,EAAiB+7E,oBAAsB,EAAKD,eAAeC,sBAGxD,EAAKD,eAAgB,CACxB,IAAM/jE,EAAY,EAAKmQ,UAAY,mDACjC,2CAEF,EAAK/Q,OAAOc,GAAGF,EAAW,CAAEqQ,QAAS,EAAKA,cAE3CvvB,SAAQ,WACT,EAAKymF,4BAA6B,MApJjC,EAAA/8F,SAAW,CAChB2+C,QAAS,IACT46C,eAAgB,IAChBh8B,iBAAkB,KAEb,EAAAn9D,WAAaoI,EACb,EAAAywB,YAAc,wFAkJvB,E,CAzJ6C,EAAA1mB,yBAAhC,EAAA/J,2B,gGCFb,cAEa,EAAAD,sBAAwB,CACnCvI,SAAU,CACR8Z,SAAU,IACVwnD,gBAAiB,KAEnBroC,YAAa,qFACb74B,WAAY,EAAA09F,mB,6BCRd,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,2BACA,Q,cAIE,WAAY7iE,EAAYzlB,EAAUof,EAAQC,EAAc1rB,GAAxD,MAGE,cAAO,KAOH,OANJ,EAAK8xB,WAAaA,EAClB,EAAKzlB,SAAWA,EAChB,EAAKof,OAASA,EACd,EAAKC,aAAeA,EACpB,EAAK1rB,sBAAwBA,EAElB,EAkEf,O,oFA7EsC,iBAYpC,YAAA29B,QAAA,sBACEl9B,KAAKm0F,sBAAwB,KACzBn0F,KAAK03D,kBACP13D,KAAKm0F,sBAAwBn0F,KAAK03D,gBAAgBplE,IAEpD0N,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAO+6F,kDAC7BxyF,KAAKwI,eAAergB,KAClB6X,KAAKqxB,WAAW+sC,QAAO,WAAM,iBAAI,EAAM,uBAAwB,SAAO,SAACniC,GACjEA,IACF,EAAKy7B,gBAAkB,UAAI,EAAM,uBAAwB,MACzD,EAAKy8B,sBAAwB,UAAI,EAAM,qBAAsB,YAMrE,YAAAC,4BAAA,SAA4Bn4D,GAC1B,IAAMrQ,EAAY5rB,KAAKgrB,OAAOxwB,QAAQ9Q,KAElC,CAAC,0BAA2B,oDAAoD0yB,SAASwP,GAC3F5rB,KAAKq0F,aAAap4D,GAElBj8B,KAAKs0F,iBAAiBr4D,IAI1B,YAAAo4D,aAAA,SAAap4D,GAAb,WACEj8B,KAAK4L,UAAS,WACZ,EAAKof,OAAOc,GAAG,mDAAoD,CAAEmQ,QAAO,IAC5E,EAAKk4D,sBAAwBl4D,EAAQ3pC,KACpC,MAGL,YAAAgiG,iBAAA,SAAiBr4D,GAAjB,WACQrQ,EAAY5rB,KAAKgrB,OAAOxwB,QAAQ9Q,KAClCw0C,EAAcp2C,OAAO0P,OAAO,GAAIwI,KAAKirB,aAAc,CAAEgR,QAAO,IAChEiC,EAActf,QAAQm6B,KAAK7a,GAE3Bl+B,KAAKu0F,wBAAwBr2D,EAAYrR,YAAaoP,GAEtDj8B,KAAK4L,UAAS,WACZ,EAAKof,OAAOc,GAAGF,EAAWsS,GACvB3xB,MAAK,WAAM,SAAKhN,sBAAsB8zF,2BAA2Bz2E,KAAK,SACtEotD,OAAM,WACL,EAAKqqB,aAAap4D,MAEtB,EAAKk4D,sBAAwBl4D,EAAQ3pC,KACpC,MAGL,YAAAiiG,wBAAA,SAAwB1nE,EAAaoP,GAArC,WACEpP,EAAYn4B,SAAQ,SAACq4B,GACf,UAAIA,EAAY,yBAAyB,IAC3CjlC,OAAO0P,OAAOu1B,EAAWj/B,OAAOiS,OAAOk8B,QAASA,GAG9ClP,EAAW7gC,QAAU,EAAK++B,aAAagR,QAAQ9rC,cACjDrI,OAAO0P,OAAOu1B,EAAY,CAAE7gC,MAAO+vC,EAAQ9rC,eAGzC,UAAI48B,EAAY,6BAA6B,IAC/C,EAAKwnE,wBAAwBxnE,EAAWj/B,OAAOiS,OAAO8sB,YAAaoP,OAI3E,E,CA/EA,OAEsCtzB,yBAAzB,EAAAurF,oB,8ECJb,cAEa,EAAAx1F,+BAAiC,CAC5CtI,SAAU,CACR2+C,QAAS,IACT7kC,SAAU,KAEZ1Z,WAAY,EAAAg+F,0BACZnlE,YAAa,oF,6BCRf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAAtB,SACA,SACA,S,cAGE,WAAY/vB,EAAuB4gC,EAA0BsY,EAAgC6pB,EAAgBD,GAA7G,MAGE,cAAO,KAWH,OAVJ,EAAK9iE,sBAAwBA,EAC7B,EAAK4gC,yBAA2BA,EAChC,EAAKsY,+BAAiCA,EACtC,EAAK6pB,eAAiBA,EACtB,EAAKD,kBAAoBA,EAGzB,EAAKlyD,SAAW,GAChB,EAAK6kC,QAAU,GACf,EAAK9Y,QAAU,KACf,EAAKznC,SAAW,KAAL,EAmDf,O,qIAlE+C,iBAkB7C,YAAA0oC,QAAA,WACEl9B,KAAKxL,SAAWwL,KAAKV,sBAAsBm1F,qBACvCz0F,KAAKV,sBAAsBo1F,yBAC7B10F,KAAKV,sBAAsBq1F,0BAClB30F,KAAKkQ,SAASroB,QACvBmY,KAAKV,sBAAsBs1F,+BAG7B50F,KAAK60F,aAGL70F,KAAK80F,YAAc90F,KAAKV,sBAAsBy1F,0BAA0B/0F,KAAKkQ,WAG/E,YAAA2kF,WAAA,sBACE70F,KAAKwL,YAAYrjB,KACf6X,KAAKV,sBAAsB01F,sDACzB,WACE,EAAK11F,sBACF21F,0BAA0B,EAAKzgG,SAAU,EAAKsgG,aAC9CvoF,MAAK,SAACuoF,GAAgB,OAAC,EAAKA,YAAcA,UAMrD,YAAAI,mCAAA,SAAmCC,GACjCn1F,KAAKV,sBAAsB41F,mCAAmCC,EAAUn1F,KAAKxL,WAG/E,YAAA4gG,+BAAA,WACEp1F,KAAKV,sBAAsB81F,kCAG7B,YAAAC,YAAA,WACE,QAASr1F,KAAKkQ,SAASroB,QAGzB,YAAAytG,cAAA,sBACQxlF,EAAW,IAAI,EAAAivB,0BAA0B,EAAAxf,4BAA4BogB,qBAC3E7vB,EAASI,SAAQ,WAAOlQ,KAAKkQ,UAC7BJ,EAAShb,kBAAiB,WAAOkL,KAAK+0C,SAEtC/0C,KAAKw4C,+BAA+BxpB,KAAKlf,GAAUvD,MAAK,SAAC0K,GACvD,EAAKipB,yBAAyBhpB,wCAAwCD,GACnE1K,MAAK,WAAM,SAAKjN,sBAAsBi2F,2BAG/C,E,CAlE+C,EAAA7pF,oBAAlC,EAAA8oF,6B,6BCTb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IADtD,YACA,SACA,U,aAIE,WAAYnjE,EAAYrG,EAAQpf,EAAUjK,EAAW6pF,EAAgBC,EACnEC,EAA6BrpF,EAAMupF,GAGnC5rF,KAAKqxB,WAAaA,EAClBrxB,KAAKgrB,OAASA,EACdhrB,KAAK4L,SAAWA,EAChB5L,KAAK2B,UAAYA,EACjB3B,KAAKwrF,eAAiBA,EACtBxrF,KAAKyrF,sBAAwBA,EAC7BzrF,KAAK0rF,4BAA8BA,EACnC1rF,KAAK4rF,qCAAuCA,EAC5C5rF,KAAKqC,KAAOA,EAqFhB,O,8KAlFE,YAAA2yF,qDAAA,SAAqD9kD,GACnD,OAAOlwC,KAAKqxB,WAAW8L,IACrB,EAAA1lC,OAAO+6F,iDACPtiD,IAIJ,YAAA+kD,0BAAA,SAA0BzgG,EAAUsgG,GAClC,OAAO90F,KAAKw1F,sBAAsBhhG,GAC/B+X,MAAK,SAACkpF,GAOL,OANAA,EAAiB/gG,SAAQ,SAACunC,GACpB64D,EAAYxH,IAAIrxD,EAAQ3pC,MAC1BwiG,EAAY/qG,IAAIkyC,EAAQ3pC,IAAIi7F,aAAetxD,EAAQsxD,iBAIhDuH,MAIb,YAAAU,sBAAA,SAAsBhhG,GACpB,OAAOwL,KAAK2B,UAAUyV,GAAGtC,wCAAwCtgB,IAGnE,YAAA0gG,mCAAA,SAAmCC,EAAU3gG,GAA7C,WACEwL,KAAKyrF,sBAAsBiK,cAAcP,EAAU3gG,GAChD+X,MAAK,SAACc,GACL,EAAKq+E,4BACF18D,KAAK,CAAEpT,KAAMvO,EAASsoF,aAAe,EAAApvC,WAAWG,cAEnD,EAAKkvC,kBAAkBvoF,EAASsoF,YAAatoF,EAASwoF,YAEvD7rB,OAAM,WACL,EAAK0hB,4BAA4B18D,KAAK,GAAI,EAAAu3B,WAAWE,UAI3D,YAAAmvC,kBAAA,SAAkBh6E,EAAMnF,GAAxB,WACEzW,KAAKyrF,sBAAsBqK,6BACzBr/E,GACA,SAACpJ,GACC,EAAKzB,UAAS,WACRyB,EAASje,QAAU,EAAA2mG,YAAYvvC,QACjC,EAAKklC,4BAA4B18D,KAAK,CAAEpT,KAAI,GAAI,EAAA2qC,WAAWC,SAE3D,EAAKklC,4BAA4B18D,KAAK,GAAI,EAAAu3B,WAAWE,aAM/D,YAAAsuC,0BAAA,SAA0B7kF,GACxB,OAAOA,EACJtC,QAAO,SAACknF,EAAa74D,GAAY,OAAA64D,EAAYrnG,IAAIwuC,EAAQ3pC,GAAI2pC,KAAU,IAAIkxD,MAGhF,YAAAyH,6BAAA,WACE50F,KAAKgrB,OAAOc,GAAG,4BAGjB,YAAA6oE,wBAAA,WACE30F,KAAKgrB,OAAOc,GACV9rB,KAAKwrF,eAAegE,eAAe9lG,KACnCsW,KAAKwrF,eAAegE,eAAezvF,SAIvC,YAAA20F,uBAAA,WACE,OAAO10F,KAAKwrF,eAAe+D,mBAG7B,YAAAkF,mBAAA,WACE,OAAOz0F,KAAKqC,KAAKrU,kBAGnB,YAAAonG,+BAAA,WACEp1F,KAAK4rF,qCAAqC58D,QAG5C,YAAAumE,kBAAA,WACEv1F,KAAKgrB,OAAOsT,UAEhB,E,GAnGa,EAAAh/B,yB,8ECJA,EAAAy2F,YAAc,CACzBC,QAAS,UACTC,QAAS,UACTC,QAAS,UACT1vC,QAAS,Y,6BCHX,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IADtD,aACA,SAEa,EAAA/mD,aAAA,kBAAe,SAACgwF,GAG3BA,EAEGrgG,MAAM,0BAA2B,CAChCjC,QAAS,CACP+iB,SAAU,CAAV,mBAAU,SAACvO,EAAWU,GAGpB,OAAOV,EAAU2P,gBAAgBjP,EAAKrU,oBAExC+mD,QAAS,CAAT,mBAAS,SAACpzC,EAAWU,GAGnB,OAAOV,EAAUyV,GAAGpC,qBAAqB3S,EAAKrU,qBAGlD0hG,MAAO,CACL,IAAK,CACH74F,UAAW,4BAIhBzH,MAAM,kCAAmC,CACxC2Q,OAAQ,CACN2wB,OAAQ,KACRuL,QAAS,KACTpoB,iBAAkB,MAEpB1mB,QAAS,CACPwiG,eAAgB,CAAhB,eAAgB,SAAC1kE,GAGf,OAAOA,EAAayF,SAEtBijC,iBAAkB,CAAlB,2BAAkB,SAAChyD,EAAWspB,GAG5B,OAAKA,EAAayF,OAIX/uB,EAAUyV,GAAGjE,8BAClB8X,EAAagR,QAAQ3pC,GACrB24B,EAAayF,OAAOk/D,mBALb,MASbF,MAAO,CACL,YAAa,CACX74F,UAAW,qBAIhBzH,MAAM,6CAA8C,CACnDsgG,MAAO,CACL,0CAA2C,CACzC74F,UAAW,gBAKhBzH,MAAM,mDAAoD,CACzD2Q,OAAQ,CACN2wB,OAAQ,KACRuL,QAAS,MAEXyzD,MAAO,CACL,YAAa,CACX74F,UAAW,4BAKhBzH,MAAM,sDAAuD,CAC5D2Q,OAAQ,CACN2wB,OAAQ,KACRuL,QAAS,KACTpoB,iBAAkB,KAClBgZ,YAAa,GACbyQ,SAAU,EAAAhe,gBAAgB8c,SAC1Btb,QAAS,CACP,EAAA1a,eAAe+a,UACf,EAAA/a,eAAe6a,sBAGnB55B,KAAM,CACJk3C,YAAa,uDAEfpxC,QAAS,CACPmjB,YAAa,CAAb,2BAAa,SAAC3O,EAAWspB,GAGvB,OAAOtpB,EAAUyV,GAAG/D,wCAClB4X,EAAagR,QAAQ3pC,GACrB24B,EAAapX,iBAAiB+7E,qBAGlCuG,+BAAgC,CAAhC,kEAAgC,SAACx0F,EAAWspB,EAAc0oC,EAAkBo8B,GAG1E,IAAM/iF,EAAgB,CACpBswB,SAAUrS,EAAaqS,UAGzB,OAAO37B,EAAUyV,GACdC,wBACC4T,EAAagR,QAAQ3pC,GACrBqhE,EAAiBi8B,kBACjB5iF,GAEDT,MAAK,SAAAhY,GACJ,OAAAw7F,EAAkBG,yBAAyB37F,EAAa02B,EAAanK,eAI7E4uE,MAAO,CACL,0CAA2C,CACzC74F,UAAW,yBAEb,8CAA+C,CAC7CA,UAAW,0BAIhBzH,MAAM,yEAA0E,CAC/E2Q,OAAQ,CACN2wB,OAAQ,KACRuL,QAAS,KACTpoB,iBAAkB,KAClBujB,oBAAqB,KACrBvK,YAAa,IAEf1/B,QAAS,CACPiqC,oBAAqB,CAArB,qDAAqB,SAAC++D,EAAgClrE,EAActf,GAGlE,IAAIyrB,EAAsBnM,EAAamM,oBAUvC,OARInM,EAAagR,QAAQ3pC,KAAO24B,EAAamM,oBAAoB5f,aAC/D4f,EAAsB++D,EACnBthG,MAAK,SAAC0iB,GACL,OAAAA,EAA8BvE,gBAC9BiY,EAAamM,oBAAoBpkB,kBAIhCokB,EAAsBzrB,EAAGxe,QAAQiqC,GAAuBzrB,EAAGhe,OAAO,QAE3Ek8B,WAAY,CAAZ,2BAAY,SAACloB,EAAWspB,GAGtB,OAAOtpB,EAAUyV,GAAGK,4BAClBwT,EAAagR,QAAQ3pC,GACrB24B,EAAapX,iBAAiB+7E,kBAC9B3kE,EAAamM,oBAAoBpkB,iBAGrCojF,mBAAoB,CAApB,2BAAoB,SAACz0F,EAAWspB,GAG9B,OAAOtpB,EACJiO,kCAAkCqb,EAAamM,oBAAoBpkB,eACnEzG,MAAK,SAAAc,GAAY,OAAAA,EAASk1E,yBAGjCmN,MAAO,CACL,YAAa,CACX74F,UAAW,6BAEb,iFAAkF,CAChFA,UAAW,uCAOhBzH,MAAM,4CAA6C,CAClD2Q,OAAQ,CACNwT,UAAW,KACXmd,OAAQ,KACRuL,QAAS,KACTpP,YAAa,IAEf1/B,QAAS,CACP8uC,QAAS,CAAT,eAAS,SAAChR,GAGR,OAAOA,EAAagR,UAEtBvL,OAAQ,CAAR,eAAQ,SAACzF,GAGP,OAAOA,EAAayF,SAEtB7G,WAAY,CAAZ,qBAAY,SAACloB,EAAW+uB,GAGtB,OAAO/uB,EAAUyV,GAAGnE,8BAA8Byd,EAAOk/D,qBAE3DC,kBAAmB,CAAnB,4BAAmB,SAAC5kE,EAAcpB,GAGhC,OAAOA,EAAWh1B,MAAK,SAAA0e,GAAa,OAAAA,EAAUjhB,KAAO24B,EAAa1X,UAAUjhB,QAE9E8kC,oBAAqB,CAArB,mDAAqB,SACnBz1B,EACAkuF,EACAn/D,EACAuL,GAIA,OAAOt6B,EAAUyV,GAAG5D,uCAClByoB,EAAQ3pC,GACRo+B,EAAOk/D,kBACPC,EAAkBv9F,OAIxBo9F,MAAO,CACL,YAAa,CACX74F,UAAW,uBAIhBzH,MAAM,iEAAkE,CACvE2Q,OAAQ,CACNwT,UAAW,KACXmd,OAAQ,KACRuL,QAAS,KACTpP,YAAa,GACbyQ,SAAU,EAAAhe,gBAAgB8c,SAC1Btb,QAAS,CACP,EAAA1a,eAAe+a,UACf,EAAA/a,eAAe6a,sBAGnB55B,KAAM,CACJk3C,YAAa,+CAEfpxC,QAAS,CACPmjB,YAAa,CAAb,0CAAa,SAAC3O,EAAWkuF,EAAmB5zD,GAG1C,OAAOt6B,EAAUyV,GAAGjH,wBAAwB8rB,EAAQ3pC,GAAIu9F,EAAkBv9F,MAE5EiC,YAAa,CAAb,+FAAa,SAACs7F,EAAmB5zD,EAAS6zD,EAA6B7kE,EAAc8kE,GAGnF,IAAM/iF,EAAgB,CACpBswB,SAAUrS,EAAaqS,UAGzB,OAAOwyD,EACJE,mCAAmC/zD,EAAQ3pC,GAAIu9F,EAAkBv9F,GAAI0a,GACrET,MAAK,SAAA0jF,GACJ,OAAAF,EACGG,yBAAyBD,EAAwBhlE,EAAanK,cAGvE7uB,YAAa,CAAb,eAAa,SAAC6Y,GAGZ,OAAOA,EAAa6gE,2BAGxB+jB,MAAO,CACL,oDAAqD,CACnD74F,UAAW,yB,6BCjRrB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,SACA,S,cAWE,WAAY0I,EAAuB82F,GAAnC,MAGE,cAAO,KAQH,OAPJ,EAAK92F,sBAAwBA,EAC7B,EAAK82F,uBAAyBA,EAC9B,EAAKzC,0BAA4B,CAAE0C,SAAU,GAAI97F,QAAS,GAAI+7F,MAAO,IACrE,EAAKxhD,QAAU,GACf,EAAKyhD,gBAAkB,GACvB,EAAK/I,mBAAqB,KAC1B,EAAKgJ,SAAU,EACf,EAAKx6D,QAAU,KACf,EAAKk2D,MAAQ,GACb,EAAK5rB,QAAS,EACd,EAAKxqC,UAAY,EAAKx8B,sBAAsBw8B,UAC5C,EAAKvwB,YAAYrjB,KACf,EAAKkuG,uBAAuBK,iBACzBv5E,UAAU,IAAI,EAAAoF,SAAS,EAAKo0E,wBAAwBjsG,KAAK,MANnD,EAyGf,O,6DA7HoD,iBA8BlD,YAAAwyC,QAAA,sBACOl9B,KAAKw2F,gBAAgB3uG,QACxBmY,KAAKq2F,uBAAuBtsG,MAG9BiW,KAAKi8B,QAAUj8B,KAAKT,sBAAsBq3F,oBAE1C52F,KAAKT,sBAAsBs3F,oBAAoB72F,KAAKi8B,SACjD1vB,MAAK,SAAC0vB,GAAY,OAAC,EAAKA,QAAUA,KAClCvvB,SAAQ,WACH,EAAK+gF,qBACP,EAAKgJ,SAAU,MAIhBz2F,KAAKytF,oBAoBRztF,KAAKytF,mBAAqBztF,KAAKT,sBAC5Bw0F,sBAAsB/zF,KAAKytF,mBAAoBztF,KAAK+0C,SAEvD/0C,KAAKytF,mBAAqBztF,KAAKT,sBAC5Bu0F,cAAc9zF,KAAKytF,oBAEtBztF,KAAK4zF,0BAA4B5zF,KAAKT,sBACnC00F,gBAAgBj0F,KAAKytF,qBA1BxBztF,KAAKT,sBAAsB2N,QACxBX,MAAK,SAAAqnF,GACJ,SAAKr0F,sBAAsBw0F,sBACzBH,EACA,EAAK7+C,YAGRxoC,MAAK,SAAAqnF,GACJ,SAAKr0F,sBAAsBu0F,cAAcF,MAE1CrnF,MAAK,SAAAqnF,GACJ,SAAKr0F,sBAAsB00F,gBAAgBL,MAE5CrnF,MACC,SAAAqnF,GACE,OAAC,EAAKA,0BAA4BA,KAErClnF,SAAQ,WAAM,OAAC,EAAK+pF,SAAU,MAarC,YAAAK,iBAAA,SAAiB7zD,GACf,IAAM57C,EAAO,CACXszB,SAAUsoB,EAAO94C,MACjBywB,mBAAoBqoB,EAAO8zD,aAE7B/2F,KAAKg3F,cAAc3vG,IAGrB,YAAA4vG,oBAAA,SAAoBh0D,GAClB,IAAM57C,EAAO,CAAEiL,GAAI0N,KAAKi8B,QAAQ3pC,GAAI+oB,aAAc4nB,EAAO94C,OACzD6V,KAAKg3F,cAAc3vG,IAGrB,YAAA2vG,cAAA,SAAc3vG,GAAd,WACE2Y,KAAKT,sBAAsB4S,qBAAqBnS,KAAKi8B,QAAQ3pC,GAAIjL,GAC9DklB,MAAK,SAAC0vB,GAAY,SAAK18B,sBAAsB23F,2BAA2Bj7D,MACxE1vB,MAAK,SAAC0vB,GAEG,EAAAthB,SAAU,EAAAU,aAAc,EAAA3yB,OAAxB,IAAgC,mDACxC,EAAKuzC,QAAO,yBACP,EAAKA,SACL42D,OAKX,YAAAsE,oBAAA,WACE,OAAOn3F,KAAKT,sBAAsB63F,cAChCp3F,KAAK4zF,0BAA0Bp5F,UAInC,YAAAy4C,MAAA,WACEjzC,KAAKT,sBAAsBi0F,8BAG7B,YAAA6D,mBAAA,sBACEr3F,KAAKT,sBAAsB+3F,6BAA6Bt3F,KAAKi8B,SAAS1vB,MACpE,SAAA0vB,GAAW,SAAK+6D,cAAc/6D,OAIlC,YAAA06D,wBAAA,SAAwBH,GACtBx2F,KAAKw2F,gBAAkBA,GAGzB,YAAAe,eAAA,WACE,OAAQv3F,KAAK+7B,YAAc/7B,KAAKi8B,QAAQthB,UA1HnC,EAAAvkB,SAAW,CAChB2+C,QAAS,IACT04C,mBAAoB,MAEf,EAAAj3F,WAAa6I,EACb,EAAAgwB,YACL,sGAsHJ,E,CA7HoD,EAAA3jB,oBAAvC,EAAArM,kC,6BCFb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,2BACA,QACA,S,aAiBE,WAAYgyB,EAAYrG,EAAQC,EAActf,EAAIhK,EAAWgqF,EAA0BppF,GAGrFvC,KAAKqxB,WAAaA,EAClBrxB,KAAKgrB,OAASA,EACdhrB,KAAKirB,aAAeA,EACpBjrB,KAAK2L,GAAKA,EACV3L,KAAK2B,UAAYA,EACjB3B,KAAK2rF,yBAA2BA,EAChC3rF,KAAKuC,SAAWA,EAChBvC,KAAK+7B,UAAY/7B,KAAKuC,SAASw5B,YAC/B/7B,KAAKqzF,2BAA6B,IAAI,EAAA5kE,iBAAiB,MA6K3D,O,wGA1KE,YAAAvhB,MAAA,SAAM+uB,GAAN,WACE,YADI,IAAAA,MAAUj8B,KAAK42F,qBACZ52F,KAAK2B,UAAUyV,GACnBlE,6BAA6B+oB,EAAQ3pC,IACrCia,MAAK,SAACc,GAGL,OAFA,EAAKgmF,2BAA2Bz2E,KAAKvP,GAE9BA,MAIb,YAAAs0B,OAAA,SAAO1F,EAASu7D,GAAhB,WAOE,OANIA,EAAgB5I,cAAgB4I,EAAgB5I,aAAat8F,KAC/DklG,EAAgB5I,aAAe4I,EAAgB5I,aAAat8F,IAG9D0N,KAAKy3F,sBAEEz3F,KAAK2B,UAAUyV,GACnBhE,iCACC6oB,EAAQ3pC,GACRklG,EAAgB5H,kBAChB4H,GAEDjrF,MAAK,SAACc,GAEL,OADA,EAAKqqF,mBACErqF,MAIb,YAAAupF,kBAAA,WACE,OAAO52F,KAAK+7B,UAAY/7B,KAAKirB,aAAagR,QAAUj8B,KAAKuC,SAASy5B,cAGpE,YAAA+3D,sBAAA,SAAsBH,EAAgC7+C,GACpD,YADoB,IAAA6+C,MAAA,SAAgC,IAAA7+C,MAAA,IAC9C6+C,EAA0B/rG,QAAYktD,EAAQltD,OAC3C+rG,EAA0B5jG,KAAI,SAACy9F,GACpC,IAAMkK,IAAkB5iD,EAAQlgD,MAC9B,SAAA67B,GAAU,OAAAA,EAAOp+B,KAAOm7F,EAAmBmC,qBAG7C,OAAO9nG,OAAO0P,OAAO,GAAIi2F,EAAoB,CAC3CkK,cAAa,OAKZ/D,GAGT,YAAAE,cAAA,SAAcF,GACZ,YADY,IAAAA,MAAA,IACRA,EAA0B/rG,OACrB+rG,EAA0B5jG,KAAI,SAACy9F,GACpC,OAAO3lG,OAAO0P,OAAO,GAAIi2F,EAAoB,CAC3CmK,SAAS,OAKRhE,GAGT,YAAAK,gBAAA,SAAgBL,GAKd,MAAO,CAAE0C,SAJQt2F,KAAK63F,eAAejE,GAIlBp5F,QAHHwF,KAAK83F,mBAAmBlE,GAGZ2C,MAFdv2F,KAAK+3F,iBAAiBnE,KAKtC,YAAAkE,mBAAA,SAAmBlE,GACjB,OAAOA,EAA0Bj/F,QAC/B,SAAAqjG,GACE,OAACA,EAAyBC,sBAAsB3B,UAChD0B,EAAyBL,kBAI/B,YAAAI,iBAAA,SAAiBnE,GACf,OAAOA,EAA0Bj/F,QAC/B,SAAAqjG,GACE,OAACA,EAAyBC,sBAAsB3B,WAC/C0B,EAAyBL,kBAIhC,YAAAE,eAAA,SAAejE,GACb,OAAOA,EAA0Bj/F,QAC/B,SAAAqjG,GACE,OAAAA,EAAyBC,sBAAsB3B,aAIrD,YAAAc,cAAA,SAAcxD,GACZ,YADY,IAAAA,MAAA,IACLA,EAA0B/rG,OAC7B+rG,EAA0B,GAAGqE,sBAAsBvuG,KACnD,IAGN,YAAAsqG,4BAAA,SAA4BJ,GAC1B,OAAOA,EAA0Bj/F,QAAO,SAACqjG,GACvC,OAAAA,EAAyBrF,kBAAoBqF,EAAyBE,qBAAuBF,EAAyBG,cAI1H,YAAA3E,2BAAA,WACQ,iDAAC5nE,EAAA,KAAW,WAElB5rB,KAAKgrB,OAAOc,GACVF,EACArsB,EAAsB64F,0BAA0Br4F,SAIpD,YAAAs4F,kBAAA,SAAkBt4F,GAChB,IAAM6rB,EAAY,GAAG5rB,KAAKs4F,iBAAmB/4F,EAAsBg5F,qBAAqB7uG,KACxFsW,KAAKgrB,OAAOc,GAAGF,EAAW7rB,IAG5B,YAAAu4F,eAAA,WACE,OAAOt4F,KAAK+7B,UACVx8B,EAAsBi5F,aAAaC,QAAUl5F,EAAsBi5F,aAAav8D,SAGpF,YAAA46D,oBAAA,SAAoB56D,GAApB,WACE,YADkB,IAAAA,MAAUj8B,KAAK42F,qBAC1B52F,KAAK04F,oBAAoBz8D,EAAQ3pC,IACrCia,MACC,SAAAosF,GAAkB,OAAA7wG,OAAO0P,OAAO,GAAIykC,EAAS08D,MAE9CpsF,MAAK,SAAAqsF,GAAmB,SAAK1B,2BAA2B0B,MACxD5uB,OAAM,WAAM,OAAA/tC,MAGjB,YAAAi7D,2BAAA,SAA2Bj7D,GACzB,IAAI48D,EAAa,KAUjB,OARI74F,KAAK+7B,UACP88D,EAAa,UAAO58D,EAAQjV,oBAAoB8xE,QAAQ78D,EAAQhV,wBAC5DgV,EAAQjV,mBACRiV,EAAQhV,uBACHgV,EAAQjV,qBACjB6xE,EAAa58D,EAAQjV,oBAGhBl/B,OAAO0P,OAAO,GAAIykC,EAAS,CAAE88D,YAAaF,KAGnD,YAAAH,oBAAA,SAAoBtoF,GAClB,OAAOpQ,KAAK2B,UAAUuQ,kBAAkB9B,IAG1C,YAAA+B,qBAAA,SAAqB/B,EAAW/oB,GAAhC,WAEE,OADA2Y,KAAKy3F,sBACEz3F,KAAK2B,UAAUwQ,qBAAqB/B,EAAW/oB,GACnDklB,MAAK,SAAAc,GAEJ,OADA,EAAKqqF,mBACErqF,MAIb,YAAAiqF,6BAAA,SAA6Br7D,GAC3B,OAAOj8B,KAAK2rF,yBAAyB38D,KAAK,CAAEiN,QAAO,KAGrD,YAAAw7D,oBAAA,WACEz3F,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,sBAG/B,YAAA02B,iBAAA,WACE13F,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOwpE,gCApMxB,EAAAu3B,aAAe,CACpBv8D,QAAS,2CACTw8D,QAAS,mCAGJ,EAAAL,0BAA4B,CACjC1uG,KAAM,GACNqW,OAAQ,IAGH,EAAAw4F,qBAAuB,CAC5B7uG,KAAM,wBA2LV,E,GAvMa,EAAA6V,yB,6BCHb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,OACA,SACA,SACA,SACA,QACA,QACA,wBACA,6BACA,4B,aAiBE,WAAoBy5F,EAA+D/rE,EAC/DhC,EAAmCD,GADnC,KAAAguE,4BAA+D,KAAA/rE,qBAC/D,KAAAhC,eAAmC,KAAAD,SAIrDhrB,KAAKm2F,+BAAiC,GACtCn2F,KAAKo3B,oBAAsB,KAC3Bp3B,KAAK6sB,YAAc,GACnB7sB,KAAK+wB,WAAa,GAgBlB,IAAI,EAAI,EAAI,EAAI,EAAI,EAyBxB,O,qFAtCS,YAAAmM,QAAP,WACEl9B,KAAKi5F,oBACLj5F,KAAK+wB,WAAa/wB,KAAKirB,aAAayF,OAAOu8D,wBAGtC,YAAAiM,iBAAP,WACEl5F,KAAKirB,aAAa4B,YAAYk5D,MAAMj4F,UAG/B,YAAAqrG,aAAP,WACEn5F,KAAKo3B,oBAAoBgiE,QAAS,GAG7B,YAAAC,4BAAP,WACEr5F,KAAKgrB,OAAOc,GACV9rB,KAAKgrB,OAAOxwB,QAAQ9Q,KACpB5B,OAAO0P,OAAO,GAAIwI,KAAKirB,aAAc,CAAEmM,oBAAqBp3B,KAAKo3B,wBAI9D,YAAAkiE,gBAAP,SAAuBC,GAAvB,WACEv5F,KAAKg5F,0BACFQ,oCAAoCD,EAA4Bv5F,KAAKirB,aAAayF,OAAOk/D,mBACzFrjF,MAAK,SAACktF,GAEG,EAAA9+E,SAAU,EAAAU,aAAc,EAAA3yB,OAAxB,IAAgC,mDACxC,EAAK0uC,oBAAmB,yBAAQ,EAAKA,qBAAwBy7D,OAI3D,YAAAoG,kBAAR,WACEj5F,KAAK6sB,YAAc,WAAI7sB,KAAKirB,aAAa4B,aAAalf,OACpD,IAAI,EAAA0R,WACFrf,KAAKo3B,oBAAoBsiE,iBACzB15F,KAAKitB,mBAAmBtB,sBApD9B,cADC,EAAA50B,QAmCK,EAAQ,WAAW,cAAe,QACnC,EAAmC,UAAW,sCAAkC,GAjCrF,cADC,EAAAA,QAqCK,EAAQ,WAAW,cApCiC,mBAoCV,OApCU,IAA9B,EAAA4iG,gCAAA,EAAAA,gCAA8B,WAqCrD,EAAmC,UAAW,2BAAuB,GAzC/DC,EAAkC,cAN9C,EAAA9jG,UAAU,CACTzM,OAAQ,UACR6M,SAAU,8BACVitC,SAAU,UACV70C,MAAO,YAmDD,EAAQ,WAAW,oBAAqB,CAxC2B,mBAwClB,OAxCkB,IAA1B,EAAAurG,4BAAA,EAAAA,4BAA0B,SAAiD,mBAAjD,OAAiD,IAAnB,EAAAp4B,qBAAA,EAAAA,qBAAmB,SAC7E,mBAD6E,OAC7E,IAAX,EAAAt0C,aAAA,EAAAA,aAAW,SAA8B,mBAA9B,OAA8B,IAAZ,EAAAD,cAAA,EAAAA,cAAY,YAVhE0sE,G,GAAA,EAAAA,sC,+CChBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,QAEA,SACA,SACA,QACA,QACA,wBACA,6BACA,4B,aAoBE,WAAoBE,EAA2F/1E,EAC3FnY,GADA,KAAAkuF,0CAA2F,KAAA/1E,sBAC3F,KAAAnY,WAGlB5L,KAAKo3B,oBAAsB,KAC3Bp3B,KAAK6pB,WAAa,GAClB7pB,KAAKo2F,oBAAqB,EAC1Bp2F,KAAKijB,UAAY,0CACjBjjB,KAAK+5F,aAAe,EAAAv7F,aACpBwB,KAAKg6F,iBAAmBj2E,EAAoBf,gBAAgBhjB,KAAKijB,WACjEjjB,KAAK6iB,KAAO,EAAArkB,aAAaskB,sBAiCzB,IAAI,EAAI,EAAI,EAAI,EAuBpB,O,uFArDS,YAAAoa,QAAP,WACEl9B,KAAK6iB,KAAO7iB,KAAKg6F,iBACdnlG,MAAK,SAAC4uB,GAAiD,OAAAA,EAAiB5e,WACxE+d,UAAUC,MAGR,YAAAs2E,aAAP,SAAoB5lF,GAClBA,EAAU8F,MAAO,GAGZ,YAAA4gF,mBAAP,SAA0BC,GAA1B,WACEl6F,KAAK85F,wCAAwCrmF,2BAA2BymF,GACrE3tF,MAAK,SAAC4tF,GACL,EAAKtwE,WAAa,EAAKA,WAAW75B,KAAI,SAACujB,GAE7B,EAAAoH,SAAU,EAAAU,aAAV,IAAwB,0CAChC,OAAO9H,EAAUjhB,KAAO6nG,EAAa7nG,GAAI,yBACnCihB,GAAcs/E,GAClBt/E,SAKH,YAAAw6E,gBAAP,SAAuBC,GACrBhuF,KAAKg6F,iBAAiBtlG,SAAQ,SAACu5F,GAC7BA,EAASppF,SAAU,KAErBmpF,EAAgBnpF,SAAU,EAC1B7E,KAAK+jB,oBAAoBR,iBAAiBvjB,KAAKijB,UAAWjjB,KAAKg6F,kBAC/Dh6F,KAAKo6F,WAAWpM,EAAgBprE,YAG3B,YAAAs4C,UAAP,WACEl7D,KAAKouF,uBAAsB,IAGtB,YAAAC,YAAP,WACEruF,KAAKouF,uBAAsB,IAGrB,YAAAA,sBAAR,SAA8Bh/F,GAA9B,WACE4Q,KAAK4L,UAAS,WACZ,EAAKie,WAAa,EAAKA,WAAW75B,KAAI,SAACujB,GAGrC,OAFAA,EAAU8F,KAAOjqB,EAEVmkB,OAER,IAGG,YAAA6mF,WAAR,SAAmBx3E,GACjB5iB,KAAK6iB,KAAOD,EAAUC,MA1ExB,cADC,EAAA9rB,QAyDK,EAAQ,WAAW,cAxDiC,mBAwDV,OAxDU,IAA9B,EAAA4iG,gCAAA,EAAAA,gCAA8B,WAyDrD,EAA0C,UAAW,2BAAuB,GAvDjF,cADC,EAAA5iG,QA2DK,EAAQ,WAAW,cAAe,QACnC,EAA0C,UAAW,kBAAc,GA1D/D,cAAR,EAAAA,QA6DK,EAAQ,WAAW,cAAe,UACnC,EAA0C,UAAW,0BAAsB,GAnErEsjG,EAAyC,cANrD,EAAAvkG,UAAU,CACTzM,OAAQ,UACR6M,SAAU,sCACVitC,SAAU,UACV70C,MAAO,YA6ED,EAAQ,WAAW,oBAAqB,CA/DuD,mBA+D9C,OA/D8C,IAAxC,EAAAgsG,0CAAA,EAAAA,0CAAwC,SAAkD,mBAAlD,OAAkD,IAAnB,EAAAv2E,qBAAA,EAAAA,qBAAmB,SAC1G,mBAD0G,OAC1G,IAAf,EAAAqJ,iBAAA,EAAAA,iBAAe,YAblCitE,G,GAAA,EAAAA,6C,6BChBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,SACA,QACA,SACA,SACA,SACA,SACA,SAKA,2B,aAYE,WAAoB14F,EAA8BY,GAA9B,KAAAZ,YAA8B,KAAAY,WAoChD,IAAI,EAAqB,EAAI,EAajC,O,mCAxDI,EACSwtF,EAUJ,YAAAt+E,eAAP,SAAsBjd,EAAkBwY,GACtC,YADsC,IAAAA,MAA0C,EAAkButF,wBAC3Fv6F,KAAKukC,iBAAgC/vC,EAAUwY,IAGjD,YAAAwtF,sBAAP,SAA6BhmG,EAAkBwY,GAC7C,YAD6C,IAAAA,MAA0C,EAAkButF,wBAClGv6F,KAAKukC,iBAA6C/vC,EAAUwY,GAAe,IAG7E,YAAA6pB,iBAAP,SAAwBnkC,GACtB,IAAMoN,EAAc,kCAAkCpN,EAAWJ,GAEjE,OAAO0N,KAAK2B,UAAUwM,eAAerO,EAAK,EAAAsO,YAAYjN,MAAOzO,IAGxD,YAAAw9F,yBAAP,SAAgC37F,EAA4BkmG,GAC1D,OAAOlmG,EAAYI,QAAO,SAACjC,GACzB,OAAAA,EAAWiB,2BAA6B8mG,EAAMr+E,SAAS,EAAAhW,eAAe8a,gCACrExuB,EAAWiB,2BAA6B8mG,EAAMr+E,SAAS1pB,EAAWkB,qBAIhE,YAAA8mG,0BAAP,SAAiCnmG,EAA4BmpC,GAC3D,OAAOnpC,EAAYI,QAAO,SAACJ,GAAsC,OAAAmpC,EAAOthB,SAAS7nB,EAAYnF,WAGvF,YAAAm1C,iBAAR,SAA4B/vC,EAAkBwY,EAAoF6vB,QAApF,IAAA7vB,MAA0C,EAAkButF,6BAAwB,IAAA19D,OAAA,GAChI,IAAM89D,EAA2C7yG,OAC9C0P,OAAO,GAAI,EAAkB+iG,uBAAwBvtF,GAClDlN,EAAcE,KAAK46F,SAASpmG,GAC5BuL,EAAwBC,KAAK66F,YAAYF,EAAgB99D,GAE/D,OAAO78B,KAAK2B,UAAUtB,yBAAyBN,EAAQD,EAAK,EAAAsO,YAAYtN,MAGlE,YAAA85F,SAAR,SAAiBpmG,GACf,OAAIwL,KAAKuC,SAASw5B,YACT,eAAevnC,EAAQ,gBAEvB,gCAAgCA,EAAQ,KAI3C,YAAAqmG,YAAR,SAAoB7tF,EAAyC6vB,GAC3D,YAD2D,IAAAA,OAAA,GACpDA,EAAQ/0C,OAAO0P,OAAO,CAAEsjG,wBAAwB,GAAQ9tF,GAAiBA,GApDpE,EAAAutF,uBAAmD,CAC/Dj9D,SAAU,EAAAhe,gBAAgB8c,SAC1BwgB,iBAAkB,CAAC,EAAAl8B,gBAAgBK,UAAW,EAAAL,gBAAgBM,QAHrD+uE,EAAiB,gBAJ7B,EAAA32F,QAAQ,CACP/P,OAAQ,UACRK,KAAM,sBAsDA,EAAQ,WAAW,oBAAqB,CA9CN,mBA8Ce,OA9Cf,IAAT,EAAAiY,WAAA,EAAAA,WAAS,SAA4B,mBAA5B,OAA4B,IAAR,EAAAY,UAAA,EAAAA,UAAQ,YANzDwtF,G,GAAA,EAAAA,qB,6BCjBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,SACA,QACA,SACA,SAKA,2B,aAWE,WAAoBpuF,GAAA,KAAAA,YA6ClB,IAAI,EAA+B,EAcvC,O,wBAlEI,EAESmuF,EASJ,YAAAiL,yCAAP,SAAgD3qF,EAAmB6B,EAA4BjF,GAC7F,YAD6F,IAAAA,MAA0C,EAA4ButF,wBAC5Jv6F,KAAKg7F,mCAAkD5qF,EAAW6B,EAAoBjF,IAGxF,YAAAiuF,+CAAP,SAAsD7qF,EAAmB6B,EAA4BjF,GACnG,YADmG,IAAAA,MAA0C,EAA4ButF,wBAClKv6F,KAAKg7F,mCAA+D5qF,EAAW6B,EAAoBjF,GAAe,IAGpH,YAAAgjF,mCAAP,SAA0C5/E,EAAmBpb,EAAqBgY,GAChF,YADgF,IAAAA,MAA0C,EAA4ButF,wBAC/Iv6F,KAAKk7F,4BAA2C9qF,EAAWpb,EAAagY,IAG1E,YAAAmuF,yCAAP,SAAgD/qF,EAAmBpb,EAAqBgY,GACtF,YADsF,IAAAA,MAA0C,EAA4ButF,wBACrJv6F,KAAKk7F,4BAAwD9qF,EAAWpb,EAAagY,GAAe,IAGrG,YAAAguF,mCAAR,SAA8C5qF,EAAmB6B,EAA4BjF,EAA8F6vB,QAA9F,IAAA7vB,MAA0C,EAA4ButF,6BAAwB,IAAA19D,OAAA,GACzL,IAAM89D,EAA2C7yG,OAC9C0P,OAAO,GAAI,EAA4B+iG,uBAAwBvtF,GAC5DlN,EAAcE,KAAKo7F,2BAA2BhrF,EAAW6B,GACzDlS,EAAwBC,KAAK66F,YAAYF,EAAgB99D,GAE/D,OAAO78B,KAAKukC,iBAAoBzkC,EAAKC,IAG/B,YAAAm7F,4BAAR,SAAuC9qF,EAAmBpb,EAAqBgY,EAA8F6vB,QAA9F,IAAA7vB,MAA0C,EAA4ButF,6BAAwB,IAAA19D,OAAA,GAC3K,IAAM89D,EAA2C7yG,OAC9C0P,OAAO,GAAI,EAA4B+iG,uBAAwBvtF,GAC5DlN,EAAcE,KAAKq7F,oBAAoBjrF,EAAWpb,GAClD+K,EAAwBC,KAAK66F,YAAYF,EAAgB99D,GAE/D,OAAO78B,KAAK2B,UAAUtB,yBAAyBN,EAAQD,EAAK,EAAAsO,YAAYtN,MAGlE,YAAAyjC,iBAAR,SAA4BzkC,EAAaC,GACvC,OAAOC,KAAK2B,UAAUtB,yBAAyBN,EAAQD,EAAK,EAAAsO,YAAYtN,MAGlE,YAAAs6F,2BAAR,SAAmChrF,EAAmB6B,GACpD,MAAO,wBAAwB7B,EAAS,wBAAwB6B,EAAkB,4BAG5E,YAAAopF,oBAAR,SAA4BjrF,EAAmBpb,GAC7C,MAAO,wBAAwBob,EAAS,eAAepb,EAAW,4BAG5D,YAAA6lG,YAAR,SAAoB7tF,EAAyC6vB,QAAA,IAAAA,OAAA,GAC3D,IAAM98B,EAAwB,CAAEu9B,SAAUtwB,EAAcswB,UAMxD,OAJIT,IACF98B,EAAO+6F,wBAAyB,GAG3B/6F,GA7DK,EAAAw6F,uBAAmD,CAC/Dj9D,SAAU,EAAAhe,gBAAgB8c,UAFjB0zD,EAA2B,gBAJvC,EAAA12F,QAAQ,CACP/P,OAAQ,UACRK,KAAM,gCA6DA,EAAQ,WAAW,oBAAqB,CAtDN,mBAsDe,OAtDf,IAAT,EAAAiY,WAAA,EAAAA,WAAS,YAL7BmuF,G,GAAA,EAAAA,+B,6BCdb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QACA,UACA,SACA,2BAWA,aAGE,WAAgCnuF,GAAA,KAAAA,YAMlC,OARS,EAAA25F,cAAwB,0IAQjC,EATA,GAAsB,EAAAC,iC,kBAkBpB,WAAsB55F,GAAtB,MAEE,YAAMA,IAAU,KAZZ,OAUgB,EAAAA,YAIpB,EAAK+0F,iBAAmB,IAAI,EAAAjoE,iBAAoC,IAdrD,EAyCX,IAAI,EAmBR,O,wBArD4C,iBALxC,EAKS4nE,EAUJ,YAAA11F,IAAP,SAAW2R,GAAX,WACE,OAAOtS,KAAK2B,UAAU0Q,kBAAkBC,GACrC/F,MAAK,SAACivF,GAGL,OAFA,EAAKzxG,MAEE,IAAI,EAAA0xG,eAAeD,OAIzB,YAAAzxG,IAAP,sBACE,OAAOiW,KAAK2B,UAAUyQ,qBACnB7F,MAAK,SAACmvF,GACL,IAAMlF,EACJ,EAAKmF,6BAA6BD,GAIpC,OAFA,EAAKhF,iBAAiB95E,KAAK45E,GAEpBA,MAGb,YAAAoF,aAAA,SAAatpF,GAGX,YAHW,IAAAA,MAAA,IACiB,IAAIglC,OAAO,EAAuBgkD,cAAe,KAE1D9+E,KAAKlK,IAGnB,YAAAupF,SAAP,SAAgBvpF,GACd,YADc,IAAAA,MAAA,KACNtS,KAAK02F,iBAAiBxoE,WAC3Br5B,MAAK,SAACinG,GACL,OAAOA,EAAexpF,MAAM8F,gBAAkB9F,EAAM8F,kBAInD,YAAAkM,OAAP,SAAcw3E,GAAd,WACE,OAAO97F,KAAK2B,UAAU4Q,qBAAqBupF,EAAexpG,IAAIia,MAAK,WAAM,SAAKxiB,UAGxE,YAAA4xG,6BAAR,SAAqCD,GACnC,OAAOA,EAAwB1rG,KAC7B,SAAC8rG,GACC,WAAI,EAAAL,eAAeK,OAlDdzF,EAAsB,gBAJlC,EAAAj9F,QAAQ,CACP/P,OAAQ,UACRK,KAAM,2BA0CA,EAAQ,WAAW,oBAAqB,CAAC,UAxCpC2sG,G,CAA+BkF,GAA/B,EAAAlF,0B,8EClBb,MAKE,SAAYyF,GACV97F,KAAK1N,GAAKwpG,EAAexpG,GACzB0N,KAAKsS,MAAQwpF,EAAexpF,MAC5BtS,KAAK+7F,QAAUD,EAAeE,aARrB,EAAAP,kB,8ECYb,MACE,SAAmBQ,EAA6DhjG,EAC7Dq/C,EAA0CD,GAD1C,KAAA4jD,oBAA6D,KAAAhjG,UAC7D,KAAAq/C,yBAA0C,KAAAD,gBAFlD,EAAAlZ,qB,6BCvBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,QACA,SACA,SACA,2B,aAmBE,WAAoB9N,GAAA,KAAAA,aAGlBrxB,KAAKk8F,QAAU,IAAI,EAAAl9D,QACnBh/B,KAAKm8F,SAAWnxG,OAAOkD,SAAS2tD,KAYhC,IAAI,EAAuB,EAkB/B,O,yBA1CI,EACSqtB,EAcJ,YAAAe,OAAP,SAAcmyB,GACZ,GAAIA,aAAoBj9E,SAAU,CAC3Bnf,KAAKq8F,aACRr8F,KAAKs8F,cACLt8F,KAAKqxB,WAAW8L,IAAI,WAAYn9B,KAAKu8F,eAAe7xG,KAAKsV,QAG3D,IAAM5F,EAAkC,IAAI,EAAAmoB,SAAqB65E,GAEjE,OAAOp8F,KAAKk8F,QAAQ/+E,UAAU/iB,KAI1B,YAAAkiG,YAAR,sBACEt8F,KAAKq8F,WAAarxG,OAAOm2F,aAAY,WACnC,IAAM3mF,EAAkBxP,OAAOkD,SAAS2tD,KAEpC,EAAKsgD,WAAa3hG,IACpB,EAAK0hG,QAAQt/E,KAAK,CAAEu/E,SAAU,EAAKA,SAAU3hG,QAAO,IACpD,EAAK2hG,SAAW3hG,KAEjB,EAAoBgiG,QAGjB,YAAAD,eAAR,WACEvxG,OAAOu2F,cAAcvhF,KAAKq8F,aAtCd,EAAAG,MAAgB,IADnBtzB,EAAmB,gBAJ/B,EAAA9vE,QAAQ,CACP/P,OAAQ,UACRK,KAAM,wBAgCA,EAAQ,WAAW,oBAAqB,CAvBG,mBAuBM,OAvBN,IAAjB,EAAAygG,mBAAA,EAAAA,mBAAiB,YAPtCjhB,G,GAAA,EAAAA,uB,yFChBb,QACA,UACA,2BAMA,aAGE,aACElpE,KAAKy8F,KAAO,IAAItP,IA4FpB,OAzFS,YAAA9zE,KAAP,SAAYvZ,GAAZ,WACQ48F,EAA8B18F,KAAKy8F,KAAKnP,IAAIxtF,GAAOE,KAAK28F,gBAAgB78F,GAAOE,KAAK48F,kBAAkB98F,GAE5G,OAAO,IAAI5S,SAAyB,SAACC,GACnCC,OAAOQ,QAAQC,YAAY6uG,GAAgB,SAACt0C,GAC1C,EAAK8V,OAAOp+D,EAAKsoD,GACjB,EAAKy0C,eAAez0C,GACpBj7D,EAAQi7D,UAKP,YAAAzmB,OAAP,SAAcymB,EAAsB00C,GAClC,IAAMJ,EAA8B18F,KAAK+8F,iBAAiB30C,EAAK00C,GAE/D,OAAO,IAAI5vG,SAAyB,SAACC,GACnCC,OAAOQ,QAAQC,YAAY6uG,EAAgBvvG,OAIxC,YAAApD,IAAP,SAAWq+D,GACT,IAAMs0C,EAA8B18F,KAAKg9F,cAAc50C,GAEvD,OAAO,IAAIl7D,SAAyB,SAACC,GACnCC,OAAOQ,QAAQC,YAAY6uG,EAAgBvvG,OAIrC,YAAA0vG,eAAV,SAAyBz0C,GAAzB,WACQ60C,EAAuCj9F,KAAKk9F,2BAA2B90C,GAE7Eh7D,OAAOQ,QAAQC,YAAYovG,GAAyB,SAACE,GACnD,EAAK72D,QAAQ62D,OAIP,YAAAP,kBAAV,SAA4B98F,GAC1B,IAAM48F,EAA8B18F,KAAKo9F,cAAc,WAGvD,OAFAV,EAAeW,iBAAiBv9F,IAAMA,EAE/B48F,GAGC,YAAAC,gBAAV,SAA0B78F,GACxB,IAAMsoD,EAAuBpoD,KAAKy8F,KAAK1yG,IAAI+V,GACrCw9F,EAA+Bt9F,KAAKo9F,cAAc,YAIxD,OAHAE,EAAgBR,iBAAiBnlG,QAAS,EAC1C2lG,EAAgBH,MAAQ/0C,EAAI91D,GAErBgrG,GAGC,YAAAP,iBAAV,SAA2B30C,EAAsB00C,GAC/C,IAAMS,EAAgCv9F,KAAKo9F,cAAc,aAIzD,OAHAG,EAAiBJ,MAAQ/0C,EAAI91D,GAC7BirG,EAAiBT,iBAAmB,EAAH,YAAQA,GAElCS,GAGC,YAAAP,cAAV,SAAwB50C,GACtB,IAAMm1C,EAAgCv9F,KAAKo9F,cAAc,UAGzD,OAFAG,EAAiBJ,MAAQ/0C,EAAI91D,GAEtBirG,GAGC,YAAAL,2BAAV,SAAqC90C,GACnC,IAAM60C,EAAuCj9F,KAAKo9F,cAAc,wBAGhE,OAFAH,EAAwBE,MAAQ/0C,EAAI91D,GAE7B2qG,GAGC,YAAAG,cAAV,SAAwBtvG,GACtB,OAAO,IAAI,EAAA0vG,WAAW1vG,IAGd,YAAAowE,OAAV,SAAiBp+D,EAAasoD,GAC5BpoD,KAAKy8F,KAAKhvG,IAAIqS,EAAKsoD,IAGX,YAAA9hB,QAAV,SAAkB62D,GAAlB,WACEn9F,KAAKy8F,KAAK/nG,SAAQ,SAAC0zD,EAAsBtoD,GACnCsoD,EAAI91D,KAAO6qG,GACb,EAAKV,KAAKh8F,OAAOX,OA5FZkoD,EAAU,cAJtB,EAAA5uD,QAAQ,CACP/P,OAAQ,UACRK,KAAM,e,sCAEKs+D,GAAb,GAAa,EAAAA,c,8ECDb,MAME,SAAYl6D,GACVkS,KAAKlS,OAASA,EACdkS,KAAKq9F,iBAAmB,GACxBr9F,KAAK88F,iBAAmB,IATf,EAAAU,c,6BCNb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,QAEA,2B,aAgBE,WAAoB7xF,GAAA,KAAAA,KAGlB3L,KAAKy9F,OAAS,IAAItQ,IAqDlB,IAAI,EAsBR,O,iBAxES,YAAA9zE,KAAP,SAAYvZ,GAAZ,WACQ3T,EAAyB6T,KAAKy9F,OAAOnQ,IAAIxtF,GAC7CE,KAAK09F,gBAAgB59F,GAAOE,KAAK29F,eAAe79F,GAC5C6M,EAA4B3M,KAAK2L,GAAGiB,QAS1C,OAPAxf,OAAOQ,QAAQC,YAAY1B,GAAS,SAACnB,GACjC,EAAKkzE,OAAOp+D,EAAK9U,GACjB,EAAK4yG,cAAc5yG,GACnB2hB,EAASxf,aAINwf,EAASN,SAGX,YAAA4mC,MAAP,SAAanzC,GAAb,WACE,GAAIE,KAAKy9F,OAAOnQ,IAAIxtF,GAAM,CACxB,IAAM3T,EAAyB6T,KAAK69F,gBAAgB/9F,GAEpD1S,OAAOQ,QAAQC,YAAY1B,GAAS,WAClC,EAAKsxG,OAAOh9F,OAAOX,QAKf,YAAA89F,cAAV,SAAwB5yG,GAAxB,WACQmB,EAAyB6T,KAAK89F,wBAAwB9yG,GAE5DoC,OAAOQ,QAAQC,YAAY1B,GAAS,SAAC4xG,GACnC,EAAKz3D,QAAQy3D,OAIP,YAAAJ,eAAV,SAAyB79F,GACvB,MAAO,CACLhS,OAAQ,YACRkwG,WAAY,CAAEl+F,IAAG,KAIX,YAAA49F,gBAAV,SAA0B59F,GACxB,MAAO,CACLhS,OAAQ,aACR9C,OAAQgV,KAAKy9F,OAAO1zG,IAAI+V,KAIlB,YAAA+9F,gBAAV,SAA0B/9F,GACxB,MAAO,CACLhS,OAAQ,aACR9C,OAAQgV,KAAKy9F,OAAO1zG,IAAI+V,KAIlB,YAAAg+F,wBAAV,SAAkC9yG,GAChC,MAAO,CACL8C,OAAQ,qBACR9C,OAAM,IAIA,YAAAkzE,OAAV,SAAiBp+D,EAAa9U,GAC5BgV,KAAKy9F,OAAOhwG,IAAIqS,EAAK9U,IAGb,YAAAs7C,QAAV,SAAkBy3D,GAAlB,WACE/9F,KAAKy9F,OAAO/oG,SAAQ,SAAC1J,EAA+B8U,GAC9C9U,EAAOsH,KAAOyrG,GAChB,EAAKN,OAAOh9F,OAAOX,OA9EdioD,EAAY,cAJxB,EAAA3uD,QAAQ,CACP/P,OAAQ,UACRK,KAAM,iBAoEA,EAAQ,WAAW,oBAAqB,CA9Db,mBA8DsB,OA9DtB,IAAT,EAAA0/F,WAAA,EAAAA,WAAS,YAJtBrhC,G,GAAA,EAAAA,gB,6BCdb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,QACA,2BACA,2B,aAOE,WAAoBp8C,EAAuBC,GAAvB,KAAAD,KAAuB,KAAAC,WAwBzC,IAAI,EAAI,EAGZ,O,4BAvBS,YAAAqyF,MAAP,SAAsB5xF,EAA4B6xF,EAAqBpzB,GAAvE,gBAAkD,IAAAozB,MAAA,QAAqB,IAAApzB,MAAA,MACrE,IAAMqzB,EAAqBn+F,KAAKm+F,UAAU9xF,GAE1C,OAAOA,IACJE,MAAK,SAACc,GAAmB,OAAAA,KACzB28D,OAAM,WACL,GAAIk0B,EAAS,CACX,IAAMnhF,EAAgBohF,EAAYrzB,EAAW,EAI7C,OAFA,EAAKszB,aAAa/xF,GAAS,GAEpB,EAAKT,UAAY,WAAmB,SAAKqyF,MAAM5xF,EAAS6xF,EAAS,EAAGpzB,KAAW/tD,QAKtF,YAAAqhF,aAAR,SAAwB/xF,EAA4BgyF,GACjDhyF,EAAgBiyF,YAAcD,GAGzB,YAAAF,UAAR,SAAqB9xF,GACnB,OAAO,UAAIA,EAAS,eAAe,IA1B1BkyF,EAAmB,cAJ/B,EAAAnlG,QAAQ,CACP/P,OAAQ,UACRK,KAAM,wBAiCA,EAAQ,WAAW,oBAAqB,CA9Bb,mBA8BsB,OA9BtB,IAAT,EAAA0/F,WAAA,EAAAA,WAAS,SAAmC,mBAAnC,OAAmC,IAAf,EAAAh8D,iBAAA,EAAAA,iBAAe,YADzDmxE,G,GAAA,EAAAA,uB,8ECTb,SAAYl+D,GACV,mBACA,2CACA,iCACA,iCACA,qBALF,CAAY,EAAAA,qBAAA,EAAAA,mBAAkB,M,8HCC9B,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,OACA,QACA,QACA,2B,aAWE,WAAoBhP,EAAuC1lB,EACvChK,EAAwBspB,GADxB,KAAAoG,aAAuC,KAAA1lB,KACvC,KAAAhK,YAAwB,KAAAspB,eAiB1C,IAAI,EAAI,EAAI,EAahB,O,yDA1BS,YAAAxX,2BAAP,SAAkCF,GAEhC,OADAvT,KAAKw+F,qBACEx+F,KAAK2B,UAAUyV,GACnBM,qCACC1X,KAAKirB,aAAagR,QAAQ3pC,GAC1B0N,KAAKirB,aAAayF,OAAOk/D,kBACzBr8E,GAEDhH,KAAKvM,KAAKy+F,qBAAqB/zG,KAAKsV,MAAOA,KAAK0+F,kBAAkBh0G,KAAKsV,QAGpE,YAAAw+F,mBAAR,WACEx+F,KAAKqxB,WAAWu5C,WAAW,EAAAnzE,OAAOupE,sBAG5B,YAAAy9B,qBAAR,SAA6BpxF,GAG3B,OAFArN,KAAKqxB,WAAWu5C,WAAW,EAAAnzE,OAAOwpE,+BAE3B5zD,GAGD,YAAAqxF,kBAAR,SAA0BzoG,GAGxB,OAFA+J,KAAKqxB,WAAWu5C,WAAW,EAAAnzE,OAAO0pE,0BAE3BnhE,KAAK2L,GAAGhe,OAAOsI,IA9Bb6jG,EAAuC,cAJnD,EAAA1gG,QAAQ,CACP/P,OAAQ,UACRK,KAAM,4CA2BA,EAAQ,WAAW,oBAAqB,CAxBG,mBAwBM,OAxBN,IAAjB,EAAAygG,mBAAA,EAAAA,mBAAiB,SAAuB,mBAAvB,OAAuB,IAAT,EAAAf,WAAA,EAAAA,WAAS,gBACH,mBADG,OACH,IAAX,EAAAj8D,aAAA,EAAAA,aAAW,YAF1D2sE,G,GAAA,EAAAA,2C,6BCbb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,QAEA,QACA,2B,aAYE,WAAoBzoE,EAAuC1lB,EAAuBhK,GAA9D,KAAA0vB,aAAuC,KAAA1lB,KAAuB,KAAAhK,YAyBhF,IAAI,EAAI,EAaZ,O,0CAlCS,YAAAg9F,2CAAP,SAAkDC,EAAkEzI,GAClH,OAAOA,EACJnmG,KAAI,SAACunB,GACJ,GAAIA,EAA8BjlB,KAAOssG,EAAiCtsG,GAAI,CAEpE,EAAAqoB,SAAU,EAAAU,aAAc,EAAA3yB,OAAxB,IAAgC,mDACxC,OAAO,EAAP,uBAAW6uB,GAAkCs7E,GAG/C,OAAOt7E,MAIN,YAAAiiF,oCAAP,SAA2CjiF,EAA+D/iB,GAExG,OADAwL,KAAKw+F,qBACEx+F,KAAK2B,UAAUyV,GAAGE,2BAA2BC,EAA+B/iB,GAChF+X,KAAKvM,KAAKy+F,qBAAqB/zG,KAAKsV,MAAOA,KAAK0+F,kBAAkBh0G,KAAKsV,QAGpE,YAAAw+F,mBAAR,WACEx+F,KAAKqxB,WAAWu5C,WAAW,EAAAnzE,OAAOupE,sBAG5B,YAAAy9B,qBAAR,SAA6BpxF,GAG3B,OAFArN,KAAKqxB,WAAWu5C,WAAW,EAAAnzE,OAAOwpE,+BAE3B5zD,GAGD,YAAAqxF,kBAAR,SAA0BzoG,GAGxB,OAFA+J,KAAKqxB,WAAWu5C,WAAW,EAAAnzE,OAAO0pE,0BAE3BnhE,KAAK2L,GAAGhe,OAAOsI,IArCb+iG,EAAyB,cAJrC,EAAA5/F,QAAQ,CACP/P,OAAQ,UACRK,KAAM,8BAkCA,EAAQ,WAAW,oBAAqB,CA/BG,mBA+BM,OA/BN,IAAjB,EAAAygG,mBAAA,EAAAA,mBAAiB,SAAuB,mBAAvB,OAAuB,IAAT,EAAAf,WAAA,EAAAA,WAAS,mBAD7D4P,G,GAAA,EAAAA,6B,6BCdb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,OACA,QACA,SACA,SACA,SACA,SACA,SAEA,SACA,QACA,QACA,wBACA,6BACA,4B,cAgBE,WAAsBA,EAAiE/rE,EACjEzK,EAAoDwI,EAAgCC,EACpFiR,EAA0BtwB,GAFhD,MAKE,YAAMswB,EAAQjR,EAAcD,EAAQxI,IAAoB,KAQpD,OAbgB,EAAAw2E,4BAAiE,EAAA/rE,qBACjE,EAAAzK,sBAAoD,EAAAwI,SAAgC,EAAAC,eACpF,EAAAiR,SAA0B,EAAAtwB,WAJ7B,EAAA2yB,YAAsB,2CASvC,EAAK43D,+BAAiC,GACtC,EAAKr1E,QAAU,CACb,CACE+b,MAAO,EAAAC,sBAAsBC,KAC7B7/B,KAAM,EAAAkJ,eAAe+a,UACrBj1B,MAAO,sCAET,CACE2wC,MAAO,EAAAC,sBAAsBC,KAC7B7/B,KAAM,EAAAkJ,eAAe6a,oBACrB/0B,MAAO,0CAJA,EA6CX,IAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAoBhC,O,+HAtFkD,iBA8BzC,YAAA2yG,0BAAP,SAAiCznE,GAC/BA,EAAoBgiE,QAAUhiE,EAAoBgiE,QAG7C,YAAA0F,cAAP,SAAqB1nE,GACnBp3B,KAAK++F,YAAY3nE,IAGZ,YAAA4nE,mBAAP,SAA0B5nE,GACxBp3B,KAAKm5F,aAAa/hE,GAClBp3B,KAAK++F,YAAY3nE,IAGZ,YAAA+hE,aAAP,SAAoB/hE,GAClBA,EAAoBgiE,QAAS,GAGxB,YAAAz7F,SAAP,SAAgBshG,GAAhB,WACEj/F,KAAKg5F,0BACFQ,oCAAoCyF,EAAsCj/F,KAAKirB,aAAayF,OAAOk/D,mBACnGrjF,MAAK,SAACqyF,GACL,EAAKzI,+BAAiC,EAAK6C,0BACxC2F,2CAA2CC,EAAkC,EAAKzI,oCAIpF,YAAAj7B,UAAP,WACEl7D,KAAKouF,uBAAsB,IAGtB,YAAAC,YAAP,WACEruF,KAAKouF,uBAAsB,IAGrB,YAAAA,sBAAR,SAA8Bh/F,GAA9B,WACE4Q,KAAK4L,UAAS,WACZ,EAAKuqF,+BAAiC,EAAKA,+BAA+BnmG,KAAI,SAACgN,GAG7E,OAFAA,EAAWo8F,OAAShqG,EAEb4N,OAER,IAGG,YAAA+hG,YAAR,SAAoB3nE,GAClB,IAAMvK,EAAW,WACZ7sB,KAAKirB,aAAa4B,YAAW,CAChC,IAAI,EAAAxN,WACFrf,KAAKirB,aAAayF,OAAOu8D,uBACzBjtF,KAAKitB,mBAAmBtB,sBAI5B3rB,KAAKgrB,OAAOc,GAAG,yEACbhkC,OAAO0P,OAAO,GAAIwI,KAAKirB,aAAc,CAAEmM,oBAAmB,EAAEvK,YAAW,MAlF3E,cADC,EAAA91B,QAoEK,EAAQ,WAAW,cAAe,QACnC,EAA6B,UAAW,sCAAkC,GAtEpEmoG,EAA4B,cANxC,EAAAppG,UAAU,CACTzM,OAAQ,UACR6M,SAAU,uBACVitC,SAAU,UACV70C,MAAO,YAgFD,EAAQ,WAAW,oBAAqB,CAtE6B,mBAsEpB,OAtEoB,IAA1B,EAAAurG,4BAAA,EAAAA,4BAA0B,SAAmD,mBAAnD,OAAmD,IAAnB,EAAAp4B,qBAAA,EAAAA,qBAAmB,SAChE,mBADgE,OAChE,IAAnB,EAAAj/C,qBAAA,EAAAA,qBAAmB,SAAgC,mBAAhC,OAAgC,IAAZ,EAAA0K,cAAA,EAAAA,cAAY,SAAqC,mBAArC,OAAqC,IAAX,EAAAC,aAAA,EAAAA,aAAW,SAC/F,mBAD+F,OAC/F,IAAN,EAAAgyE,QAAA,EAAAA,QAAM,SAAqC,mBAArC,OAAqC,IAAf,EAAA/xE,iBAAA,EAAAA,iBAAe,YAV9D8xE,G,CAAqC,EAAApgE,sBAArC,EAAAogE,gC,2GCpBb,SACA,SACA,QACA,UACA,QACA,SACA,2BACA,6BACA,4BAQA,aAME,aAGEl/F,KAAKuX,8BAAgC,K,QAyBzC,OArBS,YAAA6nF,uBAAP,WACEp/F,KAAKuX,8BAA8ByD,kBAAoBhb,KAAKuX,8BAA8ByD,iBAC1Fhb,KAAKrC,YAIA,YAAA0hG,yBAAP,WACEr/F,KAAKuX,8BAA8BqD,oBAAsB5a,KAAKuX,8BAA8BqD,mBAC5F5a,KAAKrC,YAKA,YAAAA,SAAP,WACEqC,KAAKilC,OAAO,CAAE1tB,8BAA+BvX,KAAKuX,iCAI7C,YAAAm7E,WAAP,WACE,OAAO1yF,KAAKuX,8BAA8Bo7E,kBA9B5C,cADC,EAAA57F,Q,2BACmE,mB,OAAA,IAA9B,EAAA4iG,gCAAA,EAAAA,gCAA8B,W,oDAEpE,cADC,EAAAr4D,S,2BAC2B,mB,OAAA,IAAb,EAAAg+D,eAAA,EAAAA,eAAa,W,6BAS5B,cADC,EAAAC,W,+JAOD,cADC,EAAAA,W,iKAQD,cADC,EAAAA,W,iJAMD,cADC,EAAAC,a,oJA9BUC,EAAkC,cAN9C,EAAA3pG,UAAU,CACTzM,OAAQ,UACR6M,SAAU,8BACVitC,SAAU,UACV70C,MAAO,Y,sCAEImxG,GAAb,GAAa,EAAAA,sC,8ECjBA,EAAAD,aAA2F,SAAC3hG,EAAa6hG,EAAqBC,GACzI9hG,EAAO+hG,eAAiBD,EAAWx1G,OAGxB,EAAAo1G,WAAyF,SAAC1hG,EAAa6hG,EAAqBC,GACvI,IAAME,EAA2CF,EAAWx1G,MAE5Dw1G,EAAWx1G,MAAQ,W,IAAU,sDACvB0T,EAAO+hG,eAAep3G,MAAMwX,OAC9B6/F,EAAgBr3G,MAAMwX,KAAMif,M,+CCRlC,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,SACA,QACA,QACA,wBACA,6BACA,4B,aAYE,WAAoB6gF,GAAA,KAAAA,kCAGlB9/F,KAAKuX,8BAAgC,KAFrC,IAAI,EAAI,EASZ,O,8CAJS,YAAAwoF,cAAP,WACE,OAAO//F,KAAK8/F,gCACTE,mBAAmBhgG,KAAKuX,gCAV7B,cADC,EAAAxgB,QAOK,EAAQ,WAAW,cAN2C,mBAMpB,OANoB,IAA9B,EAAA4iG,gCAAA,EAAAA,gCAA8B,WAO/D,EAAkC,UAAW,qCAAiC,GATxEsG,EAAiC,cAN7C,EAAAnqG,UAAU,CACTzM,OAAQ,UACR6M,SAAU,6BACVitC,SAAU,UACV70C,MAAO,YAmBD,EAAQ,WAAW,oBAAqB,CAbuC,mBAa9B,OAb8B,IAAhC,EAAA4xG,kCAAA,EAAAA,kCAAgC,YAJ1ED,G,GAAA,EAAAA,qC,2GCdb,2BAEA,QACA,2BAUA,aACE,cAgCF,OA5BS,YAAAD,mBAAP,SAA0BzoF,GACxB,IAAM4oF,EAAkB,CACtB5oF,EAA8ByP,mBAC9BzP,EAA8B0P,uBAC9B1P,EAA8BwP,kBAE7BpyB,QAAO,SAACsjC,GAA0B,QAAEA,KAEvC,GAAKkoE,EAAMt4G,OAEJ,IAAqB,IAAjBs4G,EAAMt4G,OACf,OAAOs4G,EAAM,GAEb,IAAMrvG,EAAiB,GAAG,UAAOqvG,EAAM,IAAIC,eAAetvG,OAE1D,OAAOqvG,EACJnwG,KAAI,SAACioC,GAAyB,iBAAOA,MACrC1nC,MAAK,SAAC8vG,EAAiBC,GACtB,OAAID,EAAQxvG,OAAOyvG,GACV,EAEAD,EAAQE,SAASD,GAAW,GAAK,KAG3Ch4G,QACAwI,OAAOA,GAhBV,MAAO,IAdAgvG,EAA+B,cAJ3C,EAAA1mG,QAAQ,CACP/P,OAAQ,UACRK,KAAM,oC,sCAEKo2G,GAAb,GAAa,EAAAA,mC,6BCZb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,OACA,SACA,QACA,QACA,SAEA,SACA,SACA,QACA,QACA,2BACA,6BACA,4B,aAsBE,WAAoBzuE,EAAuC6K,EAAwBlR,EACtDC,EAAmCrf,EAC5CqhB,EAAiDtrB,EACjDmmD,GAHA,KAAAz2B,aAAuC,KAAA6K,SAAwB,KAAAlR,SACtD,KAAAC,eAAmC,KAAArf,WAC5C,KAAAqhB,qBAAiD,KAAAtrB,YACjD,KAAAmmD,wBAGlB9nD,KAAKsQ,YAAc,GACnBtQ,KAAK2vF,eAAiB1kE,EAAa0kE,eACnC3vF,KAAK+5F,aAAe,EAAAv7F,aACpBwB,KAAKi8B,QAAUhR,EAAagR,QAC5Bj8B,KAAK0yF,YAAa,EAClB1yF,KAAK6nD,iBAAmB,GACxB7nD,KAAK4nD,eAAiB,KACtB5nD,KAAKwgG,sBAAuB,EAC5BxgG,KAAKygG,gBAAkB,EAAAjiG,aAAaskB,sBAuFpC,IAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAoChC,O,8HAxHS,YAAAoa,QAAP,WACEl9B,KAAK0gG,sBACL1gG,KAAK0yF,WAAa1yF,KAAKirB,aAAapX,kBAClC7T,KAAKirB,aAAapX,iBAAiB8+E,iBAEhC3yF,KAAKi8B,UACRj8B,KAAKi8B,QAAUj8B,KAAKirB,aAAagR,SAGnCj8B,KAAK6nD,iBAAmB7nD,KAAK8nD,sBAAsB93D,IAAIgQ,KAAKsQ,aAC5DtQ,KAAK4nD,eAAiB5nD,KAAK6nD,iBAAiB,IAGvC,YAAAimC,4BAAP,SAAmC9wF,GACjC,IAAM6vB,EAAW,WACZ7sB,KAAKirB,aAAa4B,YAAW,CAChC,IAAI,EAAAxN,WACFrf,KAAK2vF,eAAe1C,uBACpBjtF,KAAKitB,mBAAmBtB,sBAItB5rB,EAASjY,OAAO0P,OAAO,GAAIwI,KAAKirB,aAAc,CAClD4B,YAAW,EACXoP,QAASj8B,KAAKi8B,SAAWj8B,KAAKirB,aAAagR,QAC3CvL,OAAQ1wB,KAAK2vF,eACbp8E,UAAWvW,EAAWuW,UACtB+pB,SAAU,GACVxc,QAAS,OAGX9gB,KAAKgrB,OAAOc,GACV,iEACA/rB,IAIG,YAAA4sF,iBAAP,SAAwB3vF,GACtBA,EAAWqc,MAAQrc,EAAWqc,MAGzB,YAAAw1E,qBAAP,SAA4BC,GAA5B,WACE9uF,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,qBAC7BhhE,KAAK2B,UAAUyV,GACZ9D,0CACCtT,KAAKi8B,QAAQ3pC,GACb0N,KAAK2vF,eAAeC,kBACpBd,GAEDviF,MAAK,SAAC2mF,GAEL,EAAK5iF,YAAc,EAAKA,YAAYtgB,KAAI,SAACgN,GACvC,GAAIA,EAAW1K,KAAO4gG,EAAmB5gG,GAAI,CAEpC,EAAAqoB,SAAU,EAAAU,aAAc,EAAA3yB,OAAxB,IAAgC,mDACvCZ,OAAO0P,OAAOwF,EAAY61F,EAAM,CAAE8N,IAAK,EAAAn1E,UAAUC,UAEnD,OAAOzuB,QAGVuP,MAAK,WACJ,EAAK8kB,WAAWI,MAAM,EAAAh6B,OAAO+6F,kDAC7B,EAAKnhE,WAAWI,MAAM,EAAAh6B,OAAOwpE,mCAI5B,YAAAkuB,gBAAP,SAAuBnyF,GACrB,QAASA,KAAgBA,EAAWqe,cAG/B,YAAA+zE,oBAAP,SAA2BpyF,GACzB,QAAUA,GAAcA,EAAW4d,sBAAwB5d,EAAW2d,UAGjE,YAAAimF,uBAAP,SAA8Bh5C,GAC5B5nD,KAAK4nD,eAAiBA,GAGjB,YAAAi5C,aAAP,SAAoBC,GACd,CAAC,EAAAtiG,aAAauiG,gBAAiB,EAAAviG,aAAawiG,QAAQ5kF,SAAS0kF,GAC/D9gG,KAAKwgG,wBAA0BM,EAAqB,EAAAtiG,aAAauiG,iBAEjE/gG,KAAKygG,gBAAkBK,GAIpB,YAAAG,gCAAP,SAAuCjkG,GAAvC,WACE,OAAOA,EAAW0qD,8BACf7yD,MAAK,SAACqsG,GACL,OAAO,EAAKt5C,gBAAkBs5C,EAA0B5uG,KAAO,EAAKs1D,eAAet1D,OAIlF,YAAA4oE,UAAP,WACEl7D,KAAKouF,uBAAsB,IAGtB,YAAAC,YAAP,WACEruF,KAAKouF,uBAAsB,IAGrB,YAAAA,sBAAR,SAA8Bh/F,GAA9B,WACE4Q,KAAK4L,UAAS,WACZ,EAAK0E,YAAc,EAAKA,YAAYtgB,KAAI,SAACgN,GAGvC,OAFAA,EAAWqc,KAAOjqB,EAEX4N,OAER,IAGG,YAAA0jG,oBAAR,WACE1gG,KAAKsQ,YAAY5b,SAAQ,SAACsI,GACxBA,EAAW2jG,IAAM,EAAAn1E,UAAUC,YAI/B,sBAAI,qCAAsB,CAvCpB,IAuCN,WACE,OAAOzrB,KAAKsQ,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWqc,SArClD,YAAY,EACZ,cAAc,IA/GpB,cADC,EAAAtiB,QAqHK,EAAQ,WAAW,cAAe,QACnC,EAAwB,UAAW,mBAAe,GAnHvD,cADC,EAAAA,QAuHK,EAAQ,WAAW,cAAe,SACnC,EAAwB,UAAW,sBAAkB,GA3H/CoqG,EAAuB,cANnC,EAAArrG,UAAU,CACTzM,OAAQ,UACR6M,SAAU,wBACVitC,SAAU,UACV70C,MAAO,YAqID,EAAQ,WAAW,oBAAqB,CArHG,mBAqHM,OArHN,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,SAAwB,mBAAxB,OAAwB,IAAN,EAAAgV,QAAA,EAAAA,QAAM,SAA8B,mBAA9B,OAA8B,IAAZ,EAAAjyE,cAAA,EAAAA,cAAY,SACjD,mBADiD,OACjD,IAAX,EAAAC,aAAA,EAAAA,aAAW,SAAmC,mBAAnC,OAAmC,IAAf,EAAAC,iBAAA,EAAAA,iBAAe,SAC9B,mBAD8B,OAC9B,IAAnB,EAAAq0C,qBAAA,EAAAA,qBAAmB,gBACM,mBADN,OACM,IAAtB,EAAA2/B,wBAAA,EAAAA,wBAAsB,YAjBtDD,G,GAAA,EAAAA,2B,2GCpBb,SACA,QACA,QACA,2BACA,4BACA,6BAeA,aAKE,aAGEnhG,KAAK4nD,eAAiB,K,MAE1B,OAPE,cADC,EAAA7wD,Q,2BACqC,mB,OAAA,IAAf,EAAAsqG,iBAAA,EAAAA,iBAAe,W,qCAH3BC,EAA2B,cATvC,EAAAxrG,UAAU,CACTzM,OAAQ,UACR6M,SAAU,uBACVitC,SAAU,UACV70C,MAAO,UACPkwE,WAAY,CACV+iC,eAAgB,qB,sCAGPD,GAAb,GAAa,EAAAA,+B,2GCpBb,SACA,QACA,QACA,2BACA,4BACA,6BAQA,aAIE,c,MAGF,OALE,cADC,EAAAvqG,Q,2BACqC,mB,OAAA,IAAf,EAAAsqG,iBAAA,EAAAA,iBAAe,W,qCAF3BG,EAAiC,cAN7C,EAAA1rG,UAAU,CACTzM,OAAQ,UACR6M,SAAU,8BACVitC,SAAU,UACV70C,MAAO,Y,sCAEIkzG,GAAb,GAAa,EAAAA,qC,+CCbb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,2BACA,QAEA,SAEA,SACA,QACA,QACA,SACA,wBACA,6BACA,4B,aA4BE,WAAoBC,EAAsDj/E,GAAtD,KAAAi/E,wBAAsD,KAAAj/E,sBAGxExiB,KAAK6nD,iBAAmB,GACxB7nD,KAAK0hG,uBAAyB,KAC9B1hG,KAAK4tF,cAAgB,GACrB5tF,KAAK2hG,qBAAuB,GAC5B3hG,KAAK4hG,8BAAgC,6BACrC5hG,KAAK6hG,uBAAyB,sBAC9B7hG,KAAK8hG,8BAAgC,iCAoDrC,IAAI,EAAI,EAAI,EAAI,EAwCpB,O,0DAzFS,YAAA5kE,QAAP,WAIE,GAHAl9B,KAAK4tF,cAAgB5tF,KAAKyhG,sBAAsBM,iBAAiB/hG,KAAK6nD,kBACtE7nD,KAAK2hG,qBAAuB3hG,KAAKyhG,sBAAsBO,0BAEnDhiG,KAAKwiB,oBAAoBW,OAAOnjB,KAAK4hG,+BAAgC,CACvE,IAAMK,GAAwCjiG,KAAKwiB,oBAAoBz4B,IAAIiW,KAAK4hG,+BAEhF5hG,KAAK0hG,uBAAyB1hG,KAAKyhG,sBAChCS,sBAAsBliG,KAAK6nD,iBAAkBo6C,GAGlD,GAAIjiG,KAAKwiB,oBAAoBW,OAAOnjB,KAAK6hG,wBAAyB,CAChE,IAAMM,EAAgCniG,KAAKwiB,oBAAoBz4B,IAAIiW,KAAK6hG,wBACxE7hG,KAAKoiG,yBAAyBD,EAAuBniG,KAAK4tF,eAG5D,GAAI5tF,KAAKwiB,oBAAoBW,OAAOnjB,KAAK8hG,+BAAgC,CACvE,IAAMO,EAA2CriG,KAAKwiB,oBAAoBz4B,IAAIiW,KAAK8hG,+BACnF9hG,KAAKoiG,yBAAyBC,EAAkCriG,KAAK2hG,sBAGlE3hG,KAAK0hG,uBAGR1hG,KAAKsiG,yBAFLtiG,KAAK0hG,uBAAyB,UAAI1hG,KAAK6nD,iBAAkB,CAAC,KAAM,MAK7D7nD,KAAKuiG,oBACRviG,KAAKwiG,mCAIF,YAAAC,YAAP,SAAmBxU,GACb,CAAC,EAAAzvF,aAAauiG,gBAAiB,EAAAviG,aAAawiG,QAAQ5kF,SAAS6xE,EAAS/wF,MACxE8C,KAAK0iG,gBAAgBzU,GAErBjuF,KAAK2iG,uBAAuB1U,IAIzB,YAAAqU,uBAAP,WACEtiG,KAAK4gG,uBAAuB,CAAEh5C,eAAgB5nD,KAAK0hG,yBACnD1hG,KAAKwiB,oBAAoB/0B,IAAIuS,KAAK4hG,8BAA+B,GAAG5hG,KAAK0hG,uBAAuBpvG,KAG3F,YAAAkuG,qBAAP,WACE,OAAOxgG,KAAKyhG,sBAAsBjB,qBAAqBxgG,KAAK4tF,gBAGtD,YAAA8U,gBAAR,SAAwBzU,IACjBA,EAAS2U,YAAc5iG,KAAKuiG,oBAC/BviG,KAAK6iG,iBAAiB5U,GACtBjuF,KAAK6gG,aAAa,CAAEC,mBAAoB7S,EAAS/wF,QACxC+wF,EAAS2U,WAClB5iG,KAAKyhG,sBAAsBqB,+BAE3B9iG,KAAKwiG,mCAID,YAAAG,uBAAR,SAA+B1U,GAC7BjuF,KAAK2hG,qBAAuB3hG,KAAKyhG,sBAAsBsB,aAAa9U,EAAUjuF,KAAK2hG,sBACnF3hG,KAAKwiB,oBAAoB/0B,IAAIuS,KAAK8hG,8BAA+B7T,EAAS37F,IAC1E0N,KAAK6gG,aAAa,CAAEC,mBAAoB7S,EAAS/wF,QAG3C,YAAA2lG,iBAAR,SAAyB5U,GACvBjuF,KAAK4tF,cAAgB5tF,KAAKyhG,sBAAsBsB,aAAa9U,EAAUjuF,KAAK4tF,eAC5E5tF,KAAKwiB,oBAAoB/0B,IAAIuS,KAAK6hG,uBAAwB5T,EAAS37F,KAG7D,YAAAiwG,iBAAR,WACE,OAAwC,IAAjCviG,KAAK6nD,iBAAiBhgE,QAGvB,YAAA26G,gCAAR,WACE,IAAMQ,EACJhjG,KAAKyhG,sBAAsBwB,+BAA+BjjG,KAAK4tF,eAEjE5tF,KAAK6iG,iBAAiBG,GACtBhjG,KAAK6gG,aAAa,CAAEC,mBAAoBkC,EAAsB9lG,QAGxD,YAAAklG,yBAAR,SAAiCc,EAAoBvjC,GACnD,IAAMsuB,EAA4BjuF,KAAKyhG,sBACpC0B,gBAAgBxjC,EAAMujC,GAEzBljG,KAAKyiG,YAAYxU,IAhHnB,cADC,EAAA3sD,OAAO,CAAElqC,UAAU,IA8Ed,EAAQ,WAAW,cA7ES,mBA6Ec,OA7Ed,IAAb,EAAAkoG,eAAA,EAAAA,eAAa,WA8E7B,EAAwB,UAAW,oBAAgB,GA5ExD,cADC,EAAAh+D,OAAO,CAAElqC,UAAU,IAgFd,EAAQ,WAAW,cA/EmB,mBA+EI,OA/EJ,IAAb,EAAAkoG,eAAA,EAAAA,eAAa,WAgFvC,EAAwB,UAAW,8BAA0B,GA9ElE,cADC,EAAAvoG,QAkFK,EAAQ,WAAW,cAAe,QACnC,EAAwB,UAAW,wBAAoB,GAxFjDqsG,EAAuB,cAXnC,EAAAttG,UAAU,CACTzM,OAAQ,UACR6M,SAAU,mBACVitC,SAAU,UACV70C,MAAO,UACPkwE,WAAY,CACV7uE,KAAM,eACN0zG,OAAQ,iBACRplG,MAAO,mBAwGH,EAAQ,WAAW,oBAAqB,CAtFkB,mBAsFT,OAtFS,IAArB,EAAAwjG,uBAAA,EAAAA,uBAAqB,SAAkD,mBAAlD,OAAkD,IAAnB,EAAAj/E,qBAAA,EAAAA,qBAAmB,YAfvG4gF,G,GAAA,EAAAA,2B,+CCxBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QAGA,SACA,QACA,2BACA,4B,cAOE,WAAsBt0E,GAAtB,MAGE,YAAMA,IAAU,KAHZ,OAAgB,EAAAA,YAAT,EA4EX,IAAI,EAAI,EAgBZ,O,wBA7F2C,iBAOlC,YAAAm0E,+BAAP,SAAsCK,GACpC,OAAOA,EAAUzuG,MAAK,SAACo5F,GACrB,OAAmD,IAAlDA,EAAS/wF,KAAO,EAAAsB,aAAauiG,qBAI3B,YAAAmB,sBAAP,SAA6Br6C,EAAqCv1D,GAChE,OAAOu1D,EAAiBhzD,MAAK,SAAC+yD,GAC5B,OAAAA,EAAet1D,KAAOA,MAInB,YAAA6wG,gBAAP,SAAuBG,EAA8BhxG,GACnD,OAAOgxG,EAAUzuG,MAAK,SAACo5F,GACrB,OAAAA,EAAS37F,KAAOA,MAIb,YAAAyvG,iBAAP,SAAwBl6C,GACtB,IAAIy7C,EAA+B,CACjC,CACEhxG,GAAI,GAAG,EAAAkM,aAAauiG,gBACpB70G,MAAO,qBACPgR,KAAM,EAAAsB,aAAauiG,iBAErB,CACEzuG,GAAI,GAAG,EAAAkM,aAAawiG,OACpB90G,MAAO,aACPgR,KAAM,EAAAsB,aAAawiG,SAYvB,OARKn5C,EAAiBhgE,SACpBy7G,EAAYA,EAAUtzG,KAAI,SAACi+F,GAGzB,OAFAA,EAAS2U,YAAc3U,EAAS/wF,KAAO,EAAAsB,aAAauiG,iBAAmB,EAEhE9S,MAIJqV,GAGF,YAAAtB,wBAAP,WACE,MAAO,CACL,CACE1vG,GAAI,GAAG,EAAAkM,aAAamkB,WACpBz2B,MAAO,sDACPgR,KAAM,EAAAsB,aAAamkB,YAErB,CACErwB,GAAI,GAAG,EAAAkM,aAAaskB,sBACpBygF,YAAY,EACZr3G,MAAO,6DACPgR,KAAM,EAAAsB,aAAaskB,uBAErB,CACExwB,GAAI,GAAG,EAAAkM,aAAaukB,iBACpB72B,MAAO,4DACPgR,KAAM,EAAAsB,aAAaukB,oBAKlB,YAAAy9E,qBAAP,SAA4B8C,GAC1B,QAASA,EACNzuG,MAAK,SAACo5F,GACL,OAAAA,EAASsV,aAAetV,EAAS/wF,KAAO,EAAAsB,aAAauiG,iBAAmB,MAIvE,YAAAgC,aAAP,SAAoB9U,EAA2BqV,GAC7C,OAAOA,EAAUtzG,KAAI,SAAC0pB,GAGpB,OAFAA,EAAK6pF,WAAa7pF,EAAKpnB,KAAO27F,EAAS37F,GAEhConB,MAIJ,YAAAopF,6BAAP,WACE,IAAMxxG,EAAsC0O,KAAK63C,aAAa,CAC5D1U,SAAU,YAGZnjC,KAAK8uB,UAAUE,KAAK19B,IA3FXmwG,EAAqB,cAJjC,EAAAroG,QAAQ,CACP1P,KAAM,wBACNL,OAAQ,YAqFF,EAAQ,WAAW,oBAAqB,CAlFa,mBAkFJ,EAlFpB,oBAAFovD,SAAW,KAAT,EAAFA,GAAGC,WAAQ,EAACC,gBAAc,YADhD8oD,G,CAA8B,EAAA3pD,eAA9B,EAAA2pD,yB,yFCZb,QACA,QACA,SACA,wBACA,4BACA,6BAQA,aAQE,aAGEzhG,KAAKwmB,MAAQ,KACbxmB,KAAKxK,WAAY,E,MAErB,OAZE,cADC,EAAAojD,kB,2BACuD,mB,OAAA,IAA5B,EAAA4qD,8BAAA,EAAAA,8BAA4B,W,yCAExD,cADC,EAAAzsG,Q,gEAGD,cADC,EAAAA,Q,qEALU0sG,EAAuB,cANnC,EAAA3tG,UAAU,CACTzM,OAAQ,UACR6M,SAAU,kBACVitC,SAAU,UACV70C,MAAO,Y,sCAEIm1G,GAAb,GAAa,EAAAA,2B,+CCTb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBA0BpD,WAAY34F,EAAckgB,GAGxBhrB,KAAK8K,aAAeA,EACpB9K,KAAKgrB,OAASA,EACdhrB,KAAKlC,UAAW,EAChBkC,KAAKtN,WAAa,KAClBsN,KAAKhD,WAAa,KAClBgD,KAAK0jG,SAAW,mCA8IpB,O,oCA3IE,YAAAxmE,QAAA,WACE,IAAMl9B,KAAKhD,aAAcgD,KAAKhD,WAAW8hF,aACvC,MAAM,IAAIrxD,MAAM,uDAGlBztB,KAAKtN,WAAasN,KAAKtN,YAAc,GACrCsN,KAAK2jG,sBAAuB,EAExB3jG,KAAKhD,YAAcgD,KAAKtN,aAC1BsN,KAAKhD,WAAW41F,KAAO5yF,KAAKtN,WAAWkgG,KACrC5yF,KAAKhD,WAAW41F,MAAQ5yF,KAAKtN,WAAWkgG,OAI9C,YAAAgR,+BAAA,WACE5jG,KAAKhD,WAAWme,iBAAmBnb,KAAKhD,WAAWme,gBACnDnb,KAAK6jG,mBAAmB,CAAE7mG,WAAYgD,KAAKhD,cAG7C,YAAA8mG,qCAAA,WACE9jG,KAAKhD,WAAWqiC,wBAA0Br/B,KAAKhD,WAC5CqiC,uBACHr/B,KAAK6jG,mBAAmB,CAAE7mG,WAAYgD,KAAKhD,cAG7C,YAAA+mG,kCAAA,WACE/jG,KAAKhD,WAAW4d,oBAAsB5a,KAAKhD,WAAW4d,mBACtD5a,KAAK6jG,mBAAmB,CAAE7mG,WAAYgD,KAAKhD,cAG7C,YAAAgnG,yBAAA,WACEhkG,KAAK6jG,mBAAmB,CAAE7mG,WAAYgD,KAAKhD,cAG7C,YAAAinG,sBAAA,WACEjkG,KAAKtN,WAAWsoB,kBAAoBhb,KAAKtN,WAAWsoB,iBACpDhb,KAAK8yF,mBAAmB,CAAEpgG,WAAYsN,KAAKtN,cAG7C,YAAAwxG,wBAAA,WACElkG,KAAKtN,WAAWkoB,oBAAsB5a,KAAKtN,WAAWkoB,mBACtD5a,KAAK8yF,mBAAmB,CAAEpgG,WAAYsN,KAAKtN,cAG7C,YAAAyxG,YAAA,SAAY39E,GACV,IAAMxpB,EAAa4hB,QAAQm6B,KAAK/4C,KAAKhD,YAEjCwpB,GACFxmB,KAAKhD,WAAWwpB,MAAQA,EACxBxpB,EAAWwpB,MAAQA,EAAMl0B,KAEzB0N,KAAKhD,WAAWwpB,MAAQ,KACxBxpB,EAAWwpB,MAAQ,MAGrBxmB,KAAK6jG,mBAAmB,CAAE7mG,WAAU,KAGtC,YAAAonG,YAAA,SAAY59E,GACVxmB,KAAKhD,WAAWwpB,MAAQA,GAAS,MAGnC,YAAA69E,mBAAA,SAAmBl6G,EAAOy9B,GACxB,IAAM5qB,EAAa4hB,QAAQm6B,KAAK/4C,KAAKhD,YACrCA,EAAWkhF,eAAet2D,GAASz9B,EACnC6V,KAAK6jG,mBAAmB,CAAE7mG,WAAU,KAGtC,YAAAsnG,kBAAA,SAAkB1vC,GAChB,IAAM53D,EAAa4hB,QAAQm6B,KAAK/4C,KAAKhD,YAEjC43D,GACF50D,KAAKhD,WAAW4xF,aAAeh6B,EAC/B53D,EAAW4xF,aAAeh6B,EAAYtiE,KAEtC0N,KAAKhD,WAAW4xF,aAAe,KAC/B5xF,EAAW4xF,aAAe,MAG5B5uF,KAAK6jG,mBAAmB,CAAE7mG,WAAU,KAItC,sBAAI,6BAAc,CAvCZ,IAuCN,WACE,OACGgD,KAAKswF,UAAYtwF,KAAKhD,WAAWwpB,QAAUxmB,KAAKhD,WAAWkhF,iBAC1Dl+E,KAAKswF,WAAatwF,KAAKhD,WAAW8hF,aAAah0D,aAC/C9qB,KAAKswF,UAAYtwF,KAAKhD,WAAW8hF,aAAah0D,aAAe9qB,KAAKhD,WAAWkhF,gBAtC7E,YAAY,EACZ,cAAc,IAyCpB,sBAAI,mCAAoB,CAtClB,IAsCN,WACE,OACGl+E,KAAKswF,UAAYtwF,KAAKhD,WAAW4xF,cAAgB5uF,KAAKuuF,kBACrDvuF,KAAKswF,UAAYtwF,KAAKuuF,iBArCtB,YAAY,EACZ,cAAc,IAwCpB,sBAAI,kCAAmB,CArCjB,IAqCN,WACE,OAAOvuF,KAAKo2F,oBAAsBp2F,KAAKukG,gBAAkBvkG,KAAKhD,YAnC1D,YAAY,EACZ,cAAc,IAqCpB,sBAAI,0BAAW,CAlCT,IAkCN,WACE,OAAOgD,KAAKhD,WAAW8hF,cAhCnB,YAAY,EACZ,cAAc,IAkCpB,sBAAI,wCAAyB,CA/BvB,IA+BN,WACE,QAAS9+E,KAAKgrB,OAAO05C,GAAG,6BAA+B1kE,KAAKgrB,OAAO05C,GAAG,kBA7BlE,YAAY,EACZ,cAAc,IA+BpB,sBAAI,yCAA0B,CA5BxB,IA4BN,WACE,QAAS1kE,KAAKhD,WAAWuW,YAAcvT,KAAKhD,WAAWtK,YA1BnD,YAAY,EACZ,cAAc,IA4BpB,sBAAI,gDAAiC,CAzB/B,IAyBN,WACE,OACGsN,KAAKwkG,gBACJxkG,KAAKtN,WAAWkoB,oBAChB5a,KAAKtN,WAAWsoB,oBACjBhb,KAAKykG,4BACNzkG,KAAK0kG,2BAxBH,YAAY,EACZ,cAAc,IA2BpB,sBAAI,mCAAoB,CAxBlB,IAwBN,WACE,OAAO1kG,KAAK2kG,iBAAmB3kG,KAAKhD,WAAW21F,kBAtB3C,YAAY,EACZ,cAAc,IAwBpB,sBAAI,yCAA0B,CArBxB,IAqBN,WACE,OAAO3yF,KAAKwkG,gBAAkBxkG,KAAKtN,WAAWkoB,oBAnB1C,YAAY,EACZ,cAAc,IAqBpB,sBAAI,sBAAO,CAlBL,IAkBN,WACE,QAAQ5a,KAAKwkG,gBACVxkG,KAAKhD,WAAW2d,UAChB3a,KAAKhD,WAAW4xF,cAChB5uF,KAAKhD,WAAWwpB,OAChBxmB,KAAKhD,WAAW8d,kBAhBf,YAAY,EACZ,cAAc,IA9Jb,EAAA1kB,SAAW,CAChB4G,WAAY,IACZtK,WAAY,IACZ47F,qBAAsB,IACtBC,gBAAiB,IACjBoW,gBAAiB,IACjBrU,SAAU,IACVkU,eAAgB,IAChBhW,0BAA2B,IAC3BoW,WAAY,IACZC,sBAAuB,IACvBpW,4BAA6B,IAC7BqW,mBAAoB,IACpBjB,mBAAoB,IACpBnV,kBAAmB,IACnBC,oBAAqB,IACrBmE,mBAAoB,IACpBh1F,SAAU,cACV4lG,SAAU,KACVtN,mBAAoB,KAEf,EAAA5/F,WAAam0F,EACb,EAAAt7D,YACL,wFAwJJ,E,GAhLa,EAAAs7D,8B,6BCAb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBA4BpD,WAAoBY,GAAA,KAAAA,0BAGlBvrF,KAAK+7B,WAAY,EACjB/7B,KAAK/N,YAAc,KACnB+N,KAAKhD,WAAa,GAClBgD,KAAKtN,WAAa,GAwEtB,O,sCArEE,YAAAwqC,QAAA,WACEl9B,KAAK+7B,UAAY/7B,KAAKurF,wBAAwBxvD,YAC9C/7B,KAAK/N,YAAc+N,KAAKurF,wBACrBzf,mBAAmB9rE,KAAKhD,WAAW8hF,aAAaxsF,IAEnD0N,KAAKggG,sBAGP,YAAAtP,WAAA,SAAWjrD,GACLA,EAAQ/yC,aAAe+yC,EAAQ/yC,WAAWqyG,iBAC5C/kG,KAAKggG,sBAIT,YAAAA,mBAAA,WACE,IAAMnH,EAAqB74F,KAAKhD,WAAagD,KAAKhD,WAAW+7F,YAAc,KAE3E/4F,KAAKhD,WAAW+7F,YAAc/4F,KAAKurF,wBAChCyZ,kBAAkBhlG,KAAKtN,WAAYmmG,IAGxC,sBAAI,qCAAsB,CA/BpB,IA+BN,WACE,OAAO74F,KAAKqnB,cAAgBrnB,KAAKilG,gBA7B7B,YAAY,EACZ,cAAc,IA+BpB,sBAAI,0BAAW,CA5BT,IA4BN,WACE,OACGjlG,KAAKhD,YAAcgD,KAAKhD,WAAW2d,UACnC3a,KAAKtN,YAAcsN,KAAKtN,WAAWioB,UA3BlC,YAAY,EACZ,cAAc,IA8BpB,sBAAI,gCAAiB,CA3Bf,IA2BN,WACE,OACE3a,KAAK+7B,WACL/7B,KAAKklG,cAEFllG,KAAKhD,YAAcgD,KAAKhD,WAAW4d,oBACnC5a,KAAKtN,YAAcsN,KAAKtN,WAAWkoB,qBA3BpC,YAAY,EACZ,cAAc,IA+BpB,sBAAI,6BAAc,CA5BZ,IA4BN,WACE,OACE5a,KAAK+7B,YACH/7B,KAAKhD,YAAcgD,KAAKhD,WAAWqe,cAClCrb,KAAKtN,YAAcsN,KAAKtN,WAAW2oB,eA3BpC,YAAY,EACZ,cAAc,IA8BpB,sBAAI,wCAAyB,CA3BvB,IA2BN,WACE,OAAOrb,KAAKhD,YAAcgD,KAAKhD,WAAW8d,iBAzBtC,YAAY,EACZ,cAAc,IA2BpB,sBAAI,wBAAS,CAxBP,IAwBN,WACE,OAAO9a,KAAKtN,YAAcsN,KAAKtN,WAAWhK,QAtBtC,YAAY,EACZ,cAAc,IAwBpB,sBAAI,8BAAe,CArBb,IAqBN,WACE,OAAOsX,KAAK+7B,WACV/7B,KAAKmlG,WACLnlG,KAAKtN,YACLsN,KAAKtN,WAAWsoB,kBAnBd,YAAY,EACZ,cAAc,IAqBpB,sBAAI,6BAAc,CAlBZ,IAkBN,WACE,OAAOhb,KAAKhD,YAAcgD,KAAKhD,WAAWqe,cAhBtC,YAAY,EACZ,cAAc,IAtFb,EAAAjlB,SAAW,CAChB4G,WAAY,IACZtK,WAAY,IACZu8F,gBAAiB,IACjB5nE,aAAc,IACds9E,gBAAiB,IACjBnW,0BAA2B,IAC3BD,gBAAiB,IACjB0W,eAAgB,KAEX,EAAAzuG,WAAao0F,EACb,EAAAv7D,YACL,oGA2FJ,E,GAxGa,EAAAu7D,oC,8ECPb,iBAME,aAGE5qF,KAAK0wB,OAAS,GAElB,OAVS,EAAAt6B,SAAW,CAAEs6B,OAAQ,KACrB,EAAAl6B,WAAaq0F,EACb,EAAAx7D,YACL,gFAOJ,EAXA,GAAa,EAAAw7D,0B,6BCKb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBACpD,WAAYh/E,EAAQlK,GAGlB3B,KAAK6L,OAASA,EACd7L,KAAK2B,UAAYA,EAarB,O,iCAVE,YAAAyjG,aAAA,SAAajQ,GAAb,WACEn1F,KAAK2B,UAAUqQ,eACbhS,KAAKi8B,QAAQ3pC,GACb0N,KAAK6T,iBAAiB+7E,mBAErBrjF,MAAK,SAAAc,GAAY,OAAAA,EAAS5iB,OAC1B8hB,MAAK,SAAC9hB,GACLO,OAAOquB,KAAQ,EAAKxN,OAAOwC,OAAM,0BAA0B5jB,EAAG,IAAI0qG,EAAY,cAGtF,E,GAEa,EAAArK,gBAAkB,CAC7B10F,SAAU,CACR6lC,QAAS,IACTpoB,iBAAkB,KAEpBrd,WAAU,EACV2sC,SAAU,u/B,6BC9BZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,U,cAIE,WAAYjH,EAAQlQ,GAApB,MAGE,cAAO,KAQH,OAPJ,EAAKkQ,OAASA,EACd,EAAKlQ,SAAWA,EAChB,EAAKnB,YAAc,KACnB,EAAKw6E,UAAY,IAAIlY,IACrB,EAAKmY,cAAgB,EAGV,EA2Bf,O,gCAvCmC,iBAYjC,YAAApoE,QAAA,sBACEl9B,KAAKqlG,UAAY,EAAAE,iBAAiBC,sBAAsBxlG,KAAKhD,YAC7DgD,KAAKylG,iBAELzlG,KAAKwL,YAAYrjB,KACf6X,KAAKk8B,OAAOkiC,QAAO,WAAM,SAAKphE,WAAWwpB,QAAOxmB,KAAKylG,eAAe/6G,KAAKsV,SAI7E,YAAA0wF,WAAA,SAAWjrD,GACT,IAAMigE,EAAkB,EAAAH,iBAAiBI,0BAA0BlgE,GAE/DigE,EAAgB1oG,aAClBgD,KAAKhD,WAAa0oG,EAAgB1oG,WAAW4oG,aAC7C5lG,KAAKqlG,UAAY,EAAAE,iBAAiBC,sBAAsBxlG,KAAKhD,YAC7DgD,KAAKylG,mBAIT,YAAAA,eAAA,WACE,IAAM/5C,EAAe1rD,KAAKhD,WAAWwpB,MACnCxmB,KAAKqlG,UAAUt7G,IAAIiW,KAAKhD,WAAWwpB,MAAMl0B,IAAM,KAEjD0N,KAAK6qB,YAAc6gC,EAAeA,EAAa7gC,YAAc,KAC7D,EAAA06E,iBAAiBM,eAAe7lG,KAAKgsB,SAAUhsB,KAAKslG,eACpDtlG,KAAKslG,cAAgB,KAEzB,E,CAzCA,OAEmC55F,oBAyCtB,EAAAq/E,0BAA4B,CACvC30F,SAAU,CACR4G,WAAY,KAEdxG,WAAYsvG,EACZ3iE,SACE,8I,yFClDJ,2BAwCA,OAtCS,EAAAqiE,sBAAP,SAA6BxoG,GAC3B,OAAOA,EAAW8hF,aAAa3sF,OAC5Byb,QAAO,SAACy3F,EAAW7+E,GAAU,OAAA6+E,EAAU53G,IAAI+4B,EAAMl0B,GAAIk0B,KAAQ,IAAI2mE,MAG/D,EAAAwY,0BAAP,SAAiClgE,G,UAC3BhxC,EAAW,G,IAEf,IAA2B,iBAAA3M,OAAOi+G,QAAQtgE,IAAQ,8BAAE,CAAzC,0BAACh7C,EAAA,KAAKN,EAAA,KACVA,EAAM46G,kBACTtwG,EAAW3M,OAAO0P,OAAO/C,IAAQ,MAAKhK,GAAMN,EAAK,M,iGAIrD,OAAOsK,GAGF,EAAAoxG,eAAP,SAAsB75E,EAAUs5E,QAAA,IAAAA,MAAA,KAC9Bt6G,OAAOiR,YAAW,WAChB,IAAM+pG,EAAah6E,EAASn3B,KAAK,cAE7BmxG,EAAWn+G,OACbmD,OAAOihC,uBAAsB,WAC3B,IAAMg6E,EAAaj6E,EAAS3kC,KAAK,WAAa,EAC9C2+G,EAAW7mC,IAAI,SAAU,QACzB,IAAM5wE,EAASy3G,EAAWz3G,SAE1By3G,EACGr5E,QAAQ,CAAEp+B,OAAQ03G,GAAc,GAChCt5E,QAAQ,CAAEp+B,OAAM,GAAI+2G,GAEvBt5E,EAAS3kC,KAAK,SAAUkH,MAG1By9B,EAAS3kC,KAAK,SAAU,OAIhC,EAxCA,GAAa,EAAAk+G,oB,8ECKA,EAAAzhC,WAAa,CACxB1tE,SAAU,CACR6hC,KAAM,KAERkL,SAAU,mkB,8ECJC,EAAA6nD,kBAAoB,CAC/B50F,SAAU,CACR6hC,KAAM,IACNh/B,QAAS,KAEXkqC,SAAU,+R,6BCTZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,SACA,6BACA,O,aAkBE,WAAYjH,EAAQ7K,EAAYzlB,EAAUqf,EAAcgC,EAAoBhiB,EAAc1I,GAGxFvC,KAAKk8B,OAASA,EACdl8B,KAAKqxB,WAAaA,EAClBrxB,KAAK4L,SAAWA,EAChB5L,KAAKirB,aAAeA,EACpBjrB,KAAKitB,mBAAqBA,EAC1BjtB,KAAKuC,SAAWA,EAChBvC,KAAK4zF,0BAA4B,GACjC5zF,KAAKkmG,SAAU,EACflmG,KAAKg5C,QAAS,EACdh5C,KAAKusE,MAAQthE,EAAauhE,cA+E9B,O,2GA5EE,YAAAtvC,QAAA,WACEl9B,KAAK4zF,0BAA4Bh1E,QAC9Bm6B,KAAK/4C,KAAK4zF,2BACV5jG,KAAI,SAACy9F,GAGJ,OAFAA,EAAmBp0E,MAAO,EAEnBo0E,KAGXztF,KAAKkmG,QAAUlmG,KAAK4zF,6BAA+B5zF,KAAK4zF,0BAA0B/rG,QAGpF,YAAAs+G,yBAAA,SAAyBtyF,GACvB7T,KAAKusE,MAAMpkF,KAAK6X,KAAKkV,uBAAuBrB,KAG9C,YAAAqB,uBAAA,SAAuBrB,GAAvB,WACE,OAAO7T,KAAKomG,sBAAsB7mG,sBAAsBoiC,OACtD3hC,KAAKomG,sBAAsBnqE,QAC3BpoB,GACAtH,MAAK,SAAC85F,GACN,EAAKzS,0BAA4B,EAAKA,0BAA0B5jG,KAC9D,SAAC0pB,GACC,GAAIA,EAAKpnB,KAAO+zG,EAAoB/zG,GAAI,CAGpC,EAAAqoB,SAAU,EAAAU,aAAc,EAAA3yB,OAAxB,IAAgC,mDAElC,OAAO,EAAP,uBAAYgxB,GAASm5E,GAEvB,OAAOn5E,SAMf,YAAAqlF,YAAA,SAAYlrF,GACV,GAAI7T,KAAKsmG,YAAYzyF,GAAmB,CACtC,IAAM0yF,EAAkBvmG,KAAKuC,SAASw5B,YAClC/7B,KAAKomG,sBAAsBnqE,QAAQ9rC,aAAe,EAAAlE,eAAe,4BAErE+T,KAAKomG,sBAAsB7mG,sBAAsB84F,kBAAkB,CACjExkF,iBAAgB,EAChB6c,OAAQ7c,EACRooB,QAASj8B,KAAKomG,sBAAsBnqE,QACpCpP,YAAa,CAAC,IAAI,EAAAxN,WAAWknF,EAAiBvmG,KAAKitB,mBAAmBtB,yBAK5E,YAAA26E,YAAA,SAAYzyF,GACV,OAAQ7T,KAAKuC,SAASw5B,aACjBloB,EAAiB8+E,kBACjB9+E,EAAiBqkF,qBACjBrkF,EAAiBskF,WAGxB,YAAAj9B,UAAA,WACEl7D,KAAKouF,uBAAsB,IAG7B,YAAAC,YAAA,WACEruF,KAAKouF,uBAAsB,IAG7B,YAAAA,sBAAA,SAAsBh/F,GAAtB,WACE4Q,KAAK4L,UAAS,WACZ,EAAKgoF,0BAA4B,EAAKA,0BAA0B5jG,KAAI,SAAC6jB,GAKnE,OAJI,EAAKyyF,YAAYzyF,KACnBA,EAAiB0yD,OAASn3E,GAGrBykB,OAER,IAxGE,EAAAzd,SAAW,CAChBw9F,0BAA2B,IAC3B56C,OAAQ,IACR9sD,MAAO,MAGF,EAAAsK,WAAay0F,EAEb,EAAA30F,QAAU,CAAE8vG,sBAAuB,MAEnC,EAAA/2E,YACL,0IAEK,EAAA/gC,MAAQ,UA6FjB,E,GA3Ga,EAAA28F,yC,gGCJb,iBAKE,cAGF,OAPS,EAAA57D,YAAc,kFACd,EAAA74B,WAAa00F,EACb,EAAA90F,SAAW,CAAE6lC,QAAS,KAK/B,EARA,GAAa,EAAAivD,2B,8ECAb,iBAKE,cAGF,OAPS,EAAA77D,YAAc,+GACd,EAAA74B,WAAa20F,EACb,EAAA/0F,SAAW,CAAE6lC,QAAS,KAK/B,EARA,GAAa,EAAAkvD,kC,8ECAb,+BAIA,OAHS,EAAA97D,YAAc,2GACd,EAAA74B,WAAa40F,EACb,EAAAh1F,SAAW,CAAEwB,IAAK,MAC3B,EAJA,GAAa,EAAAwzF,gC,6BCCb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAapD,WAAY7oF,GAGVvC,KAAKuC,SAAWA,EAChBvC,KAAK+7B,WAAY,EACjB/7B,KAAKlC,UAAW,EAChBkC,KAAK7V,MAAQ,KACb6V,KAAKwmG,SAAW,KAChBxmG,KAAK+2F,YAAc,KAqBvB,O,uBAlBE,YAAA75D,QAAA,WACEl9B,KAAK+7B,UAAY/7B,KAAKuC,SAASw5B,aAGjC,YAAAzjC,QAAA,WACE0H,KAAK+2F,aAAe/2F,KAAK+2F,YACzB/2F,KAAKymG,mBAGP,YAAAA,gBAAA,WACE,IAAMxjE,EAAS,CAAE94C,MAAO6V,KAAK7V,OAEJ,OAArB6V,KAAK+2F,cACP9zD,EAAO8zD,YAAc/2F,KAAK+2F,aAG5B/2F,KAAKrC,SAAS,CAAEslC,OAAM,KAxCjB,EAAA5T,YACL,8FACK,EAAA74B,WAAa60F,EACb,EAAAj1F,SAAW,CAChB0H,SAAU,eACVi5F,YAAa,KACb7qG,MAAO,KACPs6G,SAAU,KACVE,OAAQ,KACRv8G,MAAO,WACPwT,SAAU,cAgCd,E,GA3Ca,EAAA0tF,iC,6BCCb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,2B,aAQE,WAAoBvgF,EAA2BvI,GAA3B,KAAAuI,eAA2B,KAAAvI,WAyBjD,O,sCArBE,YAAAw5B,UAAA,WACE,OAAO/7B,KAAKuC,SAASw5B,aAGvB,YAAA+vC,mBAAA,SAAmBvZ,GACjB,OAAOvyD,KAAK8K,aAAaghE,mBAAmBvZ,IAG9C,YAAAyyC,kBAAA,SAAkBtyG,EAAsBi0G,QAAtB,IAAAj0G,MAAA,IAChB,IAAIk0G,EAAuBD,EAAqB,CAAC,UAAOA,IAAuB,GAQzE9N,GANN+N,EAAa,WAAIA,EAAerb,EAAwBsb,qBAAqBn0G,WAC1E1C,KAAI,SAACnF,GACJ,OAAA6H,EAAW7H,GAAY,UAAO6H,EAAW7H,IAAa,UAAOi8G,cAE9DnyG,QAAO,SAACwwE,GAA+B,OAAAA,EAAU42B,cAEdl0G,OAAS,UAAO0gB,IAAG,MAAV,UAAM,WAAQq+F,IAAc,UAAOE,UAElF,OAAOjO,GAAcA,EAAWkD,UAAYlD,EAAW/nG,SAAW,IA3B7D,EAAA+1G,qBAAqD,CAC1Dn0G,WAAY,CAAC,qBAAsB,yBAA0B,qBA4BjE,E,GA/Ba,EAAA64F,2B,8ECFb,+BAIA,OAHE,YAAA2D,2BAAA,SAA2B36F,EAAkByI,GAC3C,YADyB,IAAAzI,MAAA,SAAkB,IAAAyI,MAAA,CAAetK,WAAY,CAAEJ,IAAK,KACtEiC,EAAYM,MAAK,SAAAnC,GAAc,OAAAA,EAAWsgB,gBAAkBhW,EAAWtK,WAAWJ,OAE7F,EAJA,GAAa,EAAAwM,mB,6BCKb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAtD,Y,aAGE,WAAYuyB,EAAYs0C,GAGtB3lE,KAAKqxB,WAAaA,EAClBrxB,KAAK2lE,aAAeA,EAEpB3lE,KAAK+mG,gBA+BT,O,wCA5BE,YAAAA,cAAA,sBACE/mG,KAAKgnG,UAAY,KAEjBhnG,KAAK2lE,aAAavrB,UAAU,CAC1BgiB,GAAI,SAAAhtE,GAAS,+FAAyFotB,KAAKptB,EAAM1F,SAChH,SAACk8E,GACF,IAAMC,EAAUD,EAAaE,MACvB/lE,EAAS6e,QAAQm6B,KAAK6sB,EAAaqhC,OAAOC,aAAannG,QAC7D,EAAKinG,UAAY,CACft9G,KAAMm8E,EAAQn8E,KACdqW,OAAM,MAIVC,KAAKqxB,WAAW8L,IACd,EAAA1lC,OAAO4yE,eAAe,WACpB,EAAK28B,UAAY,SAKvB,sBAAI,gCAAiB,CANf,IAMN,WACE,QAAShnG,KAAKgnG,WAJV,YAAY,EACZ,cAAc,IAMpB,sBAAI,6BAAc,CAHZ,IAGN,WACE,OAAOhnG,KAAKgnG,WADR,YAAY,EACZ,cAAc,IAEtB,E,GAtCa,EAAAxb,kB,6BCNb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBACpD,WAAY3/E,EAAQlK,GAGlB3B,KAAK6L,OAASA,EACd7L,KAAK2B,UAAYA,EAsDrB,O,iCAnDE,YAAAwlG,OAAA,SAAO7wF,EAAY9hB,EAAU4b,GAA7B,WACE,YAD2B,IAAAA,MAAA,MACpBpQ,KAAKonG,aACV5yG,EACA4b,GAEC7D,MAAK,SAAAc,GAAY,OAAAA,EAAS5iB,OAC1B8hB,MAAK,SAAA9hB,GAAO,OAAAO,OAAOquB,KAAQ,EAAKxN,OAAOwC,OAAM,sCAAsCiI,EAAU,IAAI7rB,EAAG,IAAK,cAG9G,YAAAirG,cAAA,SAAcp/E,EAAY9hB,EAAU4b,GAWlC,YAXkC,IAAAA,MAAA,MAG9BA,EACQpQ,KAAK2B,UAAUyV,GACtBb,kCAAkCD,EAAY9hB,EAAU4b,GAEjDpQ,KAAK2B,UAAUyV,GACtBf,sCAAsCC,EAAY9hB,IAMzD,YAAAshG,6BAAA,SAA6Br/E,EAAUy5B,GACrC9iD,OAAOQ,QAAQC,YACb,CACEC,OAAQ,sBACRivB,MAAO,IACP7rB,OAAQ,MACR4O,IAAKE,KAAKqnG,mCAAmC5wF,IAE/Cy5B,IAIJ,YAAAm3D,mCAAA,SAAmC5wF,GACjC,OAAUzW,KAAK6L,OAAOwC,OAAM,0CAA0CoI,EAAQ,KAGhF,YAAA2wF,aAAA,SAAa5yG,EAAU4b,GACrB,YADqB,IAAAA,MAAA,MACdA,EACLpQ,KAAKsnG,sBAAsB9yG,EAAU4b,GAAapQ,KAAKunG,0BAA0B/yG,IAGrF,YAAA+yG,0BAAA,SAA0B/yG,GACxB,OAAOwL,KAAK2B,UAAUyV,GAAGjB,2BAA2B3hB,IAGtD,YAAA8yG,sBAAA,SAAsB9yG,EAAU4b,GAC9B,OAAOpQ,KAAK2B,UAAUyV,GAAGhB,uBAAuB5hB,EAAU,GAAI4b,IAElE,E,GA5Da,EAAAq7E,yB,6BCCb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,SACA,S,cAGE,WAAY38D,GAKN,OAFJ,YAAMA,IAAU,KA4BpB,O,wBAhCiD,iBAO/C,YAAAE,KAAA,SAAKD,EAAQy4E,GACX,IAAMhoG,EAAS,CAAEuvB,OAAM,GAEvB,OAAQy4E,GACN,KAAK,EAAAjhD,WAAWC,QACdhnD,EAAO6vB,YACL,EAAA4pB,qBAAqBE,cAAa,iEAEpC,MACF,KAAK,EAAAoN,WAAWE,KACdjnD,EAAO6vB,YACL,EAAA4pB,qBAAqBE,cAAa,8DAEpC,MACF,KAAK,EAAAoN,WAAWG,aACdlnD,EAAO6vB,YACL,EAAA4pB,qBAAqBE,cAAa,sEAOxC,YAAMnqB,KAAI,UAACxvB,IAEf,E,CAhCiD,EAAAy5C,sBAApC,EAAAyyC,+B,6BCFb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,S,cAGE,WAAY58D,GAIN,OADJ,YAAMA,IAAU,KAYpB,O,wBAhB8C,iBAO5C,YAAAE,KAAA,SAAKD,GACH,IAAMM,EACD,EAAA4pB,qBAAqBE,cAAa,oDAEvC,OAAO,YAAMnqB,KAAI,UAAC,CAChBD,OAAM,EACNM,YAAW,KAGjB,E,CAhB8C,EAAA4pB,sBAAjC,EAAA0yC,4B,6BCFb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,SAEA,0B,kBAGE,WAAsB78D,GAAtB,MAGE,YAAMA,IAAU,KAEZ,OALgB,EAAAA,YAKT,EAUf,O,wBAhB0D,iBAOxD,YAAAE,KAAA,WACE,IAAMxvB,EAA0C,CAC9C6vB,YACK,EAAA4pB,qBAAqBE,cAAa,sEACvCjqB,aAAc,SAGhB,OAAO,YAAMF,KAAI,UAACxvB,IAEtB,E,CAhB0D,EAAAy5C,sBAA7C,EAAA2yC,wC,+CCJb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAEtD,a,aAaE,WAAoB1vD,EAAwBvwB,EAAuBmjB,EAC/CunE,GADA,KAAAn6D,SAAwB,KAAAvwB,KAAuB,KAAAmjB,YAC/C,KAAAunE,yBAGlBr2F,KAAKynG,aAAe,0IACpBznG,KAAK0I,YAAc1I,KAAKq2F,uBAAuBK,iBAC5Cv5E,UAAU,IAAI,EAAAoF,SAA4BviB,KAAK4c,KAAKlyB,KAAKsV,QA6DhE,O,+DA1DS,YAAAk9B,QAAP,sBACOl9B,KAAKq2F,uBAAuBK,iBAAiBvsG,MAAMtC,QACtDmY,KAAKq2F,uBAAuBtsG,MAG9BiW,KAAKk8B,OAAOiB,IAAI,YAAY,WAAM,SAAKz0B,gBAGlC,YAAA23D,UAAP,sBACyCrgE,KAAK0nG,kCAAkCp1F,MAEnEq1F,YAAYC,OAAS,SAACC,GAC/B,IAAI9L,GAAmB,EAMvB,OAJI,EAAK1F,uBAAuBuF,aAAaiM,KAC3C9L,EAAU,EAAK1F,uBAAuBwF,SAASgM,IAG1C9L,IAIJ,YAAA1pF,kBAAP,sBACMrS,KAAK8nG,eACP9nG,KAAKq2F,uBAAuB11F,IAAIX,KAAKsS,OAClC/F,MACC,WACE,EAAK+F,MAAQ,MAEf,WACE,EAAKo1F,kCAAkCp1F,MAAMy1F,aAAa,UAAU,OAKvE,YAAAx1F,qBAAP,SAA4BupF,GAC1B97F,KAAKq2F,uBAAuB/xE,OAAOw3E,IAG9B,YAAAgM,YAAP,WACE,OAAO9nG,KAAK0nG,kCAAkCM,SAC3ChoG,KAAK0nG,kCAAkCO,aACrCjoG,KAAK0nG,kCAAkCp1F,MAA6B41F,YAGpE,YAAAC,QAAP,SAAellE,GACU,KAAnBA,EAAOmlE,SACTpoG,KAAKqS,qBAID,YAAAuK,KAAR,SAAayrF,GACXroG,KAAKqoG,iBAAmBA,EAEpBroG,KAAK0nG,mCACN1nG,KAAK0nG,kCAAkCp1F,MAA6Bg2F,aA1ElE,EAAA9xG,WAAmC80F,EACnC,EAAAj8D,YACL,kHA2EJ,E,GA9Ea,EAAAi8D,2C,6BCJb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,2BACA,SACA,SAGA,SACA,SAEa,EAAA7rF,aAAA,wBAAe,SAAC+6C,IAI3B,yBACU,OAAkB,OAAX,GAAmB,EAAO,MAAM,KAAM,YAAc,KAD7C,iBACf,YAAAE,YAAP,WACE,MAAO,CACL0hB,GAAI,SAAChtE,GAAwB,2CAAqCotB,KAAKptB,EAAM1F,SAI1E,YAAAmwD,SAAP,SAAgBC,GACd,IAAMv3C,EAA6Bu3C,EAAWyuD,WAAWx+G,IAAI,YACvD87F,EAAe/rC,EAAWsiB,KAC5BosC,GAAiC,EAarC,OAXA3iB,EAAa7f,WAAa,kBAEtB,YAAYxpD,KAAKqpE,EAAan8F,OAAS6Y,EAASw5B,YAClD8pD,EAAalqD,KAAO,UACX,YAAYnf,KAAKqpE,EAAan8F,QAAU6Y,EAASw5B,YAC1D8pD,EAAalqD,KAAO,WAEpBme,EAAW2uD,QACXD,EAAiB1uD,EAAWmtD,OAAOC,aAAarhB,aAAa,eAGxD2iB,GAvBLE,EAAS,cADd,EAAAnuD,2BAA2BC,IACtBkuD,IAAN,CAAwB,EAAApuD,mBA4BxB,yBAKU,OAAkB,OAAX,GAAmB,EAAO,MAAM,KAAM,YAAc,KAL1C,iBAClB,YAAAI,YAAP,WACE,MAAO,CACL0hB,GAAI,SAAAhtE,GAAS,QAAE,UAAIA,EAAO,oBAAoB,IAAU,qCAAqCotB,KAAKptB,EAAM1F,SAIrG,YAAAmwD,SAAP,SAAgBC,GACd,IAAMt3B,EAAsBs3B,EAAWyuD,WAAWx+G,IAAI,uBAChD87F,EAAe/rC,EAAWsiB,KAC1BusC,EAAe7uD,EAAW8uD,cAAc7oG,SACxCw+B,EAAc,UAAIsnD,EAAc,mBAAoB,IACtDvoD,EAAW,UAAIqrE,EAAc,YAC7B7nF,EAAU,UAAI6nF,EAAc,WAC5BH,GAAiC,EAErC,IAAKlrE,IAAaxc,EAAS,CACzB,IAAM+nF,EAAgBrmF,EAAoBz4B,IAAOw0C,EAAW,YACtDuqE,EAAetmF,EAAoB2B,SAAYoa,EAAW,aAUhE,GARAjB,EAAWurE,GAAiB,UAAIhjB,EAAc,kBAAmB,EAAAvmE,gBAAgB8c,UACjFtb,EAAUgoF,GAAgB,UAAIjjB,EAAc,iBAC1C,CACE,EAAAz/E,eAAe+a,UACf,EAAA/a,eAAe6a,sBAIfqc,GAAYxc,EAAS,CACvB,IAAM/gB,EAASjY,OAAO0P,OAAO,GAAImxG,EAAc,CAAErrE,SAAQ,EAAExc,QAAO,IAElE0nF,EAAiB1uD,EAAWmtD,OAAOC,aAAarpG,OAAOgoF,EAAc9lF,IAIzE,OAAOyoG,GAnCLO,EAAY,cADjB,EAAAxuD,2BAA2BC,IACtBuuD,GAAN,CAA2B,EAAAzuD,sB,6BCvC7B,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAYpD,WAAYxrB,GAGV9uB,KAAK8uB,UAAYA,EA+BrB,O,wBA5BE,YAAAk6E,aAAA,WACE,IAAMxpG,EAASQ,KAAK64C,kBAAkB,CACpCxpB,YAAgB5sB,EAAgB02C,cAAa,iBAC7C/pB,OAAQxQ,QAAQhkB,QAAQ,6BAG1BoF,KAAKgvB,KAAKxvB,IAGZ,YAAAypG,gBAAA,WACE,IAAMzpG,EAASQ,KAAK64C,kBAAkB,CACpCxpB,YAAgB5sB,EAAgB02C,cAAa,sBAG/Cn5C,KAAKgvB,KAAKxvB,IAGZ,YAAAwvB,KAAA,SAAKxvB,GACHQ,KAAK8uB,UAAUE,KAAKxvB,IAGtB,YAAA0xB,KAAA,WACElxB,KAAK8uB,UAAUoC,QAGjB,YAAA2nB,kBAAA,SAAkBr5C,GAChB,YADgB,IAAAA,MAAA,IACTof,QAAQo6B,OAAO,GAAIv2C,EAAgBy2C,eAAgB15C,IA5CrD,EAAA05C,eAAiB,CACtBjqB,kBAAkB,EAClBz4B,WAAA,aAAU,SAACs4B,GAGT9uB,KAAK8uB,UAAYA,IAEnBI,aAAc,SACdE,OAAQxQ,QAAQhkB,QAAQI,SAASC,OAE5B,EAAAk+C,cAAgB,4BAoCzB,E,GA/Ca,EAAA12C,mB,yFCAb,UACA,6BAEa,EAAAs4C,mBAAqB,CAChC3kD,SAAU,CAAE8yG,eAAgB,KAAMC,YAAa,KAAMC,aAAc,MACnE5yG,WAAY,EAAA6yG,oBACZh6E,YAAa,gDACb/gC,MAAK,Y,6BCNP,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAApD,WAAY08B,GAGVhrB,KAAKgrB,OAASA,EACdhrB,KAAKkpG,gBAAiB,EACtBlpG,KAAKmpG,YAAc,KACnBnpG,KAAKopG,aAAe,KAQxB,O,qBALE,YAAAE,cAAA,WACE,IAAMvpG,EAASjY,OAAO0P,OAAO,GAAIwI,KAAKopG,aAAc,CAAED,YAAa,OAEnEnpG,KAAKgrB,OAAOc,GAAG9rB,KAAKmpG,YAAappG,IAErC,E,GAfa,EAAAspG,uB,gGCAb,cAEa,EAAAruD,4BAA8B,CACzC5kD,SAAU,CAAEmzG,UAAW,KACvB/yG,WAAY,EAAAgzG,6BACZn6E,YAAa,oE,6BCJf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IADtD,Y,aAGE,WAAYgC,EAAYrG,EAAQihD,EAAMtqE,EAAWY,GAG/CvC,KAAKqxB,WAAaA,EAClBrxB,KAAKgrB,OAASA,EACdhrB,KAAKisE,KAAOA,EACZjsE,KAAK2B,UAAYA,EACjB3B,KAAKuC,SAAWA,EAChBvC,KAAKypG,mBAAoB,EACzBzpG,KAAK0pG,oBAAqB,EAyB9B,O,gEAtBE,YAAAxsE,QAAA,WACEl9B,KAAKupG,UAAUn/D,QAAUpqC,KAAKisE,KAAKsc,YAAYvoF,KAAKupG,UAAUn/D,UAGhE,YAAAu/D,iBAAA,sBACE3pG,KAAK0pG,oBAAqB,EAE1B1pG,KAAK2B,UAAUyN,0BACZ7C,MAAK,WACJ,EAAKhK,SAASo4B,eAAgB,EAE1B,EAAKp4B,SAASw5B,cAAgB,EAAKx5B,SAASq4B,SAC9C,EAAK5P,OAAOc,GAAG,cAEf,EAAKuF,WAAWu5C,WAAW,EAAAnzE,OAAO4zE,sBAClC,EAAKrgD,OAAOc,GAAG,eAGlBpf,SAAQ,WACP,EAAKg9F,oBAAqB,MAGlC,E,GAnCa,EAAAF,gC,8ECFb,cAEa,EAAAvuD,mCAAqC,CAChDzkD,WAAY,EAAAozG,oCACZv6E,YAAa,kF,6BCHf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAApD,WAAY5sB,GAGVzC,KAAKyC,gBAAkBA,EAM3B,O,8BAHE,YAAAwmG,gBAAA,WACEjpG,KAAKyC,gBAAgBwmG,mBAEzB,E,GAVa,EAAAW,uC,8ECAb,cAEa,EAAA1uD,wBAA0B,CACrC1kD,WAAY,EAAAqzG,yBACZx6E,YAAa,4D,6BCHf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IADtD,c,aAGE,WAAYrE,GAGVhrB,KAAKgrB,OAASA,EACdhrB,KAAK8pG,iBAAmB,EAAAC,yBAAyBC,YAOrD,O,qBAJE,YAAAC,aAAA,SAAalO,GACX/7F,KAAK8pG,iBAAmB/N,EACtB,EAAAgO,yBAAyBG,MAAQ,EAAAH,yBAAyBI,SAEhE,E,GAZa,EAAAN,4B,8ECFA,EAAAE,yBAA2B,CACtCC,YAAa,cACbE,MAAO,QACPC,QAAS,Y,6BCFX,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,G,aADpB,WAAY5nG,EAAU63B,GAGpBp6B,KAAKuC,SAAWA,EAChBvC,KAAKo6B,UAAYA,EAsBrB,O,mCAnBQ,YAAAgwE,mBAAN,WAEM,OAAO,EAAQ,UAAU,UAAM,OAAQ,GAAQ,WAC3C,IAAI,EACJ,OAAO,EAAQ,YAAY,MAAM,SAAU,GACvC,OAAQ,EAAG,OACP,KAAK,EAED,OAPhBC,EAAkB,GAElBrqG,KAAKo6B,UAAUlM,WAAW5b,MACV,GAAMplB,QAAQC,QAAQ,OAAOc,KAAK+R,KAAKo6B,UAAUlM,WAAW5b,OAAO,KADnF,MAOY,KAAK,EAED,OARlB+3F,EAAkB,SAQO,CAAC,EAAa,GACzB,KAAK,EAPD,SAAM,IAAIn9G,SAAQ,SAACC,GACnCC,OAAOQ,QAAQC,YAAY,CAAEC,OAAQ,gBAAiB,SAACk0C,GACrD70C,EAAQ,OAAOc,KAAK+zC,EAAS1vB,OAAO,WAU1B,KAAK,EAZnB+3F,EAAkB,SAcA,EAAG,MAAQ,EACf,KAAK,EARrB,MAAO,CAAP,EAAOA,WAGT,YAAAC,aAAA,WACE,OAAOp9G,QAAQC,QAAQ6S,KAAKuC,SAASw4B,OAEzC,E,GA3Ba,EAAA0gB,kB,8ECAb,cAEa,EAAAN,+BAAiC,CAC5C3kD,WAAY,EAAA+zG,gCACZl7E,YAAa,yF,6BCHf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAApD,WAAY5sB,GAGVzC,KAAKyC,gBAAkBA,EAM3B,O,8BAHE,YAAAwmG,gBAAA,WACEjpG,KAAKyC,gBAAgBwmG,mBAEzB,E,GAVa,EAAAsB,mC,8ECAb,cAEa,EAAAnvD,gCAAkC,CAC7ChlD,SAAU,CAAE6zG,aAAc,KAC1BzzG,WAAY,EAAAg0G,iCACZn7E,YAAa,2F,6BCJf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,G,aADpB,WAAYosB,GAGVz7C,KAAKy7C,eAAiBA,EACtBz7C,KAAKqqG,gBAAkB,GACvBrqG,KAAKyqG,oBAAqB,EAc9B,O,6BAXQ,YAAAvtE,QAAN,WAEM,OAAO,EAAQ,UAAU,UAAM,OAAQ,GAAQ,WAC3C,IAAI,EACJ,OAAO,EAAQ,YAAY,MAAM,SAAU,GACvC,OAAQ,EAAG,OACP,KAAK,EALE,OAAvB,EAAAl9B,KAAuB,GAAMA,KAAKy7C,eAAe2uD,sBAQjC,KAAK,EAED,OAVpB,EAAKC,gBAAkB,SAUI,CAAC,WAP9B,YAAAC,aAAA,sBACEtqG,KAAKyqG,oBAAqB,EAE1BzqG,KAAKy7C,eAAe6uD,eACjB/9F,MAAK,SAAAwvF,GAAW,SAAKkO,aAAa,CAAElO,QAAO,OAC3CrvF,SAAQ,WAAM,OAAC,EAAK+9F,oBAAqB,MAEhD,E,GApBa,EAAAD,oC,8ECAb,cAEa,EAAAnvD,6BAA+B,CAC1C7kD,WAAY,EAAAk0G,8BACZr7E,YAAa,qF,6BCHf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAApD,WAAYrE,GAGVhrB,KAAKgrB,OAASA,EAMlB,O,qBAHE,YAAA2/E,cAAA,WACE3qG,KAAKgrB,OAAOc,GAAG,8BAEnB,E,GAVa,EAAA4+E,iC,8ECAb,cAEa,EAAApvD,2BAA6B,CACxCllD,SAAU,CAAEq5B,mBAAoB,KAChCj5B,WAAY,EAAAo0G,4BACZv7E,YAAa,kE,6BCJf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IADtD,Y,aAGE,WAAYgC,EAAYrG,GAGtBhrB,KAAKqxB,WAAaA,EAClBrxB,KAAKgrB,OAASA,EAQlB,O,kCALE,YAAA6/E,eAAA,WAEE7qG,KAAKqxB,WAAWu5C,WAAW,EAAAnzE,OAAO4zE,sBAClCrrE,KAAKgrB,OAAOc,GAAG,YAEnB,E,GAba,EAAA8+E,+B,8ECFb,cAEa,EAAArvD,2BAA6B,CACxCnlD,SAAU,CAAEq5B,mBAAoB,KAChCj5B,WAAY,EAAAs0G,4BACZz7E,YAAa,kE,6BCJf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAApD,WAAYtkB,EAAU2wC,GAGpB17C,KAAK+K,SAAWA,EAChB/K,KAAK07C,kBAAoBA,EAkG7B,O,2CA/FE,YAAAxe,QAAA,WAGEl9B,KAAK+qG,kBAAoB/qG,KAAK07C,kBAAkBsvD,gBAGhDhrG,KAAKirG,gBAAkB,CACrBC,sBAAuB,MAIrBlrG,KAAK+qG,mBACP/qG,KAAKmrG,uBAIT,YAAAA,oBAAA,sBACEnrG,KAAK07C,kBAAkBxqC,mBAAmBlR,KAAKyvB,oBAAoBljB,MACjE,SAAC0E,GACC,EAAKg6F,gBAAkBh6F,EAEnB,EAAK85F,oBACP,EAAKK,mBAAqBtjH,OAAO0P,OAAO,GAAI,EAAKyzG,sBASzD,YAAAriD,wBAAA,WACE5oD,KAAKirG,gBAAgBlqE,OAAS,MAGhC,YAAAsqE,aAAA,SAAav8F,GACX,OAAO9O,KAAK07C,kBAAkB4vD,iBAAiBx8F,EAAO9O,KAAKirG,kBAG7D,YAAAM,gBAAA,WACMvrG,KAAK+qG,kBACP/qG,KAAKwrG,2BAELxrG,KAAKyrG,uBAIT,YAAAA,oBAAA,sBACEzrG,KAAK07C,kBAAkB+vD,oBAAoBzrG,KAAKirG,iBAAiB1+F,MAC/D,WAEE,EAAKxB,SAASxE,MAAM,kBACpB,EAAKwE,SAAS+5C,OACZ,mBACA,EAAKmmD,gBAAgB5hD,mBACrB,EAAK4hD,gBAAgBlqE,OAAOnrC,OAE9B,EAAK8lD,kBAAkBgwD,wBAK7B,YAAAF,yBAAA,sBACExrG,KAAK07C,kBAAkBvqC,sBAAsBnR,KAAKirG,iBAC/C1+F,MAAK,WACJ,EAAK6+F,mBAAqBtjH,OAAO0P,OAAO,GAAI,EAAKyzG,iBACjD,EAAKvvD,kBAAkBiwD,wBACvB,EAAK5gG,SAAS+5C,OACZ,aACA,EAAKmmD,gBAAgB/jD,QACrB,EAAK+jD,gBAAgB5hD,mBACrB,EAAK4hD,gBAAgBlqE,OAAOnrC,OAE9B,EAAK8lD,kBAAkBkwD,4BAI7B,YAAAC,qBAAA,WAgBE,OAZE7rG,KAAK+qG,mBACL/qG,KAAK07C,kBAAkBowD,mBAAmB9rG,KAAKorG,qBAC/CprG,KAAK07C,kBAAkBowD,mBAAmB9rG,KAAKirG,iBAElCjrG,KAAK07C,kBAAkBqwD,mBAClC/rG,KAAKorG,mBACLprG,KAAKirG,kBAGOjrG,KAAK07C,kBAAkBowD,mBAAmB9rG,KAAKirG,kBAKnE,E,GAvGa,EAAAH,+B,6BCCb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAIpD,WAAY9/E,EAAQrpB,EAAWU,EAAMI,GAGnCzC,KAAKgrB,OAASA,EACdhrB,KAAK2B,UAAYA,EACjB3B,KAAKqC,KAAOA,EACZrC,KAAKyC,gBAAkBA,EAgF3B,O,0DA7EE,YAAAuoG,cAAA,WACE,OAAOhrG,KAAKgrB,OAAOxwB,QAAQ9Q,OAASgyD,EAAkBswD,cAGxD,YAAA96F,mBAAA,SAAmBue,GAAnB,WACQw7E,EAAkB,GAExB,OAAOjrG,KAAK+Q,iBACTxE,MAAK,SAAC0E,GAIL,OAHAg6F,EAAgBjiD,kBAAoBv5B,EACjC56B,MAAK,SAAAm0D,GAAqB,OAAAA,EAAkB12D,KAAO2e,EAAYg7F,4BAE3Dh7F,KAER1E,MAAK,SAAA0E,GAAe,SAAKL,cAAcK,EAAY8vB,WACnDx0B,MAAK,SAACw0B,GAGL,OAFAkqE,EAAgBlqE,OAASA,EAElBkqE,MAIb,YAAAQ,oBAAA,SAAoBR,GAClB,IAAMiB,EAAqBlsG,KAAKmsG,6BAA6BlB,GAC7D,OAAOjrG,KAAK2B,UAAUwP,sBAAsB+6F,IAG9C,YAAA/6F,sBAAA,SAAsB85F,GACpB,IAAMn1E,EAAc91B,KAAKqC,KAAKrU,iBACxBk+G,EAAqBlsG,KAAKmsG,6BAA6BlB,GAE7D,OAAOjrG,KAAK2B,UAAUqP,kBAAkB8kB,EAAao2E,IAGvD,YAAAn7F,eAAA,WACE,IAAMq7F,EAAcpsG,KAAKqC,KAAKrU,iBAE9B,OAAOgS,KAAK2B,UAAUoP,eAAeq7F,IAGvC,YAAAx7F,cAAA,SAAcy7F,GACZ,OAAOrsG,KAAK2B,UAAUiP,cAAcy7F,IAGtC,YAAAf,iBAAA,SAAiBx8F,EAAOm8F,GACtB,OAAOjrG,KAAK2B,UACT8O,UAAU3B,EAAOm8F,EAAgBjiD,kBAAkB12D,GAAIopD,EAAkB4wD,cAG9E,YAAAH,6BAAA,SAA6BlB,GAC3B,MAAO,CACLgB,yBAA0BhB,EAAgBjiD,kBAAkB12D,GAC5DyuC,OAAQkqE,EAAgBlqE,OAAOzuC,KAInC,YAAAy5G,mBAAA,SAAmBQ,EAAcC,GAC/B,OAAOxsG,KAAK8rG,mBAAmBS,IAAiBvsG,KAAK8rG,mBAAmBU,IACtED,EAAavjD,kBAAkB12D,KAAOk6G,EAAaxjD,kBAAkB12D,IACrEi6G,EAAaxrE,OAAOzuC,KAAOk6G,EAAazrE,OAAOzuC,IAGnD,YAAAw5G,mBAAA,SAAmBW,GACjB,QAASA,KAAgBA,EAAWzjD,qBAAuByjD,EAAW1rE,QAGxE,YAAA2qE,kBAAA,WACE1rG,KAAKgrB,OAAOc,GAAG4vB,EAAkBgxD,iBAGnC,YAAAd,sBAAA,WACE5rG,KAAKyC,gBAAgBumG,gBAGvB,YAAA2C,sBAAA,WACE3rG,KAAKyC,gBAAgByuB,QAxFhB,EAAA86E,aAAe,yBACf,EAAAU,eAAiB,2BACjB,EAAAJ,YAAc,IAwFvB,E,GA3Fa,EAAA5wD,qB,8ECAb,cAEa,EAAAF,yBAA2B,CACtCplD,SAAU,CACRu2G,cAAe,KAEjBn2G,WAAY,EAAAo2G,0BACZv9E,YAAa,8D,6BCNf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBAApD,WAAYrE,GAGVhrB,KAAKgrB,OAASA,EAMlB,O,qBAHE,YAAA6hF,sBAAA,WACE7sG,KAAKgrB,OAAOc,GAAG,iCAEnB,E,GAVa,EAAA8gF,6B,6BCCb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IASzC,EAAAjxD,iBAAA,yCAA6B,SAAC8zC,EAA+Bj1C,GAGxEA,EAAqBX,SAAS,CAAEuiB,GAAI,iBAAkB,SAACtiB,GACrD,IAAMv3C,EAAyCu3C,EAAWyuD,WAAWx+G,IAAI,YACnE87F,EAAiC/rC,EAAWsiB,KAKlD,OAHCypB,EAAqB7f,WAAa,kBAClC6f,EAAqBlqD,KAAOp5B,EAASw5B,YAAc,UAAY,WAEzD,KAGT0zD,EACGrgG,MAAM,YAAa,CAClB2Q,OAAQ,CACNmnD,QAAS,KACT93D,MAAO,KACP+5G,YAAa,MAEfzZ,MAAO,CACL,IAAK,CACH74F,UAAW,aAGf1J,QAAS,Q,6BClCf,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,OACA,2BACA,SACA,SAIA,SACA,UACA,QACA,QACA,SACA,4BACA,6BACA,4B,aAoBE,WAAoB69B,EAA8BqW,EAC9BmB,EACAsqE,EAA4C/hG,GAF5C,KAAAigB,SAA8B,KAAAqW,gBAC9B,KAAAmB,cACA,KAAAsqE,mBAA4C,KAAA/hG,WAG9D/K,KAAKgnD,UAAY,GACjBhnD,KAAKknD,QAAU,KACflnD,KAAK5Q,MAAQ,KACb4Q,KAAK+gC,OAAS,KACd/gC,KAAK+sG,iBAAmB,KACxB/sG,KAAKgtG,iBAAmB,KACxBhtG,KAAK4gC,QAAU,GACf5gC,KAAKitG,gBAAiB,EA2DtB,IAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAqC5B,O,iFA7FS,YAAA/vE,QAAP,WACOl9B,KAAKktG,wBACRltG,KAAKmtG,kBAIF,YAAAC,eAAP,WACE,IAAMrtG,EAAoB,CACxBmnD,QAASlnD,KAAKknD,QACd93D,MAAO4Q,KAAK5Q,MACZ+5G,YAAanpG,KAAKgrB,OAAOxwB,QAAQ9Q,MAGnCsW,KAAKgrB,OAAOc,GAAG,iCAAkC/rB,IAG5C,YAAAmtG,qBAAP,WAGE,UAF6B,UAAIltG,KAAM,iBAAkB,IAAInY,OAExC,UAAImY,KAAM,SAAS,GAAS,UAAIA,KAAM,WAAW,KAGjE,YAAAqtG,aAAP,SAAoBL,GAClB,OAAOA,EACLhtG,KAAKqhC,cAAcV,cAAc3gC,KAAK4gC,QAASosE,GAAoBhtG,KAAK4gC,SAGrE,YAAAI,cAAP,SAAqBD,GACnB,OAAO/gC,KAAKqhC,cAAcL,cAAcD,IAGnC,YAAAI,YAAP,SAAmBJ,GACjB,OAAO/gC,KAAKqhC,cAAcF,YAAYJ,IAGjC,YAAAusE,gBAAP,sBACEttG,KAAKitG,gBAAiB,EAEtBjtG,KAAK8sG,iBAAiBS,cAAc,CAAExsE,OAAQ/gC,KAAK+gC,OAAOzuC,KACvDia,KAAKvM,KAAKwtG,wBAAwB9iH,KAAKsV,OACvC0M,SAAQ,WAAe,SAAKugG,gBAAiB,MAG3C,YAAAQ,iBAAP,WACE,OAAOztG,KAAK+sG,iBAAiBW,UAAY1tG,KAAKitG,gBAGxC,YAAAE,eAAR,sBACQQ,IAA8B,UAAI3tG,KAAM,yBAAyB,GACjE4tG,IAA6B,UAAI5tG,KAAM,SAAS,GAChD6tG,EAAsC,CAC1C/+F,MAAO9O,KAAKgtG,iBACZ7lD,aAAcnnD,KAAKknD,QAAQC,cAEzB2mD,EAAsC5gH,QAAQC,QAAmB,IAEjEwgH,GAAoBC,GACtBC,EAAcz+G,MAAQ,UAAI4Q,KAAM,SAChC8tG,EAAiB9tG,KAAKqhC,cAAclB,WAAW0tE,IACrCF,IACVG,EAAiB9tG,KAAKqhC,cAAclB,WAAW0tE,IAGjDC,EACGvhG,MAAK,SAACq0B,GAAkC,SAAKA,QAAUA,KACvDopC,OAAM,WAAiB,SAAKppC,QAAU,OAGnC,YAAAmtE,gBAAR,WACE/tG,KAAK5Q,MAAQ,MAGP,YAAA4+G,iBAAR,WACEhuG,KAAK+gC,OAAS,KACd/gC,KAAKgtG,iBAAmB,KACxBhtG,KAAK+sG,iBAAiBkB,iBAGhB,YAAAT,wBAAR,SAAgCU,GAC9BluG,KAAKwiC,YAAYH,WAAW6rE,GAC5BluG,KAAKmuG,cAAcD,EAAkBjC,0BACrCjsG,KAAKgrB,OAAOc,GAAG,6BAGT,YAAAqiF,cAAR,SAAsBC,GACpBpuG,KAAK+K,SAASxE,MAAM,kBACpBvG,KAAK+K,SAAS+5C,OACZ,mBACA9kD,KAAKknD,QAAQC,aACbinD,EACApuG,KAAK+gC,OAAOzuC,KApHP,cAAR,EAAAyE,QAqFK,EAAQ,WAAW,cAAe,QACnC,EAA+B,UAAW,iBAAa,GArFnD,cAAR,EAAAA,QAwFK,EAAQ,WAAW,cAxFQ,mBAwFe,OAxFf,IAAR,EAAAs3G,UAAA,EAAAA,UAAQ,WAyF5B,EAA+B,UAAW,eAAW,GAxFjD,cAAR,EAAAt3G,QA2FK,EAAQ,WAAW,cAAe,SACnC,EAA+B,UAAW,aAAS,GA/F7Cu3G,EAA8B,cAN1C,EAAAx4G,UAAU,CACTzM,OAAQ,UACR6M,SAAU,2BACVitC,SAAU,UACV70C,MAAO,YAyGD,EAAQ,WAAW,oBAAqB,CA3FN,mBA2Fe,OA3Ff,IAAZ,EAAA4+B,cAAA,EAAAA,cAAY,SAAsC,mBAAtC,OAAsC,IAAb,EAAAmU,eAAA,EAAAA,eAAa,SAClC,mBADkC,OAClC,IAAX,EAAAmB,aAAA,EAAAA,aAAW,SACU,mBADV,OACU,IAAhB,EAAAsqE,kBAAA,EAAAA,kBAAgB,SAA4B,mBAA5B,OAA4B,IAAR,EAAA/hG,UAAA,EAAAA,UAAQ,YAdvEujG,G,GAAA,EAAAA,kC,6BCtBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QACA,SACA,SAGA,2B,aAOE,WAAoB3sG,GAAA,KAAAA,YAGlB,IAAI,EAKR,O,wBAJS,YAAA4rG,cAAP,SAAqBgB,GACnB,OAAOvuG,KAAK2B,UACTwM,eAAe,uBAAwB,EAAAC,YAAY/M,KAAMktG,IAPnDzB,EAAgB,cAJ5B,EAAA1zG,QAAQ,CACP/P,OAAQ,UACRK,KAAM,qBAYA,EAAQ,WAAW,oBAAqB,CATN,mBASe,OATf,IAAT,EAAAiY,WAAA,EAAAA,WAAS,YAD7BmrG,G,GAAA,EAAAA,oB,+CCXb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,OACA,SACA,SAEA,UACA,SACA,SACA,QACA,QACA,4BACA,6BACA,4B,aAoBE,WAAoB9hF,EAA8Bo8B,EAAwC/lB,EAAsCmB,GAA5G,KAAAxX,SAA8B,KAAAo8B,iBAAwC,KAAA/lB,gBAAsC,KAAAmB,cAG9HxiC,KAAKgnD,UAAY,GACjBhnD,KAAKwuG,iBAAmB,GACxBxuG,KAAKknD,QAAU,KACflnD,KAAK5Q,MAAQ,KACb4Q,KAAKyuG,qBAAuB,KAC5BzuG,KAAK0uG,mBAAqB,KAC1B1uG,KAAK2uG,cAAgB,IAAI,EAAAC,kBACzB5uG,KAAKitG,gBAAiB,EAetB,IAAI,EAAI,EAAI,EAAI,EAAI,EAqBxB,O,oEAjCS,YAAA/vE,QAAP,WACOl9B,KAAKknD,UACRlnD,KAAKknD,QAAUlnD,KAAKonD,eAAeL,kBAAkB/mD,KAAKgnD,UAAWhnD,KAAKyuG,wBAIvE,YAAArtE,kBAAP,sBACEphC,KAAK2uG,cAAcxnD,aAAennD,KAAKknD,QAAQC,aAC/CnnD,KAAK2uG,cAAcv/G,MAAQ4Q,KAAK5Q,MAEhC4Q,KAAKitG,gBAAiB,EACtBjtG,KAAKqhC,cAAcD,kBAAkBphC,KAAK2uG,eACvCpiG,KAAKvM,KAAK6uG,qBAAqBnkH,KAAKsV,OACpCgqE,MAAMhqE,KAAK8uG,kBAAkBpkH,KAAKsV,OAClC0M,SAAQ,WAAe,SAAKugG,gBAAiB,MAG3C,YAAAQ,iBAAP,WACE,OAAOztG,KAAK0uG,mBAAmBhB,UAAY1tG,KAAKitG,gBAG1C,YAAAc,gBAAR,WACE/tG,KAAK5Q,MAAQ,MAGP,YAAAy/G,qBAAR,SAA6BF,GAC3B3uG,KAAKwiC,YAAYH,WAAW,CAAE0sE,YAAaJ,EAAcI,cACzD/uG,KAAKgrB,OAAOc,GAAG,6BAGT,YAAAgjF,kBAAR,aAtDS,cAAR,EAAA/3G,QAuCK,EAAQ,WAAW,cAAe,QACnC,EAAiC,UAAW,iBAAa,GAvCrD,cAAR,EAAAA,QA0CK,EAAQ,WAAW,cAAe,QACnC,EAAiC,UAAW,wBAAoB,GA1C1C,cAA1B,EAAAA,MAAM,CAAEK,UAAU,IA6Cb,EAAQ,WAAW,cA7C0B,mBA6CH,OA7CG,IAAR,EAAAi3G,UAAA,EAAAA,UAAQ,WA8C9C,EAAiC,UAAW,eAAW,GA7CjC,cAA1B,EAAAt3G,MAAM,CAAEK,UAAU,IAgDb,EAAQ,WAAW,cAAe,SACnC,EAAiC,UAAW,aAAS,GArD/C43G,EAAgC,cAN5C,EAAAl5G,UAAU,CACTzM,OAAQ,UACR6M,SAAU,6BACVitC,SAAU,UACV70C,MAAO,YA+DD,EAAQ,WAAW,oBAAqB,CAjDN,mBAiDe,OAjDf,IAAZ,EAAA4+B,cAAA,EAAAA,cAAY,SAAwC,mBAAxC,OAAwC,IAAd,EAAAk6B,gBAAA,EAAAA,gBAAc,SAAsC,mBAAtC,OAAsC,IAAb,EAAA/lB,eAAA,EAAAA,eAAa,SAAkC,mBAAlC,OAAkC,IAAX,EAAAmB,aAAA,EAAAA,aAAW,YAZ7IwsE,G,GAAA,EAAAA,oC,8ECNb,mBAAa,EAAAJ,qB,oOCbb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAFA,EAEc,EAAQ,GAFtB,uBAEA,SAAgB9wC,EACdmxC,EAAkBC,EAAmBzf,EAAgB0f,EAAYC,EAAgBC,EACjFC,EAAsBC,EAAqBC,GAI3C,IAAMhwG,EAAS4vG,EAAe5mB,OAG9B2mB,EAAWM,4BAA2B,GAGtCJ,EAAgBK,kBAEhBT,EAAiBU,kBAAiB,GAGlCH,EAAkBI,WAAU,GAG5BV,EAAkBW,UAAU,CAC1B19D,SAAS,EACT29D,aAAa,IAGfP,EAAoBQ,iBAGpB,UAAQr7G,QAAQ8K,EAAOoiF,QAAQ,SAACouB,GAC9BvgB,EAAergG,MAAM4gH,EAAMtmH,KAAM,CAC/B2lC,YAAa2gF,EAAM3gF,YACnB74B,WAAYw5G,EAAMnuB,KAClB3yD,aAAc8gF,EAAM9gF,aACpB82C,WAAYgqC,EAAMhqC,WAClBjmE,OAAQiwG,EAAMjwG,QAAU,GACxB5S,QAAS6iH,EAAM7iH,aAInBmiH,EAAqBW,qBAAqB,CACxC,OACA,sBAAsB7iH,OAAOQ,QAAQ0E,GAAE,QAzC3C,e,2NCDA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,2BAGA,SAAgB2rE,EACd5sC,EAAYs0C,EAAcuqC,EAAQtkG,EAAU45E,EAAMz6E,EAAUs3D,EAAgBx3D,EAAQH,EACpF/I,EAAW+/D,EAA+BsH,EAASG,GAKnD/7E,OAAOQ,QAAQC,YAAY,CACzBC,OAAQ,gBACP,SAACk3E,GACGA,EAAI1yE,GAAGzK,QAAWm9E,EAAI1yD,MAAMzqB,SAIjCkjB,EAAS7S,KAAK,mCAAoC8sE,EAAI1yD,OACtDvH,EAAS+5C,OAAO,qBAIlB13D,OAAOQ,QAAQ67E,UAAU1jC,aAAY,SAAClmC,GACb,mBAAnBA,EAAQ/R,QACVu0E,EAAeue,oBAKnB,UAAQhmF,QAAQ,QAAQwwB,GAAG,WAAW,SAACv/B,GACnB,KAAdA,EAAEu8G,SAAkB,UAAQxtG,QAAQ,gCAAgCqkE,SAAS,eAIjFoD,EAAeiB,cAAc,GAC7BkiB,EAAKmB,wBAGP97E,EAAO+6C,kBAKPv0B,EAAW8+E,aAAe,SAACvlH,GAEzBA,EAAOyuB,MAAQzuB,EAAOyuB,MAGxBgY,EAAWsX,WAAaj+B,EAASi+B,WAEjCtX,EAAWllB,YAAcxK,EAAUwK,YAAYzhB,KAAKiX,GAEpD7Z,OAAO0P,OAAO65B,EAAY,CAAE,aAAe,OAAO83C,EAAmBqY,OAGrE7b,EAAa5rB,QAAQ,CAAEqiB,GAAI,OAAQ,SAACwJ,GAV9B,IAAI,EAAK,EAYLzpB,EAAA,QAAAA,KACJ4rC,GAAqB,EATrB,IAUJ,IAAuB,iBAAA5rC,GAAI,8BAAE,CAAxB,IAAMi0D,EAAQ,QACjB,GAAIA,EAAS1gB,OAAS0gB,EAAS1gB,MAAM1nG,eAAe,aAAc,CAChE+/F,GAAqB,EACrB,QAJA,MAAO,GAAS,EAAM,CAAE,MAAO,G,QAE3B,IACQ,IAAa,EAAS,OAAS,EAAK,EAAO,SAAS,EAAG,KAAK,G,QAE1D,GAAI,EAAK,MAAM,EAAI,OAIrC,IAAMsoB,EAAoBh/E,EAAW02D,qBAAuBA,EAAqB,IAAM,EAIvF,OAFA12D,EAAW02D,mBAAqBA,EAEzB,IAAI76F,SAAQ,SAACC,GAAY,OAAA8O,WAAW9O,EAASkjH,SAGtD3uC,EAA8BxpE,OAE9B8wE,EAAQ+b,uBACR/b,EAAQsb,0BACRjzD,EAAW8L,IAAI,YAAY,WACzB6rC,EAAQkc,yBACRlc,EAAQ8b,+BA7EZ,Y,6BCFA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IADzC,EAAA/mB,WAAA,kBAAa,SAAC0xB,GAGzBA,EACGrgG,MAAM,UAAW,CAChBigC,YAAa,mCAEdjgC,MAAM,kBAAmB,CACxBigC,YAAa,sCAEdjgC,MAAM,aAAc,CACnBigC,YAAa,sCAEdjgC,MAAM,iBAAkB,CACvB42E,WAAY,iBACZ32C,YAAa,0CAEdjgC,MAAM,uBAAwB,CAC7B42E,WAAY,iBACZ32C,YAAa,6CAEdjgC,MAAM,uBAAwB,CAC7B42E,WAAY,iBACZ32C,YAAa,6C,6BCtBnB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAEA,EAFc,EAAQ,GAEtB,uBACA,UAEA,EAAQ,MAEK,EAAAuuC,mBAAqBh/C,QAC/Bv1B,OAAO,eAAgB,CACtB,YAEDwN,UAAU,eAAgB,EAAAy5G,cAC1B9wG,OAAO,CAAP,iBAAO,SAACiwF,GAGPA,EACGrgG,MAAM,gBAAiB,CACtByH,UAAW,eACX1J,QAAS,CACPhB,QAAS,CAAT,YAAS,SAACwV,GAGR,OAAOA,EAAU0N,iCAK1B3lB,M,6BCxBH,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,I,iBACpD,WAAY24E,GAGVriE,KAAKqiE,eAAiBA,EAO1B,O,6BAJE,YAAAnlC,QAAA,WAEEl9B,KAAKqiE,eAAeyH,oBAExB,E,GAEa,EAAAwmC,aAAe,CAC1Bl6G,SAAU,CACRjK,QAAS,KAEXkjC,YAAa,8CACb74B,WAAU,I,2GCvBZ,2BACA,4BACA,4BACA,6BACA,2BACA,4BAEa,EAAA+5G,aAAwB,UAAQlnH,OAAO,aAAc,CAChE,UACA,UACA,UACA,UACA,YAGF,UAAe,EAAAknH,aAAa7mH,M,yFCf5B,QACA,QACA,SACA,4BACA,6BAOA,aAIE,c,MAGF,OALE,cADC,EAAAkvD,kB,2BACkC,mB,OAAA,IAApB,EAAA43D,sBAAA,EAAAA,sBAAoB,W,6BAFxBC,EAAoB,cALhC,EAAA36G,UAAU,CACTzM,OAAQ,UACR6M,SAAU,cACV5H,MAAO,Y,sCAEImiH,GAAb,GAAa,EAAAA,wB,+CCVb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,QACA,QACA,SACA,SACA,SACA,4BACA,6BACA,4B,aAmBE,WAAoBv0E,EAAwBlQ,EAAuCpgB,EAAmC8kG,GAAlG,KAAAx0E,SAAwB,KAAAlQ,WAAuC,KAAApgB,WAAmC,KAAA8kG,WAkBpH,IAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAW5B,O,sDAzBS,YAAAxzE,QAAP,sBACEl9B,KAAK2wG,iBAAiB,KAEtB3wG,KAAKokE,QAAQwsC,qBAAqBzoH,MAAK,WACrC,EAAKwoH,uBAIF,YAAAtwC,UAAP,sBACErgE,KAAK4L,UAAS,WACZ,IAAMw+B,EAAkB,EAAKsmE,SAAS,UAAd,CAAwB,EAAKx0E,QACrD,EAAKlQ,SAASuiD,OAAOnkC,KACpB,IAGE,YAAAzsC,SAAP,WACEqC,KAAK6wG,gBACL7wG,KAAK2wG,oBAGC,YAAAA,iBAAR,SAAyB5zF,GAAzB,gBAAyB,IAAAA,MAAA,GACvB/c,KAAK4L,UAAS,WACZ,EAAKklG,cAAgB,EAAK1sC,QAAQE,YAAYz8E,SAAW,EAAKkpH,QAAQlpH,SACrEk1B,IArCL,cADC,EAAA67B,kBAgCK,EAAQ,WAAW,cA/BS,mBA+Bc,OA/Bd,IAAlB,EAAAo4D,oBAAA,EAAAA,oBAAkB,WAgC7B,EAAqB,UAAW,eAAW,GA7BhD,cADC,EAAA1vE,OAAO,CAAErqC,MAAO,WAAYG,UAAU,IAiCjC,EAAQ,WAAW,cAhCU,mBAgCa,OAhCb,IAAb,EAAAkoG,eAAA,EAAAA,eAAa,WAiC9B,EAAqB,UAAW,qBAAiB,GA9BtD,cADC,EAAAvoG,MAAM,CAAEE,MAAO,cAkCV,EAAQ,WAAW,cAAe,QACnC,EAAqB,UAAW,eAAW,GA1CrCg6G,EAAoB,cALhC,EAAAn7G,UAAU,CACTzM,OAAQ,UACR6M,SAAU,cACV5H,MAAO,YAmDD,EAAQ,WAAW,oBAAqB,CArCZ,mBAqCqB,OArCrB,IAAN,EAAA6wG,QAAA,EAAAA,QAAM,SAAuC,mBAAvC,OAAuC,IAAnB,EAAA39B,qBAAA,EAAAA,qBAAmB,SAAmC,mBAAnC,OAAmC,IAAf,EAAAp0C,iBAAA,EAAAA,iBAAe,SAAmC,mBAAnC,OAAmC,IAAf,EAAA8jF,iBAAA,EAAAA,iBAAe,YAZpID,G,GAAA,EAAAA,wB,2GCfb,QACA,QACA,QACA,SACA,4BACA,6BACA,4BAQA,aAIE,aAGEjxG,KAAKlL,kBAAoB,G,MAY7B,OATS,YAAAooC,QAAP,YACOl9B,KAAKokE,SAAW31D,MAAMC,QAAQ1O,KAAKlL,qBACtCkL,KAAKokE,QAAQ8jC,WAAaloG,KAAKlL,kBAAkB,KAI9C,YAAAq8G,aAAP,WACE,OAAO1iG,MAAMC,QAAQ1O,KAAKlL,oBAAqBkL,KAAKlL,kBAAkBjN,OAAS,GAhBzC,cAAvC,EAAAk0D,iBAAiB,CAAE9kD,MAAO,Y,2BAAwC,mB,OAAA,IAAlB,EAAA+5G,oBAAA,EAAAA,oBAAkB,W,8BAC1D,cAAR,EAAAj6G,Q,2EAFUq6G,EAA+B,cAN3C,EAAAt7G,UAAU,CACTzM,OAAQ,UACR6M,SAAU,2BACVitC,SAAU,UACV70C,MAAO,Y,sCAEI8iH,GAAb,GAAa,EAAAA,mC,2GCbb,QACA,QACA,4BACA,6BACA,4BAQA,aAGE,aAGEpxG,KAAKtD,KAAO,GAEhB,OAPW,cAAR,EAAA3F,Q,+DADUs6G,EAA4B,cANxC,EAAAv7G,UAAU,CACTzM,OAAQ,UACR6M,SAAU,wBACVitC,SAAU,UACV70C,MAAO,Y,sCAEI+iH,GAAb,GAAa,EAAAA,gC,2GCZb,QACA,QACA,SACA,SACA,SACA,SACA,4BACA,6BACA,4BAQA,aAIE,aAGErxG,KAAKtN,WAAa,K,MAuCtB,OApCS,YAAA4+G,YAAP,WACE,OAAItxG,KAAKtN,WAAWiB,2BAA6BqM,KAAKtN,WAAWkB,kBAAoB,EAAAwS,eAAe+a,UAC3F,GACEnhB,KAAKtN,WAAWkB,kBAAoB,EAAAwS,eAAe6a,oBACrD,kBADF,GAKF,YAAAswF,UAAP,WACE,OAAIvxG,KAAKtN,WAAWiB,0BACXvG,OAAOQ,QAAQ4jH,OAAO,GAAG,EAAA9jF,UAAU+jF,iCACjCzxG,KAAKtN,WAAWkB,kBAAoB,EAAAwS,eAAe6a,oBACrD,GACEjhB,KAAKtN,WAAWkB,kBAAoB,EAAAwS,eAAe+a,UACrD/zB,OAAOQ,QAAQ4jH,OAAO,GAAG,EAAA9jF,UAAUgkF,oBADrC,GAKF,YAAAC,aAAP,WACE,IAAIC,EAcJ,OAZI5xG,KAAKtN,WAAWiB,0BAClBi+G,EAAY,GACH5xG,KAAKtN,WAAWkB,kBAAoB,EAAAwS,eAAe+a,UAC5DywF,EAAY,YACH5xG,KAAKtN,WAAWkB,kBAAoB,EAAAwS,eAAe6a,sBAC5D2wF,EAAY,uBAGV5xG,KAAKtN,WAAWtD,QAAU,EAAAsxB,gBAAgBM,QAC5C4wF,GAAwB,UAGnBA,GAzCT,cADC,EAAA76G,Q,2BAC6B,mB,OAAA,IAAX,EAAA86G,aAAA,EAAAA,aAAW,W,iCAFnBC,EAA2B,cANvC,EAAAh8G,UAAU,CACTzM,OAAQ,UACR6M,SAAU,uBACVitC,SAAU,UACV70C,MAAO,Y,sCAEIwjH,GAAb,GAAa,EAAAA,+B,6HChBb,QACA,QACA,UACA,4BACA,6BACA,4BAQA,aAIE,aAGE9xG,KAAK3R,OAAS,K,MAElB,OAPE,cADC,EAAA0I,Q,2BACsC,mB,OAAA,IAAxB,EAAAg7G,0BAAA,EAAAA,0BAAwB,W,6BAF5BC,EAA6B,cANzC,EAAAl8G,UAAU,CACTzM,OAAQ,UACR6M,SAAU,yBACVitC,SAAU,UACV70C,MAAO,Y,sCAEI0jH,GAAb,GAAa,EAAAA,iC,8ECXb,SAAYD,GACV,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UARF,CAAY,EAAAA,2BAAA,EAAAA,yBAAwB,M,+CCFpC,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,QACA,QACA,SACA,4BACA,6BACA,4BACA,SACA,QACA,UACA,QAEA,O,cAeE,WAAsB1gF,EACA+wC,EACA//D,EACAggE,EACA5hD,EACAjf,GALtB,MAQE,cAAO,KANH,OAFgB,EAAA6vB,aACA,EAAA+wC,oBACA,EAAA//D,OACA,EAAAggE,iBACA,EAAA5hD,mBACA,EAAAjf,cAIpB,EAAK9O,WAAa,KAClB,EAAKyZ,aAAc,EACnB,EAAKvW,MAAQ,KATF,EAuCX,IAAI,EAAI,EAAI,EAqChB,O,sGArFoD,iBAqB3C,YAAAsnC,QAAP,WACEl9B,KAAKwI,eAAergB,KAClB6X,KAAKqxB,WAAW8L,IAAI,EAAA1lC,OAAOw6G,sBAAuBjyG,KAAKkyG,2BAA2BxnH,KAAKsV,SAIpF,YAAAmyG,iBAAP,sBACEnyG,KAAKmM,aAAc,EAEnB,IAAMimG,EAAepyG,KAAKqyG,mBAAmB9xG,KAC3C,EAAAC,KAAI,WAAM,SAAK8xG,kCACfn1F,WAAU,SAAAzqB,GACV,EAAK2vE,eAAe5+B,eACpBr2C,OAAOC,QAAQC,KAAKG,IAAI,CAAC,eAAkBiF,EAAWJ,KAAK,WAAM,OAAAxG,QAAQC,IAAI,oBAAqB2G,EAAWJ,UAE/G0N,KAAKwI,eAAergB,MAAK,WAAM,OAAAiqH,EAAa1pG,kBAGvC,YAAA4pG,4BAAP,WACEtyG,KAAKtN,WAAa,KAClBsN,KAAKmM,aAAc,GAGX,YAAA+lG,2BAAV,SAAqCpqG,EAAsBpV,GACzD,IAAM0/G,EAAepyG,KAAKuyG,gBAAgB7/G,EAAWkD,OAAOunB,UAAUnd,KAAKwyG,cAAc9nH,KAAKsV,OAC9FA,KAAKwI,eAAergB,MAAK,WAAM,OAAAiqH,EAAa1pG,iBAC5C1I,KAAKtN,WAAaA,EAClBsN,KAAKpK,MAAQ,EAAA3J,eAAe,qCAAqCwK,QAAQ,YAAa/D,EAAWkD,QAGzF,YAAA28G,gBAAV,SAA0B5gG,GACxB,IACM7R,EAAM,qCADKE,KAAKqC,KAAKrU,iBAC8B,UAAUkmC,UAAUviB,GAW7E,OATA3R,KAAKqyG,mBAAqBryG,KAAKwB,YAAYzX,IAAsB+V,GAAKS,KACpE,EAAAkyG,aAAa,IAAM,GACnB,EAAAtwE,YAAW,SAAAlsC,GAET,OADAnK,QAAQmK,MAAMA,GACP,QAET,EAAAyK,eAGKV,KAAKqyG,oBAGJ,YAAAG,cAAV,SAAwB9/G,GACtB,GAAIA,EAAY,CACd,IAAMyyE,GAAY,IAAKz+C,MAAQ41B,UAE/Bt8C,KAAKygB,iBAAiB9f,IAAG,yBACpBjO,GAAU,CACb2pD,wBAAyB8oB,EACzB5nB,mBAAoB4nB,EACpBvxE,gBAAiB,EAAAwS,eAAe8a,6BAChChuB,UAAU,EACVod,YAAa,GACbZ,kBAAmB,GACnB/b,2BAA2B,EAC3B8rD,sBAAuB,GACvBizD,eAAgB,QAjFXC,EAA8B,cAN1C,EAAA78G,UAAU,CACTzM,OAAQ,UACR6M,SAAU,0BACVitC,SAAU,UACV70C,MAAO,YA0DD,EAAQ,WAAW,oBAAqB,CAjDK,mBAiDI,OAjDJ,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,8BAIK,mBAJL,OAIK,IAAhB,EAAA1pE,kBAAA,EAAAA,kBAAgB,SACV,mBADU,OACV,IAAX,EAAAjf,aAAA,EAAAA,aAAW,YAZnCmxG,G,CAAuC,EAAAhqG,yBAAvC,EAAAgqG,kC,gGCpBb,YACA,QAEA,wBAA6BC,EAA2BC,QAAA,IAAAA,MAAA,GACtD,IAAI3U,EAAU2U,EAEd,OAAO,SAACj7G,GAAyB,OAAAA,EAAI2I,KACnC,EAAAsc,WAAU,SAAAC,GAAU,OAAAA,EAAOvc,KACzB,EAAAwc,MAAM61F,GACN,EAAAE,UAAS,SAAA78G,GAAS,OAAAioG,KAAY,EAAI,EAAA97D,GAAGnsC,GAAS,EAAAinB,WAAW,uCAAuC21F,EAAQ,qC,6BCR9G,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QACA,QACA,SACA,SACA,SACA,SAEA,SACA,SACA,4BACA,4BACA,6BACA,O,aAwBE,WAAoB3yE,GAAA,KAAAA,2BAGlBlgC,KAAK8lD,KAAO,CACVitD,2BAA4B,+BAC5BC,gCAAiC,kCACjCC,8BAA+B,gCAC/BC,qCAAsC,uCACtCC,8BAA+B,iCAEjCnzG,KAAKozG,gCAAiC,EACtCpzG,KAAKqzG,uBAAwB,EAC7BrzG,KAAKszG,6BAA8B,EACnCtzG,KAAKuzG,yBAA0B,EAC/BvzG,KAAKu/B,uBAAyB,GAC9Bv/B,KAAKwzG,eAAiB,CACpB,EAAAh0E,8BAA8BC,oBAC9B,EAAAD,8BAA8BE,mBAyHhC,IAAI,EAAI,EAAI,EAoDhB,O,uCAzKS,YAAAxC,QAAP,WACEl9B,KAAKiX,kBAAoBjX,KAAKkgC,yBAAyBhB,kCACvDl/B,KAAKiX,kBAAkBohC,aAAer4C,KAAKyzG,OAAOzzG,KAAK8P,SAASI,UAChElQ,KAAKiX,kBAAkBqhC,uBAAyBt4C,KAAKyzG,OAAOzzG,KAAK8P,SAAShb,mBAC1EkL,KAAKuzG,wBAA0BvzG,KAAK8P,SAAS5S,OAAS,EAAAqiB,4BAA4B8wB,sBAClFrwC,KAAKu/B,uBAAyBv/B,KAAKkgC,yBAAyBZ,gCAAgCt/B,KAAK8P,SAAS5S,MAEtG8C,KAAK8P,SAAS5S,OAAS,EAAAqiB,4BAA4BogB,qBACrD3/B,KAAKwzG,eAAc,YACjB,EAAAh0E,8BAA8BI,kBAC9B,EAAAJ,8BAA8BK,cAC9B,EAAAL,8BAA8BM,iBAC3B9/B,KAAKwzG,gBAGVxzG,KAAKiX,kBAAkBglF,kBAAkB78D,QAAQpkB,iBAAmB,KACpEhb,KAAK8lD,KAAKitD,2BAA6B,wDACvC/yG,KAAK8lD,KAAKktD,gCAAkC,iDAC5ChzG,KAAK8lD,KAAKmtD,8BAAgC,+CAC1CjzG,KAAK8lD,KAAKotD,qCAAuC,sDACjDlzG,KAAK8lD,KAAKqtD,8BAAgC,iDAE1CnzG,KAAKwzG,eAAc,YACjB,EAAAh0E,8BAA8BM,gBAC9B,EAAAN,8BAA8BO,eAC3B//B,KAAKwzG,gBAGVxzG,KAAKiX,kBAAkBglF,kBAAkB78D,QAAQC,uBAAyB,KAC1Er/B,KAAKiX,kBAAkBglF,kBAAkB78D,QAAQjkB,gBAAkB,OAIhE,YAAAu4F,kBAAP,WACM1zG,KAAKiX,kBAAkBohC,aAAaxwD,SAAWmY,KAAK8P,SAASI,SAASroB,QACxEmY,KAAKiX,kBAAkBohC,aAAe,GACtCr4C,KAAKqzG,uBAAwB,IAE7BrzG,KAAKiX,kBAAkBohC,aAAer4C,KAAKyzG,OAAOzzG,KAAK8P,SAASI,UAChElQ,KAAKqzG,uBAAwB,GAE/BrzG,KAAK6wG,iBAGA,YAAA8C,2BAAP,WACM3zG,KAAKiX,kBAAkBqhC,uBAAuBzwD,SAAWmY,KAAK8P,SAAShb,kBAAkBjN,QAC3FmY,KAAKiX,kBAAkBqhC,uBAAyB,GAChDt4C,KAAKozG,gCAAiC,IAEtCpzG,KAAKiX,kBAAkBqhC,uBAAyBt4C,KAAKyzG,OAAOzzG,KAAK8P,SAAShb,mBAC1EkL,KAAKozG,gCAAiC,GAExCpzG,KAAK6wG,iBAGA,YAAA+C,wBAAP,WACE5zG,KAAKszG,8BAAgCtzG,KAAKu/B,uBAAuB13C,SAAWmY,KAAKwzG,eAAe3rH,QAEhGmY,KAAKwzG,eAAiBxzG,KAAKszG,4BACzBtzG,KAAKyzG,OAAOzzG,KAAKu/B,wBAA0B,GAE7Cv/B,KAAK6zG,iCAAiC7zG,KAAKszG,4BACzCtzG,KAAKiX,kBAAkBglF,kBAAkB1oF,WAE3CvT,KAAK6zG,iCAAiC7zG,KAAKszG,4BACzCtzG,KAAKiX,kBAAkBglF,kBAAkB78D,SAE3Cp/B,KAAK8zG,wBAGA,YAAAA,qBAAP,sBACE9zG,KAAKu/B,uBACF7qC,SAAQ,SAAC8+G,GACR,IAAMjQ,EAAc,EAAKiQ,eAAez7G,QAAQy7G,EAAelhH,KAAO,EACtE,OAAQkhH,EAAelhH,IACrB,KAAK,EAAAktC,8BAA8BO,cACjC,EAAK9oB,kBAAkBglF,kBAAkB78D,QAAQpkB,iBAAmBuoF,EACpE,MACF,KAAK,EAAA/jE,8BAA8BM,gBACjC,EAAK7oB,kBAAkBglF,kBAAkB78D,QAAQxkB,mBAAqB2oF,EACtE,MACF,KAAK,EAAA/jE,8BAA8BK,cACjC,EAAK5oB,kBAAkBglF,kBAAkB78D,QAAQC,uBAAyBkkE,EAC1E,MACF,KAAK,EAAA/jE,8BAA8BI,kBACjC,EAAK3oB,kBAAkBglF,kBAAkB78D,QAAQjkB,gBAAkBooF,EACnE,MACF,KAAK,EAAA/jE,8BAA8BC,oBACjC,EAAKxoB,kBAAkBglF,kBAAkB1oF,UAAU4H,gBAAkBooF,EACrE,MACF,KAAK,EAAA/jE,8BAA8BE,kBACjC,EAAKzoB,kBAAkBglF,kBAAkB1oF,UAAUqH,mBAAqB2oF,MAKhFvjG,KAAK6wG,iBAGA,YAAAkD,mBAAP,WACE,IAAI7nH,EAAgB,EAAAD,eAAe,oBAQnC,OANuC,IAAnC+T,KAAKiX,kBAAkBhe,QACzB/M,EAAQ,EAAAD,eAAe,YACqB,IAAnC+T,KAAKiX,kBAAkBhe,UAChC/M,EAAQ,EAAAD,eAAe,WAGlBC,GAGF,YAAA8nH,uBAAP,WACEh0G,KAAKi0G,sBAEL,IAAI/nH,EAAgB,GAAG,EAAAD,eAAe,eAMtC,OAJK+T,KAAKqzG,wBACRnnH,EAAW8T,KAAKiX,kBAAkBohC,aAAaxwD,OAAM,IAAI,EAAAoE,eAAe,aAGnEC,GAGF,YAAAgoH,8BAAP,WACEl0G,KAAKi0G,sBAEL,IAAI/nH,EAAgB,GAAG,EAAAD,eAAe,sBAMtC,OAJK+T,KAAKozG,iCACRlnH,EAAW8T,KAAKiX,kBAAkBqhC,uBAAuBzwD,OAAM,IAAI,EAAAoE,eAAe,aAG7EC,GAGF,YAAAioH,uBAAP,WACEn0G,KAAKi0G,sBAEL,IAAI/nH,EAAgB,GAAG,EAAAD,eAAe,eAMtC,OAJK+T,KAAKszG,8BACRpnH,EAAW8T,KAAKwzG,eAAe3rH,OAAM,IAAI,EAAAoE,eAAe,aAGnDC,GAGF,YAAA2kH,cAAP,WACE,IAAMprE,EAA8B39C,OAAO0P,OAAO,GAAIwI,KAAKiX,mBAC3DjX,KAAKrC,SAAS,CAAE8nC,QAAO,KAGjB,YAAAwuE,oBAAR,WACEj0G,KAAKqzG,sBAAwBrzG,KAAKiX,kBAAkBohC,aAAaxwD,SAAWmY,KAAK8P,SAASI,SAASroB,OACnGmY,KAAKozG,+BAAiCpzG,KAAKiX,kBAAkBqhC,uBAAuBzwD,SAAWmY,KAAK8P,SAAShb,kBAAkBjN,OAC/HmY,KAAKszG,4BAA8BtzG,KAAKu/B,uBAAuB13C,SAAWmY,KAAKwzG,eAAe3rH,QAGxF,YAAA4rH,OAAR,SAAexzE,GACb,OAAOjgC,KAAKkgC,yBAAyBF,sBAAsBC,IAGrD,YAAA4zE,iCAAR,SAAyC1pH,EAAgBS,GACvD,IAAK,IAAI2tD,KAAQ3tD,EACM,OAAjBA,EAAO2tD,KACT3tD,EAAO2tD,GAAQpuD,IAxMrB,cADC,EAAAm3C,OAAO,CAAElqC,UAAU,IA4Jd,EAAQ,WAAW,cA3JK,mBA2JkB,OA3JlB,IAAb,EAAAkoG,eAAA,EAAAA,eAAa,WA4JzB,EAA2B,UAAW,gBAAY,GAzJvD,cADC,EAAAvoG,QA6JK,EAAQ,WAAW,cA5JkB,mBA4JK,OA5JL,IAA1B,EAAAq9G,4BAAA,EAAAA,4BAA0B,WA6JtC,EAA2B,UAAW,gBAAY,GAlK5CC,EAA0B,cANtC,EAAAv+G,UAAU,CACTzM,OAAQ,UACR85C,SAAU,UACVjtC,SAAU,oBACV5H,MAAO,YA4KD,EAAQ,WAAW,oBAAqB,CA1JyB,mBA0JhB,OA1JgB,IAAzB,EAAAgmH,2BAAA,EAAAA,2BAAyB,YAhB5DD,G,GAAA,EAAAA,8B,+CCpBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QACA,QACA,SAGA,4BACA,6BACA,4BACA,O,aAkBE,WAAoB/rD,GAAA,KAAAA,oBAGlBtoD,KAAK4b,KAAO,GACZ5b,KAAKu0G,OAAQ,EACbv0G,KAAKw0G,WAAY,EACjBx0G,KAAKF,IAAM,GACXE,KAAKhV,OAAS,KAGd,IAAI,EAoBR,O,gCApBS,YAAAkyC,QAAP,WACEl9B,KAAKy0G,oBAGA,YAAA/jB,WAAP,SAAkBgkB,GAChB,IAAMC,EAAsCD,EAAmB,KAE3DC,IAAgBA,EAAY5P,iBAC9B/kG,KAAKy0G,iBAAiBE,EAAY/O,eAI/B,YAAAttG,QAAP,WACE0H,KAAKsoD,kBAAkBjvC,KAAKrZ,KAAKF,IAAKE,KAAKu0G,QAGrC,YAAAE,iBAAR,SAAyB74F,QAAA,IAAAA,MAAe5b,KAAK4b,MAC3C5b,KAAKF,IAAM,EAAA7T,eAAe2vB,GAC1B5b,KAAKw0G,YAAcx0G,KAAKF,KApCD,cAAxB,EAAA/I,MAAM,CAAEM,QAAQ,IAqBX,EAAQ,WAAW,cAAe,SACnC,EAAoB,UAAW,YAAQ,GArBjB,cAA1B,EAAAN,MAAM,CAAEK,UAAU,IAwBb,EAAQ,WAAW,cAAe,UACnC,EAAoB,UAAW,aAAS,GA5BlCw9G,EAAmB,cAN/B,EAAA9+G,UAAU,CACTzM,OAAQ,UACR6M,SAAU,cACVitC,SAAU,UACV70C,MAAO,YAsCD,EAAQ,WAAW,oBAAqB,CA1BU,mBA0BD,OA1BC,IAAjB,EAAAg6D,mBAAA,EAAAA,mBAAiB,YAV7CssD,G,GAAA,EAAAA,uB,+CChBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,2BACA,SACA,4BACA,6B,aAcE,WAAoB3uD,EAA8C1jD,EAC9CijF,EAAmBnjB,GADnB,KAAApc,WAA8C,KAAA1jD,WAC9C,KAAAijF,OAAmB,KAAAnjB,iBAGrCriE,KAAK/E,KAAO,UAAQL,QAAQI,SAASC,MAiJrC,IAAI,EAAiB,EAAI,EA4C7B,O,0DAlMI,EAJS45G,EAYJ,YAAAj5F,KAAP,SAAYivD,EAAeiqC,EAAyBC,EAAiCv+G,EAA0BgoE,GAA/G,WACQ0G,EAAqBllE,KAAKg1G,gBAAgBD,GAE1C/0G,KAAKi1G,eAAe/vC,IAAellE,KAAKk1G,iBAAiBH,IAC7Dv2C,GAAW,SAACxyC,GAA2B,SAAKmpF,kBAAkBnpF,EAAU+oF,OAIpE,YAAAI,kBAAR,SAA0BC,EAAkBL,GAA5C,WACE/0G,KAAKq1G,yBACLr1G,KAAKs1G,eAAeF,EAAUL,GAC9B/0G,KAAKkxB,KAAKkkF,EAAU,GACpBp1G,KAAKu1G,WAAWH,EAAUL,GAC1B/0G,KAAKw1G,cAAcJ,EAAUL,GAE7B/0G,KAAKwlF,KAAKiB,mBAAkB,WAAY,SAAKniE,OAAO8wF,EAAUL,MAC9D/0G,KAAKwlF,KAAKkB,2BAA0B,WAAY,SAAK+uB,cAAcL,MAGnEn5G,YAAW,WACT,IAAMipE,EAAqB,EAAK8vC,gBAAgBD,GAChD,UAAQn6G,QAAQ5P,QAAQ6wF,QAAQ,UAAU3W,GAEtC,EAAK7C,eAAe8lB,kBACtB,EAAKn5D,KAAKomF,OAKR,YAAAE,eAAR,SAAuBF,EAAkBL,GACvC,IAAMW,EAAuB,UAAQ96G,QAAQ,eAE7C,IAAKoF,KAAK21G,gBAAgBZ,GAAqB,CAC7C,IAAM7vC,EAAqBllE,KAAKg1G,gBAAgBD,GAChDW,EAAap/D,SAAY,EAAcs/D,gBAAe,iBACtDF,EAAav5F,KAAK,KAAM,cAAc+oD,GAEtCllE,KAAK/E,KAAKszE,OAAOmnC,GAKnB,OAFAN,EAAS/tH,KAAK,cAAequH,GAEtBA,GAGD,YAAAH,WAAR,SAAmBH,EAAkBL,GAArC,WACQ7vC,EAAqBllE,KAAKg1G,gBAAgBD,GAC1Cz4F,EAAkB84F,EAASvgH,KAAK,IAAI,EAAc+gH,gBAAe,UAoBvE,OAlBA51G,KAAK/E,KAAKszE,OAAO6mC,GAEjB94F,EAAQu5F,IAAI,CACVC,MAAO,SAAChuG,GACN,EAAKiuG,aAAajuG,EAAOitG,GACzB,EAAKiB,yBACL,EAAK9kF,KAAKkkF,GACV,EAAK9wF,OAAO8wF,EAAUL,MAI1B,UAAQn6G,QAAQ5P,QAAQogC,GAAG,UAAU85C,GAAc,WACjDl6E,OAAOihC,uBAAsB,WAC3B,EAAKgqF,UAAUb,GACf,EAAKI,cAAcJ,EAAUL,SAI1BK,GAGD,YAAAI,cAAR,SAAsBJ,EAAkBL,GACtC,GAAIA,EAAmBmB,SAAU,CAC/B,IAAMr4G,EAAiB,UAAQjD,QAAQm6G,EAAmBmB,UACpDziH,EAAkB2hH,EAASj2C,IAAI,WAC/Bnc,EAAqBoyD,EAASj2C,IAAI,cAMxC,GAJgB,SAAZ1rE,GACF2hH,EAASj2C,IAAI,CAAE1rE,QAAS,QAASuvD,WAAY,WAG3CnlD,EAAOhW,OAAQ,CACjB,IAAMsuH,EAA8Bt4G,EAAO,GAAmB3C,wBACxDk7G,EAA+BhB,EAAS,GAAmBl6G,wBAC3DvL,EAAOwmH,EAAexmH,KAAOymH,EAAgB5nH,MAC7C6M,EAAM86G,EAAe96G,KAAQ+6G,EAAgB7nH,OAAS4nH,EAAe5nH,QAAU,EAErF6mH,EAASj2C,IAAI,CAAExvE,KAAI,EAAE0L,IAAG,EAAE5H,QAAO,EAAEuvD,WAAU,OAK3C,YAAAgyD,gBAAR,SAAwBD,GACtB,MAAO,OAAOA,EAAmB7vC,WAAU,OAAOllE,KAAKuC,SAASkgB,QAG1D,YAAAwyF,eAAR,SAAuB/vC,GACrB,OAAOllE,KAAKimD,SAASl8D,IAAIm7E,KAAgB,EAAcmxC,aAGjD,YAAAV,gBAAR,SAAwBZ,GACtB,QAASA,EAAmBuB,eAGtB,YAAApB,iBAAR,SAAyBH,GACvB,OAAO/0G,KAAK/E,KAAKpG,KAAK,YAAYkgH,EAAmB7vC,YAAcr9E,OAAS,GAGtE,YAAAkuH,aAAR,SAAqBjuG,EAAmBitG,GACtCjtG,EAAM+xE,iBAEN,IAAM3U,EAAqBllE,KAAKg1G,gBAAgBD,GAC1CxvC,EAAoB,IAAI7+C,KACxB8+C,EAAgB,IAAI9+C,KAE1B8+C,EAASC,QAAQF,EAAYG,cAAgB,GAE7C1lE,KAAKimD,SAAS3kD,IAAI4jE,EAAY,EAAcmxC,YAAa,CACvDl6D,KAAM,IACNgK,QAASqf,KAIL,YAAAywC,UAAR,SAAkBb,GAChBA,EAASj2C,IAAI,SAAU,IAEvB,IAAMo3C,EAAuB,UAAQ37G,QAAQ5P,QAAQuD,SACjDioH,EAAqBpB,EAAS/1B,cAE9Bm3B,EAAcD,EAAe,KAC/BC,EAAaD,EAAe,IAG9BnB,EAASj2C,IAAI,SAAUq3C,IAGjB,YAAAnB,uBAAR,WACE,IAAMoB,EAAkBz2G,KAAK/E,KAAK5T,KAAK,YAAc,EACrD2Y,KAAK/E,KAAK5T,KAAK,UAAWovH,EAAU,IAG9B,YAAAT,uBAAR,WACE,IAAMS,EAAkBz2G,KAAK/E,KAAK5T,KAAK,YAAc,EACrD2Y,KAAK/E,KAAK5T,KAAK,UAAWovH,EAAU,IAG9B,YAAAhB,cAAR,SAAsBL,GAChBA,EAAS1wC,GAAG,YACd1kE,KAAKkxB,KAAKkkF,GAEVp1G,KAAKgvB,KAAKomF,IAIN,YAAAlkF,KAAR,SAAakkF,EAAkB9jC,GACxB8jC,EAAS/tH,KAAK,eACZ2Y,KAAK/E,KAAK5T,KAAK,YAClB2Y,KAAK/E,KAAKs7C,YAAe,EAAcq/D,gBAAe,mBAGxDR,EAAS/tH,KAAK,eAAe83E,IAAI,UAAW,QAC5Ci2C,EAASsB,QAAQplC,GAAU,WACzB8jC,EAASj2C,IAAI,UAAW,aAKtB,YAAAnwC,KAAR,SAAaomF,EAAkB9jC,GACxB8jC,EAAS/tH,KAAK,eACjB2Y,KAAK/E,KAAKq7C,SAAY,EAAcs/D,gBAAe,mBACnDR,EAAS/tH,KAAK,eAAe83E,IAAI,UAAW,SAC5Ci2C,EAASj2C,IAAI,UAAW,SAASw3C,OAAOrlC,KAIpC,YAAAhtD,OAAR,SAAe8wF,EAAkBL,GAC/B,IAAM7vC,EAAqBllE,KAAKg1G,gBAAgBD,GAC1C6B,EAAsBxB,EAAS/tH,KAAK,eAEtCuvH,GAAeA,EAAY/uH,QAC7B+uH,EAAYtyF,SAGd8wF,EAAS9wF,SACT8wF,EAAS/tH,KAAK,aAAa,GAC3B,UAAQuT,QAAQ5P,QAAQo1E,IAAI,UAAU8E,IAnMjC,EAAA0wC,gBAA0B,UAC1B,EAAAS,YAAsB,OAFlBxB,EAAa,gBAPzB,EAAAl1D,UAAU,CACTt2D,OAAQ,UACR6M,SAAU,OACVguE,SAAU,IACV1F,WAAY,UACZlwE,MAAO,YAuKD,EAAQ,WAAW,oBAAqB,CAhKU,mBAgKD,EAhKvB,oBAAFmqD,SAAU,KAAR,EAAFA,GAAGo+D,UAAO,EAACC,iBAAe,iCAL7CjC,G,GAAA,EAAAA,iB,+CCXb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,SACA,4B,aAQE,WAAoBkC,GAAA,KAAAA,SA8DlB,IAAI,EAYR,O,qBAtES,YAAAn7F,KAAP,SAAYivD,EAAeiqC,EAAyBC,GAApD,WACQn6G,EAA+Bk6G,EAAgB,GAC/C1lF,EAAsBpvB,KAAKg3G,qBAAqB/uH,KAAK+X,KAAMpF,EAAQq8G,eAErE7nF,GACF2lF,EAAmBmC,SAAS,kBAAkB,WAC5C,IACIC,EAA+B,KADH,EAAKJ,OAAOhC,EAAmBqC,eAA/B,CAA+CvsC,GAI7EssC,EAAgB,EAAKE,WAAWpvH,KAAK,EAAM2S,EAASw0B,IAEhD+nF,IACF,EAAKG,YAAYrvH,KAAK,EAAMmnC,EAAQ+nF,GACpCA,EAAgB,aAGXv8G,EAAQ28G,QAAQC,gBAMvB,YAAAH,WAAR,SAAmBz8G,EAA8Bw0B,GAAjD,WAC6BpvB,KAAKw0G,UAAU55G,EAASw0B,KAGjDx0B,EAAQ28G,QAAQC,WAAa,QAG/B,IAAMC,EAA0B,WAC9B,IAAMjD,EAAqB,EAAKA,UAAU55G,EAASw0B,GAC7CooF,EAAsB,eAAgB58G,EAAQ28G,QAEhD/C,IAAcgD,IACZA,SACK58G,EAAQ28G,QAAQC,YAEvBxsH,OAAO0sH,cAAc,IAAIC,MAAM,WAC/B/8G,EAAQ28G,QAAQC,WAAa,UAOnC,OAFApoF,EAAOt1B,iBAAiB,SAAU29G,GAE3BA,GAGD,YAAAH,YAAR,SAAoBloF,EAAqB+nF,GACvC/nF,EAAOr1B,oBAAoB,SAAUo9G,IAG/B,YAAA3C,UAAR,SAAkB55G,EAA8BsyC,GAC9C,IAAMwjC,EAAmB91E,EAAQM,wBAEjC,OAAOw1E,EAAKr1E,KAAO,GAAKq1E,EAAK/gF,MAAQ,GAAK+gF,EAAK9gF,QAAUs9C,EAAU0qE,cAAgBlnC,EAAKzyE,OAASivC,EAAU5gB,aAGrG,YAAA0qF,qBAAR,SAA6Ba,GAC3B,OAAa,OAATA,EACK,KAGLA,EAAKC,aAAeD,EAAKD,aACpBC,EAEA73G,KAAKg3G,qBAAqBa,EAAKZ,gBAxE/Bc,EAAiB,cAL7B,EAAAp4D,UAAU,CACTt2D,OAAQ,UACR6M,SAAU,WACVguE,SAAU,OAwEJ,EAAQ,WAAW,oBAAqB,CArEL,mBAqEc,OArEd,IAAb,EAAA8zC,eAAA,EAAAA,eAAa,YAD9BD,G,GAAA,EAAAA,qB,kFCTb,E,KAAA,uBACA,UACA,UACA,UAEa,EAAAE,oBAA+B,UAAQ5uH,OAAO,qBAAsB,IAEjF,UAAe,EAAA4uH,oBAAoBvuH,KAEnC,EAAAuuH,oBAAoBtjH,OAAO,sBAAuB,EAAAujH,qBAClD,EAAAD,oBAAoBtjH,OAAO,kBAAmB,EAAAwjH,iBAC9C,EAAAF,oBAAoBtjH,OAAO,UAAW,EAAAyjH,U,8ECXzB,EAAAF,oBAAsB,WACjC,gBAAChvE,GAKC,YALD,IAAAA,MAAA,KACmC,IAAGA,GAAgB,KAClDzyC,QAAQ,YAAa,IACrByqC,OAEwBgI,EAAQ,M,8ECN1B,EAAAivE,gBAAkB,WAC7B,gBAACjvE,GAA+B,YAA/B,IAAAA,MAAA,KAA+B,IAAGA,GAAgB,KAAKzyC,QAAQ,YAAa,O,8ECD/E,aAEa,EAAA2hH,QAAU,WACrB,gBAACC,QAAA,IAAAA,MAAA,IACC,IAAMC,EAA6B,GAAGD,EAASn3E,OACzCq3E,EAAmB,EAAA7qF,UAAU4qF,GAEnC,OAAOC,EAAWnrH,OAAOQ,QAAQ4jH,OAAO,GAAG+G,GAAc,M,6BCN7D,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QAEA,QACA,SACA,SACA,6BACA,4BACA,4B,aAeE,WAAsBl3E,GAAA,KAAAA,gBAGpB,IAAI,EAAI,EAAI,EAchB,O,4BAZS,YAAAgsE,aAAP,SAAoBL,GAClB,OAAQA,EACNhtG,KAAKqhC,cAAcV,cAAc3gC,KAAK4gC,QAASosE,GAAoBhtG,KAAK4gC,SAGrE,YAAAI,cAAP,SAAqBD,GACnB,OAAO/gC,KAAKqhC,cAAcL,cAAcD,IAGnC,YAAAI,YAAP,SAAmBJ,GACjB,OAAO/gC,KAAKqhC,cAAcF,YAAYJ,IArB/B,cAAR,EAAAhqC,QAYK,EAAQ,WAAW,cAZF,mBAYyB,OAZzB,IAAN,EAAAkmE,QAAA,EAAAA,QAAM,WAalB,EAAsB,UAAW,cAAU,GAZvC,cAAR,EAAAlmE,QAeK,EAAQ,WAAW,cAAe,QACnC,EAAsB,UAAW,eAAW,GAfxC,cAAR,EAAAA,QAkBK,EAAQ,WAAW,cAAe,UACnC,EAAsB,UAAW,gBAAY,GAlBzC,cAAR,EAAAA,QAqBK,EAAQ,WAAW,cArBA,mBAqBuB,EArBvB,oBAARooB,oBAAQ,WAsBpB,EAAsB,UAAW,cAAU,GA1BrCq5F,EAAqB,cANjC,EAAA1iH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,mBACV5H,MAAK,UACL60C,SAAQ,YAoCF,EAAQ,WAAW,oBAAqB,CA3BI,mBA2BK,OA3BL,IAAb,EAAA9B,eAAA,EAAAA,eAAa,YAPvCm3E,G,GAAA,EAAAA,yB,gGCVb,+BAIA,OAHE,YAAAC,aAAA,WACEz4G,KAAK+sF,SAAS,CAAEr8D,OAAQ1wB,KAAK0wB,UAEjC,EAJA,GAMa,EAAAqvB,wBAA0B,CACrC3pD,SAAU,CACRs6B,OAAQ,IACR4/D,SAAU,IACVvD,SAAU,KAEZv2F,WAAU,EAEV2sC,SAAU,krC,6BCdZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAAtD,Y,aAGE,WAAY9R,EAAY1vB,EAAWU,GAGjCrC,KAAKqxB,WAAaA,EAClBrxB,KAAK2B,UAAYA,EACjB3B,KAAKqC,KAAOA,EACZrC,KAAKuT,UAAY,KACjBvT,KAAK0wB,OAAS,KACd1wB,KAAKswF,UAAW,EAChBtwF,KAAKmxB,cAAgB,GA4CzB,O,4CAzCE,YAAA+L,QAAA,WACEl9B,KAAKmxB,cAAgBnxB,KAAKuT,UAAU7pB,MAGtC,YAAAgvH,sCAAA,SAAsC/kG,GACpC3T,KAAK2hC,OAAOhuB,IAGd,YAAAG,gBAAA,WACE9T,KAAK2hC,UAGP,YAAAA,OAAA,SAAOhuB,GAAP,WACE,QADK,IAAAA,MAAA,OACA3T,KAAKswF,SAAU,CAClB,IAAIzwF,OAAO,EAGX,GAFAG,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,qBAEzBrtD,EAAsB,CACxB,IAAMmiB,EAAc91B,KAAKqC,KAAKrU,iBAE9B6R,EAAUG,KAAK2B,UAAUyV,GAAG1D,2BAA2BoiB,EAAaniB,QAEpE9T,EAAUG,KAAK2B,UAAUyV,GAAGtD,gBAAgB9T,KAAK0wB,OAAQ1wB,KAAKuT,WAC3DhH,MAAK,SAACgH,GAAc,SAAK4d,cAAgB5d,EAAU7pB,QAGxDmW,EACG0M,MAAK,WACJ,EAAK8kB,WAAWI,MAAM,EAAAh6B,OAAOwpE,kCAE9B+I,OAAM,WACL,EAAK34C,WAAWI,MAAM,EAAAh6B,OAAO0pE,+BAKrC,YAAAw3C,OAAA,WACO34G,KAAKuT,UAAU7pB,OAClBsW,KAAKuT,UAAU7pB,KAAOsW,KAAKmxB,gBAGjC,E,GAEa,EAAAtyB,iBAAmB,CAC9BzI,SAAU,CACRmd,UAAW,IACXmd,OAAQ,IACR4/D,SAAU,KAEZjhE,YAAa,uEACb74B,WAAU,I,6BCrEZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAGzC,EAAAwpD,wBAAA,yCAAoC,SAACyvC,EAA+Bj1C,GAQ/EA,EAAqBX,SAAS,CAAEuiB,GALI,SAACw8C,GACnC,OAAOA,EAAYlvH,KAAK0yB,SAAS,4BAC/Bw8F,EAAYlvH,KAAK0yB,SAAS,8BAGwB,SAAC09B,GAIrD,OAHuCA,EAAWsiB,KAC5B4J,WAAa,iBAE5B,Q,6BCfX,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAGzC,EAAAvmE,aAAA,kBAAyB,SAACgwF,GAGrCA,EACGrgG,MAAM,0BAA2B,CAChCyH,UAAW,0BACX1J,QAAS,CACPsgG,mBAAoB,CAApB,mBAAoB,SAAC9rF,EAAgBU,GAGnC,OAAOV,EAAUyV,GAAGpC,qBAAqB3S,EAAKrU,uBAInDoB,MAAM,kCAAmC,CACxC2Q,OAAQ,CAAE2wB,OAAQ,MAClBvjC,QAAS,CACPujC,OAAQ,CAAR,kCAAQ,SAACzF,EAA2BtpB,EAAgBU,GAGlD,OAAOV,EAAUyV,GAAGnC,oBAAoB5S,EAAKrU,iBAAkBi9B,EAAayF,OAAOp+B,OAGvFo9F,MAAO,CACL,YAAa,CACX74F,UAAW,6BAIhBzH,MAAM,qDAAsD,CAC3DjC,QAAS,CACP08B,WAAY,CAAZ,qBAAY,SAACloB,EAAgB+uB,GAG3B,OAAO/uB,EAAUyV,GAAGpD,cAAc0c,MAGtCg/D,MAAO,CACL,0CAA2C,CACzC74F,UAAW,6B,6BC1CrB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,OACA,SACA,QACA,QACA,4BACA,6BACA,4B,aAYE,WAAoBm0B,EAA8Bi7B,EAA8Cr6C,EAAmCkjB,GAA/G,KAAA9D,SAA8B,KAAAi7B,WAA8C,KAAAr6C,WAAmC,KAAAkjB,YAGjI9uB,KAAKytF,mBAAqB,GAC1B,IAAI,EAAI,EAAI,EAAI,EAKpB,O,uDAHS,YAAAvwD,QAAP,WACE,EAAA8oB,eAAehmD,KAAK8uB,UAAW9uB,KAAK4L,SAAU5L,KAAKgrB,OAAOxwB,QAAQ9Q,KAAMsW,KAAKimD,WAT/E,cADC,EAAAlvD,QAUK,EAAQ,WAAW,cAAe,QACnC,EAAiC,UAAW,0BAAsB,GAZ5D8hH,EAAgC,cAN5C,EAAA/iH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,4BACVitC,SAAU,UACV70C,MAAO,YAsBD,EAAQ,WAAW,oBAAqB,CAhBN,mBAgBe,OAhBf,IAAZ,EAAA4+B,cAAA,EAAAA,cAAY,SAA8C,mBAA9C,EAAsB,oBAAFurB,SAAU,KAAR,EAAFA,GAAGo+D,UAAO,EAACC,iBAAe,SAAmC,mBAAnC,OAAmC,IAAf,EAAA1pF,iBAAA,EAAAA,iBAAe,mBAJ9GyrF,G,GAAA,EAAAA,oC,+CCdb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,OACA,QACA,SACA,QACA,QACA,4BACA,6BACA,4B,cAcE,WAAoBxnF,EAAuCrG,GAA3D,MAEE,cAAO,KAHH,OACc,EAAAqG,aAAuC,EAAArG,SAIzD,EAAK+pB,QAAU,GACf,EAAKof,eAAiB,KANX,EAUX,IAAI,EAAI,EAWZ,O,kCA1BmD,iBAc1C,YAAAj3B,QAAP,sBACEl9B,KAAKwI,eAAergB,KAClB6X,KAAKqxB,WAAW8L,IAAI,EAAA1lC,OAAOo1F,2BAA2B,WAAM,OAAC,EAAK14B,eAAiB,UAIhF,YAAA24B,wBAAP,SAA+Bp8D,GAC7B1wB,KAAKm0D,eAAiBzjC,EACtB1wB,KAAKgrB,OAAOc,GACV,qDAAsD,CAAE4E,OAAM,KArBlE,cADC,EAAA35B,QAiBK,EAAQ,WAAW,cAAe,QACnC,EAA8B,UAAW,eAAW,GAnB9C+hH,EAA6B,cANzC,EAAAhjH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,0BACVitC,SAAU,UACV70C,MAAO,YA6BD,EAAQ,WAAW,oBAAqB,CArBG,mBAqBM,OArBN,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,SAA8B,mBAA9B,OAA8B,IAAZ,EAAAj9D,cAAA,EAAAA,cAAY,YANpE4rF,G,CAAsC,EAAAnwG,yBAAtC,EAAAmwG,iC,+CCfb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,OACA,QACA,QACA,QACA,4BACA,6BACA,4B,aAYE,WAAoBznF,EAAuCrG,GAAvC,KAAAqG,aAAuC,KAAArG,SAGzDhrB,KAAK0wB,OAAS,KAAd,IAAI,EAAI,EAOZ,O,kCAJS,YAAAk8D,gBAAP,WACE5sF,KAAKgrB,OAAOc,GAAG,0BAA2B,CAAE4E,OAAQ,OACpD1wB,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOo1F,4BAV/B,cADC,EAAA91F,QASK,EAAQ,WAAW,cAAe,SACnC,EAAgC,UAAW,cAAU,GAX/CgiH,EAA+B,cAN3C,EAAAjjH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,4BACVitC,SAAU,UACV70C,MAAO,YAqBD,EAAQ,WAAW,oBAAqB,CAfG,mBAeM,OAfN,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,SAA8B,mBAA9B,OAA8B,IAAZ,EAAAj9D,cAAA,EAAAA,cAAY,YAJpE6rF,G,GAAA,EAAAA,mC,+CCdb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QAEA,SACA,QACA,QACA,4BACA,6BACA,4B,aAiBE,WAAoBh1F,GAAA,KAAAA,sBAGlB/jB,KAAK6pB,WAAa,GAClB7pB,KAAKijB,UAAY,sBACjBjjB,KAAK6iB,KAAO,EAAArkB,aAAaskB,sBACzB9iB,KAAKg6F,iBAAmBj2E,EAAoBf,gBAAgBhjB,KAAKijB,WAIjE,IAAI,EAiBR,O,kCAlBS,YAAAia,QAAP,WACEl9B,KAAK6iB,KAAO7iB,KAAKg6F,iBACdnlG,MAAK,SAAC4uB,GAAiD,OAAAA,EAAiB5e,WACxE+d,UAAUC,MAGR,YAAAkrE,gBAAP,SAAuBC,GACrBhuF,KAAKg6F,iBAAiBtlG,SAAQ,SAACu5F,GAC7BA,EAASppF,SAAU,KAErBmpF,EAAgBnpF,SAAU,EAC1B7E,KAAK+jB,oBAAoBR,iBAAiBvjB,KAAKijB,UAAWjjB,KAAKg6F,kBAC/Dh6F,KAAKo6F,WAAWpM,EAAgBprE,YAG1B,YAAAw3E,WAAR,SAAmBx3E,GACjB5iB,KAAK6iB,KAAOD,EAAUC,MAhCxB,cADC,EAAA9rB,QAqBK,EAAQ,WAAW,cAAe,QACnC,EAA6B,UAAW,kBAAc,GAvBhDiiH,EAA4B,cANxC,EAAAljH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,wBACVitC,SAAU,UACV70C,MAAO,YAiCD,EAAQ,WAAW,oBAAqB,CAtBe,mBAsBN,OAtBM,IAApB,EAAA2qH,sBAAA,EAAAA,sBAAoB,YATlDD,G,GAAA,EAAAA,gC,2GCfb,QACA,QACA,QACA,4BACA,6BACA,4BAQA,aASE,aAGEh5G,KAAK0wB,OAAS,KACd1wB,KAAK6pB,WAAa,GAClB7pB,KAAK6iB,KAAO,EAAArkB,aAAaskB,sBACzB9iB,KAAK+5F,aAAe,EAAAv7F,a,MAExB,OAfE,cADC,EAAAzH,Q,iEAGD,cADC,EAAAA,Q,oEAGD,cADC,EAAAA,Q,2BACwB,mB,OAAA,IAAZ,EAAAyH,cAAA,EAAAA,cAAY,W,2BANd06G,EAAgC,cAN5C,EAAApjH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,6BACVitC,SAAU,UACV70C,MAAO,Y,sCAEI4qH,GAAb,GAAa,EAAAA,oC,2GCbb,QACA,4BACA,4BACA,6BASA,aACE,cAGF,OAJaC,EAAmC,cAP/C,EAAArjH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,gCACVitC,SAAU,UACV70C,MAAO,UACPkwE,YAAY,I,sCAED26C,GAAb,GAAa,EAAAA,uC,+CCZb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAKzC,EAAA15G,aAAA,kBAAyB,SAACgwF,GAGrCA,EACGrgG,MAAM,0BAA2B,CAChCyH,UAAW,0BACX1J,QAAS,CACPohC,YAAa,CAAb,qBAAa,SAACI,GAGZ,OAAOA,EAAmBD,yBAI/Bt/B,MAAM,kCAAmC,CACxC2Q,OAAQ,CAAE2wB,OAAQ,MAClBvjC,QAAS,CACPujC,OAAQ,CAAR,kCAAQ,SAACzF,EAA2BtpB,EAAgBU,GAGlD,OAAOV,EAAUyV,GAAGnC,oBAAoB5S,EAAKrU,iBAAkBi9B,EAAayF,OAAOp+B,MAErFi9B,SAAU,CAAV,cAAU,SAAChB,GAGT,OAAOA,EAAY1mC,OAAS,KAGhC6nG,MAAO,CACL,YAAa,CACX74F,UAAW,6BAIhBzH,MAAM,qDAAsD,CAC3DsgG,MAAO,CACL,0CAA2C,CACzC74F,UAAW,6B,6BC1CrB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,wBACA,OACA,QAEA,SACA,SACA,QACA,QACA,SACA,SACA,4BACA,6BACA,4B,cAaE,WAAoBw6B,EAAuC1lB,EAAuBC,EAC9Dq6C,EAA8Cj7B,EAA8B8D,EAC5EH,EAAiDhtB,EAAwBU,GAF7F,MAKE,cAAO,KAAH,OALc,EAAAgvB,aAAuC,EAAA1lB,KAAuB,EAAAC,WAC9D,EAAAq6C,WAA8C,EAAAj7B,SAA8B,EAAA8D,YAC5E,EAAAH,qBAAiD,EAAAhtB,YAAwB,EAAAU,OAI3F,EAAKksB,YAAc,GADR,EAyCX,IAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAmBxC,O,iHAtEsD,iBAc7C,YAAA2O,QAAP,WACE,IAAMk8E,EACJ,IAAI,EAAA72F,SAAgCviB,KAAKiqE,OAAOv/E,KAAKsV,OAEvDA,KAAKwI,eAAergB,KAAK6X,KAAK2uB,mBAAmBH,aAAarR,UAAUi8F,KAGnE,YAAAC,kBAAP,WACE,EAAA3pF,4BAA4B1vB,KAAK2L,GAAI3L,KAAK8uB,UAAW9uB,KAAK2B,YAGrD,YAAA23G,8BAAP,sBACEt5G,KAAK2B,UAAUoP,eAAe/Q,KAAKqC,KAAKrU,kBACrCue,MAAK,SAACgtG,GACL,SAAAjqF,2BACE,EAAKR,UAAW,EAAKntB,UAAW,EAAKU,KACrCk3G,EAAelwD,mBAAoB,EAAK95B,eAG3ChjB,MAAK,SAAC4nD,GAA6B,SAAKxyD,UACtCyV,GACAhD,+BACC,EAAK/R,KAAKrU,iBACVmmE,MAEH5nD,MAAK,WACJ,EAAK8kB,WAAWI,MAAM,EAAAh6B,OAAO+hH,qBAI5B,YAAAC,2BAAP,sBACEz5G,KAAK2B,UAAUoP,eAAe/Q,KAAKqC,KAAKrU,kBACrCue,MAAK,SAACgtG,GACL,SAAA9oF,yBACE,EAAK3B,UAAW,EAAKntB,UAAW,EAAKU,KAAM,KAC3Ck3G,EAAelwD,mBAAoBkwD,EAAejwD,kBAClD,EAAK/5B,eAGRhjB,MAAK,SAAC4H,GAAyB,SAAKxS,UAClCyV,GACAlD,uBAAuB,EAAK7R,KAAKrU,iBAAkBmmB,GACnD5H,MAAK,WACJ,EAAK8kB,WAAWI,MAAM,EAAAh6B,OAAO+hH,wBAK9B,YAAAjqF,SAAP,WACE,OAAOvvB,KAAKuuB,YAAY1mC,OAAS,GAG3B,YAAAoiF,OAAR,SAAe17C,GACbvuB,KAAKuuB,YAAcA,GAhErB,cADC,EAAAx3B,QAoDK,EAAQ,WAAW,cAAe,QACnC,EAAiC,UAAW,mBAAe,GAvDrD2iH,EAAgC,cAN5C,EAAA5jH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,4BACVitC,SAAU,UACV70C,MAAO,YAiED,EAAQ,WAAW,oBAAqB,CA1DG,mBA0DM,OA1DN,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,SAAuB,mBAAvB,OAAuB,IAAT,EAAAf,WAAA,EAAAA,WAAS,SAAmC,mBAAnC,OAAmC,IAAf,EAAAh8D,iBAAA,EAAAA,iBAAe,SACnD,mBADmD,EAC3E,oBAAFqrB,SAAU,KAAR,EAAFA,GAAGo+D,UAAO,EAACC,iBAAe,SAA8B,mBAA9B,OAA8B,IAAZ,EAAA5pF,cAAA,EAAAA,cAAY,SAAoD,mBAApD,OAA4B,IAAP,gBAAgB,KAAT,EAAP,UAAQwrB,WAAQ,EAACC,gBAAc,SAC/E,mBAD+E,OAC/E,IAAnB,EAAAghE,qBAAA,EAAAA,qBAAmB,0BAPhDD,G,CAAyC,EAAA/wG,yBAAzC,EAAA+wG,oC,6BCfb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,G,cAWpB,WACE/tG,EAAIhK,EAAWmtB,EAAWzsB,EAAMquB,EAChCjB,EAAoBF,EACpB7e,EAAqBigB,GAHvB,MAOE,YAAMhvB,IAAU,KAAZ,OACJ,EAAKgK,GAAKA,EACV,EAAKmjB,UAAYA,EACjB,EAAKW,mBAAqBA,EAC1B,EAAKiB,OAASA,GAAU,GACxB,EAAKnB,SAAWA,EAChB,EAAK7e,oBAAsBA,EAC3B,EAAKigB,mBAAqBA,EAE1B,EAAKuM,UATM,EA8Ef,O,oIAvF8C,iBAwB5C,YAAAA,QAAA,sBACEl9B,KAAKgpD,kBAAoBhpD,KAAKyvB,mBAAmB56B,MAC/C,SAAAm0D,GAAqB,OAAAA,EAAkB12D,KAAO,EAAKoe,uBAGjD1Q,KAAKgpD,oBAAsBhpD,KAAKuvB,UAClCvvB,KAAK+oD,wBAAwB/oD,KAAKgpD,mBAGpChpD,KAAK45G,WAAiD,IAApC9xH,OAAOymB,KAAKvO,KAAK0wB,QAAQ7oC,OAEtCmY,KAAK45G,YACR55G,KAAKupD,mCACFh9C,MAAK,WACJ,EAAK1a,MAAQ,EAAKs3D,OAAOt0D,MACvB,SAAAhD,GAAS,OAAAA,EAAMS,KAAO,EAAKo+B,OAAO7+B,YAMtCmO,KAAK45G,YAAc55G,KAAK0Q,qBAC1B1Q,KAAKupD,oCAIT,YAAAN,uBAAA,WACMjpD,KAAK6oD,iBACP7oD,KAAKkpD,aAAalpD,KAAK6oD,kBAEvB7oD,KAAKmpD,OAAS,GAEhBnpD,KAAKnO,WAAQ64B,GAMf,YAAA6kC,YAAA,WACMvvD,KAAK65G,qBACP75G,KAAK8uB,UAAUoC,KAAK,CAClBxnC,KAAMsW,KAAK0wB,OAAOhnC,KAClB8qB,KAAMxU,KAAK0wB,OAAOlc,KAClB3iB,MAAOmO,KAAKnO,MAAMS,GAClBg3D,kBAAmBtpD,KAAK6oD,iBAAiBv2D,GACzC+2D,mBAAoBrpD,KAAKgpD,kBAAkB12D,MASjD,sBAAI,kCAAmB,CAlBjB,IAkBN,WACE,SAAU0N,KAAK0wB,OAAOhnC,MAAQsW,KAAKgpD,mBAAqBhpD,KAAK6oD,kBAAoB7oD,KAAKnO,QAhBlF,YAAY,EACZ,cAAc,IAkBpB,sBAAI,iCAAkB,CAfhB,IAeN,WACE,OAAOmO,KAAKnO,MAAMS,KAAO0N,KAAK0wB,OAAO7+B,OACnCmO,KAAK6oD,iBAAiBv2D,KAAO0N,KAAK2wB,oBAClC3wB,KAAKgpD,kBAAkB12D,KAAO0N,KAAK0Q,qBAbjC,YAAY,EACZ,cAAc,IActB,E,CA5FA,OAK8C+4C,6BAAjC,EAAA74B,4B,6BCVb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,SACA,O,cAGE,WACE9B,EAAWntB,EAAWU,EACtBqO,EACA+e,EACAF,GAJF,MAQE,YAAM5tB,IAAU,KAGZ,OAFJ,EAAKmtB,UAAYA,EACjB,EAAKzsB,KAAOA,EACZ,EAAKqO,oBAAsBA,EAC3B,EAAK+e,mBAAqBA,EAC1B,EAAKF,SAAWA,EAEhB,EAAK2N,UAJM,EAkEf,O,iGA9EgD,iBAmB9C,YAAAA,QAAA,sBACEl9B,KAAKgpD,kBAAoBhpD,KAAKyvB,mBAAmB56B,MAC/C,SAACm0D,GAAsB,OAAAA,EAAkB12D,KAAO,EAAKoe,uBAGnD1Q,KAAKgpD,mBACPhpD,KAAK+oD,wBAAwB/oD,KAAKgpD,mBAEpChpD,KAAK85G,iBAAmB,GACxB95G,KAAK+5G,iBAAmB,CACtB,CACErwH,KAAM,EAAAuC,eAAe,oCACrB+tH,eAAgB,yBAChBC,WAAY,GAEd,CACEvwH,KAAM,EAAAuC,eAAe,8BACrB+tH,eAAgB,uBAChBC,WAAY,GAEd,CACEvwH,KAAM,EAAAuC,eAAe,kCACrB+tH,eAAgB,uBAChBC,WAAY,GAEd,CACEvwH,KAAM,EAAAuC,eAAe,2CACrB+tH,eAAgB,sBAChBC,WAAY,KAKlB,YAAAC,aAAA,WACE,IAAMvlG,EAAe,CACnBwlG,OAAQn6G,KAAK85G,iBACbzwD,mBAAoB75B,EAA2B4qF,qBAAqBp6G,KAAKgpD,mBACzEM,kBAAmB95B,EAA2B4qF,qBAAqBp6G,KAAK6oD,kBACxEh3D,MAAO29B,EAA2B4qF,qBAAqBp6G,KAAKnO,OAC5DwoH,aAAcr6G,KAAKqC,KAAKrU,kBAG1B,OAAOgS,KAAK2B,UACTyV,GAAGpX,KAAKs6G,eAAeN,gBAAgBrlG,IAGrC,EAAAylG,qBAAP,SAA4BjoB,GAC1B,YAAcznE,IAAVynE,EACK,GAEFA,EAAM7/F,IAGf,YAAAioH,cAAA,WACE,IAAMC,EAAqD,yBAAvCx6G,KAAKs6G,eAAeN,eACpCh6G,KAAKy6G,aAAa/pF,OAAS1wB,KAAKy6G,aAEpCz6G,KAAK8uB,UAAUoC,KAAKspF,IAExB,E,CA9EgD,EAAA/wD,6BAAnC,EAAAj6B,8B,8ECCA,EAAAsC,WAAa,CACxB4oF,UAAW,EACXC,SAAU,EACV5oF,SAAU,I,+CCXZ,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,wBACA,QACA,QACA,QACA,SACA,UACA,SACA,4BACA,4BACA,O,aAaE,WAAoBV,EAAuC1lB,EACvCmjB,EAAoD83D,EACpDj4D,EAAiDhtB,EAAwBU,EACzE0I,GAHA,KAAAsmB,aAAuC,KAAA1lB,KACvC,KAAAmjB,YAAoD,KAAA83D,WACpD,KAAAj4D,qBAAiD,KAAAhtB,YAAwB,KAAAU,OACzE,KAAA0I,WAGlB/K,KAAKuuB,YAAc,KACnBvuB,KAAK46G,mBAAqB,CACxB9qF,OAAQ,GACRD,OAAQ,GACRD,QAAS,IAqHX,IAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAyBhC,O,wGA1IS,YAAAsN,QAAP,WACEp1C,OAAO0P,OAAOwI,KAAK46G,mBAAoB56G,KAAKuuB,cAGvC,YAAA3Y,yBAAP,SAAgCJ,GAAhC,WACMnJ,EAA0BrM,KAAK2L,GAAGy+D,OAElCpqE,KAAK2uB,mBAAmBJ,YAAY1mC,OAAS,IAC/CwkB,EAAU,EAAAwuG,kCACR76G,KAAK2L,GAAI3L,KAAKqC,KAAKrU,iBAAkBwnB,EAAYxV,KAAK2B,YAI1D0K,EAAQE,MAAK,WACX,SAAK5K,UAAUyV,GAAGxB,yBAAyBJ,EAAY,EAAKnT,KAAKrU,qBAEhEue,MAAK,WACJ,EAAK8kB,WAAWI,MAAM,EAAAh6B,OAAO+hH,iBAC7B,EAAKsB,4BAA4BtlG,MAElCw0D,OAAM,SAACh0E,GACW,oBAAbA,EAAItM,MACN,EAAA0oC,+BAA+B,EAAKtD,eAKrC,YAAAgsF,4BAAP,SAAmCtlG,GACjCxV,KAAK4mF,SAAS53D,KAAK,CACjBK,YAAa,yBACbD,OAAQ,UAAQx0B,QAAQI,SAASC,MACjCisF,UAAW,IACX13F,SAAU,eACVgH,WAGE,WAEEwJ,KAAKmnF,YAAiB3xE,EAAW9rB,KAAI,IAAI,EAAAuC,eAAe,+BAG5DijC,aAAc,QAIX,YAAAuB,yBAAP,SAAgCjb,EAAiBtY,GAAjD,WACE,EAAAuzB,yBACEzwB,KAAK8uB,UAAW9uB,KAAK2B,UAAW3B,KAAKqC,KAAM,UAAQ02C,KAAKvjC,GACxDA,EAAW6zC,mBAAmB/2D,GAAIkjB,EAAW8zC,kBAAkBh3D,IAE9Dia,MAAK,SAACwuG,GAAuC,SAAKp5G,UAAUyV,GAC1DzB,0BACC7tB,OAAO0P,OAAOge,EAAYulG,EAAgB,CACxCrqF,OAAQ,CACN44B,kBAAmByxD,EAAezxD,yBAKzC/8C,MAAK,SAACyuG,GACL,IAAMC,EAAwB,EAAKL,mBAAmB19G,GACnDrI,MAAK,SAAAqmH,GAAO,OAAAA,EAAI5oH,KAAO0oH,EAAkB1oH,MAE5CxK,OAAO0P,OAAOyjH,EAAkBD,GAChC,EAAKG,mBAAmBj+G,OAIvB,YAAAk+G,yCAAP,SAAgD5lG,EAAiBtY,GAAjE,WACE,EAAA6yB,+BAA+B/vB,KAAK8uB,UAAWtZ,EAAW9rB,MACvD6iB,MAAK,WAAM,SAAK5K,UAAUyV,GAAG3B,qBAAqBD,MAClDjJ,MAAK,SAACyuG,GACL,IAAMK,EAAgC,EAAKC,0BAA0Bp+G,EAAMsY,GAE3E,EAAKolG,mBAAmB19G,GAAMnU,OAAOsyH,EAAuB,GAC5D,EAAKT,mBAAmB/qF,OAAO1nC,KAAK6yH,GACpC,EAAKG,mBAAmB,aAEzBzuG,SAAQ,WAAY,SAAK3B,SAASxE,MAAM,oCAGtC,YAAAgqB,iDAAP,SAAwD/a,EAAiBtY,GAAzE,WACE,EAAAqzB,iDAAiDvwB,KAAK8uB,UAAWtZ,EAAW9rB,MACzE6iB,MAAK,WAAM,SAAK5K,UAAUyV,GAAG1B,qBAAqBF,MAClDjJ,MAAK,SAACyuG,GACL,IAAMK,EAAgC,EAAKC,0BAA0Bp+G,EAAMsY,GAE3E,EAAKolG,mBAAmB19G,GAAMnU,OAAOsyH,EAAuB,GAC5D,EAAKT,mBAAmB9qF,OAAO3nC,KAAK6yH,GACpC,EAAKG,mBAAmB,aAEzBzuG,SAAQ,WAAY,SAAK3B,SAASxE,MAAM,gDAGtC,YAAAiqB,gCAAP,SAAuChb,EAAiBtY,GAAxD,WACQ+yB,EAAgC,WAAT/yB,EAC3B,GACA,CACEizB,SAAU,2CACVC,SAAU,4CAGd,EAAAI,gCAAgCxwB,KAAK8uB,UAAWtZ,EAAW9rB,KAAMumC,GAC9D1jB,MAAK,WAAM,SAAK5K,UAAUyV,GAAG7B,sBAAsBC,MACnDjJ,MAAK,SAACyuG,GACL,IAAMK,EAAgC,EAAKC,0BAA0Bp+G,EAAMsY,GAE3E,EAAKolG,mBAAmB19G,GAAMnU,OAAOsyH,EAAuB,GAC5D,EAAKT,mBAAmBhrF,QAAQznC,KAAK6yH,GACrC,EAAKG,mBAAmB,cAEzBzuG,SAAQ,WAAY,SAAK3B,SAASxE,MAAM,0BAGtC,YAAAsP,4BAAP,SAAmCL,EAAiBtY,GAApD,WACE,EAAA2zB,gCAAgC7wB,KAAK8uB,UAAWtZ,EAAW9rB,MACxD6iB,MAAK,WAAM,SAAK5K,UAAUyV,GAAGvB,4BAA4BL,MACzDjJ,MAAK,WACJ,IAAM8uG,EAAgC,EAAKC,0BAA0Bp+G,EAAMsY,GAE3E,EAAKolG,mBAAmB19G,GAAMnU,OAAOsyH,EAAuB,OAI3D,YAAAE,sBAAP,SAA6B/lG,GAC3BxV,KAAK8uB,UAAUyC,SACf,EAAAH,4BAA4BpxB,KAAK8uB,UAAWtZ,EAAYxV,KAAK2B,YAGxD,YAAAw5G,mBAAP,SAA0BK,GACxBx7G,KAAK46G,mBAAmBY,GAAgBjrH,MAAK,SAACN,EAAQO,GACpD,OAAAP,EAAEvG,KAAK0uB,cAAc3nB,cAAcD,EAAE9G,KAAK0uB,mBAIvC,YAAAkjG,0BAAP,SAAiCE,EAAwBhmG,GACvD,OAAOxV,KAAK46G,mBAAmBY,GAAgB/zF,WAAU,SAAAyzF,GAAO,OAAAA,EAAI5oH,KAAOkjB,EAAWljB,OA1JxF,cADC,EAAAyE,QAuIK,EAAQ,WAAW,cAAe,SACnC,EAA6B,UAAW,mBAAe,GAzIjD0kH,EAA4B,cALxC,EAAA3lH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,wBACVitC,SAAU,YAkJJ,EAAQ,WAAW,oBAAqB,CA1IG,mBA0IM,OA1IN,IAAjB,EAAAgnD,mBAAA,EAAAA,mBAAiB,SAAuB,mBAAvB,OAAuB,IAAT,EAAAf,WAAA,EAAAA,WAAS,SACV,mBADU,OAClC,IAAP,gBAAgB,KAAT,EAAP,UAAQ1wC,WAAQ,EAACC,gBAAc,SAAkD,mBAAlD,OAA2B,IAAP,gBAAgB,KAAT,EAAP,UAAQD,WAAQ,EAACgjE,eAAa,SACrD,mBADqD,OACrD,IAAnB,EAAA/B,qBAAA,EAAAA,qBAAmB,iCARhD8B,G,GAAA,EAAAA,gC,8ECdA,EAAAZ,kCAA6H,SAAClvG,EAAemqB,EAAqBtgB,EAAiB7T,GAC9L,OAAAA,EAAUoP,eAAe+kB,GAAavpB,MAAK,SAACovG,GAC1C,OAAAhwG,GAAG,SAACxe,EAAgCQ,GAEG,OAAnCguH,EAAYtyD,oBACZsyD,EAAYtyD,qBAAuB7zC,EAAW6zC,mBAAmB/2D,GAEjE3E,EAAO,CAAEjE,KAAM,oBAEfyD,Y,6BCVR,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,wBACA,OACA,QACA,SACA,QACA,QACA,SACA,6BACA,SACA,4BACA,4B,cAiBE,WAAoBkkC,EAAuCrG,EACvC2D,EAAiDG,EACjDntB,EAAwBU,EAAmB0I,GAF/D,MAKE,cAAO,KAHH,OAFc,EAAAsmB,aAAuC,EAAArG,SACvC,EAAA2D,qBAAiD,EAAAG,YACjD,EAAAntB,YAAwB,EAAAU,OAAmB,EAAA0I,WAI7D,EAAK2lB,OAAS,KACd,EAAKmvC,aAAc,EACnB,EAAKrqD,WAAa,KANP,EAqDX,IAAI,EAAI,EAAI,EAAI,EAAI,EAiBxB,O,iGAhFqD,iBAmB5C,YAAA0nB,QAAP,sBACEl9B,KAAKwI,eAAergB,KAClB6X,KAAKqxB,WAAW8L,IAAI,EAAA1lC,OAAOwoE,gBAAgB,SAAC27C,EAAQlrF,GAClD,EAAKA,OAAOhnC,KAAOgnC,EAAOhnC,SAIzBsW,KAAKwV,aACRxV,KAAKwV,WAAa,CAAE9rB,KAAMsW,KAAK0wB,OAAOhnC,QAInC,YAAAmyH,gBAAP,sBACE,EAAA5qF,0BAA0BjxB,KAAK8uB,WAC5BviB,MAAK,SAAC4kB,GACL,SAAKxvB,UAAUyV,GAAGrD,gBAAgB,EAAK2c,OAAQ,CAAEhnC,KAAMynC,OAExD5kB,MAAK,WACJ,EAAK8kB,WAAWI,MAAM,EAAAh6B,OAAOi6B,wBAI5B,YAAAoqF,8BAAP,sBACE,OAAO,EAAAhrF,8BAA8B9wB,KAAK8uB,UAAWhnC,OAAO0P,OAAO,GAAIwI,KAAK0wB,SACzEnkB,MAAK,SAACwvG,GACL,SAAKp6G,UAAUyV,GAAG9C,oBAAoB,EAAKoc,OAAOp+B,GAAIypH,EAAUryH,KAAMqyH,EAAUvnG,SAEjFjI,MAAK,WACJ,EAAKxB,SAASxE,MAAM,oCAInB,YAAAy1G,qBAAP,sBACE,EAAAvrF,yBACEzwB,KAAK8uB,UAAW9uB,KAAK2B,UAAW3B,KAAKqC,KACrC,UAAQ02C,KAAK/4C,KAAK0wB,QAAS1wB,KAAK0wB,OAAO24B,mBACvCrpD,KAAK0wB,OAAO44B,kBAAmBtpD,KAAK2uB,mBAAmBJ,YAAY1mC,OAAS,GAE3E0kB,MAAK,SAAC4H,GAAoC,SAAKxS,UAAUyV,GAAGlC,uBAC3D,EAAK7S,KAAKrU,iBAAkBlG,OAAO0P,OAAO2c,EAAY,CAAE7hB,GAAI,EAAKo+B,OAAOp+B,MAErEia,MAAK,SAAC0vG,GACL,EAAK5qF,WAAWI,MAAM,EAAAh6B,OAAO+hH,gBAAiByC,GAC9C,EAAK5qF,WAAWI,MAAM,EAAAh6B,OAAOi6B,mBAAoBuqF,GACjDn0H,OAAO0P,OAAO,EAAKk5B,OAAQurF,UAK9B,YAAAt6E,OAAP,SAAcjR,GAAd,WACE1wB,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,qBAC7BhhE,KAAK2B,UAAUyV,GAAGlC,uBAAuBlV,KAAKqC,KAAKrU,iBAAkB0iC,GAClEhkB,SAAQ,WACP,EAAK2kB,WAAWI,MAAM,EAAAh6B,OAAOwpE,mCAI5B,YAAA2rB,gBAAP,WACE5sF,KAAKgrB,OAAOc,GAAG,0BAA2B,CAAE4E,OAAQ,OACpD1wB,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOo1F,4BA5E/B,cADC,EAAA91F,QAiEK,EAAQ,WAAW,cAAe,SACnC,EAAgC,UAAW,cAAU,GA/D1D,cADC,EAAAA,QAmEK,EAAQ,WAAW,cAAe,UACnC,EAAgC,UAAW,mBAAe,GAjE/D,cADC,EAAAA,MAAM,CAAEK,UAAU,IAqEb,EAAQ,WAAW,cAAe,SACnC,EAAgC,UAAW,kBAAc,GA3EnD8kH,EAA+B,cAP3C,EAAApmH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,4BACVitC,SAAU,UACV70C,MAAO,UACPkwE,YAAY,IAsFN,EAAQ,WAAW,oBAAqB,CA5EG,mBA4EM,OA5EN,IAAjB,EAAA2rB,mBAAA,EAAAA,mBAAiB,SAA8B,mBAA9B,OAA8B,IAAZ,EAAAj9D,cAAA,EAAAA,cAAY,SACpB,mBADoB,OACpB,IAAnB,EAAAysF,qBAAA,EAAAA,qBAAmB,SAAoD,mBAApD,OAA4B,IAAP,gBAAgB,KAAT,EAAP,UAAQjhE,WAAQ,EAACC,gBAAc,iCATpGujE,G,CAAwC,EAAAvzG,yBAAxC,EAAAuzG,mC,+CClBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QAEA,SACA,QACA,QACA,4BACA,6BACA,4B,aAiBE,WAAoBn4F,GAAA,KAAAA,sBAGlB/jB,KAAK0wB,OAAS,GACd1wB,KAAKijB,UAAY,sBACjBjjB,KAAK6iB,KAAO,EAAArkB,aAAaskB,sBACzB9iB,KAAKg6F,iBAAmBj2E,EAAoBf,gBAAgBhjB,KAAKijB,WAIjE,IAAI,EAiBR,O,kCAlBS,YAAAia,QAAP,WACEl9B,KAAK6iB,KAAO7iB,KAAKg6F,iBACdnlG,MAAK,SAAC4uB,GAAiD,OAAAA,EAAiB5e,WACxE+d,UAAUC,MAGR,YAAAkrE,gBAAP,SAAuBC,GACrBhuF,KAAKg6F,iBAAiBtlG,SAAQ,SAACu5F,GAC7BA,EAASppF,SAAU,KAErBmpF,EAAgBnpF,SAAU,EAC1B7E,KAAK+jB,oBAAoBR,iBAAiBvjB,KAAKijB,UAAWjjB,KAAKg6F,kBAC/Dh6F,KAAKo6F,WAAWpM,EAAgBprE,YAG1B,YAAAw3E,WAAR,SAAmBx3E,GACjB5iB,KAAK6iB,KAAOD,EAAUC,MAhCxB,cADC,EAAA9rB,QAqBK,EAAQ,WAAW,cAAe,SACnC,EAA6B,UAAW,cAAU,GAvB5ColH,EAA4B,cANxC,EAAArmH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,wBACVitC,SAAU,UACV70C,MAAO,YAiCD,EAAQ,WAAW,oBAAqB,CAtBe,mBAsBN,OAtBM,IAApB,EAAA2qH,sBAAA,EAAAA,sBAAoB,YATlDkD,G,GAAA,EAAAA,gC,+CCfb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,wBACA,QACA,SACA,QACA,QACA,QACA,6BACA,SACA,4BACA,6BACA,4B,cAiBE,WAAoB9qF,EAAuCvC,EACvCntB,EAAwBygE,GAD5C,MAIE,cAAO,KAJH,OAAc,EAAA/wC,aAAuC,EAAAvC,YACvC,EAAAntB,YAAwB,EAAAygE,oBAI1C,EAAK1xC,OAAS,KACd,EAAK7N,KAAO,EAAArkB,aAAaskB,sBACzB,EAAKi3E,aAAe,EAAAv7F,aACpB,EAAKqrB,WAAa,GARP,EA2BX,IAAI,EAAI,EAAI,EAAI,EAmBpB,O,qEAvDsD,iBAoB7C,YAAAqT,QAAP,sBACEl9B,KAAKo8G,mBAEL,IAAMC,EAA0Br8G,KAAKqxB,WAAW8L,IAC9C,EAAA1lC,OAAOi6B,oBACP,WAAM,SAAK0qF,sBAGPE,EAA0Bt8G,KAAKqxB,WAAW8L,IAC9C,EAAA1lC,OAAO8kH,gBACP,SAACz0G,EAAOzgB,GACFA,EAAKwsB,iBAAiBvhB,KAAO,EAAKo+B,OAAOp+B,IAC3C,EAAK8vE,kBAAkBt2C,GAAG,8BAKhC9rB,KAAKwI,eAAergB,KAAKk0H,EAAyBC,IAG7C,YAAAE,cAAP,SAAqBjpG,GAArB,WACE,EAAAqe,0BAA0B5xB,KAAK8uB,UAAWvb,EAAWvT,KAAK0wB,QACvDnkB,MAAK,WAAsB,SAAK5K,UAAUyV,GAAGxD,gBAAgB,EAAK8c,OAAQnd,MAC1EhH,MAAK,WACJ,EAAKsd,WAAa,EAAKA,WAAWl1B,QAAO,SAAA+kB,GAAQ,OAAAA,EAAKpnB,KAAOihB,EAAUjhB,UAIrE,YAAA8pH,iBAAR,sBACEp8G,KAAK2B,UAAUyV,GAAGpD,cAAchU,KAAK0wB,QAAQnkB,MAC3C,SAACsd,GACC,EAAKA,WAAaA,MAjDxB,cADC,EAAA9yB,QAsCK,EAAQ,WAAW,cAAe,SACnC,EAAiC,UAAW,cAAU,GApC3D,cADC,EAAAA,QAwCK,EAAQ,WAAW,cAvCA,mBAuCuB,OAvCvB,IAAZ,EAAAyH,cAAA,EAAAA,cAAY,WAwCpB,EAAiC,UAAW,YAAQ,GA5C9Ci+G,EAAgC,cAN5C,EAAA3mH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,6BACVitC,SAAU,UACV70C,MAAO,CAAC,UAAa,aAsDf,EAAQ,WAAW,oBAAqB,CA3CG,mBA2CM,OA3CN,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,SAAoD,mBAApD,OAA4B,IAAP,gBAAgB,KAAT,EAAP,UAAQzxC,WAAQ,EAACC,gBAAc,0BAT1F8jE,G,CAAyC,EAAA9zG,yBAAzC,EAAA8zG,oC,6HCjBb,QACA,4BACA,6BACA,4BASA,aACE,cAGF,OAJaC,EAAmC,cAP/C,EAAA5mH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,gCACVitC,SAAU,UACV70C,MAAO,UACPkwE,YAAY,I,sCAEDk+C,GAAb,GAAa,EAAAA,uC,+CCZb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,OACA,wBACA,QACA,SACA,QACA,QACA,SACA,6BACA,SACA,4BACA,4B,cAcE,WAAoBrrF,EAAuCvC,EACvC9D,EAA8B2D,EAC9BhtB,EAAwBU,EAAmB0I,GAF/D,MAKE,cAAO,KADH,OAJc,EAAAsmB,aAAuC,EAAAvC,YACvC,EAAA9D,SAA8B,EAAA2D,qBAC9B,EAAAhtB,YAAwB,EAAAU,OAAmB,EAAA0I,WAI7D,EAAKwjB,YAAc,GACnB,EAAKouF,mBAAqB,KAHf,EAqDX,IAAI,EAAI,EAAI,EAAI,EAAI,EA8BxB,O,iGA7FmD,iBAgB1C,YAAAz/E,QAAP,sBACEl9B,KAAKwI,eAAergB,KAClB6X,KAAKqxB,WAAW8L,IACd,EAAA1lC,OAAO+hH,iBACP,WAAM,SAAKoD,wBAMf58G,KAAKwI,eAAergB,KAClB6X,KAAKqxB,WAAW8L,IAAI,EAAA1lC,OAAOwoE,gBAAgB,SAAC27C,EAAQK,GAClD,IAAMY,EAAsB,EAAKtuF,YAAY15B,MAAK,SAAA67B,GAAU,OAAAA,EAAOp+B,KAAO2pH,EAAc3pH,MAEpFuqH,IACFA,EAAenzH,KAAOuyH,EAAcvyH,UAK1CsW,KAAKwI,eAAergB,KAAK6X,KAAKqxB,WAAW8L,IACvC,EAAA1lC,OAAOo1F,2BACP,WAAY,OAAC,EAAK8vB,mBAAqB,UAIpC,YAAA7vB,wBAAP,SAA+Bp8D,GAC7B1wB,KAAK28G,mBAAqBjsF,EAC1B1wB,KAAKgrB,OAAOc,GAAG,qDAAsD,CAAE4E,OAAM,KAGxE,YAAAorF,8BAAP,SAAqCprF,GAArC,WACE,OAAO,EAAAI,8BAA8B9wB,KAAK8uB,UAAWhnC,OAAO0P,OAAO,GAAIk5B,IACpEnkB,MAAK,SAACwvG,GAAkC,SAAKp6G,UAAUyV,GACrD9C,oBAAoBoc,EAAOp+B,GAAIypH,EAAUryH,KAAMqyH,EAAUvnG,SAE3DjI,MAAK,WACF,EAAKxB,SAASxE,MAAM,oCAKrB,YAAAy1G,qBAAP,SAA4BtrF,GAA5B,WACE,EAAAD,yBACEzwB,KAAK8uB,UAAW9uB,KAAK2B,UAAW3B,KAAKqC,KACrC,UAAQ02C,KAAKroB,GAASA,EAAO24B,mBAC7B34B,EAAO44B,kBAAmBtpD,KAAKuuB,YAAY1mC,OAAS,GAEnD0kB,MAAK,SAAC4H,GAAmC,SAAKxS,UAAUyV,GAAGlC,uBAC1D,EAAK7S,KAAKrU,iBACVlG,OAAO0P,OAAOk5B,EAAQvc,OAEvB5H,MAAK,SAAC0vG,GACL,EAAK5qF,WAAWI,MAAM,EAAAh6B,OAAOwoE,eAAgBg8C,GAC7C,EAAK5qF,WAAWI,MAAM,EAAAh6B,OAAOi6B,mBAAoBuqF,OAIhD,YAAAhoG,aAAP,SAAoBJ,GAApB,WACE,EAAAme,mCAAmChyB,KAAK8uB,UAAWjb,GAChDtH,MAAK,WAAqB,SAAK5K,UAAUyV,GAAGnD,aAAa,EAAK5R,KAAKrU,iBAAkB6lB,MACrFtH,MAAK,WACJ,EAAKgiB,YAAYxlC,OACf,EAAKwlC,YAAY9G,WAAU,SAAAiJ,GAAU,OAAAA,EAAOp+B,KAAOuhB,EAAiBvhB,MACpE,GAGF,EAAK++B,WAAWI,MAAM,EAAAh6B,OAAO8kH,eAAgB,CAAE1oG,iBAAgB,QAI7D,YAAA+oG,kBAAR,sBACE58G,KAAK2uB,mBAAmBD,oBACrBniB,MAAK,SAACzX,GACL,EAAKy5B,YAAcz5B,MAxFzB,cADC,EAAAiC,QAiEK,EAAQ,WAAW,cAAe,QACnC,EAA8B,UAAW,mBAAe,GAnElD+lH,EAA6B,cANzC,EAAAhnH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,0BACVitC,SAAU,UACV70C,MAAO,YA6ED,EAAQ,WAAW,oBAAqB,CArEG,mBAqEM,OArEN,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,SAAoD,mBAApD,OAA4B,IAAP,gBAAgB,KAAT,EAAP,UAAQzxC,WAAQ,EAACC,gBAAc,SAC7D,mBAD6D,OAC7D,IAAZ,EAAAzrB,cAAA,EAAAA,cAAY,SAAiD,mBAAjD,OAAiD,IAAnB,EAAAysF,qBAAA,EAAAA,qBAAmB,iCAP9EmD,G,CAAsC,EAAAn0G,yBAAtC,EAAAm0G,iC,2GCjBb,QACA,4BACA,4BACA,6BAQA,aACE,cAGF,OAJaC,EAA8B,cAN1C,EAAAjnH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,2BACVitC,SAAU,UACV70C,MAAO,Y,sCAEIyuH,GAAb,GAAa,EAAAA,kC,2GCZb,2BACA,4BACA,4BACA,4BACA,4BACA,4BACA,4BACA,4BACA,4BACA,4BAEA,0BACa,EAAAC,kBAA6B,UAAQ3zH,OAAO,kBAAmB,CAC1E,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAEF,UAAe,EAAA2zH,kBAAkBtzH,M,6BCtBjC,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,2BACA,SACA,4B,aASE,WAAoBkiB,GAAA,KAAAA,WAsBlB,IAAI,EAOR,O,uBAzBS,YAAAgQ,KAAP,SAAYivD,EAAeiqC,EAAyBC,GAApD,WACQ7lF,EAAuB,UAAI6lF,EAAoB,eAAgB,SAC/DkI,EAAgC,UAAIpyC,EAAO,GAAG37C,EAAgB,MAC9DguF,EAA0B,UAAInI,EAAoB,kBAAmB,uBACrE//G,EAAsB,UAAI61E,EAAO,GAAGqyC,EAAmB,MAE7D,GAAyB,OAArBD,EACF,KAAM,yEAAyE/tF,EAAY,IAG7F,GAAoB,OAAhBl6B,EACF,KAAM,6DAA6Dk6B,EAAY,IAAIguF,EAGrFpI,EAAgB1pF,GAAG,wCAAwC,WACzD,EAAKxf,UAAS,WACZqxG,EAAiBE,8BAAgCF,EAAiBE,6BAClEF,EAAiBG,+BAAiCpoH,QAItD61E,EAAM1tC,IAAI,YAAY,WACpB23E,EAAgB10C,IAAI,4CA3Bbi9C,EAAuC,cANnD,EAAA19D,UAAU,CACTt2D,OAAQ,UACR6M,SAAU,iCACVguE,SAAU,KACV2G,OAAO,IAiCD,EAAQ,WAAW,oBAAqB,CA9BD,mBA8BU,OA9BV,IAAf,EAAAz9C,iBAAA,EAAAA,iBAAe,YADlCiwF,G,GAAA,EAAAA,2C,6BCVb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,QACA,QACA,SACA,4BACA,4BACA,6B,aAcE,WAAoBrxF,GAAA,KAAAA,WAGlBhsB,KAAK9T,MAAQ,GADb,IAAI,EAAI,EAWZ,O,uBAPS,YAAAgxC,QAAP,gBACwBxS,IAAlB1qB,KAAKlD,WACPkD,KAAKlD,WAAakD,KAAKgsB,SAAS7P,KAAK,aAGvCnc,KAAK+2F,iBAAmCrsE,IAArB1qB,KAAK+2F,aAAmC/2F,KAAK+2F,aAhB9C,cAAnB,EAAAh7C,mBAUK,EAAQ,WAAW,cAVsB,mBAUC,OAVD,IAAlB,EAAAi1D,oBAAA,EAAAA,oBAAkB,WAW1C,EAAmC,UAAW,eAAW,GAVnC,cAA1B,EAAAj6G,MAAM,CAAEK,UAAU,IAab,EAAQ,WAAW,cAAe,UACnC,EAAmC,UAAW,mBAAe,GAbzD,cAAR,EAAAL,QAgBK,EAAQ,WAAW,cAAe,SACnC,EAAmC,UAAW,aAAS,GAhBjC,cAA1B,EAAAA,MAAM,CAAEK,UAAU,IAmBb,EAAQ,WAAW,cAAe,UACnC,EAAmC,UAAW,gBAAY,GAxBpDkmH,EAAkC,cAN9C,EAAAxnH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,8BACVitC,SAAU,UACV70C,MAAO,YAkCD,EAAQ,WAAW,oBAAqB,CA1BG,mBA0BM,OA1BN,IAAnB,EAAAkzE,qBAAA,EAAAA,qBAAmB,YANtC87C,G,GAAA,EAAAA,sC,+CCbb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAIzC,EAAA3zD,+BAAA,yCAA2C,SAAC8lC,EAA+Bj1C,GAGtFA,EAAqBX,SAAS,CAAEuiB,GAAI,uBAAwB,SAACtiB,GAC3D,IAAM+rC,EAAiC/rC,EAAWsiB,KAIlD,OAHCypB,EAAqB7f,WAAa,iBAClC6f,EAAqBlqD,KAAO,WAEtB,KAGT8zD,EACGrgG,MAAM,kBAAmB,CACxByH,UAAW,0BACXkJ,OAAQ,CACN+hF,QAAS,KACTpvF,WAAY,MAEdvF,QAAS,CACPuF,WAAY,CAAZ,kDAAY,SAACiZ,EAAesf,EAA2B5oB,EAAWV,EAAsB+I,GAOtF,OAJyCugB,EAAav4B,WACpDiZ,EAAGy+D,KAAKn/C,EAAav4B,YACrBiP,EAAUkqE,GAAGp5D,6BAA6BpQ,EAAKqP,oBAG9CnF,MAAK,SAAC7Z,GAEL,OADAgY,EAASy9D,sBAAsBz1E,GACxBiP,EAAU6O,qBAAqB9d,EAAWJ,OAElD03E,OAAM,WAEH,OADAt/D,EAASy9D,sBAAsB,MACxBx8D,EAAGhe,oB,6BCrC1B,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,OACA,2BACA,QACA,QAEA,SACA,SACA,QACA,QACA,SACA,SACA,4BACA,6BACA,4B,aAoBE,WAAoB0jC,EAAuCq8D,EACvCziE,EAAmC1oB,EAA4BZ,EAC/DoiB,EAAkDiH,EAClDxI,EAAkD9X,GAHlD,KAAA2mB,aAAuC,KAAAq8D,UACvC,KAAAziE,eAAmC,KAAA1oB,WAA4B,KAAAZ,YAC/D,KAAAoiB,sBAAkD,KAAAiH,SAClD,KAAAxI,sBAAkD,KAAA9X,WAGpE1K,KAAKtN,WAAa,KAClBsN,KAAK8hF,QAAU72D,EAAa62D,QAC5B9hF,KAAK4tF,cAAgB,GACrB5tF,KAAK6tF,SAAW,EAAArvF,aAAamkB,WAC7B3iB,KAAKu9G,2BAA4B,EACjCv9G,KAAKw9G,0BAA2B,EAChCx9G,KAAK2tF,kBAAoB,yBACzB3tF,KAAKy9G,2BAAgCz9G,KAAK2tF,kBAAiB,0BAkD3D,IAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAsBpC,O,yIArES,YAAAzwD,QAAP,WACEl9B,KAAKu9G,0BAA4Bv9G,KAAKwiB,oBAAoBW,OAAOnjB,KAAKy9G,4BACtEz9G,KAAKw9G,yBAA2B,UAAIx9G,KAAM,2CAA2C,KAAWA,KAAKtN,WAAWosF,aAAah0D,WAC7H9qB,KAAK4tF,cAAgB5tF,KAAK+jB,oBAAoBf,gBAAgBhjB,KAAK2tF,mBACnE3tF,KAAK6tF,SAAW7tF,KAAK4tF,cAAc/4F,MAAK,SAAC4uB,GAAwC,OAAAA,EAAiB5e,WAC/F+d,UAAUC,MAGR,YAAAkiB,YAAP,WACE/kC,KAAK0K,SAASy9D,sBAAsB,MACpCnoE,KAAKgrB,OAAOc,GAAG,uBAGV,YAAA4xF,kCAAP,SAAyCnqG,EAAWoqG,GAApD,WACQjrH,EAAkB,CAAEJ,GAAIqrH,EAAoB3qG,eAClDlrB,OAAO0P,OAAO+b,EAAUqqG,sBAAuB,CAAElrH,WAAU,IAE3DsN,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,qBAC7BhhE,KAAK2B,UAAUyV,GACZ3D,2BAA2BzT,KAAKuC,SAASkgB,OAAQlP,EAAUjhB,GAAIihB,EAAUqqG,uBACzElxG,SAAQ,WAAqB,SAAK2kB,WAAWI,MAAM,EAAAh6B,OAAOwpE,mCAGxD,YAAA8sB,gBAAP,SAAuBC,GACrBhuF,KAAK4tF,cAAcl5F,SAAQ,SAACu5F,GAC1BnmG,OAAO0P,OAAOy2F,EAAU,CAAEppF,SAAS,OAErC/c,OAAO0P,OAAOw2F,EAAiB,CAAEnpF,SAAS,IAC1C7E,KAAK+jB,oBAAoBR,iBAAiBvjB,KAAK2tF,kBAAmB3tF,KAAK4tF,eACvE5tF,KAAK6tF,SAAWG,EAAgBprE,UAAUC,MAGrC,YAAAqrE,eAAP,SAAsBt4F,GACpB,OAAOoK,KAAK6tF,WAAa,EAAArvF,aAAaukB,qBAAsB,GAAGntB,GAAQsrC,OAAOr5C,QAGzE,YAAAsmG,qBAAP,SAA4BtjE,GAC1B,OAAO7qB,KAAK6tF,WAAa,EAAArvF,aAAamkB,eAClC,GAAG3iB,KAAK0tF,QAA4B,sBAAjC1tF,CAAwD6qB,IAAeqW,OAAOr5C,QAGhF,YAAAg2H,sBAAP,WACE,OAAO,UAAI79G,KAAM,wCAAwC,KAAW,UAAIA,KAAM,0BAA0B,IAGnG,YAAA89G,kBAAP,SAAyBt3F,EAAYjT,GACnC,GAAIiT,EAAO,CACT,IAAMtM,EAAiB3G,EAAUwqG,YAC9BlpH,MAAK,SAAC6kB,GAAuB,OAAAA,EAAKwM,WAAaM,EAAMl0B,MAExDihB,EAAU2G,UAAY,UAAIA,EAAW,OAAQ,SAE7C3G,EAAU2G,UAAY,IAInB,YAAA8jG,mBAAP,SAA0BzqG,GACxB,OAAOvT,KAAKw9G,0BAA4Bx9G,KAAKu9G,2BAA6BhqG,EAAU2G,WAG/E,YAAA+jG,qBAAP,WACEj+G,KAAKu9G,2BAA4B,EACjCv9G,KAAKwiB,oBAAoB/0B,IAAIuS,KAAKy9G,2BAA4B,SAGzD,YAAAS,qBAAP,WACEl+G,KAAKu9G,2BAA4B,EACjCv9G,KAAKwiB,oBAAoB8B,OAAOtkB,KAAKy9G,6BA9F9B,cAAR,EAAA1mH,QA6EK,EAAQ,WAAW,cAAe,SACnC,EAAiC,UAAW,kBAAc,GA/EpDonH,EAAgC,cAN5C,EAAAroH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,4BACVitC,SAAU,UACV70C,MAAO,YAyFD,EAAQ,WAAW,oBAAqB,CA3EG,mBA2EM,OA3EN,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,SAAiC,mBAAjC,OAAiC,IAAd,EAAAi0B,gBAAA,EAAAA,gBAAc,SACrC,mBADqC,OACrC,IAAX,EAAAjxF,aAAA,EAAAA,aAAW,SAA4B,mBAA5B,OAA4B,IAAR,EAAA5qB,UAAA,EAAAA,UAAQ,SAA8B,mBAA9B,OAA8B,IAAT,EAAAZ,WAAA,EAAAA,WAAS,SAC3C,mBAD2C,OAC3C,IAAnB,EAAAoiB,qBAAA,EAAAA,qBAAmB,SAA8B,mBAA9B,OAA8B,IAAZ,EAAAmJ,cAAA,EAAAA,cAAY,SAC9B,mBAD8B,OAC9B,IAAnB,EAAA1K,qBAAA,EAAAA,qBAAmB,mBAfjD27F,G,GAAA,EAAAA,oC,+CCrBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GACtB,SACA,SAGa,EAAAt0D,oCAAA,yCAAgD,SAAC4lC,EAA+Bj1C,IAI3F,yBADU,OAAkB,OAAX,GAAmB,EAAO,MAAM,KAAM,YAAc,KAC5C,iBAChB,YAAAE,YAAP,WACE,MAAO,CAAE0hB,GAAI,0BAGR,YAAAviB,SAAP,SAAgBC,GACd,IAAM+rC,EAAiC/rC,EAAWsiB,KAIlD,OAHCypB,EAAqB7f,WAAa,iBAClC6f,EAAqBlqD,KAAO,WAEtB,GAVL0iF,EAAU,cADf,EAAA9jE,2BAA2BC,IACtB6jE,GAAN,CAAyB,EAAA/jE,mBAczBm1C,EACGrgG,MAAM,qBAAsB,CAC3ByH,UAAW,+BACX1J,QAAS,CACPoH,YAAa,CAAb,4BAAa,SAACy2B,EAAqB3oB,EAAWV,GAG5C,IAAM4xB,EAAelxB,EAAKqZ,8BAA6B,GACvD,OAAOrZ,EAAKyZ,UAAU,GACnBvP,MAAK,SAAAiD,GAAU,OAAA7N,EAAUyP,mBAAmB5B,EAAQ+jB,MACpDhnB,MAAK,SAAC+D,GACL,OAAO3O,EAAU6O,qBAAqBF,EAAY,GAAGhe,IAClDia,MAAK,SAAC+xG,GACL,OAAOhuG,EAAYtgB,KAAI,SAACgN,GAAe,OAAAlV,OAAO0P,OAAOwF,EAAY,CAC/DwlF,6BAA8B87B,EAAkB97B,wCAIvDxY,OAAM,WAAM,OAAAh/C,EAAOntB,OAAO,mC,6BC1CvC,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,2BACA,QACA,QAEA,SACA,SACA,QACA,QACA,SACA,SACA,4BACA,6BACA,4B,aAoBE,WAAoBwzB,EAAuCq8D,EACvC/rF,EAA8BY,EAC9BwhB,EAAkDvB,GAFlD,KAAA6O,aAAuC,KAAAq8D,UACvC,KAAA/rF,YAA8B,KAAAY,WAC9B,KAAAwhB,sBAAkD,KAAAvB,sBAGpExiB,KAAKzL,YAAc,GACnByL,KAAK4tF,cAAgB,GACrB5tF,KAAK0jC,mBAAqB,KAC1B1jC,KAAK6tF,SAAW,EAAArvF,aAAamkB,WAC7B3iB,KAAKu9G,2BAA4B,EACjCv9G,KAAKw9G,0BAA2B,EAChCx9G,KAAK2tF,kBAAoB,4BACzB3tF,KAAKy9G,2BAAgCz9G,KAAK2tF,kBAAiB,0BA6C3D,IAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAuB5B,O,sGAjES,YAAAzwD,QAAP,WACEl9B,KAAKu9G,0BAA4Bv9G,KAAKwiB,oBAAoBW,OAAOnjB,KAAKy9G,4BACtEz9G,KAAK4tF,cAAgB5tF,KAAK+jB,oBAAoBf,gBAAgBhjB,KAAK2tF,mBACnE3tF,KAAK6tF,SAAW7tF,KAAK4tF,cAAc/4F,MAAK,SAAA4uB,GAAoB,OAAAA,EAAiB5e,WAC1E+d,UAAUC,KACb7iB,KAAK0jC,mBAAqB1jC,KAAKzL,YAAY,GAC3CyL,KAAKw9G,yBAA2B,UAAIx9G,KAAM,mDAAmD,KAAWA,KAAK0jC,mBAAmBo7C,aAAah0D,YAGxI,YAAAyzF,8BAAP,WACE,OAAO,UAAIv+G,KAAM,gDAAgD,KAAW,UAAIA,KAAM,iCAAiC,IAGlH,YAAA09G,kCAAP,SAAyCnqG,EAAgBoqG,GAAzD,WACQjrH,EAAkB,CAAEJ,GAAIqrH,EAAoBjrH,YAClD5K,OAAO0P,OAAO+b,EAAUqqG,sBAAuB,CAAElrH,WAAU,IAE3DsN,KAAKqxB,WAAWI,MAAM,EAAAh6B,OAAOupE,qBAC7BhhE,KAAK2B,UAAUyV,GACZ3D,2BAA2BzT,KAAKuC,SAASkgB,OAAQlP,EAAUjhB,GAAIihB,EAAUqqG,uBACzElxG,SAAQ,WAAqB,SAAK2kB,WAAWI,MAAM,EAAAh6B,OAAOwpE,mCAGxD,YAAA8sB,gBAAP,SAAuBC,GACrBhuF,KAAK4tF,cAAcl5F,SAAQ,SAACu5F,GAC1BnmG,OAAO0P,OAAOy2F,EAAU,CAAEppF,SAAS,OAErC/c,OAAO0P,OAAOw2F,EAAiB,CAAEnpF,SAAS,IAC1C7E,KAAK+jB,oBAAoBR,iBAAiBvjB,KAAK2tF,kBAAmB3tF,KAAK4tF,eACvE5tF,KAAK6tF,SAAWG,EAAgBprE,UAAUC,MAGrC,YAAAqrE,eAAP,SAAsBt4F,GACpB,OAAOoK,KAAK6tF,WAAa,EAAArvF,aAAaukB,qBAAsB,GAAGntB,GAAQsrC,OAAOr5C,QAGzE,YAAAsmG,qBAAP,SAA4BtjE,GAC1B,OAAO7qB,KAAK6tF,WAAa,EAAArvF,aAAamkB,eAClC,GAAG3iB,KAAK0tF,QAA4B,sBAAjC1tF,CAAwD6qB,IAAeqW,OAAOr5C,QAGhF,YAAAi2H,kBAAP,SAAyBt3F,EAAYjT,GACnC,GAAIiT,EAAO,CACT,IAAMtM,EAAiB3G,EAAUwqG,YAC9BlpH,MAAK,SAAC6kB,GAAuB,OAAAA,EAAKwM,WAAaM,EAAMl0B,MAExDihB,EAAU2G,UAAY,UAAIA,EAAW,OAAQ,SAE7C3G,EAAU2G,UAAY,IAInB,YAAA8jG,mBAAP,SAA0BzqG,GACxB,OAAOvT,KAAKw9G,0BAA4Bx9G,KAAKu9G,2BAA6BhqG,EAAU2G,WAG/E,YAAA+jG,qBAAP,WACEj+G,KAAKu9G,2BAA4B,EACjCv9G,KAAKwiB,oBAAoB/0B,IAAIuS,KAAKy9G,2BAA4B,SAGzD,YAAAS,qBAAP,WACEl+G,KAAKu9G,2BAA4B,EACjCv9G,KAAKwiB,oBAAoB8B,OAAOtkB,KAAKy9G,6BAzF9B,cAAR,EAAA1mH,QAuEK,EAAQ,WAAW,cAAe,QACnC,EAAsC,UAAW,mBAAe,GAzE1DynH,EAAqC,cANjD,EAAA1oH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,kCACVitC,SAAU,UACV70C,MAAO,YAmFD,EAAQ,WAAW,oBAAqB,CArEG,mBAqEM,OArEN,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,SAAiC,mBAAjC,OAAiC,IAAd,EAAAi0B,gBAAA,EAAAA,gBAAc,SAC1C,mBAD0C,OAC1C,IAAT,EAAAz8G,WAAA,EAAAA,WAAS,SAA4B,mBAA5B,OAA4B,IAAR,EAAAY,UAAA,EAAAA,UAAQ,SACR,mBADQ,OACR,IAAnB,EAAAwhB,qBAAA,EAAAA,qBAAmB,SAAkD,mBAAlD,OAAkD,IAAnB,EAAAvB,qBAAA,EAAAA,qBAAmB,YAdnGg8F,G,GAAA,EAAAA,yC,+CCpBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAIzC,EAAAjsF,0BAAA,yCAAsC,SAACk9D,EAA+Bj1C,GAGjFA,EAAqBX,SAAS,CAAEuiB,GAAI,SAAAhtE,GAAS,OAAAA,EAAM1F,KAAK0rD,WAAW,yBAAyB,SAAC0E,GAC3F,IAAM+rC,EAAiC/rC,EAAWsiB,KAIlD,OAHCypB,EAAqB7f,WAAa,iBAClC6f,EAAqBlqD,KAAO,WAEtB,KAIT8zD,EACGrgG,MAAM,qBAAsB,CAC3BjC,QAAS,CACPsxH,iBAAkB,CAAlB,8BAAkB,SAAC/gE,EAAwC1yB,GAGzD,OAAO,IAAI99B,SAAQ,SAAAC,GACjBuwD,EAAmB3zD,MAAMozB,WAAU,SAAA5oB,GAC7BA,EAAY1M,OACdsF,EAAQoH,GAERy2B,EAAOc,GAAG,4CAMpB4jE,MAAO,CACL,IAAK,CACH74F,UAAW,sBAEb,iCAAkC,CAChCA,UAAW,qBAIhBzH,MAAM,kCAAmC,CACxCsgG,MAAO,CACL,IAAK,CACH74F,UAAW,sBAEb,8CAA+C,CAC7CA,UAAW,yC,6BChDrB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,OACA,SAEA,QACA,QACA,4BACA,6BACA,4B,cAcE,WAAoBm0B,GAApB,MAGE,cAAO,KARH,OAKc,EAAAA,SALP,EASX,IAAI,EAUR,O,qBApBqD,iBAY5C,YAAA0zF,sBAAP,SAA6BhsH,GAC3B,IAAMqN,EAAoB,CACxBrN,WAAU,EACVovF,SAAS,GAGX9hF,KAAKgrB,OAAOc,GAAG,kBAAmB/rB,IAhBpC,cADC,EAAAhJ,MAAM,CAAEM,QAAQ,IAYX,EAAQ,WAAW,cAAe,SACnC,EAAgC,UAAW,aAAS,GAVzD,cADC,EAAAN,QAcK,EAAQ,WAAW,cAAe,QACnC,EAAgC,UAAW,mBAAe,GAlBpD4nH,EAA+B,cAN3C,EAAA7oH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,2BACVitC,SAAU,UACV70C,MAAO,YA4BD,EAAQ,WAAW,oBAAqB,CApBN,mBAoBe,OApBf,IAAZ,EAAA4+B,cAAA,EAAAA,cAAY,YAN7ByxF,G,CAAwC,EAAAz7E,0BAAxC,EAAAy7E,mC,+CCdb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,SACA,QACA,4BACA,6BACA,4BACA,QACA,S,aA0DE,WAAsBjhE,EACArvB,EACA+zC,EACAC,GAHA,KAAA3kB,qBACA,KAAArvB,mBACA,KAAA+zC,oBACA,KAAAC,iBA9CtB,KAAAvhD,QAAkC,CAChC,CACE50B,MAAO,qCACPgR,KAAM,EAAAkJ,eAAe+a,WAEvB,CACEj1B,MAAO,wCACPgR,KAAM,EAAAkJ,eAAe6a,qBAEvB,CACE/0B,MAAO,uDACPgR,KAAM,EAAAkJ,eAAe8a,+BAIzB,KAAA09F,gBAAwC,CACtC,CACEv9F,GAAI,kBACJn1B,MAAO,qCACPkzB,MAAO,EAAAkC,MAAMC,KAEf,CACEF,GAAI,qBACJn1B,MAAO,6CACPkzB,MAAO,EAAAkC,MAAMC,KAEf,CACEF,GAAI,qBACJn1B,MAAO,8CACPkzB,MAAO,EAAAkC,MAAMu9F,MAEf,CACEx9F,GAAI,0BACJn1B,MAAO,yCACPkzB,MAAO,EAAAkC,MAAMu9F,MAEf,CACEx9F,GAAI,mBACJn1B,MAAO,qCACPkzB,MAAO,EAAAkC,MAAMC,MA+Bf,IAAI,EAAI,EA2BZ,O,yFA9CE,YAAA5sB,OAAA,SAAOmqH,GAZD,IAAI,EAAI,EAaN7wF,EAAUjuB,KAAKquB,iBAAiBH,WAAWtO,GAC3Cm/F,EAAaD,EAAqB1vH,MAAQ,QAAU,OACpDqvC,EAAwBxQ,EAAQnN,QAAQi+F,GAC1Cj+F,EAAO,cACNmN,EAAQnN,SAIXA,EADE2d,EAAeriB,SAAS0iG,EAAqBC,IACxC,yBACFj+F,KAAO,MACTi+F,GAAcj+F,EAAQi+F,GAAsBpqH,QAAO,SAAAxK,GAAS,OAAAA,IAAU20H,EAAqBC,MAAY,IAGnG,yBACFj+F,KAAO,MACTi+F,GAAU,WAAOj+F,EAAQi+F,GAAW,CAAED,EAAqBC,KAAW,IAI3E/+G,KAAK09C,mBAAmBjB,WAAW37B,IAGrC,YAAA2c,iBAAA,SAAiBqhF,GACf,IAAM7wF,EAAUjuB,KAAKquB,iBAAiBH,WAAWtO,GAC3Cm/F,EAAaD,EAAqB1vH,MAAQ,QAAU,OAG1D,OAF8B6+B,EAAQnN,QAAQi+F,GAExB3iG,SAAS0iG,EAAqBC,KAGtD,YAAAC,gBAAA,SAAgBC,GACd,IAAM1uH,EAAuB,CAC3B8wB,GAAI49F,EAAmB59F,GACvBjC,MAAO6/F,EAAmB7/F,OAG5Bpf,KAAK09C,mBAAmBhB,WAAWnsD,IAGrC,YAAA2uH,yBAAA,SAAyBD,GACvB,IAAME,EAAcn/G,KAAKquB,iBAAiBH,WAAWtO,GAAGrvB,KAExD,OAAO4uH,EAAY99F,KAAO49F,EAAmB59F,IAC3C89F,EAAY//F,QAAU6/F,EAAmB7/F,OAjGlCggG,EAA2B,cANvC,EAAAtpH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,sBACVitC,SAAU,UACV70C,MAAO,YAkFD,EAAQ,WAAW,oBAAqB,CAnCc,mBAmCL,OAnCK,IAAlB,EAAAovD,oBAAA,EAAAA,oBAAkB,SACJ,mBADI,OACJ,IAAhB,EAAArvB,kBAAA,EAAAA,kBAAgB,0BA9C7C+wF,G,GAAA,EAAAA,+B,2GClBb,SACA,QACA,QACA,4BACA,6BACA,4BAQA,aAIE,aAGEp/G,KAAKy+G,iBAAmB,CACtBY,eAAgB,GAChBC,WAAY,I,MAGlB,OAVE,cADC,EAAAvoH,Q,2BACkD,mB,OAAA,IAA1B,EAAAwoH,4BAAA,EAAAA,4BAA0B,W,uCAFxCC,EAAoC,cANhD,EAAA1pH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,gCACVitC,SAAU,UACV70C,MAAO,Y,sCAEIkxH,GAAb,GAAa,EAAAA,wC,2GCbb,QACA,4BACA,6BACA,4BAQA,aACE,cAGF,OAJaC,EAAwC,cANpD,EAAA3pH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,qCACVitC,SAAU,UACV70C,MAAO,Y,sCAEImxH,GAAb,GAAa,EAAAA,4C,umBCXb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAEtB,2BACA,SACA,SACA,QACA,SACA,QACA,QACA,QAEMC,EAAiB,EAAQ,MACzBC,EAA4B,EAAQ,MAwB1C,SAASC,EACP1jF,EAAQjR,EAAcD,EAAQ8D,EAAW4+D,EAAS9hF,EAAUvJ,EAAMV,EAAWS,EAAS27E,EACtF/U,EAAS62C,EAAgCz9C,EAAmB13D,EAAUK,EACtEq3E,EAAuBC,EAAqB3vF,EAAYwtC,EACxDsY,EAAgCrtC,EAAU4Y,EAAqBvB,EAC7D28B,EAAoB4wC,EAAmB1hE,EAAkByvB,EAAkBgiE,EAC3EC,EAAoCriE,GANxC,WAQQwoB,EAAKlmE,KAELxL,EAAW6N,EAAKrU,iBAGtBk4E,EAAG85C,aAAe,GAClB95C,EAAG/5D,YAAcxK,EAAUwK,YAC3B+5D,EAAGpF,iBAAmB,EACtBoF,EAAG+5C,wBAAyB,EAC5B/5C,EAAGnF,aAAc,EACjBmF,EAAGg6C,WAAY,EACfh6C,EAAGu3C,2BAAgC9vB,iDACnCznB,EAAGq3C,0BAA4B/6F,EAAoBW,OAAO+iD,EAAGu3C,4BAC7Dv3C,EAAG/mB,mBAAqBA,EACxB+mB,EAAGi6C,sBAAwBpwB,EAC3B7pB,EAAGk6C,kBAAoBh+C,EAGvB8D,EAAG9b,aAAe,CAChB5jC,MAAO,cACPw8B,WAAY,cACZ3pC,MAAM,GAER6sD,EAAGm6C,gBAAkB,CACnB,CACEhyH,OAAQ,EAAAwa,iBAAiB8zB,gBACzBzwC,MAAO,oDAET,CACEmC,OAAQ,EAAAwa,iBAAiBg1C,UACzB3xD,MAAO,qDAET,CACEmC,OAAQ,EAAAwa,iBAAiB+zB,aACzB1wC,MAAO,wDAMXg6E,EAAG8b,eAAiB/2D,EAAa+2D,eAGjC9b,EAAGv0D,gBAAkBywE,EAAsBxsF,MAC3CswE,EAAGj0E,YAAcmwF,EAAsBtD,aACvC5Y,EAAGunB,mBAAqBrL,EAAsB/wC,mBAC9C60B,EAAGo6C,WAAal+B,EAAsBm+B,YACtCr6C,EAAGs6C,aAAep+B,EAAsBq+B,eAAiBr+B,EAAsB/wC,mBAAmBxpD,OAClGq+E,EAAGs3C,yBAA2Bp7B,EAAsBG,qBAAuBrc,EAAGj0E,YAAY64B,WAC1Fo7C,EAAGh2D,SAAWmyE,EACdnc,EAAG0nB,cAAgB7pE,EAAoBf,gBA/Cb,2BAgD1BkjD,EAAG2nB,SAAW3nB,EAAG0nB,cAAc/4F,MAAK,SAAA4uB,GAAoB,OAAAA,EAAiB5e,WACtE+d,UAAUC,KAEb,IAAM69F,EAAc,EAAAC,eAAe,CACjCtyF,EAAiBuyF,eAAergH,KAAK,EAAA5L,OAAO2kB,UAC5CwkC,EAAiBhwB,UAAU,CAAC+yF,UAAU,MACrCtgH,KACD,EAAAvQ,KAAI,SAAC,GAZD,IAYC,gBAAC0C,EAAA,KAAY4d,EAAA,KAAiB,gCAC5B5d,GAAU,CACb4d,YAAa5d,EAAW4d,YAAYtgB,KAAI,SAAAkvD,GAAgB,OAAA5uC,EAAY4uC,YAGvE/hC,WAAU,SAAAzqB,GACTwzE,EAAGxzE,WAAU,cAAOA,GACpBwzE,EAAGg6C,WAAY,EAEft0G,GAAS,WACPs6D,EAAGhxD,yBACHgxD,EAAGg6C,WAAY,QAIrBh6C,EAAG46C,kBAAoB,IAAI,EAAA9hF,QAC3B,IAAM+hF,EAAsB76C,EAAG46C,kBAAkB3jG,WAAU,SAAA+hC,GACzDgnB,EAAG/mB,mBAAmBN,yBAAyB,CAACvsD,GAAI4sD,IAAe/hC,WAAU,WAC3E+oD,EAAG86C,6CAIP96C,EAAG85C,aAAa73H,MAAK,WAAM,OAAAu4H,EAAYh4G,iBACvCw9D,EAAG85C,aAAa73H,MAAK,WAAM,OAAA44H,EAAoBr4G,iBAE/Cw9D,EAAGxzE,WAAaA,EAEhBwpC,EAAOiB,IAAI,YAAY,WACrB,EAAK6iF,aAAatrH,SAAQ,SAAAgU,GAAe,OAAAA,UAO3Cw9D,EAAG+6C,2BAA6B,SAAU/wG,GACxCg2D,EAAGpF,kBAAoB,EACvBoF,EAAG+5C,wBAAyB,EAC5B/5C,EAAGnF,aAAc,EAEjBp/D,EAAU0O,wBAAwBH,GAAU3D,MAAK,SAACy4D,GAChDkB,EAAGpF,kBAAoB,EACvBoF,EAAGg7C,gCAAgCl8C,MAClC,WACDkB,EAAGpF,kBAAoB,EACvBoF,EAAGnF,aAAc,KAEhBr0D,SAAQ,WAAM,OAAAwD,EAASxb,SAAQ,SAAAunC,GAAW,OAAAiqC,EAAG46C,kBAAkBlkG,KAAKqf,EAAQj/B,mBAQjFkpE,EAAGi7C,4BAA8B,SAAUjxG,GACzCg2D,EAAGpF,kBAAoB,EACvBoF,EAAG+5C,wBAAyB,EAC5B/5C,EAAGnF,aAAc,EAEjBp/D,EAAUsO,yBAAyBvd,EAAWJ,GAAI4d,GAAU3D,MAAK,SAACy4D,GAChEkB,EAAGpF,kBAAoB,EACvBoF,EAAGk7C,iCAAiCp8C,MACnC,WACDkB,EAAGpF,kBAAoB,EACvBoF,EAAGnF,aAAc,KAEhBr0D,SAAQ,WAAM,OAAAwD,EAASxb,SAAQ,SAAAunC,GAAW,OAAAiqC,EAAG46C,kBAAkBlkG,KAAKqf,EAAQj/B,mBAGjFkpE,EAAGm7C,4BAA8B,WAC/BtB,EAAmC1mG,KAAK6sD,EAAGxzE,WAAWJ,IAAIiO,KACxD,EAAA2hC,WAAU,SAAA+c,GACR,OAAOE,EAAmBf,oBAAmB,cACxC8nB,EAAGxzE,YACLusD,GAAsB1+C,KACvB,EAAAvQ,KAAI,WAAM,OAAAivD,EAAqB5wD,eAGnC8uB,WAAU,SAAA9uB,GACNA,IAAW,EAAAwa,iBAAiB8zB,iBAC9B3R,EAAOsT,aAUb4nC,EAAGo7C,6BAA+BvjC,GAAS,SAAC7tE,GAC1Cg2D,EAAG+6C,2BAA2B/wG,KAC7B,KAOHg2D,EAAGq7C,8BAAgCxjC,GAAS,SAAC7tE,GAC3Cg2D,EAAGi7C,4BAA4BjxG,KAC9B,KAOHg2D,EAAGs7C,cAAgB,SAAUC,GACG,eAA1Bv7C,EAAGw7C,oBAAiE,wBAA1Bx7C,EAAGw7C,oBAA0E,6BAA1Bx7C,EAAGw7C,mBAClGx7C,EAAGo7C,6BAA6BG,GACG,YAA1Bv7C,EAAGw7C,oBAA8D,qBAA1Bx7C,EAAGw7C,oBAAuE,0BAA1Bx7C,EAAGw7C,oBACnGx7C,EAAGq7C,8BAA8BE,IASrCv7C,EAAGg7C,gCAAkC,SAAUS,GAC7CA,EAAyBjtH,SAAQ,SAACktH,GAChC17C,EAAGunB,mBAAmB/4F,SAAQ,SAACmf,GAC7BA,EAAiB3D,SAASxb,SAAQ,SAACunC,GACjCA,EAAQ2hF,sBAAsBlpH,SAAQ,SAAC0iC,GACjCwqF,EAActvH,KAAO8kC,EAAoB9kC,KAI7C8kC,EAAoB3Q,gBAAkBm7F,EAAcn7F,gBACpD2Q,EAAoBpQ,mBAAqB46F,EAAc56F,mBACvDoQ,EAAoBnQ,uBAAyB26F,EAAc36F,qCAYrEi/C,EAAGk7C,iCAAmC,SAAUO,GAC9CA,EAAyBjtH,SAAQ,SAACktH,GAChC17C,EAAGh2D,SAASxb,SAAQ,SAACunC,GACf2lF,EAActvH,KAAO2pC,EAAQ3pC,KAIjC2pC,EAAQlV,iBAAmB66F,EAAc76F,iBACzCkV,EAAQjV,mBAAqB46F,EAAc56F,mBAC3CiV,EAAQhV,uBAAyB26F,EAAc36F,+BASrDi/C,EAAGhuE,KAAO,WAERguE,EAAG4b,QAAU72D,EAAa62D,QAErB5b,EAAGs6C,eAKRt6C,EAAG27C,oBAMC52F,EAAa82D,aACf7b,EAAG6b,YAAc92D,EAAa82D,YAC9B7b,EAAGw7C,mBAAqBx7C,EAAG6b,aAClB7b,EAAGo6C,YACZp6C,EAAG6b,YAAc,UACjB7b,EAAGw7C,mBAAqB,YAExBx7C,EAAG6b,YAAc,aACjB7b,EAAGw7C,mBAAqB,cAG1Bx7C,EAAG47C,yBAA2B57C,EAAG67C,kCACjC77C,EAAG87C,4BAA4B97C,EAAG47C,0BAClC57C,EAAG+7C,0BAGL/7C,EAAG+7C,sBAAwB,WACzB/7C,EAAGj0E,YAAYE,OAAOuC,SAAQ,SAAC8xB,GAC7B,IAAM07F,EAAoB,CAAC,CAACh8F,SAAUM,EAAMl0B,GAAIoK,KAAM,KACtD8pB,EAAM9pB,KAAO,UAAIwpE,EAAI,qDAAsDg8C,GACxErtH,MAAK,SAAAqlB,GAAa,OAAAA,EAAUgM,WAAaM,EAAMl0B,MAAIoK,SAI1DwpE,EAAGi8C,aAAe,SAAC37F,EAAOjT,EAAWM,GACnC,IAAMquG,EAAoB,CAAC,CAACh8F,SAAUM,EAAMl0B,GAAIoK,KAAM,KAChD0lH,EAAmBvuG,EAAiBgW,WACvCh1B,MAAK,SAAAwtH,GAAc,OAAAA,EAAW/vH,KAAOihB,EAAUA,aAElD,OAAO,UAAI6uG,EAAkB,cAAeF,GACzCrtH,MAAK,SAAAqlB,GAAa,OAAAA,EAAUgM,WAAaM,EAAMl0B,MAAIoK,MAGxDwpE,EAAG67C,gCAAkC,WACnC,IAAIluG,EAOJ,OALIoX,EAAahZ,qBACf4B,EAAmBqyD,EAAGunB,mBACnB54F,MAAK,SAAA6kB,GAAQ,OAAAA,EAAKpnB,KAAO24B,EAAahZ,uBAGpC4B,GAAoBqyD,EAAGunB,mBAAmB,IAOnDvnB,EAAGnhC,YAAc,WACXmhC,EAAGo8C,qBAIPp8C,EAAGo8C,oBAAqB,EAGxB53G,EAASy9D,sBAAsB,MAE/B/F,EAAkB77B,SAQpB2/B,EAAGq8C,cAAgB,SAAUtmF,GAC3B,IAAM3pC,EAAK2pC,EAAQ3pC,GACbs1B,EAAQs+C,EAAG8b,eAAejqF,QAAQzF,GACxC2pC,EAAQ5iB,MAAQ4iB,EAAQ5iB,KAEpB4iB,EAAQ5iB,MACK,IAAXuO,GACFs+C,EAAG8b,eAAe75F,KAAKmK,IAEL,IAAXs1B,GACTs+C,EAAG8b,eAAej5F,OAAO6+B,EAAO,GAGlCw6C,EAAkB4e,aAAa,CAACgB,eAAgB9b,EAAG8b,kBAGrD9b,EAAGs8C,wBAA0B,SAACV,QAAA,IAAAA,MAA2B57C,EAAG47C,0BAC1D57C,EAAG+7C,wBACH/7C,EAAG87C,4BAA4BF,GAC/B1/C,EAAkB4e,aAAa,CAAC/uE,mBAAoB6vG,EAAyBxvH,KAC7E04B,EAAOc,GAAG,IAAK,CAAC7Z,mBAAoB6vG,EAAyBxvH,MAG/D4zE,EAAG87C,4BAA8B,SAACnuG,GAChCA,EAAiB3D,SAASxb,SAAQ,SAACunC,GACjCA,EAAQ5iB,KAAO6sD,EAAG8b,eAAe5lE,SAAS6f,EAAQ3pC,QAOtD4zE,EAAG27C,kBAAoB,WACrB37C,EAAGunB,mBAAqBvnB,EAAGunB,mBAAmB94F,QAAO,SAAA8tH,GAAwB,OAAAA,EAAqB54F,WAAWhiC,UAE7Gq+E,EAAGunB,mBAAmB/4F,SAAQ,SAAC+tH,GAC7BA,EAAqBvyG,SAAW,GAE9Bg2D,EAAGh2D,SAASxb,SAAQ,SAACguH,GACrB,IAAM1lH,EAAakpE,EAAGxzE,WAAW4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWwa,aAAekrG,EAA4BlrG,eAAe,GAC/HykB,EAAU,CACd3pC,GAAIowH,EAA4BlrG,WAChCmrG,UAAWD,EAA4BvyH,aACvCyyH,qBAAqB,EACrBhF,sBAAuB,GACvBvkG,KAAM6sD,EAAG8b,eAAe5lE,SAASsmG,EAA4BlrG,YAC7DnpB,OAAQ2O,EAAWmpB,YAAcu8F,EAA4BG,WAC7DvzH,QAAS0N,EAAWyyC,cAGtBgzE,EAAqBvyG,SAAS/nB,KAAK8zC,UAKzCiqC,EAAGhxD,uBAAyB,WAC1BgxD,EAAGunB,mBAAqBvnB,EAAGunB,mBAAmBz9F,KAAI,SAAA6jB,GAChD,IAAM3D,EAAW2D,EAAiB3D,SAASlgB,KAAI,SAAAisC,GAC9C,IAAMj/B,EAAakpE,EAAGxzE,WAAW4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWwa,aAAeykB,EAAQ3pC,MAElG,OAAO,EAAP,uBACK2pC,GAAO,CACV5tC,OAAQ2O,EAAWmpB,WACnB72B,QAAS0N,EAAWyyC,kBAIvB,OAAO,EAAP,uBACK57B,GAAgB,CACnB3D,SAAQ,QAKdg2D,EAAG48C,uBAAyB,SAAC1yG,EAAW/hB,GACtC,IAAM2O,EAAakpE,EAAGxzE,WAAW4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWwa,aAAepH,MAEtF/hB,IAAW,EAAAwa,iBAAiB8zB,gBACdmjF,EAAkCzmG,KAAK6sD,EAAGxzE,WAAWJ,IAAIiO,KACvE,EAAA2hC,WAAU,SAAA6gF,GACR,IAAM9kE,EAAgB,yBACjB8kE,GAA0B,CAC7B10H,OAAM,IAER,OAAO8wD,EAAmBpB,aAAamoB,EAAGxzE,WAAWJ,GAAI0K,EAAYihD,OAIzDkB,EAAmBpB,aAAamoB,EAAGxzE,WAAWJ,GAAI0K,EAAY,CAAC3O,OAAM,KAGzE8uB,WAAU,WACtB+oD,EAAG86C,uCACC3yH,IAAW,EAAAwa,iBAAiB8zB,iBAC9B3R,EAAOsT,aAQb4nC,EAAG88C,mBAAqB,WACtB98C,EAAGh2D,SAASxb,SAAQ,SAACuuH,GACnBthH,EAAUkqE,GAAG17D,wBAAwBzd,EAAWJ,GAAI2wH,EAAYzrG,YAAYjL,MAAK,SAACy4D,GAChFkB,EAAGunB,mBAAmB/4F,SAAQ,SAAC+tH,GAC7BA,EAAqBvyG,SAASxb,SAAQ,SAACguH,GACjCO,EAAYzrG,aAAekrG,EAA4BpwH,KAI3D0yE,EAAItwE,SAAQ,SAACwuH,GACXT,EAAqB54F,WAAWn1B,SAAQ,SAACyuH,GACvC,GAAID,EAAc3vG,YAAc4vG,EAA8B7wH,GAA9D,CAIA,IAAMihB,EAAYzrB,OAAO0P,OAAO,GAAI0rH,EAAe,CACjDE,eAAgBD,EAA8Bz5H,KAC9CmhC,YAAas4F,EAA8Bt4F,cAG7C63F,EAA4B9E,sBAAsBz1H,KAAKorB,UAI3DmvG,EAA4BE,qBAAsB,gBAY5D18C,EAAGm9C,aAAe,SAAUjzG,GAC1B,IAAMrQ,EAAS,CAACqQ,UAAS,EAAE1d,WAAU,EAAEuf,mBAAoBi0D,EAAG47C,yBAAyBxvH,IACvF8vE,EAAkBt2C,GAAG,oCAAqC/rB,IAO5DmmE,EAAGo9C,SAAW,WACZp9C,EAAGw7C,mBAAqBx7C,EAAG6b,YAE3B7b,EAAGq9C,+BAOLr9C,EAAGq9C,4BAA8B,WAC/B,IAAIC,GAAuB,EAKvBx6C,EAAQka,qBAAqBhd,EAAGw7C,mBAHL,CAAC,aAAc,sBAAuB,6BAInE8B,EAAuBt9C,EAAGu9C,+BAA+Bv9C,EAAGunB,oBACnDzkB,EAAQka,qBAAqBhd,EAAGw7C,mBAJf,CAAC,UAAW,mBAAoB,4BAK1D8B,EAAuBt9C,EAAGw9C,mBAAmBx9C,EAAGh2D,WAIhDg2D,EAAG9b,aAAaM,qBADd84D,GAWNt9C,EAAGy9C,kBAAoB,WACrB,IAAIt5H,EACAu5H,GAAgB,EAQpBv5H,EAAO67E,EAAG9b,cAEN4e,EAAQqa,oBAAoBh5F,EAAK24D,WAAYkjB,EAAGw7C,mBARpB,CAAC,aAAc,sBAAuB,UAAW,sBAS/E14C,EAAQsa,eAAej5F,EAAKm8B,MAAO0/C,EAAGw7C,mBARb,CAAC,gBAS1B14C,EAAQua,cAAcl5F,EAAKw5H,UAAW39C,EAAGw7C,mBARjB,CACxB,UAAW,sBAAuB,2BAA4B,mBAAoB,6BAQlFkC,GAAgB,GAIhBv5H,EAAKu5H,eADe,IAAlBA,GAWN19C,EAAG49C,iBAAmB,WACpB,IAAMlrD,EAAgBinD,EACnBkE,kBAAkB79C,EAAGw7C,mBAAoBx7C,EAAGunB,mBAAoBvnB,EAAGh2D,UAEtEg2D,EAAG89C,oBAAoBprD,GACvBsN,EAAG+9C,qBAAqBrrD,GACxBsN,EAAGg+C,sBAAsBtrD,GAEzBsN,EAAGs7C,cAAc5oD,GAEjBsN,EAAGi+C,oBAEHj+C,EAAG86C,uCAE2B,wBAA1B96C,EAAGw7C,oBACL32G,EAASxE,MAAM,uCAQnB2/D,EAAGi+C,kBAAoB,WACrBj+C,EAAG9b,aAAa5jC,MAAQ,cACxB0/C,EAAG9b,aAAapH,WAAa,cAC7BkjB,EAAG9b,aAAag6D,SAAW,WAC3Bl+C,EAAG9b,aAAay5D,UAAY,GAC5B39C,EAAG9b,aAAaw5D,eAAgB,GAOlC19C,EAAGm+C,kBAAoB,WACrBn+C,EAAG9b,aAAa/wC,MAAO,GAUzB6sD,EAAG4d,iBAAmB,SAAU9F,EAAc2F,EAAYn/B,GACxDwkB,EAAQ8a,iBAAiB9F,EAAc2F,EAAYn/B,GACnD0hB,EAAG86C,wCAYL96C,EAAGwd,oBAAsB,SAAU1F,EAAc2F,EAAYC,EAAaC,EAAiBr/B,GACzFwkB,EAAQ0a,oBAAoB1F,EAAc2F,EAAYC,EAAaC,EAAiBr/B,GACpF0hB,EAAG86C,wCAUL96C,EAAG6d,kBAAoB,SAAU/F,EAAc2F,EAAYn/B,GACzDwkB,EAAQ+a,kBAAkB/F,EAAc2F,EAAYn/B,GACpD0hB,EAAG86C,wCAQL96C,EAAG89C,oBAAsB,SAAUprD,GACjC,IAAI0rD,EACAF,EACAP,EAMC39C,EAAG9b,aAAay5D,WAId76C,EAAQka,qBAAqBhd,EAAGw7C,mBARjB,CACpB,sBAAuB,2BAA4B,UAAW,mBAAoB,4BAapF0C,EAAWl+C,EAAG9b,aAAag6D,SAC3BP,EAAY39C,EAAG9b,aAAay5D,UAE5BS,EAAezE,EAA+B0E,kBAAkBr+C,EAAGw7C,oBAEnE9oD,EAAclkE,SAAQ,SAAC8vH,GACrB,IAAMC,EAAWD,EAASF,GACT,aAAbF,EACFI,EAASF,GAAgBT,EACH,sBAAbO,EACTI,EAASF,GAAmBT,EAAS,IAAIY,EACnB,qBAAbL,IACTI,EAASF,GAAmBG,EAAQ,IAAIZ,QAU9C39C,EAAGg+C,sBAAwB,SAAUtrD,GAGnC,GAAmC,gBAA/BsN,EAAG9b,aAAapH,YAIPgmB,EAAQka,qBAAqBhd,EAAGw7C,mBANvB,CAAC,aAAc,sBAAuB,SAAU,qBAQtE,CAKA,IAAMgD,EAAiBx+C,EAAG9b,aAAapH,WAEjC2hE,EAAqB9E,EACxB+E,wBAAwB1+C,EAAGw7C,oBAE9B9oD,EAAclkE,SAAQ,SAAC8vH,GACE,gBAAnBE,EAEFF,EAASG,IAAsB,EACH,eAAnBD,IAETF,EAASG,IAAsB,QAUrCz+C,EAAG+9C,qBAAuB,SAAUrrD,GAClC,IAAIpyC,EAI0B,gBAA1B0/C,EAAG9b,aAAa5jC,OAIbwiD,EAAQka,qBAAqBhd,EAAGw7C,mBANjB,CAAC,iBAYvBl7F,EAAQ0/C,EAAG9b,aAAa5jC,MAExBoyC,EAAclkE,SAAQ,SAAC8vH,GACjBA,EAASK,0BAIbL,EAAStpG,WAAasL,QAY1B0/C,EAAG4+C,kBAAoB,SAAUC,EAAa30G,GAEtB,sBAAhB20G,IACF3iD,EAAkB4e,aAAa,CAACe,YAAa7b,EAAG6b,cAChD7b,EAAGo9C,YAEe,sBAAhByB,GACF7+C,EAAGm+C,oBAEe,kBAAhBU,GACF7+C,EAAGm9C,aAAajzG,GAEE,4BAAhB20G,GACF3iD,EAAkBt2C,GAAG,oCAAqC,CAAC1b,UAAS,EAAE1d,WAAU,IAEpFwzE,EAAGi+C,qBAULj+C,EAAG8+C,eAAiB,SAAUC,EAAap5H,GACzCo5H,EAAYp5H,IAOdq6E,EAAGg/C,8BAAgC,SAAUC,QAAA,IAAAA,OAAA,GAC3C/iD,EAAkBt2C,GAAG,oCAAqC,CAACp5B,WAAU,EAAEyyH,UAAS,KAGlFj/C,EAAGovB,cAAgB,WACjB,IAAM8vB,EACJ,IAAI,EAAArmF,0BAA0B,EAAAxf,4BAA4By4B,gBAE5DotE,EAA0BtwH,kBAAiB,WAAOoxE,EAAGunB,oBAErD23B,EAA0Bl1G,SAAWk1G,EAA0BtwH,kBAC5D9E,KAAI,SAAA6jB,GAAoB,kBAAKA,EAAiB3D,UAAY,OAC1DrB,OACAjB,QAAO,SAAC8V,EAAKuY,GACV,OAACvY,EAAI3U,MAAK,SAAAs2G,GAAY,OAAAA,EAAS/yH,KAAO2pC,EAAQ3pC,MAAMoxB,EAAK,WAAKA,EAAG,CAAEuY,MACrE,IACDjsC,KAAI,SAAAisC,GAAW,gCAAKA,GAAO,CAAE9rC,aAAc8rC,EAAQ0mF,eAEtDyC,EAA0BloH,KAAOkoH,EAA0Bl1G,SAASroB,OAAS,EAC3E,EAAA03B,4BAA4By4B,eAC5B,EAAAz4B,4BAA4B8wB,sBAE9BmI,EAA+BxpB,KAAKo2F,GAA2B74G,MAAK,SAAC0K,GACnEipB,EAAyBlpB,4CAA4CC,GAClE1K,MAAK,WAAM,OAAAye,EAAOsT,gBAIzB4nC,EAAG6nB,gBAAkB,SAACC,GACpB9nB,EAAG0nB,cAAcl5F,SAAQ,SAACu5F,GACxBnmG,OAAO0P,OAAOy2F,EAAU,CAACppF,SAAS,OAEpC/c,OAAO0P,OAAOw2F,EAAiB,CAACnpF,SAAS,IACzCkf,EAAoBR,iBA9vBI,0BA8vBgC2iD,EAAG0nB,eAC3D1nB,EAAG2nB,SAAWG,EAAgBprE,UAAUC,MAG1CqjD,EAAGgoB,eAAiB,SAACt4F,GACnB,OAAAswE,EAAG2nB,WAAa,EAAArvF,aAAaukB,mBAAoB,GAAGntB,GAAQsrC,OAAOr5C,QAErEq+E,EAAGioB,qBAAuB,SAACtjE,GACzB,OAAAq7C,EAAG2nB,WAAa,EAAArvF,aAAamkB,aAAc,GAAG+qE,EAAQ,sBAARA,CAA+B7iE,IAAeqW,OAAOr5C,QAKrGq0C,EAAOiB,IAAI,4BAA6B4gD,GAAS,SAAClyF,EAAG2hE,GACnD,IAAIp9C,EAAY44D,EAAQqb,oBAAoBne,EAAGh2D,SAAUs9C,GAEpDp9C,EAMH81D,EAAG4+C,kBAAkB,0BAA2B10G,GALhDhO,EAAQ4kF,eAAexyF,GAAU,GAAM+X,MAAK,SAACy4D,GAC3C50D,EAAY44D,EAAQqb,oBAAoBrf,EAAKxX,GAC7C0Y,EAAG4+C,kBAAkB,0BAA2B10G,QAKnD,MAEH81D,EAAG43C,kBAAoB,SAACt3F,EAAOjT,EAAWM,GACxCjI,GAAS,WAEL2H,EAAU2G,UADRsM,EACoB0/C,EAAGi8C,aAAa37F,EAAOjT,EAAWM,GAElC,OAK5BqyD,EAAGo/C,oBAAsB,SAAC/xG,EAAWM,GACnC,IAAMwmD,EAAgB,CAAC39D,KAAM,IACvB0lH,EAAmBvuG,EAAiBgW,WACvCh1B,MAAK,SAAAwtH,GAAc,OAAAA,EAAW/vH,KAAOihB,EAAUA,aAQlD,OANI6uG,GACFt6H,OAAO0P,OAAO6iE,EAAe+nD,EAAiBrE,YAC3ClpH,MAAK,SAAA2xB,GAAS,OAAAA,EAAMN,WAAa3S,EAAU2S,aAIzCm0C,EAAc39D,MAGvBwpE,EAAG+3C,qBAAuB,WACxB/3C,EAAGq3C,2BAA4B,EAC/B/6F,EAAoB/0B,IAAIy4E,EAAGu3C,2BAA4B,SAGzDv3C,EAAGg4C,qBAAuB,WACxBh4C,EAAGq3C,2BAA4B,EAC/B/6F,EAAoB8B,OAAO4hD,EAAGu3C,6BAGhCv3C,EAAG83C,mBAAqB,SAAAzqG,GACtB,OAAO2yD,EAAGs3C,0BAA4Bt3C,EAAGq3C,4BAA8Br3C,EAAGj0E,YAAY64B,YAAcvX,EAAU2G,WAGhHgsD,EAAG86C,qCAAuC,SAAC1uH,QAAA,IAAAA,MAAK4zE,EAAGxzE,WAAWJ,IAC5DorD,EAAmB/b,OAAO,CAACrvC,GAAE,KAG/B4zE,EAAGhuE,OAGL0nH,EAAS73H,UAAYD,OAAO0P,OAAOooH,EAAS73H,UAAW43H,EAA0B53H,UAAW23H,EAAe33H,WAE3GsB,EAAOD,QAAUw2H,G,cCp3BjB,SAASF,KAQTA,EAAe33H,UAAUw9H,eAAiB,SAASr7D,EAAYrtB,EAAOutB,GACpEF,EAAWrlD,SAAWqlD,EAAWrlD,QAEjC7E,KAAKwlH,iBAAiB3oF,EAAOutB,IAQ/Bs1D,EAAe33H,UAAU09H,YAAc,SAAS5oF,EAAOutB,GACrDA,EAAaG,iBAAmBH,EAAaG,gBAEzCH,EAAaG,gBACf1tB,EAAMnoC,SAAQ,SAASunC,GACrBA,EAAQp3B,SAAU,KAGpBg4B,EAAMnoC,SAAQ,SAASunC,GACrBA,EAAQp3B,SAAU,MAUxB66G,EAAe33H,UAAUy9H,iBAAmB,SAAS3oF,EAAOutB,GAC1D,IAAII,EAAqB3tB,EAAM6oF,OAAM,SAAUhqF,EAAM/zC,EAAGirF,GACtD,OAAOl3C,EAAK72B,WAIZulD,EAAaG,kBADXC,GAWNk1D,EAAe33H,UAAU27H,mBAAqB,SAAS7mF,GAOrD,OAJqBA,EAAM9tB,MAAK,SAASktB,GACvC,OAA2B,IAApBA,EAAQp3B,YAWnB66G,EAAe33H,UAAU49H,cAAgB,SAAS9oF,EAAOutB,GACvDA,EAAaG,iBAAkB,EAE/B1tB,EAAMnoC,SAAQ,SAASunC,GACrBA,EAAQp3B,SAAU,MAItBxb,EAAOD,QAAUs2H,G,cC5EjB,SAASC,KASTA,EAA0B53H,UAAU69H,2BAA6B,SAAS17D,EAAY27D,EAAchpF,EAAOstB,EAAWC,GACpHF,EAAWrlD,SAAWqlD,EAAWrlD,QAEjC,IAAIihH,EAAuBD,EAAaH,OAAM,SAAShqF,EAAM/zC,EAAGirF,GAC9D,OAAOl3C,EAAK72B,WAIZg4B,EAAMh4B,UADJihH,EAMJ9lH,KAAK+lH,6BAA6B57D,EAAWC,IAU/Cu1D,EAA0B53H,UAAUi+H,0BAA4B,SAASH,EAAchpF,EAAOstB,EAAWC,GACvGvtB,EAAMh4B,SAAWg4B,EAAMh4B,QAEnBg4B,EAAMh4B,QACRghH,EAAanxH,SAAQ,SAASgnC,GAC5BA,EAAK72B,SAAU,KAGjBghH,EAAanxH,SAAQ,SAASgnC,GAC5BA,EAAK72B,SAAU,KAInB7E,KAAK+lH,6BAA6B57D,EAAWC,IAQ/Cu1D,EAA0B53H,UAAUk+H,wBAA0B,SAAS77D,EAAcD,GACnFC,EAAa87D,mBAAqB97D,EAAa87D,kBAE3C97D,EAAa87D,kBACf/7D,EAAUz1D,SAAQ,SAASmf,GACzBA,EAAiB3D,SAASxb,SAAQ,SAASunC,GACzCA,EAAQp3B,SAAU,EAClBo3B,EAAQ2hF,sBAAsBlpH,SAAQ,SAAS6e,GAC7CA,EAAU1O,SAAU,WAK1BslD,EAAUz1D,SAAQ,SAASmf,GACzBA,EAAiB3D,SAASxb,SAAQ,SAASunC,GACzCA,EAAQp3B,SAAU,EAClBo3B,EAAQ2hF,sBAAsBlpH,SAAQ,SAAS6e,GAC7CA,EAAU1O,SAAU,YAY9B86G,EAA0B53H,UAAUg+H,6BAA+B,SAAS57D,EAAWC,GACrF,IAAII,GAAqB,EAEzBL,EAAUz1D,SAAQ,SAASmf,GACzBA,EAAiB3D,SAASxb,SAAQ,SAASunC,GACpCA,EAAQp3B,UACX2lD,GAAqB,SAMzBJ,EAAa87D,oBADX17D,GAWNm1D,EAA0B53H,UAAU07H,+BAAiC,SAASt5D,GAG5E,IAFA,IAAIO,GAAqB,EAEhB/iE,EAAI,EAAGA,EAAIwiE,EAAUtiE,OAAQF,IAAK,CACzC,IAAK,IAAIkB,EAAI,EAAGA,EAAIshE,EAAUxiE,GAAGuoB,SAASroB,UACxC6iE,EAAqBP,EAAUxiE,GAAGuoB,SAASrnB,GAAG+0H,sBAAsB7uG,MAAK,SAASwE,GAChF,OAA6B,IAAtBA,EAAU1O,YAF6Bhc,KAMlD,GAAI6hE,EAAsB,MAG5B,OAAOA,GAQTi1D,EAA0B53H,UAAUo+H,0BAA4B,SAAS/7D,EAAcD,GACrFC,EAAa87D,mBAAoB,EAEjC/7D,EAAUz1D,SAAQ,SAASmf,GACzBA,EAAiB3D,SAASxb,SAAQ,SAASunC,GACzCA,EAAQp3B,SAAU,EAClBo3B,EAAQ2hF,sBAAsBlpH,SAAQ,SAAS6e,GAC7CA,EAAU1O,SAAU,YAM5Bxb,EAAOD,QAAUu2H,G,yFC/IjB,QACA,4BAMA,aACE,cA2CF,OAvCS,YAAAiF,wBAAP,SAA+BlD,QAAA,IAAAA,MAAA,IAQ7B,MAPY,CACV1kH,WAAY,kBACZopH,oBAAqB,qBACrBC,QAAS,mBACTvjE,iBAAkB,sBAGT4+D,IAGN,YAAA6C,kBAAP,SAAyB7C,QAAA,IAAAA,MAAA,IASvB,MARwC,CACtC0E,oBAAqB,WACrBtjE,iBAAkB,WAClBwjE,yBAA0B,eAC1BD,QAAS,SACTE,sBAAuB,gBAGd7E,IAGN,YAAAqC,kBAAP,SAAyBrC,EAA4Bj0B,EAA2Bv9E,GAC9E,MAAI,CAAC,aAAc,sBAAuB,4BAA4BkM,SAASslG,GACtEj0B,EAAmB7/E,QAAO,SAAC44G,EAAuB/gE,GAAsB,kBAC1E+gE,EACA/gE,EAAWv1C,SAAStC,QAAO,SAAC64G,EAAaxD,GAAuB,kBAC9DwD,EACAxD,EAAYrF,sBACZjpH,QAAO,SAACuuH,GAA2B,OAAAA,EAAcr+G,cACnD,OACF,IACM,CAAC,UAAW,mBAAoB,yBAAyBuX,SAASslG,GACpExxG,EAASvb,QAAO,SAACsuH,GAAyB,OAAAA,EAAYp+G,WAGxD,IA1CEg7G,EAA8B,cAJ1C,EAAAzmH,QAAQ,CACP/P,OAAQ,UACRK,KAAM,mC,sCAEKm2H,GAAb,GAAa,EAAAA,kC,mfCFb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,QACA,2BACA,SACA,QACA,QACA,QAEM6G,EAA6B,EAAQ,KAmB3C,SAAS9G,EACP1jF,EAAQjR,EAAc6D,EAAW4+D,EAAS1iE,EAAQpf,EAAUvJ,EAAMV,EAAWo8E,EAAU/U,EACvF29C,EAAqCvkD,EAAmBr3D,EAAUu3E,EAClEv+D,EAAqBvB,EAAqBypD,EAAMykC,EAAUvxD,EAAoB5qD,EAAa7B,EAC3FgrD,EAAoBrvB,EAAkB0hE,EAAmBjyC,EAAkBgiE,EAC3Er/F,GAEA,IAAMylD,EAAKlmE,KAIPwP,EAAS,KAEbnN,EAAKyZ,YAAYvP,MAAK,SAAAja,GAAM,OAAAkd,EAASld,KAErC4zE,EAAG/mB,mBAAqBA,EACxB+mB,EAAG/5D,YAAcxK,EAAUwK,YAC3B+5D,EAAGpF,iBAAmB,EACtBoF,EAAG+5C,wBAAyB,EAC5B/5C,EAAGnF,aAAc,EACjBmF,EAAG0nB,cAAgB7pE,EAAoBf,gBAVb,gCAW1BkjD,EAAG2nB,SAAW3nB,EAAG0nB,cAAc/4F,MAAK,SAAA4uB,GAAoB,OAAAA,EAAiB5e,WACtE+d,UAAUC,KACbqjD,EAAGu3C,2BAAgC9vB,sDACnCznB,EAAGq3C,0BAA4B/6F,EAAoBW,OAAO+iD,EAAGu3C,4BAC7Dv3C,EAAGs3C,yBAA2Bl7B,EAAmB,GAAGC,qBAAuBD,EAAmB,GAAGxD,aAAah0D,WAC9Go7C,EAAGxzE,WAAaA,EAChBwzE,EAAG0gD,eAAiB1gD,EAAGxzE,WAAW4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWwa,cAAgB8qE,EAAmB,GAAG9qE,cAAY2O,WAE9H+/C,EAAG2gD,cAAgB,GACnB3gD,EAAG2gD,cAAc1+H,KAAK,EAAAw4H,eAAe,CACnCtyF,EAAiBuyF,eAAergH,KAAK,EAAA5L,OAAO2kB,UAC5CwkC,EAAiBhwB,UAAU,CAAC+yF,UAAU,MACrCtgH,KACD,EAAAvQ,KAAI,SAAC,GAVD,IAUC,gBAAC0C,EAAA,KAAY4d,EAAA,KAAiB,gCAC5B5d,GAAU,CACb4d,YAAa5d,EAAW4d,YAAYtgB,KAAI,SAAAkvD,GAAgB,OAAA5uC,EAAY4uC,YAGxE/hC,WAAU,SAAAzqB,GACV,IAAMssD,GAAasjC,EAAmB,GAAG9qE,WACzC0uD,EAAGxzE,WAAaA,GAAcu4B,EAAav4B,WAC3CwzE,EAAGlpE,WAAakpE,EAAGxzE,WAAW4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWwa,aAAewnC,KACvFknB,EAAG0gD,eAAiB1gD,EAAGlpE,WAAWmpB,eAGpC+/C,EAAG46C,kBAAoB,IAAI,EAAA9hF,QAC3BknC,EAAG2gD,cAAc1+H,KAAK+9E,EAAG46C,kBAAkB3jG,WAAU,WACnD+oD,EAAG/mB,mBAAmBN,yBAAyBqnB,EAAGlpE,YAAYmgB,WAAU,WACtE+oD,EAAG86C,8CAIP9kF,EAAOiB,IAAI,YAAY,WACrB+oC,EAAG2gD,cAAcnyH,SAAQ,SAAA09G,GAAgB,OAAAA,EAAa1pG,oBAIxDw9D,EAAG4gD,oBAAsB,CACvBtgG,MAAO,cACPw8B,WAAY,cACZ3pC,MAAM,GAGR6sD,EAAG6gD,aAAe,SAAC14H,GACjB,IACI24H,EADEhqH,EAAakpE,EAAGxzE,WAAW4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWwa,cAAgB8qE,EAAmB,GAAG9qE,cAG7GnpB,IAAW,EAAAwa,iBAAiB8zB,iBAC9BupC,EAAG0gD,eAAiB,KACpB3qH,YAAW,WACTiqE,EAAG0gD,eAAiB5pH,EAAWmpB,cAEjC6gG,EAAgBlH,EAAkCzmG,KAAK6sD,EAAGxzE,WAAWJ,IAAIiO,KACvE,EAAA2hC,WAAU,SAAA6gF,GACR,IAAM9kE,EAAgB,yBACjB8kE,GAA0B,CAC7B10H,OAAM,IAER,OAAO8wD,EAAmBpB,aAAamoB,EAAGxzE,WAAWJ,GAAI0K,EAAYihD,QAIzE+oE,EAAgB7nE,EAAmBpB,aAAamoB,EAAGxzE,WAAWJ,GAAI0K,EAAY,CAAC3O,OAAM,IAGvF24H,EAAc7pG,WAAU,WACtB+oD,EAAG86C,uCACC3yH,IAAW,EAAAwa,iBAAiB8zB,iBAC9B3R,EAAO66D,aAAa76D,EAAOxwB,QAAS4nE,EAAkB0e,mBAAoB,CACxExiD,QAAQ,EAAM2oF,SAAS,EAAOC,QAAQ,QAO9ChhD,EAAGoc,mBAAqBA,EAOxBpc,EAAG+6C,2BAA6B,SAAC/rH,GAC/BgxE,EAAGpF,kBAAoB,EACvBoF,EAAG+5C,wBAAyB,EAC5B/5C,EAAGnF,aAAc,EAEjBp/D,EACG0O,wBAAwBnb,GACxBqX,MACC,SAACy4D,GACCkB,EAAGpF,kBAAoB,EACvBoF,EAAGg7C,gCAAgCl8C,MAErC,WACEkB,EAAGpF,kBAAoB,KAG1Bp0D,SAAQ,WAAM,OAAAw5D,EAAG46C,kBAAkBlkG,WASxCspD,EAAGihD,4BAA8B,SAACt0G,GAChCqzD,EAAGpF,kBAAoB,EACvBoF,EAAG+5C,wBAAyB,EAC5B/5C,EAAGnF,aAAc,EAEjBp/D,EACG0P,6BAA6B7B,EAAQqD,GACrCtG,MACC,SAACy4D,GACCkB,EAAGpF,kBAAoB,EACvBoF,EAAGkhD,iCAAiCpiD,MAEtC,WACEkB,EAAGpF,kBAAoB,EACvBoF,EAAGnF,aAAc,KAGpBr0D,SAAQ,WAAM,OAAAw5D,EAAG46C,kBAAkBlkG,WAQxCspD,EAAGo7C,6BAA+BvjC,GAAS,SAAC7tE,GAC1Cg2D,EAAG+6C,2BAA2B/wG,KAnJV,KA4JtBg2D,EAAGq7C,8BAAgCxjC,GAAS,SAAClrE,GAC3CqzD,EAAGihD,4BAA4Bt0G,KA7JX,KAqKtBqzD,EAAGs7C,cAAgB,SAACtsH,GAClBgxE,EAAGo7C,6BAA6BpsH,IAUlCgxE,EAAGg7C,gCAAkC,SAACmG,GACpCA,EAAkC3yH,SAAQ,SAAC4yH,GACzCphD,EAAGh1B,mBAAmBG,mBAAmB38C,SAAQ,SAACmf,GAChDA,EAAiBgW,WAAWn1B,SAAQ,SAAC6e,GAC/B+zG,EAAuBh1H,KAAOihB,EAAUqqG,sBAAsBtrH,KAEhEihB,EAAUqqG,sBAAsBn3F,gBAC9B6gG,EAAuB7gG,gBAEzBlT,EAAUqqG,sBAAsB52F,mBAC9BsgG,EAAuBtgG,mBAEzBzT,EAAUqqG,sBAAsB32F,uBAC9BqgG,EAAuBrgG,kCAanCi/C,EAAGkhD,iCAAmC,SAACG,GACrCrhD,EAAGh1B,mBAAmBnqB,iBACpBwgG,EAAmCxgG,iBAErCm/C,EAAGh1B,mBAAmBlqB,mBACpBugG,EAAmCvgG,mBAErCk/C,EAAGh1B,mBAAmBjqB,uBACpBsgG,EAAmCtgG,wBAOvCi/C,EAAGhuE,KAAO,WAER8wE,EAAQmc,SAAS,aAGbl6D,EAAa82D,aACf7b,EAAGshD,mBAAqBv8F,EAAa82D,YACrC7b,EAAGuhD,0BAA4BvhD,EAAGshD,qBAElCthD,EAAGshD,mBAAqB,MACxBthD,EAAGuhD,0BAA4B,OAG7Bx8F,EAAax5B,aACfy0E,EAAGxiC,mBAAqBzY,EAAax5B,aAErCy0E,EAAGxiC,mBAAqBwiC,EAAGoc,mBAAmB,GAAGhwF,GAGnD4zE,EAAGwhD,mBAEHxhD,EAAG47C,yBAA2B57C,EAAG67C,kCACjC77C,EAAG+7C,yBAGL/7C,EAAG+7C,sBAAwB,WACrB/7C,EAAGj0E,aACLi0E,EAAGj0E,YAAYE,OAAOuC,SAAQ,SAAC8xB,GAC7B,IAAM07F,EAAoB,CAAC,CAAEh8F,SAAUM,EAAMl0B,GAAIoK,KAAM,KACvD8pB,EAAM9pB,KAAO,UAAIwpE,EAAI,qDAAsDg8C,GACxErtH,MAAK,SAAAqlB,GAAa,OAAAA,EAAUgM,WAAaM,EAAMl0B,MAAIoK,SAK5DwpE,EAAGi8C,aAAe,SAAC37F,EAAOjT,EAAWM,GACnC,IAAMquG,EAAoB,CAAC,CAAEh8F,SAAUM,EAAMl0B,GAAIoK,KAAM,KACjD0lH,EAAmBvuG,EAAiBgW,WACvCh1B,MAAK,SAAAwtH,GAAc,OAAAA,EAAW/vH,KAAOihB,EAAUqqG,sBAAsBrqG,aAExE,OAAO,UAAI6uG,EAAkB,cAAeF,GACzCrtH,MAAK,SAAAqlB,GAAa,OAAAA,EAAUgM,WAAaM,EAAMl0B,MAAIoK,MAGxDwpE,EAAGs8C,wBAA0B,SAACV,QAAA,IAAAA,MAA2B57C,EAAG47C,0BAC1D57C,EAAG+7C,wBACH7/C,EAAkB4e,aAAa,CAAE/uE,mBAAoB6vG,EAAyBxvH,KAC9E04B,EAAOc,GAAG,IAAK,CAAE7Z,mBAAoB6vG,EAAyBxvH,MAGhE4zE,EAAG67C,gCAAkC,WACnC,IAAIluG,EAOJ,OALIoX,EAAahZ,qBACf4B,EAAmBqyD,EAAGh1B,mBAAmBG,mBACtCx8C,MAAK,SAAA6kB,GAAQ,OAAAA,EAAKpnB,KAAO24B,EAAahZ,uBAGpC4B,GAAoBqyD,EAAGh1B,mBAAmBG,mBAAmB,IAGtE60B,EAAG+3C,qBAAuB,WACxB/3C,EAAGq3C,2BAA4B,EAC/B/6F,EAAoB/0B,IAAIy4E,EAAGu3C,2BAA4B,SAGzDv3C,EAAGg4C,qBAAuB,WACxBh4C,EAAGq3C,2BAA4B,EAC/B/6F,EAAoB8B,OAAO4hD,EAAGu3C,6BAGhCv3C,EAAG83C,mBAAqB,SAAAzqG,GACtB,OAAA2yD,EAAGs3C,0BAA4Bt3C,EAAGq3C,4BAA8Br3C,EAAGj0E,YAAY64B,YAAcvX,EAAU2G,WAEzGgsD,EAAG43C,kBAAoB,SAACt3F,EAAOjT,EAAWM,GACxCjI,GAAS,WAEL2H,EAAU2G,UADRsM,EACoB0/C,EAAGi8C,aAAa37F,EAAOjT,EAAWM,GAElC,OAK5BqyD,EAAGwhD,iBAAmB,WAuBpB,GAtBAxhD,EAAGoc,mBAAmB5tF,SAAQ,SAAChC,IACxBA,EAAWJ,KAAQ4zE,EAAGxiC,qBAEzBwiC,EAAGh1B,mBAAqBx+C,EACxBwzE,EAAGv0D,gBAAkBjf,EAAWkD,MAChCswE,EAAGj0E,YAAcS,EAAWosF,aAC5B5Y,EAAGo6C,WAAa5tH,EAAW6tH,YAE3Bn+C,EAAkB4e,aAAa,CAAEvvF,aAAciB,EAAWJ,KAC1DmuB,EAAiByhE,WAAWxvF,EAAWJ,IAGvC4zE,EAAG4gD,oBAAoBv8D,iBAAkB,EACzC73D,EAAW2+C,mBAAmB38C,SAAQ,SAACmf,GACrCA,EAAiBgW,WAAWn1B,SAAQ,SAAC6e,GAEnCA,EAAU1O,SAAU,aAMvBqhE,EAAGj0E,YAAa,CACnBi0E,EAAGh1B,mBAAqBg1B,EAAGh1B,oBAAsBg1B,EAAG67C,kCACpD,IAAMhiH,EAAS,CACbrN,WAAU,yBAAOwzE,EAAGh1B,oBAAkB,CAAE5+C,GAAI4zE,EAAGh1B,mBAAmBx+C,cAEpEs4B,EAAOc,GAAG,4BAA6B/rB,KAQ3CmmE,EAAGo9C,SAAW,WACZp9C,EAAGuhD,0BAA4BvhD,EAAGshD,mBAElCthD,EAAGq9C,+BAOLr9C,EAAGq9C,4BAA8B,WAC/B,IAAMC,EAAuBt9C,EAC1Bzb,6BAA6Byb,EAAGh1B,mBAAmBG,oBAEtD60B,EAAG4gD,oBAAoBp8D,qBAAuB84D,GAOhDt9C,EAAGy9C,kBAAoB,WACrB,IAGMt5H,EAAO67E,EAAG4gD,oBAEhBz8H,EAAKu5H,cAAgB56C,EAAQqa,oBAC3Bh5F,EAAK24D,WACLkjB,EAAGuhD,0BAP4B,CAAC,aAAc,yBAS9Cz+C,EAAQsa,eAAej5F,EAAKm8B,MAAO0/C,EAAGuhD,0BARZ,CAAC,gBAS3Bz+C,EAAQua,cAAcl5F,EAAKw5H,UAAW39C,EAAGuhD,0BARhB,CAAC,sBAAuB,8BAerDvhD,EAAG49C,iBAAmB,WACpB,IAAMlrD,EAAgB+tD,EACnB5C,kBAAkB79C,EAAGuhD,0BAA2BvhD,EAAGh1B,oBAChDh8C,EAAuByxH,EAAoCgB,4BAA4B/uD,GAE7FsN,EAAG89C,oBAAoB9uH,GACvBgxE,EAAG+9C,qBAAqB/uH,GACxBgxE,EAAGg+C,sBAAsBhvH,GAEzBgxE,EAAGs7C,cAActsH,GAEjBgxE,EAAGi+C,oBAEHp5G,EAASxE,MAAM,kBAOjB2/D,EAAGi+C,kBAAoB,WACrBj+C,EAAG4gD,oBAAoBtgG,MAAQ,cAC/B0/C,EAAG4gD,oBAAoB9jE,WAAa,cACpCkjB,EAAG4gD,oBAAoB1C,SAAW,WAClCl+C,EAAG4gD,oBAAoBjD,UAAY,GACnC39C,EAAG4gD,oBAAoBlD,eAAgB,GAOzC19C,EAAGm+C,kBAAoB,WACrBn+C,EAAG4gD,oBAAoBztG,MAAO,GAUhC6sD,EAAG4d,iBAAmB,SAAC9F,EAAc2F,EAAYn/B,GAC/CwkB,EAAQ8a,iBAAiB9F,EAAc2F,EAAYn/B,IAYrD0hB,EAAGwd,oBAAsB,SAAC1F,EAAc2F,EAAYC,EAAaC,EAAiBr/B,GAChFwkB,EAAQ0a,oBAAoB1F,EAAc2F,EAAYC,EAAaC,EAAiBr/B,IAUtF0hB,EAAG6d,kBAAoB,SAAC/F,EAAc2F,EAAYn/B,GAChDwkB,EAAQ+a,kBAAkB/F,EAAc2F,EAAYn/B,IAQtD0hB,EAAG89C,oBAAsB,SAACprD,GACxB,GAAKsN,EAAG4gD,oBAAoBjD,UAA5B,CAOA,GAFa76C,EAAQka,qBAAqBhd,EAAGuhD,0BADtB,CAAC,sBAAuB,6BAG/C,CAIA,IAAMrD,EAAWl+C,EAAG4gD,oBAAoB1C,SAClCP,EAAY39C,EAAG4gD,oBAAoBjD,UAEnCS,EAAeqC,EAClBpC,kBAAkBr+C,EAAGuhD,2BAExB7uD,EAAclkE,SAAQ,SAAC8vH,GACrB,IAAMC,EAAWD,EAASF,GAET,aAAbF,EAEFI,EAASF,GAAgBT,EACH,sBAAbO,EAETI,EAASF,GAAmBT,EAAS,IAAIY,EACnB,qBAAbL,IAETI,EAASF,GAAmBG,EAAQ,KAAKZ,SAU/C39C,EAAGg+C,sBAAwB,SAACtrD,GAG1B,GAA0C,gBAAtCsN,EAAG4gD,oBAAoB9jE,YAIdgmB,EAAQka,qBAAqBhd,EAAGuhD,0BANtB,CAAC,aAAc,wBAQtC,CAIA,IAAM/C,EAAiBx+C,EAAG4gD,oBAAoB9jE,WAExC2hE,EAAqBgC,EACxB/B,wBAAwB1+C,EAAGuhD,2BAE9B7uD,EAAclkE,SAAQ,SAAC8vH,GACE,gBAAnBE,EAEFF,EAASG,IAAsB,EACH,eAAnBD,IAETF,EAASG,IAAsB,QAUrCz+C,EAAG+9C,qBAAuB,SAACrrD,GAGzB,GAAqC,gBAAjCsN,EAAG4gD,oBAAoBtgG,OAIdwiD,EAAQka,qBAAqBhd,EAAGuhD,0BANtB,CAAC,eAQxB,CAIA,IAAMjhG,EAAQ0/C,EAAG4gD,oBAAoBtgG,MAErCoyC,EAAclkE,SAAQ,SAAC8vH,GAChBA,EAASK,0BAEZL,EAAStpG,WAAasL,QAc5B0/C,EAAG4+C,kBAAoB,SAACC,EAAa30G,GAEb,sBAAhB20G,IACF7+C,EAAGi+C,oBACHj+C,EAAGm+C,qBAEe,sBAAhBU,IACF3iD,EAAkB4e,aAAa,CAAEe,YAAa7b,EAAGshD,qBACjDthD,EAAGi+C,oBACHj+C,EAAGo9C,WAC2B,QAA1Bp9C,EAAGshD,qBACLthD,EAAG4gD,oBAAoBztG,MAAO,IAGd,gBAAhB0rG,GACF3iD,EAAkByjB,aAAa,kCAAmC,CAAEz1E,UAAS,KAWnF81D,EAAG8+C,eAAiB,SAACC,EAAap5H,GAChCo5H,EAAYp5H,IAGdq6E,EAAG6nB,gBAAkB,SAACC,GACpB9nB,EAAG0nB,cAAcl5F,SAAQ,SAACu5F,GACxBnmG,OAAO0P,OAAOy2F,EAAU,CAAEppF,SAAS,OAErC/c,OAAO0P,OAAOw2F,EAAiB,CAAEnpF,SAAS,IAC1Ckf,EAAoBR,iBA9kBI,+BA8kBgC2iD,EAAG0nB,eAC3D1nB,EAAG2nB,SAAWG,EAAgBprE,UAAUC,MAG1CqjD,EAAGgoB,eAAiB,SAACt4F,GACnB,OAAAswE,EAAG2nB,WAAa,EAAArvF,aAAaukB,mBAAoB,GAAGntB,GAAQsrC,OAAOr5C,QAErEq+E,EAAGioB,qBAAuB,SAACtjE,GACzB,OAAAq7C,EAAG2nB,WAAa,EAAArvF,aAAamkB,aAAc,GAAG+qE,EAAQ,sBAARA,CAA+B7iE,IAAeqW,OAAOr5C,QAErGq+E,EAAG86C,qCAAuC,SAAC1uH,QAAA,IAAAA,MAAK4zE,EAAGxzE,WAAWJ,IAC5DorD,EAAmB/b,OAAO,CAACrvC,GAAE,KAG/B4zE,EAAGhuE,OAGL0nH,EAAS73H,UAAYD,OAAO0P,OAAOooH,EAAS73H,UAAW2+H,EAA2B3+H,WAElFsB,EAAOD,QAAUw2H,G,yFC1oBjB,QACA,4BAMA,aACE,cAsCF,OAlCS,YAAAgF,wBAAP,SAA+B6C,GAM7B,MALwC,CACtCzqH,WAAY,kBACZopH,oBAAqB,sBAGZqB,IAGN,YAAAlD,kBAAP,SAAyBkD,GAMvB,MALwC,CACtCrB,oBAAqB,WACrBE,yBAA0B,gBAGjBmB,IAGN,YAAA1D,kBAAP,SAAyB0D,EAAmCv2E,GAC1D,MAAI,CAAC,aAAc,sBAAuB,4BAA4B90B,SAASqrG,GACtEv2E,EAAmBG,mBAAmBzjC,QAAO,SAAC44G,EAA8B3yG,GAC/E,kBACK2yG,EACA3yG,EAAiBgW,WAAWl1B,QAAO,SAACuuH,GAAkB,OAAAA,EAAcr+G,cAE3E,IAGG,IAGF,YAAA8iH,4BAAP,SAAmC1nF,GACjC,OAAOA,EAAMjwC,KAAI,SAAA0pB,GAAQ,OAAAA,EAAKkkG,0BArCrB+I,EAAmC,cAJ/C,EAAAvtH,QAAQ,CACP/P,OAAQ,UACRK,KAAM,wC,sCAEKi9H,GAAb,GAAa,EAAAA,uC,mjBCFb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,2BACA,SACA,SACA,QACA,SACA,QACA,QACA,QAEMD,EAA6B,EAAQ,KAsB3C,SAAS9G,EACP1jF,EAAQjR,EAAcD,EAAQ8D,EAAW4+D,EAAS9hF,EAAUvJ,EAAMV,EAAWS,EAAS27E,EACtF/U,EAAS4+C,EAAuCxlD,EAAmB13D,EAAUK,EAC7EI,EAAUi3E,EAAuB1vF,EAAYwtC,EAC7CsY,EAAgCz0B,EAAqBvB,EAAqBypD,EAAMykC,EAAUhzD,EAC1FrvB,EAAkB8wB,EAAoB4wC,EAAmBjyC,EAAkBgiE,GAL7E,WAOQ55C,EAAKlmE,KACLxL,EAAW6N,EAAKrU,iBAItBk4E,EAAG/mB,mBAAqBA,EACxB+mB,EAAGpF,iBAAmB,EACtBoF,EAAG+5C,wBAAyB,EAC5B/5C,EAAGnF,aAAc,EACjBmF,EAAGu3C,2BAAgC9vB,wDACnCznB,EAAGq3C,0BAA4B/6F,EAAoBW,OAAO+iD,EAAGu3C,4BAG7Dv3C,EAAG4gD,oBAAsB,CACvBtgG,MAAO,cACPw8B,WAAY,cACZ3pC,MAAM,GAIR6sD,EAAGv0D,gBAAkBywE,EAAsBxsF,MAC3CswE,EAAGj0E,YAAcmwF,EAAsBtD,aACvC5Y,EAAGo6C,WAAal+B,EAAsBm+B,YACtCr6C,EAAGs3C,yBAA2Bp7B,EAAsBG,mBACpDrc,EAAGh2D,SAAW,GACd/E,EAASmG,kBAAkB/E,MAAK,SAAC2D,GAAa,OAAAg2D,EAAGh2D,SAAWA,KAC5Dg2D,EAAG0nB,cAAgB7pE,EAAoBf,gBAvBb,kCAwB1BkjD,EAAG2nB,SAAW3nB,EAAG0nB,cAAc/4F,MAAK,SAAA4uB,GAAoB,OAAAA,EAAiB5e,WACtE+d,UAAUC,KAEbqjD,EAAGxzE,WAAaA,EAChBwzE,EAAG2gD,cAAgB,GAEnB3gD,EAAG2gD,cAAc1+H,KAAK,EAAAw4H,eAAe,CACnCtyF,EAAiBuyF,eAAergH,KAAK,EAAA5L,OAAO2kB,UAC5CwkC,EAAiBhwB,UAAU,CAAC+yF,UAAU,MACrCtgH,KACD,EAAAvQ,KAAI,SAAC,GAXD,IAWC,gBAAC0C,EAAA,KAAY4d,EAAA,KAAiB,gCAC5B5d,GAAU,CACb4d,YAAa5d,EAAW4d,YAAYtgB,KAAI,SAAAkvD,GAAgB,OAAA5uC,EAAY4uC,YAGxE/hC,WAAU,SAAAzqB,GACV,IAAMssD,GAAaknB,EAAG2hD,eAAiB58F,EAAa7a,UACpD81D,EAAGxzE,WAAaA,GAAcu4B,EAAav4B,WAC3CwzE,EAAGlpE,WAAakpE,EAAGxzE,WAAW4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWwa,aAAewnC,KACvFknB,EAAG0gD,eAAiB1gD,EAAGlpE,WAAWmpB,eAGpC+/C,EAAG46C,kBAAoB,IAAI,EAAA9hF,QAC3BknC,EAAG2gD,cAAc1+H,KAAK+9E,EAAG46C,kBAAkB3jG,WAAU,WACnD+oD,EAAG/mB,mBAAmBN,yBAAyBqnB,EAAGlpE,YAAYmgB,WAAU,WACtE+oD,EAAG86C,8CAIP9kF,EAAOiB,IAAI,YAAY,WACrB+oC,EAAG2gD,cAAcnyH,SAAQ,SAAA09G,GAAgB,OAAAA,EAAa1pG,oBAQxDw9D,EAAG+6C,2BAA6B,SAAC/rH,GAC/BgxE,EAAGpF,kBAAoB,EACvBoF,EAAG+5C,wBAAyB,EAC5B/5C,EAAGnF,aAAc,EAEjBp/D,EAAU0O,wBAAwBnb,GAC/BqX,MACC,SAACy4D,GACCkB,EAAGpF,kBAAoB,EACvBoF,EAAGg7C,gCAAgCl8C,MAErC,WACEkB,EAAGpF,kBAAoB,KAG1Bp0D,SAAQ,WAAM,OAAAw5D,EAAG46C,kBAAkBlkG,WAGxCspD,EAAG6gD,aAAe,SAAC14H,GACjB,IACI24H,EADEhqH,EAAakpE,EAAGxzE,WAAW4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWwa,cAAgB0uD,EAAG2hD,iBAG1Fx5H,IAAW,EAAAwa,iBAAiB8zB,iBAC9BupC,EAAG0gD,eAAiB,KACpB3qH,YAAW,WACTiqE,EAAG0gD,eAAiB5pH,EAAWmpB,cAEjC6gG,EAAgBlH,EAAkCzmG,KAAK6sD,EAAGxzE,WAAWJ,IAAIiO,KACvE,EAAA2hC,WAAU,SAAA6gF,GACR,IAAM9kE,EAAgB,yBACjB8kE,GAA0B,CAC7B10H,OAAM,IAER,OAAO8wD,EAAmBpB,aAAamoB,EAAGxzE,WAAWJ,GAAI0K,EAAYihD,QAIzE+oE,EAAgB7nE,EAAmBpB,aAAamoB,EAAGxzE,WAAWJ,GAAI0K,EAAY,CAAC3O,OAAM,IAGvF24H,EAAc7pG,WAAU,WACtB+oD,EAAG86C,uCACC3yH,IAAW,EAAAwa,iBAAiB8zB,iBAC9B3R,EAAO66D,aAAa76D,EAAOxwB,QAAS4nE,EAAkB0e,mBAAoB,CACxExiD,QAAQ,EAAM2oF,SAAS,EAAOC,QAAQ,QAY9ChhD,EAAGihD,4BAA8B,SAACt0G,GAChCqzD,EAAGpF,kBAAoB,EACvBoF,EAAG+5C,wBAAyB,EAC5B/5C,EAAGnF,aAAc,EAEjBp/D,EAAUkqE,GAAGj5D,yBAAyBlgB,EAAWJ,GAAIugB,GAClDtG,MACC,SAACy4D,GACCkB,EAAGpF,kBAAoB,EACvBoF,EAAGkhD,iCAAiCpiD,MAEtC,WACEkB,EAAGpF,kBAAoB,EACvBoF,EAAGnF,aAAc,KAGpBr0D,SAAQ,WAAM,OAAAw5D,EAAG46C,kBAAkBlkG,WAQxCspD,EAAGo7C,6BAA+BvjC,GAAS,SAAC7oF,GAC1CgxE,EAAG+6C,2BAA2B/rH,KAhJV,KAyJtBgxE,EAAG4hD,+BAAiC/pC,GAAS,SAAClrE,GAC5CqzD,EAAGihD,4BAA4Bt0G,KA1JX,KAkKtBqzD,EAAGs7C,cAAgB,SAACtsH,GAClBgxE,EAAGo7C,6BAA6BpsH,IASlCgxE,EAAGg7C,gCAAkC,SAACmG,GACpCA,EAAkC3yH,SAAQ,SAAC4yH,GACzCphD,EAAGxO,gBAAgBrmB,mBAAmB38C,SAAQ,SAACmf,GAC7CA,EAAiBgW,WAAWn1B,SAAQ,SAAC6e,GAC/B+zG,EAAuBh1H,KAAOihB,EAAUqqG,sBAAsBtrH,KAKlEihB,EAAUqqG,sBAAsBn3F,gBAC9B6gG,EAAuB7gG,gBAGzBlT,EAAUqqG,sBAAsB52F,mBAC9BsgG,EAAuBtgG,mBAGzBzT,EAAUqqG,sBAAsB32F,uBAC9BqgG,EAAuBrgG,kCAYjCi/C,EAAGkhD,iCAAmC,SAACG,GACrCrhD,EAAGxO,gBAAgBzoB,qBAAqBloB,iBACtCwgG,EAAmC,GAAGxgG,iBAExCm/C,EAAGxO,gBAAgBzoB,qBAAqBjoB,mBACtCugG,EAAmC,GAAGvgG,mBAExCk/C,EAAGxO,gBAAgBzoB,qBAAqBhoB,uBACtCsgG,EAAmC,GAAGtgG,wBAO1Ci/C,EAAGhuE,KAAO,WAEJ+yB,EAAa82D,aACf7b,EAAGshD,mBAAqBv8F,EAAa82D,YACrC7b,EAAGuhD,0BAA4BvhD,EAAGshD,qBAElCthD,EAAGshD,mBAAqB,MACxBthD,EAAGuhD,0BAA4B,OAK7Bx8F,EAAa7a,UACf81D,EAAG2hD,cAAgB58F,EAAa7a,UACvB6a,EAAauiC,cACtB0Y,EAAG2hD,cAAgB7+C,EAAQqb,oBAAoBne,EAAGh2D,SAAU+a,EAAauiC,cAI3E0Y,EAAG27C,oBAGH37C,EAAG6hD,gBACH7hD,EAAG47C,yBAA2B57C,EAAG67C,kCACjC77C,EAAG+7C,yBAGL/7C,EAAG+7C,sBAAwB,WACzB/7C,EAAGj0E,YAAYE,OAAOuC,SAAQ,SAAC8xB,GAC7B,IAAM07F,EAAoB,CAAC,CAAEh8F,SAAUM,EAAMl0B,GAAIoK,KAAM,KACvD8pB,EAAM9pB,KAAO,UAAIwpE,EAAI,qDAAsDg8C,GACxErtH,MAAK,SAAAqlB,GAAa,OAAAA,EAAUgM,WAAaM,EAAMl0B,MAAIoK,SAI1DwpE,EAAGi8C,aAAe,SAAC37F,EAAOjT,EAAWM,GACnC,IAAMquG,EAAoB,CAAC,CAAEh8F,SAAUM,EAAMl0B,GAAIoK,KAAM,KACjD0lH,EAAmBvuG,EAAiBgW,WACvCh1B,MAAK,SAAAwtH,GAAc,OAAAA,EAAW/vH,KAAOihB,EAAUqqG,sBAAsBrqG,aAExE,OAAO,UAAI6uG,EAAkB,cAAeF,GACzCrtH,MAAK,SAAAqlB,GAAa,OAAAA,EAAUgM,WAAaM,EAAMl0B,MAAIoK,MAGxDwpE,EAAG67C,gCAAkC,WACnC,IAAIluG,EAOJ,OALIoX,EAAahZ,qBACf4B,EAAmBqyD,EAAGxO,gBAAgBrmB,mBACnCx8C,MAAK,SAAA6kB,GAAQ,OAAAA,EAAKpnB,KAAO24B,EAAahZ,uBAGpC4B,GAAoBqyD,EAAGxO,gBAAgBrmB,mBAAmB,IAGnE60B,EAAG27C,kBAAoB,WACrB37C,EAAGxO,gBAAkB,GAErBwO,EAAGxO,gBAAgBrmB,mBAAqB+wC,EAAsB/wC,mBAC3D18C,QAAO,SAAAkf,GACN,OAAAA,EAAiBgW,WAAWhiC,OAASgsB,EAAiBgW,WAAa,SAQzEq8C,EAAGvuD,2BAA6B,WAC9BuuD,EAAGxO,gBAAgBzoB,qBAAuB,GAC1Ci3B,EAAGxO,gBAAgBswD,8BAA+B,EAElDrmH,EAAUkqE,GAAGl5D,yBAAyBjgB,EAAWJ,GAAI4zE,EAAG2hD,eACrDt7G,MAAK,SAACy4D,GACLkB,EAAGxO,gBAAgBzoB,qBAAuBnnD,OACvC0P,OAAO,GAAI0uE,EAAGxO,gBAAgBzoB,qBAAsB+1B,GAEvDkB,EAAGxO,gBAAgBswD,8BAA+B,MAQxD9hD,EAAG+hD,0BAA4B,WAC7B/hD,EAAGxO,gBAAgBwwD,6BAA8B,EAEjDvmH,EAAUkqE,GAAG17D,wBAAwBzd,EAAWJ,GAAI4zE,EAAG2hD,eACpDt7G,MAAK,SAACy4D,GACLkB,EAAGxO,gBAAgBrmB,mBAAmB38C,SAAQ,SAACI,GAC7CA,EAAkB+0B,WAAWn1B,SAAQ,SAAC6e,GACpCyxD,EAAItwE,SAAQ,SAACyzH,GACP50G,EAAUjhB,KAAO61H,EAAa50G,YAIlCA,EAAUqqG,sBAAwBuK,YAKxCjiD,EAAGxO,gBAAgBwwD,6BAA8B,MAQvDhiD,EAAGnhC,YAAc,WACXmhC,EAAGo8C,qBAIPp8C,EAAGo8C,oBAAqB,EAGxB53G,EAAS29D,mBAAmB,MAGxBjG,EAAkBsjB,oBACpBtjB,EAAkBsjB,mBAAmB95D,UAAUwpB,WAAW,uBAC1D1qC,EAASy9D,sBAAsB,MAGjC/F,EAAkB77B,KAAK,CAAEt0B,mBAAoBi0D,EAAG47C,yBAAyBxvH,OAO3E4zE,EAAG6hD,cAAgB,WACjB7hD,EAAGvuD,6BACHuuD,EAAG+hD,4BACH/hD,EAAG+7C,wBAEH/7C,EAAGlpE,WAAakpE,EAAGxzE,WAAW4d,YAAYzb,MAAK,SAAAmI,GAAc,OAAAA,EAAWwa,cAAgB0uD,EAAG2hD,iBAC3F3hD,EAAG0gD,eAAiB1gD,EAAGlpE,WAAWmpB,WAElCi8C,EAAkB4e,aAAa,CAAE5wE,WAAY81D,EAAG2hD,iBAOlD3hD,EAAGo9C,SAAW,WACZp9C,EAAGuhD,0BAA4BvhD,EAAGshD,mBAClCthD,EAAGq9C,+BAOLr9C,EAAGq9C,4BAA8B,WAC/Br9C,EAAG4gD,oBAAoBp8D,mBACrBwb,EAAGzb,6BAA6Byb,EAAGxO,gBAAgBrmB,qBAOvD60B,EAAGy9C,kBAAoB,WACrB,IAIMt5H,EAAO67E,EAAG4gD,oBAEhBz8H,EAAKu5H,cACH56C,EAAQqa,oBACNh5F,EAAK24D,WACLkjB,EAAGuhD,0BAT0B,CAAC,aAAc,yBAW9Cz+C,EAAQsa,eAAej5F,EAAKm8B,MAAO0/C,EAAGuhD,0BAVZ,CAAC,gBAW3Bz+C,EAAQua,cAAcl5F,EAAKw5H,UAAW39C,EAAGuhD,0BAVhB,CAAC,sBAAuB,8BAiBrDvhD,EAAG49C,iBAAmB,WACpB,IAAMlrD,EAAgBgvD,EACnB7D,kBAAkB79C,EAAGuhD,0BAA2BvhD,EAAGxO,iBAChDxiE,EAAuB0yH,EAAsCD,4BAA4B/uD,GAE/FsN,EAAG89C,oBAAoB9uH,GACvBgxE,EAAG+9C,qBAAqB/uH,GACxBgxE,EAAGg+C,sBAAsBhvH,GAEzBgxE,EAAGs7C,cAActsH,GAEjBgxE,EAAGi+C,oBAEHp5G,EAASxE,MAAM,kBAOjB2/D,EAAGi+C,kBAAoB,WACrBj+C,EAAG4gD,oBAAoBtgG,MAAQ,cAC/B0/C,EAAG4gD,oBAAoB9jE,WAAa,cACpCkjB,EAAG4gD,oBAAoB1C,SAAW,WAClCl+C,EAAG4gD,oBAAoBjD,UAAY,GACnC39C,EAAG4gD,oBAAoBlD,eAAgB,GAOzC19C,EAAGm+C,kBAAoB,WACrBn+C,EAAG4gD,oBAAoBztG,MAAO,GAUhC6sD,EAAG4d,iBAAmB,SAAC9F,EAAc2F,EAAYn/B,GAC/CwkB,EAAQ8a,iBAAiB9F,EAAc2F,EAAYn/B,GACnD0hB,EAAG86C,wCAYL96C,EAAGwd,oBAAsB,SAAC1F,EAAc2F,EAAYC,EAAaC,EAAiBr/B,GAChFwkB,EAAQ0a,oBAAoB1F,EAAc2F,EAAYC,EAAaC,EAAiBr/B,IAUtF0hB,EAAG6d,kBAAoB,SAAC/F,EAAc2F,EAAYn/B,GAChDwkB,EAAQ+a,kBAAkB/F,EAAc2F,EAAYn/B,IAQtD0hB,EAAG89C,oBAAsB,SAACprD,GAGxB,GAAKsN,EAAG4gD,oBAAoBjD,WAKf76C,EAAQka,qBAAqBhd,EAAGuhD,0BAPtB,CAAC,sBAAuB,6BAS/C,CAIA,IAAMrD,EAAWl+C,EAAG4gD,oBAAoB1C,SAClCP,EAAY39C,EAAG4gD,oBAAoBjD,UACnCS,EAAesD,EAClBrD,kBAAkBr+C,EAAGuhD,2BAExB7uD,EAAclkE,SAAQ,SAAC8vH,GACrB,IAAMC,EAAWD,EAASF,GACT,aAAbF,EAEFI,EAASF,GAAgBT,EACH,sBAAbO,EAETI,EAASF,GAAmBT,EAAS,IAAIY,EACnB,qBAAbL,IAETI,EAASF,GAAmBG,EAAQ,IAAIZ,QAU9C39C,EAAGg+C,sBAAwB,SAACtrD,GAG1B,GAA0C,gBAAtCsN,EAAG4gD,oBAAoB9jE,YAIdgmB,EAAQka,qBAAqBhd,EAAGuhD,0BANtB,CAAC,aAAc,wBAQtC,CAIA,IAAM/C,EAAiBx+C,EAAG4gD,oBAAoB9jE,WAExC2hE,EAAqBiD,EACxBhD,wBAAwB1+C,EAAGuhD,2BAE9B7uD,EAAclkE,SAAQ,SAAC8vH,GACE,gBAAnBE,EAEFF,EAASG,IAAsB,EACH,eAAnBD,IAETF,EAASG,IAAsB,QAUrCz+C,EAAG+9C,qBAAuB,SAACrrD,GAGzB,GAAqC,gBAAjCsN,EAAG4gD,oBAAoBtgG,OAIdwiD,EAAQka,qBAAqBhd,EAAGuhD,0BANtB,CAAC,eAQxB,CAIA,IAAMjhG,EAAQ0/C,EAAG4gD,oBAAoBtgG,MAErCoyC,EAAclkE,SAAQ,SAAC8vH,GACjBA,EAASK,0BAKbL,EAAStpG,WAAasL,QAa1B0/C,EAAG4+C,kBAAoB,SAACC,EAAa30G,GAEb,sBAAhB20G,IACF7+C,EAAGi+C,oBACHj+C,EAAGm+C,qBAEe,sBAAhBU,IACF3iD,EAAkB4e,aAAa,CAAEe,YAAa7b,EAAGshD,qBACjDthD,EAAGi+C,oBACHj+C,EAAGo9C,WAC2B,QAA1Bp9C,EAAGshD,qBACLthD,EAAG4gD,oBAAoBztG,MAAO,IAGd,4BAAhB0rG,IACF7+C,EAAG2hD,cAAgBz3G,EACnB81D,EAAG6hD,gBACHn8G,GAAS,eAETs6D,EAAGm+C,oBACHn+C,EAAGi+C,qBAEe,gBAAhBY,GACF3iD,EAAkBt2C,GAAG,oCAAqC,CAAE1b,UAAS,EAAE1d,WAAU,KAWvFwzE,EAAG8+C,eAAiB,SAACC,EAAap5H,GAChCo5H,EAAYp5H,IAOdq6E,EAAGkiD,uBAAyB,WAC1BhmD,EAAkBt2C,GAAG,gCAAiC,CAAE1b,UAAW81D,EAAG2hD,iBAGxE3hD,EAAGs8C,wBAA0B,SAACV,QAAA,IAAAA,MAA2B57C,EAAG47C,0BAC1D57C,EAAG+7C,wBACH7/C,EAAkB4e,aAAa,CAAE/uE,mBAAoB6vG,EAAyBxvH,KAC9E04B,EAAOc,GAAG,IAAK,CAAE7Z,mBAAoB6vG,EAAyBxvH,MAOhE4pC,EAAOiB,IAAI,4BAA6B4gD,GAAS,SAAClyF,EAAG2hE,GACnD,IAAIp9C,EAAY44D,EAAQqb,oBAAoBne,EAAGh2D,SAAUs9C,GAEpDp9C,EAMH81D,EAAG4+C,kBAAkB,0BAA2B10G,GALhDhO,EAAQ4kF,eAAexyF,GAAU,GAAM+X,MAAK,SAACy4D,GAC3C50D,EAAY44D,EAAQqb,oBAAoBrf,EAAKxX,GAC7C0Y,EAAG4+C,kBAAkB,cAAe10G,QAzoBpB,MAgpBtB81D,EAAGhuE,OAEHguE,EAAGovB,cAAgB,WACjB,IAAMxlF,EACJ,IAAI,EAAAivB,0BAA0B,EAAAxf,4BAA4B8wB,uBAE5DvgC,EAASI,SAAW,CAAC,EAAKA,SAASrb,MAAK,SAAAonC,GAAW,OAAAA,EAAQ3pC,KAAO4zE,EAAG2hD,kBACrE/3G,EAAShb,kBAAoBstF,EAAsB/wC,mBAChD18C,QAAO,SAAAkf,GAAoB,QAAEA,EAAiBgW,WAAWhiC,UAE5D2wD,EAA+BxpB,KAAKlf,GAAUvD,MAAK,SAAC0K,GAClDipB,EAAyBlpB,4CAA4CC,GAClE1K,MAAK,WAAM,OAAAye,EAAOsT,gBAIzB4nC,EAAG43C,kBAAoB,SAACt3F,EAAOjT,EAAWM,GACxCjI,GAAS,WAEL2H,EAAU2G,UADRsM,EACoB0/C,EAAGi8C,aAAa37F,EAAOjT,EAAWM,GAElC,OAK5BqyD,EAAG6nB,gBAAkB,SAACC,GACpB9nB,EAAG0nB,cAAcl5F,SAAQ,SAACu5F,GACxBnmG,OAAO0P,OAAOy2F,EAAU,CAAEppF,SAAS,OAErC/c,OAAO0P,OAAOw2F,EAAiB,CAAEnpF,SAAS,IAC1Ckf,EAAoBR,iBA9qBI,iCA8qBgC2iD,EAAG0nB,eAC3D1nB,EAAG2nB,SAAWG,EAAgBprE,UAAUC,MAG1CqjD,EAAGgoB,eAAiB,SAACt4F,GACnB,OAAAswE,EAAG2nB,WAAa,EAAArvF,aAAaukB,mBAAoB,GAAGntB,GAAQsrC,OAAOr5C,QAErEq+E,EAAGioB,qBAAuB,SAACtjE,GACzB,OAAAq7C,EAAG2nB,WAAa,EAAArvF,aAAamkB,aAAc,GAAG+qE,EAAQ,sBAARA,CAA+B7iE,IAAeqW,OAAOr5C,QAErGq+E,EAAG+3C,qBAAuB,WACxB/3C,EAAGq3C,2BAA4B,EAC/B/6F,EAAoB/0B,IAAIy4E,EAAGu3C,2BAA4B,SAGzDv3C,EAAGg4C,qBAAuB,WACxBh4C,EAAGq3C,2BAA4B,EAC/B/6F,EAAoB8B,OAAO4hD,EAAGu3C,6BAGhCv3C,EAAGmiD,uBAAyB,WAC1B,OAAOniD,EAAGs3C,2BAA6Bt3C,EAAGj0E,YAAY64B,YAGxDo7C,EAAG83C,mBAAqB,SAACzqG,GACvB,OAAO2yD,EAAGmiD,0BAA4BniD,EAAGq3C,4BACtCr3C,EAAGj0E,YAAY64B,YAAcvX,EAAU2G,WAG5CgsD,EAAG86C,qCAAuC,SAAC1uH,QAAA,IAAAA,MAAK4zE,EAAGxzE,WAAWJ,IAC5DorD,EAAmB/b,OAAO,CAACrvC,GAAE,KAIjCstH,EAAS73H,UAAYD,OAAO0P,OAAOooH,EAAS73H,UAAW2+H,EAA2B3+H,WAElFsB,EAAOD,QAAUw2H,G,yFChwBjB,QACA,4BAMA,aACE,cAsCF,OAlCS,YAAAgF,wBAAP,SAA+B6C,GAM7B,MALwC,CACtCzqH,WAAY,kBACZopH,oBAAqB,sBAGZqB,IAGN,YAAAlD,kBAAP,SAAyBkD,GAMvB,MALwC,CACtCrB,oBAAqB,WACrBE,yBAA0B,gBAGjBmB,IAGN,YAAA1D,kBAAP,SAAyB0D,EAAmC/vD,GAC1D,MAAI,CAAC,aAAc,sBAAuB,4BAA4Bt7C,SAASqrG,GACtE/vD,EAAgBrmB,mBAAmBzjC,QAAO,SAAC44G,EAA8B3yG,GAC5E,kBACK2yG,EACA3yG,EAAiBgW,WAAWl1B,QAAO,SAACuuH,GAAkB,OAAAA,EAAcr+G,cAE3E,IAGG,IAGF,YAAA8iH,4BAAP,SAAmC1nF,GACjC,OAAOA,EAAMjwC,KAAI,SAAA0pB,GAAQ,OAAAA,EAAKkkG,0BArCrBgK,EAAqC,cAJjD,EAAAxuH,QAAQ,CACP/P,OAAQ,UACRK,KAAM,0C,sCAEKk+H,GAAb,GAAa,EAAAA,yC,6BCNb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAEtB,SAEA,SAEa,EAAA7vG,0BAAA,yCAAsC,SAAC03E,EAA+Bj1C,IAIjF,yBAFU,OAAkB,OAAX,GAAmB,EAAO,MAAM,KAAM,YAAc,KAEZ,iBAChD,YAAAE,YAAP,WACE,MAAO,CAAE0hB,GAAI,sCAGR,YAAAviB,SAAP,SAAgBC,GACd,IAAMsmE,EAAoBtmE,EAAWyuD,WAAWx+G,IAAI,qBAC9CgW,EAAoB+5C,EAAW8uD,cAAc7oG,SASnD,OARkB+5C,EAAWwuE,QAAQ5+H,OAASowD,EAAWgsB,MAAMp8E,OAE5CqW,EAAOytD,cAAeztD,EAAOqQ,WAC9CgwG,EAAkB94C,aAAa,4BAA2B,cACrDvnE,IAIA,YAAM85C,SAAQ,UAACC,IAhBpByuE,EAA0C,cAD/C,EAAAhuE,2BAA2BC,IACtB+tE,IAAN,CAAyD,EAAAjuE,mBAqBzD,yBADU,OAAkB,OAAX,GAAmB,EAAO,MAAM,KAAM,YAAc,KACZ,iBAChD,YAAAI,YAAP,WACE,MAAO,CAAE0hB,GAAI,sCAGR,YAAAviB,SAAP,SAAgBC,GACd,IAAMsmE,EAAoBtmE,EAAWyuD,WAAWx+G,IAAI,qBAC9CgW,EAAoB+5C,EAAW8uD,cAAc7oG,SASnD,QARkB+5C,EAAWwuE,QAAQ5+H,OAASowD,EAAWgsB,MAAMp8E,OAE7CqW,EAAOrN,YAAcqN,EAAO+hF,SAC5Cs+B,EAAkB94C,aAAa,oCAAmC,cAC7DvnE,IAIA,YAAM85C,SAAQ,UAACC,IAhBpB0uE,EAA0C,cAD/C,EAAAjuE,2BAA2BC,IACtBguE,GAAN,CAAyD,EAAAluE,mBAqBzD,yBAAU,OAAkB,OAAX,GAAmB,EAAO,MAAM,KAAM,YAAc,KAAnB,iBACzC,YAAAI,YAAP,WACE,MAAO,CAAE0hB,GAAI,8BAGR,YAAAviB,SAAP,SAAgBC,GACd,IAAMsmE,EAAoBtmE,EAAWyuD,WAAWx+G,IAAI,qBAC9CgW,EAAoB+5C,EAAW8uD,cAAc7oG,SASnD,QARkB+5C,EAAWwuE,QAAQ5+H,OAASowD,EAAWgsB,MAAMp8E,OAE7CqW,EAAOrN,YAAcqN,EAAO+hF,SAC5Cs+B,EAAkB94C,aAAa,4BAA2B,cACrDvnE,IAIA,YAAM85C,SAAQ,UAACC,IAhBpB2uE,EAAmC,cADxC,EAAAluE,2BAA2BC,IACtBiuE,GAAN,CAAkD,EAAAnuE,mBAqBlD,yBACU,OAAkB,OAAX,GAAmB,EAAO,MAAM,KAAM,YAAc,KAD7C,iBACf,YAAAI,YAAP,WACE,MAAO,CAAE0hB,GAAI,SAAAhtE,GAAS,OAAAA,EAAM1F,KAAK0rD,WAAW,yBAGvC,YAAAyE,SAAP,SAAgBC,GACd,IAAM+rC,EAAiC/rC,EAAWsiB,KAIlD,OAHCypB,EAAqB7f,WAAa,iBAClC6f,EAAqBlqD,KAAO,WAEtB,GAVL+sE,EAAS,cADd,EAAAnuD,2BAA2BC,IACtBkuD,GAAN,CAAwB,EAAApuD,mBAcxBm1C,EACGrgG,MAAM,qBAAsB,CAC3BjC,QAAS,CACPsxH,iBAAkB,CAAlB,iDAAkB,SAAC/gE,EAAwCj9B,EAAoCuK,GAI7F,OADAvK,EAAiByhE,UAAU,MACpB,IAAIh1F,SAAQ,SAAAC,GACjBuwD,EAAmB3zD,MAAMozB,WAAU,SAAA5oB,GAC7BA,EAAY1M,OACdsF,EAAQoH,GAERy2B,EAAOc,GAAG,4CAMpB4jE,MAAO,CACL,IAAK,CACH74F,UAAW,sBAEb,iCAAkC,CAChCA,UAAW,qBAIhBzH,MAAM,kCAAmC,CACxCsgG,MAAO,CACL,IAAK,CACH74F,UAAW,sBAEb,8CAA+C,CAC7CA,UAAW,yC,6BCzHrB,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,OAEA,SACA,QACA,QACA,4BACA,6BACA,4B,aAcE,WAAoBm0B,EAA8Bo3C,GAA9B,KAAAp3C,SAA8B,KAAAo3C,oBAGhDpiE,KAAKtN,WAAa,KAClBsN,KAAKsQ,YAAc,GAQnB,IAAI,EAAI,EAaZ,O,yCAlBS,YAAAo4G,qBAAP,SAA4Bt4G,GAA5B,WACMpQ,KAAKtN,YACPsN,KAAKgrB,OAAOc,GACV,oCACA,CACE1b,UAAS,EACT1d,WAAYsN,KAAKtN,aAEnB6Z,MAAK,WAEL,EAAK61D,kBACFkF,aAAa,4BAA6B,CACzCwa,SAAS,EACTpvF,WAAY,EAAKA,iBAxB3B,cADC,EAAAqE,QAoBK,EAAQ,WAAW,cAnBK,mBAmBkB,OAnBlB,IAAX,EAAA86G,aAAA,EAAAA,aAAW,WAoBzB,EAAgC,UAAW,kBAAc,GAlB9D,cADC,EAAA96G,QAsBK,EAAQ,WAAW,cAAe,QACnC,EAAgC,UAAW,mBAAe,GA1BpD4xH,EAA+B,cAN3C,EAAA7yH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,2BACVitC,SAAU,UACV70C,MAAO,YAoCD,EAAQ,WAAW,oBAAqB,CA5BN,mBA4Be,OA5Bf,IAAZ,EAAA4+B,cAAA,EAAAA,cAAY,mBAN7By7F,G,GAAA,EAAAA,mC,+CCfb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,OACA,SAEA,QACA,QACA,4BACA,6BACA,4B,cAcE,WAAoB39F,EAA8Bo3C,GAAlD,MAGE,cAAO,KAPH,OAIc,EAAAp3C,SAA8B,EAAAo3C,oBAJrC,EAeX,IAAI,EAYR,O,yCA7B2D,iBAYlD,YAAAwmD,2BAAP,SAAkCl2H,GAAlC,WACEsN,KAAKgrB,OAAOc,GACV,oCACA,CACEp5B,WAAU,EACVovF,SAAS,IAEXv1E,MAAK,WAEL,EAAK61D,kBAAkBkF,aACrB,oCACA,CACE50E,WAAU,EACVovF,SAAS,QAvBjB,cADC,EAAA/qF,MAAM,CAAEM,QAAQ,IAmBX,EAAQ,WAAW,cAAe,SACnC,EAAsC,UAAW,aAAS,GAjB/D,cADC,EAAAN,QAqBK,EAAQ,WAAW,cAAe,QACnC,EAAsC,UAAW,mBAAe,GAzB1D8xH,EAAqC,cANjD,EAAA/yH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,kCACVitC,SAAU,UACV70C,MAAO,YAmCD,EAAQ,WAAW,oBAAqB,CA3BN,mBA2Be,OA3Bf,IAAZ,EAAA4+B,cAAA,EAAAA,cAAY,mBAN7B27F,G,CAA8C,EAAA3lF,0BAA9C,EAAA2lF,yC,+CCdb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,OACA,SAMA,SACA,SACA,SACA,QACA,QACA,SACA,yBAEA,6BACA,4B,cAcE,WAAoB79F,EAA8B7f,EAA4B+0B,EAC1DsY,EAAwEl2C,EACxE8/D,GAFpB,MAKE,cAAO,KAVH,OAKc,EAAAp3C,SAA8B,EAAA7f,WAA4B,EAAA+0B,2BAC1D,EAAAsY,iCAAwE,EAAAl2C,4BACxE,EAAA8/D,oBAPP,EAyCX,IAAI,EAAI,EAAI,EAAI,EAAI,EAyBxB,O,4IAnEqD,iBAc5C,YAAAllC,QAAP,WACE,IAAM9iC,EAAgC,IAAI,EAAAmoB,SAAmBviB,KAAKiqE,OAAOv/E,KAAKsV,OAE9EA,KAAKwI,eAAergB,KAAK6X,KAAKsC,0BAA0BwmH,mBAAmB3rG,UAAU/iB,KAGhF,YAAA2uH,WAAP,SAAkBr2H,GAChBsN,KAAKsC,0BAA0B0mH,iBAAiBt2H,IAG3C,YAAAg2H,qBAAP,SAA4Bh2H,GAA5B,WACEsN,KAAKgrB,OAAOc,GACV,4BACA,CACEp5B,WAAU,EACVovF,SAAS,IAEXv1E,MAAK,WAEL,EAAK61D,kBAAkBkF,aACrB,4BACA,CACE50E,WAAU,EACVovF,SAAS,QAKV,YAAAmnC,qBAAP,SAA4Bv2H,GAC1BsN,KAAKsC,0BAA0B4mH,iBAAiBx2H,IAG3C,YAAAk2H,2BAAP,SAAkCl2H,GAAlC,WACEsN,KAAKgrB,OAAOc,GACV,oCACA,CACEp5B,WAAU,EACVovF,SAAS,IAEXv1E,MAAK,WAEL,EAAK61D,kBAAkBkF,aACrB,oCACA,CACE50E,WAAU,EACVovF,SAAS,QAKT,YAAA7X,OAAR,WACEjqE,KAAKzL,YAAcyL,KAAKsC,0BAA0B6mH,2BAA2BnpH,KAAKzL,cA/DpF,cADC,EAAAwC,MAAM,CAAEM,QAAQ,IA4CX,EAAQ,WAAW,cAAe,SACnC,EAAgC,UAAW,aAAS,GA1CzD,cADC,EAAAN,QA8CK,EAAQ,WAAW,cAAe,QACnC,EAAgC,UAAW,mBAAe,GAlDpDqyH,EAA+B,cAN3C,EAAAtzH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,2BACVitC,SAAU,UACV70C,MAAO,YA4DD,EAAQ,WAAW,oBAAqB,CApDN,mBAoDe,OApDf,IAAZ,EAAA4+B,cAAA,EAAAA,cAAY,SAA4B,mBAA5B,OAA4B,IAAR,EAAA/hB,UAAA,EAAAA,UAAQ,SAA4D,mBAA5D,OAA4D,IAAxB,EAAA+0B,0BAAA,EAAAA,0BAAwB,SAC9C,mBAD8C,OAC9C,IAA9B,EAAAsY,gCAAA,EAAAA,gCAA8B,SAA+D,mBAA/D,OAA+D,IAA1B,EAAA6wE,4BAAA,EAAAA,4BAA0B,mBAPtID,G,CAAwC,EAAAlmF,0BAAxC,EAAAkmF,mC,+CCvBb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,4BACA,6BACA,4BACA,SAUA,QACA,S,aAqFE,WAAsB1rE,EACArvB,EACA8wB,EACArB,EACAskB,EACA09C,EACAC,EACAvnE,EACA6pB,GARA,KAAA3kB,qBACA,KAAArvB,mBACA,KAAA8wB,qBACA,KAAArB,mBACA,KAAAskB,oBACA,KAAA09C,oCACA,KAAAC,qCACA,KAAAvnE,iCACA,KAAA6pB,iBA9EtB,KAAAvhD,QAAkC,CAChC,CACE50B,MAAO,qCACPgR,KAAM,EAAAkJ,eAAe+a,WAEvB,CACEj1B,MAAO,wCACPgR,KAAM,EAAAkJ,eAAe6a,qBAEvB,CACE/0B,MAAO,uDACPgR,KAAM,EAAAkJ,eAAe8a,8BAEvB,KACA,CACEh1B,MAAO,kBACPkD,MAAO,EAAAsxB,gBAAgBK,WAEzB,CACE70B,MAAO,eACPkD,MAAO,EAAAsxB,gBAAgBM,QAI3B,KAAA49F,gBAAwC,CACtC,CACEv9F,GAAI,kBACJn1B,MAAO,qCACPkzB,MAAO,EAAAkC,MAAMC,KAEf,CACEF,GAAI,qBACJn1B,MAAO,6CACPkzB,MAAO,EAAAkC,MAAMC,KAEf,CACEF,GAAI,qBACJn1B,MAAO,8CACPkzB,MAAO,EAAAkC,MAAMu9F,MAEf,CACEx9F,GAAI,0BACJn1B,MAAO,yCACPkzB,MAAO,EAAAkC,MAAMu9F,MAEf,CACEx9F,GAAI,QACJn1B,MAAO,qCACPkzB,MAAO,EAAAkC,MAAMC,MAIjB,KAAA+nG,gBAAwC,CACtC,CACEjoG,GAAI,eACJn1B,MAAO,uCACPkzB,MAAO,EAAAkC,MAAMC,KAEf,CACEF,GAAI,aACJn1B,MAAO,4CACPkzB,MAAO,EAAAkC,MAAMC,KAEf,CACEF,GAAI,aACJn1B,MAAO,yCACPkzB,MAAO,EAAAkC,MAAMu9F,OAqCf,IAAI,EAAI,EAAI,EAAI,EAwCpB,O,2OA7DE,YAAAlqH,OAAA,SAAOmqH,GArBD,IAAI,EAAI,EAsBN7wF,EAAUjuB,KAAKquB,iBAAiBH,WAAWtO,GAC3Cm/F,EAAaD,EAAqB1vH,MAAQ,QAAU,OACpDqvC,EAAwBxQ,EAAQnN,QAAQi+F,GAC1Cj+F,EAAO,cACNmN,EAAQnN,SAIXA,EADE2d,EAAeriB,SAAS0iG,EAAqBC,IACxC,yBACFj+F,KAAO,MACTi+F,GAAcj+F,EAAQi+F,GAAsBpqH,QAAO,SAAAxK,GAAS,OAAAA,IAAU20H,EAAqBC,MAAY,IAGnG,yBACFj+F,KAAO,MACTi+F,GAAU,WAAOj+F,EAAQi+F,GAAW,CAAED,EAAqBC,KAAW,IAI3E/+G,KAAK09C,mBAAmBjB,WAAW37B,IAGrC,YAAA2c,iBAAA,SAAiBqhF,GACf,IAAM7wF,EAAUjuB,KAAKquB,iBAAiBH,WAAWtO,GAC3Cm/F,EAAaD,EAAqB1vH,MAAQ,QAAU,OAG1D,OAF8B6+B,EAAQnN,QAAQi+F,GAExB3iG,SAAS0iG,EAAqBC,KAGtD,YAAAC,gBAAA,SAAgBC,GACd,IAAM1uH,EAAuB,CAC3B8wB,GAAI49F,EAAmB59F,GACvBjC,MAAO6/F,EAAmB7/F,OAG5Bpf,KAAK09C,mBAAmBhB,WAAWnsD,IAGrC,YAAA2uH,yBAAA,SAAyBD,GACvB,IAAME,EAAcn/G,KAAKquB,iBAAiBH,WAAWtO,GAAGrvB,KAExD,OAAO4uH,EAAY99F,KAAO49F,EAAmB59F,IAC3C89F,EAAY//F,QAAU6/F,EAAmB7/F,OAG7C,YAAAye,gBAAA,SAAgB0rF,GACd,IAAMh5H,EAAuB,CAC3B8wB,GAAIkoG,EAAmBloG,GACvBjC,MAAOmqG,EAAmBnqG,OAG5Bpf,KAAKm/C,mBAAmBzC,WAAWnsD,IAGrC,YAAAi5H,yBAAA,SAAyBD,GACvB,IAAMpK,EAAcn/G,KAAK89C,iBAAiB5vB,WAAWtO,GAAGrvB,KAExD,OAAO4uH,EAAY99F,KAAOkoG,EAAmBloG,IAAM89F,EAAY//F,QAAUmqG,EAAmBnqG,OA/InFqqG,EAA2B,cANvC,EAAA3zH,UAAU,CACTzM,OAAQ,UACR6M,SAAU,sBACVitC,SAAU,UACV70C,MAAO,YAmHD,EAAQ,WAAW,oBAAqB,CAzCc,mBAyCL,OAzCK,IAAlB,EAAAovD,oBAAA,EAAAA,oBAAkB,SACJ,mBADI,OACJ,IAAhB,EAAArvB,kBAAA,EAAAA,kBAAgB,SACI,mBADJ,OACI,IAAlB,EAAA8wB,oBAAA,EAAAA,oBAAkB,SACJ,mBADI,OACJ,IAAhB,EAAArB,kBAAA,EAAAA,kBAAgB,+CA3E7C2rE,G,GAAA,EAAAA,+B,+CC3Bb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,SACA,SACA,SAKA,SACA,SACA,SACA,SACA,QACA,SACA,SAEA,4B,aAmBE,WAAsBpnH,EACAV,EACAwJ,EACAqX,EACAg2B,EACAtY,GALA,KAAA79B,OACA,KAAAV,YACA,KAAAwJ,WACA,KAAAqX,sBACA,KAAAg2B,iCACA,KAAAtY,2BAGpBlgC,KAAK8oH,mBAAqB,IAAI,EAAAr6F,iBAA2B,IAqCzD,IAAI,EAAI,EAAI,EAAI,EAiCpB,O,4HAnES,YAAAi7F,gBAAP,SAAuBh3H,GACrB,IAAMi3H,EAA8B3pH,KAAK8oH,mBACtC56F,WACAv5B,QAAO,SAACi1H,GAAmC,OAAAA,IAAkBl3H,EAAWJ,MAI3E,OAFA0N,KAAK8oH,mBAAmBlsG,KAAK+sG,GAEtB7hI,OAAO0P,OAAO,GAAI9E,EAAY,CAAE0mG,QAAQ,KAG1C,YAAAywB,eAAP,SAAsBn3H,GACpB,IAAMi3H,EAAiB,WAClB3pH,KAAK8oH,mBAAmB56F,WAAU,CACrCx7B,EAAWJ,KAKb,OAFA0N,KAAK8oH,mBAAmBlsG,KAAK+sG,GAEtB7hI,OAAO0P,OAAO,GAAI9E,EAAY,CAAE0mG,QAAQ,KAG1C,YAAA4vB,iBAAP,SAAwBt2H,GACtB,OAAOA,EAAW0mG,OAASp5F,KAAK0pH,gBAAgBh3H,GAAcsN,KAAK6pH,eAAen3H,IAG7E,YAAAy2H,2BAAP,SAAkC50H,GAAlC,WACE,OAAOA,EAAYvE,KAAI,SAAC0C,GACtB,IAAM0mG,EAAkB,EAAK0vB,mBAAmB56F,WAAW9R,SAAS1pB,EAAWJ,IAE/E,OAAOxK,OAAO0P,OAAO,GAAI9E,EAAY,CAAE0mG,OAAM,QAI1C,YAAA8vB,iBAAP,SAAwBx2H,GAAxB,WACE,OAAOxF,QAAQyiC,IAAI,CACjB3vB,KAAK2B,UAAUyV,GAAGO,2BAA2B3X,KAAKqC,KAAKrU,iBAAkB0E,EAAWJ,IACpF0N,KAAKmL,SAASmG,oBAEb/E,MAAK,SAACu9G,GACL,IAAM1nC,EAAwB0nC,EAAU,GAClCC,EAAgCr3H,EAAW4d,YAAYtgB,KAAI,SAACgN,GAAoC,OAAAA,EAAWwa,cAC3GtH,EAAuB45G,EAAU,GACpCn1H,QAAO,SAACsnC,GAA+B,OAAA8tF,EAAoB3tG,SAAS6f,EAAQ3pC,OACzEwd,EAAuC,CAC3CI,SAAQ,EACRpb,kBAAmBstF,EAAsB/wC,mBAAmB18C,QAAO,SAACkf,GAAqB,QAAEA,EAAiBgW,WAAWhiC,UACvHqV,KAAMgT,EAASroB,OAAS,EAAI,EAAA03B,4BAA4By4B,eAAiB,EAAAz4B,4BAA4B8wB,uBAGvG,OAAO,EAAKmI,+BAA+BxpB,KAAKlf,GAAUvD,MAAK,SAAC0K,GAC9D,EAAKipB,yBAAyBlpB,4CAA4CC,EAAmBvkB,UAK9F,YAAAs3H,iBAAP,WACE,IAAMnhB,EAAiC7oG,KAAKwiB,oBAAoBz4B,IAAI,8BAC9DkgI,EAAiCjqH,KAAKwiB,oBAAoB2B,SAA0B,4BACpF2kF,EAAiC9oG,KAAKwiB,oBAAoB2B,SAAyB,+BAOzF,MAAO,CAAEmZ,SALQurE,GAAiB,EAAAvpF,gBAAgB8c,SAK/BsB,OAJJusF,GAAe,CAAC,EAAAvpG,gBAAgBK,UAAW,EAAAL,gBAAgBM,OAI/CF,QAHXgoF,GACd,CAAC,EAAA1iG,eAAe+a,UAAW,EAAA/a,eAAe6a,oBAAqB,EAAA7a,eAAe8a,gCA7EvE5e,EAAyB,cAJrC,EAAAlJ,QAAQ,CACP/P,OAAQ,UACRK,KAAM,8BAwDA,EAAQ,WAAW,oBAAqB,CAAC,OAAQ,OAjDf,mBAiD+B,OAjD/B,IAAR,EAAAyhB,UAAA,EAAAA,UAAQ,SACuB,mBADvB,OACuB,IAApB,EAAA6Y,sBAAA,EAAAA,sBAAoB,SACqB,mBADrB,OACqB,IAA9B,EAAAw0B,gCAAA,EAAAA,gCAA8B,SACZ,mBADY,OACZ,IAAxB,EAAAtY,0BAAA,EAAAA,0BAAwB,YAR7D59B,G,GAAA,EAAAA,6B,6BC/Bb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,OACA,QACA,2BACA,SACA,SACA,QACA,QACA,6BACA,4B,cAYE,WAAoB+uB,EAAuCrG,GAA3D,MAGE,cAAO,KAAH,OAHc,EAAAqG,aAAuC,EAAArG,SAIzD,EAAKyzF,iBAAmB,CACtBa,WAAY,GACZD,eAAgB,IAHP,EAOX,IAAI,EAAI,EAAI,EAIhB,O,kCAlBuD,iBAc9C,YAAAniF,QAAP,sBACEl9B,KAAKwI,eAAergB,KAAK6X,KAAKqxB,WAC3B8L,IAAI,EAAA1lC,OAAO4rE,qBAAqB,WAAM,SAAKr4C,OAAOsT,cAdvD,cADC,EAAAvnC,QAgBK,EAAQ,WAAW,cAf0B,mBAeH,OAfG,IAA1B,EAAAwoH,4BAAA,EAAAA,4BAA0B,WAgB9C,EAAkC,UAAW,wBAAoB,GAlB3D2K,EAAiC,cAN7C,EAAAp0H,UAAU,CACTzM,OAAQ,UACR6M,SAAU,6BACVitC,SAAU,UACV70C,MAAO,YA4BD,EAAQ,WAAW,oBAAqB,CAtBG,mBAsBM,OAtBN,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,SAA8B,mBAA9B,OAA8B,IAAZ,EAAAj9D,cAAA,EAAAA,cAAY,YAJpEg9F,G,CAA0C,EAAAvhH,yBAA1C,EAAAuhH,qC,2GChBb,QACA,4BACA,6BACA,4BAQA,aACE,cAGF,OAJaC,EAAwC,cANpD,EAAAr0H,UAAU,CACTzM,OAAQ,UACR6M,SAAU,qCACVitC,SAAU,UACV70C,MAAO,Y,sCAEI67H,GAAb,GAAa,EAAAA,4C,+CCXb,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GAFtB,QACA,OACA,QACA,SACA,SACA,QACA,QACA,4BACA,6BACA,4B,cAYE,WAAoB94F,EAAuCrG,GAA3D,MAGE,cAAO,KAAH,OAHc,EAAAqG,aAAuC,EAAArG,SAIzD,EAAKyzF,iBAAmB,CACtBa,WAAY,GACZD,eAAgB,IAHP,EAOX,IAAI,EAAI,EAAI,EAIhB,O,kCAlB0D,iBAcjD,YAAAniF,QAAP,sBACEl9B,KAAKwI,eAAergB,KAAK6X,KAAKqxB,WAC3B8L,IAAI,EAAA1lC,OAAO4rE,qBAAqB,WAAM,SAAKr4C,OAAOsT,cAdvD,cADC,EAAAvnC,QAgBK,EAAQ,WAAW,cAf0B,mBAeH,OAfG,IAA1B,EAAAwoH,4BAAA,EAAAA,4BAA0B,WAgB9C,EAAqC,UAAW,wBAAoB,GAlB9D6K,EAAoC,cANhD,EAAAt0H,UAAU,CACTzM,OAAQ,UACR6M,SAAU,gCACVitC,SAAU,UACV70C,MAAO,YA4BD,EAAQ,WAAW,oBAAqB,CAtBG,mBAsBM,OAtBN,IAAjB,EAAA67F,mBAAA,EAAAA,mBAAiB,SAA8B,mBAA9B,OAA8B,IAAZ,EAAAj9D,cAAA,EAAAA,cAAY,YAJpEk9F,G,CAA6C,EAAAzhH,yBAA7C,EAAAyhH,wC,gDCjBb,Y,2SAKA,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IACtD,IAAI,EAAU,EAAQ,GADtB,2BACA,4BACA,6BACA,4BACA,UACA,QACA,SACA,OAqBA,SAAgB/pE,EAAkCr1B,EAAQpf,EACxDqf,EAAc27D,EAAU93D,EAAW4+D,EAASrrF,EAAMV,EAAWS,EAAS27E,EACtE3b,EAAmBr3D,EAAUL,EAAU23D,EAAgBgoD,EACvDj3E,EAAck3E,EAAuCvmG,EAAqBtD,GAG1E,IAAMylD,EAAKlmE,KAELxL,EAAW6N,EAAKrU,iBAEd0E,EAAA,EAAAA,WAGRwzE,EAAGqkD,YAAc,UAAIt/F,EAAc,aAAa,GAGhDi7C,EAAGxzE,WAAa23H,EAEhBnkD,EAAGskD,kBAAoB,CACrBC,SAAUvkD,EAAGxzE,WAAW6vF,mBACxBmoC,oBAAqBxkD,EAAGxzE,WAAW8vF,8BAIrCtc,EAAG9yB,aAAeA,EAClB8yB,EAAGpxE,kBAAoBu1H,EAAsBh5E,mBAC7C60B,EAAGo6C,WAAa+J,EAAsB9J,YACtCr6C,EAAG0nB,cAAgB7pE,EAAoBf,gBAhBb,wBAiB1BkjD,EAAG2nB,SAAW3nB,EAAG0nB,cAAc/4F,MAAK,SAAC4uB,GAAqB,OAAAA,EAAiB5e,WACxE+d,UAAUC,KACbqjD,EAAGykD,oBAAsB,KACzBzkD,EAAG92E,MAAQ,CACT8N,KAAM,CACJi/F,SAAU,GACV,aACE,OAAO,UAAIj2B,EAAI,oBAAqB,KAAO,UAAIlmE,KAAM,iBAAkB,IAEzE,cACE,OAAO,UAAQkmE,EAAG0kD,gBAGtB/4H,MAAO,CACLsqG,SAAU,GACV,aACE,OAAO,UAAIj2B,EAAI,iBAAkB,KAAO,UAAIlmE,KAAM,cAAe,KAGrE6pB,WAAY,CACVsyE,SAAU,GACV,aACE,QAAS,UAAIj2B,EAAG2kD,0BAA2B7qH,KAAKm8F,UAAUt0G,SAG9DijI,SAAU,CACR3uB,SAAU,GACV,aACE,OAAO,UAAIj2B,EAAI,0BAA0B,KAAW,UAAQ,UAAIlmE,KAAM,YAAakmE,EAAG6kD,+BAG1FP,kBAAmB,CACjBruB,SAAU,GACV,aACE,OAAIn8F,KAAKm8F,SAAS5Z,qBAAuBrc,EAAGxzE,WAAW6vF,qBAEjDrc,EAAGxzE,WAAW6vF,mBACXviF,KAAKm8F,SAAS3Z,+BAAiCtc,EAAGxzE,WAAW8vF,kCADpE,MAMRtc,EAAG8kD,kBAAoB,CACrB,CACEngG,YAAa,0DACb3+B,MAAO,2DACPgR,KAAM,EAAAkJ,eAAe+a,WAEvB,CACE0J,YAAa,4DACb3+B,MAAO,6DACPgR,KAAM,EAAAkJ,eAAe6a,sBAGzBilD,EAAG0kD,aAAY,cAEV1kD,EAAG8kD,kBACHn2H,MAAK,SAACo2H,GAAqB,OAAAA,EAAiB/tH,OAASxK,EAAWkB,oBAOrEsyE,EAAGhuE,KAAO,WAERguE,EAAGglD,uBACHhlD,EAAGilD,wBACHjlD,EAAGrtC,WAEHjtB,GAAS,WACPs6D,EAAGklD,eAAeC,kBACjB,IAGLnlD,EAAGrtC,SAAW,WACZqtC,EAAG92E,MAAMyC,MAAMsqG,SAAQ,cAAQj2B,EAAGolD,aAClCplD,EAAG92E,MAAMy6B,WAAWsyE,SAAQ,WAAOj2B,EAAG2kD,2BACtC3kD,EAAG92E,MAAM8N,KAAKi/F,SAAQ,cAAQj2B,EAAG0kD,cACjC1kD,EAAG92E,MAAM07H,SAAS3uB,SAAWj2B,EAAG6kD,4BAChC7kD,EAAG92E,MAAMo7H,kBAAkBruB,SAAW,CAEpC5Z,mBAAoBrc,EAAGxzE,WAAW6vF,mBAClCC,6BAA8Btc,EAAGxzE,WAAW8vF,+BAIhDtc,EAAGqlD,oBAAsB,WACvB,IAAMvlC,EAAe,GAsBrB,OApBI9f,EAAG92E,MAAMyC,MAAMozC,QACjB+gD,EAAa79F,KAAK,EAAAqjI,uBAAuBC,cAGvCvlD,EAAG92E,MAAMy6B,WAAWob,QACtB+gD,EAAa79F,KAAK,EAAAqjI,uBAAuBE,YAGvCxlD,EAAG92E,MAAM8N,KAAK+nC,QAChB+gD,EAAa79F,KAAK,EAAAqjI,uBAAuBG,iBAGvCzlD,EAAG92E,MAAM07H,SAAS7lF,QACpB+gD,EAAa79F,KAAK,EAAAqjI,uBAAuBI,sBAGvC1lD,EAAG92E,MAAMo7H,kBAAkBvlF,QAC7B+gD,EAAa79F,KAAK,EAAAqjI,uBAAuBK,qBAGpC7lC,GAGT9f,EAAG4lD,wBAA0B,WAC3B5lD,EAAGxzE,WAAW6vF,mBAAqBrc,EAAGskD,kBAAkBC,SACxDvkD,EAAGxzE,WAAW8vF,6BAA+Btc,EAAGskD,kBAAkBC,UAAYvkD,EAAGskD,kBAAkBE,qBAGrGxkD,EAAG6nB,gBAAkB,SAACC,GACpB9nB,EAAG0nB,cAAcl5F,SAAQ,SAACu5F,GACxBnmG,OAAO0P,OAAOy2F,EAAU,CAAEppF,SAAS,OAErC/c,OAAO0P,OAAOw2F,EAAiB,CAAEnpF,SAAS,IAC1Ckf,EAAoBR,iBA5II,uBA4IgC2iD,EAAG0nB,eAC3D1nB,EAAG2nB,SAAWG,EAAgBprE,UAAUC,MAG1CqjD,EAAGgoB,eAAiB,SAACt4F,GAAU,OAAAswE,EAAG2nB,WAAa,EAAArvF,aAAaukB,mBAAoB,GAAGntB,GAAQsrC,OAAOr5C,QAElGq+E,EAAGioB,qBAAuB,SAACtjE,GAAgB,OAAAq7C,EAAG2nB,WAAa,EAAArvF,aAAamkB,aAAc,GAAG+qE,EAAQ,sBAARA,CAA+B7iE,IAAeqW,OAAOr5C,QAE9Iq+E,EAAG6lD,6BAA+B,WAAM,iBAAI7lD,EAAI,qBAAsB,gDAMtEA,EAAGnhC,YAAc,WACXmhC,EAAGo8C,qBAIHlgD,EAAkBsjB,oBACjBtjB,EAAkBsjB,mBAAmB95D,UAAUwpB,WAAW,uBAC7D1qC,EAASy9D,sBAAsB,MAGjCjC,EAAGo8C,oBAAqB,EACxBlgD,EAAkB77B,SAOpB2/B,EAAGilD,sBAAwB,WACzB,IAAIjlD,EAAGo6C,WAAP,CAIA,IACI0L,EACAr5E,EACAs5E,EAHE15D,EAAgB+3D,EAAsC4B,yBAK5DhmD,EAAG9yB,aAAa1+C,SAAQ,SAACzC,GACnBsgE,IAAkBtgE,EAAYK,KAChC05H,EAAyB/5H,GAGvBi0E,EAAGxzE,WAAWosF,eAAiB7sF,EAAYK,KAC7CqgD,EAAsB1gD,GAGpBA,EAAY+iD,UAAYi3E,IAC1BA,EAAqBh6H,MAMzBi0E,EAAGolD,YAAe34E,GAAuBq5E,GAA0BC,GAAsB/lD,EAAG9yB,aAAa,IAAM,GAC/G8yB,EAAGolD,YAAYa,WAAY,EAC3BjmD,EAAGykD,oBAAsBzkD,EAAGolD,YAAYh5H,GACxC4zE,EAAG92E,MAAMyC,MAAMsqG,SAAWj2B,EAAGolD,YAC7BplD,EAAGolD,YAAYc,oBAAsB,UAAIlmD,EAAI,mCAAmC,KAGlFA,EAAG2lC,qBAAuB,WAAM,OAAA3lC,EAAG92E,MAAM8N,KAAKgpG,UAAYhgC,EAAGqlD,sBAAsB1jI,QAMnFq+E,EAAGglD,qBAAuB,WACxBhlD,EAAGzxB,mBAAqByxB,EAAGpxE,kBACxBH,QAAO,SAAC68E,GAAO,OAAAA,EAAG26C,aAClBn8H,KAAI,SAACwhF,GAAO,OAAAA,EAAGl/E,OAGpB4zE,EAAG2kD,wBAA0B,WAAM,OAAA3kD,EAAGpxE,kBACnC8Y,QAAO,SAAC8V,EAAK7P,GAAqB,kBAAI6P,EAAQ7P,EAAiBgW,cAAa,IAC5El1B,QAAO,SAAC4e,GAAc,OAAAA,EAAU44G,aAChCn8H,KAAI,SAACujB,GAAc,OAAAA,EAAUjhB,OAEhC4zE,EAAG6kD,0BAA4B,WAAM,OAAA7kD,EAAGpxE,kBAAkB8Y,QAAO,SAACy+G,EAAO5J,GAAyB,kBAAI4J,EAAU5J,EAAqB54F,WAClIjc,QAAO,SAAC0+G,EAAMpJ,GACb,OAAIA,EAAciJ,UACT,EAAP,SAAWG,EAASpJ,EAAcpwE,oBAG7Bw5E,IACN,OAAM,KAOXpmD,EAAGqmD,YAAc,WACfrmD,EAAGpxE,kBAAkBJ,SAAQ,SAAC+tH,GAC5BA,EAAqB54F,WAAWn1B,SAAQ,SAACwuH,GAEvCA,EAAc7pG,MAAO,EAIE,gBAAnB6sD,EAAGolD,cACLpI,EAAciJ,WAAY,EAC1BjJ,EAAcpwE,mBAAqB,UAKzCozB,EAAGsmD,gBAOLtmD,EAAGumD,gBAAkB,SAAUl5G,GAC7BA,EAAU44G,WAAa54G,EAAU44G,UAEjCjmD,EAAGsmD,gBAOLtmD,EAAGsmD,aAAe,WAChBtmD,EAAG09C,eAAgB,EACnB,IAAIv7E,GAAsB,EACtBqkF,GAAgB,EACdC,EAAe,eAGE,gBAAnBzmD,EAAGolD,aAKPplD,EAAGpxE,kBAAkBJ,SAAQ,SAAC+tH,GAC5BA,EAAqB54F,WAAWn1B,SAAQ,SAACwuH,GAClCA,EAAciJ,YAInB9jF,GAAsB,EAEtB66E,EAAcpwE,mBAAmBp+C,SAAQ,SAACk4H,GACnCD,EAAanwG,KAAKowG,KACrBF,GAAgB,aAOnBxmD,EAAGolD,aAAgBjjF,IAKpB69B,EAAGolD,YAAYxgG,YAAc4hG,EAC/BxmD,EAAG09C,eAAgB,EACT19C,EAAGolD,YAAYxgG,aACzBo7C,EAAG09C,eAAgB,KA7BnB19C,EAAG09C,eAAgB,GAsCvB19C,EAAG3W,YAAc,WAGf2W,EAAGpxE,kBAAkBJ,SAAQ,SAAC+tH,GAC5BA,EAAqB54F,WAAWn1B,SAAQ,SAACwuH,GACvCh9C,EAAGzxB,mBAAmB//C,SAAQ,SAACm4H,GACzBA,IAA0B3J,EAAc5wH,IAAO4wH,EAAciJ,YAChD,WAMnBjmD,EAAGolD,aACLhB,EAAsCwC,uBAAuB5mD,EAAGolD,YAAYh5H,IAG9E4zE,EAAG6mD,qBACHhiH,EAASxE,MAAM,wBAOjB2/D,EAAGisC,iBAAmBp0B,GAAS,WAC7B,IAAMjuE,EAAW,CACfgvE,aAAc5Y,EAAGolD,YAAYh5H,GAC7B06H,sBAAuB,GACvBzM,YAAgC,gBAAnBr6C,EAAGolD,YAChB2B,cAAe/mD,EAAG0kD,aAAa1tH,KAC/BqlF,mBAAoB,UAAIrc,EAAI,iCAC5Bsc,6BAA8B,UAAItc,EAAI,4CAGxCA,EAAGpxE,kBAAkBJ,SAAQ,SAAC+tH,GAC5BA,EAAqB54F,WAAWn1B,SAAQ,SAACwuH,GACvC,GAAKA,EAAciJ,UAAnB,CAWA,IANA,IAAMnkF,EAAoB,CACxBz0B,UAAW2vG,EAAc5wH,GACzBwgD,mBAAoBowE,EAAcpwE,oBAI3BnrD,EAAI,EAAGA,GAAK,EAAGA,IACjBqgD,EAAkB8K,mBAAmBnrD,KACxCqgD,EAAkB8K,mBAAmBnrD,GAAK,GAI9CmoB,EAASk9G,sBAAsB7kI,KAAK6/C,UAIxCrmC,EAAUkO,oCAAoCnd,EAAWJ,GAAIwd,GAC1DvD,MAAK,WACJnK,EAAQghE,kBAAkB5uE,GAAU,GACjC+X,MAAK,WACJ25D,EAAG09C,eAAgB,EACnB19C,EAAGykD,oBAAsBzkD,EAAGolD,YAAYh5H,GACxC4zE,EAAGglD,uBACHhlD,EAAGgnD,gBACHzsG,EAAiBR,aAAY,GAC7BimD,EAAGqkD,aAAc,UAGxB,KAQHrkD,EAAG6mD,mBAAqB,SAAUI,QAAA,IAAAA,MAAmBjnD,EAAGqlD,wBACjDrlD,EAAGqkD,aAAe4C,EAAiB/wG,SAAS,EAAAovG,uBAAuBC,cACtE38F,EAAUE,KAAK,CACbI,OAAQxQ,QAAQhkB,QAAQI,SAAS0hB,iBAAiB,iCAClD2S,YAAa,oFACb74B,WAAU,WACRwJ,KAAKtD,KAAO,mCACZsD,KAAKotH,YAAc,WAAM,OAAAt+F,EAAUoC,QACnClxB,KAAKqtH,eAAiB,WACpBnnD,EAAGisC,mBACHrjF,EAAUoC,SAGdhC,aAAc,OAGhBg3C,EAAGisC,oBAQPjsC,EAAGgnD,cAAgB,WAEbjiG,EAAaqiG,uBACfjrD,EAAeiB,gBACflB,EAAkByjB,aAAa,sBAC/Bn7E,EAAS27D,yBAAyB,sBAElCugB,EAAS53D,KAAK,CACZK,YAAa,yBACbD,OAAQlT,EAAE,QACVgrE,UAAW,IACX13F,SAAU,eACVgH,WAAU,WACRwJ,KAAKmnF,YAAc,EAAAl7F,eAAe,qCAEpCijC,aAAc,QAGhBJ,EAAUE,KAAK,CACbI,OAAQxQ,QAAQhkB,QAAQI,SAAS0hB,iBAAiB,iCAClD2S,YAAa,+EACb74B,WAAU,WACR0vE,EAAGrtC,WACH74B,KAAKotH,YAAc,WACjBt+F,EAAUoC,SAGdhC,aAAc,QAMpBg3C,EAAGhuE,OA5cL,wC,iGCjCA,SAAYszH,GACV,yCACA,mDACA,mCACA,iDACA,+BALF,CAAY,EAAAA,yBAAA,EAAAA,uBAAsB,M,6BCClC,OAAO,eAAe,EAAS,aAAc,CAAE,OAAO,IAEzC,EAAAlrE,sCAAA,kBAAkD,SAACmvC,GAG9DA,EACGrgG,MAAM,oCAAqC,CAC1CusC,KAAM,UACNtM,YAAa,6DACb22C,WAAY,iBACZxvE,WAAY,qCACZ04B,aAAc,KACdnvB,OAAQ,CACNutH,sBAAuB,KACvB56H,WAAY,KACZyyH,WAAW,GAEbh4H,QAAS,CACPk9H,sBAAA,4CAAsBp/F,EAAc5oB,EAAMV,GAGxC,OAAOA,EAAUiO,kCAAkCqb,EAAav4B,WAAWJ,IAAIia,MAAK,SAAAc,GAClF,OAAOA,OAGX+lC,aAAA,4CAAanoB,EAAc5oB,EAAMV,GAG/B,OAAOA,EAAUkqE,GAAG94D,gBAAgB1Q,EAAKrU,iBAAkBi9B,EAAav4B,WAAWJ,Y,2GC7B7F,QAEA,QACA,QACA,SACA,4BACA,4BACA,6BAQA,aAKE,aAGE0N,KAAKutH,YAAa,E,MAMtB,OAHS,YAAA5rF,OAAP,SAAcumE,GACZloG,KAAKokE,QAAQopD,cAAc1lI,OAAO0P,OAAO,GAAI0wG,KAV3B,cAAnB,EAAAnsD,mB,2BAAsD,mB,OAAA,IAAlB,EAAAi1D,oBAAA,EAAAA,oBAAkB,W,8BAC5B,cAA1B,EAAAj6G,MAAM,CAAEK,UAAU,I,sEAHRq2H,EAA6C,cANzD,EAAA33H,UAAU,CACTzM,OAAQ,UACR6M,SAAU,2CACVitC,SAAU,UACV70C,MAAO,Y,sCAEIm/H,GAAb,GAAa,EAAAA,iD,2GCfb,QACA,4BAWA,aAGE,c,MAcF,O,EAjBanD,EAOJ,YAAA4B,uBAAP,WACE,OAASl/H,aAAaC,QAAQ,EAAsCygI,+BAG/D,YAAAZ,uBAAP,SAA8Bx6H,GAC5BtF,aAAaQ,QACX,EAAsCkgI,6BACtC,GAAGp7H,IAbA,EAAAo7H,6BAAuC,gBADnCpD,EAAqC,gBAJjD,EAAAlxH,QAAQ,CACP/P,OAAQ,UACRK,KAAM,0C,sCAEK4gI,GAAb,GAAa,EAAAA,yC,sEC+DTjhH,E,uNAXE4/B,EAAQ0kF,YAAe,CAC3BC,QAAS,CACP7qH,QAAS,CACPkhF,KAAM94F,SAAO0H,OAEf22C,UAAW,CACTy6C,KAAM94F,SAAO4X,YAMb8qH,EAAW,SAACz1H,GAAU,IAClByqB,EAAkBzqB,EAAlByqB,KAAMoZ,EAAY7jC,EAAZ6jC,QACd5yB,EAAUC,qBAAW9c,iBAFK,MAGkBiM,oBAAS,GAH3B,mBAGnB8Q,EAHmB,KAGH8qB,EAHG,OAIc57B,oBAAS,GAJvB,mBAInBoyD,EAJmB,KAILv2B,EAJK,OAK8B77B,qBAL9B,mBAKnBqwB,EALmB,KAKGglG,EALH,KAMpB3hE,EAAa5yD,gCANO,EAOYd,mBAASoqB,GAPrB,mBAOnBkrG,EAPmB,KAONC,EAPM,OAQgBv1H,mBAAS,aARzB,mBAQnBwf,EARmB,KAQJC,EARI,OASkBzf,oBAAS,GAT3B,mBASnBw1H,EATmB,KASHC,EATG,OAU8Bz1H,qBAV9B,mBAUnB01H,GAVmB,KAUGh/E,GAVH,QAWU12C,oBAAS,GAXnB,qBAWnB21H,GAXmB,MAWPC,GAXO,SAYF51H,qBAZE,qBAYnBwiC,GAZmB,MAYbqzF,GAZa,SAaM71H,qBAbN,qBAanB81H,GAbmB,MAaTC,GAbS,MAe1BnlH,EAAQgrB,kBAAoBA,EAC5BhrB,EAAQirB,gBAAkBA,EAC1BjrB,EAAQ9a,OAASu6B,EACbqjC,EAAW59D,OAAS,IACpB49D,EAAW59D,OAEf,IAAMy3B,GAAMuS,qBACV,SAAChvC,GAAD,OAAO8f,EAAQgrB,kBAAkB9qC,MACjC,SAACsC,GAAD,OAAOwd,EAAQirB,gBAAgBzoC,MAGjCwd,EAAQq/B,WAAa,WACnB2lF,IAAc,IAEhBhlH,EAAQE,eAAiBA,EACzBF,EAAQ2c,IAAMA,GACd3c,EAAQyf,qBAAuBglG,EAC/BzkH,EAAQ4c,UAAYgW,EACpB5yB,EAAQ4O,cAAgBA,EACxB5O,EAAQk6B,qBAAuB0qF,EAC/B5kH,EAAQm6B,wBAA0B,SAACtyC,GACjCE,qCAA2BF,GAC3Bg9H,EAAkBh9H,IAEpBmY,EAAQ4xB,KAAOA,GACf5xB,EAAQ8lC,wBAA0BA,GAClC9lC,EAAQ6O,iBAAmB,SAAChnB,GAC1BD,kCAAwBC,GACxBgnB,EAAiBhnB,IAGnB0H,qBAAU,WACRrL,4BAAkB,cAAewgI,KAChC,CAACA,IAEJ,IAAMU,GAAyB,CAC7B,uBACA,0BACA,kBACA,sBAEIjpF,GAAe,uCAAG,WAAOP,GAAP,SAAAh1C,EAAA,0DAClBnI,OAAOymB,KAAK02B,GAAQpwC,MAAK,SAACsgD,GAAD,OAAOs5E,GAAuB55H,MAAK,SAACrL,GAAD,OAAOA,IAAM2rD,QADvD,uBAEpB64E,EAAe,eAFK,SAGJrhI,8BAAoB,eAHhB,OAIV,gBAJU,QAKlB0c,EAAQqlH,WAAW7oC,aAAa,qBAAsB,IALpC,2CAAH,sDAgBrBjtF,qBAAU,WACHqjC,GANApvC,EAAQC,IAAIC,sBACfK,OAAOC,QAAQy4C,UAAUC,YAAYP,IAQvC,sBAAC,kCAAAv1C,EAAA,sEACsBe,oCADtB,cACOE,EADP,OAECgnB,EAAiBhnB,GAFlB,SAGuBC,uCAHvB,cAGOw9H,EAHP,OAICT,EAAkBS,GAJnB,UAKiBtlH,EAAQ2c,IAAIwR,cAL7B,QAKOo3F,EALP,OAMCN,GAAQM,aAAD,YAACA,EAAGvnI,YAAJ,aAAC,EAAS26C,UANlB,2CAAD,KAQC,IAcH,OACE,kBAAC,IAAD,CAAehc,IAAKA,IAClB,kBAAC,IAAD,CAAeijB,MAAOA,GACpB,yBAAK36C,MAAO,CAAEoX,OAAQ,YAAaK,SAAU,SAAUxX,OAAQ,SAC7D,kBAAC,IAAD,CAAmBs8D,aAAcA,IACjC,kBAAC,IAAD,CAAWthD,eAAgBA,IAC3B,kBAAC,IAAD,CAAW7M,KAAM6xH,GAAUnxH,QAASoxH,KACnB,gBAAhBT,GAAiC,kBAAC,IAAD,MACjB,mBAAhBA,GAAoC,kBAAC,IAAD,MACpCjlG,GAAyB,kBAAC,IAAD,CAAsB9zB,YAAa8zB,IAC5DqlG,IAAwB,kBAAC,IAAqBA,KAC7CthI,EAAQC,IAAIC,sBACZ,yBACEuB,MAAO,CACLkB,SAAU,WACVG,KAAM,QACN0L,IAAK,MACLkC,UAAW,UAGb,kBAAC,IAAD,CACEjP,MAAO,CACLC,OAAQ,UAGZ,yBACED,MAAO,CACLmF,QAAS,OACTjE,SAAU,WACV6L,IAAK,EACL1L,KAAM,EACNsO,MAAO,EACPrO,OAAQ,EACR2D,WAAY,SACZC,eAAgB,UAChBsF,OAAQ,WAEVR,QAAS+Q,EAAQi6D,eAEjB,yBACE1rE,IAAG,6BAAwBxK,OAAOQ,QAAQ0E,GAAvC,wBACHhE,MAAO,CAAEE,MAAO,OAAQD,OAAQ,YAKvC6/H,IACE,kBAAC,IAAD,CACDnyF,QAASA,EACTggC,WA7DO,SAAC4yD,GACA,uBAAZA,GACFxlH,EAAQqlH,WAAW5iG,GAAGmQ,EAAU,0BAA4B,0BAA2B,CAAEvL,OAAQ1iC,6BACjGggI,EAAe,qBACM,mBAAZa,GAAgC5yF,GACzC5yB,EAAQqlH,WAAW5iG,GAAG,0BAA2B,CAAE4E,OAAQ1iC,6BAC3DggI,EAAea,IAEfb,EAAea,IAsDTp1G,SAAUs0G,EACV7xD,UAAS,sBAAE,4BAAAjsE,EAAA,sEACH+1B,GAAI2P,kBADD,uBAEH3P,GAAI4P,eAFD,OAGT44F,GAAYviI,yBAAe,uCACrBwb,EAAIsmH,EACVC,EAAe,MACf/xH,YAAW,WACT+xH,EAAevmH,KACd,GARM,2CAUXwrC,MAAO,WACLo7E,IAAc,UAQbS,UA1NH,SAAC12H,GAAU,IAEnB/Q,EACE+Q,EADF/Q,KAAMw6F,EACJzpF,EADIypF,KAFa,EAGjBzpF,EADUyqB,YAFO,MAEA,cAFA,IAGjBzqB,EADgC6jC,eAFf,SAMrB,GAAY,wBAATpZ,EACD,OAAO,kBAAC,IAAD,MAPY,IAWA6rG,EAKjB7sC,EALFzf,kBACmC2sD,EAIjCltC,EAJFi+B,kCACoCkP,EAGlCntC,EAHFk+B,mCACgC7wE,EAE9B2yC,EAFFrpC,+BACgB0+B,EACd2K,EADFxf,eAGMiB,EAAgC4T,EAAhC5T,cAAe7/B,EAAiByzC,EAAjBzzC,aAEfkF,EAAethD,EAAfshD,WACR,OACE,kBAAC,gBAAcigD,SAAf,CACEz+F,MAAO,CACLukI,aACA/lF,aACAomF,yBACA7/E,6BACA8/E,0BACA1rD,gBACA7/B,iBAGF,kBAACoqF,EAAD,CAAUhrG,KAAMA,EAAMoZ,QAASA,O,kGC3DrC,UAAe,CACbgzF,SAAU,CACRC,SAAU,EACVC,MAAO,EACPC,MAAO,GACPC,QAAS,M,8ECLb,WAEMC,EAAc,CAClBC,aAAc,CACZjrH,WAAY,EAAAnZ,OAAOwH,MACnBG,QAAS,OACTC,aAAc,MACd2S,OAAQ,aAAa,EAAAva,OAAOqH,YAC5B2L,UAAW,gCAEbqxH,aAAc,CAAElrH,WAAY,cAAeoB,OAAQ,aAAa,EAAAva,OAAOqH,aACvEi9H,WAAY,CAAEp9H,MAAO,EAAAlH,OAAOwH,QAG9B,UAAe,CAAE28H,YAAW,I,gCCd5B,IAEIvzD,EAFE2zD,EAAQ,EAAQ,OAKtB3zD,EAAMn9C,QAAQv1B,OAAO,UAAW,KAE5Bw/F,SAAS,iBAAiB,WAC5B,IAAMrpF,EAAS,CAEbmwH,QAAS,CACP,OACA,UAGF1/F,aAAc,CACZ2/F,KAAM,OACNC,OAAQ,WAIZ7vH,KAAKwoF,KAAO,WACV,OAAOhpF,MAIXu8D,EAAIziE,QAAQ,iBAAkB,CAC5B,gBAAiB,SAAUw2H,GAEzB9vH,KAAK+vH,gBAAkB,SAAUC,GAC/B,OAAOA,EAAar7H,QAAO,SAAA7D,GAAU,OAA2C,IAA3Cg/H,EAAcH,QAAQ53H,QAAQjH,UAKzEirE,EAAIllE,UAAU,gBAAiB,CAC7BT,SAAU,CACR65H,eAAgB,KAChBrwD,QAAS,KACT5pB,KAAM,KACN9gB,SAAU,mBACVo7D,SAAU,KACV4/B,WAAY,KACZ9rD,QAAS,IACTl0B,SAAU,KACVxmD,KAAM,MAER4M,QAAS,CACP65H,kBAAmB,WAErBjsD,SAAU,IACV70C,YAAa,wBACb74B,WAAA,iEAAU,SAAC0lC,EAAQlQ,EAAUpgB,EAAUwkH,EAAgBN,GAGrD,IAMIO,EANE7wH,EAAS,CACbw2C,KAAMh2C,KAAKg2C,MAAQ,OACnBs6C,SAAUtwF,KAAKswF,WAAY,EAC3Bq/B,QAAS3vH,KAAKiwH,eAAiBG,EAAeL,gBAAgB/vH,KAAKiwH,eAAerkI,MAAM,MAAQkkI,EAAcH,SAE5GW,GAAU,EAEVC,GAAoB,EAExBvwH,KAAKwwH,UAAW,EAEhB,IAAMC,EAAW,WAEXzwH,KAAKk1B,YAAcl1B,KAAK0wH,aAAe1wH,KAAK0wH,aAAe,IAC7D1kG,EAASsqB,SAAS,cAClBtqB,EAASuqB,YAAY,YAEjBv2C,KAAKkwH,YAAcI,GAAWtkG,EAASizC,SAAS,aAClDjzC,EAASn2B,WAAWygD,SAASt2C,KAAKkwH,cAGpClkG,EAASuqB,YAAY,cACrBvqB,EAASsqB,SAAS,YACdt2C,KAAKkwH,YACPlkG,EAASn2B,WAAW0gD,YAAYv2C,KAAKkwH,cAGzCxlI,KAAKsV,MAED2wH,EAAa,SAAUlrF,GAO3B,GALIA,EAAQ6qD,UAAY7qD,EAAQ6qD,SAASsV,eAAiBngE,EAAQ6qD,SAASsgC,eACzEP,EAAOA,OAAO5qF,EAAQ6qD,SAASsV,aAAe,UAAY,YAIxDngE,EAAQ2+B,SAAW3+B,EAAQ2+B,QAAQwhC,eAAiBngE,EAAQ2+B,QAAQwsD,cACtE,MAAoB,SAAhBpxH,EAAOw2C,KACFq6E,EAAOjzH,QAAQqoC,EAAQ2+B,QAAQwhC,cAAgB,IAEpC,aAAhBpmG,EAAOw2C,KACFq6E,EAAOQ,YAAYprF,EAAQ2+B,QAAQwhC,cAAgB,IAErDyqB,EAAOS,QAAQrrF,EAAQ2+B,QAAQwhC,cAAgB,KAK1D5lG,KAAKk1B,SAAWl1B,KAAKk1B,UAA8B,SAAlBl1B,KAAKk1B,SAGtCl1B,KAAK+wH,KAAOjB,EAAc7/F,aAE1BjwB,KAAKgxH,WAAa,SAAUrB,GAC1B,OAAOA,EAAQ5gH,MAAK,SAAAje,GAAU,OAAoC,IAApC0O,EAAOmwH,QAAQ53H,QAAQjH,OAGvDkP,KAAK0wF,WAAa,SAAUjrD,GAE1B,GAAK4qF,EAUDE,GAIJI,EAAWlrF,QAbT,IAAIwrF,EAAa/0F,EAAOiB,IAAI,iBAAiB,WAC3C8zF,IAEAN,EAAWlrF,OAajBzlC,KAAKk9B,QAAU,uBAEbmzF,EAAS,IAAIX,EAAM1jG,EAAS,GAAGkvD,cAAc,uCAAwC17E,IAG9E4rB,GAAG,oBAAoB,SAAC2jD,GACzBA,GAGJnjE,GAAS,WACP,EAAKukH,kBAAkBe,oBAKvBlxH,KAAK4/D,SAA4B,SAAjB5/D,KAAK4/D,SAEvBh0D,GAAS,WACPykH,EAAOc,UAAU,UAAW,CAC1BjkF,UAAWlhB,EAAS,GAAGkvD,cAAc,0CAEvC,EAAKk2C,gBAAiB,EACtB,EAAKC,aAAc,EAAKrpI,eAAe,gBAAiB,EAAKqpI,cAC5D,KAILzlH,GAAS,WACPswB,EAAOzK,MAAM,gBAAiB4+F,EAAQ,EAAK3mI,MAGvC,EAAKwmD,UACP,EAAKA,SAAS,CACZmgF,OAAM,EACN3mI,KAAM,EAAKA,OAKf2mI,EAAOiB,UAAU,gBAAgBptG,WAInCtY,GAAS,WACPykH,EAAOjlG,GAAG,eAAe,WACvB,IAAMmmG,EAAYjB,EAClBA,GAAU,EAEVC,GAAoB,EAEpB3kH,GAAS,WACP,IAAI4lH,EAGJ,EAAKd,YAAcL,EAAOoB,YAGtBF,GACFd,IAIAe,EADkB,SAAhBhyH,EAAOw2C,KACEq6E,EAAOqB,UACO,aAAhBlyH,EAAOw2C,KACLq6E,EAAOsB,cAEPtB,EAAOuB,UAIO,IAAvBvB,EAAOoB,YACT,EAAKtB,kBAAkB3C,cAAc,IAErC,EAAK2C,kBAAkB3C,cAAcgE,GAGvCjB,GAAoB,WAK1BvkG,EAAS6lG,UAAS,WAChBjmH,GAAS,WAAM,SAAK4kH,UAAW,QAGjCxkG,EAAS8lG,SAAQ,WACflmH,GAAS,WAAM,SAAK4kH,UAAW,QAIjCxkG,EAASZ,GAAG,YAAY,WACtBilG,EAAOtzC,kBAMfhhB,EAAIiC,IAAI,CACN,iBAAkB,SAAU+zD,GAE1B,OAAOA,EAAezwH,IAAI,wBACxB,mxC,kBCxON,IAAItR,EAAM,CACT,aAAc,IACd,oFAAqF,IACrF,yEAA0E,IAC1E,mFAAoF,IACpF,4GAA6G,IAC7G,+DAAgE,IAChE,4GAA6G,IAC7G,oGAAqG,IACrG,0EAA2E,KAC3E,wDAAyD,KACzD,uEAAwE,KACxE,0EAA2E,KAC3E,2EAA4E,KAC5E,gFAAiF,KACjF,qFAAsF,KACtF,uFAAwF,KACxF,6EAA8E,KAC9E,kFAAmF,KACnF,oEAAqE,KACrE,+EAAgF,KAChF,6DAA8D,KAC9D,uFAAwF,KACxF,mFAAoF,KACpF,kFAAmF,KACnF,yFAA0F,KAC1F,kGAAmG,KACnG,uGAAwG,KACxG,yGAA0G,KAC1G,iFAAkF,KAClF,+DAAgE,KAChE,yFAA0F,KAC1F,yFAA0F,KAC1F,oFAAqF,KACrF,2FAA4F,KAC5F,oGAAqG,KACrG,yGAA0G,KAC1G,2GAA4G,KAC5G,4GAA6G,IAC7G,wHAAyH,IACzH,4GAA6G,IAC7G,+DAAgE,IAChE,8FAA+F,IAC/F,4GAA6G,IAC7G,oGAAqG,IACrG,oJAAqJ,IACrJ,sFAAuF,KACvF,iFAAkF,KAClF,+DAAgE,KAChE,8EAA+E,KAC/E,+CAAgD,KAChD,qEAAsE,KACtE,qEAAsE,KACtE,iGAAkG,IAClG,uDAAwD,IACxD,2DAA4D,KAC5D,oCAAqC,KACrC,0FAA2F,KAC3F,sGAAuG,KACvG,kFAAmF,KACnF,oHAAqH,KACrH,oFAAqF,KACrF,iHAAkH,KAClH,6GAA8G,KAC9G,gGAAiG,KACjG,iHAAkH,KAClH,yGAA0G,KAC1G,4GAA6G,KAC7G,iHAAkH,KAClH,+FAAgG,KAChG,0FAA2F,KAC3F,2GAA4G,KAC5G,sGAAuG,KACvG,oFAAqF,KACrF,0GAA2G,KAC3G,oFAAqF,KACrF,wIAAyI,KACzI,gHAAiH,KACjH,oHAAqH,IACrH,4JAA6J,IAC7J,gHAAiH,KACjH,gGAAiG,KACjG,wGAAyG,KACzG,4IAA6I,KAC7I,uJAAwJ,IACxJ,qJAAsJ,IACtJ,uHAAwH,IACxH,oIAAqI,IACrI,+IAAgJ,IAChJ,gJAAiJ,IACjJ,2HAA4H,IAC5H,iIAAkI,IAClI,6GAA8G,IAC9G,0FAA2F,KAC3F,uFAAwF,KACxF,oFAAqF,KACrF,yEAA0E,KAC1E,wFAAyF,KACzF,4EAA6E,KAC7E,iEAAkE,KAClE,qEAAsE,KACtE,uEAAwE,KACxE,uEAAwE,KACxE,kEAAmE,KACnE,qEAAsE,KACtE,oEAAqE,KACrE,4EAA6E,KAC7E,2EAA4E,KAC5E,mFAAoF,KACpF,kEAAmE,KACnE,sEAAuE,KACvE,+EAAgF,KAChF,sEAAuE,KACvE,2EAA4E,KAC5E,4FAA6F,IAC7F,+GAAgH,IAChH,gIAAiI,IACjI,4JAA6J,IAC7J,kKAAmK,IACnK,2GAA4G,IAC5G,yFAA0F,IAC1F,yGAA0G,IAC1G,+GAAgH,IAChH,gIAAiI,IACjI,4JAA6J,IAC7J,kKAAmK,IACnK,2GAA4G,IAC5G,yFAA0F,IAC1F,gDAAiD,KACjD,2EAA4E,IAC5E,6EAA8E,IAC9E,uEAAwE,IACxE,qEAAsE,IACtE,yEAA0E,IAC1E,+DAAgE,IAChE,mEAAoE,IACpE,qDAAsD,IACtD,gEAAiE,IACjE,uDAAwD,IACxD,2DAA4D,KAC5D,4CAA6C,KAC7C,+CAAgD,KAChD,kDAAmD,KACnD,oEAAqE,KACrE,kFAAmF,KACnF,4DAA6D,KAC7D,yFAA0F,KAC1F,2FAA4F,KAC5F,qFAAsF,KACtF,kEAAmE,KACnE,kFAAmF,IACnF,8EAA+E,IAC/E,kEAAmE,KACnE,8DAA+D,KAC/D,kCAAmC,KACnC,8BAA+B,KAC/B,4CAA6C,KAC7C,mCAAoC,KACpC,+BAAgC,KAChC,0CAA2C,KAC3C,0CAA2C,KAC3C,sCAAuC,KACvC,kCAAmC,KACnC,2BAA4B,KAC5B,6CAA8C,KAC9C,sCAAuC,MAIxC,SAASs9B,EAAeC,GACvB,IAAIj7B,EAAKk7B,EAAsBD,GAC/B,OAAOvkC,EAAoBsJ,GAE5B,SAASk7B,EAAsBD,GAC9B,IAAIvkC,EAAoBY,EAAEoG,EAAKu9B,GAAM,CACpC,IAAI1hC,EAAI,IAAI4hC,MAAM,uBAAyBF,EAAM,KAEjD,MADA1hC,EAAE2oB,KAAO,mBACH3oB,EAEP,OAAOmE,EAAIu9B,GAEZD,EAAe/e,KAAO,WACrB,OAAOzmB,OAAOymB,KAAKve,IAEpBs9B,EAAengC,QAAUqgC,EACzBnkC,EAAOD,QAAUkkC,EACjBA,EAAeh7B,GAAK,M,cC1LpB,IAAI6pD,EAAO,wEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,0hCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,sDAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,47UAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,qEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,49NAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,wEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,gwNAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,yEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,kpFAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,8EAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,03MAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,mFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,m3LAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,qFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,8mJAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,2EAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,45EAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,m3DAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,62EAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,6EAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,0hCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,2DAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,ijSAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,qFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,ulKAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,iFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,6rIAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,q6OAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,uFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,28IAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,okIAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,qGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,mgGAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,uGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,w8EAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,+EAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,0hCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,6DAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,o+TAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,uFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,6/LAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,uFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,q4IAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,s+OAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,yFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,w8IAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,mkIAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,uGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,whGAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,yGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,+8EAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,oFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,yzBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,+EAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,smBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,6DAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,i0KAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,4EAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,whHAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,6CAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,+eAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,mEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,iEAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,mEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,4nBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,yDAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,sSAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kCAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,q1BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,wFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,8xiBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,oGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,izLAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,ooFAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kHAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,q6FAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,gPAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,+GAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,0rCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,2GAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,oQAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,8FAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,ksDAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,+GAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,o+BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,uGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,2uBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,0GAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,i+BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,+GAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,29CAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,6FAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,6nFAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,wFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,ytGAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,yGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,iuIAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,oGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,grCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,yoBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,wGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,mEAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,0zBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,sIAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,09KAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,8GAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,6sJAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,8GAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,yhOAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,8FAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,sgMAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,sGAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,y6MAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,0IAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,22KAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,wFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,m+PAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,qFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,o6BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,m2FAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,uEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,2gHAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,sFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,k/BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,0EAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,g9BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,+DAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,gnCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,mEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,i7CAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,qEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,kiDAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,qEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,k2BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,siCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,mEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,otCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,2iNAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,0EAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,yoCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,yEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,mpCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,iFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,4lCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,OAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,oEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,OAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,6EAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,m6DAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,oEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,u4XAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,yEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,svBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,8CAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,s/BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,yDAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,64BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,0CAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,8nBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,6CAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,stBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gDAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,yyBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,kEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,mpCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,mnCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,0DAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,m+BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,uFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,goBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,yFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,qeAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,mFAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,4qBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,w0BAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gEAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,kiJAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,4DAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,k0FAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gCAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,uaAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,4BAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,kqCAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,0CAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,o0DAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,iCAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,kVAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,6BAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,49OAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,wCAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,8hBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,wCAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,u6CAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,oCAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,inBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,gCAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,oVAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,yBAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,6FAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,2CAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,0lBAEX9yD,EAAOD,QAAU+yD,G,cCHjB,IAAIA,EAAO,oCAEXnxD,OAAO4zB,QAAQv1B,OAAO,MAAM20E,IAAI,CAAC,iBAAkB,SAASx0E,GAAKA,EAAE8X,IAAI66C,EAD5D,knBAEX9yD,EAAOD,QAAU+yD,G","file":"scripts/contentscript.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([795,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import colors from './colors';\nimport fonts from './fonts';\nimport sizes from './sizes';\nimport styles from './styles';\n\nexport {\n  colors, fonts, sizes, styles,\n};\n","const english = require('./_locales/en/messages.json');\n\nlet language;\nconst getLanguage = () => {\n  if (language) {\n    return language;\n  }\n  if (window.navigator.languages) {\n    // eslint-disable-next-line prefer-destructuring\n    language = window.navigator.languages[0];\n  } else {\n    language = window.navigator.userLanguage || window.navigator.language;\n  }\n\n  // is there a need to support eg. en-Us and en-Gb? How?\n  // eslint-disable-next-line prefer-destructuring\n  language = language.split('-')[0];\n\n  try {\n    // eslint-disable-next-line global-require,import/no-dynamic-require\n    return require(`./_locales/${language}/messages.json`);\n  } catch (e) {\n    console.log(`Missing ${language} translations`);\n    return english;\n  }\n};\nlanguage = getLanguage();\n\nconst getTranslation = (label) => language[label].message || english[label].message;\n\nexport {\n  getTranslation,\n};\n","import React from 'react';\nimport moment from 'moment';\nimport assignmentImage from './images/png/assignment.png';\nimport LiveHelp from '@material-ui/icons/LiveHelp';\nimport doneImage from './images/png/icon_bk_assessment_done.png';\nimport notDoneImage from './images/png/icon_bk_not_assessed.png';\nimport accessingImage from './images/png/icon_bk_assessing.png';\nimport warningImage from './images/png/icon_warning.png';\nimport {colors} from './theme';\nimport noCriteriaImage from './images/png/without_assessment_criteria_icon.png';\nimport workUnitImage from './images/png/work_unit_icon.png';\nimport topicImage from './images/png/topic_icon.png';\nimport topicHiddenImage from './images/png/topic-hidden.png';\nimport submittedImage from './images/png/submitted.png';\nimport submittedLateImage from './images/png/submitted-late.png';\nimport notSubmittedLateImage from './images/png/not-submitted-late.png';\nimport notSubmittedImage from './images/png/not-submitted.png';\n\nimport {getTranslation} from './i18n';\nimport {PUBLISH_STATES} from './components/publishIcon';\nimport Icon from \"./components/icon\";\n\nconst ASSESSMENT_DONE = 'ASSESSMENT_DONE';\nconst ASSESSING = 'ASSESSING';\nconst NOT_ASSESSED = 'NOT_ASSESSED';\n\nexport const SUBMITTED = 'SUBMITTED';\nexport const SUBMITTED_LATE = 'SUBMITTED_LATE';\nexport const NOT_SUBMITTED = 'NOT_SUBMITTED';\nexport const NOT_SUBMITTED_LATE = 'NOT_SUBMITTED_LATE'\n\nexport const GlobalContext = React.createContext();\n\nexport const getFromLocalStorage = (identifier) => {\n  if (process.env.REACT_APP_STANDALONE) {\n    return localStorage.getItem(identifier);\n  }\n  return new Promise((resolve) => chrome.storage.sync.get(identifier, (result) => {\n    resolve(result[identifier]);\n  }));\n};\n\nexport const setToLocalStorage = (identifier, data) => {\n  if (process.env.REACT_APP_STANDALONE) {\n    return localStorage.setItem(identifier, data);\n  }\n  const d = {};\n  d[identifier] = data;\n  return chrome.storage.sync.set(d);\n};\n\nconst getToken = () => new Promise((resolve, reject) => {\n  chrome.runtime.sendMessage({action: 'getToken'}, (token) => {\n    if (!token) {\n      reject();\n    } else {\n      resolve(token);\n    }\n  });\n});\n\nconst getClassroomId = () => {\n  if (process.env.REACT_APP_STANDALONE) {\n    // return 'MjcxMDIyMDI3ODcw'; // Ingelas kurs!!!!!!\n    // return 'MzU1OTY2MTU0MzA4'; // testklass1\n    // return 'Mzk2NTY2NDE3NzYy'; // nyklass\n    // return 'NDMwMzc1MTc1NTA5'; // liten klass\n    // return 'MTc1ODk4OTUyNTla'; // * Svenska 2\n    return 'MzY3ODM1OTMyMjQw'; // Kemi A\n    // return \"Mzk2ODYxNjE2Mjc2\"; // Test\n    // return \"MTkwOTUwNzIyODE5\"; // Reglerteknik\n    // return 'MTQ3MjU2NjczNDkw'; // NV20\n    // return process.env.REACT_APP_CLASSROOM;\n    // return 'Mzc3MzM1NTAyODMy'; // Madelens kurs!!!\n    //return 'NDMxOTQ3NzAyOTUw'; // Kundens kurs!!!\n    // return 'MjI2NDgzODc5MjEz' // daniel, uppsala, prestanda\n  }\n  const result = /[\\da-zA-Z]{10,}/g.exec(window.location.href);\n  return result ? result[0] : null;\n};\n\nconst getSubmittedIcon = ({status, style = {height:'18px', width:'18px'}}) => {\n  switch (status) {\n    case SUBMITTED:\n      return (<Icon file={submittedImage} style={style} overrideOpacity={1}/>);\n    case SUBMITTED_LATE:\n      return (<Icon file={submittedLateImage} style={style} overrideOpacity={1}/>);\n    case NOT_SUBMITTED_LATE:\n      return (<Icon file={notSubmittedLateImage} style={style} overrideOpacity={1}/>);\n    case NOT_SUBMITTED:\n      return (<Icon file={notSubmittedImage} style={style} overrideOpacity={0.4}/>);\n    default:\n      return (<Icon file={notSubmittedImage} style={style} overrideOpacity={0.4}/>);\n  }\n};\nconst submittedText = getTranslation('submitted');\nconst submittedLateText = getTranslation('submitted_late');\nconst notSubmittedText = getTranslation('not_submitted');\nconst notSubmittedLateText = getTranslation('not_submitted_late');\nconst getSubmittedStatusText = (state) => {\n  switch (state) {\n    case SUBMITTED:\n      return submittedText;\n    case SUBMITTED_LATE:\n      return submittedLateText;\n    case NOT_SUBMITTED:\n      return notSubmittedText;\n    case NOT_SUBMITTED_LATE:\n      return notSubmittedLateText;\n    default:\n      return notSubmittedText;\n  }\n};\n\nconst getAssessmentIcon = ({status, warning = false, style = {height:'18px'}}) => {\n  switch (status) {\n    case NOT_ASSESSED:\n      return <Icon file={notDoneImage} style={style} overrideOpacity={0.4}/>\n    case ASSESSMENT_DONE:\n      return (\n        <div style={{position: 'relative'}}>\n          <Icon file={doneImage} style={style} overrideOpacity={1}/>\n          {warning && (\n            <Icon file={warningImage} style={{position: 'absolute', left: '16px', bottom: '8px'}}/>\n          )}\n        </div>\n      );\n    case ASSESSING:\n      return <Icon file={accessingImage} style={style} overrideOpacity={1}/>;\n    default:\n      return <Icon file={notDoneImage} style={style} overrideOpacity={0.4} />;\n  }\n};\n\nconst sortAssessmentsByStudentName = (ass, s) => ass\n  .map((a) => ({\n    ...a,\n    firstName: a.student_name?.split(' ')[0] || a.first_name,\n    lastName: a.student_name?.split(' ')[1] || a.last_name,\n  }))\n  .sort((a, b) => {\n    if (s === 'firstName') {\n      return a.firstName.localeCompare(b.firstName);\n    }\n    return a.lastName.localeCompare(b.lastName);\n  });\n\nconst getLastModified = (lastModifiedDate) => {\n  let outputDate;\n  if (!lastModifiedDate) {\n    // Empty string if date is equal to null or undefined\n    outputDate = '';\n  } else if (moment().isSame(lastModifiedDate, 'day')) {\n    // Date equals today's date\n    outputDate = moment(lastModifiedDate).format('k:mm');\n  } else if (moment().isSame(lastModifiedDate, 'year')) {\n    // Date equals the same year\n    outputDate = moment(lastModifiedDate).format('D MMM');\n  } else {\n    // Previous year\n    outputDate = moment(lastModifiedDate).format('D MMM YYYY');\n  }\n\n  return outputDate.toLocaleUpperCase();\n};\n\nconst getStudentSortingMethod = async () => getFromLocalStorage('studentSort');\nconst setStudentSortingMethod = async (method) => setToLocalStorage('studentSort', method);\n\nconst getAssignmentSortingMethod = async () => getFromLocalStorage('assignmentSort');\nconst setAssignmentSortingMethod = async (method) => setToLocalStorage('assignmentSort', method);\n\nconst getStudentListFilterOptions = async () => {\n  const options = getFromLocalStorage('studentFilterOptions');\n  if (options && process.env.REACT_APP_STANDALONE) {\n    return options.split(',');\n  }\n  return options;\n};\nconst setStudentListFilterOptions = async (options) => setToLocalStorage('studentFilterOptions', options);\n\nconst getVisibilitySettingForAssignment = async (assignmentId) => {\n  const setting = await getFromLocalStorage(`visibility_${assignmentId}`);\n  if (setting && process.env.REACT_APP_STANDALONE) {\n    return setting.split(',');\n  }\n  return setting;\n};\n\nconst setVisibilitySettingForAssignment = (assignmentId, setting) => setToLocalStorage(`visibility_${assignmentId}`, setting);\n\nconst storeLastUsedGradeSystem = (scale) => setToLocalStorage('lastScale', scale);\n\nconst getLastUsedGradeSystem = () => {\n  if (process.env.REACT_APP_STANDALONE) {\n    return parseInt(getFromLocalStorage('lastScale'), 10);\n  }\n  return getFromLocalStorage('lastScale');\n};\n\nconst getGradeSystemValues = (gradeSystem) => {\n  if (!gradeSystem) {\n    return [];\n  }\n  const gradeSystemValues = gradeSystem\n    ? gradeSystem.grades.map((g, i) => ({\n      value: i + 1,\n      label: g.label,\n      color: g.color,\n      name: g.name,\n      id: g.id,\n    }))\n    : [];\n  gradeSystemValues.unshift({\n    value: 0,\n    label: '',\n    color: colors.borderColor,\n    name: '',\n    id: 0,\n  });\n  return gradeSystemValues;\n};\n\nconst getAssignmentIcon = (assignment) => {\n  const style = {\n    color: colors.white,\n    backgroundColor: colors.green,\n    padding: '8px',\n    borderRadius: '30px',\n    marginRight: '8px',\n    height: '22px',\n    width: '22px',\n  };\n\n  if (!assignment.connected) {\n    if (assignment.is_topic) {\n      return <Icon file={topicHiddenImage} style={{...style, backgroundColor: colors.blueGrey}} overrideOpacity={1}/>\n    }\n    return <Icon file={noCriteriaImage} style={{...style, backgroundColor: colors.blueGrey}} overrideOpacity={1}/>;\n  }\n\n  if (assignment.is_topic) {\n    return (\n      <div style={{...style, backgroundColor: colors.topic, alignItems:'center', justifyContent:'center', display:'flex'}}>\n        <Icon file={topicImage} style={{width: '15px', height: '16px'}} overrideOpacity={1}/>\n      </div>\n    );\n  }\n\n  if (assignment.assignment_not_assessable) {\n    return (\n      <Icon file={noCriteriaImage} style={{...style, backgroundColor: colors.blueGrey}} overrideOpacity={1}/>\n    );\n  }\n\n  if (assignment.assignment_type === 'WORK_UNIT') {\n    return (\n      <Icon file={workUnitImage} style={{...style, backgroundColor: colors.red}} overrideOpacity={1}/>\n    );\n  }\n\n  switch (assignment.worktype) {\n    case 'ASSIGNMENT':\n      return (\n        <Icon\n          overrideOpacity={1}\n          file={assignmentImage} style={{\n          ...style,\n          backgroundColor:\n            assignment.state === 'PUBLISHED' ? colors.green : colors.draft,\n        }}/>\n\n      );\n    case 'SHORT_ANSWER_QUESTION':\n      return <LiveHelp style={style}/>;\n    default:\n      return (<Icon\n        overrideOpacity={1}\n        file={assignmentImage} style={{\n        ...style,\n        backgroundColor:\n          assignment.state === 'PUBLISHED' ? colors.green : colors.draft,\n      }}/>);\n  }\n};\n\nconst doneText = getTranslation('assessmentDoneStatusIconTooltip');\nconst acessingText = getTranslation('assessingStatusIconTooltip');\nconst notAssessedText = getTranslation('notAssessedStatusIconTooltip');\n\nconst getStatusText = (status) => {\n  switch (status) {\n    case ASSESSMENT_DONE:\n      return doneText;\n    case ASSESSING:\n      return acessingText;\n    case NOT_ASSESSED:\n      return notAssessedText;\n    default:\n      return '';\n  }\n};\n\nconst filterAssignmentsOnCourseId = (assignments, courseId) => {\n  let filtered = [...assignments];\n  filtered.forEach((a) => {\n    a.assignments = a.assignments?.filter((aa) => {\n      const find = aa.courseDefinitions.find((c) => c.id === courseId);\n      const b = aa.courseDefinitions.length === 0;\n      return find || b;\n    });\n  });\n\n  filtered = assignments.filter((a) => {\n    const find = a.courseDefinitions.find((c) => c.id === courseId);\n    const b = a.courseDefinitions.length === 0;\n    const connected = find || b;\n    if (!connected) {\n      return a.assignments?.length > 0;\n    }\n    return connected;\n  });\n  return filtered;\n};\n\nconst filterAssignmentsOnObjective = (assignments, objectiveId) => {\n  let filtered = [...assignments];\n  filtered.forEach((f) => {\n    f.assignments = f?.assignments?.filter((a) => a.connected && a.objectiveAssessments?.find((o) => o.objective_id === objectiveId));\n  });\n\n  filtered = filtered?.filter((a) => {\n    const connected = a?.objectiveAssessments?.find(\n      (o) => o.objective_id === objectiveId,\n    );\n    return connected || a?.assignments?.length > 0;\n  });\n  return filtered;\n};\n\nconst getPublishedStatus = (newStatus, originalStatus) => {\n  switch (newStatus) {\n    case PUBLISH_STATES.published:\n      return true;\n    case PUBLISH_STATES.notPublished:\n      return false;\n    case PUBLISH_STATES.dontChange:\n      return originalStatus;\n    default:\n      return originalStatus;\n  }\n};\n\nexport {\n  getGradeSystemValues,\n  getToken,\n  getClassroomId,\n  getAssessmentIcon,\n  sortAssessmentsByStudentName,\n  getLastModified,\n  getStudentSortingMethod,\n  setStudentSortingMethod,\n  setAssignmentSortingMethod,\n  getAssignmentSortingMethod,\n  getAssignmentIcon,\n  getStatusText,\n  filterAssignmentsOnCourseId,\n  filterAssignmentsOnObjective,\n  getVisibilitySettingForAssignment,\n  setVisibilitySettingForAssignment,\n  getLastUsedGradeSystem,\n  storeLastUsedGradeSystem,\n  getPublishedStatus,\n  getStudentListFilterOptions,\n  setStudentListFilterOptions,\n  getSubmittedIcon,\n  getSubmittedStatusText,\n};\n","import React from 'react';\nimport {Tooltip as tp} from \"@material-ui/core\";\n\nconst Tooltip = ({title, children}) => {\n  return (\n    <tp title={title}>\n      {children}\n    </tp>\n  );\n}\n\nexport default Tooltip;","import angular from 'angular';\nimport { IComponentOptions, IModule } from 'angular';\n\nexport const Component: (options: IComponentOptions) => any = (options: IComponentOptions): <T extends { new(...args: any[]): {} }>(constructor: T) => any => {\n\n  const getOrCreateComponentModule: () => IModule = (): IModule => {\n    const moduleName: string = 'app';\n    let module: IModule;\n\n    if (options.module) {\n      try {\n        module = angular.module(`${options.module}`);\n      } catch (err) {\n        module = null;\n      }\n    }\n\n    if (!module) {\n      try {\n        module = angular.module(`${moduleName}`);\n      } catch (err) {\n        console.error(`Error on register component ${options.selector} in module ${moduleName}. Module ${moduleName} is not exists.`, err);\n        module = null;\n      }\n    }\n\n    return module;\n  };\n\n  const convertSelectorName: (selector: string) => string = (selector: string): string => {\n    return selector.replace(\n      /-([a-z])/g,\n      (word: string): string => word[1].toUpperCase(),\n    );\n  };\n\n  return <T extends { new(...args: any[]): {} }>(constructor: T): T => {\n    const module: IModule = getOrCreateComponentModule();\n    const bindings: { [boundProperty: string]: string } = constructor.prototype.$$bindings || {};\n    const require: { [controller: string]: string } = constructor.prototype.$$require || {};\n\n    if (!options.controller) {\n      options.controller = constructor;\n    }\n\n    if (module) {\n      const selector: string = convertSelectorName(options.selector);\n      module.component(selector, angular.merge({}, options, { bindings, require }));\n    }\n\n    try {\n      delete constructor.prototype.$$bindings;\n      delete constructor.prototype.$$require;\n    } catch {\n    }\n\n    return constructor;\n  };\n};\n\n","import angular from 'angular';\nimport { IInputBindingsOptions } from 'angular';\n\nexport const Input: (options?: IInputBindingsOptions) => (prototype: object, property: string | symbol) => void = (options?: IInputBindingsOptions): (prototype: object, property: string | symbol) => void => {\n  return (prototype: object & { $$bindings?: any }, property: string | symbol): void => {\n    const _options: IInputBindingsOptions = angular.merge({}, {\n      alias: '',\n      bidirectional: false,\n      collection: false,\n      optional: false,\n      string: false,\n    }, options);\n    const bindingDescription: string = `${_options.string ? '@' : _options.bidirectional ? '=' : '<'}${_options.collection && !_options.string ? '*' : ''}${_options.optional ? '?' : ''}${_options.alias}`;\n    const binding: { [property: string]: string } = { [property]: bindingDescription };\n    let $$bindings: { [boundProperty: string]: string } = prototype.$$bindings || {};\n\n    $$bindings = angular.merge({}, $$bindings, binding);\n    Object.assign(prototype, { $$bindings });\n  };\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport enum Events {\n  STATE_CHECKED = 'STATE_CHECKED',\n  OPEN_ASSIGNMENT_POPUP = 'OPEN_ASSIGNMENT_POPUP',\n  UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES =\n    'UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES',\n  UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES =\n    'UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES',\n  CLASS_CHANGED =  'CLASS_CHANGED',\n  CLOSE_COURSE_DETAILS_VIEW =  'CLOSE_COURSE_DETAILS_VIEW',\n  USER_SETUP_COMPLETED =  'USER_SETUP_COMPLETED',\n  SELECTED_COURSE_CHANGED = 'SELECTED_COURSE_CHANGED',\n  // Events for requests\n  STARTED_NEW_REQUEST =  'STARTED_NEW_REQUEST',\n  REQUEST_FINISHED_SUCCESSFULLY =  'REQUEST_FINISHED_SUCCESSFULLY',\n  REQUEST_FINISHED_FAILURE =  'REQUEST_FINISHED_FAILURE',\n  UPDATED_COURSES =  'UPDATED_COURSES',\n  UPDATED_OBJECTIVES =  'UPDATE_OBJECTIVES',\n  UPDATED_ASSIGNMENTS =  'UPDATED_ASSIGNMENTS',\n  COURSE_DELETED =  'COURSE_DELETED',\n  COURSE_UPDATED =  'COURSE_UPDATED',\n  //Angularjs-slider events\n  RZ_SLIDER_FORCE_RENDER =  'rzSliderForceRender',\n  RE_CALC_VIEW_DIMENSIONS =  'reCalcViewDimensions'\n};\n","import React, {memo} from \"react\";\n\n\nconst inactiveOpacity = 0.15;\nconst activeOpacity = 0.6;\n\nconst Icon = ({file, style = {}, active = true, overrideOpacity = null}) => {\n  let src = file;\n  let opacity = active ? activeOpacity : inactiveOpacity;\n  if (overrideOpacity) {\n    opacity = overrideOpacity;\n  }\n\n  if (!process.env.REACT_APP_STANDALONE) {\n    let filename = file.slice(file.indexOf('-')+1);\n    src = `chrome-extension://${chrome.runtime.id}/images/png/${filename}`;\n  }\n  return (\n    <img src={src} style={{...style, opacity: opacity}}/>\n  );\n}\n\nexport default memo(Icon);\n","import React, {useEffect, useState} from \"react\";\nimport {colors} from \"../theme\";\nimport VisibilityIcon from \"./visabilityIcon\";\n\nexport const PUBLISH_STATES = {\n  dontChange: 'DONT_CHANGE',\n  notPublished: 'NOT_PUBLISHED',\n  published: 'PUBLISHED',\n};\n\nconst getInitialValue = (value, multiEdit) => {\n  if (typeof value === 'string') {\n    return value;\n  }\n  const init = value ? PUBLISH_STATES.published : PUBLISH_STATES.notPublished;\n  if (multiEdit) {\n    return PUBLISH_STATES.dontChange;\n  }\n  return init;\n};\n\nconst PublishIcon = (props) => {\n  const {published: initialValue, onClick, style, iconStyle, multiEdit = false, size = null} = props;\n  const [publishedState, setPublishedState] = useState();\n\n  useEffect(() => {\n    setPublishedState(getInitialValue(initialValue, multiEdit));\n  }, [initialValue]);\n\n  useEffect(() => {\n    setPublishedState(getInitialValue(initialValue, multiEdit));\n  }, [multiEdit]);\n\n  const publish = () => {\n    let newState;\n    switch (publishedState) {\n      case PUBLISH_STATES.notPublished:\n        newState = PUBLISH_STATES.published;\n        break;\n      case PUBLISH_STATES.published:\n        newState = multiEdit ? PUBLISH_STATES.dontChange : PUBLISH_STATES.notPublished;\n        break;\n      case PUBLISH_STATES.dontChange:\n        newState = PUBLISH_STATES.notPublished;\n        break;\n    }\n    setPublishedState(newState);\n    if (multiEdit) {\n      onClick(newState);\n    } else {\n      onClick(newState === PUBLISH_STATES.published);\n    }\n  };\n\n  return (\n    <div onClick={publish} style={{cursor: \"pointer\", zIndex: 100, marginLeft: '10px', ...style}}>\n      <VisibilityIcon\n        visible={publishedState}\n        size={size}\n        style={{\n          color: publishedState === PUBLISH_STATES.published ? colors.green : colors.darkGrey,\n          margin: \"4px 0px 0px 0px\",\n          ...iconStyle,\n        }}\n      />\n    </div>\n  );\n};\n\nexport default PublishIcon;\n","import angular from 'angular';\nimport { IModule, IProviderOptions } from 'angular';\n\nexport const Service: (options: IProviderOptions) => any = (options: IProviderOptions): <T extends { new(...args: any[]): {} }>(constructor: T) => any => {\n\n  const getOrCreateServiceModule: () => IModule = (): IModule => {\n    const moduleName: string = 'app';\n    let module: IModule;\n\n    if (options.module) {\n      try {\n        module = angular.module(`${options.module}`);\n      } catch (err) {\n        module = null;\n      }\n    }\n\n    if (!module) {\n      try {\n        module = angular.module(`${moduleName}`);\n      } catch (err) {\n        console.error(`Error on register service ${options.name} in module ${moduleName}. Module ${moduleName} is not exists.`, err);\n        module = null;\n      }\n    }\n\n    return module;\n  };\n\n  return <T extends { new(...args: any[]): {} }>(constructor: T): T => {\n    const module: IModule = getOrCreateServiceModule();\n\n    if (module) {\n      module.service(options.name, constructor);\n    }\n\n    return constructor;\n  };\n};\n\n","import { useEffect, useState } from 'react';\n\nconst useWindowDimensions = () => {\n  const getWindowDimensions = () => {\n    const { innerWidth: width, innerHeight: height } = window;\n    return {\n      width,\n      height,\n    };\n  };\n\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions(),\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowDimensions;\n};\n\nexport default useWindowDimensions;\n","import { useEffect, useState } from 'react';\n\nexport default function useOnScreen(ref) {\n  const [isIntersecting, setIntersecting] = useState(false);\n\n  const observer = new IntersectionObserver(([entry]) => setIntersecting(entry.isIntersecting));\n\n  useEffect(() => {\n    observer.observe(ref.current);\n    // Remove the observer as soon as the component is unmounted\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  return isIntersecting;\n}\n","import { useLayoutEffect, useRef } from 'react';\n\nconst isBrowser = typeof window !== 'undefined';\n\nfunction getScrollPosition({ element, useWindow }) {\n  if (!isBrowser) return { x: 0, y: 0 };\n\n  const target = element ? element.current : document.body;\n  const position = target.getBoundingClientRect();\n\n  return useWindow\n    ? { x: window.scrollX, y: window.scrollY }\n    : { x: position.left, y: position.top };\n}\n\nexport default function useScrollPosition(effect, deps, element, useWindow, wait) {\n  const position = useRef(getScrollPosition({ useWindow }));\n\n  let throttleTimeout = null;\n\n  const callBack = () => {\n    const currPos = getScrollPosition({ element, useWindow });\n    effect({ prevPos: position.current, currPos });\n    position.current = currPos;\n    throttleTimeout = null;\n  };\n\n  useLayoutEffect(() => {\n    const handleScroll = () => {\n      if (wait) {\n        if (throttleTimeout === null) {\n          throttleTimeout = setTimeout(callBack, wait);\n        }\n      } else {\n        callBack();\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, deps);\n}\n","import useFetch from './useFetch';\nimport useWindowDimensions from './useWindowDimensions';\nimport useOnScreen from './useOnScreen';\nimport useScrollPosition from './useScrollPosition';\n\nexport {\n  useFetch, useWindowDimensions, useOnScreen, useScrollPosition,\n};\n","import React, {useEffect, useState, memo} from 'react';\nimport {TextField} from '@material-ui/core/';\nimport {withStyles} from '@material-ui/core/styles';\nimport {colors, fonts} from '../theme';\nimport PublishIcon from './publishIcon';\n\n// MuiInputBase-input MuiInput-input\nconst CssTextField = withStyles({\n  root: {\n    '& .MuiInputBase-input': {\n      ...fonts.MEDIUM,\n    },\n    '& .MuiFormLabel-root': {\n      ...fonts.SMALL,\n    },\n    '& label.Mui-focused': {\n      color: colors.green,\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: colors.green,\n    },\n  },\n})(TextField);\n\nconst FeedbackInput = (props) => {\n  const {\n    text: initialText,\n    placeholder,\n    hideEye,\n    onTextChange,\n    readonly = false,\n    published = false,\n    onPublish,\n    id,\n    assessment,\n    style,\n    helperText,\n    type,\n    warningText,\n    multiEdit = false,\n  } = props;\n\n  const [text, setText] = useState(initialText);\n  const [focused, setFocused] = useState(false);\n\n  useEffect(() => {\n    setText(initialText);\n  }, [initialText]);\n\n  const textChanged = ({target}) => {\n    const {value: txt} = target;\n    setText(txt);\n    onTextChange(txt, id, assessment);\n  };\n\n  const onPublishChanged = (value) => {\n    if (onPublish) {\n      onPublish(id, value, assessment);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        marginBottom: '10px',\n        marginTop: '10px',\n        flexDirection: 'column',\n        alignItems: 'flex-start',\n        ...style,\n\n      }}\n    >\n      <div style={{display: 'flex', width: '100%', alignItems: 'center'}}>\n        <CssTextField\n          type={type}\n          onMouseEnter={() => setFocused(true)}\n          onMouseLeave={() => setFocused(false)}\n          label={placeholder}\n          style={{width: '100%'}}\n          onChange={textChanged}\n          value={text || ''}\n          disabled={readonly}\n          multiline\n          helperText={\n            <span\n              style={{\n                ...fonts.TINY,\n                color: colors.darkGrey,\n                position: 'absolute',\n                right: 0,\n              }}\n            >\n            {focused ? helperText : helperText}\n          </span>\n          }\n        />\n        {!hideEye && (\n          <PublishIcon\n            size={14}\n            multiEdit={multiEdit} published={published}\n            onClick={onPublishChanged}/>\n        )}\n      </div>\n      {warningText && text?.length > 0 &&\n      <span style={{...fonts.SMALL, color: colors.red}}>{warningText}</span>}\n    </div>\n  );\n};\n\nexport default memo(FeedbackInput);\n","import React from 'react';\n\nconst Card = (props) => {\n  const { children, style } = props;\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        backgroundColor: '#fff',\n        bottom: '1px solid #EEE',\n        padding: '18px 12px 12px 12px',\n        borderRadius: '2px',\n        boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n        justifyContent: 'space-around',\n        ...style,\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","import {Visibility, VisibilityOff} from '@material-ui/icons';\nimport React, {memo} from \"react\";\nimport colors from \"../theme/colors\";\n\n\nconst PublishedIcon = ({published, active, white = false, size = 12}) => {\n  let iconStyle = {color: colors.black};\n  iconStyle.width = `${size}px`;\n  iconStyle.height = `${size}px`;\n  if(published){\n    iconStyle.color = colors.green;\n  }\n  if (white) {\n    iconStyle.color = colors.white;\n  }\n\n  if (published) {\n    return <Visibility style={iconStyle}/>\n  } else {\n    return <VisibilityOff style={iconStyle} opacity={active ? 0.8 : 0.1}/>\n  }\n};\n\nexport default memo(PublishedIcon);","import angular, { IModule } from 'angular';\n\nexport const SharedServicesModule: IModule = angular.module('app.shared.services', []);\n\nexport default SharedServicesModule.name;\n\nexport * from './assignment/assignment.service';\nexport * from './assignmentAssessment/assignmentAssessment.service';\nexport * from './colleagueEmails/colleagueEmails.service';\nexport * from './country/country.service';\nexport * from './coverageMatrix/coverageMatrix.service';\nexport * from './dialog/dialog.service';\nexport * from './groupedVisibility/groupedVisibility.service';\nexport * from './groupedVisibility/groupedVisibilityDialog.service';\nexport * from './hashObserver/hashObserver';\nexport * from './helpButton/helpButton.service';\nexport * from './listViewMenu/listViewMenu.service';\nexport * from './localStorage/localStorage.service';\nexport * from './popup/popup.service';\nexport * from './retryPromise/retryPromise.service';\nexport * from './school/school.service';\nexport * from './userInfo/userInfo.service';\n","import React from 'react';\nimport { colors, fonts } from '../theme';\n\nconst Header = ({ title, style = {} }) => (\n    <p\n      style={{\n        ...fonts.SMALL,\n        backgroundColor: colors.green,\n        display: 'flex',\n        flex: 1,\n        padding: '12px 14px 12px 14px',\n        color: colors.white,\n        borderRadius: '2px',\n        ...style,\n      }}\n    >\n      {title}\n    </p>\n);\nexport default Header;\n","export enum ListViewType {\n  COVERAGE_MATRIX = 2,\n  STATUS = 4,\n  DESCRIPTION_ONLY = 8,\n  TITLE_AND_DESCRIPTION = 16,\n  TITLE_ONLY = 32\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\n\nimport 'angularjs-slider';\nimport { CounterGradeEditable } from './counter-grade-editable.component';\nimport { CounterGradePreview } from './counter-grade-preview.component';\nimport { CounterGradeSummary } from './counter-grade-summary.component';\nimport { GradeEditable } from './grade-editable.component';\nimport { NoCourses } from './no-courses.component';\nimport { NoStudentSelected } from './no-student-selected.component';\nimport { AssignmentsList } from './objective-details/assignments-list/assignments-list.component';\nimport { ObjectiveDetails } from './objective-details/objective-details.component';\nimport { StudentDetailsComponent } from './studentDetails/studentDetails.component';\nimport { StudentsListComponent } from './students-list/studentsList.component';\nimport { TeacherCourseProgressComponent } from './teacher-course-progress.component';\nimport { TeacherCourseProgress } from './teacherCourseProgress.service';\nimport { routerConfig } from './teacher-course-progress.routing';\nimport { StudentCoursesDetailsComponent } from './studentCoursesDetails/studentCoursesDetails.component';\nimport { StudentCoursesDetails } from './studentCoursesDetails/studentCoursesDetails.service';\n\nexport const TeacherCourseProgressModule: IModule = angular\n  .module('teacherCourseProgress', [\n    'rzSlider',\n    uiRouter,\n  ])\n  .component('teacherCourseProgress', TeacherCourseProgressComponent)\n  .component('studentsList', StudentsListComponent)\n  .component('studentDetails', StudentDetailsComponent)\n  .component('objectiveDetails', ObjectiveDetails)\n  .component('assignmentsList', AssignmentsList)\n  .component('noStudentSelected', NoStudentSelected)\n  .component('gradeEditable', GradeEditable)\n  .component('noCourses', NoCourses)\n  .component('counterGradePreview', CounterGradePreview)\n  .component('counterGradeEditable', CounterGradeEditable)\n  .component('counterGradeSummary', CounterGradeSummary)\n  .component('studentCoursesDetails', StudentCoursesDetailsComponent)\n  .service('TeacherCourseProgress', TeacherCourseProgress)\n  .service('StudentCoursesDetails', StudentCoursesDetails)\n  .config(routerConfig);\n\nexport default TeacherCourseProgressModule.name;\n\nexport * from './assignmentOverviewDetails/assignmentOverviewDetails.component';\nexport * from './assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.component';\nexport * from './assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.service';\nexport * from './studentDetails/assignmentsOverview/assignmentOverview.service';\nexport * from './studentDetails/assignmentsOverview/assignmentsOverview.component';\nexport * from './studentDetails/assignmentsOverview/assignmentOverviewContent/assignmentOverviewContent.component';\nexport * from './studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.component';\nexport * from './studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.service';\nexport * from './studentDetails/objectivesList/objectivesList.component';\nexport * from './studentDetails/objectivesList/coverageMatrixGrid/coverageMatrixGrid.component';\nexport * from './studentDetails/objectivesList/coverageMatrixGridHeader/coverageMatrixGridHeader.component';\nexport * from './studentDetails/objectivesList/listViewSwich/listViewSwitch.component';\nexport * from './studentDetails/objectivesList/listViewSwich/listViewSwitch.service';\nexport * from './studentDetails/objectivesList/coverageMatrixGrid/gradePrognosis/gradePrognosis.component';\n","import {Injectable} from '@angular/core';\nimport {FetchData} from '../../ajs-upgraded-providers';\nimport {from, Observable} from 'rxjs';\nimport {Params} from '@angular/router';\nimport {HttpRequestType} from './http.model';\nimport {HttpCacheQuery, HttpCacheService} from './state';\nimport {shareReplay, tap} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpService {\n\n  constructor(protected fetchData: FetchData, protected httpCacheService: HttpCacheService, protected httpCacheQuery: HttpCacheQuery) {\n  }\n\n  request<T = any>(url: string, type: HttpRequestType, body?: any, params: Params = {}): Observable<T> {\n    const id = this.httpCacheService.generateID(url, type, body, params);\n\n    if (this.httpCacheQuery.hasEntity(id)) {\n      return this.httpCacheQuery.getEntity(id).source;\n    }\n\n    const request: PromiseLike<T> = this.fetchData.sendAPIRequestWithParams(params, url, type, body);\n    const source = from(request).pipe(\n      tap(() => this.httpCacheService.delete(id)),\n      shareReplay(1),\n    );\n\n    this.httpCacheService.add<T>(source, url, type, body, params);\n\n    return source;\n  }\n\n  delete<T = any>(url: string, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.DELETE, null, params);\n  }\n\n  get<T = any>(url: string, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.GET, null, params);\n  }\n\n  head<T = any>(url: string, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.HEAD, null, params);\n  }\n\n  options<T = any>(url: string, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.OPTIONS, null, params);\n  }\n\n  patch<T = any>(url: string, body?: any, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.PATCH, body, params);\n  }\n\n  post<T = any>(url: string, body?: any, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.POST, body, params);\n  }\n\n  put<T = any>(url: string, body?: any, params: Params = {}): Observable<T> {\n    return this.request<T>(url, HttpRequestType.PUT, body, params);\n  }\n}\n","import { Type } from '@angular/core';\n\nexport interface IProviderUpgrade {\n  provide: Type<any>;\n  useFactory: (...args: any[]) => any;\n  deps: string[];\n}\n\nexport class UpgradedProviders {\n  static providers: IProviderUpgrade[] = [];\n}\n\nexport abstract class SimpleProvider {\n  [porp: string]: any;\n}\n\nexport class FetchData extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: FetchData,\n  useFactory: ($injector: any): any => $injector.get('FetchData'),\n  deps: ['$injector'],\n});\n\nexport class Updates extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: Updates,\n  useFactory: ($injector: any): any => $injector.get('Updates'),\n  deps: ['$injector'],\n});\n\nexport class Path extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: Path,\n  useFactory: ($injector: any): any => $injector.get('Path'),\n  deps: ['$injector'],\n});\n\nexport class TeacherAssignmentsService extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: TeacherAssignmentsService,\n  useFactory: ($injector: any): any => $injector.get('TeacherAssignmentsService'),\n  deps: ['$injector'],\n});\n\nexport class UserInfo extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: UserInfo,\n  useFactory: ($injector: any): any => $injector.get('UserInfo'),\n  deps: ['$injector'],\n});\n\nexport class RootScope extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: RootScope,\n  useFactory: ($injector: any): any => $injector.get('$rootScope'),\n  deps: ['$injector']\n});\n\nexport class UserSetupDialog extends SimpleProvider {}\n\nUpgradedProviders.providers.push({\n  provide: UserSetupDialog,\n  useFactory: ($injector: any): any => $injector.get('UserSetupDialog'),\n  deps: ['$injector']\n});\n\n","const base = {\n  black: '#000407',\n  white: '#ffffff',\n  textColor: 'rgba(0,0,0, .7)',\n  textColorLight: 'rgba(0,0,0, .45)',\n  primary1: '#FBCD03',\n  primary2: '#f0c83d',\n  primary: '#f2c510',\n  blue: '#387AFF',\n  blueText: '#4183c4',\n  blueGrey: '#546f7a',\n  grey: '#f5f5f5',\n  draft: '#bdc1c5',\n  greyDarker: '#e8e8e8',\n  borderGrey: 'rgb(243 243 243)',\n  darkGrey: '#696969',\n  disabled: '#9d9d9d',\n  red: '#FA4D56',\n  orange: '#ff9800',\n  redOpacity: '#FA4D5699',\n  green_wrong: '#4BAA4F',\n  green: '#4caf50',\n  topic: '#177c84',\n  inactive: '#DFDFDF',\n  borderColor: '#E0E0E0',\n  borderColorDark: '#AAAAAA',\n  borderColorReallyDark: '#888',\n  borderOnPrimary: 'rgba(0,0,0,.1)',\n  brandColorYellow: '#FACF3A',\n  brandColorGreen: '#4CAF50',\n  brandColorPink: '#E72264',\n  brandColorBlue: '#1BB7D0',\n  brandColorGrey: 'rgba(0, 0, 0, .74)',\n  iconColor: '#4e4e4e',\n  iconColorLight: '#cdcdcd',\n  ewsGreen: '#6fdc8c',\n  greyedOut: '#00000080',\n  dimmed: '#00000030',\n};\nconst background = {\n  stripedGreenBg: `repeating-linear-gradient(60deg, ${base.white}, ${base.white} 2px,${base.green} 2px, ${base.green} 4px)`,\n  stripedYellowBg: `repeating-linear-gradient(60deg, ${base.white}, ${base.white} 2px,${base.primary} 2px, ${base.primary} 4px)`,\n  stripedRedBg: `repeating-linear-gradient(60deg, ${base.white}, ${base.white} 2px,${base.redOpacity} 2px, ${base.redOpacity} 4px)`,\n};\nexport default {\n  ...base,\n  ...background,\n};\n","import { Checkbox, Tooltip, withStyles } from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { colors, fonts } from \"../theme\";\n\nconst GreenCheckbox = withStyles({\n  root: {\n    color: colors.borderColorDark,\n    paddingLeft: 0,\n    marginLeft: \"-6px\",\n    \"&$checked\": {\n      color: colors.green,\n    },\n    \"& .MuiSvgIcon-root\": {\n      fontSize: \"1.5rem\",\n    },\n  },\n\n  checked: {},\n})(Checkbox);\n\nconst CheckboxWithText = (props) => {\n  const {\n    subText,\n    id,\n    text,\n    onCheck,\n    checked: initialCheck,\n    style = {},\n    onClick,\n    controlled = true,\n    textWidth,\n    toolTip = '',\n    indeterminate:initialIndeterminate,\n  } = props;\n  const [checked, setChecked] = useState(initialCheck);\n  const [indeterminate, setIndeterminate] = useState(initialIndeterminate);\n\n  useEffect(() => {\n    setChecked(initialCheck);\n  }, [initialCheck, id]);\n\n  useEffect(() => {\n    setIndeterminate(initialIndeterminate);\n  }, [initialIndeterminate, id]);\n\n  const onChange = (e) => {\n    if (controlled) {\n      setChecked(e.target.checked);\n    }\n    if (onCheck) {\n      onCheck(e.target.checked, id);\n    }\n    setIndeterminate(false);\n    e.stopPropagation();\n    e.nativeEvent.stopImmediatePropagation();\n  };\n\n  const click = (e) => {\n    if (onClick) {\n      onClick(e);\n    }\n    e.stopPropagation();\n    e.nativeEvent.stopImmediatePropagation();\n  };\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        border: \"0px solid\",\n        ...style,\n      }}\n    >\n      <GreenCheckbox\n        inputProps={{ \"aria-label\": \"controlled\" }}\n        checked={checked}\n        indeterminate={indeterminate}\n        onChange={onChange}\n      />\n      <div\n        onClick={click}\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          cursor: onClick ? \"pointer\" : \"default\",\n        }}\n      >\n        <Tooltip title={toolTip}>\n          <span\n            style={{\n              ...fonts.MEDIUM,\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              whiteSpace: \"nowrap\",\n              width: textWidth,\n            }}\n          >\n            {text}\n          </span>\n        </Tooltip>\n        {subText && (\n          <div\n            style={{ ...fonts.MEDIUM }}\n            dangerouslySetInnerHTML={{\n              __html: subText,\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CheckboxWithText;\n","export enum AssignmentType {\n  STANDARD_ASSIGNMENT = 'STANDARD_ASSIGNMENT',\n  WITHOUT_ASSESSMENT_CRITERIAS = 'WITHOUT_ASSESSMENT_CRITERIAS',\n  WORK_UNIT = 'WORK_UNIT'\n}\n","import React, {\n  useEffect, useState, useRef, useReducer,\n} from 'react';\nimport { Slider } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { colors, fonts } from '../theme';\nimport PublishIcon from './publishIcon';\n\nconst AirbnbSlider = withStyles({\n  root: {\n    color: '#3a8589',\n    height: 3,\n    padding: '13px 0',\n    margin: '0px 6px 0px 6px',\n  },\n  thumb: {\n    height: 27,\n    width: 27,\n    backgroundColor: colors.white,\n    border: '1px solid currentColor',\n    marginTop: -12,\n    marginLeft: -13,\n    boxShadow: '#ebebeb 0 2px 2px',\n    '&:focus, &:hover, &$active': {\n      boxShadow: '#ccc 0 2px 3px 1px',\n    },\n    '& .bar': {\n      // display: inline-block !important;\n      height: 9,\n      width: 1,\n      backgroundColor: 'currentColor',\n      marginLeft: 1,\n      marginRight: 1,\n    },\n    '&.Mui-disabled': {\n      height: 27,\n      width: 27,\n      marginTop: -12,\n      marginLeft: -13,\n    },\n    disabled: {\n      width: '27px',\n      backgroundColor: 'red',\n    },\n  },\n  active: {},\n  track: {\n    height: 3,\n  },\n  rail: {\n    color: '#d8d8d8',\n    opacity: 1,\n    height: 3,\n  },\n})(Slider);\n\nfunction AirbnbThumbComponent(props) {\n  return (\n    <span {...props}>\n      <span style={fonts.MEDIUM}>{props.label}</span>\n    </span>\n  );\n}\n\nconst AssessmentSlider = (props) => {\n  const {\n    values,\n    defaultIndex = 0,\n    onChange,\n    published,\n    onPublish,\n    helpText,\n    showPublish = true,\n    onChangeCommit,\n    disabled = false,\n    color,\n    id = 0,\n    multiEdit=false,\n  } = props;\n\n  const [currentIndex, setCurrentIndex] = useState(defaultIndex);\n  const committedIndex = useRef(defaultIndex);\n  const [hoover, setHoover] = useState(false);\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  useEffect(() => {\n    setCurrentIndex(defaultIndex);\n    committedIndex.current = defaultIndex;\n    forceUpdate();\n  }, [defaultIndex, id]);\n\n  const handleChangeCommit = (event, value) => {\n    if (committedIndex.current !== value) {\n      committedIndex.current = value;\n      if (onChangeCommit) {\n        onChangeCommit(value);\n      }\n    }\n  };\n  const handleChange = (event, value) => {\n    if (currentIndex !== value) {\n      setCurrentIndex(value);\n      if (onChange) {\n        onChange(value);\n      }\n    }\n  };\n\n  const valueText = () => values[currentIndex]?.name;\n  const ariaValueText = () => (hoover ? values[currentIndex]?.name : '');\n\n  const valuesNoLabel = values.map((v) => ({ ...v, label: '' }));\n  const markTexts = values.map((v) => ({\n    ...v,\n    label: <span style={{ ...fonts.TINY, fontSize: '9px' }}>{v.name}</span>,\n  }));\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        height: '26px',\n        width: '100%',\n        marginBottom: '10px',\n        position: 'relative',\n      }}\n    >\n      <AirbnbSlider\n        ThumbComponent={(p) => AirbnbThumbComponent({ ...p, label: values[currentIndex]?.name })\n        }\n        onMouseEnter={() => setHoover(true)}\n        onMouseLeave={() => setHoover(false)}\n        style={{ color: color || values[currentIndex]?.color }}\n        onChangeCommitted={handleChangeCommit}\n        onChange={handleChange}\n        defaultValue={0}\n        value={currentIndex}\n        valueLabelFormat={valueText}\n        getAriaValueText={valueText}\n        aria-labelledby=\"discrete-slider-restrict\"\n        step={null}\n        valueLabelDisplay=\"auto\"\n        marks={hoover ? markTexts : valuesNoLabel}\n        min={0}\n        max={values.length - 1}\n        disabled={disabled}\n      />\n      {showPublish && (\n        <PublishIcon size={14} multiEdit={multiEdit} published={published} onClick={onPublish || null} />\n      )}\n      {!hoover && helpText && (\n        <span\n          style={{\n            ...fonts.TINY,\n            position: 'absolute',\n            bottom: '-15px',\n            right: '30px',\n          }}\n        >\n          {helpText}\n        </span>\n      )}\n    </div>\n  );\n};\n\nexport default AssessmentSlider;\n","import { IComponentController } from 'angular';\n\nexport abstract class UnsubscribableComponent implements IComponentController {\n\n  protected $$unsubscribes: Function[];\n\n  protected constructor() {\n    'ngInject';\n    this.$$unsubscribes = [];\n  }\n\n  public $onDestroy(): void {\n    this.$$unsubscribes.forEach((unsubscribe: Function): void => {\n      if (typeof  unsubscribe === 'function') {\n        unsubscribe();\n      }\n    });\n  }\n}\n","import { ID } from '@datorama/akita';\n\nexport enum AssessmentStatusOld {\n  ND = 'ND',\n  NL = 'NL',\n  NV = 'NV',\n  NN = 'NN',\n  AV = 'AV',\n  AN = 'AN',\n  WV = 'WV',\n  WN = 'WN',\n}\n\nexport enum AssessmentStatus {\n  ASSESSING = 'ASSESSING',\n  ASSESSMENT_DONE = 'ASSESSMENT_DONE',\n  NOT_ASSESSED = 'NOT_ASSESSED',\n  WARNING = 'WARNING',\n}\n\nexport enum AssessmentSort {\n  ASC_FIRST_NAME = 'ASC_FIRST_NAME',\n  ASSESSMENT_DONE = 'ASSESSMENT_DONE',\n  DESC_FIRST_NAME = '-DESC_FIRST_NAME',\n  NOT_ASSESSED = 'NOT_ASSESSED',\n}\n\nexport interface Assessment {\n  assessment_status: AssessmentStatusOld;\n  fail_warning: boolean;\n  feedback?: string;\n  feedback_last_edit?: string;\n  feedback_published?: boolean;\n  id: ID;\n  private_note?: string;\n  private_note_last_edit?: string;\n  result?: string;\n  result_last_edit?: string;\n  result_published?: boolean;\n  status_new: AssessmentStatus;\n  student_id: ID;\n  student_name: string;\n}\n","import React, { useContext } from 'react';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { withStyles } from '@material-ui/core/styles';\nimport { colors } from '../theme';\nimport { GlobalContext } from '../utils';\n\nconst SBLinearProgress = withStyles({\n  barColorPrimary: {\n    backgroundColor: colors.green,\n  },\n})(LinearProgress);\n\nconst SBLinearProgressPink = withStyles({\n  barColorPrimary: {\n    backgroundColor: colors.brandColorPink,\n  },\n})(LinearProgress);\n\nconst StyledLinearProgress = (pink = false) => {\n  const context = useContext(GlobalContext);\n  const { networkTraffic } = context;\n  if (!networkTraffic) {\n    return null;\n  }\n  if (pink) {\n    return <SBLinearProgressPink/>;\n  }\n  return (\n    <SBLinearProgress />\n  );\n};\n\nexport default StyledLinearProgress;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.784 12.526c.486 0 .88.4.88.895v2.684a.888.888 0 01-.88.895H.88A.888.888 0 010 16.105v-2.684c0-.494.394-.895.881-.895h2.903zm6.167 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.88.895H7.048a.888.888 0 01-.881-.895v-2.684c0-.494.394-.895.88-.895h2.903zm6.168 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.881.895h-2.903a.888.888 0 01-.88-.895v-2.684c0-.494.394-.895.88-.895h2.903zm-12.335.895H.88v2.684h2.903v-2.684zm6.167 0H7.05v2.684H9.95v-2.684zm6.168 0h-2.903v2.684h2.903v-2.684zM3.784 6.263c.486 0 .88.4.88.895v2.684a.888.888 0 01-.88.895H.88A.888.888 0 010 9.842V7.158c0-.494.394-.895.881-.895h2.903zm6.167 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.88.895H7.048a.888.888 0 01-.881-.895V7.158c0-.494.394-.895.88-.895h2.903zm6.168 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.881.895h-2.903a.888.888 0 01-.88-.895V7.158c0-.494.394-.895.88-.895h2.903zm-6.168.895H7.05v2.684H9.95V7.158zm6.168 0h-2.903v2.684h2.903V7.158zM3.784 0c.486 0 .88.4.88.895v2.684a.888.888 0 01-.88.895H.88A.888.888 0 010 3.579V.895C0 .4.394 0 .881 0h2.903zM9.95 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.88.895H7.048a.888.888 0 01-.881-.895V.895c0-.494.394-.895.88-.895h2.903zm6.168 0c.487 0 .881.4.881.895v2.684a.888.888 0 01-.881.895h-2.903a.888.888 0 01-.88-.895V.895c0-.494.394-.895.88-.895h2.903zM3.784.895H.88v2.684h2.903V.895zm6.167 0H7.05v2.684H9.95V.895zm6.168 0h-2.903v2.684h2.903V.895z\",\n  fillRule: \"nonzero\",\n  fill: \"current\"\n});\n\nfunction SvgGrid(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 17,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/2c43b1719aa33e5336745b447c4d48c3-grid.svg\";\nexport { SvgGrid as ReactComponent };","import colors from './colors';\n\nconst baseFonts = {\n  XXXLARGE: {\n    color: colors.textColor,\n    fontSize: '30px',\n  },\n  XXLARGE: {\n    color: colors.textColor,\n    fontSize: '24px',\n  },\n  XLARGE: {\n    color: colors.textColor,\n    fontSize: '20px',\n  },\n  LARGE: {\n    color: colors.textColor,\n    fontSize: '16px',\n  },\n  MEDIUM: {\n    color: colors.textColor,\n    fontSize: '14px',\n  },\n  SMALL: {\n    color: colors.textColor,\n    fontSize: '12px',\n  },\n  TINY: {\n    color: colors.textColor,\n    fontSize: '11px',\n  },\n};\n// TODO Change to google font \"Cabin\"\nexport default {\n  XXXLARGE: {\n    ...baseFonts.XXXLARGE,\n    fontFamily: 'Roboto',\n  },\n  XXLARGE: {\n    ...baseFonts.XXLARGE,\n    fontFamily: 'Roboto',\n  },\n  XLARGE: {\n    ...baseFonts.XLARGE,\n    fontFamily: 'Roboto',\n  },\n  LARGE: {\n    ...baseFonts.LARGE,\n    fontFamily: 'Roboto',\n  },\n  MEDIUM: {\n    ...baseFonts.MEDIUM,\n    fontFamily: 'Roboto',\n  },\n  SMALL: {\n    ...baseFonts.SMALL,\n    fontFamily: 'Roboto',\n  },\n  TINY: {\n    ...baseFonts.TINY,\n    fontFamily: 'Roboto',\n  },\n};\n","import angular, { IModule } from 'angular';\nimport { BackendInfo } from './services/backend_info';\nimport { Mixpanel } from './services/mixpanel.service';\nimport { DynamicTheme } from './directives/dynamic-theme';\nimport { MainMenu } from './directives/main-menu';\nimport { MainMenu as MainMenuService } from './services/main_menu';\nimport { Courses } from './services/courses.service';\nimport { CustomRouting } from './directives/custom_routing';\nimport { UserInfo } from './services/userInfo.service';\nimport { Locale } from './services/locale';\nimport { GradeSystems } from './services/grade_systems';\nimport { FetchData } from './services/fetchData.service';\nimport { SlideToggleDirective } from './directives/slideToggle.directive';\nimport { LocalizeFilter } from './filters/localize';\nimport { SlideToggleAnimation } from './animations/slideToggle.animation';\nimport { PromiseQueue } from './services/promiseQueue.service';\nimport { LastModified } from './filters/last_modified';\nimport { Students } from './services/students';\n\nexport const UtilsModule: IModule = angular\n  .module('app.utils', [])\n  .animation('.slideToggleOpen', SlideToggleAnimation.create)\n  .directive('customRouting', CustomRouting)\n  .directive('mainMenu', MainMenu)\n  .directive('slideToggle', SlideToggleDirective.create)\n  .directive('localize', require('./directives/localize.js'))\n  .directive('singleSlider', require('./directives/single_slider.js'))\n  .directive('counters', require('./directives/counters.js'))\n  .directive('knowledgeRequirements', require('./directives/knowledge_requirements.js'))\n  .directive('stickySubheader', require('./directives/sticky_subheader.js'))\n  .directive('lastModified', require('./directives/last_modified.js'))\n  .directive('studybeeHandle', require('./directives/studybee_handle.js'))\n  .directive('dynamicTheme', DynamicTheme)\n  .directive('saveScroll', require('./directives/save_scroll.js'))\n  .service('Locale', Locale)\n  .service('GradeSystems', GradeSystems)\n  .service('UserInfo', UserInfo)\n  .service('FetchData', FetchData)\n  .service('Mixpanel', Mixpanel)\n  .service('Courses', Courses)\n  .service('PromiseQueue', PromiseQueue)\n  .factory('Assignments', require('./services/assignments.js'))\n  .service('Students', Students)\n  .factory('Config', require('./services/config.js'))\n  .factory('Path', require('./services/path.js'))\n  .factory('Debounce', require('./services/debounce.js'))\n  .factory('Helpers', require('./services/helpers.js'))\n  .factory('NavigationHistory', require('./services/navigation_history.js'))\n  .factory('MainMenu', MainMenuService)\n  .factory('States', require('./services/states.js'))\n  .factory('Observer', require('./services/observer.js'))\n  .factory('Hint', require('./services/hint.js'))\n  .factory('Updates', require('./services/updates.js'))\n  .factory('BackendInfo', BackendInfo)\n  .factory('StudybeeHandle', require('./services/studybee_handle.js'))\n  .filter('Sanitize', require('./filters/sanitize.js'))\n  .filter('LastModified', LastModified)\n  .filter('localize', LocalizeFilter);\n\nexport default UtilsModule.name;\n\nexport * from './providers/httpInterceptor.provider';\nexport * from './interceptors/agreementSeen.interceptor';\nexport * from './interceptors/checkDomain.interceptor';\nexport * from './interceptors/extractData.interceptor';\nexport * from './interceptors/inactiveUser.interceptor';\nexport * from './interceptors/missingAgreement.interceptor';\nexport * from './interceptors/userData.interceptor';\nexport * from './interceptors/userPreferences.interceptor';\n","import angular, { IModule } from 'angular';\nimport SharedComponentsMaterialModule from './material/material.module';\n\nexport const SharedComponentsModule: IModule = angular\n  .module('app.shared.components', [SharedComponentsMaterialModule]);\n\nexport default SharedComponentsModule.name;\n\nexport * from './abstracts/unsubscribable.component';\nexport * from './assignmentCourseSelect/assignmentCourseSelect.component';\nexport * from './assignmentGradeText/assignmentGradeText.component';\nexport * from './assignmentIconType/assignmentIconType.compnent';\nexport * from './assignments/assignments.component';\nexport * from './assignmentsList/assignmentsList.component';\nexport * from './assignmentStatusIcon/assignmentStatusIcon.component';\nexport * from './assignObjectivesPopup/assignObjectivesPopup.component';\nexport * from './groupedVisibility/groupedVisibility.component';\nexport * from './helpButton/helpButton.component';\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Common/BaseClasses\n *\n * @description\n * This class is responsible for auto-unbinding watchers added\n * in the $onInit method. There is no need to do it each time in the same way\n *\n * @example\n *\n * class Example extends UnbindableCtrlBase {\n *     constructor($rootScope) {\n *         'ngInject';\n *\n *         super();\n *         this.$rootScope = $rootScope;\n *     }\n *\n *  $onInit() {\n *   this.boundEvents.push(\n *     this.$rootScope.$on(\n *       Events.UPDATED_COURSES,\n *       () => console.log('event'),\n *     ),\n *   );\n * }\n *\n */\nexport class UnbindableCtrlBase {\n  constructor() {\n    'ngInject';\n    this.boundEvents = [];\n  }\n\n  $onDestroy() {\n    this.boundEvents.forEach(unbindFn => unbindFn());\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport { Locale } from './locale';\nimport { HttpStatusCode } from '../enums/httpStatusCode.enum';\nimport { RequestType } from '../../shared/enums/requestType.enum.ts';\n\n/**\n * @module Data/Service\n * @description\n *   Handle sending requests to Background JS\n *   and resolve promise on data recieve.\n *   Contain list of all endpoints.\n *   It can be tested on https://studybee.devmerix.com/docs/\n * @param {Object} $q Angular $q object\n * @param {Object} $timeout Angular $timeout object\n * @param {Object} Config Config service instance\n */\n\n\nexport class FetchData {\n  static MODE = { showLoading: 0, showError: 1 };\n\n  static ACTION = { fetch: 'fetchData' };\n\n  constructor($q, $timeout, Config, HttpInterceptor) {\n    'ngInject';\n\n    this.$q = $q;\n    this.$timeout = $timeout;\n    this.Config = Config;\n    this.interceptors = HttpInterceptor;\n    this.activeRequest = 0;\n  }\n\n  increaseActiveRequestCount() {\n    this.$timeout(() => {\n      this.activeRequest += 1;\n    });\n  }\n\n  decreaseActiveRequestCount() {\n    this.$timeout(() => {\n      if (this.showLoading()) {\n        this.activeRequest -= 1;\n      }\n    });\n  }\n\n  async sendRequest(config) {\n    let promise = this.$q.resolve(config);\n\n    promise = this.applyRequestInterceptors(promise);\n    promise = promise.then(this.serverRequest.bind(this));\n    promise = this.applyResponseInterceptors(promise);\n    promise.finally(this.decreaseActiveRequestCount.bind(this));\n\n    return promise;\n  }\n\n  /**\n   * Sending request to Background JS and handle response\n   * @memberof module:FetchData/Service\n   * @param {Object} config {\n   * url: Request URL,\n   * method: Request method,\n   * data: Request data,\n   * auth: Request auth\n   * }\n   */\n  serverRequest(config) {\n    const deferred = this.$q.defer();\n    const ignoreShowLoading = this.addressException(config, FetchData.MODE.showLoading);\n    const requestConfig = { ...config, action: FetchData.ACTION.fetch };\n    const label = `api: ${config.url.split('/').slice(3).join('/')}`;\n    // console.log('xxx config: ', config);\n    console.time(label);\n\n    if (!ignoreShowLoading) {\n      this.increaseActiveRequestCount();\n    }\n\n    chrome.runtime.sendMessage(requestConfig, (response) => {\n      const extendedResponse = { ...response, config };\n      console.timeEnd(label);\n      if (extendedResponse.status < HttpStatusCode.BAD_REQUEST) {\n        // console.log(`xxx response ${config.url}: `, extendedResponse);\n        deferred.resolve(extendedResponse);\n      } else {\n        deferred.reject(extendedResponse);\n      }\n    });\n\n    return deferred.promise;\n  }\n\n  chainInterceptors(promise, interceptors) {\n    return [].concat(interceptors)\n      .reduce(\n        ($promise) => $promise.then(interceptors.shift(), interceptors.shift()),\n        promise,\n      );\n  }\n\n  applyRequestInterceptors(promise) {\n    const requestInterceptors = [];\n    this.interceptors.forEach((interceptor) => {\n      if (interceptor.request || interceptor.requestError) {\n        requestInterceptors.unshift(interceptor.request, interceptor.requestError);\n      }\n    });\n\n    return this.chainInterceptors(promise, requestInterceptors);\n  }\n\n  applyResponseInterceptors(promise) {\n    const responseInterceptors = [];\n\n    this.interceptors.forEach((interceptor) => {\n      if (interceptor.response || interceptor.responseError) {\n        responseInterceptors.push(interceptor.response, interceptor.responseError);\n      }\n    });\n\n    return this.chainInterceptors(promise, responseInterceptors);\n  }\n\n  async sendAPIRequest(url, method = RequestType.GET, data = {}) {\n    const config = { url: `${this.Config.apiUrl}${url}`, method, data };\n    // console.log('api request: ', JSON.stringify(config));\n    const d = await this.sendRequest(config);\n    // console.log(`api response: ${config.url}:`, d);\n    return d;\n  }\n\n  sendAPIRequestWithParams(params = {}, url, method, data) {\n    const paramsString = Object.keys(params)\n      .map((key) => {\n        const param = params[key];\n\n        if (Array.isArray(param)) {\n          return param.map(((_param) => `${key}=${encodeURIComponent(_param)}`));\n        }\n\n        return params[key] ? `${key}=${encodeURIComponent(params[key])}` : '';\n      })\n      .flat()\n      .filter((param) => !!param)\n      .join('&');\n\n    const query = paramsString ? `?${paramsString}` : '';\n\n    return this.sendAPIRequest(`${url}${query}`, method, data);\n  }\n\n  addressException(config, mode) {\n    // Don't show loading if there is saving indicatior\n    // It's for Teacher Assess Assignment, Teacher Assess Assignment Student,\n    // Teacher Assess Course, Teacher Assess Course Student and\n    // Teacher Assignment Objectives\n    const exceptionShowLoading = [\n      '/classes/objective_assessments/',\n      '/classes/assessments/',\n      '/classes/course_objective_assessments/',\n      '/classes/course_assessments/',\n      '/classes/assessment_drive/',\n      '/classes/course_definitions/',\n      '/classes/assess_course_assessments_batch_update/',\n      '/classes/assess_course_assessments/',\n      '/classes/course_objective_assessments/',\n      '/classes/objective_assessments_assess_course/',\n    ];\n\n    // Don't show error if classroom courses or drive courses return error\n    // It's for handle situation when user is logged in on private account\n    const exceptionShowError = [\n      '/classes/drive_courses/',\n      '/classes/courses/',\n    ];\n\n    switch (mode) {\n      case FetchData.MODE.showLoading:\n        return exceptionShowLoading\n          .some((addressElem) => config.url.indexOf(addressElem) >= 0 && config.method === 'PUT');\n\n      case FetchData.MODE.showError:\n        return exceptionShowError\n          .some((addressElem) => config.url.indexOf(addressElem) >= 0 && config.method === 'GET');\n\n      default:\n        return false;\n    }\n  }\n\n  showLoading() {\n    return !!this.activeRequest;\n  }\n\n  getUserData() {\n    return this.sendAPIRequest('/users/user_data/', RequestType.GET);\n  }\n\n  getUsersAgreementSeen() {\n    return this.sendAPIRequest('/users/agreement-seen/', RequestType.GET);\n  }\n\n  updateUserAgreementSeen() {\n    return this.sendAPIRequest('/users/agreement-seen/', RequestType.POST);\n  }\n\n  getInactiveUserMessage() {\n    return this.sendAPIRequest('/users/inactive-user-message/', RequestType.GET);\n  }\n\n  getClassroomCourse(courseId) {\n    return this.sendAPIRequest(`/classes/courses/${courseId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method that return course informations related to file\n   * @memberof module:Data/Service\n   * @param {Number} fileId Selected file ID\n   * @param {Number} alternateLinkId Selected assignment ID\n   * @return {Object}\n   */\n  getDriveCourse(fileId, alternateLinkId) {\n    return this.sendAPIRequestWithParams(\n      { alternate_link_id: alternateLinkId },\n      `/classes/drive_courses/${fileId}/`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for getting the knowledge requirement of an objective\n   * @memberof module:Data/Service\n   * @param {Number} objectiveId Selected objective ID\n   * @return {Object}\n   */\n  getSingleObjectiveRequirements(objectiveId) {\n    return this.sendAPIRequest(`/objectives/objectives/${objectiveId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method that return grade systems and list of objectives available for assignment\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   */\n  getAssignedObjectivesToAssignment(assignmentId) {\n    return this.sendAPIRequest(`/classes/assigned_objectives_to_assignment/${assignmentId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method that update grade systems and list of objectives assign to the assignment\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @param {Object} settings New settings\n   */\n  patchAssignedObjectivesToAssignment(assignmentId, settings) {\n    return this.sendAPIRequest(\n      `/classes/assignment_details/${assignmentId}/`,\n      RequestType.PATCH,\n      settings,\n    );\n  }\n\n  /**\n   * Method that return list of objectives for assignment with nested students\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @param {Number} courseId Selected course ID\n   * @return {Array}\n   */\n  getAssignmentsObjectives(assignmentId, courseId) {\n    return this.sendAPIRequest(\n      `/classes/assignments_objectives/${assignmentId}/?course_id=${courseId}`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method that return list of students for assignment with nested objectives\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @return {Array}\n   */\n  getAssignmentsStudents(assignmentId, courseId) {\n    return this.sendAPIRequest(\n      `/classes/assessments/${assignmentId}/?course_id=${courseId}`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for update assignments objectives\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @param {Array} students List of students\n   */\n  putAssignmentsObjectives(assignmentId, students) {\n    return this.sendAPIRequest(\n      `/classes/assessments/${assignmentId}/`,\n      RequestType.PUT,\n      students,\n    );\n  }\n\n  /**\n   * Method that return list of assessments for the student in assignment\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @param {Number} studentId Selected student ID\n   */\n  getObjectiveAssessments(assignmentId, studentId) {\n    return this.sendAPIRequest(\n      `/classes/objective_assessments/${assignmentId}/${studentId}/`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for update objective assessments\n   * @memberof module:Data/Service\n   * @param {Array} assessments List of assessments\n   */\n  putObjectiveAssessments(assessments) {\n    return this.sendAPIRequest('/classes/objective_assessments/', RequestType.PUT, assessments);\n  }\n\n  /**\n   * Method for getting the assignments for student\n   * @memberof module:Data/Service\n   * @param {String} courseId Selected course ID\n   * @param {Object} Params\n   * @return {Array}\n   */\n  getStudentAssignments(courseId, params = {}) {\n    return this.sendAPIRequestWithParams(params, `/classes/student_assignments/${courseId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting the single assignments for student\n   * @memberof module:Data/Service\n   * @param {Number} courseId Selected course ID\n   * @return {Object}\n   */\n  getStudentAssignment(assignmentId) {\n    return this.sendAPIRequest(`/classes/assessment_details/${assignmentId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting the list of school for User Setup\n   * @memberof module:Data/Service\n   * @param {String} query Query String\n   * @param {Number} educationalSystemId Selected educational system ID\n   * @param limit - limit of the records\n   * @return {Object}\n   */\n  getSchool(query, educationalSystemId, limit = '') {\n    return this.sendAPIRequest(\n      `/schools/school/?filter=${query}&educational_system=${educationalSystemId}&limit=${limit}`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for getting the list of school for User Setup\n   * @memberof module:Data/Service\n   * @param {Number} schooldId Selected school ID\n   * @return {Object}\n   */\n  getSchoolById(schooldId) {\n    return this.sendAPIRequest(`/schools/school/${schooldId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting information for User Setup\n   * @memberof module:Data/Service\n   * @param {String} language Selected language String\n   * @return {Array}\n   */\n  getFirstTimeSetupData(language) {\n    return this.sendAPIRequest(`/schools/first_time_setup/?language=${language}`, RequestType.GET);\n  }\n\n  /**\n   *\n   * @param courseId\n   * @param preferences\n   * @returns {*}\n   */\n  getCourseSetup(courseId) {\n    return this.sendAPIRequest(`/v2/classes/course_setup/${courseId}/`, RequestType.GET);\n  }\n\n  updateCourseSetup(courseId, preferences) {\n    return this.sendAPIRequest(\n      `/v2/classes/course_setup/${courseId}/`,\n      RequestType.PUT,\n      preferences,\n    );\n  }\n\n  /**\n   * Method to get user preferences\n   * @memberof module:Data/Service\n   * @return {Object}\n   */\n  getUserPreferences() {\n    return this.sendAPIRequest('/schools/user_setup/', RequestType.GET);\n  }\n\n  /**\n   * Method for update user preferences for User Setup\n   * @memberof module:Data/Service\n   * @param {Object} preferences New preferences\n   */\n  updateUserPreferences(preferences) {\n    return this.sendAPIRequest('/schools/user_setup/', RequestType.POST, preferences);\n  }\n\n  /**\n   * Method for getting assessment for Google Drive\n   * @memberof module:Data/Service\n   * @param {Number} fileId Selected file ID\n   * @param {String} alternateLinkId assessment ID\n   * @return {IPromise}\n   */\n  getAssessmentDrive(fileId, alternateLinkId = null) {\n    return this.sendAPIRequestWithParams(\n      { alternate_link_id: alternateLinkId },\n      `/classes/assessment_drive/${fileId}/`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for update main student's information for Google Drive\n   * @memberof module:Data/Service\n   * @param {Number} fileId Selected file ID\n   * @param {Object} assessments Single assessment\n   */\n  putObjectiveAssessmentsDrive(fileId, assessments) {\n    return this.sendAPIRequest(`/classes/assessment_drive/${fileId}/`, RequestType.PUT, assessments);\n  }\n\n  /**\n   * Method for getting updated students list\n   * @memberof module:Data/Service\n   * @param {Number} courseId Selected course ID\n   * @return {Array}\n   */\n  getStudentsList(courseId) {\n    return this.sendAPIRequest(`/classes/students/${courseId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting updated assignments list\n   * @memberof module:Data/Service\n   * @param {Number} courseId Selected course ID\n   * @return {Array}\n   */\n  updateAssignmentsList(courseId) {\n    return this.sendAPIRequest(`/classes/assignments_new/${courseId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting files list for assignment\n   * @memberof module:Data/Service\n   * @param {Number} assignmentId Selected assignment ID\n   * @return {Array}\n   */\n  updateFilesListForAssignment(assignmentId) {\n    return this.sendAPIRequest(`/classes/assignment_submissions/${assignmentId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting list of assignments grouped by status\n   * @memberof module:Data/Service\n   * @param {Number} courseId Selected course ID\n   * @return {Array}\n   */\n  getAssignments(courseId) {\n    return this.sendAPIRequest(`/classes/course_stream_details/${courseId}/`, RequestType.GET);\n  }\n\n  /**\n   * Method for getting the assignmentId\n   * @memberof module:Data/Service\n   * @param {String} courseId Selected course ID\n   * @param {String} assingmentTitle Assignment title\n   * @return {Array}\n   */\n  getAssignmentId(courseId, assignmentTitle) {\n    return this.sendAPIRequest(\n      `/classes/assignment_id/?course_id=${courseId}&title=${assignmentTitle}`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for getting extension information from backend\n   * @memberof module:Data/Service\n   * @param {String} language Selected language string\n   * @return {Object}\n   */\n  getBackendInfo(language) {\n    return this.sendAPIRequest(\n      `/extension/information_to_user/?language=${language}`,\n      RequestType.GET,\n    );\n  }\n\n  /**\n   * Method for track event data for Mixpanel\n   * @memberof module:Data/Service\n   * @param {String} mixpanelData Contains information about events\n   */\n  mixpanelTrack(mixpanelData) {\n    // return fetch(`${this.Config.mixpanelApiUrl}/track?data=${mixpanelData}`);\n  }\n\n  /**\n   * Method for engage user data for Mixpanel\n   * @memberof module:Data/Service\n   * @param {String} mixpanelData Contains information about events\n   */\n  mixpanelEngage(mixpanelData) {\n    // return fetch(`${this.Config.mixpanelApiUrl}/engage?data=${mixpanelData}`);\n  }\n\n  /**\n   * Method for get download PDF key\n   * @memberof module:Data/Service\n   * @param {Number} studentId Selected student ID\n   * @param {Number} courseDefinitionId Selected course definition ID\n   */\n  getDownloadKey(studentId, courseDefinitionId) {\n    return this.sendAPIRequest(\n      `/classes/grade-export-key/${studentId}/${courseDefinitionId}/`,\n      RequestType.GET,\n    );\n  }\n\n  getStudentDetails(studentId) {\n    return this.sendAPIRequest(`/users/student-details/${studentId}/`, RequestType.GET);\n  }\n\n  updateStudentDetails(studentId, data) {\n    return this.sendAPIRequest(`/users/student-details/${studentId}/`, RequestType.PATCH, data);\n  }\n\n  getColleagueEmails() {\n    return this.sendAPIRequest('/users/colleague-emails/', RequestType.GET);\n  }\n\n  addColleagueEmail(email) {\n    return this.sendAPIRequest('/users/colleague-emails/', RequestType.POST, { email });\n  }\n\n  removeColleagueEmail(colleagueEmailId) {\n    return this.sendAPIRequest(`/users/colleague-emails/${colleagueEmailId}/`, RequestType.DELETE);\n  }\n\n  get v2() {\n    return {\n      getAssignmentByAlternateLink: (assignmentAlternateLink) => this.sendAPIRequest(\n        `/v2/classes/assignment-alternate-link/${assignmentAlternateLink}/`,\n        RequestType.GET,\n      ),\n\n      /**\n       * Method for get assignment assessments\n       * @memberof module:Data/Service\n       * @param {Number} assignmentId Selected assignment ID\n       * @param {Number} studentId Selected student ID\n       * @param {Array} assessments List of assessments\n       */\n      getAssignmentAssessments: (assignmentId, studentId) => this.sendAPIRequest(\n        `/v2/classes/assignment_assessment/${assignmentId}/${studentId}/`,\n        RequestType.GET,\n      ),\n\n      /**\n       * Method for update assignment assessments\n       * @memberof module:Data/Service\n       * @param {Number} assignmentId Selected assignment ID\n       * @param {Object} assignmentAssessments Assignment assessments\n       */\n      putAssignmentAssessments: (assignmentId, assignmentAssessments) => this.sendAPIRequest(\n        `/v2/classes/assignment_assessment/${assignmentId}/`,\n        RequestType.PUT,\n        assignmentAssessments,\n      ),\n\n      /**\n       * Method that return a list of course definitions for assignment\n       * @memberof module:Data/Service\n       * @param {Number} assignmentId Selected assignment ID\n       * @param {Number} courseId Selected course ID\n       * @return {Array}\n       */\n      getSimpleAssignmentsObjectives: (assignmentId, courseId) => this.sendAPIRequest(\n        `/v2/classes/assignments_objectives/${assignmentId}/?course_id=${courseId}`,\n        RequestType.GET,\n      ),\n\n      /**\n       * Method that return a list of assessments for the student in assignment\n       * @memberof module:Data/Service\n       * @param {Number} assignmentId Selected assignment ID\n       * @param {Number} studentId Selected student ID\n       */\n      getObjectiveAssessments: (assignmentId, studentId) => this.sendAPIRequest(\n        `/v2/classes/objective_assessments/${assignmentId}/${studentId}/`,\n        RequestType.GET,\n      ),\n\n      /**\n       * Method for getting grade systems\n       * @memberof module:Data/Service\n       * @param {String} courseId Selected course ID\n       * @param {String} assignmentId optional current assignment ID\n       */\n      getGradeSystems: (courseId, assignmentId) => this.sendAPIRequestWithParams(\n        { assignment_id: assignmentId },\n        `/v2/classes/course-grade-systems/${courseId}/`,\n        RequestType.GET,\n      ),\n    };\n  }\n\n  get v3() {\n    return {\n      /**\n       *\n       * @param courseDefinitionId\n       * @returns {*}\n       */\n      getCourseDefinitionObjectives: (courseDefinitionId) => this.sendAPIRequest(\n        `/v3/classes/course-definitions/${courseDefinitionId}/objectives/`,\n        RequestType.GET,\n      ),\n\n      getStudentCoursesDefinitions: (studentId) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions-assessments/`,\n        RequestType.GET,\n      ),\n\n      getCourseDefinitionAssessment: (studentId, courseDefinitionId) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions-assessments/${courseDefinitionId}/`,\n        RequestType.GET,\n      ),\n\n      updateCourseDefinitionAssessment: (studentId, courseDefinitionId, assessment) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions-assessments/${courseDefinitionId}/`,\n        RequestType.PUT,\n        assessment,\n      ),\n\n      /**\n       *\n       */\n      getCourseDefinitionObjectiveAssessments: (\n        studentId,\n        courseDefinitionId,\n      ) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/course-definition-objective-assessments/`,\n        RequestType.GET,\n      ),\n\n      updateCourseDefinitionObjectiveAssessment: (\n        studentId,\n        courseDefinitionId,\n        assessment,\n      ) => this.sendAPIRequest(`/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/course-definition-objective-assessments/${assessment.objective.id}/`,\n        RequestType.PUT, assessment),\n\n      getCourseDefinitionObjectiveAssessment: (\n        studentId,\n        courseDefinitionId,\n        objectiveId,\n      ) => this.sendAPIRequest(`/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/course-definition-objective-assessments/${objectiveId}/`,\n        RequestType.GET),\n\n      getObjectiveAssessments: (\n        studentId,\n        objectiveId,\n      ) => this.sendAPIRequest(`/v3/classes/students/${studentId}/objectives/${objectiveId}/objective-assessments/`,\n        RequestType.GET),\n\n      updateObjectiveAssessments: (\n        studentId,\n        objectiveId,\n        assessment,\n      ) => this.sendAPIRequest(`/v3/classes/students/${studentId}/objectives/${objectiveId}/objective-assessments/${assessment.assignment.id}/`,\n        RequestType.PUT, assessment),\n\n      updateKnowledgeRequirement: (courseId, knowledgeRequirement) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/knowledge-requirements/${knowledgeRequirement.id}/`,\n        RequestType.PUT,\n        knowledgeRequirement,\n      ),\n\n      deleteObjective: (courseDefinition, objective) => this.sendAPIRequest(\n        `/v3/classes/course-definitions/${courseDefinition.id}/objectives/${objective.id}/`,\n        RequestType.DELETE,\n      ),\n\n      updateObjective: (courseDefinition, objective) => this.sendAPIRequest(\n        `/v3/classes/course-definitions/${courseDefinition.id}/objectives/${objective.id}/`,\n        RequestType.PATCH,\n        objective,\n      ),\n\n      createObjective: (courseDefinition, objective) => this.sendAPIRequest(\n        `/v3/classes/course-definitions/${courseDefinition.id}/objectives/`,\n        RequestType.POST,\n        objective,\n      ),\n\n      getObjectives: (courseDefinition) => this.sendAPIRequest(\n        `/v3/classes/course-definitions/${courseDefinition.id}/objectives/`,\n        RequestType.GET,\n      ),\n\n      deleteCourse: (courseId, courseDefinition) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/courses-definitions/${courseDefinition.id}/`,\n        RequestType.DELETE,\n      ),\n\n      createCourseDefinition: (courseId, courseData) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/courses-definitions/`,\n        RequestType.POST,\n        courseData,\n      ),\n\n      addCourseDefinitionToClassroom: (courseId, courseDefinition) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/courses-definitions/copy-to-classroom/`,\n        RequestType.POST,\n        { template_course_id: courseDefinition.id },\n      ),\n\n      saveCourseToLibrary: (originCourseId, name, code) => this.sendAPIRequest(\n        '/v3/curriculum-library/',\n        RequestType.POST,\n        {\n          course_id: originCourseId,\n          name,\n          code,\n        },\n      ),\n\n      getStudybeeCurriculums: (searchParams) => this.sendAPIRequestWithParams(\n        searchParams,\n        '/v3/studybee-curriculums/',\n        RequestType.GET,\n      ),\n\n      getSchoolCurriculums: (searchParams) => this.sendAPIRequestWithParams(\n        searchParams,\n        '/v3/school-curriculums/',\n        RequestType.GET,\n      ),\n\n      getCurriculumLibrary: (searchParams) => this.sendAPIRequestWithParams(\n        searchParams,\n        '/v3/curriculum-library/',\n        RequestType.GET,\n      ),\n\n      /**\n       *\n       * @param courseId\n       * @returns {*}\n       */\n      getUsersStatusesForCoursesAndObjectives: (courseId) => this.sendAPIRequest(`/v3/classes/${courseId}/students/course-statuses/`, RequestType.GET),\n\n      getUserStatusesForCoursesAndObjectives: (courseId, studentId) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/students/${studentId}/courses-statuses/`,\n        RequestType.GET,\n      ),\n\n      getCourseDefinitions: (courseId) => this.sendAPIRequest(`/v3/classes/${courseId}/courses-definitions/`, RequestType.GET),\n\n      getCourseDefinition: (courseId, courseDefinitionId) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/courses-definitions/${courseDefinitionId}/`,\n        RequestType.GET,\n      ),\n\n      updateCourseDefinition: (courseId, courseDefinition) => this.sendAPIRequest(`/v3/classes/${courseId}/courses-definitions/${courseDefinition.id}/`,\n        RequestType.PUT,\n        courseDefinition),\n\n      allUsersCurriculums: (params) => this.sendAPIRequestWithParams(params, '/v3/all-users-curriculums/', RequestType.GET),\n\n      getPrivateCurriculums: () => this.sendAPIRequest(\n        '/v3/curriculum-library/private/',\n        RequestType.GET,\n      ),\n\n      getPublicCurriculums: () => this.sendAPIRequest(\n        '/v3/curriculum-library/shared-with-school/',\n        RequestType.GET,\n      ),\n\n      getGlobalCurriculums: () => this.sendAPIRequest(\n        '/v3/curriculum-library/shared-with-all/',\n        RequestType.GET,\n      ),\n\n      makeCurriculumPrivate: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/set-private/`,\n        RequestType.PATCH,\n      ),\n\n      makeCurriculumPublic: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/set-shared-with-school/`,\n        RequestType.PATCH,\n      ),\n\n      makeCurriculumGlobal: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/set-shared-with-all/`,\n        RequestType.PATCH,\n      ),\n\n      updateCurriculumInLibrary: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/`,\n        RequestType.PATCH,\n        curriculum,\n      ),\n\n      addCurriculumToClassroom: (curriculum, courseId) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/add-to-classroom/`,\n        RequestType.POST,\n        { course_id: courseId },\n      ),\n\n      removeCurriculumFromLibrary: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/`,\n        RequestType.DELETE,\n      ),\n\n      getCurriculumDetails: (curriculum) => this.sendAPIRequest(\n        `/v3/curriculum-library/${curriculum.id}/`,\n        RequestType.GET,\n      ),\n\n      // TODO - remove it after some tests\n      // getClassroomEducationalSystem(classroomId) {\n      //   return sendAPIReq(`/v3/classes/${classroomId}/educational-system/`, RequestType.GET);\n      // },\n\n      getScales: (searchParams) => this.sendAPIRequestWithParams(\n        searchParams,\n        '/v3/schools/scale/',\n      ),\n\n      getEducationalStages: (searchParams) => this.sendAPIRequestWithParams(\n        searchParams,\n        '/v3/schools/educational-stage/',\n      ),\n\n      getEducationalSystems: () => this.sendAPIRequest('/v3/schools/educational-system/', 'GET'),\n\n      setObjectiveAssessmentSeen: (studentId, objectiveId, assessment) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/objectives/${objectiveId}/objective-assessments/${assessment.assignment.id}/set-seen/`,\n        RequestType.PATCH,\n      ),\n\n      getExportKeyForAllStudents: (courseId) => this.sendAPIRequest(`/v3/classes/export-grades/key/${courseId}/`, RequestType.GET),\n\n      getExportKeyForStudent: (courseId, courseDefinitionId, studentId) => this.sendAPIRequest(\n        `/v3/classes/export-grades/key/${courseId}/${courseDefinitionId}/${studentId}/`,\n        RequestType.GET,\n      ),\n\n      exportAllStudentsResultsOnGoogleDrive: (fileFormat, courseId) => this.sendAPIRequest(\n        `/v3/classes/export-grades/drive/${fileFormat}/${courseId}/`,\n        RequestType.GET,\n      ),\n\n      exportStudentResultsOnGoogleDrive: (fileFormat, courseId, studentId) => this.sendAPIRequest(\n        `/v3/classes/export-grades/drive/${fileFormat}/${courseId}/${studentId}/`,\n        RequestType.GET,\n      ),\n\n      checkStatusOfExportStudentsResultsToGoogleDrive: (exportId) => this.sendAPIRequest(\n        `/v3/classes/export-grades/drive/result/${exportId}/`,\n        RequestType.GET,\n      ),\n\n      getUserAgreement: (languageCode = Locale.getISOLanguageCode()) => this.sendAPIRequest(`/v3/schools/user-agreement/${languageCode}/`, RequestType.GET),\n\n      getObjectiveAssignmentAssessments: (studentId, objectiveId, params = {}) => this.sendAPIRequestWithParams(\n        params,\n        `/v3/classes/students/${studentId}/objectives/`\n        + `${objectiveId}/objective-assignment-assessments/`,\n        RequestType.GET,\n      ),\n\n      patchObjectiveAssignmentAssessments: (studentId, objectiveId, assignment) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/objectives/`\n        + `${objectiveId}/objective-assignment-assessments/${assignment.assignment_id}/`,\n        RequestType.PATCH,\n        assignment,\n      ),\n\n      patchObjectiveAssignmentAssessmentsSeen: (studentId, objectiveId, assignment) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/objectives/`\n        + `${objectiveId}/objective-assignment-assessments/${assignment.assignment_id}/set-seen/`,\n        RequestType.PATCH,\n        assignment,\n      ),\n\n      patchAssignmentAssessmentsGroupedVisibility: (courseId, assignmentId, groupedVisibility) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/assignment-assessments/grouped-visibility/${assignmentId}/`,\n        RequestType.PATCH,\n        groupedVisibility,\n      ),\n\n      patchCourseAssessmentsGroupedVisibility: (courseId, groupedVisibility) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/course-assessments/grouped-visibility/`,\n        RequestType.PATCH,\n        groupedVisibility,\n      ),\n\n      getCoverageMatrixGradeSystem: (studentId, courseDefinitionId) => this.v3.getCourseDefinitionObjectiveAssessments(studentId, courseDefinitionId),\n\n      getAssignments: (courseId, state, params) => this.sendAPIRequestWithParams(\n        params,\n        `/v3/classes/${courseId}/assignments/${state}/`,\n        RequestType.GET,\n      ),\n\n      getAssignmentAssessment: (studentId, courseDefinitionId, params) => this.sendAPIRequestWithParams(\n        params,\n        `/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/assignment-assessments/`,\n        RequestType.GET,\n      ),\n\n      updateAssignmentAssessment: (objectiveAssignmentAssessment, courseDefinitionId) => this.sendAPIRequest(\n        `/v3/classes/students/${objectiveAssignmentAssessment.student_id}/courses-definitions/${courseDefinitionId}/assignment-assessments/${objectiveAssignmentAssessment.assignment_id}/`,\n        RequestType.PATCH,\n        objectiveAssignmentAssessment,\n      ),\n\n      getListObjectiveAssessments: (studentId, courseDefinitionId, assignmentId) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/assignments/${assignmentId}/objective-assessments/`,\n        RequestType.GET,\n      ),\n\n      updateObjectiveAssessmentsByCourseId: (studentId, courseDefinitionId, objective) => this.sendAPIRequest(\n        `/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/assignments/${objective.assignment.id}/objective-assessments/${objective.objective.id}/`,\n        RequestType.PATCH,\n        objective,\n      ),\n\n      fetchAssignmentAssessments: (courseId, assignmentId) => this.sendAPIRequest(\n        `/v3/classes/${courseId}/assignments/${assignmentId}/assessments/`,\n        RequestType.GET,\n      ),\n\n      // synchronization part\n      synchronize: {\n        students: (courseId) => this.sendAPIRequest(`/v3/${courseId}/synchronize-students/`, RequestType.GET),\n\n        assignments: (courseId) => this.sendAPIRequest(`/v3/${courseId}/synchronize-assignments/`, RequestType.GET),\n      },\n    };\n  }\n}\n","export enum RequestType {\n  DELETE = 'DELETE',\n  GET = 'GET',\n  PATCH = 'PATCH',\n  POST = 'POST',\n  PUT = 'PUT'\n}\n","export * from './assignments.query';\nexport * from './assignments.store';\nexport * from './assignments.service';\nexport * from './assignment.model';\n","export * from './assessments.query';\nexport * from './assessments.store';\nexport * from './assessments.service';\nexport * from './assessment.model';\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { routerConfig } from './teacherCourseManagement.routing';\n\nexport const TeacherCourseManagementModule: IModule = angular\n  .module('app.courseManagement.teacher', [uiRouter])\n  .config(routerConfig);\n\nexport default TeacherCourseManagementModule.name;\n\n\nexport * from './teacherCourseManagement.component';\nexport * from './cmCurriculumLibrary/cmCurriculumLibrary.component';\nexport * from './cmTeacherCourseDetails/cmTeacherCourseDetails.component';\nexport * from './cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectives.component';\nexport * from './cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesList/cmTeacherObjectivesList.component';\nexport * from './cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesToolbar/cmTeacherObjectivesToolbar.component';\nexport * from './cmTeacherCoursesList/cmTeacherCoursesList.component';\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { TeacherAssignmentsRouting } from './teacherAssignments.routing';\n\nexport const TeacherAssignmentsModule: IModule = angular\n  .module('app.assignments.teacherAssignments', [uiRouter])\n  .config(TeacherAssignmentsRouting);\n\nexport default TeacherAssignmentsModule.name;\n\nexport * from './shared/components/teacherAssessmentsList/teacherAssessmentsList.component';\nexport * from './shared/components/teacherAssignmentsDraftsList/teacherAssignmentsDraftsList.component';\nexport * from './shared/components/teacherAssignmentsList/teacherAssignmentsList.component';\nexport * from './teacherAssignments.component';\nexport * from './teacherAssignments.service';\nexport * from './teacherAssignmentsDrafts/teacherAssignmentsDrafts.component';\nexport * from './teacherAssignmentsNotConfigured/teacherAssignmentsNotConfigured.component';\nexport * from './teacherAssignmentsPublished/teacherAssignmentsPublished.component';\n","import { getTranslation } from \"../i18n\";\nimport { ReactComponent as SortIcon } from \"../images/sort.svg\";\nimport { colors } from \"../theme\";\nimport {GlobalContext} from '../utils';\nimport React, {useContext} from 'react';\nimport Tooltip from \"./tooltip\";\n\nconst SortStudentComponent = (props) => {\n  const {style = {}} = props;\n  const context = useContext(GlobalContext);\n  const {sortingMethod, setSortingMethod} = context;\n\n  const sortName = getTranslation(\n    sortingMethod === \"firstName\"\n      ? \"studentsActionMenuSortByLastNameAsc\"\n      : \"studentsActionMenuSortByFirstNameAsc\"\n  ).toLowerCase();\n\n  return (\n    <Tooltip\n      title={`${getTranslation(\"studentsActionMenuSortByLabel\")} ${sortName}`}\n    >\n      <div style={style}>\n        <SortIcon\n          style={{\n            height: \"25px\",\n            cursor: \"pointer\",\n            transform: `rotate(${sortingMethod === \"firstName\" ? 0 : 180}deg)`,\n            border: \"0px solid blue\",\n          }}\n          fill={colors.darkGrey}\n          onClick={async () => {\n            const newSort = sortingMethod === \"firstName\" ? \"lastName\" : \"firstName\";\n            setSortingMethod(newSort)\n          }}\n        />\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default SortStudentComponent;\n","import React, { useState } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport { MoreVert, Check } from '@material-ui/icons';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { ClickAwayListener, Menu } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport { colors, fonts } from '../theme';\n\nconst StyledMenu = withStyles({\n  list: {\n    padding: '0px',\n  },\n})(Menu);\n\nconst MoreMenu = (props) => {\n  const {\n    options, onClick, icon, iconStyle = {}, style = {}, closeOnClick = true,\n  } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClick = (e, option) => {\n    e.stopPropagation();\n    e.nativeEvent.stopImmediatePropagation();\n    if (onClick) {\n      onClick(option);\n    }\n    if (closeOnClick) {\n      setAnchorEl(null);\n    }\n  };\n\n  const handleClickAway = () => {\n    setTimeout(() => setAnchorEl(null));\n  };\n\n  return (\n    <div style={style}>\n      <ClickAwayListener onClickAway={handleClickAway}>\n        <IconButton\n          aria-label='more'\n          aria-controls='long-menu'\n          aria-haspopup='true'\n          onClick={handleClick}\n          style={{ color: colors.white, ...iconStyle }}\n        >\n          {icon || <MoreVert />}\n        </IconButton>\n      </ClickAwayListener>\n      <StyledMenu open={Boolean(anchorEl)} anchorEl={anchorEl}>\n        {options.map((option, i) => {\n          if (option.type === 'separator') {\n            return (\n              <div\n                key={i}\n                style={{\n                  height: '1px',\n                  backgroundColor: colors.borderColor,\n                }}\n              />\n            );\n          }\n          if (option.type === 'title') {\n            return (\n              <div key={option.title} style={{\n                height: '30px', display: 'flex', alignItems: 'center', marginTop: '10px',\n              }}>\n              <span\n                style={{\n                  ...fonts.MEDIUM,\n                  color: colors.green,\n                  marginLeft: '20px',\n                  paddingRight: '50px',\n                }}\n              >\n                  {option.title}\n                </span>\n              </div>\n            );\n          }\n          return (\n            <div key={option.title} style={{ display: 'flex', alignItems: 'center' }}>\n              <div style={{\n                display: 'flex', width: '100%',\n              }}>\n                <MenuItem\n                  style={{\n                    ...fonts.MEDIUM,\n                    flex: 1,\n                  }}\n                  onClick={(e) => handleMenuClick(e, option)}\n                >\n                  {option?.selectable && (\n                    <Check\n                      style={{\n                        color: option.selected\n                          ? colors.darkGrey\n                          : 'transparent',\n                        marginRight: '4px',\n                      }}\n                    />\n                  )}\n                  <span style={fonts.MEDIUM}>{option.title}</span>\n                </MenuItem>\n              </div>\n            </div>\n          );\n        })}\n      </StyledMenu>\n    </div>\n  );\n};\n\nexport default MoreMenu;\n","export default __webpack_public_path__ + \"images/d06df6eadcf64ddc92cfa6a35ac8bb98-result-done.png\";","export default __webpack_public_path__ + \"images/df396fd7a6632d8a58045f1208a00f49-icon_feedback.png\";","export default __webpack_public_path__ + \"images/b74cd44344f5eeb6c87e90a5af63fa7b-sb-ico-self-assessment.png\";","import React, {memo} from \"react\";\nimport resultImage from '../images/png/result-done.png'\nimport feedbackImage from '../images/png/icon_feedback.png'\nimport {colors, fonts} from \"../theme\";\nimport noteImage from '../images/png/sb-ico-note.png'\nimport assessmentImage from '../images/png/sb-ico-self-assessment.png'\nimport {getTranslation} from \"../i18n\";\nimport Tooltip from \"./tooltip\";\nimport Icon from \"./icon\";\nimport PublishedIcon from \"./publishedIcon\";\n\nconst item = {\n  display: \"flex\",\n  width: \"40px\",\n  height: \"50px\",\n  border: \"0px solid red\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  flexDirection: \"column\",\n};\n\nconst styles = {\n  gradeContaiener: {...item, marginRight: \"8px\"},\n  gridStyle: {display: \"flex\", alignItems: \"center\", justifyContent: \"space-around\"},\n  feedbackIcon: {width: '18px', height: '16px', marginBottom: \"4px\", marginTop: '2px'},\n  assessmentIcon: {width: \"20px\", height: \"20px\", marginBottom: \"10px\"},\n  resultIcon: {marginBottom: \"3px\", height: \"20px\", width: \"18px\"},\n  noteIcon: {height: \"18px\", width: \"16px\", marginBottom: \"10px\", marginRight: \"10px\"},\n  iconContainer: {display: \"flex\", justifyContent: \"center\"},\n  gradeText: {...fonts.LARGE, fontWeight: \"800\"},\n};\n\nconst tt = getTranslation(\"overallFeedback\");\nconst tt2 = getTranslation(\"teacherSelfAssessmentLabel\");\nconst tt3 = getTranslation(\"resultsInput\");\nconst tt4 = getTranslation(\"courseProgressAssessmentLabel\");\nconst tt5 = getTranslation(\"overallPrivateNotesMode\");\n\nconst GridSummaryItem = ({assessment, style}) => {\n  return (\n    <div style={{...styles.gridStyle, ...style}}>\n      <Tooltip title={tt}>\n        <div style={item}>\n          <Icon file={feedbackImage} active={!!assessment.feedback} style={styles.feedbackIcon}/>\n          <PublishedIcon published={assessment.feedback_published} active={!!assessment.feedback}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt2}>\n        <div style={styles.iconContainer}>\n          <Icon file={assessmentImage} active={!!assessment.self_assessment} style={styles.assessmentIcon}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt3}>\n        <div style={item}>\n          <Icon file={resultImage} active={!!assessment.result} style={styles.resultIcon}/>\n          <PublishedIcon published={assessment.result_published} active={!!assessment.result}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt4}>\n        <div style={{...styles.gradeContaiener, backgroundColor: assessment?.grade_color}}>\n          <span style={{...styles.gradeText, color: assessment?.grade_color ? colors.white : colors.iconColorLight}}>\n            {assessment.grade_name || \"-\"}\n          </span>\n          {assessment.grade_name && (\n            <PublishedIcon published={assessment.grade_published} active={true} white/>\n          )}\n        </div>\n      </Tooltip>\n      <Tooltip title={tt5}>\n        <div style={styles.iconContainer}>\n          <Icon file={noteImage} active={!!assessment.private_note} style={styles.noteIcon}/>\n        </div>\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default GridSummaryItem;\n","/**\n * Get an entire path\n * @memberof module:Path/Service\n * @return {String}\n */\nimport { Observable, throwError } from 'rxjs';\nimport {\n  concatMap, retryWhen, take, delay,\n} from 'rxjs/operators';\n\nexport const getPath = () => window.location.pathname;\n\n/**\n * Get path array\n * @memberof module:Path/Service\n * @return {Array}\n */\nexport const getPathArray = () => getPath().split('/');\n\n/**\n * Get course ID\n * @memberof module:Path/Service\n * @return {Number}\n */\nexport const getClassroomId = () => {\n  const result = /[\\da-zA-Z]{10,}/g.exec(getPath());\n\n  return result ? result[0] : null;\n};\n\n/**\n * Get assignment ID\n * @memberof module:Path/Service\n * @return {Number}\n */\nexport const getAssignmentId = () => {\n  const pathArray = this.getPathArray();\n  const assignmentId = pathArray[pathArray.indexOf('a') + 1];\n  // if (!assignmentId && MainMenu.selectedAssignment) {\n  //   assignmentId = MainMenu.selectedAssignment.id;\n  // }\n  return assignmentId;\n};\n\n/**\n * This is only temporary solution for bad design patterns\n * @returns {*}\n */\nexport const getAssignmentAlternateLinkId = (isDrive = false) => {\n  if (isDrive) {\n    const result = /\\/([\\da-zA-Z]{5,})#?$/g.exec(getPath());\n\n    return result ? result[1] : null;\n  }\n  const pathArray = this.getPathArray();\n\n  let link = pathArray.indexOf('a') + 1;\n  if (!link) {\n    link = pathArray.indexOf('sa') + 1; // questions have /sa/ in the url not /a/\n  }\n  return isDrive ? getPath() : pathArray[link];\n};\n\n/**\n * Get student ID\n * @memberof module:Path/Service\n * @return {Number}\n */\nexport const getStudentId = () => {\n  const pathArray = this.getPathArray();\n  const studentId = pathArray[pathArray.indexOf('student') + 1];\n  return studentId;\n};\n\n/**\n * Get file ID\n * @memberof module:Path/Service\n * @return {Number}\n */\nexport const getFileId = (retryTimes = 1) => {\n  const getPathFromButton = () => {\n    let documentId = null;\n    const $button = $('[role=main] div[data-url^=https]');\n    const URLRegex = /^(https?:\\/\\/)(www.)?drive.google.com\\/open\\?id=[\\da-zA-Z-_]*&?/gm;\n\n    if ($button.length && URLRegex.test(`${$button.data('url')}`)) {\n      const url = new URL($button.data('url'));\n\n      documentId = url.searchParams.get('id');\n    } else {\n      const links = Array.from(\n        document.querySelectorAll('[role=main] [role=menuitem] [role=presentation] a[href]'),\n      );\n      const link = links.find((l) => URLRegex.test(l.href));\n\n      if (link) {\n        const url = new URL(link.href);\n\n        documentId = url.searchParams.get('id');\n      }\n    }\n\n    return documentId;\n  };\n\n  const getID = (observer) => {\n    let pathArray = this.getPathArray();\n    let fileId = pathArray[pathArray.indexOf('d') + 1];\n\n    if (!fileId) {\n      const iframe = $('iframe#material-iframe:last');\n\n      if (iframe.length && iframe.attr('src')) {\n        pathArray = iframe.attr('src').split('/');\n        fileId = pathArray.includes('d') ? pathArray[pathArray.indexOf('d') + 1] : '';\n      } else {\n        fileId = getPathFromButton();\n      }\n    }\n\n    if (fileId) {\n      observer.next(fileId);\n    } else {\n      observer.error(fileId);\n    }\n  };\n\n  const result = new Observable(getID);\n\n  result.pipe(\n    retryWhen((errors) => errors.pipe(\n      delay(150),\n      take(retryTimes),\n      concatMap(throwError),\n    )),\n  );\n\n  return new Promise((resolve, reject) => {\n    result.subscribe(resolve, reject);\n  });\n};\n\n/**\n * Is classroom instance\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isClassroomInstance = () => {\n  let valid = false;\n  if (this.classroomNode) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is drive instance\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isDriveInstance = () => {\n  let valid = false;\n  if (this.driveNode) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is classes list page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isClassesListPage = () => this.getPathArray().includes('h');\n\n/**\n * Is settings page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isSettingsPage = () => this.getPathArray().includes('s');\n\n/**\n * Is work page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isWorkPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (\n    (pathArray.indexOf('ta') >= 0 || pathArray.indexOf('a') >= 0)\n    && pathArray.indexOf('submissions') < 0\n    && pathArray.indexOf('details') < 0\n    && pathArray.indexOf('file') < 0\n  ) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is calendar page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isCalendarPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('calendar') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is stream page\n * Pattern: /c/[classId]\n * classId: A-Za-z0-9\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isStreamPage = () => /\\/c\\/[\\w]+\\/?$/g.test(getPath()) || this.isClassworkPage();\n\n/**\n * Is classwork page\n * Pattern: /w/[classID]/t/all\n * classId: A-Za-z0-9\n * @memberof module:Path/Service\n * @returns {Boolean}\n */\nexport const isClassworkPage = () => /\\/w\\/[\\w]+\\/t\\/all/g.test(getPath());\n\n/**\n * Is students page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isStudentsPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('r') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is classmates page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isClassmatesPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('r') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is about page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isAboutPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('o') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is student work page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isStudentWorkPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('submissions') >= 0 && pathArray.indexOf('sa') < 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Is instructions page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const isInstructionsPage = () => {\n  const pathArray = this.getPathArray();\n  let valid = false;\n  if (pathArray.indexOf('details') >= 0 && pathArray.indexOf('pa') < 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Was student work page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const wasStudentWorkPage = () => {\n  let valid = false;\n\n  if (!this.oldPath || this.oldPath === getPath()) {\n    return valid;\n  }\n\n  const pathArray = this.oldPath.split('/');\n  if (pathArray.indexOf('submissions') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\n/**\n * Was instructions page\n * @memberof module:Path/Service\n * @return {Boolean}\n */\nexport const wasInstructionsPage = () => {\n  let valid = false;\n\n  if (!this.oldPath) {\n    return valid;\n  }\n\n  const pathArray = this.oldPath.split('/');\n  if (pathArray.indexOf('details') >= 0) {\n    valid = true;\n  }\n  return valid;\n};\n\nexport const isCourseChanged = () => this.oldCourseId && this.oldCourseId !== this.getClassroomId();\n\n/**\n * Set old path\n * @memberof module:Path/Service\n * @param {String} oldPath Selected old path\n */\nexport const setOldPath = (oldPath) => {\n  this.oldPath = oldPath;\n};\n\n/**\n * Set old course id\n * @memberof module:Path/Service\n * @param {Number} oldCourseId Selected old course ID\n */\nexport const setOldCourseId = (oldCourseId) => {\n  this.oldCourseId = oldCourseId;\n};\n","import * as angular from 'angular';\nimport { IModule, IInterceptorOptions } from 'angular';\nimport { HttpInterceptorProvider } from '../providers/httpInterceptor.provider';\n\nexport const Interceptor: (options?: IInterceptorOptions) => any = (options: IInterceptorOptions = {}): <T extends { new(...args: any[]): {} }>(constructor: T) => any => {\n\n  const getOrCreateInterceptorModule: () => IModule = (): IModule => {\n    const moduleName: string = 'app';\n    let module: IModule;\n\n    if (options.module) {\n      try {\n        module = angular.module(`${options.module}`);\n      } catch (err) {\n        module = null;\n      }\n    }\n\n    if (!module) {\n      try {\n        module = angular.module(`${moduleName}`);\n      } catch (err) {\n        console.error(`Error on register interceptor in module ${moduleName}. Module ${moduleName} is not exists.`, err);\n        module = null;\n      }\n    }\n\n    return module;\n  };\n\n  const buildFactoryFunction: (interceptorFactory: { new(...args: any[]): any } ) => any = (interceptorFactory: { new(...args: any[]): any } ): any => {\n    const factory: Function = (...args: any[]): any => {\n      const interceptor: any = new interceptorFactory(...args);\n\n      Object.keys(Object.getPrototypeOf(interceptor)).forEach((key: string): void => {\n        if (interceptor[key] instanceof Function) {\n          interceptor[key] = interceptor[key].bind(interceptor);\n        }\n      });\n\n      return interceptor;\n    };\n\n    return [...interceptorFactory.$inject || [], factory] as any;\n  };\n\n  return <T extends { new(...args: any[]): {} }>(constructor: T): T => {\n    const module: IModule = getOrCreateInterceptorModule();\n\n    if (module) {\n      module.config((HttpInterceptorProvider: HttpInterceptorProvider) => {\n        'ngInject';\n        HttpInterceptorProvider.add(buildFactoryFunction(constructor), options.order);\n      });\n    }\n\n    return constructor;\n  };\n};\n\n","export interface IBreadcrumbGoTo extends Function {\n  (): void;\n  params?: any;\n}\n\nexport interface IBreadcrumb {\n  label: string;\n  action: IBreadcrumbGoTo;\n}\n\nexport class Breadcrumb implements IBreadcrumb {\n  constructor(public label: string, public action: IBreadcrumbGoTo = () => {}) {\n  }\n}\n","export enum AssignmentOrder {\n  ASC_CREATED = 'assignment_created',\n  ASC_LAST_CHANGE = 'assessment_last_changed',\n  ASC_TITLE = 'assignment_title',\n  ASC_TYPE = 'assignment_type_order',\n  DESC_CREATED = '-assignment_created',\n  DESC_LAST_CHANGE = '-assessment_last_changed',\n  DESC_TITLE = '-assignment_title',\n  DESC_TYPE = '-assignment_type_order',\n}\n","export enum GroupedVisibilityDialogType {\n  AssignmentView,\n  AssignmentStudentView,\n  StudentProgressView\n}\n","import { Injectable } from '@angular/core';\nimport { EntityState, EntityStore, StoreConfig } from '@datorama/akita';\nimport { HttpCache } from './http-cache.model';\n\nexport interface HttpCacheState extends EntityState<HttpCache> {}\n\n@Injectable({ providedIn: 'root' })\n@StoreConfig({ name: 'httpCache' })\nexport class HttpCacheStore extends EntityStore<HttpCacheState> {\n\n  constructor() {\n    super();\n  }\n\n}\n\n","import {Injectable} from '@angular/core';\nimport {EntityState, EntityStore, EntityUIStore, runStoreAction, StoreActions, StoreConfig} from '@datorama/akita';\nimport {Assignment, AssignmentsUI, AssignmentUI, createAssignments, createAssignmentsUI, createAssignmentUI} from './assignment.model';\n\nexport interface AssignmentsState extends EntityState<Assignment> {\n  ui: AssignmentsUI;\n}\n\nexport interface AssignmentUIState extends EntityState<AssignmentUI> {\n}\n\n@Injectable({providedIn: 'root'})\n@StoreConfig({name: 'assignments'})\nexport class AssignmentsStore extends EntityStore<AssignmentsState> {\n  ui: EntityUIStore<AssignmentUIState>;\n\n  constructor() {\n    super(createAssignments({ui: createAssignmentsUI()}));\n    this.createUIStore().setInitialEntityState(createAssignmentUI);\n    this.setHasCache(false);\n  }\n\n  forceRefreshEntities() {\n    runStoreAction(this.storeName, StoreActions.UpdateEntities, {\n      payload: {\n        data: {},\n        entityIds: 0,\n      },\n    });\n  }\n}\n","import {EntityState, HashMap, ID, Order} from '@datorama/akita';\nimport {Assessment} from '../assignment/assessments/state';\nimport {AssessmentStatus} from '../../../shared/models/assessment.model';\n\nexport type AssignmentSortFn = (assignment: Assignment) => number;\n\nexport enum AssignmentType {\n  STANDARD_ASSIGNMENT = 'STANDARD_ASSIGNMENT',\n  WITHOUT_ASSESSMENT_CRITERIAS = 'WITHOUT_ASSESSMENT_CRITERIAS',\n  WORK_UNIT = 'WORK_UNIT',\n  EMPTY = '',\n}\n\nexport enum AssignmentState {\n  DELETED = 'DELETED',\n  DRAFT = 'DRAFT',\n  PUBLISHED = 'PUBLISHED',\n}\n\n/**\n * @deprecated\n * Instead of this use AssignmentType\n */\nexport enum AssignmentWorktype {\n  ASSIGNMENT = 'ASSIGNMENT',\n  SHORT_ANSWER_QUESTION = 'SHORT_ANSWER_QUESTION',\n}\n\nexport enum AssignmentSortBy {\n  CREATED = 'CREATED',\n  LAST_CHANGED = 'LAST_CHANGED',\n  TITLE = 'TITLE',\n  TYPE = 'TYPE',\n}\n\nexport interface AssignmentSimple {\n  google_id?: ID;\n  id: ID;\n  state: AssignmentState;\n  title: string;\n  worktype: AssignmentWorktype;\n}\n\nexport interface Assignment extends AssignmentSimple {\n  alternate_link_id: ID;\n  assessment_last_changed: string | number;\n  assessments: (Assessment & ID)[];\n  assignment_created: string | number;\n  assignment_not_assessable: boolean;\n  assignment_type: AssignmentType;\n  assignments_for_topic: (Assignment & ID)[];\n  classroom_name: string;\n  is_topic: boolean;\n}\n\nexport interface AssignmentsResponse {\n  without_topic: Assignment[];\n  topics: Assignment[];\n}\n\nexport interface NormalizeAssignmentsResponse {\n  assignments?: HashMap<Assignment>;\n  assessments?: HashMap<Assessment>;\n  assignmentsForTopic?: HashMap<Assignment>;\n}\n\nexport interface AssignmentMenuItem {\n  label: string;\n}\n\nexport interface AssignmentFilter {\n  state: AssignmentState[];\n  type: AssignmentType[];\n}\n\nexport interface AssignmentFilterItem extends AssignmentMenuItem {\n  state?: AssignmentState;\n  type?: AssignmentType;\n}\n\nexport interface AssignmentSort {\n  by: keyof Assignment;\n  order: Order;\n}\n\nexport interface AssignmentSortItem extends AssignmentSort, AssignmentMenuItem {\n}\n\nexport interface AssignmentUI {\n  isExpanded: boolean;\n}\n\nexport interface AssignmentsUI {\n  filters: AssignmentFilter;\n  sort: AssignmentSort;\n}\n\nexport function createAssignmentUI(params: Partial<AssignmentUI>) {\n  return {\n    isExpanded: false,\n    ...params\n  } as AssignmentUI;\n}\n\nexport function createAssignmentsUI(params?: Partial<AssignmentsUI>) {\n  return {\n    filters: {\n      state: [AssignmentState.PUBLISHED, AssignmentState.DRAFT],\n      type: [\n        AssignmentType.STANDARD_ASSIGNMENT,\n        AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n        AssignmentType.WORK_UNIT,\n        AssignmentType.EMPTY,\n      ]\n    },\n    sort: {\n      by: 'assignment_type',\n      order: Order.ASC,\n    },\n    ...params\n  } as AssignmentsUI;\n}\n\nexport function createAssignments(params?: Partial<EntityState<Assignment>>) {\n  return {\n    ...params,\n  } as EntityState<Assignment>;\n}\n\nexport function createAssignment(params: Partial<Assignment>) {\n  return {\n    ...params\n  } as Assignment;\n}\n","import {Injectable} from '@angular/core';\nimport {EntityState, EntityStore, runStoreAction, StoreActions, StoreConfig} from '@datorama/akita';\nimport {Assessment, AssessmentsUI, createAssessments, createAssessmentsUI} from './assessment.model';\n\nexport interface AssessmentsState extends EntityState<Assessment> {\n  ui: AssessmentsUI;\n}\n\n@Injectable({providedIn: 'root'})\n@StoreConfig({name: 'assessments'})\nexport class AssessmentsStore extends EntityStore<AssessmentsState> {\n  constructor() {\n    super(createAssessments({ui: createAssessmentsUI()}));\n    this.setHasCache(false);\n  }\n\n  forceRefreshEntities() {\n    runStoreAction(this.storeName, StoreActions.UpdateEntities, {\n      payload: {\n        data: {},\n        entityIds: 0,\n      },\n    });\n  }\n\n}\n\n","import {EntityState, ID, Order} from '@datorama/akita';\n\nexport type AssessmentSortFn = (assessment: Assessment) => number;\n\n/**\n * @deprecated\n * Instead of this use AssessmentStatus\n */\nexport enum AssessmentStatusOld {\n  ND = 'ND',\n  NL = 'NL',\n  NV = 'NV',\n  NN = 'NN',\n  AV = 'AV',\n  AN = 'AN',\n  WV = 'WV',\n  WN = 'WN',\n}\n\nexport enum AssessmentStatus {\n  ASSESSING = 'ASSESSING',\n  ASSESSMENT_DONE = 'ASSESSMENT_DONE',\n  NOT_ASSESSED = 'NOT_ASSESSED',\n  WARNING = 'WARNING',\n}\n\nexport interface Assessment {\n  assessment_status: AssessmentStatusOld;\n  fail_warning: boolean;\n  id: ID;\n  status_new: AssessmentStatus;\n  student_id: ID;\n  student_name: string;\n}\n\nexport interface AssessmentSort {\n  by: keyof Assessment;\n  order: Order;\n}\n\nexport interface AssessmentSortItem extends AssessmentSort {\n  label: string;\n}\n\nexport interface AssessmentsUI {\n  sort: AssessmentSort;\n}\n\nexport interface AssessmentStatusUpdateBody {\n  grades_visible?: boolean;\n  objectives_feedback_visible?: boolean;\n  overall_feedback_visible?: boolean;\n  result_visible?: boolean;\n  status?: AssessmentStatus;\n}\n\nexport interface AssessmentVisibilityDialog extends AssessmentStatusUpdateBody {\n  id?: ID;\n  saved?: boolean;\n}\n\nexport interface AssessmentStatusUpdateResponse {\n  id?: ID;\n  fail_warning?: boolean;\n}\n\nexport interface AssessmentVisibility {\n  grades_visible?: boolean;\n  objectives_feedback_visible?: boolean;\n  overall_feedback_visible?: boolean;\n  result_visible?: boolean;\n  status?: AssessmentStatus;\n  student_ids?: ID[];\n}\n\nexport function createAssessment(params: Partial<Assessment>) {\n  return {\n    ...params\n  } as Assessment;\n}\n\nexport function createAssessments(params: Partial<EntityState<Assessment>>) {\n  return {\n    ...params\n  } as Assessment;\n}\n\nexport function createAssessmentsUI(params?: Partial<AssessmentsUI>) {\n  return {\n    sort: {\n      by: 'student_name',\n      order: Order.ASC,\n    },\n    ...params\n  } as AssessmentsUI;\n}\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { routerConfig } from './studentCourseManagement.routing';\n\nexport const StudentCourseManagementModule: IModule = angular\n  .module('app.courseManagement.student', [uiRouter])\n  .config(routerConfig);\n\nexport default StudentCourseManagementModule.name;\n\nexport * from './studentCourseManagement.component';\nexport * from './cmStudentCoursesList/cmStudentCoursesList.component';\nexport * from './cmStudentCourseDetails/cmStudentCourseDetails.component';\nexport * from './cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectives.component';\nexport * from './cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesList/cmStudentObjectivesList.component';\nexport * from './cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesToolbar/cmStudentObjectivesToolbar.component';\n","import {EntityState, HashMap, ID, Order} from '@datorama/akita';\n\nexport type AssignmentSortFn = (assignment: Assignment) => number;\n\n/**\n * @deprecated\n * Instead of this use AssessmentStatus\n */\nexport enum AssessmentStatusOld {\n  ND = 'ND',\n  NL = 'NL',\n  NV = 'NV',\n  NN = 'NN',\n  AV = 'AV',\n  AN = 'AN',\n  WV = 'WV',\n  WN = 'WN',\n}\n\nexport enum AssignmentState {\n  DELETED = 'DELETED',\n  DRAFT = 'DRAFT',\n  PUBLISHED = 'PUBLISHED',\n}\n\nexport enum AssessmentStatus {\n  ASSESSING = 'ASSESSING',\n  ASSESSMENT_DONE = 'ASSESSMENT_DONE',\n  NOT_ASSESSED = 'NOT_ASSESSED',\n  WARNING = 'WARNING',\n}\n\nexport enum AssignmentType {\n  STANDARD_ASSIGNMENT = 'STANDARD_ASSIGNMENT',\n  WITHOUT_ASSESSMENT_CRITERIAS = 'WITHOUT_ASSESSMENT_CRITERIAS',\n  WORK_UNIT = 'WORK_UNIT',\n  EMPTY = '',\n}\n\nexport interface NormalizeAssignmentsResponse {\n  assignments?: HashMap<Assignment>;\n}\n\nexport interface Assignment {\n  assessment_last_changed: string | number;\n  assessments_for_topic: (Assignment & ID)[];\n  assignment_created: string | number;\n  assignment_id: ID;\n  assignment_is_topic: Boolean;\n  assignment_not_assessable: boolean;\n  assignment_title: string;\n  assignment_type: AssignmentType;\n  classroom_name: string;\n  fail_warning: boolean;\n  id: ID;\n  result_last_edit: number | string;\n  result_only: boolean;\n  status: AssessmentStatusOld,\n  status_new: AssessmentStatus;\n}\n\nexport interface AssignmentMenuItem {\n  label: string;\n}\n\nexport interface AssignmentFilter {\n  state: AssignmentState[];\n  type: AssignmentType[];\n}\n\nexport interface AssignmentFilterItem extends AssignmentMenuItem {\n  state?: AssignmentState;\n  type?: AssignmentType;\n}\n\nexport interface AssignmentSort {\n  by: keyof Assignment;\n  order: Order;\n}\n\nexport interface AssignmentSortItem extends AssignmentSort, AssignmentMenuItem {\n}\n\nexport interface AssignmentsUI {\n  filters: AssignmentFilter;\n  sort: AssignmentSort;\n}\n\nexport function createAssignments(params?: Partial<EntityState<Assignment>>) {\n  return {\n    ...params\n  } as EntityState<Assignment>;\n}\n\nexport function createAssignmentsUI(params?: Partial<AssignmentsUI>) {\n  return {\n    filters: {\n      state: [],\n      type: [\n        AssignmentType.STANDARD_ASSIGNMENT,\n        AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n        AssignmentType.WORK_UNIT,\n        AssignmentType.EMPTY,\n      ]\n    },\n    sort: {\n      by: 'assignment_type',\n      order: Order.ASC,\n    },\n    ...params\n  } as AssignmentsUI;\n}\n","import {Injectable} from '@angular/core';\nimport {EntityState, EntityStore, runStoreAction, StoreActions, StoreConfig} from '@datorama/akita';\nimport {Assignment, AssignmentsUI, createAssignments, createAssignmentsUI} from './assignment.model';\n\n\nexport interface AssignmentsState extends EntityState<Assignment> {\n  ui: AssignmentsUI;\n}\n\n@Injectable({providedIn: 'root'})\n@StoreConfig({name: 'assignments'})\nexport class AssignmentsStore extends EntityStore<AssignmentsState> {\n\n  constructor() {\n    super(createAssignments({ui: createAssignmentsUI()}));\n    this.setHasCache(false);\n  }\n\n  forceRefreshEntities() {\n    runStoreAction(this.storeName, StoreActions.UpdateEntities, {\n      payload: {\n        data: {},\n        entityIds: 0,\n      },\n    });\n  }\n}\n\n","import React from 'react';\nimport { CircularProgress } from '@material-ui/core';\nimport { colors } from '../theme';\n\nconst FullscreenProgress = () => (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        alignItems: 'center',\n        justifyContent: 'center',\n        display: 'flex',\n      }}\n    >\n      <CircularProgress size={60}/>\n    </div>\n);\n\nexport default FullscreenProgress;\n","export enum HttpStatusCode {\n  ACCEPTED = 202,\n  BAD_GATEWAY = 502,\n  BAD_REQUEST = 400,\n  CONFLICT = 409,\n  CONTINUE = 100,\n  CREATED = 201,\n  EXPECTATION_FAILED = 417,\n  FAILED_DEPENDENCY = 424,\n  FORBIDDEN = 403,\n  GATEWAY_TIMEOUT = 504,\n  GONE = 410,\n  HTTP_VERSION_NOT_SUPPORTED = 505,\n  IM_A_TEAPOT = 418,\n  INSUFFICIENT_SPACE_ON_RESOURCE = 419,\n  INSUFFICIENT_STORAGE = 507,\n  INTERNAL_SERVER_ERROR = 500,\n  LENGTH_REQUIRED = 411,\n  LOCKED = 423,\n  METHOD_FAILURE = 420,\n  METHOD_NOT_ALLOWED = 405,\n  MOVED_PERMANENTLY = 301,\n  MOVED_TEMPORARILY = 302,\n  MULTI_STATUS = 207,\n  MULTIPLE_CHOICES = 300,\n  NETWORK_AUTHENTICATION_REQUIRED = 511,\n  NO_CONTENT = 204,\n  NON_AUTHORITATIVE_INFORMATION = 203,\n  NOT_ACCEPTABLE = 406,\n  NOT_FOUND = 404,\n  NOT_IMPLEMENTED = 501,\n  NOT_MODIFIED = 304,\n  OK = 200,\n  PARTIAL_CONTENT = 206,\n  PAYMENT_REQUIRED = 402,\n  PERMANENT_REDIRECT = 308,\n  PRECONDITION_FAILED = 412,\n  PRECONDITION_REQUIRED = 428,\n  PROCESSING = 102,\n  PROXY_AUTHENTICATION_REQUIRED = 407,\n  REQUEST_HEADER_FIELDS_TOO_LARGE = 431,\n  REQUEST_TIMEOUT = 408,\n  REQUEST_TOO_LONG = 413,\n  REQUEST_URI_TOO_LONG = 414,\n  REQUESTED_RANGE_NOT_SATISFIABLE = 416,\n  RESET_CONTENT = 205,\n  SEE_OTHER = 303,\n  SERVICE_UNAVAILABLE = 503,\n  SWITCHING_PROTOCOLS = 101,\n  TEMPORARY_REDIRECT = 307,\n  TOO_MANY_REQUESTS = 429,\n  UNAUTHORIZED = 401,\n  UNPROCESSABLE_ENTITY = 422,\n  UNSUPPORTED_MEDIA_TYPE = 415,\n  USE_PROXY = 305,\n}\n","export const environment: Environment = {\n  appName: 'app',\n  production: true,\n  release: RELEASE,\n  urls: {\n    API_EU: 'https://gcp.studybee.io',\n    API_US: 'https://gcp-us.studybee.io',\n    mixPanel: 'https://api-eu.mixpanel.com',\n    raven: 'https://035b3ff92a36483196c0cdcd72a868dc@sentry.10clouds.com/158',\n  },\n};\n","export type IUnsubscribe = () => void;\nexport type IObserverNext<T = any> = (value: T) => void;\n\nexport interface IObserver<T = any> {\n  closed?: boolean;\n  next: IObserverNext;\n}\n\nexport class Observer<T = any> implements IObserver<T> {\n\n  public closed: boolean = false;\n  public next: IObserverNext<T>;\n\n  constructor(next: IObserverNext<T>) {\n    'ngInject';\n    this.next = next;\n  }\n}\n\n\n\n","import { Service } from '../../../utils/decorators/service.decorator';\nimport { ListViewType } from '../../enums/listViewType.enum';\nimport { IListViewMenuItem } from '../../models/listViewMenuItem.model';\nimport SharedServicesModule, { ILocalStorageService, IUserInfoService } from '../services.module';\n\nexport interface IListViewMenuService {\n  getListViewMenu(storageId: string): IListViewMenuItem[];\n  saveListViewMenu(storageId: string, listViewMenu: IListViewMenuItem[]): void;\n}\n\n@Service({\n  module: SharedServicesModule,\n  name: 'ListViewMenuService',\n})\nexport class ListViewMenuService implements IListViewMenuService {\n  private readonly userId: string;\n  private readonly defaultMenuItems: IListViewMenuItem[];\n\n  constructor(private LocalStorageService: ILocalStorageService, UserInfo: IUserInfoService) {\n    'ngInject';\n\n    this.userId = UserInfo.id;\n    this.defaultMenuItems = [\n      {\n        id: ListViewType.TITLE_ONLY,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemTitleOnly',\n        checked: false,\n        eventArgs: { view: ListViewType.TITLE_ONLY },\n      },\n      {\n        id: ListViewType.TITLE_AND_DESCRIPTION,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemTitleDescription',\n        checked: true,\n        eventArgs: { view: ListViewType.TITLE_AND_DESCRIPTION },\n      },\n      {\n        id: ListViewType.DESCRIPTION_ONLY,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemDescriptionOnly',\n        checked: false,\n        eventArgs: { view: ListViewType.DESCRIPTION_ONLY },\n      },\n    ];\n  }\n\n  public getListViewMenu(storageId: string): IListViewMenuItem[] {\n    const key: string = this.buildStorageKey(storageId);\n\n    if (this.LocalStorageService.exists(key)) {\n      return this.validateCheckedState(this.restoreListViewMenu(storageId));\n    }\n\n    return this.copyDefaultListViewMenu();\n  }\n\n  public saveListViewMenu(storageId: string, listViewMenu: IListViewMenuItem[]): void {\n    const key: string = this.buildStorageKey(storageId);\n    const listViewMenuItem: IListViewMenuItem = listViewMenu\n      .find((listViewMenuItem: IListViewMenuItem): boolean => listViewMenuItem.checked);\n\n    this.LocalStorageService.set(key, `${listViewMenuItem.id}`);\n  }\n\n  private copyDefaultListViewMenu(): IListViewMenuItem[] {\n    return this.defaultMenuItems\n      .reduce((acc: IListViewMenuItem[], listViewMenuItem: IListViewMenuItem): IListViewMenuItem[] => {\n        const listViewMenuItemCopy: IListViewMenuItem = Object.assign({}, listViewMenuItem);\n\n        listViewMenuItemCopy.eventArgs = Object.assign({}, listViewMenuItem.eventArgs);\n        acc.push(listViewMenuItemCopy);\n\n        return acc;\n      }, []);\n  }\n\n  private restoreListViewMenu(storageId: string): IListViewMenuItem[] {\n    const key: string = this.buildStorageKey(storageId);\n    const lastSelectedId: string = `${this.LocalStorageService.get(key)}`;\n    const listViewMenuItems: IListViewMenuItem[] = this.copyDefaultListViewMenu();\n\n    listViewMenuItems.forEach((listViewMenuItem: IListViewMenuItem): void => {\n      listViewMenuItem.checked = `${listViewMenuItem.id}` === lastSelectedId;\n    });\n\n    return listViewMenuItems;\n  }\n\n  private validateCheckedState(listViewMenu: IListViewMenuItem[]): IListViewMenuItem[] {\n    const allCheckedItems: IListViewMenuItem[] = listViewMenu\n      .filter((listViewMenuItem: IListViewMenuItem): boolean => listViewMenuItem.checked);\n\n    if (!allCheckedItems.length) {\n      listViewMenu[0].checked = true;\n    } else if (allCheckedItems.length > 1) {\n      listViewMenu[0].checked = true;\n      listViewMenu.slice(1).forEach((listViewMenuItem: IListViewMenuItem): void => {\n        listViewMenuItem.checked = false;\n      });\n    }\n\n    return listViewMenu;\n  }\n\n  private buildStorageKey(storageId: string): string {\n    return `${this.userId}LastSelectedListView${storageId}`;\n  }\n}\n","import { Service } from '../../../utils/decorators/service.decorator';\nimport SharedServicesModule from '../services.module';\n\nexport interface ILocalStorageService {\n  clear(): void;\n  exists(key: string): boolean;\n  getArray<T = any>(key: string): T[];\n  get(key: string): string;\n  remove(key: string): void;\n  setArray(key: string, value: any[]): void;\n  set(key: string, value: string): void;\n}\n\n@Service({\n  name: 'LocalStorageService',\n  module: SharedServicesModule,\n})\nexport class LocalStorageService implements ILocalStorageService {\n\n  public clear(): void {\n    window.localStorage.clear();\n  }\n\n  public exists(key: string): boolean {\n    return window.localStorage.getItem(key) !== null;\n  }\n\n  public getArray<T = any>(key: string): T[] {\n    return JSON.parse(this.get(key));\n  }\n\n  public get(key: string): string {\n    return window.localStorage.getItem(key);\n  }\n\n  public remove(key: string): void {\n    window.localStorage.removeItem(key);\n  }\n\n  public setArray(key: string, value: any[]): void {\n    this.set(key, JSON.stringify(value));\n  }\n\n  public set(key: string, value: string): void {\n    window.localStorage.setItem(key, value);\n  }\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {Store, StoreConfig} from '@datorama/akita';\nimport {User} from './user.model';\nimport {LOCATION_DETECTION, LocationDetection} from '../../models/location-detection.model';\n\nexport interface UserState extends User {\n}\n\nexport function createInitialState(is_teacher: boolean): UserState {\n  return {\n    email: '',\n    first_name: '',\n    first_time_setup: true,\n    gdpr_check: false,\n    google_id: '',\n    id: 0,\n    is_teacher,\n    last_name: '',\n    photo_url: '',\n  };\n}\n\n@Injectable({providedIn: 'root'})\n@StoreConfig({name: 'user'})\nexport class UserStore extends Store<UserState> {\n  constructor(@Inject(LOCATION_DETECTION) protected locationDetection: LocationDetection) {\n    super(createInitialState(locationDetection.is_teacher));\n  }\n}\n","import {InjectionToken} from '@angular/core';\n\nexport interface LocationDetection {\n  existing_user_setup_in_eu: boolean;\n  is_teacher: boolean;\n  us_location_detected: boolean;\n}\n\nexport const LOCATION_DETECTION = new InjectionToken<LocationDetection>('app.location-detection');\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1280\",\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1281\",\n  d: \"M19.77 5.03l1.4 1.4L8.43 19.17l-5.6-5.6 1.4-1.4 4.2 4.2L19.77 5.03m0-2.83L8.43 13.54l-4.2-4.2L0 13.57 8.43 22 24 6.43 19.77 2.2z\",\n  fill: \"current\"\n});\n\nfunction SvgIconBkAssessmentDone(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/f7251ce368efebe31a9a343d04f54bdd-icon_bk_assessment_done.svg\";\nexport { SvgIconBkAssessmentDone as ReactComponent };","import React, {\n  useContext, useEffect, useMemo, useReducer, useRef,\n} from 'react';\nimport debounce from 'lodash.debounce';\nimport Card from './card';\nimport FeedbackInput from './feedbackInput';\nimport { getGradeSystemValues, getLastModified, GlobalContext } from '../utils';\nimport { getTranslation } from '../i18n';\nimport AssessmentSlider from './assessmentSlider';\nimport { fonts } from '../theme';\nimport {PUBLISH_STATES} from \"./publishIcon\";\n\nconst resultText = getTranslation('resultsInput');\nconst overallFeedbackText = getTranslation('overallFeedback');\nconst overallPrivateNoteText = getTranslation('overallPrivateNoteInput');\nconst teacherSelfAssessmentText = getTranslation('teacherSelfAssessmentLabel');\nconst studentSelfAssessmentLabel = getTranslation('studentSelfAssessmentLabel');\n\nconst AssignmentAssessment = (props) => {\n  const {\n    onSave,\n    assignment,\n    assessment,\n    multiEdit = false,\n    filter = [\n      'result',\n      'overallFeedback',\n      'overallNote',\n      'overallGrade',\n      'selfAssessment',\n    ],\n    style,\n  } = props;\n  const context = useContext(GlobalContext);\n  const { Api, isStudent } = context;\n  const ref = useRef({ assessment });\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  useEffect(() => {\n    if (multiEdit) {\n      ref.current.assessment = {\n        ...ref.current.assessment,\n        feedback: null,\n        result: null,\n        result_published: PUBLISH_STATES.dontChange,\n        grade_id: null,\n        grade_published: PUBLISH_STATES.dontChange,\n        feedback_published: PUBLISH_STATES.dontChange,\n        private_note: null,\n        status_new: 'NOT_ASSESSED',\n      };\n      forceUpdate();\n    } else {\n      ref.current.assessment = assessment;\n      forceUpdate();\n    }\n  }, [multiEdit]);\n\n  useEffect(() => {\n    ref.current.assessment = assessment;\n    forceUpdate();\n  }, [assessment]);\n\n  const debouncedUpdateAssignmentAssessment = useMemo(() => debounce(async (id, data, multiEdit, onSave, Api) => {\n    if (multiEdit) {\n      if (onSave) {\n        const {\n          // eslint-disable-next-line camelcase\n          feedback, result, private_note, grade_id, feedback_published, result_published, grade_published,\n        } = data[0];\n        onSave({\n          feedback, result, private_note, grade_id, feedback_published, result_published, grade_published,\n        });\n      }\n      return;\n    }\n    if (onSave) {\n      onSave(data);\n    }\n    await Api.updateAssignmentAssessment(data);\n  }, 1000),[assessment?.id]);\n\n  const saveGrade = async (grade) => {\n    const { assessment: ass } = ref.current;\n    ass.grade_id = grade?.id;\n    ass.grade_name = grade?.name;\n    ass.grade_color = grade?.color;\n    ass.grade_last_edit = Date.now();\n    ref.current.assessment = ass;\n    await debouncedUpdateAssignmentAssessment(assignment.id, [ass],multiEdit, onSave, Api);\n  };\n\n  const publishGrade = async (publish) => {\n    const { assessment: ass } = ref.current;\n    ass.grade_published = publish;\n    ref.current.assessment = ass;\n    await debouncedUpdateAssignmentAssessment(assignment.id, [ass],multiEdit, onSave, Api);\n  };\n\n  const changeAssignmentText = async (text, name) => {\n    const { assessment: ass } = ref.current;\n    switch (name) {\n      case 'result':\n        ass.result = text;\n        ass.result_last_edit = Date.now();\n        break;\n      case 'feedback_to_student_on_overall_assignment':\n        ass.feedback = text;\n        ass.feedback_last_edit = Date.now();\n        break;\n      case 'overall_private_note':\n        ass.private_note = text;\n        ass.private_note_last_edit = Date.now();\n        break;\n      case 'overall_self_assessment':\n        ass.self_assessment = text;\n        ass.self_assessment_last_edit = Date.now();\n        break;\n      default:\n        break;\n    }\n    ref.current.assessment = ass;\n    await debouncedUpdateAssignmentAssessment(assignment.id, [ass],multiEdit, onSave, Api);\n  };\n\n  const publishAssignmentValue = async (name, publish) => {\n    const { assessment: ass } = ref.current;\n    switch (name) {\n      case 'result':\n        ass.result_published = publish;\n        break;\n    case 'feedback_to_student_on_overall_assignment':\n        ass.feedback_published = publish;\n        break;\n      default:\n    }\n\n    ref.current.assessment = ass;\n    await debouncedUpdateAssignmentAssessment(assignment.id, [ass],multiEdit, onSave, Api);\n  };\n  const showResult = filter.find((f) => f === 'result');\n  const showFeedback = filter.find((f) => f === 'overallFeedback');\n  const showOverallNote = filter.find((f) => f === 'overallNote');\n  const showGrade = filter.find((f) => f === 'overallGrade');\n  const showSelfAssessment = filter.find((f) => f === 'selfAssessment');\n  if (!showFeedback && !showOverallNote && !showResult) {\n    return null;\n  }\n  const { gradeSystem } = assignment;\n  const gradeSystemValues = getGradeSystemValues(gradeSystem);\n\n  let defaultIndex = gradeSystemValues?.findIndex(\n    (v) => v.id === ref.current.assessment?.grade_id,\n  );\n  defaultIndex = defaultIndex < 0 ? 0 : defaultIndex;\n\n  return (\n    <>\n      <Card\n        style={{\n          margin: '10px 0 10px 0',\n          paddingTop: '10px',\n          paddingBottom: '20px',\n          ...style,\n        }}\n      >\n        {showFeedback && (\n          <FeedbackInput\n            id={'feedback_to_student_on_overall_assignment'}\n            text={ref.current.assessment?.feedback}\n            placeholder={overallFeedbackText}\n            onTextChange={changeAssignmentText}\n            published={ref.current.assessment?.feedback_published}\n            helperText={getLastModified(ref.current.assessment?.feedback_last_edit) }\n            onPublish={publishAssignmentValue}\n            readonly={isStudent}\n            hideEye={isStudent}\n            warningText={multiEdit?getTranslation('warning_overwrite_text'):''}\n            multiEdit={multiEdit}\n          />\n        )}\n        {showSelfAssessment && !multiEdit && (\n          <FeedbackInput\n            id={'overall_self_assessment'}\n            text={ref.current.assessment?.self_assessment}\n            placeholder={isStudent ? studentSelfAssessmentLabel : teacherSelfAssessmentText}\n            helperText={getLastModified(ref.current.assessment?.self_assessment_last_edit)}\n            hideEye\n            readonly={!isStudent}\n            onTextChange={changeAssignmentText}\n          />\n        )}\n        {showResult && (\n          <FeedbackInput\n            id={'result'}\n            placeholder={resultText}\n            onTextChange={changeAssignmentText}\n            text={ref.current.assessment?.result}\n            published={ref.current.assessment?.result_published}\n            onPublish={publishAssignmentValue}\n            helperText={getLastModified(ref.current.assessment?.result_last_edit) }\n            readonly={isStudent}\n            hideEye={isStudent}\n            multiEdit={multiEdit}\n            warningText={multiEdit?getTranslation('warning_overwrite_text'):''}\n          />\n        )}\n        {showGrade && gradeSystemValues.length > 1 && (\n          <>\n            <span\n              style={{\n                ...fonts.SMALL,\n                marginBottom: '10px',\n                marginTop: '10px',\n              }}\n            >\n              {getTranslation('overallAssessment')}\n            </span>\n            <AssessmentSlider\n              id={ref.current.assessment.id}\n              published={ref.current.assessment?.grade_published}\n              helpText={getLastModified(ref.current.assessment?.grade_last_edit)}\n              values={gradeSystemValues}\n              defaultIndex={defaultIndex}\n              onChangeCommit={(index) => {\n                saveGrade(\n                  gradeSystem.grades.find(\n                    (g) => g.id === gradeSystemValues[index].id,\n                  ),\n                );\n              }}\n              onPublish={(value) => publishGrade(value)}\n              showPublish={!isStudent}\n              disabled={isStudent}\n              multiEdit={multiEdit}\n            />\n          </>\n        )}\n        {(showOverallNote && !isStudent) && (\n          <FeedbackInput\n            id={'overall_private_note'}\n            text={ref.current.assessment?.private_note}\n            placeholder={overallPrivateNoteText}\n            helperText={ getLastModified(ref.current.assessment?.private_note_last_edit) }\n            hideEye\n            onTextChange={changeAssignmentText}\n            readonly={isStudent}\n            warningText={multiEdit?getTranslation('warning_overwrite_text'):''}\n          />\n        )}\n      </Card>\n    </>\n  );\n};\nexport default AssignmentAssessment;\n","export default __webpack_public_path__ + \"images/ed58b4673ca473a499080c1b5a992621-sb-ico-note.png\";","import {fonts} from \"../theme\";\nimport {ButtonBase} from \"@material-ui/core\";\nimport React from \"react\";\n\nconst style = {\n  button: {\n    display: 'flex',\n    padding:'10px 10px 10px 10px',\n    minWidth: '80px',\n    borderRadius: '5px',\n    backgroundColor: '#00000015',\n  }\n};\n\nconst SecondaryButton = ({title, onClick}) => {\n  return (\n    <ButtonBase\n      onClick={onClick}\n      style={style.button}>\n      <span style={{...fonts.MEDIUM, fontWeight: '500'}}>{title}</span>\n    </ButtonBase>\n  );\n};\nexport default SecondaryButton;","import {ButtonBase} from \"@material-ui/core\";\nimport React from \"react\";\nimport {fonts} from \"../theme\";\nimport colors from \"../theme/colors\";\n\nconst style = {\n  button: {\n    display: 'flex',\n    height: '35x',\n    padding: '10px 10px 10px 10px',\n    minWidth: '80px',\n    borderRadius: '5px',\n  }\n};\n\nconst PrimaryButton = ({title, onClick, inverted=false}) => {\n  return (\n    <ButtonBase\n      onClick={onClick}\n      style={{...style.button, marginLeft: '10px', marginRight: '10px', backgroundColor: inverted?colors.primary:colors.black}}>\n      <span style={{...fonts.MEDIUM, fontWeight: '500', color: inverted?colors.textColor:colors.primary}}>{title}</span>\n    </ButtonBase>\n  );\n};\nexport default PrimaryButton;","import React, { useEffect, useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles';\nimport colors from '../theme/colors';\nimport fonts from '../theme/fonts';\n\nconst CssTextField = withStyles({\n  root: {\n    '& .MuiInputBase-input': {\n      ...fonts.LARGE,\n      padding: '2px',\n    },\n    '& .MuiFormLabel-root': {\n      ...fonts.SMALL,\n    },\n    '& label.Mui-focused': {\n      color: colors.green,\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: colors.green,\n    },\n  },\n})(TextField);\n\nconst GradeCounter = (props) => {\n  const {\n    name, count: initialCount, id, max, onChange, gradeId, readonly,\n  } = props;\n  const [count, setCount] = useState(initialCount);\n\n  useEffect(() => {\n    setCount(initialCount);\n  }, [initialCount]);\n\n  return (\n    <div style={{ display: 'flex', alignItems: 'center', marginRight: '8px' }}>\n      <span style={{ ...fonts.LARGE, color: colors.green, marginRight: '6px' }}>{name}</span>\n      <CssTextField disabled={readonly} type={'number'} style={{ width: '40px' }} value={count} onChange={({ target }) => {\n        let { value } = target;\n        if (value < 0) {\n          value = 0;\n        } else {\n          value = value >= max ? max : value;\n        }\n        setCount(value);\n        if (onChange) {\n          onChange({ count: parseInt(value, 10), id, gradeId });\n        }\n      }}/>\n      <span style={{ ...fonts.LARGE }}>/ {max}</span>\n\n    </div>\n  );\n};\n\nexport default GradeCounter;\n","import React, {memo, useContext, useEffect, useMemo, useRef, useState} from 'react';\nimport debounce from 'lodash.debounce';\nimport clonedeep from 'lodash.clonedeep';\nimport Header from './header';\nimport Card from './card';\nimport {colors, fonts} from '../theme';\nimport AssessmentSlider from './assessmentSlider';\nimport FeedbackInput from './feedbackInput';\nimport {getGradeSystemValues, getLastModified, GlobalContext} from '../utils';\nimport {getTranslation} from '../i18n';\nimport GradeCounter from './gradeCounter';\nimport PublishIcon from './publishIcon';\n\nconst objectiveFeedbackInputText = getTranslation('objectiveFeedbackInput');\nconst objectivePrivateNoteText = getTranslation('objectivePrivateNoteInput');\nconst teacherSelfAssessmentText = getTranslation('teacherSelfAssessmentLabel');\n\nconst ObjectivesList = (props) => {\n  const context = useContext(GlobalContext);\n  const {\n    assignmentAssessmentId,\n    courseDefinitions,\n    objectiveAssessments: initialObjectiveAssessments,\n    gradeSystem,\n    onSave,\n    failWarning,\n    filter = ['grade', 'feedback', 'note', 'studentAssessment'],\n    textFilter = '',\n    isTopic,\n    multiEdit = false,\n  } = props;\n\n  const {Api, showObjectiveDetails, isStudent} = context;\n  const objectivesToSave = useRef({});\n  const [objectiveAssessments, setObjectiveAssessments] = useState(initialObjectiveAssessments);\n\n  useEffect(() => {\n    if (multiEdit) {\n      setObjectiveAssessments(objectiveAssessments.map(a => ({\n        ...a,\n        feedback_published: false,\n        feedback_last_edit: null,\n        counter_grade_0: 0,\n        counter_grade_1: 0,\n        counter_grade_2: 0,\n        counter_grade_3: 0,\n        counter_grade_4: 0,\n        counter_grade_5: 0,\n        counter_grade_6: 0,\n        counter_grade_7: 0,\n        counter_grade_8: 0,\n        counter_grade_9: 0,\n        feedback: null,\n        grade: null,\n        grade_id: null,\n        grade_last_edit: null,\n        grade_published: false,\n        last_edit_for_student: null,\n        private_note: null,\n        private_note_last_edit: null,\n        self_assessment: null,\n        self_assessment_last_edit: null,\n      })));\n    } else {\n      objectivesToSave.current = {};\n      setObjectiveAssessments(initialObjectiveAssessments);\n    }\n  }, [multiEdit]);\n\n  useEffect(() => {\n    if (!multiEdit) {\n      setObjectiveAssessments(initialObjectiveAssessments);\n    }\n  }, [assignmentAssessmentId, initialObjectiveAssessments]);\n\n  const debouncedUpdateObjectiveAssessment = useMemo(() => debounce(async (multiEdit, onSave, objectivesToSave, Api) => {\n    if (multiEdit) {\n      onSave(objectivesToSave.current);\n      return;\n    }\n    const objectives = clonedeep(objectivesToSave.current);\n    objectivesToSave.current = {};\n    if (onSave) {\n      onSave();\n    }\n    await Api.updateObjectiveAssessmentsGql(Object.keys(objectives).map((key) => objectives[key]));\n  }, 1000), [assignmentAssessmentId]);\n\n  if (!objectiveAssessments?.length) {\n    return null;\n  }\n\n  const saveObjective = (obj) => {\n    objectivesToSave.current[obj.id] = obj;\n    debouncedUpdateObjectiveAssessment(multiEdit, onSave, objectivesToSave, Api);\n  };\n\n  const changeObjectiveText = async (text, name, {id}) => {\n    const ass = objectiveAssessments.find((a) => a.id === id);\n    switch (name) {\n      case 'feedback_to_student_on_objective':\n        ass.feedback = text;\n        ass.feedback_last_edit = Date.now();\n        break;\n      case 'private_note':\n        ass.private_note = text;\n        ass.private_note_last_edit = Date.now();\n        break;\n      case 'student_self_assessment_on_objective':\n        ass.self_asessment = text;\n        break;\n      default:\n        break;\n    }\n    await saveObjective(ass);\n  };\n\n  const changeObjectiveGrade = async (grade, {id}) => {\n    const ass = objectiveAssessments.find((a) => a.id === id);\n    ass.grade_id = grade?.id;\n    ass.grade_name = grade?.name;\n    ass.grade_last_edit = Date.now();\n    ass.grade = grade;\n    await saveObjective(ass);\n  };\n\n  const changeObjectiveGradeCount = async (data) => {\n    const {count, id, gradeId} = data;\n    const ass = objectiveAssessments.find((a) => a.id === id);\n    ass[`counter_grade_${gradeId}`] = count;\n    await saveObjective(ass);\n  };\n\n  const publishObjectiveValue = async (name, publish, {id}) => {\n    const ass = objectiveAssessments.find((a) => a.id === id);\n    switch (name) {\n      case 'grade':\n        ass.grade_published = publish;\n        break;\n      case 'feedback_to_student_on_objective':\n        ass.feedback_published = publish;\n        break;\n      default:\n        break;\n    }\n    await saveObjective(ass);\n  };\n\n  const gradeSystemValues = getGradeSystemValues(gradeSystem);\n\n  const showGrade = !!filter.find((f) => f === 'grade');\n  const showFeedback = !!filter.find((f) => f === 'feedback');\n  const showNote = !!filter.find((f) => f === 'note');\n  const showSelfAssessment = false; //filter.find((f) => f === 'studentAssessment');\n\n  if (!showGrade && !showFeedback && !showNote && !showSelfAssessment) {\n    return null;\n  }\n\n  return (\n    <>\n      {courseDefinitions?.map((courseDefinition) => {\n        const {objectives} = courseDefinition;\n        if (!objectives || objectives.length === 0) {\n          return null;\n        }\n\n        const assessments = objectives.filter((o) => objectiveAssessments.find((oa) => oa.objective_id === o.id));\n        if (!assessments.length) {\n          return null;\n        }\n        const filteredObjectives = assessments.filter((o) => o.name.toLowerCase().includes(textFilter));\n        if (filteredObjectives.length === 0) {\n          return (\n            <div>\n              <Header\n                style={{\n                  backgroundColor: isTopic ? colors.topic : colors.green,\n                }}\n                title={courseDefinition.name}\n              />\n              <span style={{...fonts.MEDIUM, marginLeft: '10px'}}>\n                {getTranslation('objectiveFilterNoMatch')}\n              </span>\n            </div>\n          );\n        }\n        return (\n          <div key={courseDefinition.id}>\n            <Header\n              style={{backgroundColor: isTopic ? colors.topic : colors.green}}\n              title={courseDefinition.name}\n            />\n            {filteredObjectives.sort((a, b) => (a.name.localeCompare(b.name, undefined, {\n              numeric: true,\n              sensitivty: 'base'\n            }))).map((objective) => {\n              const assessment = objectiveAssessments.find(\n                (a) => a.objective === objective.id\n                  || a.objective_id === objective.id,\n              );\n              const defaultIndex = gradeSystemValues.findIndex(\n                (v) => v.id === assessment?.grade_id,\n              );\n\n              return (\n                <Card style={{margin: '10px 0 10px 0'}} key={objective.id}>\n                  <span\n                    onClick={() => showObjectiveDetails(objective.id)}\n                    style={{\n                      ...fonts.MEDIUM,\n                      cursor: 'pointer',\n                      marginBottom: '10px',\n                    }}\n                  >\n                    {objective.name}\n                  </span>\n                  <div\n                    style={{...fonts.MEDIUM}}\n                    dangerouslySetInnerHTML={{\n                      __html: objective.description,\n                    }}\n                  />\n                  {showGrade && !gradeSystem?.is_counter && (\n                    <AssessmentSlider\n                      disabled={isStudent}\n                      showPublish={!isStudent}\n                      id={objective.id}\n                      published={assessment?.grade_published}\n                      helpText={getLastModified(assessment?.grade_last_edit)}\n                      values={gradeSystemValues}\n                      defaultIndex={defaultIndex < 0 ? 0 : defaultIndex}\n                      onChangeCommit={(index) => {\n                        changeObjectiveGrade(\n                          gradeSystem.grades.find(\n                            (g) => g.id === gradeSystemValues[index].id,\n                          ),\n                          assessment,\n                        );\n                      }}\n                      onPublish={(value) => publishObjectiveValue('grade', value, assessment)\n                      }\n                      multiEdit={multiEdit}\n                    />\n                  )}\n                  {showGrade && gradeSystem?.is_counter && (\n                    <div\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        marginBottom: '10px',\n                      }}\n                    >\n                      <div\n                        style={{\n                          display: 'flex',\n                          flexWrap: 'wrap',\n                          justifyContent: 'space-between',\n                        }}\n                      >\n                        {gradeSystem.grades.map((g, i) => (\n                          <GradeCounter\n                            readonly={isStudent}\n                            id={assessment?.id}\n                            gradeId={i}\n                            key={g.name}\n                            name={g.name}\n                            count={assessment[`counter_grade_${i}`] || 0}\n                            max={assessment[`max_counter_grade_${i}`]}\n                            onChange={changeObjectiveGradeCount}\n                          />\n                        ))}\n                      </div>\n                      {!isStudent && (\n                        <PublishIcon\n                          multiEdit={multiEdit}\n                          published={assessment?.grade_published}\n                          onClick={(value) => publishObjectiveValue('grade', value, assessment)\n                          }\n                        />\n                      )}\n                    </div>\n                  )}\n                  {showFeedback && <FeedbackInput\n                    id={'feedback_to_student_on_objective'}\n                    assessment={assessment}\n                    published={assessment?.feedback_published}\n                    placeholder={objectiveFeedbackInputText}\n                    onTextChange={changeObjectiveText}\n                    helperText={getLastModified(assessment?.feedback_last_edit)}\n                    text={assessment?.feedback}\n                    onPublish={publishObjectiveValue}\n                    hideEye={isStudent}\n                    readonly={isStudent}\n                    warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n                    multiEdit={multiEdit}\n                  />}\n                  {showNote && !isStudent && (\n                    <FeedbackInput\n                      id={'private_note'}\n                      assessment={assessment}\n                      placeholder={objectivePrivateNoteText}\n                      text={assessment?.private_note}\n                      helperText={getLastModified(\n                        assessment?.private_note_last_edit,\n                      )}\n                      onTextChange={changeObjectiveText}\n                      hideEye\n                      warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n                      multiEdit={multiEdit}\n                    />\n                  )}\n                  {showSelfAssessment && (\n                    <FeedbackInput\n                      style={{marginBottom: '10px'}}\n                      id={'student_self_assessment_on_objective'}\n                      placeholder={teacherSelfAssessmentText}\n                      onTextChange={changeObjectiveText}\n                      text={assessment?.self_assessment}\n                      hideEye\n                      readonly\n                    />\n                  )}\n                </Card>\n              );\n            })}\n          </div>\n        );\n      })}\n    </>\n  );\n};\n\nexport default memo(ObjectivesList);\n","import { StateParams, StateService } from '@uirouter/core';\nimport angular, { IRootElementService, ITimeoutService, IWindowService } from 'angular';\nimport $ from 'jquery';\nimport { IdService } from '../../../shared/services/helpers/id.service';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport CommonComponentsModule from '../components.module';\nimport { IBreadcrumb, IBreadcrumbGoTo } from '../../../shared/models/breadcrumb.model';\nimport cloneDeep from 'lodash.clonedeep';\n\nexport interface IBreadcrumbsService {\n  addOnResizeHandler(handler: Function & { id?: string }): Function;\n  createGoToAction($stateParams?: StateParams, stateName?: string): IBreadcrumbGoTo;\n  createHandler($element: IRootElementService): Function;\n  hasEnoughBreadcrumbs(breadcrumbs?: IBreadcrumb[] | { length: number }): boolean;\n  removeBreadcrumbsWithoutLabel(breadcrumbs?: IBreadcrumb[]): IBreadcrumb[];\n}\n\n@Service({\n  module: CommonComponentsModule,\n  name: 'BreadcrumbsService',\n})\nexport class BreadcrumbsService implements IBreadcrumbsService {\n  private onResizeHandlers: Function[];\n  private debounce: number;\n\n  constructor(private $state: StateService, private $stateParams: StateParams, private $timeout: ITimeoutService, private $window: IWindowService) {\n    'ngInject';\n\n    this.onResizeHandlers = [];\n    this.debounce = 0;\n    angular.element($window).on('resize', () => this.onResize());\n  }\n\n  public addOnResizeHandler(handler: Function & { id?: string }): Function {\n    handler.id = IdService.getId();\n    this.onResizeHandlers.push(handler);\n\n    return this.createUnregisterFunction(handler.id);\n  }\n\n  public createGoToAction($stateParams: StateParams = this.$stateParams, stateName: string = this.$state.current.name): IBreadcrumbGoTo {\n    const params = cloneDeep($stateParams);\n    const goToAction: IBreadcrumbGoTo = () => {\n      this.$state.go(`${stateName}`, params);\n    };\n\n    goToAction.params = params;\n\n    return goToAction;\n  }\n\n  public createHandler($element: IRootElementService): Function {\n    return () => {\n      window.requestAnimationFrame(() => {\n        const element: HTMLElement = $element[0];\n        const $breadcrumbs: JQuery = $element.find('.breadcrumb');\n        const $textContainers: JQuery = $breadcrumbs.find('span');\n\n        if (this.hasEnoughBreadcrumbs($breadcrumbs)) {\n          const availableWidth: number = element.clientWidth -\n            (($breadcrumbs.length - 1) * $breadcrumbs.find('.breadcrumb-chevron')[0].clientWidth);\n          let totalWidth: number = 0;\n\n          $textContainers.each((index: number, span: HTMLSpanElement) => {\n            totalWidth += span.scrollWidth;\n          });\n\n          if (totalWidth >= availableWidth) {\n            const maxWidthPerBreadcrumb: number = availableWidth / $breadcrumbs.length;\n\n            let remainingOffset: number = 0;\n            const oversizeContainers: JQuery[] = [];\n\n            $textContainers.each((index: number, item: HTMLElement) => {\n              const $item: JQuery = $(item);\n\n              if (item.scrollWidth >= maxWidthPerBreadcrumb) {\n                $item.animate({ 'max-width': maxWidthPerBreadcrumb }, 0);\n                oversizeContainers.push($item);\n              } else {\n                remainingOffset += (maxWidthPerBreadcrumb - item.scrollWidth);\n                $item.removeAttr('style');\n              }\n            });\n\n            const extraSize: number = (remainingOffset / oversizeContainers.length) - 1;\n            oversizeContainers.forEach(($item: JQuery) => {\n              $item.animate({ 'max-width': `+=${extraSize}` }, 0);\n            });\n          } else {\n            $textContainers.removeAttr('style');\n          }\n        }\n      });\n    };\n  }\n\n  public hasEnoughBreadcrumbs(breadcrumbs: IBreadcrumb[] | { length: number } = []): boolean {\n    return breadcrumbs.length > 1;\n  }\n\n  public removeBreadcrumbsWithoutLabel(breadcrumbs: IBreadcrumb[] = []): IBreadcrumb[] {\n    return breadcrumbs.filter((breadcrumb: IBreadcrumb) => breadcrumb.label);\n  }\n\n  private onResize(): void {\n    this.onResizeHandlers.forEach(handler => handler());\n  }\n\n  private createUnregisterFunction(handlerId: string): Function {\n    return () => {\n      this.onResizeHandlers = this.onResizeHandlers\n        .filter((handler: Function & { id?: string }): any => handler.id !== handlerId);\n    };\n  }\n}\n","var map = {\n\t\"./en/messages.json\": 161,\n\t\"./en_US/messages.json\": 258,\n\t\"./fi/messages.json\": 259,\n\t\"./nl/messages.json\": 260,\n\t\"./sv/messages.json\": 261\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 257;","export enum AssignmentState {\n  DRAFT = 'DRAFT',\n  PUBLISHED = 'PUBLISHED',\n}\n","export enum IconsPath {\n  SVG_WITHOUT_ASSESSMENT_CRITERIA = 'images/without_assessment_criteria_icon.svg',\n  SVG_WORK_UNIT = 'images/work_unit_icon.svg',\n  SVG_EXPAND_ALL = 'images/expandAll.svg',\n  SVG_COLLAPSE_ALL = 'images/collapseAll.svg',\n  SVG_ASSESSMENT_ASSESSING = 'images/icon_bk_assessing.svg',\n  SVG_ASSESSMENT_DONE = 'images/icon_bk_assessment_done.svg',\n  SVG_ASSESSMENT_NOT_ASSESSED = 'images/icon_bk_not_assessed.svg',\n  SVG_WARNING = 'images/icon_warning.svg',\n}\n","import {Injectable} from '@angular/core';\nimport {EntityUIQuery, QueryEntity} from '@datorama/akita';\nimport {AssignmentsState, AssignmentsStore} from './assignments.store';\nimport {map} from 'rxjs/operators';\nimport {Assignment, AssignmentSortFn, AssignmentUI} from './assignment.model';\nimport sort from 'fast-sort';\n\n@Injectable({providedIn: 'root'})\nexport class AssignmentsQuery extends QueryEntity<AssignmentsState> {\n  ui: EntityUIQuery<AssignmentUI>;\n\n  constructor(protected store: AssignmentsStore) {\n    super(store);\n    this.createUIQuery();\n  }\n\n  selectFilteredAndSorted() {\n    return this.selectAll({filterBy: assignment => this.filterBy(assignment)}).pipe(\n      map(assignments => this.sortBy(assignments)),\n    );\n  }\n\n  protected filterBy(assignment: Assignment): boolean {\n    const stateUI = this.getValue().ui;\n    return stateUI.filters.type.includes(assignment.assignment_type) &&\n      stateUI.filters.state.includes(assignment.state);\n  }\n\n  protected sortBy(assignments: Assignment[]): Assignment[] {\n    const stateUI = this.getValue().ui;\n    const sortMethod = this.getSortMethod(stateUI.sort.by);\n\n    return sort([...assignments])[stateUI.sort.order](sortMethod);\n  }\n\n  protected getSortMethod(by: keyof Assignment): keyof Assignment | AssignmentSortFn {\n    switch (by) {\n      default:\n        return by;\n    }\n  }\n\n}\n","import {IPromise} from 'angular';\nimport {APICurriculumObject} from '../../../../common/types/api_types';\nimport {BehaviourSubject, IBehaviourSubject} from '../../../../shared/services/helpers/behaviourSubject.service';\nimport {Service} from '../../../../utils/decorators/service.decorator';\nimport CourseManagementModule from '../../courseManagement.module';\n\nexport interface ICurriculumsService {\n  curriculums: APICurriculumObject[];\n  curriculums$: IBehaviourSubject<APICurriculumObject[]>;\n  updateCurriculums(): IPromise<APICurriculumObject[]>;\n}\n\n@Service({\n  module: CourseManagementModule,\n  name: 'CurriculumsService',\n})\nexport class CurriculumsService implements ICurriculumsService {\n\n  public curriculums: APICurriculumObject[];\n  public curriculums$: IBehaviourSubject<APICurriculumObject[]>;\n\n  constructor(private FetchData: any, private Path: any) {\n    'ngInject';\n\n    this.curriculums = [];\n    this.curriculums$ = new BehaviourSubject(this.curriculums);\n  }\n\n  public updateCurriculums(): IPromise<APICurriculumObject[]> {\n    return this.FetchData.v3.getCourseDefinitions(this.Path.getClassroomId())\n      .then((curriculums: APICurriculumObject[]): APICurriculumObject[] => {\n        this.curriculums = curriculums;\n        this.curriculums$.next(this.curriculums);\n\n        return this.curriculums;\n      });\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { EditCurriculumDialogCtrl } from '../../common/dialogs/edit-curriculum-dialog.controller';\nimport { SearchCurriculumDialogCtrl } from '../../common/dialogs/search-curriculum-dialog.controller';\nimport { Events } from '../../../../common/global-events.ts';\nimport { CourseType } from '../../../../utils/enums/courseType';\n\nconst dialogParentElement = angular.element(document.body);\n\nconst showConfirmationDialog = ($mdDialog, locals) => $mdDialog.show({\n  bindToController: true,\n  controller: class ConfirmationDialog {},\n  controllerAs: '$ctrl',\n  locals: { $mdDialog, ...locals },\n  multiple: true,\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/confirmation.html',\n});\n\n\n/**\n *\n * @param $mdDialog\n * @param FetchData\n * @param Path\n * @param educationalSystemId\n * @param educationalStageId\n * @param isLocked\n */\nexport const showSearchCurriculumDialog = (\n  $mdDialog, FetchData, Path, educationalSystemId, isLocked = false,\n) => $mdDialog\n  .show({\n    parent: dialogParentElement,\n    templateUrl: 'components/courseManagement/common/dialogs/search-curriculum.html',\n    controller: SearchCurriculumDialogCtrl,\n    resolve: {\n      educationalSystems: () => FetchData.v3.getEducationalSystems(),\n      educationalSystemId: () => educationalSystemId,\n      isLocked: () => isLocked,\n    },\n    controllerAs: '$ctrl',\n  });\n\nexport const showCarriculumLibraryDialog = ($q, $mdDialog, FetchData) =>\n  $mdDialog.show({\n    parent: dialogParentElement,\n    templateUrl: 'components/courseManagement/common/dialogs/curriculum-library.html',\n    controller: class {\n      constructor() {\n        'ngInject';\n\n        this.$mdDialog = $mdDialog;\n      }\n    },\n    controllerAs: '$ctrl',\n    bindToController: true,\n    multiple: true,\n    resolve: {\n      curriculums: () => $q.all({\n        private: FetchData.v3.getPrivateCurriculums(),\n        public: FetchData.v3.getPublicCurriculums(),\n        shared: FetchData.v3.getGlobalCurriculums(),\n      }),\n    },\n  });\n\nexport const showMakeCurriculumPublicDialog = ($mdDialog, curriculumTitle) => {\n  const locals = {\n    curriculumTitle,\n    translations: {\n      header: 'makeCurriculumPublicHeading',\n      content1: 'makeCurriculumPublicInfoPart1',\n      content2: 'makeCurriculumPublicInfoPart2',\n      cancelButton: 'cancelBtn',\n      confirmButton: 'makePublicBtn',\n    },\n  };\n\n  return showConfirmationDialog($mdDialog, locals);\n};\n\nexport const showMakeCurriculumPublicToAllStudyBeeUsersDialog = ($mdDialog, curriculumTitle) => {\n  @test()\n  const locals = {\n    curriculumTitle,\n    translations: {\n      header: 'makeCurriculumPublicToAllHeading',\n      content1: 'makeCurriculumPublicToAllInfoPart1',\n      content2: 'makeCurriculumPublicToAllInfoPart2',\n      cancelButton: 'cancelBtn',\n      confirmButton: 'makePublicBtn',\n    },\n  };\n\n  return showConfirmationDialog($mdDialog, locals);\n};\n\nexport const showMakeCurriculumPrivateDialog = ($mdDialog, curriculumTitle, translations = {}) => {\n  const locals = {\n    curriculumTitle,\n    translations: {\n      header: 'makeCurriculumPrivateHeading',\n      content1: 'makeCurriculumPrivateInfoPart1',\n      content2: 'makeCurriculumPrivateInfoPart2',\n      cancelButton: 'cancelBtn',\n      confirmButton: 'makePrivateBtn',\n      ...translations\n    },\n  };\n\n  return showConfirmationDialog($mdDialog, locals);\n};\n\nexport const showEditCurriculumDialog = (\n  $mdDialog, FetchData, Path, course,\n  educationalSystemId, educationalStageId,\n  isLocked = false,\n) => $mdDialog.show({\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/edit-curriculum.html',\n  multiple: true,\n  controller: EditCurriculumDialogCtrl,\n  resolve: {\n    course: () => course,\n    educationalSystemId: () => educationalSystemId,\n    educationalStageId: () => educationalStageId,\n    educationalSystems: () => FetchData.v3.getEducationalSystems(),\n    isLocked: () => isLocked,\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showRemoveCurriculumFromLibrary = ($mdDialog, curriculumTitle) => {\n  const locals = {\n    curriculumTitle,\n    translations: {\n      header: 'removeCurriculumFromLibraryHeading',\n      content1: 'removeCurriculumFromLibraryInfo1',\n      content2: 'removeCurriculumFromLibraryInfo2',\n      cancelButton: 'cancelBtn',\n      confirmButton: 'deleteBtn',\n    },\n  };\n\n  return showConfirmationDialog($mdDialog, locals);\n};\n\nexport const showSaveCourseToLibraryDialog = ($mdDialog, curriculum) => $mdDialog.show({\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/save-curriculum-to-library.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n\n      // set the name and the code\n      this.courseName = curriculum.name;\n      this.courseCode = curriculum.code;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showCreateObjectiveDialog = $mdDialog => $mdDialog.show({\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/create-objective.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n    }\n\n    createObjective() {\n      this.$mdDialog.hide(this.objectiveName);\n    }\n  },\n  controllerAs: '$ctrl',\n  multiple: true,\n});\n\nexport const showCurriculumDetailsDialog = ($mdDialog, curriculum, FetchData) => $mdDialog.show({\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/curriculum-details.html',\n  bindToController: true,\n  multiple: true,\n  controller: class {\n    constructor($rootScope, $q, Path) {\n      'ngInject';\n\n      this.$rootScope = $rootScope;\n      this.$q = $q;\n      this.Path = Path;\n    }\n\n    openCurriculumLibraryDialog() {\n      $mdDialog.cancel();\n      showCarriculumLibraryDialog(this.$q, $mdDialog, FetchData);\n    }\n\n    openAddNewObjectiveDialog() {\n      showCreateObjectiveDialog($mdDialog)\n        .then(objectiveName => FetchData\n          .v3\n          .createObjective(\n            curriculum.course,\n            { name: objectiveName },\n          ),\n        )\n        .then(() => {\n          this.$rootScope.$emit(Events.UPDATED_OBJECTIVES);\n        });\n    }\n  },\n  resolve: {\n    curriculumDetails: () => FetchData\n      .v3\n      .getCurriculumDetails(curriculum),\n    curriculum: () => curriculum,\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showDeleteObjectiveDialog = ($mdDialog, objective, course) => $mdDialog.show({\n  parent: dialogParentElement,\n  multiple: true,\n  templateUrl: 'components/courseManagement/common/dialogs/delete-objective.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n      this.objective = objective;\n      this.editingTemplate = course.type === CourseType.TEMPLATE;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showDeleteCourseConfirmationDialog = ($mdDialog, courseDefinition) => $mdDialog.show({\n  parent: dialogParentElement,\n  templateUrl: 'components/courseManagement/common/dialogs/delete-course.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n      this.courseDefinition = courseDefinition;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showChangeCourseCorePropertyWarning = (\n  $mdDialog, headerLabel, warningContent,\n) => $mdDialog.show({\n  parent: dialogParentElement,\n  multiple: true,\n  templateUrl: 'components/courseManagement/common/dialogs/change-property-warning.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n      this.headerLabel = headerLabel;\n      this.warningContent = warningContent;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showWrongCurriculumSetupDialog = $mdDialog => $mdDialog.show({\n  parent: dialogParentElement,\n  multiple: true,\n  templateUrl: 'components/courseManagement/common/dialogs/wrong-curriculum-setup.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n\nexport const showChangeCourseCorePropertyDoublecheckWarning = (\n  $mdDialog, headerLabel,\n  warningContent,\n) => $mdDialog.show({\n  parent: dialogParentElement,\n  multiple: true,\n  templateUrl: 'components/courseManagement/common/dialogs/change-property-doublecheck-warning.html',\n  controller: class {\n    constructor() {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n      this.headerLabel = headerLabel;\n      this.warningContent = warningContent;\n    }\n  },\n  controllerAs: '$ctrl',\n});\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { StudentAssignmentsRouting } from './studentAssignments.routing';\n\nexport const StudentAssignmentsModule: IModule = angular\n  .module('app.assignments.studentAssignments', [uiRouter])\n  .config(StudentAssignmentsRouting);\n\nexport default StudentAssignmentsModule.name;\n\nexport * from './shared/components/studentAssignmentsList/studentAssignmentsList.component';\nexport * from './studentAssignments.component';\nexport * from './studentAssignmentsPublished/studentAssignmentsPublished.component';\nexport * from './studentAssignmentsNotConfigured/studentAssignmentsNotConfigured.component';\n","export * from './assignment.model';\nexport * from './assignments.query';\nexport * from './assignments.service';\nexport * from './assignments.store';\n","import { Injectable } from '@angular/core';\nimport { QueryEntity } from '@datorama/akita';\nimport {AssignmentsState, AssignmentsStore} from './assignments.store';\nimport {map} from 'rxjs/operators';\nimport {Assignment, AssignmentSortFn} from './assignment.model';\nimport sort from 'fast-sort';\n\n@Injectable({ providedIn: 'root' })\nexport class AssignmentsQuery extends QueryEntity<AssignmentsState> {\n\n  constructor(protected store: AssignmentsStore) {\n    super(store);\n  }\n\n  selectFilteredAndSorted() {\n    return this.selectAll({filterBy: assignment => this.filterBy(assignment)}).pipe(\n      map(assignments => this.sortBy(assignments)),\n    );\n  }\n\n  protected filterBy(assignment: Assignment): boolean {\n    const stateUI = this.getValue().ui;\n    return stateUI.filters.type.includes(assignment.assignment_type);\n  }\n\n  protected sortBy(assignments: Assignment[]): Assignment[] {\n    const stateUI = this.getValue().ui;\n    const sortMethod = this.getSortMethod(stateUI.sort.by);\n\n    return sort([...assignments])[stateUI.sort.order](sortMethod);\n  }\n\n  protected getSortMethod(by: keyof Assignment): keyof Assignment | AssignmentSortFn {\n    switch (by) {\n      default:\n        return by;\n    }\n  }\n}\n","/* eslint-disable react-hooks/rules-of-hooks */\nimport {mutation, query} from 'gql-query-builder';\nimport {pick} from 'lodash';\nimport {getClassroomId} from './utils';\nimport {useFetch} from './hooks';\nimport {getAssignmentAlternateLinkId} from './path';\n\nexport const LOG_LEVEL = {\n  ERROR: 'error',\n  DEBUG: 'debug',\n  INFO: 'info',\n};\n\n// let baseURL = 'http://localhost:8082';\n// let baseURL = 'https://dev2py.studybee.io';\n\n// let baseURL = 'https://gcp.studybee.io';\nlet baseURL = 'https://prodpy.studybee.io';\nlet gqlBaseUrl = 'http://localhost:4000/graphql';\n// let gqlBaseUrl = 'https://dev2.studybee.io/graphql';\n// let gqlBaseUrl = 'https://prod-eu-dot-studybee-ews.ey.r.appspot.com/graphql';\n// let gqlBaseUrl = 'https://prod.studybee.io/graphql';\n// let gqlBaseUrl = 'https://prod-eu-dot-studybee-ews.ey.r.appspot.com/graphql';\nif (!process.env.REACT_APP_STANDALONE) {\n  baseURL = DEVELOPMENT_ENV\n    ? 'https://prodpy.studybee.io'\n    : 'https://gcp.studybee.io';\n  gqlBaseUrl = DEVELOPMENT_ENV\n    ? 'https://prod.studybee.io/graphql'\n    : 'https://prod-eu-dot-studybee-ews.ey.r.appspot.com/graphql';\n}\nconst getAssignmentsUrl = () => `${baseURL}/v3/classes/${getClassroomId()}/assignments/?assignment_state=PUBLISHED&assignment_state=DRAFT&show_topics=true`;\nconst getStudentsInClassroomUrl = () => `${baseURL}/classes/students/${getClassroomId()}`;\nconst getAssignmentByAlternateLinkUrl = (assignmentAlternateLink) => `${baseURL}/v2/classes/assignment-alternate-link/${assignmentAlternateLink}/`;\nconst getAssignmentAssessmentsUrl = (assignmentId) => `${baseURL}/v3/classes/${getClassroomId()}/assignments/${assignmentId}/assessments/`;\nconst getAssignmentAssessmentUrl = (assignmentId, studentId) => `${baseURL}/v2/classes/assignment_assessment/${assignmentId}/${studentId}`;\nconst getObjectiveAssessmentsUrl = (assignmentId, studentId) => `${baseURL}/v2/classes/objective_assessments/${assignmentId}/${studentId}`;\nconst getFailWarningUrl = (assessmentId) => `${baseURL}/v3/classes/fail-warning/${assessmentId}`;\nconst getCourseGradeSystemsUrl = (assignmentId) => `${baseURL}/v2/classes/course-grade-systems/${getClassroomId()}/?assignment_id${assignmentId}`;\nconst getAssignedObjectivesToAssignmentUrl = (assignmentId) => `${baseURL}/classes/assigned_objectives_to_assignment/${assignmentId}/`;\nconst getObjectivesUrl = (objectiveId) => `${baseURL}/objectives/objectives/${objectiveId}/`;\nconst getAssignmentDriveUrl = (fileId) => `${baseURL}/classes/assessment_drive/${fileId}/?alternate_link_id=${getAssignmentAlternateLinkId(true)}/`;\nconst updateAssignmentAssessmentUrl = (assignmentId) => `${baseURL}/v2/classes/assignment_assessment/${assignmentId}/`;\nconst updateObjectiveAssessmentUrl = () => `${baseURL}/classes/objective_assessments/`;\nconst updateAssignmentStatusUrl = (assignmentId, studentId) => `${baseURL}/v3/classes/${getClassroomId()}/assignments/${assignmentId}/status/${studentId}/`;\nconst updateVisibilityManyUrl = (assignmentId) => `${baseURL}/v3/classes/${getClassroomId()}/assignment-assessments/grouped-visibility/${assignmentId}/`;\nconst updateAssignmentDetailsUrl = (assignmentId) => `${baseURL}/classes/assignment_details/${assignmentId}/`;\nconst syncAssignmentsUrl = () => `${baseURL}/classes/assignments_new/${getClassroomId()}/`;\nconst newAssignment = (title) => `${baseURL}/classes/assignment_id/?course_id=${getClassroomId()}&title=${encodeURI(title)}`;\nconst syncStudentsUrl = () => `${baseURL}/classes/students/${getClassroomId()}/`;\n\n\nlet ApiInstance;\nconst refreshTokenTimeSeconds = 60 * 10;\nlet latestToken;\nconst sendInForeground = process.env.REACT_APP_STANDALONE;\n\nexport default class Api {\n  constructor(setNetworkTraffic, setNetworkError) {\n    this.setNetworkTraffic = setNetworkTraffic;\n    this.setNetworkError = setNetworkError;\n  }\n\n  async getToken() {\n    if (process.env.REACT_APP_STANDALONE) {\n      return process.env.REACT_APP_TOKEN_FOR_DEBUG;\n    }\n    return new Promise((resolve, reject) => {\n      if (latestToken && latestToken.token) {\n        const secondsOld = Math.floor((Date.now() - latestToken.date) / 1000);\n        if (secondsOld > refreshTokenTimeSeconds) {\n          latestToken = false;\n          resolve(this.getToken());\n        }\n        resolve(latestToken.token);\n      } else {\n        chrome.runtime.sendMessage({action: 'getToken'}, (token) => {\n          latestToken = {token, date: Date.now()};\n          resolve(token);\n        });\n      }\n    });\n  }\n\n  async doFetch(url, method = 'GET', data = {}, overrideMethodForSave = false) {\n    this.setNetworkTraffic(overrideMethodForSave ? 'GET' : method);\n    const config = {url, method, data};\n    const requestConfig = {...config, action: 'fetchData'};\n    console.log('doFetch: ', config);\n    if (sendInForeground) {\n      let token = await this.getToken();\n      if (!token) {\n        token = await this.getToken();\n      }\n      const request = {\n        method,\n        headers: {\n          Authorization: `StudybeeToken ${token}`,\n          'Content-Type': 'application/json',\n        },\n      };\n      if (method !== 'GET') {\n        request.body = JSON.stringify(data);\n      }\n\n      try {\n        let tag = url;\n        if (data.query) {\n          tag = `${data.query.slice(0, data.query.indexOf('\\n'))} (${JSON.stringify(data.variables)})`;\n        }\n        console.time(`api: ${tag}`);\n        const json = await (await fetch(url, request)).json();\n        console.log('doFetch response: ', {json, config});\n        console.timeEnd(`api: ${tag}`);\n        return json;\n      } catch (e) {\n        this.setNetworkError(e.message);\n        return null;\n      } finally {\n        this.setNetworkTraffic(false);\n      }\n    }\n\n    return new Promise((resolve) => {\n      let tag = url;\n      if (data.query) {\n        tag = `${data.query.slice(0, data.query.indexOf('\\n'))} (${JSON.stringify(data.variables)})`;\n      }\n      console.time(`api: ${tag}`);\n      chrome.runtime.sendMessage(requestConfig, (response) => {\n        console.log('doFetch response: ', url, response);\n        console.timeEnd(`api: ${tag}`);\n        this.setNetworkTraffic(false);\n        // I get status = 0 from graphql when there is no internet (only with prod not local)\n        if (response.status < 400 && response.status !== 0) {\n          resolve(response.data);\n        } else {\n          this.setNetworkError(response);\n        }\n      });\n    });\n  }\n\n  getAssignments = () => this.doFetch(getAssignmentsUrl());\n\n  getAssignmentDrive = (fileId) => this.doFetch(getAssignmentDriveUrl(fileId));\n\n  getAssignmentsAsHook = () => useFetch(getAssignmentsUrl(), this.setNetworkTraffic, this.setNetworkError);\n\n  getStudentsInClassroomAsHook = () => useFetch(getStudentsInClassroomUrl(), this.setNetworkTraffic, this.setNetworkError);\n\n  getAssignmentAssessments = (assignmentId) => this.doFetch(getAssignmentAssessmentsUrl(assignmentId));\n\n  getAssignmentAssessmentsAsHook = (assignmentId) => useFetch(\n    getAssignmentAssessmentsUrl(assignmentId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getAssignmentAssessment = (assignmentId, studentId) => this.doFetch(getAssignmentAssessmentUrl(assignmentId, studentId));\n\n  getAssignmentWithAssessment = (assignmentId, fields) => {\n    const q = query({\n      operation: 'assignment',\n      variables: {\n        id: {value: assignmentId, required: true, type: 'Int'},\n      },\n      fields: [fields],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q, true);\n  };\n\n  getAssignmentAssessmentAsHook = (assignmentId, studentId) => useFetch(\n    getAssignmentAssessmentUrl(assignmentId, studentId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getObjectiveAssessments = (assignmentId, studentId) => this.doFetch(getObjectiveAssessmentsUrl(assignmentId, studentId));\n\n  getObjectiveAssessmentsAsHook = (assignmentId, studentId) => useFetch(\n    getObjectiveAssessmentsUrl(assignmentId, studentId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getFailWarning = (assessmentId) => this.doFetch(getFailWarningUrl(assessmentId));\n\n  getCourseGradeSystems = (assignmentId) => this.doFetch(getCourseGradeSystemsUrl(assignmentId));\n\n  getCourseGradeSystemsAsHook = (assignmentId) => useFetch(\n    getCourseGradeSystemsUrl(assignmentId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getAssignedObjectivesToAssignment = (assignmentId) => this.doFetch(getAssignedObjectivesToAssignmentUrl(assignmentId));\n\n  getAssignedObjectivesToAssignmentAsHook = (assignmentId) => useFetch(\n    getAssignedObjectivesToAssignmentUrl(assignmentId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getObjectives = (objectiveId) => this.doFetch(getObjectivesUrl(objectiveId));\n\n  getObjectivesAsHook = (objectiveId) => useFetch(\n    getObjectivesUrl(objectiveId),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  getAssignmentByAlternateLink = (link) => this.doFetch(getAssignmentByAlternateLinkUrl(link));\n\n  getAssignmentByAlternateLinkAsHook = (link) => useFetch(\n    getAssignmentByAlternateLinkUrl(link),\n    this.setNetworkTraffic,\n    this.setNetworkError,\n  );\n\n  syncAssignments = async () => this.doFetch(syncAssignmentsUrl());\n\n  newAssignment = async (title) => this.doFetch(newAssignment(title));\n\n  syncStudents = async () => this.doFetch(syncStudentsUrl());\n\n  getClassroom = async (fields, studentId) => {\n    const variables = {\n      classroomId: {value: getClassroomId(), required: true, type: 'String'},\n    };\n    if (studentId) {\n      variables.studentId = {value: studentId, required: false, type: 'Int'};\n    }\n    const q = query({\n      operation: 'classroom',\n      variables,\n      fields: [fields],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q, true);\n  };\n\n  updateStudentEWSStatus = (data) => {\n    const saveData = pick(data, [\n      'student_id',\n      'course_id',\n      'status',\n      'published',\n    ]);\n    const q = mutation({\n      operation: 'updateStudentEWSStatus',\n      variables: {\n        ewsStatus: {value: saveData, required: true, type: 'StudentEWSStatusInput'},\n      },\n      fields: [`\n          id\n          created\n          modified\n          admin_id\n          course_definition_id\n          student_id\n          published\n          status\n        `,\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateStudentExtraAdjustments2 = (adjustments, courseId, studentId) => {\n    const q = mutation({\n      operation: 'updateStudentExtraAdjustments2',\n      variables: {\n        adjustments: {value: adjustments, required: true, type: '[Int]'},\n        courseId: {value: courseId, required: true, type: 'Int'},\n        studentId: {value: studentId, required: true, type: 'Int'},\n      },\n      fields: [`\n        name\n        `,\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateStudentExtraAdjustments = (added, removed, courseId, studentId) => {\n    const q = mutation({\n      operation: 'updateStudentExtraAdjustments',\n      variables: {\n        added: {value: added, required: true, type: '[Int]'},\n        removed: {value: removed, required: true, type: '[Int]'},\n        courseId: {value: courseId, required: true, type: 'Int'},\n        studentId: {value: studentId, required: true, type: 'Int'},\n      },\n      fields: [`\n        name\n        `,\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateAssignmentCourseDefinitions = (assignmentId, courseDefinitionsIds) => {\n    const q = mutation({\n      operation: 'updateAssignmentCourseDefinitions',\n      variables: {\n        assignmentId: {value: assignmentId, required: true, type: 'Int'},\n        courseDefinitionIds: {value: courseDefinitionsIds, required: true, type: '[Int]'},\n      },\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateAssignmentObjectivesConnected = (assignmentId, objectives) => {\n    const q = mutation({\n      operation: 'updateAssignmentObjectivesConnected',\n      variables: {\n        assignmentId: {value: assignmentId, required: true, type: 'Int'},\n        objectives: {value: objectives, required: true, type: '[ObjectiveInput]'},\n      },\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateAssignment = (assignment) => {\n    const picked = pick(assignment, [\n      'id',\n      'state',\n      'worktype',\n      'grade_system_id',\n      'connected',\n      'use_submitted_status',\n    ]);\n    const q = mutation({\n      operation: 'updateAssignment',\n      variables: {\n        assignment: {value: picked, required: true, type: 'AssignmentInput'},\n      },\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateCourseAssessments = (assessments) => {\n    const pickedAssessments = assessments.map((a) => pick(a, [\n      'id',\n      'feedback',\n      'feedback_published',\n      'grade_id',\n      'grade_published',\n      'target_grade_id',\n      'target_grade_published',\n      'private_note',\n      'result',\n      'result_published',\n    ]));\n    pickedAssessments.forEach((a) => {\n      a.grade_id = a.grade_id > 0 ? a.grade_id : null;\n    });\n    pickedAssessments.forEach((a) => {\n      a.target_grade_id = a.target_grade_id > 0 ? a.target_grade_id : null;\n    });\n    const q = mutation({\n      operation: 'updateCourseAssessment',\n      variables: {\n        assessments: {value: pickedAssessments, required: true, type: '[CourseAssessmentInput]'},\n      },\n      fields: [\n        'id',\n        'modified',\n        'feedback',\n        'feedback_published',\n        'private_note',\n        'grade_published',\n        'grade_id',\n        'active',\n        'feedback_last_edit',\n        'private_note_last_edit',\n        'grade_last_edit',\n        'target_grade_id',\n        'target_grade_published',\n        'target_grade_last_edit',\n        'last_edit_for_student',\n        'courseName',\n        'courseCode',\n        'courseDescription',\n        'gradeName',\n        'gradeColor',\n        'gradeIsPassed',\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateAssignmentAssessment = (assessments) => {\n    const pickedAssessments = assessments.map((a) => pick(a, [\n      'id',\n      'feedback',\n      'feedback_published',\n      'grade_id',\n      'grade_published',\n      'private_note',\n      'result',\n      'result_published',\n      'self_assessment',\n      'status_new',\n      'submitted_status',\n    ]));\n    pickedAssessments.forEach((a) => {\n      a.grade_id = a.grade_id > 0 ? a.grade_id : null;\n    });\n    const q = mutation({\n      operation: 'updateAssignmentAssessment',\n      variables: {\n        assessments: {value: pickedAssessments, required: true, type: '[AssignmentAssessmentInput]'},\n      },\n      fields: [\n        'id',\n        'feedback',\n        'feedback_last_edit',\n        'feedback_published',\n        'grade_id',\n        'grade_last_edit',\n        'grade_name',\n        'private_note',\n        'private_note_last_edit',\n        'result',\n        'result_last_edit',\n        'result_published',\n        'status_new',\n        'student_id',\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateCourseObjectiveAssessment = (assessments) => {\n    const pickedAssessments = assessments.map((a) => pick(a, [\n      'id',\n      'grade_id',\n      'grade_published',\n      'feedback',\n      'feedback_published',\n      'private_note',\n    ]));\n    pickedAssessments.forEach((a) => {\n      a.grade_id = a.grade_id > 0 ? a.grade_id : null;\n    });\n    const q = mutation({\n      operation: 'updateCourseObjectiveAssessment',\n      variables: {\n        assessments: {value: pickedAssessments, required: true, type: '[CourseObjectiveAssessmentInput]'},\n      },\n      fields: [\n        'name',\n        'id',\n        'created',\n        'modified',\n        'feedback',\n        'feedback_published',\n        'private_note',\n        'grade_published',\n        'course_assessment_id',\n        'grade_id',\n        'objective_id',\n        'active',\n        'feedback_last_edit',\n        'private_note_last_edit',\n        'grade_last_edit',\n        'last_edit_for_student',\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q);\n  };\n\n  updateObjectiveAssessment = (objectiveAssessment) => this.doFetch(updateObjectiveAssessmentUrl(), 'PUT', objectiveAssessment);\n\n  updateAssignmentStatus = (assignmentId, studentId, status) => this.doFetch(\n    updateAssignmentStatusUrl(assignmentId, studentId),\n    'PATCH',\n    status,\n  );\n\n  updateVisibilityMany = (assignmentId, data) => this.doFetch(updateVisibilityManyUrl(assignmentId), 'PATCH', data);\n\n  updateAssignmentDetails = (assignmentId, data) => this.doFetch(updateAssignmentDetailsUrl(assignmentId), 'PATCH', data);\n\n  updateObjectiveAssessmentsGql = async (assessments) => {\n    const data = assessments.map((a) => ({\n      id: a.id,\n      feedback: a.feedback,\n      feedback_published: a.feedback_published,\n      private_note: a.private_note,\n      grade_published: a.grade_published,\n      grade_id: a.grade_id || null,\n      self_assessment: a.self_assessment,\n      counter_grade_0: a.counter_grade_0 || 0,\n      counter_grade_1: a.counter_grade_1 || 0,\n      counter_grade_2: a.counter_grade_2 || 0,\n      counter_grade_3: a.counter_grade_3 || 0,\n      counter_grade_4: a.counter_grade_4 || 0,\n      counter_grade_5: a.counter_grade_5 || 0,\n      counter_grade_6: a.counter_grade_6 || 0,\n      counter_grade_7: a.counter_grade_7 || 0,\n      counter_grade_8: a.counter_grade_8 || 0,\n      counter_grade_9: a.counter_grade_9 || 0,\n    }));\n    const m = mutation({\n      operation: 'updateObjectiveAssessment',\n      variables: {\n        assessments: {\n          type: '[ObjectiveAssessmentInput]',\n          value: data,\n        },\n      },\n      fields: ['id', 'feedback', 'grade_id'],\n    });\n\n    await this.doFetch(gqlBaseUrl, 'POST', m);\n  };\n\n  getUserInfo = async () => {\n    const q = query({\n      operation: 'userInfo',\n      fields: [\n        'id',\n        'email',\n        'first_name',\n        'last_name',\n        'photo_url',\n        'school',\n      ],\n    });\n    return this.doFetch(gqlBaseUrl, 'POST', q, true);\n  };\n\n  cloudLog = async (LEVEL, log) => {\n    const m = mutation({\n      operation: 'log',\n      variables: {\n        text: {\n          type: 'String!',\n          value: log,\n        },\n        level: {\n          type: 'String!',\n          value: LEVEL,\n        },\n      },\n    });\n    await this.doFetch(gqlBaseUrl, 'POST', m);\n  };\n\n  getWebstoreInfo = async () => {\n    const webstore = await this.doFetch('https://www.googleapis.com/chromewebstore/v1.1/items/nbhebloikpdgagghfhamjkbgfnobcfck');\n    console.log('xxx webstore: ', webstore);\n  }\n}\n\nexport const createApi = (a, b) => {\n  if (!ApiInstance) {\n    ApiInstance = new Api(a, b);\n  }\n  return ApiInstance;\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 0a1 1 0 011 1v12a1 1 0 01-2 0V1a1 1 0 011-1zm9.481 1.862l.082.071 4.504 4.504a.796.796 0 01.07 1.044l-.07.082-4.504 4.504a.796.796 0 01-1.197-1.045l.071-.081 3.143-3.144H5.096a.796.796 0 01-.108-1.586l.108-.007h7.484L9.437 3.06a.796.796 0 01-.071-1.044l.071-.082a.796.796 0 011.044-.07z\"\n});\n\nfunction SvgCollapse(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 14,\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/c607cb0b9cd89b51227060f837f05649-collapse.svg\";\nexport { SvgCollapse as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"Artwork 29\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"Group 2667\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1353\",\n  d: \"M0 0h12v12H0z\",\n  fill: \"none\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1354\",\n  d: \"M.5 10.5h11L6 1zm6-1.5h-1V8h1zm0-2h-1V5h1z\",\n  fill: \"current\"\n})));\n\nfunction SvgIconWarning(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 12,\n    height: 12\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/fc9b410bc812394d00572b8071be7d26-icon_warning.svg\";\nexport { SvgIconWarning as ReactComponent };","import React, { useState, useEffect, useReducer } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { ArrowDropDown } from '@material-ui/icons';\nimport { ClickAwayListener } from '@material-ui/core';\nimport { colors, fonts } from '../theme';\nimport { ReactComponent as DoneIcon } from '../images/icon_bk_assessment_done.svg';\nimport { ReactComponent as WarningIcon } from '../images/icon_warning.svg';\nimport { ReactComponent as NotDoneIcon } from '../images/icon_bk_not_assessed.svg';\nimport { ReactComponent as AccessingIcon } from '../images/icon_bk_assessing.svg';\nimport {\n  getAssessmentIcon,\n  NOT_SUBMITTED,\n  NOT_SUBMITTED_LATE,\n  SUBMITTED,\n  SUBMITTED_LATE\n} from '../utils';\nimport { getTranslation } from '../i18n';\nimport {ReactComponent as SubmittedIcon} from \"../images/submitted.svg\";\nimport {ReactComponent as SubmittedLateIcon} from \"../images/submitted-late.svg\";\nimport {ReactComponent as NotSubmittedLateIcon} from \"../images/not-submitted-late.svg\";\nimport {ReactComponent as NotSubmittedIcon} from \"../images/not-submitted.svg\";\n\nconst ASSESSMENT_DONE = 'ASSESSMENT_DONE';\nconst ASSESSING = 'ASSESSING';\nconst NOT_ASSESSED = 'NOT_ASSESSED';\n\nconst options = [\n  {\n    title: getTranslation('teacherAssignmentsAssessmentsStudentMenuAssessed'),\n    icon: (\n      <DoneIcon fill={colors.green} style={{ border: '0px solid green' }} />\n    ),\n    value: ASSESSMENT_DONE,\n  },\n  {\n    title: getTranslation('teacherAssignmentsAssessmentsStudentMenuAssessing'),\n    icon: <AccessingIcon fill={colors.orange} />,\n    value: ASSESSING,\n  },\n  {\n    title: getTranslation('teacherAssignmentsAssessmentsStudentMenuNotAssessed'),\n    icon: (\n      <NotDoneIcon\n        fill={colors.darkGrey}\n        style={{ border: '0px solid green' }}\n      />\n    ),\n    value: NOT_ASSESSED,\n  },\n  {\n    title:'divider',\n  },\n  {\n    title: getTranslation('mark_submitted_status_submitted'),\n    icon: <SubmittedIcon/>,\n    value: SUBMITTED,\n  },\n  {\n    title: getTranslation('mark_submitted_status_submitted_late'),\n    icon: <SubmittedLateIcon/>,\n    value: SUBMITTED_LATE,\n  },\n  {\n    title: getTranslation('mark_submitted_status_not_submitted_late'),\n    icon: <NotSubmittedLateIcon/>,\n    value: NOT_SUBMITTED_LATE,\n  },\n  {\n    title: getTranslation('mark_submitted_status_not_submitted'),\n    icon: <NotSubmittedIcon/>,\n    value: NOT_SUBMITTED,\n  }\n];\n\n// Only use submittedStatus with button without text\nconst AssessmentButton = (props) => {\n  const {\n    initialState, warning, onStatusChange, button, style = {}, readonly = false, submittedStatus = false,\n  } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [state, setState] = useState(initialState);\n  const open = Boolean(anchorEl);\n\n  const getAssessmentStatusTitle = () => {\n    switch (state) {\n      case ASSESSMENT_DONE:\n        return getTranslation('teacherAssignmentsAssessmentManyStudentStatusLabel_ASSESSMENT_DONE');\n      case NOT_ASSESSED:\n        return getTranslation('teacherAssignmentsAssessmentManyStudentStatusLabel_NOT_ASSESSED');\n      case ASSESSING:\n        return getTranslation('teacherAssignmentsAssessmentManyStudentStatusLabel_ASSESSING');\n      default:\n        return getTranslation('teacherAssignmentsAssessmentManyStudentStatusLabel_NOT_ASSESSED');\n    }\n  };\n\n  useEffect(() => {\n    setState(initialState);\n  }, [initialState]);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleSelect = (option) => {\n    setAnchorEl(null);\n    setState(option.value);\n    if (onStatusChange) {\n      onStatusChange(option.value);\n    }\n  };\n\n  const handleClickAway = (event) => {\n    setTimeout(() => { setAnchorEl(null); });\n  };\n\n  if (readonly) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        {getAssessmentIcon({ status: state })}\n        <span style={{ ...fonts.MEDIUM, marginLeft: '10px' }}>{getAssessmentStatusTitle()}</span>\n      </div>\n    );\n  }\n\n  const activeOptions = submittedStatus?options:options.slice(0,3);\n\n  return (\n    <div style={style}>\n      <ClickAwayListener onClickAway={handleClickAway}>\n        {button ? (\n          <div onClick={handleClick}>{button}</div>\n        ) : (\n          <div\n            onClick={handleClick}\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              border: '0px solid red',\n              flex: 1,\n              height: '35px',\n              backgroundColor: colors.white,\n              borderRadius: '35px',\n              cursor: 'pointer',\n              boxShadow: '0px 2px 3px 0px rgba(0, 0, 0, 0.3)',\n              alignItems: 'center',\n              paddingLeft: '16px',\n              paddingRight: '16px',\n            }}\n          >\n            <div style={{ display: 'flex', alignItems: 'center' }}>\n            {getAssessmentIcon({ status: state })}\n            <span style={{ ...fonts.MEDIUM, marginLeft: '10px' }}>{getAssessmentStatusTitle()}</span>\n            </div>\n            <ArrowDropDown style={{ color: colors.darkGrey }} />\n            {warning && state === ASSESSMENT_DONE && false && (\n              <WarningIcon\n                fill={colors.red}\n                style={{ position: 'absolute', left: '25px', bottom: '6px' }}\n              />\n            )}\n          </div>\n        )}\n      </ClickAwayListener>\n      <Menu open={open} anchorEl={anchorEl}>\n        {activeOptions.map((option) => {\n          if(option.title === 'divider'){\n            return <div style={{height:'1px', width:'100%', backgroundColor: colors.borderColor}}/>;\n          }\n          return (\n            <MenuItem\n              key={option.title}\n              onClick={() => handleSelect(option)}\n              style={{display: 'flex', alignItems: 'center', padding: '10px'}}\n            >\n              {option.icon}\n              <span\n                style={{\n                  ...fonts.MEDIUM,\n                  marginLeft: '16px',\n                  border: '0px solid red',\n                }}\n              >\n                {option.title}\n              </span>\n            </MenuItem>\n          );\n        })}\n      </Menu>\n    </div>\n  );\n};\n\nexport default AssessmentButton;\n","import angular, { IModule } from 'angular';\nimport { AccordionComponent } from './accordion/accordion.component';\nimport { Accordion } from './accordion/accordion.service';\nimport { AccordionFooterComponent } from './accordion/accordionFooter/accordionFooter.component';\nimport { AccordionHeaderComponent } from './accordion/accordionHeader/accordionHeader.component';\nimport { ExtendedViewContainer } from './extended-view-container.component';\nimport { ExtendedViewTopWhiteframe } from './extended-view-top-whiteframe.component';\nimport { LoaderComponent } from './loader.component';\nimport { LongTextTooltipComponent } from './longTextTooltip/longTextTooltip.component';\nimport { LongTextTooltip } from './longTextTooltip/longTextTooltip.service';\nimport { MenuToggleComponent } from './menu-toggle.component';\nimport { ObjectDetailsToggle } from './object-details-toggle.component';\nimport { RightViewContainer } from './right-view-container.component';\nimport { SavingIndicator } from './saving-indicator.component';\nimport { StudentStatusIconComponent } from './student-status-icon.component';\n\nexport const CommonComponentsModule: IModule = angular\n  .module('app.common.components', [])\n  .component('loader', LoaderComponent)\n  .component('objectDetailsToggle', ObjectDetailsToggle)\n  .component('menuToggle', MenuToggleComponent)\n  .component('extendedViewContainer', ExtendedViewContainer)\n  .component('studentStatusIcon', StudentStatusIconComponent)\n  .component('savingIndicator', SavingIndicator)\n  .component('rightViewContainer', RightViewContainer)\n  .component('extendedViewTopWhiteframe', ExtendedViewTopWhiteframe)\n  .component('longTextTooltip', LongTextTooltipComponent)\n  .component('accordion', AccordionComponent)\n  .component('accordionHeader', AccordionHeaderComponent)\n  .component('accordionFooter', AccordionFooterComponent)\n  .service('Accordion', Accordion)\n  .service('LongTextTooltip', LongTextTooltip);\n\nexport default CommonComponentsModule.name;\nexport * from './components.scss';\nexport * from './accordion/accordionHeader/accordionHeaderMenu/accordionHeaderMenu.component';\nexport * from './breadcrumbs/breadcrumbs.component';\nexport * from './breadcrumbs/breadcrumbs.service';\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module UserInfo/Service\n * @description\n *   Handle User Info - keep information about user\n *   and allow to check user matched, user role and user config.\n * @param {Object} Courses Courses service instance\n * @param {Object} Path Path service instance\n */\n\nexport class UserInfo {\n  constructor(Courses, Path, UserQuery) {\n    'ngInject';\n\n    this.Courses = Courses;\n    this.Path = Path;\n    this.userMatched = null;\n    this.userConfigured = null;\n    this.userId = null;\n    this.userEmail = null;\n    this.userRole = null;\n    this.loggedToBrowser = null;\n    this.hasCreateCoursePermission = false;\n    this.agreementSeen = false;\n    this.hasSetup = null;\n    this.student_name = null;\n    this.firstName = '';\n    this.lastName = '';\n    this.photoUrl = '';\n    this.googleId = '';\n    this.gdpr = false;\n\n    UserQuery.user$.subscribe(user => {\n      this.applyDetails(user);\n    });\n  }\n\n  applyDetails(userDetails) {\n    this.student_name = `${userDetails.first_name} ${userDetails.last_name}`;\n    this.first_name = userDetails.first_name || '';\n    this.last_name = userDetails.last_name || '';\n    this.photo_url = userDetails.photo_url || '';\n    this.google_id = userDetails.google_id || '';\n    this.gdpr = userDetails.gdpr_check || false;\n    this.userId = userDetails.id || 0;\n    this.userRole = userDetails.is_teacher ? 'teacher' : 'student';\n    this.hasCreateCoursePermission = userDetails.is_teacher;\n  }\n\n  /**\n   * Check if user logged in to Chrome and user logged in to Classroom/Drive is the same user\n   * @memberof module:UserInfo/Service\n   */\n  checkUser() {\n    const userEmail = this.userEmail.toLowerCase();\n    let classroomStructure;\n    let driveStructure;\n\n    if (this.Path.isClassroomInstance()) {\n      classroomStructure = this.Path.classroomNode[0].innerHTML.toLowerCase();\n      if (userEmail.length && classroomStructure.indexOf(userEmail) >= 0) {\n        this.userMatched = true;\n      }\n    } else if (this.Path.isDriveInstance()) {\n      if (this.Path.driveNode[0].attributes['aria-label']) {\n        driveStructure = this.Path.driveNode[0].attributes['aria-label'].value.toLowerCase();\n      } else {\n        driveStructure = this.Path.driveNode[0].innerHTML.toLowerCase();\n      }\n\n      if (userEmail.length && driveStructure.indexOf(userEmail) >= 0) {\n        this.userMatched = true;\n      }\n    }\n  }\n\n  /**\n   * Check user role.\n   * @memberof module:UserInfo/Service\n   * @param {Number} courseId Selected course ID\n   */\n  checkRole(courseId) {\n    if (this.Path.isClassroomInstance()) {\n      this.Courses.list.forEach((elem) => {\n        if (elem.id === courseId && elem.role === 'teacher') {\n          this.userRole = 'teacher';\n        } else if (elem.id === courseId && elem.role !== 'teacher') {\n          this.userRole = 'student';\n        } else if (!courseId) {\n          this.userRole = null;\n        }\n      });\n    }\n  }\n\n  setUserRole(role) {\n    this.userRole = role;\n  }\n\n  /**\n   * Check if user config specific course\n   * @memberof module:UserInfo/Service\n   * @param {Number} courseId Selected course ID\n   */\n  checkConfig(courseId) {\n    if (this.Path.isClassroomInstance()) {\n      this.Courses.list.forEach((elem) => {\n        if (elem.id === courseId) {\n          this.userConfigured = elem.configured;\n        } else if (!courseId) {\n          this.userConfigured = null;\n        }\n      });\n    }\n  }\n\n  isTeacher() {\n    return this.userRole ? this.userRole === 'teacher' : this.hasCreateCoursePermission;\n  }\n\n  getUserObj() {\n    const { Courses, Path, ...student } = this;\n\n    student.id = this.id;\n    student.email = this.email;\n\n    return student;\n  }\n\n  get id() {\n    return this.userId;\n  }\n\n  get email() {\n    return this.userEmail;\n  }\n}\n","import { StateParams, StateService } from '@uirouter/core';\nimport { IScope } from 'angular';\nimport xor from 'lodash.xor';\nimport { AssessmentSort } from '../../../../../../src/app/shared/models/assessment.model';\nimport { AssignmentOrder } from '../../../assignments/teacherAssignments/shared/enums/assignmentOrder';\nimport { StudentOrder } from '../../../assignments/teacherAssignments/shared/enums/studentOrder.enum';\nimport { AssignmentFilterGroup } from '../../enums/assignmentFilterGroup.enum';\nimport { AssignmentState } from '../../enums/assignmentStateType.enum';\nimport { AssignmentType } from '../../enums/assignmentType.enum';\nimport { ILocalStorageService } from '../../services/localStorage/localStorage.service';\nimport { UnsubscribableComponent } from '../abstracts/unsubscribable.component';\n\nexport abstract class AssignmentsComponent extends UnsubscribableComponent {\n\n  public sortingItems: any[];\n  public studentSortingItems: any[];\n  public filters: any[];\n\n  protected abstract readonly statePrefix: string;\n  protected refreshStateName: string;\n\n  constructor(protected $scope: IScope, protected $stateParams: StateParams, protected $state: StateService,\n              protected LocalStorageService: ILocalStorageService) {\n    'ngInject';\n\n    super();\n    this.sortingItems = [{\n      order: AssignmentOrder.ASC_TYPE,\n      label: 'assignmentsActionMenuSortByTypeAsc',\n    }, {\n      order: AssignmentOrder.ASC_CREATED,\n      label: 'assignmentsActionMenuSortByCreationDateAsc',\n    }, {\n      order: AssignmentOrder.DESC_CREATED,\n      label: 'assignmentsActionMenuSortByCreationDateDesc',\n    }, {\n      order: AssignmentOrder.DESC_LAST_CHANGE,\n      label: 'assignmentsActionMenuSortByLastChanged',\n    }, {\n      order: AssignmentOrder.ASC_TITLE,\n      label: 'assignmentsActionMenuSortByNameAsc',\n    }];\n    this.studentSortingItems = [\n      {\n        order: AssessmentSort.ASC_FIRST_NAME,\n        label: 'studentsActionMenuSortByFirstNameAsc',\n      }, {\n        order: AssessmentSort.ASSESSMENT_DONE,\n        label: 'studentsActionMenuSortByAssessmentDoneAsc',\n      }, {\n        order: AssessmentSort.NOT_ASSESSED,\n        label: 'studentsActionMenuSortByNotAssessedAsc',\n      },\n    ];\n    this.filters = [\n      {\n        group: AssignmentFilterGroup.TYPE,\n        type: AssignmentType.WORK_UNIT,\n        label: 'assignmentActionMenuFilterWorkUnit',\n      },\n      {\n        group: AssignmentFilterGroup.TYPE,\n        type: AssignmentType.STANDARD_ASSIGNMENT,\n        label: 'assignmentActionMenuFilterAssignments',\n      },\n      {\n        group: AssignmentFilterGroup.TYPE,\n        type: AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n        label: 'assignmentActionMenuFilterWithoutAssessmentCriterias',\n      },\n      {\n        group: AssignmentFilterGroup.STATE,\n        type: AssignmentState.PUBLISHED,\n        label: 'publishedStatus',\n      },\n      {\n        group: AssignmentFilterGroup.STATE,\n        type: AssignmentState.DRAFT,\n        label: 'draftsStatus',\n      },\n    ];\n    this.refreshStateName = this.$state.current.name;\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(\n      this.$scope.$on('$mdMenuClose', this.onFilterMenuClose.bind(this)),\n    );\n  }\n\n  public isCurrentOrder(ordering: AssignmentOrder): boolean {\n    return ordering === this.$stateParams.ordering;\n  }\n\n  public isSortAssessmentSelected(assessmentSort: AssessmentSort) {\n    return true; // this.AppAssignmentsService.isSortAssessmentSelected(assessmentSort);\n  }\n\n  public isFilterSelected(filter: AssignmentType, group: AssignmentFilterGroup): boolean {\n    return group === AssignmentFilterGroup.TYPE ?\n      this.$stateParams.filters.includes(filter) : this.$stateParams.states.includes(filter);\n  }\n\n  public onClickOrder(ordering: AssignmentOrder): void {\n    this.reloadState({ ordering });\n  }\n\n  public sortAssessments(assessmentSort: AssessmentSort): void {\n    // this.AssignmentsService.updateSort({ assessments: assessmentSort });\n  }\n\n  public onClickFilter(filter: AssignmentType & AssignmentState, group: AssignmentFilterGroup): void {\n    if (group === AssignmentFilterGroup.TYPE) {\n      let filters: AssignmentType[] = this.$stateParams.filters;\n\n      if (filters.includes(filter)) {\n        filters = filters.filter((_filter: AssignmentType): boolean => _filter !== filter);\n      } else {\n        filters.push(filter);\n      }\n\n      Object.assign(this.$stateParams, { filters });\n    } else if (group === AssignmentFilterGroup.STATE) {\n      let states: AssignmentState[] = this.$stateParams.states;\n\n      if (states.includes(filter)) {\n        states = states.filter((_states: AssignmentState): boolean => _states !== filter);\n      } else {\n        states.push(filter);\n      }\n\n      Object.assign(this.$stateParams, { states });\n    }\n  }\n\n  public isDividerVisible(index: number): boolean {\n    return this.filters[index + 1] ? this.filters[index].group !== this.filters[index + 1].group : false;\n  }\n\n  protected reloadState(stateParams: { ordering?: AssignmentOrder, studentOrdering?: StudentOrder, states?: AssignmentState[], filters?: AssignmentType[] } = {}): void {\n    const params: { ordering?: AssignmentOrder, states?: AssignmentState[], filters?: AssignmentType[] } = Object\n      .assign({}, this.$stateParams, stateParams);\n\n    this.saveFilters(params.filters);\n    this.saveState(params.states);\n    this.saveOrdering(params.ordering);\n    this.$state.go(`${this.refreshStateName}`, params, { reload: true });\n  }\n\n  protected saveOrdering(ordering: AssignmentOrder): void {\n    if (ordering) {\n      this.LocalStorageService.set(`${this.statePrefix}AssignmentsOrdering`, `${ordering}`);\n    }\n  }\n\n  protected saveState(states: AssignmentState[]): void {\n    if (states) {\n      this.LocalStorageService.setArray(`${this.statePrefix}AssignmentsStates`, states);\n    }\n  }\n\n  protected saveFilters(filters: AssignmentType[]): void {\n    if (filters) {\n      this.LocalStorageService.setArray(`${this.statePrefix}AssignmentsFiltering`, filters);\n    }\n  }\n\n  protected isFilterChange(): boolean {\n    const currentFilters: AssignmentType[] = this.$stateParams.filters;\n    const previousFilters: AssignmentType[] = this.LocalStorageService.getArray<AssignmentType>(`${this.statePrefix}AssignmentsFiltering`);\n\n    return !!xor(previousFilters, currentFilters).length;\n  }\n\n  protected isStateChange(): boolean {\n    const currentStates: AssignmentState[] = this.$stateParams.states;\n    const previousStates: AssignmentState[] = this.LocalStorageService.getArray<AssignmentState>(`${this.statePrefix}AssignmentsStates`);\n\n    return !!xor(previousStates, currentStates).length;\n  }\n\n  protected onFilterMenuClose(): void {\n    const currentFilters: AssignmentType[] = this.$stateParams.filters;\n    const currentStates: AssignmentState[] = this.$stateParams.states;\n\n    if (this.isFilterChange() || this.isStateChange()) {\n      this.reloadState({ filters: currentFilters, states: currentStates });\n    }\n  }\n}\n","export enum AssignmentFilterGroup {\n  STATE,\n  TYPE\n}\n","import { GroupedVisibilityDialogType } from '../enums/groupedVisibilityDialogType.enum';\nimport { ICourseDefinition } from './courseDefinition.model';\nimport { IStudent } from './student.model';\n\nexport interface IGroupedVisibilitySettings {\n  courseDefinitions: ICourseDefinition[];\n  students: IStudent[];\n  type: GroupedVisibilityDialogType;\n}\n\nexport class GroupedVisibilitySettings implements IGroupedVisibilitySettings {\n  courseDefinitions: ICourseDefinition[];\n  students: IStudent[];\n  type: GroupedVisibilityDialogType;\n\n  constructor(type: GroupedVisibilityDialogType, courseDefinitions?: ICourseDefinition[], students?: IStudent[]) {\n    this.type = type;\n    this.courseDefinitions = courseDefinitions || [];\n    this.students = students || [];\n  }\n}\n","import { IObserver, IUnsubscribe } from './observer.service';\nimport { ISubject, Subject } from './subject.service';\n\nexport interface IBehaviourSubject<T = any> extends ISubject<T> {\n  value: T;\n  getValue(): T;\n}\n\nexport class BehaviourSubject<T = any> extends Subject<T> implements IBehaviourSubject<T> {\n\n  public value: T;\n\n  constructor(value?: T) {\n    'ngInject';\n    super();\n    this.value = value;\n  }\n\n  public subscribe(observer: IObserver<T>): IUnsubscribe {\n    observer.closed = false;\n    observer.next(this.value);\n\n    return super.subscribe(observer);\n  }\n\n  public next(value: T): void {\n    this.value = value;\n    super.next(value);\n  }\n\n  public getValue(): T {\n    return this.value;\n  }\n}\n","export interface IObjectiveAssignmentAssessment {\n  $$open?: boolean;\n  assignment_id: number;\n  assignment_title: string;\n  feedback: string;\n  feedback_last_edit: string;\n  feedback_published: boolean;\n  id: number;\n  private_note: string;\n  private_note_last_edit: string;\n  result: string;\n  result_last_edit: string;\n  result_published: boolean;\n  seen: boolean;\n  student_id: number;\n  teacher_in_class: boolean;\n}\n\nexport class ObjectiveAssignmentAssessment implements IObjectiveAssignmentAssessment {\n  public $$open?: boolean;\n  public assignment_id: number;\n  public assignment_title: string;\n  public feedback: string;\n  public feedback_last_edit: string;\n  public feedback_published: boolean;\n  public id: number;\n  public private_note: string;\n  public private_note_last_edit: string;\n  public result: string;\n  public result_last_edit: string;\n  public result_published: boolean;\n  public seen: boolean;\n  public student_id: number;\n  public teacher_in_class: boolean;\n}\n","import { IPromise } from 'angular';\nimport { StateParams } from '@uirouter/core';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { GroupedVisibilityDialogType } from '../../enums/groupedVisibilityDialogType.enum';\nimport { GroupedVisibilityFeedbackType } from '../../enums/groupedVisibilityFeedbackType.enum';\nimport { IAssignment } from '../../models/assignment.model';\nimport { GroupedVisibility, IGroupedVisibility } from '../../models/groupedVisibility.model';\nimport SharedServicesModule from '../services.module';\nimport {getTranslation} from '../../../../../../react_src/i18n';\n\nexport interface IGroupedVisibilityService {\n  getEmptyGroupedVisibilityObject(): IGroupedVisibility;\n  getSelectedTypeOfFeedbackByType(type: GroupedVisibilityDialogType): { id: GroupedVisibilityFeedbackType, name: string, group: number }[];\n  mapObjectToArrayOfIds(items: { id: number }[]): number[];\n  patchAssignmentAssessmentsGroupedVisibility(groupedVisibility: IGroupedVisibility, assignment?: IAssignment): IPromise<void>;\n  patchCourseAssessmentsGroupedVisibility(groupedVisibility: IGroupedVisibility): IPromise<void>;\n}\n\n\n@Service({\n  module: SharedServicesModule,\n  name: 'GroupedVisibilityService',\n})\nexport class GroupedVisibilityService implements IGroupedVisibilityService {\n  constructor(private $stateParams: StateParams, private Path: any, private FetchData: any) {\n    'ngInject';\n  }\n\n  public getEmptyGroupedVisibilityObject(): IGroupedVisibility {\n    return new GroupedVisibility(\n      {\n        overall: {\n          feedback_published: true,\n          grade_published: true,\n          result_published: true,\n          target_grade_published: true,\n        },\n        objective: {\n          feedback_published: true,\n          grade_published: true,\n        },\n      }, undefined, [], []);\n  }\n\n  public getSelectedTypeOfFeedbackByType(type: GroupedVisibilityDialogType): { id: GroupedVisibilityFeedbackType, name: string, group: number }[] {\n    let selectedTypeOfFeedback: { id: GroupedVisibilityFeedbackType; name: string, group: number }[] = [\n      {\n        id: GroupedVisibilityFeedbackType.ObjectiveAssessment,\n        name: getTranslation('objectiveAssessment'),\n        group: 1,\n      },\n      {\n        id: GroupedVisibilityFeedbackType.ObjectiveFeedback,\n        name: getTranslation('objectiveFeedback'),\n        group: 1,\n      },\n    ];\n\n    if (type === GroupedVisibilityDialogType.StudentProgressView) {\n      selectedTypeOfFeedback = [\n        {\n          id: GroupedVisibilityFeedbackType.OverallAssessment,\n          name: getTranslation('overallAssessment'),\n          group: 0,\n        },\n        {\n          id: GroupedVisibilityFeedbackType.OverallTarget,\n          name: getTranslation('overallTarget'),\n          group: 0,\n        },\n        {\n          id: GroupedVisibilityFeedbackType.OverallFeedback,\n          name: getTranslation('overallFeedbackStudentProgress'),\n          group: 0,\n        },\n        ...selectedTypeOfFeedback,\n      ];\n    } else {\n      selectedTypeOfFeedback = [\n        {\n          id: GroupedVisibilityFeedbackType.OverallFeedback,\n          name: getTranslation('overallFeedback'),\n          group: 0,\n        },\n        {\n          id: GroupedVisibilityFeedbackType.OverallResult,\n          name: getTranslation('overallResult'),\n          group: 0,\n        },\n        ...selectedTypeOfFeedback,\n      ];\n    }\n\n    return selectedTypeOfFeedback;\n  }\n\n  public mapObjectToArrayOfIds(items: { id: number }[] = []): number[] {\n    return items.reduce((acc: number[], item: { id: number }) => {\n      return item ? [...acc, item.id] : acc;\n    }, []);\n  }\n\n  public patchAssignmentAssessmentsGroupedVisibility(groupedVisibility: IGroupedVisibility, assignment: IAssignment = this.$stateParams.assignment): IPromise<void> {\n    const courseId: number = this.Path.getClassroomId();\n    const assignmentId: number = assignment.id;\n\n    return this.FetchData.v3\n      .patchAssignmentAssessmentsGroupedVisibility(courseId, assignmentId, groupedVisibility);\n  }\n\n  public patchCourseAssessmentsGroupedVisibility(groupedVisibility: IGroupedVisibility): IPromise<void> {\n    const courseId: number = this.Path.getClassroomId();\n\n    return this.FetchData.v3.patchCourseAssessmentsGroupedVisibility(courseId, groupedVisibility);\n  }\n}\n","import { IPromise } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { FetchData } from '../../../utils/services/fetchData.service';\nimport { RequestType } from '../../enums/requestType.enum';\nimport { SchoolCategoryType } from '../../enums/schoolCategoryType';\nimport { ISchool } from '../../models/school.model';\nimport { ISchoolCategory } from '../../models/schoolCategory.model';\nimport { ISchoolRequestBody } from '../../models/schoolRequestBody.model';\nimport { ISchoolRequestParams } from '../../models/schoolRequestParams.model';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'SchoolService',\n})\nexport class SchoolService {\n  constructor(private FetchData: FetchData) {\n    'ngInject';\n  }\n\n  public getSchools(params: ISchoolRequestParams = {}): IPromise<ISchool[]> {\n    return this.FetchData.sendAPIRequestWithParams(params, `/schools/school/`);\n  }\n\n  public getSchoolCategories(): ISchoolCategory[] {\n    return [\n      {\n        type: SchoolCategoryType.K_12,\n        name: 'SchoolCategoryNameK12',\n      },\n      {\n        type: SchoolCategoryType.HIGHER_EDUCATION,\n        name: 'SchoolCategoryNameHigherEducation',\n      },\n      {\n        type: SchoolCategoryType.HOME_SCHOOL,\n        name: 'SchoolCategoryNameHomeSchool',\n      },\n      {\n        type: SchoolCategoryType.CORPORATION,\n        name: 'SchoolCategoryNameCorporation',\n      },\n      {\n        type: SchoolCategoryType.OTHER,\n        name: 'SchoolCategoryNameOther',\n      },\n    ];\n  }\n\n  public filterSchools(schools: ISchool[], query: string): ISchool[] {\n    const lowerQuery: string = query.toLocaleLowerCase();\n\n    return schools.filter((school: ISchool): boolean => {\n      const lowerTitle: string = school.title.toLocaleLowerCase();\n\n      return lowerTitle.includes(lowerQuery);\n    });\n  }\n\n  public getSchoolName(school: ISchool): string {\n    return school.title.match(/(.*) - (.*)/)[1].trim();\n  }\n\n  public getCityName(school: ISchool): string {\n    return school.title.match(/(.*) - (.*)/)[2].trim();\n  }\n\n  public sendSchoolRequest(data: ISchoolRequestBody): IPromise<any> {\n    return this.FetchData.sendAPIRequest('/v3/schools/school-request/', RequestType.POST, data);\n  }\n}\n","import angular from 'angular';\nimport { IBindingsOptions } from 'angular';\n\nexport const Output: (options?: IBindingsOptions) => (prototype: object, property: string | symbol) => void = (options?: IBindingsOptions): (prototype: object, property: string | symbol) => void => {\n  return (prototype: object & { $$bindings?: any }, property: string | symbol): void => {\n    const _options: IBindingsOptions = angular.merge({}, { alias: '', optional: false }, options);\n    const binding: { [property: string]: string } = { [property]: `&${_options.optional ? '?' : ''}${_options.alias}` };\n    let $$bindings: { [boundProperty: string]: string } = prototype.$$bindings || {};\n\n    $$bindings = angular.merge({}, $$bindings, binding);\n    Object.assign(prototype, { $$bindings });\n  };\n};\n","import {Inject, Injectable, Optional} from '@angular/core';\nimport {forkJoin, from, Observable, of} from 'rxjs';\nimport {UserQuery} from './user.query';\nimport {UserStore} from './user.store';\nimport {HttpService} from '../../../core/http/http.service';\nimport {catchError, map, switchMap, take, tap} from 'rxjs/operators';\nimport {PRE_FETCH_USER_DATA, User, UserSetup} from './user.model';\n\n@Injectable({providedIn: 'root'})\nexport class UserService {\n  constructor(private userStore: UserStore,\n              private userQuery: UserQuery,\n              protected http: HttpService,\n              @Inject(PRE_FETCH_USER_DATA) @Optional() protected preFetchUserData: User) {\n\n    if (preFetchUserData !== null) {\n      this.userStore.update(state => ({...state, ...preFetchUserData}));\n      this.userStore.setHasCache(true);\n    }\n  }\n\n  public fetchUser(): Observable<User> {\n    let userDataSource: Observable<User>;\n\n    if (this.userQuery.getHasCache()) {\n      userDataSource = this.userQuery.select();\n    } else {\n      userDataSource = forkJoin({\n        user: this.http.get<User>('/users/user_data/'),\n        userInfo: from(new Promise<User>(resolve => chrome.runtime.sendMessage({action: 'getUserInfo'}, resolve)))\n      }).pipe(\n        map(sources => ({...sources.user, ...{google_id: sources.userInfo.id, email: sources.userInfo.email}} as User)),\n        switchMap(user => {\n            if (user.is_teacher) {\n              return this.http.get<User>('/schools/user_setup/').pipe(\n                catchError(() => of(user)),\n                map(response => ({...user, ...response})),\n              );\n            }\n\n            return of(user);\n          }\n        ),\n        take(1),\n        tap(user => this.userStore.update({...user})),\n        tap(() => this.userStore.setHasCache(true)),\n      );\n    }\n\n    return userDataSource;\n  }\n\n  public updateUser(user: Partial<User>): void {\n    this.userStore.update(state => ({...state, ...user}));\n  }\n\n  public updateUserSetup(userSetup: UserSetup) {\n    return this.http.post<UserSetup>('/schools/user_setup/', userSetup).pipe(\n      take(1),\n      tap(response => this.userStore.update(state => ({...state, ...response}))),\n    );\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Query} from '@datorama/akita';\nimport {User} from './user.model';\nimport {UserState, UserStore} from './user.store';\n\n@Injectable({ providedIn: 'root' })\nexport class UserQuery extends Query<UserState> {\n  public user$ = this.select((user: User) => user);\n\n  constructor(protected store: UserStore) {\n    super(store);\n  }\n}\n","import {ID} from '@datorama/akita';\nimport {InjectionToken} from '@angular/core';\n\nexport interface UserSetup {\n  educational_system_setup?: ID;\n  school: ID;\n}\n\nexport interface User {\n  readonly educational_system_setup?: ID;\n  readonly email: string;\n  readonly first_name: string;\n  readonly first_time_setup: boolean;\n  readonly gdpr_check: boolean;\n  readonly google_id: string;\n  readonly id: ID;\n  readonly is_teacher: boolean;\n  readonly last_name: string;\n  readonly photo_url: string;\n  readonly school?: ID;\n  readonly school_name?: string;\n}\n\nexport const PRE_FETCH_USER_DATA = new InjectionToken<User>('app.pre-fetch-user-data');\n","import { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { AssignmentState } from '../../enums/assignmentStateType.enum';\nimport { AssignmentType } from '../../enums/assignmentType.enum';\nimport { IAssignment } from '../../models/assignment.model';\nimport SharedComponentsModule, { UnsubscribableComponent } from '../components.module';\nimport style from './assignmentsList.scss';\nimport template from './assignmentsList.tpl.html';\nimport {getTranslation} from '../../../../../../react_src/i18n';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assignments-list-new',\n  template: template,\n  style: style,\n})\nexport class AssignmentsListComponent extends UnsubscribableComponent {\n  @Input({ string: true })\n  public label: string;\n  @Input()\n  public assignments: IAssignment[];\n\n  constructor() {\n    'ngInject';\n\n    super();\n    this.label = '';\n    this.assignments = [];\n  }\n\n  public getIconTooltip(assignment: IAssignment): string {\n    const suffix: string = assignment.state === AssignmentState.DRAFT ?\n      `(${getTranslation('assignmentStateIconTooltipDraft')})` : '';\n    let tooltipText: string;\n\n    if (assignment.assignment_not_assessable) {\n      tooltipText = getTranslation('assignmentTypeIconTooltipWithoutAssessmentCriteria');\n    } else if (assignment.assignment_type === AssignmentType.WORK_UNIT) {\n      tooltipText = getTranslation('assignmentTypeIconTooltipWorkUnit');\n    } else if (assignment.assignment_type === AssignmentType.STANDARD_ASSIGNMENT) {\n      tooltipText = getTranslation('assignmentTypeIconTooltipStandardAssignment');\n    }\n\n    return tooltipText && suffix ? `${tooltipText} ${suffix}` : tooltipText;\n  }\n\n\n  public consumeEvent($event: Event): void {\n    if ($event && $event.stopPropagation instanceof Function) {\n      $event.stopPropagation();\n    }\n  }\n}\n","export enum SchoolCategory {\n  K_12,\n  HIGHER_EDUCATION,\n  HOME_SCHOOL,\n  CORPORATION,\n  OTHER,\n}\n\nexport interface SchoolRequest {\n  category: SchoolCategory;\n  city: string;\n  comment?: string;\n  country_code: string;\n  postal_code: string;\n  school_name: string;\n  state: string;\n  street_address: string;\n  website: string;\n}\n\nexport interface School {\n  readonly id: number;\n  readonly is_intercom_enabled: boolean;\n  readonly title: string;\n  readonly url: string;\n}\n\n\n","import React, {\n  useContext, useEffect, useRef, useState,\n} from 'react';\nimport {colors, fonts} from '../theme';\nimport AssignmentStudentList from './assignmentStudentList';\nimport AssignmentsListHeader from './assignmentsListHeader';\nimport AssignmentObjectivesList from './assignmentObjectivesList';\nimport AssignmentItem from '../components/assignmentItem';\nimport {GlobalContext, sortAssessmentsByStudentName} from '../utils';\nimport {getTranslation} from '../i18n';\nimport FullscreenProgress from '../components/fullscreenProgress';\nimport {getAssignmentAlternateLinkId, getFileId} from '../path';\nimport TopicItem from '../components/topicItem';\nimport {ReactComponent as SortIcon} from '../images/sort.svg';\nimport EditAssessmentCriteria from './editAssignment/editAssessmentCriteria';\nimport AccordionItem from '../components/accordionItem';\nimport NotConnectedItem from '../components/notConnectedItem';\nimport HideAssignmentsDialog from './hideAssignmentsDialog';\nimport Tooltip from \"../components/tooltip\";\n\nexport const classroomFields = `\n        name\n        assignments {\n          modified\n          created\n          connected\n          use_submitted_status\n          title\n          state\n          worktype\n          id\n          is_topic\n          topic_order\n          topic_id\n          alternate_link_id\n          courseDefinitions {\n            id\n            name\n          }\n          gradeSystem {\n            id\n            name\n            is_counter\n            order\n            grades {\n              id\n              name\n              is_passed\n              color\n              label\n              circle_label\n              order\n            }\n          }\n          assessments {\n            id\n            student_id\n            first_name\n            last_name\n            email\n          }\n          assignments {\n            title\n            id\n            connected\n            use_submitted_status\n            modified\n            created\n            state\n            worktype\n            is_topic\n            topic_order\n            topic_id\n            alternate_link_id\n            courseDefinitions {\n              id\n              name\n            }\n            gradeSystem {\n              id\n              name\n              is_counter\n              order\n              grades {\n                id\n                name\n                is_passed\n                color\n                label\n                circle_label\n                order\n              }\n            }\n            assessments {\n              id\n              student_id\n              first_name\n              last_name\n              email\n            }\n          }\n        }`;\n\nconst AssignmentList = () => {\n  const context = useContext(GlobalContext);\n  const {\n    Api, height, isStudent, sortingMethod, assignmentSortMethod, setAssignmentSortMethod, studybeeOpen\n  } = context;\n  const [assignmentSelected, setAssignmentSelected] = useState();\n  const [studentSelected, setStudentSelected] = useState();\n  const [editAssessmentCriteria, setEditAssessmentCriteria] = useState();\n  const [classroom, setClassroom] = useState();\n  const [showHideAssignmentsDialog, setHowHideAssignmentsDialog] = useState(false);\n  const lastStorageChange = useRef();\n\n  const [loading, setLoading] = useState(true);\n  const fetchAssignments = async () => {\n    const response = await Api.getClassroom(classroomFields);\n    setClassroom(response?.data?.classroom);\n    setLoading(false);\n    return response?.data?.classroom;\n  };\n\n  const assignments = classroom?.assignments || [];\n  const routeWithLinkId = (courseId = null) => {\n    const link = courseId || getAssignmentAlternateLinkId();\n    if (!link) {\n      return;\n    }\n    const allAssignments = assignments\n      .map((a) => [a, ...(a.assignments || [])])\n      .flat();\n    const assignment = allAssignments.find((a) => a.alternate_link_id === link);\n    if (assignment.connected) {\n      setAssignmentSelected(assignment);\n    }\n  };\n\n  const studentClicked = async (data, assignment, openGrid = false) => {\n    const {student} = data;\n    const promises = [];\n    promises.push(\n      Api.getClassroom(`\n    courseDefinitions {\n      id\n      name\n      course_id\n      objectives{\n        id\n        name\n        description\n      }\n    }`),\n    );\n\n    promises.push(\n      Api.getAssignmentWithAssessment(\n        assignment.id,\n        `\n    gradeSystem {\n      id\n      name\n      is_counter\n      is_main\n      is_final\n      grades{\n        id\n        name\n        is_passed\n        color\n        label\n      }\n    }`,\n      ),\n    );\n    const [resp1, resp2] = await Promise.all(promises);\n    const {courseDefinitions} = resp1?.data?.classroom;\n    const {gradeSystem} = resp2?.data?.assignment[0];\n    const params = {\n      openGrid,\n      studentId: student?.student_id,\n      assignment,\n      assessment: assignment?.assessments.find(\n        (a) => a.student_id === student?.student_id,\n      ),\n      courseDefinitions,\n      gradeSystem,\n      historyBack: () => {\n        setStudentSelected(null);\n        fetchAssignments();\n      },\n      students: assignment?.assessments,\n    };\n    setStudentSelected(params);\n  };\n\n  let listener;\n  const processStorageChange = async (change) => {\n    if (change?.studentSelected) {\n      const link = getAssignmentAlternateLinkId();\n      const allAssignments = assignments\n        .map((a) => [a, ...(a.assignments || [])])\n        .flat();\n      const assignment = allAssignments.find(\n        (a) => a.alternate_link_id === link,\n      );\n      if (!assignment.connected) {\n        return;\n      }\n      const {assessments} = assignment;\n      const student = assessments.find(\n        (a) => `${a.first_name} ${a.last_name}` === change.studentSelected,\n      );\n      studentClicked({student}, assignment);\n      chrome.storage.sync.set({studentSelected: 0});\n    } else if (change?.assignmentSelected) {\n      setStudentSelected(null);\n      routeWithLinkId(change?.assignmentSelected);\n      chrome.storage.sync.set({assignmentSelected: 0});\n    }\n    if (change?.editAssignment) {\n      const newClassroom = await fetchAssignments();\n      const assignmentId = change.editAssignment;\n      const allAssignments = newClassroom?.assignments\n        .map((a) => [a, ...(a.assignments || [])])\n        .flat();\n      const assignment = allAssignments.find((a) => a.id === assignmentId);\n      setEditAssessmentCriteria(assignment);\n      chrome.storage.sync.set({editAssignment: 0});\n    }\n    if (change?.connectNewAssignment) {\n      studybeeOpen();\n      const title = change.connectNewAssignment;\n      chrome.storage.sync.set({connectNewAssignment: 0});\n      const assignment = await Api.newAssignment(title);\n      const newClassroom = await fetchAssignments();\n      const assignmentId = assignment.id;\n      const allAssignments = newClassroom?.assignments\n        .map((a) => [a, ...(a.assignments || [])])\n        .flat();\n      const assignmentFromDb = allAssignments.find((a) => a.id === assignmentId);\n      setEditAssessmentCriteria(assignmentFromDb);\n    }\n    if (change?.disconnectNewAssignment) {\n      const title = change.disconnectNewAssignment;\n      chrome.storage.sync.set({disconnectNewAssignment: 0});\n      const assignment = await Api.newAssignment(title);\n      const newClassroom = await fetchAssignments();\n      const assignmentId = assignment.id;\n      const allAssignments = newClassroom?.assignments\n        .map((a) => [a, ...(a.assignments || [])])\n        .flat();\n      const assignmentFromDb = allAssignments.find((a) => a.id === assignmentId);\n      await Api.updateAssignment({...assignmentFromDb, connected: false});\n      await fetchAssignments();\n    }\n  };\n\n  const processStorage = async () => {\n    chrome.storage.sync.get(\n      [\n        'editAssignment',\n        'assignmentDriveSelected',\n        'studentSelected',\n        'assignmentSelected',\n        'connectNewAssignment',\n        'disconnectNewAssignment',\n      ],\n      (storage) => {\n        processStorageChange(storage);\n      },\n    );\n  };\n\n  const storageListener = async (change) => {\n    const changes = Object.keys(change).map((key) => {\n      const obj = {};\n      obj[key] = change[key].newValue;\n      return obj;\n    });\n    const [firstChange] = changes;\n    if (firstChange !== lastStorageChange.current) {\n      lastStorageChange.current = firstChange;\n      await processStorageChange(firstChange);\n    }\n  };\n\n  useEffect(() => {\n    if (!assignments.length) {\n      return;\n    }\n    if (listener) {\n      return;\n    }\n    if (!process.env.REACT_APP_STANDALONE) {\n      chrome.storage.sync.get(['assignmentDriveSelected'], async (selected) => {\n        if (selected?.assignmentDriveSelected !== 0) {\n          const fileId = await getFileId();\n          if (!fileId) {\n            return;\n          }\n          const temp = (await Api.getAssignmentDrive(fileId))[0];\n          const allAssignments = assignments\n            .map((a) => [a, ...(a.assignments || [])])\n            .flat();\n          const assignment = allAssignments.find(\n            (a) => a.id === temp.assignment,\n          );\n          if (!assignment.connected) {\n            return;\n          }\n          chrome.storage.sync.set({assignmentDriveSelected: 0});\n          studentClicked(\n            {student: {student_id: temp.student_id}},\n            assignment,\n          );\n        }\n      });\n\n      processStorage();\n      chrome.storage.onChanged.addListener(storageListener);\n    }\n    return function cleanup() {\n      if (!process.env.REACT_APP_STANDALONE) {\n        chrome.storage.onChanged.removeListener(storageListener);\n      }\n    };\n  }, [assignments]);\n\n  useEffect(() => {\n    fetchAssignments();\n  }, []);\n\n  useEffect(() => {\n    if (!showHideAssignmentsDialog) {\n      fetchAssignments();\n    }\n  }, [showHideAssignmentsDialog]);\n\n  const handleAssignmentMenuClick = async (assignment, {name}) => {\n    switch (name) {\n      case 'DISCONNECT':\n        if (assignment.is_topic && assignment?.assignments?.filter((a) => a.connected).length > 0) {\n          setHowHideAssignmentsDialog(assignment);\n          return;\n        }\n        await Api.updateAssignment({...assignment, connected: false});\n        await fetchAssignments();\n        break;\n      case 'CONNECT':\n        await Api.updateAssignment({...assignment, connected: true});\n        await fetchAssignments();\n        break;\n      case 'ASSESSMENT_CRITERIA':\n        setEditAssessmentCriteria(assignment);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const hideAllAssignments = async () => {\n    const topic = showHideAssignmentsDialog;\n    Api.updateAssignment({...topic, connected: false});\n    await Promise.all(topic.assignments.filter((a) => a.connected).map((a) => Api.updateAssignment({\n      ...a,\n      connected: false,\n    })));\n    setHowHideAssignmentsDialog(false);\n  };\n\n  const assignmentClicked = async (assignment) => {\n    if (isStudent) {\n      studentClicked({student: assignment.assessments[0]}, assignment);\n      return;\n    }\n    if (assignment.assignment_not_assessable) {\n      setEditAssessmentCriteria(assignment);\n    }\n    setAssignmentSelected(assignment);\n  };\n\n  const openGridView = async (topic) => {\n    const sortedAssessments = sortAssessmentsByStudentName(\n      topic.assessments,\n      sortingMethod,\n    );\n    studentClicked({student: sortedAssessments[0]}, topic, true);\n  };\n\n  if (editAssessmentCriteria) {\n    return (\n      <EditAssessmentCriteria\n        assignment={editAssessmentCriteria}\n        onClose={() => {\n          fetchAssignments();\n          setEditAssessmentCriteria(null);\n          setAssignmentSelected(null);\n        }}\n      />\n    );\n  }\n\n  if (studentSelected) {\n    return <AssignmentObjectivesList {...studentSelected} />;\n  }\n  if (assignmentSelected) {\n    return (\n      <AssignmentStudentList\n        assignment={assignmentSelected}\n        back={() => {\n          fetchAssignments();\n          setAssignmentSelected(null);\n        }}\n      />\n    );\n  }\n\n  const empty = assignments.length === 0;\n\n  const sortByCreate = (a, b) => {\n    const ad = new Date(a.created);\n    const bd = new Date(b.created);\n    return bd - ad;\n  };\n\n  let assignmentsNotInTopics = assignments\n    .filter((a) => !a.is_topic)\n    .sort(sortByCreate);\n  const topics = assignments\n    .filter((a) => a.is_topic)\n    .sort((a, b) => a.topic_order - b.topic_order);\n\n  if (assignmentSortMethod === 'alpha') {\n    assignmentsNotInTopics = assignmentsNotInTopics.sort((a, b) => a.title.localeCompare(b.title));\n  }\n  const sortedAssignments = [...assignmentsNotInTopics, ...topics];\n  let notConnected = [...assignmentsNotInTopics, ...topics.map((a) => a.assignments), ...topics].flat().filter((a) => !a.connected).filter(a => {\n    if (a.is_topic) {\n      const anyConnectedAssignments = a.assignments.filter(aa => aa.connected).length > 0;\n      if (anyConnectedAssignments) {\n        return false;\n      }\n    }\n    return true;\n  });\n  if (notConnected.length === 0) {\n    notConnected = [{text: getTranslation('noNotConnectedItemsPlaceholder'), placeholder: true}]\n  }\n\n  return (\n    <div>\n      <AssignmentsListHeader title={getTranslation('assignmentsPage')}/>\n      {loading && empty && <FullscreenProgress/>}\n      <div style={{display: 'flex', justifyContent: 'flex-end', borderBottom: `1px solid ${colors.borderColor}`}}>\n        <Tooltip\n          title={assignmentSortMethod === 'alpha' ? getTranslation('standardSortTooltip') : getTranslation('sortAssignmentAlphabetically')}\n        >\n          <div style={{margin: '6px 12px 4px 0px'}}>\n            <SortIcon\n              style={{\n                height: '25px',\n                cursor: 'pointer',\n                transform: `rotate(${assignmentSortMethod === 'alpha' ? 0 : 180}deg)`,\n              }}\n              fill={colors.darkGrey}\n              onClick={async () => {\n                setAssignmentSortMethod(assignmentSortMethod === 'alpha' ? null : 'alpha');\n              }}\n            />\n          </div>\n        </Tooltip>\n      </div>\n      <div style={{height: height - 100, overflow: 'scroll'}}>\n        {empty && !loading && (\n          <div style={{margin: '20px'}}>\n            <span style={{...fonts.LARGE}}>\n              {getTranslation('assignmentOverviewEmptyList')}\n            </span>\n          </div>\n        )}\n        {sortedAssignments.map((assignment) => {\n          let {connected} = assignment;\n          if (assignment.is_topic) {\n            connected = assignment.assignments.filter((a) => a.connected).length > 0 || assignment.connected;\n            if (!connected) {\n              return null;\n            }\n          }\n\n          return (\n            <div key={assignment.id}>\n              {assignment.is_topic && (\n                <TopicItem\n                  isStudent={isStudent}\n                  assignment={assignment}\n                  onAssignmentClicked={assignmentClicked}\n                  onGridClicked={openGridView}\n                  handleAssignmentMenuClick={handleAssignmentMenuClick}\n                  editAssessmentCriteria={editAssessmentCriteria}\n                />\n              )}\n              {(!assignment.is_topic && connected) && (\n                <AssignmentItem\n                  isStudent={isStudent}\n                  assignment={assignment}\n                  onAssignmentClicked={assignmentClicked}\n                  handleAssignmentMenuClick={handleAssignmentMenuClick}\n                  editAssessmentCriteria={editAssessmentCriteria}\n                  onGridClicked={openGridView}\n                />\n              )}\n            </div>\n          );\n        })}\n        {!isStudent\n        && <AccordionItem\n          summary={(\n            <div style={{height: '50px', alignItems: 'center', display: 'flex'}}>\n              <span style={{...fonts.MEDIUM, color: colors.topic}}>{getTranslation('notConnectedToStudyBee')}</span>\n            </div>\n          )}\n          details={(\n            <div style={{display: 'flex', flexDirection: 'column', width: '100%'}}>\n              {notConnected.map((a) => {\n                if (a.placeholder) {\n                  return <span style={{\n                    ...fonts.MEDIUM,\n                    backgroundColor: colors.white,\n                    padding: '10px 10px 10px 14px'\n                  }}>{a.text}</span>\n                }\n                return (\n                  <NotConnectedItem\n                    assignment={a}\n                    handleAssignmentMenuClick={handleAssignmentMenuClick}\n                    topic={topics.find((t) => t.id === a.topic_id)}\n\n                  />\n                );\n              })}\n            </div>\n          )}\n        />\n        }\n      </div>\n      <HideAssignmentsDialog\n        open={showHideAssignmentsDialog}\n        no={async () => {\n          await Api.updateAssignment({...showHideAssignmentsDialog, connected: false});\n          setHowHideAssignmentsDialog(false);\n        }}\n        yes={hideAllAssignments}/>\n    </div>\n  );\n};\n\nexport default AssignmentList;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1179\",\n  d: \"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5l-4-4V4h8v3.5z\",\n  fill: \"current\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1180\",\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n});\n\nfunction SvgIconBkNotAssessed(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/51cd8713c4f4830078600e517022ee99-icon_bk_not_assessed.svg\";\nexport { SvgIconBkNotAssessed as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"Group 2776\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Rectangle 3722\",\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  \"data-name\": \"Path 1413\",\n  d: \"M12 1H5a2 2 0 00-2 2v18a2 2 0 002 2h14a2 2 0 002-2V10a9 9 0 00-9-9zM5 3h7a7.008 7.008 0 017 7v8.293l-3.145-3.145a5.079 5.079 0 10-1.555 1.269L18.878 21H5zm10 9a3 3 0 11-3-3 3 3 0 013 3z\",\n  fill: \"current\"\n}));\n\nfunction SvgIconBkAssessing(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/fa3b9590476e06963ca85f394c400602-icon_bk_assessing.svg\";\nexport { SvgIconBkAssessing as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.321 11.98l.398.059c1.051.153 2.112.23 3.173.23h.788c.446 0 .807.361.807.807a.822.822 0 01-.807.822l-2.2.04a.292.292 0 00-.286.292c0 .158.128.287.287.287h1.758c.576 0 1.147-.066 1.704-.193.186-.17.376-.334.569-.496l.642-.538c.3-.253.712-.33 1.083-.203a.39.39 0 01.216.18l.686-.397a1.602 1.602 0 011.572-.017.557.557 0 01.048.947l-1.5 1.036a12.265 12.265 0 01-4.931 2l-1.427.24-3.184.349a2 2 0 00-1.619 1.195l-.164.38H1l1.082-2.467a9.376 9.376 0 012.574-3.429l.157-.13a4.466 4.466 0 013.508-.993zM15.981 1l1.13.695-6.717 9.592-4.929-4.725.972-.89 3.753 3.597L15.982 1z\",\n  fill: \"#4caf50\",\n  fillRule: \"nonzero\"\n});\n\nfunction SvgSubmitted(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/ee5239aacd07a6134da5b3fb2439f639-submitted.svg\";\nexport { SvgSubmitted as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.321 11.98l.398.059c1.051.153 2.112.23 3.173.23h.788c.446 0 .807.361.807.807a.822.822 0 01-.807.822l-2.2.04a.292.292 0 00-.286.292c0 .158.128.287.287.287h1.758c.576 0 1.147-.066 1.704-.193.186-.17.376-.334.569-.496l.642-.538c.3-.253.712-.33 1.083-.203a.39.39 0 01.216.18l.686-.397a1.602 1.602 0 011.572-.017.557.557 0 01.048.947l-1.5 1.036a12.265 12.265 0 01-4.931 2l-1.427.24-3.184.349a2 2 0 00-1.619 1.195l-.164.38H1l1.082-2.467a9.376 9.376 0 012.574-3.429l.157-.13a4.466 4.466 0 013.508-.993zM15.981 1l1.13.695-6.717 9.592-4.929-4.725.972-.89 3.753 3.597L15.982 1z\",\n  fill: \"#FA4D56\",\n  fillRule: \"nonzero\"\n});\n\nfunction SvgSubmittedLate(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/3964e1b2f3653068b022c6dfd928b157-submitted-late.svg\";\nexport { SvgSubmittedLate as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.321 11.812l.4.06c1.05.157 2.11.236 3.171.236h.769c.456 0 .826.37.826.826a.842.842 0 01-.826.842l-2.173.04a.3.3 0 00-.294.3c0 .162.131.293.294.293h1.751c.576 0 1.148-.066 1.704-.196.186-.174.376-.343.569-.509l.646-.554c.297-.256.709-.334 1.08-.205.095.034.17.1.216.182l.685-.404a1.573 1.573 0 011.572-.017.574.574 0 01.05.968l-1.503 1.062a12.154 12.154 0 01-4.95 2.052l-1.407.243-3.177.355a2 2 0 00-1.62 1.21l-.17.404H1l1.09-2.547a9.534 9.534 0 012.566-3.49l.171-.147a4.38 4.38 0 013.494-1.004zM14.65 1l.822.841-3.877 3.965 3.877 3.965-.822.84-3.877-3.964-3.877 3.965-.822-.841L9.95 5.806 6.074 1.84 6.896 1l3.877 3.965L14.65 1z\",\n  fill: \"#FA4D56\",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgNotSubmittedLate(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/059c7a2238d686be7739525e3a1b6d0a-not-submitted-late.svg\";\nexport { SvgNotSubmittedLate as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.321 11.812l.4.06c1.05.157 2.11.236 3.171.236h.769c.456 0 .826.37.826.826a.842.842 0 01-.826.842l-2.173.04a.3.3 0 00-.294.3c0 .162.131.293.294.293h1.751c.576 0 1.148-.066 1.704-.196.186-.174.376-.343.569-.509l.646-.554c.297-.256.709-.334 1.08-.205.095.034.17.1.216.182l.685-.404a1.573 1.573 0 011.572-.017.574.574 0 01.05.968l-1.503 1.062a12.154 12.154 0 01-4.95 2.052l-1.407.243-3.177.355a2 2 0 00-1.62 1.21l-.17.404H1l1.09-2.547a9.534 9.534 0 012.566-3.49l.171-.147a4.38 4.38 0 013.494-1.004zM14.65 1l.822.841-3.877 3.965 3.877 3.965-.822.84-3.877-3.964-3.877 3.965-.822-.841L9.95 5.806 6.074 1.84 6.896 1l3.877 3.965L14.65 1z\",\n  fill: \"#A8A8A8\",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgNotSubmitted(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/2b972ad49182c7583352a4b05cda6c43-not-submitted.svg\";\nexport { SvgNotSubmitted as ReactComponent };","import React, {memo} from \"react\";\nimport {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport noteImage from '../images/png/sb-ico-note.png';\nimport feedbackImage from '../images/png/sb-ico-feedback.png';\nimport Tooltip from \"./tooltip\";\nimport Icon from \"./icon\";\nimport PublishedIcon from \"./publishedIcon\";\n\nconst styles = {\n  item: {\n    display: \"flex\",\n    width: \"40px\",\n    height: \"50px\",\n    // border: \"0px solid red\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n  },\n  icon: {height: \"20px\", width: \"20px\"},\n  iconWMargin: {\n    height: \"20px\",\n    width: \"20px\",\n    marginBottom: \"10px\",\n  },\n};\n\nconst GridObjectivesSummaryItem = (props) => {\n  let {assessments, objectives, selected, selectedObjective = null, gradeOnly = true} = props;\n  if (!objectives) {\n    objectives = assessments.map((a) => ({\n      name: a.objectiveName,\n      id: a.objective_id,\n    }));\n  }\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n        padding: \"0px\",\n        borderRight: `1px solid ${colors.borderColor}`,\n      }}\n    >\n      {objectives.sort((a, b) => (a.name.localeCompare(b.name, undefined, {\n        numeric: true,\n        sensitivty: 'base'\n      }))).map((o) => {\n        const assessment = assessments.find((a) => a.objective_id === o.id) || {\n          id: Math.random(),\n          grade: -1,\n        };\n        const connectedToObjective = assessment?.grade !== -1;\n        const grade = assessment?.grade?.name || \"-\";\n        const isSelectedObjective = selectedObjective\n          ? o.id === selectedObjective?.id\n          : true;\n        return (\n          <div\n            key={o.id}\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              borderRight: `${gradeOnly ? 0 : 1}px solid ${\n                selected ? colors.borderColorDark : colors.borderColor\n              }`,\n            }}\n          >\n            <Tooltip key={assessment.id} title={o.name}>\n              <div style={{...styles.item, position: 'relative', width: '40px'}}>\n                <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\n                <span\n                  style={{\n                    ...fonts.LARGE,\n                    fontWeight: \"800\",\n                    color: assessment?.grade?.color || colors.iconColorLight,\n                  }}\n                >\n                  {connectedToObjective ? grade : \"\"}\n                </span>\n                  {connectedToObjective &&\n                  <PublishedIcon published={assessment.grade_published} active={!!assessment?.grade?.name}/>\n                  }\n                </div>\n                {!isSelectedObjective\n                && <div style={{\n                  position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: '#888888CC',\n                }}/>}\n              </div>\n            </Tooltip>\n            {!gradeOnly &&\n            <Tooltip title={getTranslation(\"overallFeedback\")}>\n              <div style={styles.item}>\n                <Icon file={feedbackImage} active={assessment.feedback} style={styles.icon}/>\n                <PublishedIcon published={assessment.feedback_published} active={!!assessment.feedback}/>\n              </div>\n            </Tooltip>}\n            {!gradeOnly && <Tooltip title={getTranslation(\"overallPrivateNotesMode\")}>\n              <div style={{...styles.item}}>\n                <Icon\n                  file={noteImage}\n                  active={assessment.private_note}\n                  style={styles.iconWMargin}/>\n              </div>\n            </Tooltip>}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default GridObjectivesSummaryItem;\n","export default __webpack_public_path__ + \"images/9ad44b9c66d5efcd5912dcb68272f013-sb-ico-feedback.png\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.1 12.4l.8-.8 2 2V2.2H14v11.3l2-2 .8.8-3.4 3.4-3.3-3.3zm-9-9H9v1.1H1.1V3.4zm2.3 3.4H9v1.1H3.4V6.8zm2.2 3.3H9v1.1H5.6v-1.1z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.1 12.4l.8-.8 2 2V2.2H14v11.3l2-2 .8.8-3.4 3.4-3.3-3.3zm-9-9H9v1.1H1.1V3.4zm2.3 3.4H9v1.1H3.4V6.8zm2.2 3.3H9v1.1H5.6v-1.1z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#656565\"\n});\n\nfunction SvgSort(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/df3f19905b71263d8726f86cefe46373-sort.svg\";\nexport { SvgSort as ReactComponent };","import React, { useContext } from \"react\";\nimport { Menu } from \"@material-ui/icons\";\nimport { colors, fonts } from \"../theme\";\nimport { ReactComponent as PaneIcon } from \"../images/pane.svg\";\nimport LinearProgress from \"../components/LinearProgress\";\nimport { GlobalContext } from \"../utils\";\nimport { getTranslation } from \"../i18n\";\nimport Tooltip from \"../components/tooltip\";\n\nconst AssignmentsListHeader = (props) => {\n  const context = useContext(GlobalContext);\n  const { toggleMenu, openDrawer } = context;\n  const { title, gridOpen = false, toggleGrid, isTopic=true } = props;\n\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: \"60px\",\n        display: \"flex\",\n        backgroundColor: isTopic?colors.topic:colors.green,\n        border: \"0px solid blue\",\n        position: \"relative\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          flex: 1,\n          padding: \"14px\",\n          border: \"0px solid red\",\n        }}\n      >\n        <Menu\n          style={{\n            cursor: \"pointer\",\n            color: colors.white,\n            height: \"25px\",\n            marginTop: \"2px\",\n            marginRight: \"4px\",\n          }}\n          onClick={openDrawer}\n        />\n        <p\n          style={{\n            ...fonts.LARGE,\n            color: colors.white,\n            marginLeft: \"14px\",\n            marginTop: \"4px\",\n            fontWeight: \"500\",\n          }}\n        >\n          {title}\n        </p>\n        {gridOpen && (\n          <div\n            onClick={toggleGrid}\n            style={{\n              position: \"absolute\",\n              top: \"20px\",\n              right: \"16px\",\n              cursor: \"pointer\",\n            }}\n          >\n            <Tooltip title={getTranslation(\"collapseGridTooltip\")}>\n              <div>\n                <PaneIcon />\n              </div>\n            </Tooltip>\n          </div>\n        )}\n      </div>\n      <div\n        style={{\n          position: \"absolute\",\n          bottom: 0,\n          left: 0,\n          right: 0,\n        }}\n      >\n        <LinearProgress />\n      </div>\n    </div>\n  );\n};\n\nexport default AssignmentsListHeader;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 17a1 1 0 01-1-1V1a1 1 0 011-1h15a1 1 0 011 1v15a1 1 0 01-.883.993L16 17H1zM12 1H1v15h11V1z\",\n  fill: \"#FFF\",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgPane(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 17,\n    height: 17,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/374733bcf42d959d7c96132ed5948fe7-pane.svg\";\nexport { SvgPane as ReactComponent };","import React from 'react';\nimport {colors, fonts} from '../theme';\nimport {getTranslation} from '../i18n';\n\nconst MultiEditDescription = () => {\n  return(\n    <div style={{ border:'1px solid '+ colors.green, marginBottom:'20px', padding:'20px', backgroundColor:colors.white, borderRadius:'5px'}}>\n      <span style={{...fonts.MEDIUM}}>{getTranslation('multiedit_description')}</span>\n    </div>\n  );\n\n};\n\nexport default MultiEditDescription;\n","import {\n  FormControl,\n  InputBase,\n  InputLabel,\n  ListItemText,\n  MenuItem,\n  Select,\n  withStyles,\n} from '@material-ui/core';\nimport React from 'react';\nimport { colors, fonts } from '../theme';\n\nconst BootstrapInput = withStyles((theme) => ({\n  input: {\n    ...fonts.MEDIUM,\n    fontSize: '18px',\n    height: '35px',\n    alignItems: 'flex-end',\n    display: 'flex',\n    borderBottom: `1px solid ${colors.borderColor}`,\n    paddingBottom: '0px',\n    '&:focus': {\n      color: colors.green,\n    },\n  },\n}))(InputBase);\n\nconst OptionsDropdown = (props) => {\n  const {\n    options, helpText, value, handleChange, style = {},\n  } = props;\n  return (\n    <FormControl style={{ flex: 1, display: 'flex', ...style }}>\n      <InputLabel id={helpText}>\n        <span\n          style={{\n            ...fonts.SMALL,\n            color: value === '' ? colors.red : colors.green,\n          }}\n        >\n          {helpText}\n        </span>\n      </InputLabel>\n      <Select\n        labelId={helpText}\n        style={{ width: '100%' }}\n        value={value}\n        onChange={handleChange}\n        renderValue={(id) => (\n          <span\n            style={{\n              ...fonts.MEDIUM,\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n            }}\n          >\n            {options.find((o) => o.id === id)?.name}\n          </span>\n        )}\n        input={<BootstrapInput />}\n      >\n        {options.map((option) => (\n          <MenuItem key={option.id} value={option.id}>\n            <ListItemText\n              primary={<span style={{ ...fonts.MEDIUM }}>{option.name}</span>}\n              secondary={<span style={fonts.TINY}>{option.description}</span>}\n            />\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\n\nexport default OptionsDropdown;\n","import React, {useState, useEffect} from 'react';\nimport Alert from '@material-ui/lab/Alert';\n\nexport default function Toast(props) {\n  const {\n    timeout = 3000, severity = 'error', message, open, onClose = () => {\n    }\n  } = props;\n  const [internalOpen, setInternalOpen] = useState(open);\n\n  useEffect(() => {\n    if (open) {\n      setInternalOpen(true);\n      setTimeout(() => {\n        setInternalOpen(false);\n        onClose();\n      }, timeout);\n    }\n  }, [open]);\n\n  if (!internalOpen) {\n    return null;\n  }\n  return (\n    <div style={{display: 'flex', position: 'absolute', bottom: 0, left: 0, right: 0, justifyContent:'center', boxShadow: \"0px 5px 10px rgba(0,0,0,0.1)\", padding:'20px', zIndex:10000}}>\n      <Alert severity={severity}>{message}</Alert>\n    </div>\n  );\n}\n","import React from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {colors} from \"../theme\";\n\nconst StyledAccordionDetails = withStyles({\n  root: {\n    backgroundColor: colors.grey,\n    padding: '0px',\n  },\n})(AccordionDetails);\n\nconst StyledAccordion = withStyles({\n  root: {\n    '&$expanded': {\n      marginTop: '0px',\n    },\n  },\n  expanded: {},\n})(Accordion);\n\nconst StyledAccordionSummary = withStyles({\n  root: {\n    minHeight: \"50px\",\n    padding: \"0px\",\n    marginLeft: \"10px\",\n    \"&$expanded\": {\n      minHeight: \"0px\",\n      marginTop: '0px',\n    },\n  },\n  content: {\n    // padding: '0px',\n    margin: \"0px\",\n    \"&$expanded\": {\n      padding: \"0px\",\n      margin: \"0px\",\n      minHeight: \"0px\",\n    },\n  },\n  expandIcon: {\n    padding:'0px',\n    margin: \"0px 8px 0px 0px\",\n    \"&$expanded\": {},\n  },\n  expanded: {},\n})(AccordionSummary);\n\n\nconst AccordionItem = (props) => {\n  const { summary, details, style } = props;\n  return (\n      <StyledAccordion  square TransitionProps={{ unmountOnExit: true }}>\n        <StyledAccordionSummary expandIcon={<ExpandMoreIcon/>}>\n          {summary}\n        </StyledAccordionSummary>\n        <StyledAccordionDetails>\n          {details}\n        </StyledAccordionDetails>\n      </StyledAccordion>\n  );\n};\n\nexport default AccordionItem;\n","import React, {useState, memo} from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport {ReactComponent as GridIcon} from '../images/grid.svg';\nimport {colors, fonts} from '../theme';\nimport MoreMenu from './moreMenu';\nimport {getTranslation} from '../i18n';\nimport {getAssignmentIcon} from '../utils';\nimport Tooltip from \"./tooltip\";\n\nconst menuOptionsConnected = [\n  {\n    title: getTranslation('editAssessmentCriteriaBtn'),\n    name: 'ASSESSMENT_CRITERIA',\n  },\n  {\n    title: getTranslation('disconnectFromStudyBee'),\n    name: 'DISCONNECT',\n  },\n];\n\nconst menuOptionsNotConnected = [\n  {\n    title: getTranslation('connectToStudybee'),\n    name: 'CONNECT',\n  },\n];\n\nconst AssignmentItem = (props) => {\n  const {\n    assignment,\n    onAssignmentClicked,\n    handleAssignmentMenuClick,\n    inTopic = false,\n    onGridClicked,\n    isStudent,\n  } = props;\n  const [focused, setFocused] = useState(false);\n\n  const click = () => {\n    if(assignment.connected){\n      onAssignmentClicked(assignment);\n    }\n  };\n\n  return (\n    <div\n      onMouseEnter={() => setFocused(true)}\n      onMouseLeave={() => setFocused(false)}\n      style={{\n        height: '70px',\n        borderBottom: `1px solid ${colors.borderColor}`,\n        alignItems: 'center',\n        display: 'flex',\n        paddingLeft: inTopic ? '30px' : '16px',\n        backgroundColor: focused ? colors.borderColor : colors.white,\n      }}\n    >\n      <ButtonBase\n        onClick={click}\n        focusRipple\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          flex: 1,\n          justifyContent: 'flex-start',\n        }}\n      >\n        {getAssignmentIcon(assignment)}\n        <p\n          style={{\n            ...fonts.MEDIUM,\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            width: '190px',\n            textAlign: 'start',\n          }}\n        >\n          {assignment.title}\n        </p>\n      </ButtonBase>\n      <div\n        style={{\n          display: 'flex',\n          border: '0px solid',\n          width: '100%',\n          alignItems: 'center',\n          justifyContent: 'flex-end',\n        }}\n      >\n        {!isStudent && (\n          <>\n            {assignment.connected &&\n            <Tooltip title={getTranslation('gridOverviewTooltip')}>\n              <div>\n                <GridIcon\n                  style={{width: '20px', height: '20px', cursor: 'pointer'}}\n                  fill={colors.darkGrey}\n                  onClick={() => onGridClicked(assignment)}\n                />\n              </div>\n            </Tooltip>\n            }\n\n            <MoreMenu\n              iconStyle={{color: colors.darkGrey, marginBottom: '4px'}}\n              options={assignment.connected?menuOptionsConnected:menuOptionsNotConnected}\n              onClick={(option) => handleAssignmentMenuClick(assignment, option)\n              }\n            />\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(AssignmentItem);\n","import React from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputBase from '@material-ui/core/InputBase';\nimport {colors, fonts} from '../theme';\n\nconst StyledSelect = withStyles(() => ({\n  icon: {\n    color: colors.white,\n  },\n}))(Select);\n\nconst BootstrapInput = withStyles(() => ({\n  input: {\n    ...fonts.MEDIUM,\n    borderRadius: 0,\n    color: colors.white,\n    marginTop: '2px',\n    // '&:focus': {\n    //   borderRadius: 4,\n    //   borderColor: '#80bdff',\n    //   boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n    // },\n  },\n}))(InputBase);\n\nconst StudentDropDown = (props) => {\n  const {\n    students, defaultValue, label, onSelect,\n  } = props;\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        border: '0px solid red',\n        marginTop: '-8px',\n        marginLeft: '4px',\n      }}\n    >\n      <div style={{display: 'flex', flexDirection: 'column'}}>\n        <StyledSelect\n          style={{\n            border: '0px solid yellow', height: '25px', color: colors.white, width: '260px',\n          }}\n          input={<BootstrapInput/>}\n          value={defaultValue}\n        >\n          {students.map((student) => {\n            if (!student.student_name) {\n              student.student_name = `${student.first_name} ${student.last_name}`;\n            }\n            return (\n              <MenuItem\n                onClick={() => {\n                  onSelect(student.student_id);\n                }}\n                key={student.student_id}\n                value={student.student_id}\n                style={{...fonts.SMALL, color: colors.textColor}}\n              >\n                {student.student_name}\n              </MenuItem>\n            );\n          })}\n        </StyledSelect>\n        <span style={{\n          ...fonts.SMALL,\n          color: colors.white,\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          whiteSpace: 'nowrap',\n          width: '250px',\n          marginTop:'-2px',\n        }}>{label}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default StudentDropDown;\n","import React from 'react';\nimport {ArrowBack} from '@material-ui/icons';\nimport {colors, fonts} from '../theme';\nimport StudentDropDown from '../components/studentDropDown';\nimport LinearProgress from '../components/LinearProgress';\nimport {ReactComponent as GridIcon} from '../images/grid.svg';\nimport {getTranslation} from '../i18n';\nimport Tooltip from \"../components/tooltip\";\n\nconst AssignmentObjectivesListHeader = (props) => {\n  const {\n    back,\n    students,\n    title,\n    selectedStudentId,\n    onStudentSelected,\n    isTopic,\n    onToggleGrid,\n    isStudent,\n  } = props;\n  return (\n    <div\n      style={{\n        position: 'relative',\n        width: '100%',\n        height: '60px',\n        display: 'flex',\n        backgroundColor: isTopic ? colors.topic : colors.green,\n        border: '0px solid blue',\n        zIndex: 1000,\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          flex: 1,\n          padding: '14px',\n          border: '0px solid red',\n        }}\n      >\n        <ArrowBack\n          style={{\n            cursor: 'pointer',\n            color: colors.white,\n            height: '25px',\n            marginTop: '2px',\n            marginRight: '4px',\n          }}\n          onClick={back}\n        />\n        {!isStudent\n        && <StudentDropDown\n          onSelect={onStudentSelected}\n          students={students}\n          defaultValue={selectedStudentId}\n          label={title}\n        />\n        }\n        {isStudent\n        && <div style={{display: 'flex', flexDirection: 'column'}}>\n          <span style={{...fonts.LARGE, color: colors.white}}>{students[0].first_name} {students[0].last_name}</span>\n          <span style={{\n            ...fonts.MEDIUM,\n            color: colors.white,\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            width:'300px',\n          }}>{title}</span>\n        </div>\n        }\n\n        {!isStudent\n        && <div style={{\n          position: 'absolute', top: '20px', right: '16px', display: 'flex', alignItems: 'center',\n        }}>\n          <div style={{cursor: 'pointer', alignItems: 'center', display: 'flex'}} onClick={onToggleGrid}>\n            <Tooltip title={getTranslation('gridOverviewTooltip')}>\n              <div>\n                <GridIcon fill={colors.white}/>\n              </div>\n            </Tooltip>\n          </div>\n        </div>\n        }\n\n      </div>\n      <div style={{\n        position: 'absolute', bottom: 0, left: 0, right: 0,\n      }}>\n        <LinearProgress/>\n      </div>\n    </div>\n  );\n};\n\nexport default AssignmentObjectivesListHeader;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { ArrowBack } from '@material-ui/icons';\nimport { colors, fonts } from '../theme';\nimport { useWindowDimensions } from '../hooks';\nimport { GlobalContext } from '../utils';\n\nconst GridHeader = (props) => {\n  const {\n    assignment, back,\n  } = props;\n  const context = useContext(GlobalContext);\n  const { Api } = context;\n  const window = useWindowDimensions();\n  const [classroom, setClassroom] = useState();\n\n  useEffect(() => {\n    (async () => {\n      const response = await Api.getClassroom('name');\n      setClassroom(response?.data?.classroom);\n    })();\n  }, []);\n\n  return (\n    <div style={{ height: '60px' }}>\n      <div style={{\n        position: 'absolute',\n        width: `${window.width - 360}px`,\n        left: `${-window.width + 360}px`,\n        height: '60px',\n        display: 'flex',\n        backgroundColor: assignment.is_topic ? colors.topic : colors.green,\n        alignItems: 'center',\n      }}>\n        <ArrowBack\n          style={{\n            cursor: 'pointer',\n            color: colors.white,\n            height: '25px',\n            marginLeft: '16px',\n          }}\n          onClick={back}\n        />\n        <div style={{\n          display: 'flex',\n          width: '100%',\n          justifyContent: 'space-between',\n          padding: '16px',\n        }}>\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            <span style={{ ...fonts.MEDIUM, color: colors.white }}>{classroom?.name}</span>\n            <span style={{ ...fonts.LARGE, color: colors.white }}>{assignment.title}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default GridHeader;\n","import React, {memo, useEffect, useState} from 'react';\nimport {colors, fonts} from '../theme';\nimport {ReactComponent as GoToAssignmentIcon} from '../images/collapse.svg';\nimport {getAssessmentIcon, getStatusText, getSubmittedIcon, getSubmittedStatusText} from '../utils';\nimport GridSummaryItem from './gridSummaryItem';\nimport Tooltip from \"./tooltip\";\n\nconst header = {\n  ...fonts.MEDIUM,\n  fontWeight: '400',\n  padding: '0px 10px 0px 10px',\n  height: '30px',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n};\n\nconst submittedIcon = {\n  height: '30px',\n  width: '26px',\n  marginLeft: '10px',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  padding: '0px 2px 0px 4px',\n  borderLeft: `1px solid ${colors.borderColor}`,\n};\n\nconst styles = {\n  table: {\n    boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n    minWidth: '180px',\n    marginRight: '10px',\n    height: '100%',\n  },\n  tableHeaderPublished: {\n    ...header,\n    backgroundColor: colors.green,\n    color: colors.white,\n    borderTopLeftRadius: '3px',\n    borderTopRightRadius: '3px',\n  },\n  tableHeaderDraft: {\n    ...header,\n    backgroundColor: colors.draft,\n    color: colors.white,\n    borderTopLeftRadius: '3px',\n    borderTopRightRadius: '3px',\n  },\n  assignmentTitle: {\n    color: colors.white,\n    width: '140px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    marginRight: '10px',\n  },\n  assessmentIcon: {maxHeight: '18px'},\n  submittedIconSelected: {\n    ...submittedIcon,\n    borderLeft: `1px solid ${colors.borderColorDark}`,\n  },\n  summeryContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    padding: '0px 6px 0px 6px',\n  },\n  assignmentTitleContainer: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  noAssessment: {\n    cursor: 'pointer',\n    height: '52px'\n  },\n  summeryContainerInner: {\n    height: '30px',\n    width: '1px',\n    margin: '0px 4px 0px 4px'\n  },\n  tr: {\n    cursor: 'pointer',\n    height: '50px'\n  },\n  assessmentIconContainer: {\n    width: '20px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n};\n\nconst AssignmentTable = (props) => {\n  const {\n    setHighlight,\n    studentClicked,\n    assignment,\n    onAssignmentClicked,\n    selectedStudents,\n    highlight,\n    selectedStudentId,\n    style,\n    students,\n  } = props;\n\n  const [assessmentMap, setAssessmentMap] = useState({});\n\n  useEffect(() => {\n    setAssessmentMap(assignment.assessments.reduce((acc, a) => {\n      acc[a.student_id] = a;\n      return acc;\n    }, {}));\n  }, [assignment]);\n\n  return (\n    <table style={{...styles.table, ...style}} key={assignment.id}>\n      <tbody>\n      <tr>\n        <th style={assignment.state === 'PUBLISHED' ? styles.tableHeaderPublished : styles.tableHeaderDraft}>\n          <div\n            onClick={() => {\n              if (onAssignmentClicked) {\n                onAssignmentClicked(assignment);\n              }\n            }}\n            style={{...styles.assignmentTitleContainer, cursor: onAssignmentClicked ? 'pointer' : 'default'}}\n          >\n            <span style={styles.assignmentTitle}>\n              {assignment.title}\n            </span>\n            {onAssignmentClicked && <GoToAssignmentIcon fill={colors.white}/>}\n          </div>\n        </th>\n      </tr>\n      {students.map((studentId, i) => {\n        const assessment = assessmentMap[studentId];\n        const bgColor = i === highlight ? colors.grey : colors.white;\n        const selected = studentId === selectedStudentId || selectedStudents.find((id) => id === studentId);\n        if (!assessment) {\n          return (\n            <tr\n              key={studentId}\n              style={{...styles.noAssessment, backgroundColor: selected ? colors.borderColor : bgColor}}>\n              <td\n                onMouseEnter={() => setHighlight(i)}\n                onMouseLeave={() => setHighlight(null)}\n                onClick={() => studentClicked(studentId)}\n              />\n            </tr>\n          );\n        }\n\n        return (\n          <tr style={{...styles.tr, backgroundColor: selected ? colors.borderColor : bgColor}} key={studentId}>\n            <td\n              onMouseEnter={() => setHighlight(i)}\n              onMouseLeave={() => setHighlight(null)}\n              onClick={() => studentClicked(assessment.student_id)}\n            >\n              <div style={styles.summeryContainer}>\n                <Tooltip title={getStatusText(assessment.status_new)}>\n                  <div style={{\n                    ...styles.assessmentIconContainer,\n                    marginRight: assignment.use_submitted_status ? '0px' : '6px'\n                  }}>\n                    {getAssessmentIcon({status: assessment.status_new, style: styles.assessmentIcon})}\n                  </div>\n                </Tooltip>\n                {assignment.use_submitted_status &&\n                <Tooltip title={getSubmittedStatusText(assessment.submitted_status)}>\n                  <div style={{...submittedIcon, borderLeft: `1px solid ${selected?colors.borderColorDark:colors.borderColor}`}}>\n                    {getSubmittedIcon({status: assessment.submitted_status})}\n                  </div>\n                </Tooltip>\n                }\n                <div\n                  style={{\n                    ...styles.summeryContainerInner,\n                    backgroundColor: selected ? colors.borderColorDark : colors.borderColor\n                  }}/>\n                <GridSummaryItem assessment={assessment}/>\n              </div>\n            </td>\n          </tr>\n        );\n      })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default memo(AssignmentTable);\n","import React, {\n  memo,\n  useCallback,\n  useContext, useEffect,\n  useRef, useState,\n} from 'react';\nimport {Checkbox, Tooltip, withStyles} from '@material-ui/core';\nimport {colors, fonts} from '../theme';\nimport {useWindowDimensions} from '../hooks';\nimport {getAssessmentIcon, getSubmittedStatusText, getStatusText, getSubmittedIcon, GlobalContext} from '../utils';\nimport GridSummaryItem from './gridSummaryItem';\nimport CheckboxWithText from './CheckboxWithText';\nimport AssignmentTable from './AssignmentTable';\nimport {getTranslation} from '../i18n';\nimport GridObjectivesSummaryItem from './GridObjectivesSummaryItem';\nimport SortStudentComponent from './sortStudentComponent';\n\nconst GreenCheckbox = withStyles({\n  root: {\n    color: colors.borderColorDark,\n    paddingLeft: 0,\n    marginLeft: '6px',\n    '&$checked': {\n      color: colors.green,\n    },\n    '& .MuiSvgIcon-root': {\n      fontSize: '1.5rem',\n    },\n  },\n\n  checked: {},\n})(Checkbox);\n\nconst fields = `\n    id\n    title\n    is_topic\n    connected\n    state\n    use_submitted_status\n    topic_id\n    courseDefinitions {\n      id\n    }\n    objectiveAssessments {\n      id\n      objective_id\n      objectiveName\n      objectiveDescription\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      assessment_id\n      grade_id\n      feedback_last_edit\n      private_note_last_edit\n      grade_last_edit\n      self_assessment\n      self_assessment_last_edit\n      last_edit_for_student\n      student_id\n      counter_grade_0\n      counter_grade_1\n      counter_grade_2\n      counter_grade_3\n      counter_grade_4\n      counter_grade_5\n      counter_grade_6\n      counter_grade_7\n      counter_grade_8\n      counter_grade_9\n      max_counter_grade_0\n      max_counter_grade_1\n      max_counter_grade_2\n      max_counter_grade_3\n      max_counter_grade_4\n      max_counter_grade_5\n      max_counter_grade_6\n      max_counter_grade_7\n      max_counter_grade_8\n      max_counter_grade_9\n      grade {\n        id\n        name\n        is_passed\n        color\n      }\n    }\n    assessments {\n      id\n      created\n      modified\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      result\n      result_published\n      status\n      assignment_id\n      grade_id\n      student_id\n      assessment_status\n      active\n      feedback_last_edit\n      private_note_last_edit\n      result_last_edit\n      grade_last_edit\n      status_new\n      last_edit_for_student\n      status_new_last_edit\n      self_assessment\n      self_assessment_last_edit\n      first_name\n      last_name\n      email\n      grade_name\n      grade_color\n      submitted_status\n    }\n    assignments {\n      id\n      title\n      connected\n      use_submitted_status\n      is_topic\n      topic_id\n      state\n      courseDefinitions {\n       id\n      }\n      gradeSystem {\n        name\n        is_counter\n        order\n        grades {\n          id\n          name\n          is_passed\n          color\n          label\n          circle_label\n          order\n        }\n      }\n      assessments {\n        id\n        created\n        modified\n        feedback\n        feedback_published\n        private_note\n        grade_published\n        result\n        result_published\n        status\n        assignment_id\n        grade_id\n        student_id\n        assessment_status\n        active\n        feedback_last_edit\n        private_note_last_edit\n        result_last_edit\n        grade_last_edit\n        status_new\n        last_edit_for_student\n        status_new_last_edit\n        self_assessment\n        self_assessment_last_edit\n        first_name\n        last_name\n        email\n        grade_name\n        grade_color\n        submitted_status\n      }\n    }\n    gradeSystem {\n      name\n      is_counter\n      order\n      grades {\n        id\n        name\n        is_passed\n        color\n        label\n        circle_label\n        order\n      }\n    }`;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    overflow: 'scroll',\n    position: 'relative',\n    width: '100%',\n  },\n  container2: {\n    display: 'flex',\n    height: '0%',\n    justifyContent: 'flex-start',\n    padding: '16px',\n    marginTop: '60px',\n  },\n  header: {\n    ...fonts.MEDIUM,\n    fontWeight: '400',\n    padding: '0px 10px 0px 10px',\n    height: '30px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n  },\n  table: {\n    marginRight: '10px',\n    minWidth: '600px',\n    height: '100%',\n    boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n  },\n  th: {\n    ...fonts.MEDIUM,\n    fontWeight: '400',\n    padding: '0px 10px 0px 10px',\n    height: '30px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap', width: '220px', display: 'flex', alignItems: 'center', justifyContent: 'flex-start',\n  },\n  studentNameText: {\n    ...fonts.MEDIUM,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    display: 'inline-block',\n    width: '200px',\n    padding: '0px 16px 0px 16px',\n  },\n  container3: {display: 'flex', justifyContent: 'space-around'},\n  iconContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  assessmentIcon: {height: '20px'},\n  block: {height: '50px', width: '50px', backgroundColor: 'transparent'},\n  shadow: {\n    width: '30px',\n    height: '100%',\n    position: 'absolute',\n    right: -30,\n    top: 0,\n    backgroundColor: 'transparent',\n    boxShadow: '-5px 0px 6px rgba(0,0,0,0.1)',\n  },\n};\n\nconst GridViewContent = (props) => {\n  const {\n    assignment: initialAssignment,\n    selectedStudentId,\n    onStudentSelected,\n    onAssignmentClicked,\n    multiEdit,\n    setMultiEdit,\n    selectedStudents,\n    setSelectedStudents,\n  } = props;\n  const window = useWindowDimensions();\n  const [assignment, setAssignment] = useState(initialAssignment);\n  const [highlight, setHighlight] = useState();\n  const [renderAssignments, setRenderAssignments] = useState(false);\n  const [sortedAssignments, setSortedAssignments] = useState([]);\n  const [sortedAssessments, setSortedAssessments] = useState([]);\n  const [students, setStudents] = useState([]);\n  const originallySelectedStudent = useRef();\n  const context = useContext(GlobalContext);\n  const {Api, networkTraffic, sortingMethod} = context;\n  const saving = useRef(false);\n\n  const refresh = async () => {\n    const response = await Api.getAssignmentWithAssessment(\n      assignment.id,\n      fields,\n    );\n    const newAssignment = response?.data?.assignment[0];\n    setAssignment(newAssignment);\n    // Delay rendering of the tables 1s because this view is heavy to render\n    setTimeout(() => setRenderAssignments(true), 1000);\n  };\n\n  // A little bit hacky, reload classroom if something has been saved\n  useEffect(() => {\n    if (networkTraffic === 'POST' || networkTraffic === 'PUT') {\n      saving.current = true;\n    } else if (saving.current) {\n      if (!multiEdit) {\n        refresh();\n        saving.current = false;\n      }\n    }\n  }, [networkTraffic]);\n\n  useEffect(() => {\n    setAssignment(initialAssignment);\n    setSortedAssignments(initialAssignment?.assignments?.filter(a => a.connected)?.sort((a, b) => a.title.localeCompare(b.title)));\n    setSortedAssessments(initialAssignment.assessments\n      .sort((a, b) => {\n        if (sortingMethod === 'firstName') {\n          return a.first_name.localeCompare(b.first_name);\n        }\n        return a.last_name.localeCompare(b.last_name);\n      }));\n    setStudents(initialAssignment?.assessments.map((a) => a.student_id));\n  }, [initialAssignment, sortingMethod]);\n\n  useEffect(() => {\n    refresh();\n  }, []);\n\n  const studentClicked = useCallback((id) => {\n    if (!multiEdit) {\n      onStudentSelected(id);\n    }\n  }, [students, multiEdit]);\n\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        width: `${window.width - 360}px`,\n        left: `${-window.width + 360}px`,\n        height: `${window.height - 60}px`,\n        display: 'flex',\n        backgroundColor: colors.grey,\n      }}\n    >\n      <div style={styles.container}>\n        <CheckboxWithText\n          subText={''}\n          id={'multiselect'}\n          text={getTranslation('selectMany')}\n          onCheck={(c) => {\n            setMultiEdit(c);\n            if (!c) {\n              setSelectedStudents([]);\n            } else {\n              setSelectedStudents([selectedStudentId]);\n            }\n          }}\n          checked={multiEdit}\n          style={{\n            position: 'absolute',\n            left: '30px',\n            top: '6px',\n          }}\n        />\n        <div style={styles.container2}>\n          <div>\n            <table style={styles.table}>\n              <tr>\n                {multiEdit && (\n                  <th>\n                    <CheckboxWithText\n                      subText={''}\n                      id={'multiselect'}\n                      style={{marginLeft: '10px', height: '10px'}}\n                      onCheck={(check) => {\n                        if (check) {\n                          originallySelectedStudent.current = selectedStudents;\n                          setSelectedStudents(\n                            assignment.assessments.map((a) => a.student_id),\n                          );\n                        } else {\n                          setSelectedStudents(originallySelectedStudent.current);\n                        }\n                      }}\n                      checked={\n                        assignment.assessments.length === selectedStudents.length\n                      }\n                    />\n                  </th>\n                )}\n                <th style={styles.th}>\n                  <SortStudentComponent style={{marginRight: '6px'}}/>\n                  {getTranslation('student')}\n                </th>\n                <th style={styles.header}>{getTranslation('status')}</th>\n                <th style={styles.header}>\n                  {getTranslation('overallResultHeaderStudent')}\n                </th>\n                {assignment?.objectiveAssessments?.length > 0 && (\n                  <th style={styles.header}>\n                    {getTranslation('objectivesText')}\n                  </th>\n                )}\n              </tr>\n              {sortedAssessments.map((assessment, i) => {\n                const bgColor = i === highlight ? colors.grey : colors.white;\n                let selected = assessment.student_id === selectedStudentId;\n                if (multiEdit) {\n                  selected = selectedStudents.find(\n                    (id) => id === assessment.student_id,\n                  );\n                }\n                return (\n                  <tr\n                    onMouseEnter={() => setHighlight(i)}\n                    onMouseLeave={() => setHighlight(null)}\n                    onClick={() => studentClicked(assessment.student_id)}\n                    key={assessment.id}\n                    style={{\n                      backgroundColor: selected ? colors.borderColor : bgColor,\n                      cursor: 'pointer',\n                      height: '50px',\n                    }}\n                  >\n                    {multiEdit && (\n                      <td>\n                        <div\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            width: '36px',\n                            border: '0px solid',\n                          }}\n                        >\n                          <GreenCheckbox\n                            inputProps={{'aria-label': 'controlled'}}\n                            checked={selected || false}\n                            onChange={(e) => {\n                              if (e.target.checked) {\n                                setSelectedStudents([\n                                  ...selectedStudents,\n                                  assessment.student_id,\n                                ]);\n                              } else {\n                                setSelectedStudents(\n                                  selectedStudents.filter(\n                                    (id) => id !== assessment.student_id,\n                                  ),\n                                );\n                              }\n                            }}\n                          />\n                        </div>\n                      </td>\n                    )}\n                    <td style={{}}>\n                      <Tooltip title={assessment?.email}>\n                      <span style={styles.studentNameText}>\n                        {assessment.first_name} {assessment.last_name}\n                      </span>\n                      </Tooltip>\n                    </td>\n                    <td>\n                      <div style={styles.container3}>\n                        <Tooltip title={getStatusText(assessment.status_new)}>\n                          <div style={styles.iconContainer}>\n                            {getAssessmentIcon({status: assessment.status_new, style: styles.assessmentIcon})}\n                          </div>\n                        </Tooltip>\n                        {assignment.use_submitted_status &&\n                        <Tooltip title={getSubmittedStatusText(assessment.submitted_status)}>\n                          <div style={styles.iconContainer}>\n                            {getSubmittedIcon({status: assessment.submitted_status})}\n                          </div>\n                        </Tooltip>\n                        }\n                      </div>\n                    </td>\n\n                    <td>\n                      <GridSummaryItem assessment={assessment}/>\n                    </td>\n                    {assignment?.objectiveAssessments?.length > 0 && (\n                      <td>\n                        <GridObjectivesSummaryItem\n                          selected={selected}\n                          assessments={assignment?.objectiveAssessments.filter(\n                            (o) => o.student_id === assessment.student_id,\n                          )}\n                        />\n                      </td>\n                    )}\n                  </tr>\n                );\n              })}\n            </table>\n            <div style={styles.block}/>\n          </div>\n          {renderAssignments &&\n          <>\n            {sortedAssignments?.map((ass) => {\n              return (\n                <AssignmentTable\n                  students={students}\n                  key={ass.id}\n                  setHighlight={setHighlight}\n                  studentClicked={studentClicked}\n                  assignment={ass}\n                  onAssignmentClicked={onAssignmentClicked}\n                  selectedStudents={selectedStudents}\n                  highlight={highlight}\n                  selectedStudentId={selectedStudentId}\n                />\n              );\n            })}</>}\n        </div>\n      </div>\n      <div style={styles.shadow}/>\n    </div>\n  );\n};\n\nexport default GridViewContent;\n","import {Radio} from \"@material-ui/core\";\nimport {ReactComponent as DoneIcon} from \"../images/icon_bk_assessment_done.svg\";\nimport {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport {ReactComponent as AccessingIcon} from \"../images/icon_bk_assessing.svg\";\nimport {ReactComponent as NotDoneIcon} from \"../images/icon_bk_not_assessed.svg\";\nimport React, {useEffect, useState} from \"react\";\n\nconst MultiEditStatusComponent = (props) => {\n  const {onStatusChange} = props;\n  const [status, setStatus] = useState();\n\n  useEffect(() =>{\n    onStatusChange(status);\n  },[status]);\n\n  return (\n    <div style={{display: \"flex\", flexDirection: \"column\"}}>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === 'ASSESSMENT_DONE'}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(\"ASSESSMENT_DONE\");\n            }\n          }}\n        />\n        <DoneIcon fill={colors.green}/>\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation(\"teacherAssignmentsAssessmentsStudentMenuAssessed\")}</span>\n      </div>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === \"ASSESSING\"}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(\"ASSESSING\");\n            }\n          }}\n        />\n        <AccessingIcon fill={colors.orange}/>\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation(\"teacherAssignmentsAssessmentsStudentMenuAssessing\")}</span>\n      </div>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={\n            status === \"NOT_ASSESSED\"\n          }\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(\"NOT_ASSESSED\");\n            }\n          }}\n        />\n        <NotDoneIcon fill={colors.iconColor}/>\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation(\"teacherAssignmentsAssessmentsStudentMenuNotAssessed\")}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default MultiEditStatusComponent;","import React, { useState, useEffect } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { ArrowDropDown } from '@material-ui/icons';\nimport { ClickAwayListener } from '@material-ui/core';\nimport { colors, fonts } from '../theme';\nimport { ReactComponent as SubmittedIcon } from '../images/submitted.svg';\nimport { ReactComponent as SubmittedLateIcon } from '../images/submitted-late.svg';\nimport { ReactComponent as NotSubmittedLateIcon } from '../images/not-submitted-late.svg';\nimport { ReactComponent as NotSubmittedIcon } from '../images/not-submitted.svg';\nimport {getSubmittedStatusText, getSubmittedIcon} from '../utils';\nimport { getTranslation } from '../i18n';\n\nconst SUBMITTED = 'SUBMITTED';\nconst SUBMITTED_LATE = 'SUBMITTED_LATE';\nconst NOT_SUBMITTED = 'NOT_SUBMITTED';\nconst NOT_SUBMITTED_LATE ='NOT_SUBMITTED_LATE'\n\nconst options = [\n  {\n    title: getTranslation('mark_submitted_status_submitted'),\n    icon: <SubmittedIcon/>,\n    value: SUBMITTED,\n  },\n  {\n    title: getTranslation('mark_submitted_status_submitted_late'),\n    icon: <SubmittedLateIcon/>,\n    value: SUBMITTED_LATE,\n  },\n  {\n    title: getTranslation('mark_submitted_status_not_submitted_late'),\n    icon: <NotSubmittedLateIcon/>,\n    value: NOT_SUBMITTED_LATE,\n  },\n  {\n    title: getTranslation('mark_submitted_status_not_submitted'),\n    icon: <NotSubmittedIcon/>,\n    value: NOT_SUBMITTED,\n\n  }\n];\n\nconst SubmissionStatusButton = (props) => {\n  const {\n    initialState, onStatusChange, button, style = {}, readonly = false,\n  } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [state, setState] = useState(initialState);\n  const open = Boolean(anchorEl);\n\n\n  useEffect(() => {\n    setState(initialState);\n  }, [initialState]);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleSelect = (option) => {\n    setAnchorEl(null);\n    setState(option.value);\n    if (onStatusChange) {\n      onStatusChange(option.value);\n    }\n  };\n\n  const handleClickAway = (event) => {\n    setTimeout(() => { setAnchorEl(null); });\n  };\n\n  if (readonly) {\n    return (\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        {getSubmittedIcon({ status: state })}\n        <span style={{ ...fonts.MEDIUM, marginLeft: '10px' }}>{getSubmittedStatusText(state)}</span>\n      </div>\n    );\n  }\n\n  return (\n    <div style={style}>\n      <ClickAwayListener onClickAway={handleClickAway}>\n        {button ? (\n          <div onClick={handleClick}>{button}</div>\n        ) : (\n          <div\n            onClick={handleClick}\n            style={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              border: '0px solid red',\n              flex: 1,\n              height: '35px',\n              backgroundColor: colors.white,\n              borderRadius: '35px',\n              cursor: 'pointer',\n              boxShadow: '0px 2px 3px 0px rgba(0, 0, 0, 0.3)',\n              alignItems: 'center',\n              paddingLeft: '16px',\n              paddingRight: '16px',\n            }}\n          >\n            <div style={{ display: 'flex', alignItems: 'center' }}>\n              {getSubmittedIcon({ status: state })}\n              <span style={{ ...fonts.MEDIUM, marginLeft: '10px' }}>{getSubmittedStatusText(state)}</span>\n            </div>\n            <ArrowDropDown style={{ color: colors.darkGrey }} />\n          </div>\n        )}\n      </ClickAwayListener>\n      <Menu open={open} anchorEl={anchorEl}>\n        {options.map((option) => (\n          <MenuItem\n            key={option.title}\n            onClick={() => handleSelect(option)}\n            style={{ display: 'flex', alignItems: 'center', padding: '10px' }}\n          >\n            {option.icon}\n            <span\n              style={{\n                ...fonts.MEDIUM,\n                marginLeft: '16px',\n                border: '0px solid red',\n              }}\n            >\n              {option.title}\n            </span>\n          </MenuItem>\n        ))}\n      </Menu>\n    </div>\n  );\n};\n\nexport default SubmissionStatusButton;\n","import {Radio} from \"@material-ui/core\";\nimport {fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport React, {useEffect, useState} from \"react\";\nimport {getSubmittedIcon} from \"../utils\";\n\nconst SUBMITTED = 'SUBMITTED';\nconst SUBMITTED_LATE = 'SUBMITTED_LATE';\nconst NOT_SUBMITTED = 'NOT_SUBMITTED';\nconst NOT_SUBMITTED_LATE = 'NOT_SUBMITTED_LATE'\n\nconst MultiEditSubmissionComponent = (props) => {\n  const {onStatusChange} = props;\n  const [status, setStatus] = useState();\n\n  useEffect(() => {\n    onStatusChange(status);\n  }, [status]);\n\n  return (\n    <div style={{display: \"flex\", flexDirection: \"column\"}}>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === SUBMITTED}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(SUBMITTED);\n            }\n          }}\n        />\n        {getSubmittedIcon({status: SUBMITTED})}\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation('mark_submitted_status_submitted')}</span>\n      </div>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === SUBMITTED_LATE}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(SUBMITTED_LATE);\n            }\n          }}\n        />\n        {getSubmittedIcon({status: SUBMITTED_LATE})}\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation('mark_submitted_status_submitted_late')}</span>\n      </div>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === NOT_SUBMITTED_LATE}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(NOT_SUBMITTED_LATE);\n            }\n          }}\n        />\n        {getSubmittedIcon({status: NOT_SUBMITTED_LATE})}\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation('mark_submitted_status_not_submitted_late')}</span>\n      </div>\n      <div style={{display: \"flex\", alignItems: \"center\"}}>\n        <Radio\n          checked={status === NOT_SUBMITTED}\n          onChange={(e) => {\n            if (e.target.checked) {\n              setStatus(NOT_SUBMITTED);\n            }\n          }}\n        />\n        {getSubmittedIcon({status: NOT_SUBMITTED})}\n        <span style={{\n          ...fonts.MEDIUM,\n          marginLeft: \"6px\"\n        }}>{getTranslation('mark_submitted_status_not_submitted')}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default MultiEditSubmissionComponent;","import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\nimport debounce from \"lodash.debounce\";\nimport {ButtonBase, CircularProgress} from \"@material-ui/core\";\nimport Promise from \"bluebird\";\nimport AssignmentObjectivesListHeader from \"./assignmentObjectiveListHeader\";\nimport {getPublishedStatus, GlobalContext} from \"../utils\";\nimport {getTranslation} from \"../i18n\";\nimport {GroupedVisibilityDialogType} from \"../types\";\nimport ObjectivesList from \"../components/objectivesList\";\nimport AssignmentAssessment from \"../components/assignmentAssessment\";\nimport Header from \"../components/header\";\nimport FeedbackInput from \"../components/feedbackInput\";\nimport {colors, fonts} from \"../theme\";\nimport AssessmentButton from \"../components/assessmentButton\";\nimport GridHeader from \"../components/gridHeader\";\nimport GridViewContent from \"../components/gridViewContent\";\nimport AssignmentsListHeader from \"./assignmentsListHeader\";\nimport MultiEditDescription from \"../components/multiEditDescription\";\nimport MultiEditStatusComponent from \"./MultiEditStatusComponent\";\nimport SubmissionStatusButton from \"../components/submissionStatusButton\";\nimport MultiEditSubmissionComponent from \"../components/multiEditSubmissionComponent\";\nimport {useWindowDimensions} from \"../hooks\";\n\nconst fields = `\n    id\n    title\n    is_topic\n    topic_id\n    connected\n    state\n    use_submitted_status\n    courseDefinitions {\n      id\n    }\n    objectiveAssessments {\n      id\n      objective_id\n      objectiveName\n      objectiveDescription\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      assessment_id\n      grade_id\n      feedback_last_edit\n      private_note_last_edit\n      grade_last_edit\n      self_assessment\n      self_assessment_last_edit\n      last_edit_for_student\n      student_id\n      counter_grade_0\n      counter_grade_1\n      counter_grade_2\n      counter_grade_3\n      counter_grade_4\n      counter_grade_5\n      counter_grade_6\n      counter_grade_7\n      counter_grade_8\n      counter_grade_9\n      max_counter_grade_0\n      max_counter_grade_1\n      max_counter_grade_2\n      max_counter_grade_3\n      max_counter_grade_4\n      max_counter_grade_5\n      max_counter_grade_6\n      max_counter_grade_7\n      max_counter_grade_8\n      max_counter_grade_9\n      grade {\n        id\n        name\n        is_passed\n        color\n      }\n    }\n    assessments {\n      id\n      created\n      modified\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      result\n      result_published\n      status\n      assignment_id\n      grade_id\n      student_id\n      assessment_status\n      active\n      feedback_last_edit\n      private_note_last_edit\n      result_last_edit\n      grade_last_edit\n      status_new\n      last_edit_for_student\n      status_new_last_edit\n      self_assessment\n      self_assessment_last_edit\n      first_name\n      last_name\n      email\n      grade_name\n      grade_color\n      student_id\n      submitted_status\n    }\n    assignments {\n      id\n      title\n      is_topic\n      connected\n      state\n      use_submitted_status\n      topic_id\n      courseDefinitions {\n       id\n      }\n      gradeSystem {\n        name\n        is_counter\n        order\n        grades {\n          id\n          name\n          is_passed\n          color\n          label\n          circle_label\n          order\n        }\n      }\n      assessments {\n        id\n        created\n        modified\n        feedback\n        feedback_published\n        private_note\n        grade_published\n        result\n        result_published\n        status\n        assignment_id\n        grade_id\n        student_id\n        assessment_status\n        active\n        feedback_last_edit\n        private_note_last_edit\n        result_last_edit\n        grade_last_edit\n        status_new\n        last_edit_for_student\n        status_new_last_edit\n        self_assessment\n        self_assessment_last_edit\n        first_name\n        last_name\n        email\n        grade_name\n        grade_color\n        student_id\n        submitted_status\n      }\n    }\n    gradeSystem {\n      name\n      is_counter\n      order\n      grades {\n        id\n        name\n        is_passed\n        color\n        label\n        circle_label\n        order\n      }\n    }`;\n\nconst AssignmentObjectivesList = (props) => {\n  const {\n    students,\n    assignment: initialAssignment,\n    courseDefinitions: initialCourseDefinitions,\n    studentId: initialStudentId,\n    historyBack,\n    assignmentAssessment: initialAssignmentAssessment,\n    openGrid,\n  } = props;\n\n  const context = useContext(GlobalContext);\n  const {\n    ChangeVisibilityManyDialog,\n    Api,\n    height,\n    showObjectiveDetails,\n    isStudent,\n    setVisibilityDialogData,\n  } = context;\n  const [studentId, setStudentId] = useState(initialStudentId);\n  const [assignment, setAssignment] = useState(initialAssignment);\n  const courseDefinitions = useRef(initialCourseDefinitions);\n  const assignmentId = useRef(initialAssignment.id);\n  const [textFilter, setTextFilter] = useState(\"\");\n  const [parentTopic, setParentTopic] = useState();\n  const [loading, setLoading] = useState(false);\n  const [assignmentAssessment, setAssignmentAssessment] = useState(\n    initialAssignmentAssessment || []\n  );\n  const [failWarning, setFailWarning] = useState(\n    () =>\n      initialAssignment?.assessments.find((a) => a.student_id === studentId)\n        ?.fail_warning\n  );\n  const [showGrid, setShowGrid] = useState(openGrid);\n  const [multiEdit, setMultiEdit] = useState(false);\n  const [selectedStudents, setSelectedStudents] = useState([]);\n  const saveManyAssessment = useRef({});\n  const saveManyObjectives = useRef();\n  const dim = useWindowDimensions();\n\n  const setFilterTextDebounced = debounce(\n    (text) => setTextFilter(text.toLowerCase()),\n    1000\n  );\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  const refresh = async () => {\n    setLoading(true);\n    const response = await Api.getAssignmentWithAssessment(\n      assignment.id,\n      fields\n    );\n\n    setAssignment(response?.data?.assignment[0]);\n    const assessment = response?.data?.assignment[0].assessments.find(\n      (a) => a.student_id === studentId\n    );\n    setAssignmentAssessment(\n      assessment || response?.data?.assignment[0].assessments[0]\n    );\n    forceUpdate();\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    if (selectedStudents.length === 0) {\n      setMultiEdit(false);\n    }\n  }, [selectedStudents]);\n\n  useEffect(() => {\n    setStudentId(initialStudentId);\n  }, [initialStudentId]);\n\n  useEffect(() => {\n    refresh();\n  }, [studentId]);\n\n  useEffect(() => {\n    if (assignment.id !== assignmentId.current) {\n      assignmentId.current = assignment.id;\n      refresh();\n    }\n  }, [assignment]);\n\n  const statusUpdated = async (status) => {\n    assignmentAssessment.status_new = status;\n    assignmentAssessment.objectiveAssessments =\n      assignment?.objectiveAssessments.filter(oa => oa.student_id === studentId);\n    if (status === \"ASSESSMENT_DONE\") {\n      setVisibilityDialogData({\n        assignmentId: assignment.id,\n        assessments: [assessment],\n        callback: () => {\n          refresh();\n        },\n      });\n    }\n    await Api.updateAssignmentAssessment([assessment]);\n  };\n\n  const submittedStatusChanged = async (status) => {\n    assignmentAssessment.submitted_status = status;\n    await Api.updateAssignmentAssessment([assignmentAssessment]);\n  }\n\n  const handleHeaderMenuClick = async ({name}) => {\n    switch (name) {\n      case \"VISIBILITY_MANY\": {\n        const settings = {\n          students: [\n            students.find((s) => s.student_id === studentId),\n          ].map((s) => ({...s, id: s.student_id})),\n          courseDefinitions: courseDefinitions.current.filter(\n            (courseDefinition) => !!courseDefinition.objectives.length\n          ),\n          type: GroupedVisibilityDialogType.AssignmentStudentView,\n        };\n        const result = await ChangeVisibilityManyDialog.show(settings);\n        await Api.updateVisibilityMany(assignment.id, result);\n        await refresh();\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  const assessment = useMemo(\n    () => assignment?.assessments.find((a) => a.student_id === studentId),\n    [assignment]\n  );\n\n  const numberOfObjectives = assignment?.objectiveAssessments?.filter((o) => o.student_id === studentId)?.length || 0;\n\n  const saveMany = async () => {\n    const response = await Api.getAssignmentWithAssessment(\n      assignmentId.current,\n      `assessments {\n        id\n        student_id\n        grade_id\n        grade_published\n        feedback\n        feedback_published\n        result\n        result_published\n        private_note\n        submitted_status\n        }\n      `\n    );\n    const {assessments} = response?.data?.assignment[0];\n\n    let newAssignmentAssessments = [];\n    if (saveManyAssessment.current) {\n      newAssignmentAssessments = selectedStudents.map((sid) => {\n        const ass = assessments.find((a) => a.student_id === sid);\n        return {\n          ...ass,\n          id: ass.id,\n          status_new: saveManyAssessment.current.status_new || ass.status_new,\n          grade_id: saveManyAssessment.current.grade_id || ass.grade_id,\n          grade_published: getPublishedStatus(saveManyAssessment.current.grade_published, ass.grade_published),\n          feedback: saveManyAssessment.current.feedback || ass.feedback,\n          feedback_published: getPublishedStatus(saveManyAssessment.current.feedback_published, ass.feedback_published),\n          result: saveManyAssessment.current.result || ass.result,\n          result_published: getPublishedStatus(saveManyAssessment.current.result_published, ass.result_published),\n          private_note: saveManyAssessment.current.private_note || ass.private_note,\n          submitted_status: saveManyAssessment.current.submitted_status || ass.submitted_status,\n        };\n      });\n    }\n    let newObjectiveAssessments = [];\n    if (saveManyObjectives.current) {\n      newObjectiveAssessments = selectedStudents.map((sid) => {\n        const assessments = assignment?.objectiveAssessments?.filter(\n          (o) => o.student_id === sid\n        );\n        return Object.keys(saveManyObjectives.current).map((key) => {\n          const currentAssessment = saveManyObjectives.current[key];\n          const assessment = assessments.find(\n            (a) => a.objective_id === currentAssessment.objective_id\n          );\n          const newAssessment = {\n            ...assessment,\n            feedback_published: getPublishedStatus(currentAssessment?.feedback_published, assessment?.feedback_published),\n            counter_grade_0:\n              currentAssessment?.counter_grade_0 || assessment?.counter_grade_0,\n            counter_grade_1:\n              currentAssessment?.counter_grade_1 || assessment?.counter_grade_1,\n            counter_grade_2:\n              currentAssessment?.counter_grade_2 || assessment?.counter_grade_2,\n            counter_grade_3:\n              currentAssessment?.counter_grade_3 || assessment?.counter_grade_3,\n            counter_grade_4:\n              currentAssessment?.counter_grade_4 || assessment?.counter_grade_4,\n            counter_grade_5:\n              currentAssessment?.counter_grade_5 || assessment?.counter_grade_5,\n            counter_grade_6:\n              currentAssessment?.counter_grade_6 || assessment?.counter_grade_6,\n            counter_grade_7:\n              currentAssessment?.counter_grade_7 || assessment?.counter_grade_7,\n            counter_grade_8:\n              currentAssessment?.counter_grade_8 || assessment?.counter_grade_8,\n            counter_grade_9:\n              currentAssessment?.counter_grade_9 || assessment?.counter_grade_9,\n            feedback: currentAssessment?.feedback || assessment?.feedback,\n            grade_published: getPublishedStatus(currentAssessment?.grade_published, assessment?.grade_published),\n            private_note:\n              currentAssessment?.private_note || assessment?.private_note,\n            self_assessment:\n              currentAssessment?.self_assessment || assessment?.self_assessment,\n          };\n          if (currentAssessment?.grade_id) {\n            newAssessment.grade_id =\n              currentAssessment?.grade_id || assessment?.grade_id;\n          }\n          return newAssessment;\n        });\n      });\n    }\n\n    await Api.updateAssignmentAssessment(newAssignmentAssessments);\n    await Promise.map(\n      newObjectiveAssessments,\n      (assessments) => {\n        return Api.updateObjectiveAssessmentsGql(assessments);\n      },\n      {concurrency: 10}\n    );\n\n    if (saveManyAssessment.current.status_new === \"ASSESSMENT_DONE\") {\n      const objectiveAssessments = assignment?.objectiveAssessments.map(oa => {\n        const newOa = newObjectiveAssessments?.flat()?.find(noa => noa.id === oa.id);\n        return newOa ? newOa : oa;\n      });\n      const dialogData = {\n        assignmentId: assignment.id,\n        assessments: newAssignmentAssessments.map((a) => {\n          a.objectiveAssessments = objectiveAssessments?.filter((o) => a.student_id === o.student_id);\n          return a;\n        }),\n        callback: async () => {\n          setMultiEdit(false);\n          setSelectedStudents([]);\n          await refresh();\n          saveManyAssessment.current = {};\n          saveManyObjectives.current = {};\n        },\n        hideSaveSetting: true,\n      };\n      setVisibilityDialogData(dialogData);\n    } else {\n      setMultiEdit(false);\n      setSelectedStudents([]);\n      await refresh();\n      saveManyAssessment.current = {};\n      saveManyObjectives.current = {};\n    }\n  };\n  const toggleGrid = () => {\n    setShowGrid(!showGrid);\n  };\n\n  const assignmentClicked =  useCallback(async (selectedAssignment) => {\n    setMultiEdit(false);\n    const response = await Api.getClassroom(`\n    courseDefinitions {\n      id\n      name\n      course_id\n      objectives{\n        id\n        name\n        description\n      }\n    }`);\n    const {courseDefinitions: cd} = response?.data?.classroom;\n    courseDefinitions.current = cd;\n    setParentTopic(assignment);\n    setAssignment(selectedAssignment);\n    const ass = selectedAssignment.assessments.find(\n      (a) => a.student_id === studentId\n    );\n    setAssignmentAssessment(ass || selectedAssignment.assessments[0]);\n    setStudentId(\n      ass?.student_id || selectedAssignment.assessments[0].student_id\n    );\n  }, [studentId]);\n\n  const goBack = async () => {\n    if (parentTopic) {\n      const {\n        // eslint-disable-next-line camelcase\n        course_definitions,\n      } = await Api.getAssignmentAssessments(parentTopic.id);\n      // eslint-disable-next-line camelcase\n      courseDefinitions.current = course_definitions;\n      setAssignment(parentTopic);\n      setStudentId(parentTopic.assessments[0].student_id);\n      setParentTopic(null);\n    } else {\n      historyBack();\n    }\n  };\n\n  const student = students.find((s) => s.student_id === studentId);\n  const content = (\n    <>\n      {showGrid && (\n        <div style={{display: \"flex\"}}>\n          <GridHeader\n            handleMenuClick={handleHeaderMenuClick}\n            assignment={assignment}\n            onCollapse={toggleGrid}\n            back={() => {\n              showObjectiveDetails(false);\n              goBack();\n            }}\n          />\n          <AssignmentsListHeader\n            isTopic={assignment?.is_topic}\n            title={getTranslation(\"assignmentsPage\")}\n            gridOpen\n            toggleGrid={toggleGrid}\n          />\n        </div>\n      )}\n      {showGrid && (\n        <GridViewContent\n          setMultiEdit={setMultiEdit}\n          multiEdit={multiEdit}\n          onStudentSelected={setStudentId}\n          assignment={assignment}\n          selectedStudentId={studentId}\n          onAssignmentClicked={assignmentClicked}\n          selectedStudents={selectedStudents}\n          setSelectedStudents={setSelectedStudents}\n        />\n      )}\n      {!showGrid && (\n        <AssignmentObjectivesListHeader\n          isStudent={isStudent}\n          onStudentSelected={setStudentId}\n          onStudent\n          back={() => {\n            showObjectiveDetails(false);\n            historyBack();\n          }}\n          selectedStudentId={studentId}\n          students={students}\n          title={assignment.title}\n          handleMenuClick={handleHeaderMenuClick}\n          isTopic={assignment.is_topic}\n          onToggleGrid={toggleGrid}\n        />\n      )}\n      {showGrid && (\n        <div\n          style={{\n            backgroundColor: colors.borderColor,\n            display: \"flex\",\n            alignItems: \"center\",\n            padding: \"16px\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <div style={{display: \"flex\", flexDirection: \"column\"}}>\n            <span style={{...fonts.LARGE}}>\n              {(() =>\n                multiEdit\n                  ? `${selectedStudents.length}  ${getTranslation(\n                    \"studentsSelected\"\n                  )}`\n                  : `${student?.first_name || \"\"} ${\n                    student?.last_name || \"\"\n                  } `)()}\n            </span>\n            {!multiEdit && student?.email && (\n              <span style={{...fonts.SMALL}}>({student?.email})</span>\n            )}\n          </div>\n          {multiEdit && (\n            <ButtonBase\n              onClick={saveMany}\n              style={{\n                border: `1px solid ${colors.borderColorDark}`,\n                padding: \"8px 12px 8px 12px\",\n                borderRadius: \"4px\",\n                backgroundColor: colors.grey,\n              }}\n            >\n              <span style={{...fonts.MEDIUM}}>\n                {getTranslation(\"saveAll\")}\n              </span>\n            </ButtonBase>\n          )}\n        </div>\n      )}\n      <div\n        style={{\n          padding: \"10px\",\n          height: `${height - (showGrid ? 120 : 60)}px`,\n          overflow: \"scroll\",\n        }}\n      >\n        {multiEdit && <MultiEditDescription/>}\n        <Header\n          style={{\n            backgroundColor: assignment?.is_topic ? colors.topic : colors.green,\n            marginBottom: \"16px\",\n          }}\n          title={getTranslation(\"status\")}\n        />\n        {!multiEdit && (\n          <>\n            <AssessmentButton\n              initialState={multiEdit ? \"NOT_ASSESSED\" : assessment?.status_new}\n              warning={failWarning}\n              onStatusChange={(status) => statusUpdated(status)}\n              readonly={isStudent}\n            />\n            {assignment.use_submitted_status &&\n            <SubmissionStatusButton\n              initialState={assessment?.submitted_status || \"NOT_SUBMITTED\"}\n              onStatusChange={(status) => {\n                submittedStatusChanged(status);\n              }}\n              readonly={isStudent}\n              style={{marginTop: '10px'}}\n            />}\n          </>\n        )}\n        {multiEdit && (\n          <>\n            <MultiEditStatusComponent onStatusChange={(status) => saveManyAssessment.current.status_new = status}/>\n            {assignment.use_submitted_status &&\n            <div style={{borderTop: `1px solid ${colors.green}`}}>\n              <MultiEditSubmissionComponent\n                onStatusChange={(status => saveManyAssessment.current.submitted_status = status)}/>\n            </div>\n            }\n          </>\n        )}\n        <Header\n          style={{\n            backgroundColor: assignment.is_topic ? colors.topic : colors.green,\n            marginTop: \"16px\",\n          }}\n          title={getTranslation(\"overallResultHeaderTeacher\")}\n        />\n        <AssignmentAssessment\n          multiEdit={multiEdit}\n          selectedStudents={selectedStudents}\n          onSave={(ass) => {\n            saveManyAssessment.current = {\n              ...saveManyAssessment.current,\n              ...ass,\n            };\n          }}\n          assignment={assignment}\n          assessment={assignmentAssessment}\n        />\n        {numberOfObjectives > 20 && (\n          <FeedbackInput\n            onTextChange={setFilterTextDebounced}\n            hideEye\n            placeholder={getTranslation(\"filterObjectives\")}\n            style={{margin: \"20px\", marginBottom: \"20px\", width: \"300px\"}}\n          />\n        )}\n\n        <ObjectivesList\n          multiEdit={multiEdit}\n          textFilter={textFilter}\n          assignmentAssessmentId={assignmentAssessment?.id}\n          courseDefinitions={courseDefinitions.current}\n          objectiveAssessments={\n            assignment?.objectiveAssessments?.filter(\n              (o) => o.student_id === studentId\n            ) || []\n          }\n          gradeSystem={assignment.gradeSystem}\n          failWarning={setFailWarning}\n          isTopic={assignment.is_topic}\n          onSave={(objectiveAssessments) => {\n            saveManyObjectives.current = objectiveAssessments;\n          }}\n        />\n      </div>\n      {loading &&\n      <div style={{\n        display: 'flex',\n        position: 'absolute',\n        top: 60,\n        left: -dim.width,\n        right: 0,\n        bottom: 0,\n        backgroundColor: colors.dimmed,\n        alignItems: 'center',\n        justifyContent: 'center'\n      }}>\n        <CircularProgress size={60}/>\n      </div>}\n    </>\n  );\n  return content;\n};\n\nexport default AssignmentObjectivesList;\n","import {colors, fonts} from \"../../theme\";\nimport {Close} from \"@material-ui/icons\";\nimport {getTranslation} from \"../../i18n\";\nimport React from \"react\";\n\nconst EditAssessmentCriteriaHeader = (props) => {\n  const {assignment, onClose, onSave, saveEnabled} = props;\n  return (\n    <div\n      style={{\n        padding: \"0px 14px 0px 14px\",\n        height: \"60px\",\n        display: \"flex\",\n        backgroundColor: assignment.is_topic ? colors.topic : colors.green,\n        position: \"relative\",\n        alignItems: \"center\",\n      }}\n    >\n      <div style={{alignItems: \"center\", display: \"flex\", height: \"40px\"}}>\n        <Close\n          onClick={onClose}\n          style={{cursor: \"pointer\", color: colors.white}}\n        />\n        <span\n          style={{\n            ...fonts.LARGE,\n            fontWeight: \"500\",\n            color: colors.white,\n            marginLeft: \"6px\",\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            width: '240px',\n          }}\n        >\n          {assignment.title}\n        </span>\n      </div>\n      <span\n        onClick={onSave}\n        style={{\n          ...fonts.MEDIUM,\n          color: saveEnabled ? colors.white : colors.darkGrey,\n          position: \"absolute\",\n          right: \"20px\",\n          bottom: \"20px\",\n          cursor: saveEnabled ? \"pointer\" : \"default\",\n        }}\n      >\n        {getTranslation(\"saveBtn\").toUpperCase()}\n      </span>\n    </div>\n  );\n};\n\nexport default EditAssessmentCriteriaHeader;","import Header from \"../../components/header\";\nimport {getTranslation} from \"../../i18n\";\nimport {colors, fonts} from \"../../theme\";\nimport {Dialog} from \"@material-ui/core\";\nimport React from \"react\";\n\nconst styles = {\n  dialogFont: {\n    ...fonts.MEDIUM,\n    color: colors.green,\n    cursor: \"pointer\",\n  },\n};\n\nconst SaveDialog = (props) => {\n  const {open, onSave, onClose, onCancel} = props;\n  return (\n    <Dialog open={open}>\n      <div\n        style={{\n          padding: \"0px\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: \"250px\",\n        }}\n      >\n        <Header\n          title={getTranslation(\"saveBtn\").toUpperCase()}\n          style={{margin: \"0px\"}}\n        />\n        <span style={{...fonts.MEDIUM, padding: \"20px\"}}>\n            {getTranslation(\"saveChangesModalTitle\")}\n          </span>\n        <div\n          style={{\n            padding: \"0 20px 20px 20px\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n          }}\n        >\n            <span\n              onClick={onClose}\n              style={{...styles.dialogFont}}\n            >\n              {getTranslation(\"dontSaveBtn\")}\n            </span>\n          <div>\n              <span\n                onClick={onCancel}\n                style={styles.dialogFont}\n              >\n                {getTranslation(\"cancelBtn\")}\n              </span>\n            <span\n              onClick={onSave}\n              style={{...styles.dialogFont, marginLeft: \"20px\"}}\n            >\n                {getTranslation(\"saveBtn\")}\n              </span>\n          </div>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default SaveDialog;","import CheckboxWithText from \"../../components/CheckboxWithText\";\nimport {fonts} from \"../../theme\";\nimport {Switch, Tooltip} from \"@material-ui/core\";\nimport {getTranslation} from \"../../i18n\";\nimport React from \"react\";\n\nconst EditAssessmentCriteriaItem = ({text, enabled = true, onChange, checked = true, checkbox = false}) => (\n  <div\n    style={{\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"100%\",\n      justifyContent: \"space-between\",\n    }}\n  >\n    {checkbox && (\n      <CheckboxWithText\n        checked={checked}\n        onCheck={onChange}\n        text={text}\n        controlled={true}\n        textWidth={260}\n      />\n    )}\n    {!checkbox && (\n      <>\n        <span style={{...fonts.MEDIUM}}>{text}</span>\n        <Tooltip\n          title={enabled ? \"\" : getTranslation(\"switch_default_on_tooltip\")}\n        >\n          <div>\n            <Switch\n              onChange={onChange}\n              checked={checked}\n              color=\"primary\"\n              disabled={!enabled}\n            />\n          </div>\n        </Tooltip>\n      </>\n    )}\n  </div>\n);\n\nexport default EditAssessmentCriteriaItem;\n","import {colors, fonts} from \"../../theme\";\nimport {getTranslation} from \"../../i18n\";\nimport EditAssessmentCriteriaItem from \"./editAssessmentCriteriaItem\";\nimport React, {useState} from \"react\";\nimport Toast from \"../../components/toast\";\n\nconst CourseDefinitions = ({assignment, onChange}) => {\n  const [showCurriculumToast, setShowCurriculumToast] = useState(false);\n\n  return (\n    <div style={{marginTop: \"20px\"}}>\n      <span style={{...fonts.SMALL, color: colors.green}}>\n        {getTranslation(\"courseSelect\")}\n      </span>\n      {assignment?.courseDefinitions\n        .sort((a, b) => a.name.localeCompare(b.name))\n        .map((c) => {\n            return (\n              <EditAssessmentCriteriaItem\n                text={c.name}\n                checkbox\n                checked={() => c.selected}\n                onChange={\n                  (checked) => {\n                    if (assignment?.courseDefinitions.filter(cd => cd.selected)?.length === 1 && !checked) {\n                      setShowCurriculumToast(true);\n                    } else {\n                      c.selected = checked;\n                    }\n                    onChange(assignment);\n                  }\n                }/>\n            );\n          }\n        )}\n      <Toast timeout={3000} onClose={() => setShowCurriculumToast(false)} open={showCurriculumToast}\n             message={getTranslation(\"chooseAtLeastOneCurriculumTooltip\")}/>\n    </div>\n\n  );\n};\n\nexport default CourseDefinitions;\n","import {fonts} from \"../../theme\";\nimport {getTranslation} from \"../../i18n\";\nimport React from \"react\";\n\nconst NoCurriculum = () => {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"200px\",\n        padding: \"0 40px 0 40px\",\n      }}\n    >\n            <span style={{...fonts.MEDIUM}}>\n              {getTranslation(\"assessCourseNotConfigured\")}\n            </span>\n    </div>\n  )\n};\nexport default NoCurriculum;","import Header from \"../../components/header\";\nimport {colors} from \"../../theme\";\nimport Card from \"../../components/card\";\nimport AccordionItem from \"../../components/accordionItem\";\nimport FeedbackInput from \"../../components/feedbackInput\";\nimport {getTranslation} from \"../../i18n\";\nimport CheckboxWithText from \"../../components/CheckboxWithText\";\nimport React, {useContext} from \"react\";\nimport {GlobalContext} from \"../../utils\";\n\nconst Objectives = ({assignment, selectedGradeSystem, onChange}) => {\n  const context = useContext(GlobalContext);\n  const {showObjectiveDetails} = context;\n\n  const {courseDefinitions} = assignment;\n  if (!courseDefinitions) {\n    return null;\n  }\n\n  const handleObjectiveCheck = (checked, id) => {\n    assignment.courseDefinitions.forEach(cd => {\n      cd.objectives.forEach(o => {\n        if (o.id === id) {\n          o.selected = checked;\n        }\n      });\n    });\n    onChange({...assignment});\n  };\n\n  return courseDefinitions.filter(c => c.selected).sort((a, b) => a.name.localeCompare(b.name))\n    .map((def) => {\n      if (def.objectives.length === 0) {\n        return null;\n      }\n      return (\n        <div key={def.id} style={{marginLeft: \"10px\", marginRight: \"10px\"}}>\n          <Header style={{backgroundColor: assignment?.is_topic ? colors.topic : colors.green}}\n                  title={def.name}/>\n          <Card style={{height: \"100%\", padding: 0}}>\n            {def.objectives.sort((a, b) => (a.name.localeCompare(b.name, undefined, {\n              numeric: true,\n              sensitivty: 'base'\n            }))).map((o) => {\n              return (\n                <div key={o.id} style={{borderBottom: `1px solid ${colors.borderColor}`}}>\n                  {selectedGradeSystem?.is_counter && (\n                    <AccordionItem\n                      details={\n                        <div>\n                          {selectedGradeSystem?.grades?.map(\n                            (g, i) => (\n                              <FeedbackInput\n                                key={g.id}\n                                type={\"number\"}\n                                style={{width: \"300px\"}}\n                                text={o.max_counter_grades[i]}\n                                placeholder={`${getTranslation(\"maxPointsInput\")} ${g.name}`}\n                                hideEye={true}\n                                onTextChange={(text) => {\n                                  o.max_counter_grades[i] = parseInt(text, 10);\n                                  onChange({...assignment});\n                                }}\n                                id={g.id}\n                              />\n                            )\n                          )}\n                        </div>\n                      }\n                      summary={\n                        <CheckboxWithText\n                          onClick={() => {\n                            showObjectiveDetails(o.id);\n                          }}\n                          id={o.id}\n                          onCheck={handleObjectiveCheck}\n                          subText={o.description}\n                          text={o.name}\n                          checked={o.selected}\n                          style={{\n                            padding: \"0px 0px 0px 20px\",\n                            width: \"270px\",\n                          }}\n                        />\n                      }\n                    />\n                  )}\n                  {!selectedGradeSystem?.is_counter && (\n                    <CheckboxWithText\n                      onClick={() => showObjectiveDetails(o.id)}\n                      id={o.id}\n                      onCheck={handleObjectiveCheck}\n                      subText={o.description}\n                      text={o.name}\n                      checked={o.selected}\n                      style={{padding: \"10px 20px 10px 20px\"}}\n                    />\n                  )}\n                </div>\n              );\n            })}\n          </Card>\n        </div>\n      );\n    });\n};\n\nexport default Objectives;\n","import Header from \"../../components/header\";\nimport {getTranslation} from \"../../i18n\";\nimport {colors, fonts} from \"../../theme\";\nimport {Dialog} from \"@material-ui/core\";\nimport React from \"react\";\n\nconst styles = {\n  dialogFont: {\n    ...fonts.MEDIUM,\n    color: colors.green,\n    cursor: \"pointer\",\n  },\n};\n\nconst GradeWarningDialog = ({warningDialogText, close}) => {\n  return (\n    <Dialog open={!!warningDialogText}>\n      <div\n        style={{\n          padding: \"0px\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: \"250px\",\n        }}\n      >\n        <Header\n          title={getTranslation(\"assignConfirmationModalTitle\")}\n          style={{margin: \"0px\"}}\n        />\n        <span style={{...fonts.MEDIUM, padding: \"20px\"}}>\n            {warningDialogText}\n          </span>\n        <div\n          style={{\n            padding: \"0 20px 20px 20px\",\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n            <span\n              onClick={() => close()}\n              style={styles.dialogFont}\n            >\n              {getTranslation(\"cancelBtn\")}\n            </span>\n          <span\n            onClick={async () => {\n              close(true);\n            }}\n            style={{...styles.dialogFont, marginLeft: \"20px\"}}\n          >\n              {getTranslation(\"saveBtn\")}\n            </span>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default GradeWarningDialog;","import React, {useContext, useEffect, useRef, useState} from 'react';\nimport {getLastUsedGradeSystem, GlobalContext, storeLastUsedGradeSystem} from \"../../utils\";\nimport EditAssessmentCriteriaHeader from \"./editAssessmentCriteriaHeader\";\nimport LinearProgress from \"../../components/LinearProgress\";\nimport Header from \"../../components/header\";\nimport {getTranslation} from \"../../i18n\";\nimport {colors} from \"../../theme\";\nimport SaveDialog from \"./saveDialog\";\nimport FullscreenProgress from \"../../components/fullscreenProgress\";\nimport EditAssessmentCriteriaItem from \"./editAssessmentCriteriaItem\";\nimport OptionsDropdown from \"../../components/optionsDropdown\";\nimport Card from \"../../components/card\";\nimport CourseDefinitions from \"./courseDefinitions\";\nimport NoCurriculum from \"./noCurriculum\";\nimport Objectives from \"./objectives\";\nimport GradeWarningDialog from \"./gradeWarningDialog\";\n\nconst CLASSROOM_QUERY = `\n     name\n     courses{\n      id\n      name\n      scale_id\n      objectives {\n        id\n        name\n      }\n      gradeSystem{\n        id\n        name\n        is_final\n        is_main\n        order\n        is_counter\n        grades {\n          id\n          name\n          is_passed\n          color\n          label\n          circle_label\n          order\n          grade_system_id\n        }\n      }\n    }\n   `;\n\nconst resultText = getTranslation(\"resultsInput\");\nconst overallFeedbackText = getTranslation(\"overallFeedback\");\nconst overallPrivateNoteText = getTranslation(\"overallPrivateNoteInput\");\nconst teacherSelfAssessmentText = getTranslation(\"teacherSelfAssessmentLabel\");\nconst objectivesText = getTranslation(\"objectivesText\");\n\nconst EditAssessmentCriteria = (props) => {\n  const {assignment: initialAssignment, onClose} = props;\n\n  const context = useContext(GlobalContext);\n  const {Api, showObjectiveDetails, height} = context;\n\n  const [assignment, setAssignment] = useState(initialAssignment);\n  const [gradeSystems, setGradeSystems] = useState();\n  const [warningDialogText, setWarningDialogText] = useState();\n  const [saveEnabled, setSaveEnabled] = useState(false);\n  const [saveDialogOpen, setSaveDialogOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [lastUsedGradeSystem, setLastUsedGradeSystem] = useState();\n  const [enableObjectives, setEnableObjectives] = useState(false);\n\n  const referenceAssignment = useRef();\n\n  const isArrayChanged = (aArr, bArr) => {\n    if (aArr?.length !== bArr?.length) {\n      return true;\n    }\n    const test = aArr.filter((a) => bArr.indexOf(a) < 0);\n    return test.length !== 0;\n  };\n\n  const updateSaveEnabled = () => {\n    const {current: ref} = referenceAssignment;\n    if (!ref || !assignment) {\n      return\n    }\n    let saveEnable = false;\n    if(ref.use_submitted_status !== assignment.use_submitted_status){\n      saveEnable = true;\n    }\n    if (ref.grade_system_id !== assignment.grade_system_id) {\n      saveEnable = true;\n    }\n\n    const refCourseDefinitions = ref.courseDefinitions?.filter(cd => cd.selected).map(cd => cd.id);\n    const courseDefinitions = assignment.courseDefinitions?.filter(cd => cd.selected).map(cd => cd.id);\n    if (isArrayChanged(refCourseDefinitions, courseDefinitions)) {\n      saveEnable = true;\n    }\n\n    const refSelectedObjectivesIds = ref.courseDefinitions?.map(cd => cd?.objectives.filter(o => o.selected).map(o => o.id)).flat();\n    const selectedObjectivesIds = assignment.courseDefinitions?.map(cd => cd?.objectives.filter(o => o.selected).map(o => o.id)).flat();\n    if (isArrayChanged(refSelectedObjectivesIds, selectedObjectivesIds)) {\n      saveEnable = true;\n    }\n\n    if (!saveEnable) {\n      const refSelectedObjectives = ref.courseDefinitions?.map(cd => cd?.objectives.filter(o => o.selected)).flat();\n      const selectedObjectives = assignment.courseDefinitions?.map(cd => cd?.objectives.filter(o => o.selected)).flat();\n      const refMaxcounter = refSelectedObjectives.map(o => o.max_counter_grades);\n      const maxCounter = selectedObjectives.map(o => o.max_counter_grades);\n\n      refMaxcounter.forEach((rf, i) => {\n        const change = rf.filter((r, ii) => r !== maxCounter[i][ii]);\n        if (change.length) {\n          saveEnable = true;\n        }\n      });\n    }\n\n\n    setSaveEnabled(saveEnable);\n  };\n\n  useEffect(() => {\n    updateSaveEnabled();\n  }, [assignment]);\n\n  const getGradeSystem = (courses) => {\n    return courses\n      .map((c) => c.gradeSystem)\n      .flat()\n      .reduce((acc, g) => {\n        if (!acc?.find((a) => a.id === g.id)) {\n          acc.push(g);\n        }\n        return acc;\n      }, [])\n      .sort((a, b) => {\n        if (a.is_main) {\n          return -1;\n        }\n        if (b.is_main) {\n          return 1;\n        }\n        return a.name.localeCompare(b.name);\n      });\n  };\n\n  const getCourseDefinitions = async () => {\n    setLoading(true);\n    const response = await Api.getClassroom(CLASSROOM_QUERY);\n    const {courses} = response?.data?.classroom;\n    const gradeSystem = getGradeSystem(courses);\n    setGradeSystems(gradeSystem);\n    const responseObjectives = await Api.getAssignmentWithAssessment(assignment.id,\n      `objectiveAssessments {\n        objective_id\n        counter_grade_0\n        counter_grade_1\n        counter_grade_2\n        counter_grade_3\n        counter_grade_4\n        counter_grade_5\n        counter_grade_6\n        counter_grade_7\n        counter_grade_8\n        counter_grade_9\n        max_counter_grade_0\n        max_counter_grade_1\n        max_counter_grade_2\n        max_counter_grade_3\n        max_counter_grade_4\n        max_counter_grade_5\n        max_counter_grade_6\n        max_counter_grade_7\n        max_counter_grade_8\n        max_counter_grade_9\n      }`);\n\n    const {objectiveAssessments} = responseObjectives?.data?.assignment[0];\n\n    const selectedObjectives = [...new Set(objectiveAssessments.map(o => o.objective_id))];\n    let {courses: courseDefinitions} = response?.data?.classroom;\n    courseDefinitions.map(cd => {\n      cd.objectives = cd.objectives.map(o => {\n        const objectiveAssessment = objectiveAssessments.find(oa => oa.objective_id === o.id);\n        let max_counter_grades;\n        if (objectiveAssessment) {\n          max_counter_grades = Object.keys(objectiveAssessment).filter(k => k.startsWith('max')).map(k => objectiveAssessment[k]);\n        } else {\n          max_counter_grades = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        }\n        return {...o, selected: !!selectedObjectives.find(id => id === o.id), max_counter_grades};\n      });\n    });\n\n    const noAssignedCurriculums = assignment?.courseDefinitions.length === 0\n    if (noAssignedCurriculums) {\n      await Api.updateAssignmentCourseDefinitions(assignment.id, courseDefinitions.map(cd => cd.id));\n    }\n    const newCourseDefinitions = courseDefinitions.map(cd => {\n      return {...cd, selected: !!assignment?.courseDefinitions.find(acd => acd.id === cd.id) || noAssignedCurriculums}\n    });\n    const newAssignment = {\n      ...assignment,\n      courseDefinitions: newCourseDefinitions,\n      grade_system_id: assignment?.gradeSystem?.id,\n    };\n    setAssignment(newAssignment);\n    // Deep clone\n    referenceAssignment.current = JSON.parse(JSON.stringify(newAssignment));\n    const anyObjectivesSelected = newAssignment?.courseDefinitions.map(cd => cd.objectives.filter(o => o.selected)).flat().length;\n    setEnableObjectives(anyObjectivesSelected > 0);\n    setLoading(false);\n  };\n\n  const handleSave = async ({force = false, close = false}) => {\n    if (referenceAssignment.current.grade_system_id && referenceAssignment.current.grade_system_id !== assignment.grade_system_id && !force) {\n      setWarningDialogText(getTranslation(\"assignGradeConfirmationModalText\"));\n      return;\n    }\n    const objectives = assignment.courseDefinitions.map(cd => cd.objectives.filter(o => o.selected)).flat();\n    await Api.updateAssignmentCourseDefinitions(assignment.id, assignment.courseDefinitions.filter(cd => cd.selected).map(cd => cd.id));\n    await Api.updateAssignmentObjectivesConnected(assignment.id, objectives.map(o => ({\n      id: o.id,\n      max_counter_grades: objectives.find(oo => oo.id === o.id)?.max_counter_grades\n    })));\n    await Api.updateAssignment(assignment);\n    referenceAssignment.current = JSON.parse(JSON.stringify(assignment));\n    updateSaveEnabled();\n    if (assignment?.grade_system_id) {\n      storeLastUsedGradeSystem(assignment?.grade_system_id);\n    }\n    if (close) {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    getCourseDefinitions();\n    (async () => {\n      const lastUsedScale = await getLastUsedGradeSystem();\n      setLastUsedGradeSystem(lastUsedScale);\n    })();\n  }, []);\n\n  return (\n    <>\n      <EditAssessmentCriteriaHeader\n        assignment={assignment}\n        onClose={() => {\n          if (saveEnabled) {\n            setSaveDialogOpen(true);\n          } else {\n            onClose();\n            showObjectiveDetails(false);\n          }\n        }}\n        onSave={handleSave}\n        saveEnabled={saveEnabled}\n      />\n      <LinearProgress/>\n      {loading && <FullscreenProgress/>}\n      {!loading && assignment?.courseDefinitions?.length === 0 && <NoCurriculum/>}\n      {!loading && assignment?.courseDefinitions?.length > 0 &&\n      <div style={{height: `${height - 60}px`, overflow: \"scroll\"}}>\n        <Header\n          style={{\n            backgroundColor: assignment?.is_topic ? colors.topic : colors.green,\n            marginTop: '10px',\n            marginLeft: '10px',\n            marginRight: '10px'\n          }}\n          title={`${getTranslation(\"connectAttributesToAssignment\")} ${assignment?.title}.`}\n        />\n        <Card style={{padding: \"20px\", margin: \"0px 10px 0px 10px\"}}>\n          <EditAssessmentCriteriaItem\n            text={getTranslation('use_submitted_status')} enabled={true}\n            checked={assignment.use_submitted_status}\n            onChange={() => {\n              setAssignment({...assignment, use_submitted_status: !assignment.use_submitted_status})\n            }}\n          />\n          <EditAssessmentCriteriaItem text={overallFeedbackText} enabled={false}/>\n          <EditAssessmentCriteriaItem text={teacherSelfAssessmentText} enabled={false}/>\n          <EditAssessmentCriteriaItem text={resultText} enabled={false}/>\n          <EditAssessmentCriteriaItem\n            text={getTranslation(\"overallAssessment\")}\n            checked={!!assignment.grade_system_id}\n            onChange={() => {\n              if (!assignment.grade_system_id) {\n                const lastUsedExists = gradeSystems.find((gs) => gs.id === lastUsedGradeSystem);\n                setAssignment({\n                  ...assignment,\n                  grade_system_id: lastUsedExists ? lastUsedGradeSystem : gradeSystems[0].id\n                });\n              } else {\n                setAssignment({...assignment, grade_system_id: null});\n                setEnableObjectives(false);\n              }\n            }}\n          />\n          <EditAssessmentCriteriaItem text={overallPrivateNoteText} enabled={false} checked={true}/>\n          <EditAssessmentCriteriaItem\n            text={objectivesText}\n            checked={enableObjectives && !!assignment.grade_system_id}\n            onChange={(e) => {\n              setEnableObjectives(e.target.checked);\n              if (!assignment.grade_system_id) {\n                const lastUsedExists = !!gradeSystems.find((gs) => gs.id === lastUsedGradeSystem);\n                setAssignment({\n                  ...assignment,\n                  grade_system_id: lastUsedExists ? lastUsedGradeSystem : gradeSystems[0].id\n                });\n              } else if (!e.target.checked) {\n                assignment?.courseDefinitions?.forEach(cd => {\n                  cd.objectives = cd.objectives.map(o => ({...o, selected: false}));\n                });\n                setAssignment({...assignment});\n              }\n            }}\n          />\n          {(assignment.grade_system_id || enableObjectives) && (\n            <OptionsDropdown\n              options={gradeSystems.map((g) => ({id: g.id, name: g.name})) || []}\n              helpText={getTranslation(\"scaleSelect\")}\n              value={assignment.grade_system_id}\n              handleChange={(e) => setAssignment({...assignment, grade_system_id: e.target.value})}\n              style={{marginTop: \"10px\"}}\n            />\n          )}\n          {assignment?.courseDefinitions.length > 1 &&\n          <CourseDefinitions assignment={assignment} onChange={(a) => setAssignment({...a})}/>}\n        </Card>\n        {enableObjectives && assignment.grade_system_id &&\n        <Objectives\n          assignment={assignment}\n          selectedGradeSystem={gradeSystems.find(gr => gr.id === assignment?.grade_system_id)}\n          onChange={setAssignment}\n        />\n        }\n      </div>\n      }\n      <GradeWarningDialog\n        warningDialogText={warningDialogText}\n        close={(save = false) => {\n          setWarningDialogText(false);\n          if (save) {\n            handleSave({force: true});\n          }\n        }}\n      />\n\n      <SaveDialog\n        open={saveDialogOpen}\n        onSave={() => {\n          handleSave({close: true});\n        }}\n        onCancel={() => {\n          setSaveDialogOpen(false);\n        }}\n        onClose={onClose}\n      />\n    </>\n  );\n};\n\nexport default EditAssessmentCriteria;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 6a9.77 9.77 0 018.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5A9.77 9.77 0 0112 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5a2.5 2.5 0 010 5 2.5 2.5 0 010-5m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z\",\n  fill: \"none\",\n  stroke: \"#696969\",\n  strokeDasharray: \"3 2\"\n});\n\nfunction SvgVisibilityKeep(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/702f8e828ed0a81934e974f4fc03d796-visibilityKeep.svg\";\nexport { SvgVisibilityKeep as ReactComponent };","import React from 'react';\nimport {PUBLISH_STATES} from \"./publishIcon\";\nimport {getTranslation} from \"../i18n\";\nimport {ReactComponent as VisibilityKeep} from '../images/visibilityKeep.svg';\nimport Tooltip from \"./tooltip\";\nimport PublishedIcon from \"./publishedIcon\";\n\n\nconst getTooltipText = (state) => {\n  switch (state) {\n    case PUBLISH_STATES.published:\n      return getTranslation('visibility_tooltip_publish');\n    case PUBLISH_STATES.notPublished:\n      return getTranslation('visibility_tooltip_unpublish');\n    case PUBLISH_STATES.dontChange:\n      return getTranslation('visibility_tooltip_dont_change');\n  }\n};\n\nconst VisibilityIcon = (props) => {\n  const {visible: state, style, size} = props;\n\n  return (\n    <Tooltip title={getTooltipText(state)}>\n      {state !== PUBLISH_STATES.dontChange &&\n      <PublishedIcon size={size} published={state === PUBLISH_STATES.published} active={true} style={style}/>}\n      {state === PUBLISH_STATES.dontChange && <VisibilityKeep style={{width: size ? size + 'px' : '12px', ...style}}/>}\n    </Tooltip>\n  );\n};\nexport default VisibilityIcon;","export class SlideToggleAnimation {\n  static className = 'slideToggleOpen';\n\n  constructor() {\n    'ngInject';\n    this.addClass = this.addClass.bind(this);\n    this.removeClass = this.removeClass.bind(this);\n  }\n\n  static create() {\n    return new SlideToggleAnimation();\n  }\n\n  addClass(element, className, done) {\n    if (className === SlideToggleAnimation.className) {\n      setTimeout(() => {\n        element.stop().slideDown(0, done);\n      }, 0);\n    }\n    return this.animationFinished.bind({ element });\n  }\n\n  removeClass(element, className, done) {\n    if (className === SlideToggleAnimation.className) {\n      element.stop().slideUp(0, done);\n    }\n\n    return this.animationFinished.bind({ element });\n  }\n\n  animationFinished() {\n    if (this.element && this.element.stop) {\n      this.element.stop();\n    }\n  }\n}\n","export class IdService {\n  public static ID_FRAGMENT: string = 's';\n  private static pattern: RegExp = new RegExp(`${IdService.ID_FRAGMENT}`, 'g');\n\n  public static getId(format: string = `${IdService.ID_FRAGMENT}${IdService.ID_FRAGMENT}`): string {\n    return format.replace(this.pattern, IdService.generateIDFragment);\n  }\n\n  private static generateIDFragment(): string {\n    return IdService.getRandomNumber().toString(16).slice(2);\n  }\n\n  private static getRandomNumber(base: number = Math.floor((1 + Math.random()) * 0x10000)): number {\n    return base ^ window.crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> base / 4;\n  }\n}\n","import { Params } from '@angular/router';\n\nexport enum MainMenuID {\n  ASSIGNMENT,\n  COURSE_PROGRESS,\n  CURRICULUM\n}\n\nexport interface MainMenu {\n  readonly icon: 'assignment' | 'school' | 'book';\n  readonly iconColor: 'green-icon' | 'pink-icon' | 'blue-icon';\n  readonly id: MainMenuID;\n  readonly label: string;\n  readonly params?: Params;\n  readonly state: string;\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport { IStudent } from '../../shared/models/student.model';\n\nexport class Students {\n  public students: IStudent[];\n\n  constructor(protected Path: any, protected FetchData: any) {\n    'ngInject';\n\n    this.students = [];\n  }\n\n  public updateStudentsList(updatedStudents: IStudent[]) {\n    this.students = updatedStudents;\n  }\n\n  public getStudentsList(): Promise<IStudent[]> {\n    return this.students.length ?\n      Promise.resolve([...this.students]) :\n      this.FetchData.getStudentsList(this.Path.getClassroomId())\n        .then((students: IStudent[]): IStudent[] => {\n          this.students = students;\n\n          return [...students];\n        });\n  }\n\n  public getStudentsIds(): number[] {\n    return this.students.map(student => student.id);\n  }\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 399;","import angular from 'angular';\n\nexport interface IDialogService {\n  readonly DEFAULT_OPTIONS: ng.material.IDialogOptions;\n}\n\nexport abstract class DialogService implements IDialogService {\n  public readonly DEFAULT_OPTIONS: ng.material.IDialogOptions = {\n    bindToController: true,\n    controller: class DialogController {\n      constructor(public $mdDialog: ng.material.IDialogService) {\n        'ngInject';\n      }\n    },\n    controllerAs: '$ctrl',\n    parent: angular.element(document.body),\n  };\n\n  constructor(protected $mdDialog: ng.material.IDialogService) {\n    'ngInject';\n  }\n\n  protected buildOptions(options: ng.material.IDialogOptions = this.DEFAULT_OPTIONS): ng.material.IDialogOptions {\n    return Object.assign({}, this.DEFAULT_OPTIONS, options);\n  }\n}\n","import { IPromise } from 'angular';\nimport get from 'lodash.get';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { GroupedVisibilityDialogType } from '../../enums/groupedVisibilityDialogType.enum';\nimport { IGroupedVisibility } from '../../models/groupedVisibility.model';\nimport { IGroupedVisibilitySettings } from '../../models/groupedVisibilitySettings.model';\nimport { DialogService, IDialogService } from '../dialog/dialog.service';\nimport SharedServicesModule from '../services.module';\n\nexport interface IGroupedVisibilityDialogService extends IDialogService {\n  show(settings: IGroupedVisibilitySettings): IPromise<IGroupedVisibility>;\n}\n\n@Service({\n  module: SharedServicesModule,\n  name: 'GroupedVisibilityDialogService',\n})\nexport class GroupedVisibilityDialogService extends DialogService implements IGroupedVisibilityDialogService {\n  protected readonly helpButtonLinks: { [type: string]: string };\n\n  constructor(protected $mdDialog: ng.material.IDialogService) {\n    'ngInject';\n\n    super($mdDialog);\n    this.helpButtonLinks = {\n      [GroupedVisibilityDialogType.AssignmentStudentView]: 'teacherAssignmentStudentChangeVisibilityDialogHelpButtonUrl',\n      [GroupedVisibilityDialogType.AssignmentView]: 'teacherAssignmentClassChangeVisibilityDialogHelpButtonUrl',\n      [GroupedVisibilityDialogType.StudentProgressView]: 'teacherStudentProgressChangeVisibilityDialogHelpButtonUrl',\n    };\n  }\n\n  public show(settings: IGroupedVisibilitySettings): IPromise<IGroupedVisibility> {\n    const options: ng.material.IDialogOptions = this.buildOptions({\n      locals: {\n        settings,\n        helpButtonLink: this.helpButtonLinks[settings.type],\n      },\n      controller: class GroupedVisibilityDialogController {\n        public setVisibilityIsDisabled: boolean;\n        public groupedVisibility: IGroupedVisibility;\n\n        constructor(private $mdDialog: DialogService) {\n          'ngInject';\n          this.setVisibilityIsDisabled = true;\n        }\n\n        public onChange(groupedVisibility: IGroupedVisibility): void {\n          const isTypeOfFeedbackSelected: boolean =\n            this.checkIfAnySelected(get(groupedVisibility, 'types_of_feedback.objective', null)) ||\n            this.checkIfAnySelected(get(groupedVisibility, 'types_of_feedback.overall', null));\n\n          this.setVisibilityIsDisabled = !groupedVisibility || !isTypeOfFeedbackSelected ||\n            !groupedVisibility.students_ids.length ||\n            !groupedVisibility.course_definitions_ids.length ||\n            typeof groupedVisibility.visible !== 'boolean';\n\n          this.groupedVisibility = groupedVisibility;\n        }\n\n        private checkIfAnySelected(obj: { [prop: string]: boolean }) {\n          for (const prop in obj) {\n            if (get(obj, `${prop}`, false)) {\n              return true;\n            }\n          }\n\n          return false;\n        }\n      },\n      template: `\n<md-dialog class=\"grouped-visibility-dialog\">\n<!--  <help-button class=\"black\"-->\n<!--               link=\"{{ ::$ctrl.helpButtonLink }}\"></help-button>-->\n  <md-dialog-content class=\"sb-dialog-content\">\n    <div class=\"dialog__small--title\" localize>__MSG_groupedVisibility__</div>\n    <grouped-visibility settings=\"$ctrl.settings\" on-change=\"$ctrl.onChange(changes)\"></grouped-visibility>\n    <footer class=\"dialog__small--button--container\"\n         layout=\"row\"\n         layout-align=\"end center\">\n      <md-button class=\"sb-btn-no-background md-primary sb-btn-no-min-width\"\n                 ng-click=\"$ctrl.$mdDialog.cancel()\"\n                 localize>__MSG_cancelBtn__</md-button>\n      <md-button class=\"sb-btn-no-background md-primary sb-btn-no-min-width\"\n                 ng-click=\"$ctrl.$mdDialog.hide($ctrl.groupedVisibility)\"\n                 ng-disabled=\"$ctrl.setVisibilityIsDisabled\"\n                 localize>__MSG_setVisibilityButton__</md-button>\n    </footer>\n  </md-dialog-content>\n</md-dialog>`,\n    });\n\n    return this.$mdDialog.show(options);\n  }\n}\n","import angular from 'angular';\nimport { IParentComponentOptions } from 'angular';\n\nexport const ParentComponent: (options?: IParentComponentOptions) => (prototype: object, property: string | symbol) => void = (options?: IParentComponentOptions): (prototype: object, property: string | symbol) => void => {\n  return (prototype: object & { $$require?: any }, property: string | symbol): void => {\n    const _options: IParentComponentOptions = angular.merge({}, {\n      alias: '',\n      optional: false,\n    }, options);\n    const require: { [property: string]: string } = { [property]: `^^${_options.optional ? '?' : ''}${_options.alias}` };\n    let $$require: { [boundProperty: string]: string } = prototype.$$require || {};\n\n    $$require = angular.merge({}, $$require, require);\n    Object.assign(prototype, { $$require });\n  };\n};\n","import angular, { IPromise } from 'angular';\n\nexport class CourseProgressDialog {\n  static DEFAULT_CONFIG: angular.material.IDialogOptions = {\n    bindToController: true,\n    controller($mdDialog: angular.material.IDialogService) {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n    },\n    controllerAs: 'dialog',\n    parent: angular.element(document.body),\n  };\n  static TEMPLATE_PATH = 'components/course-progress/common/dialogs';\n\n  constructor(protected $mdDialog: angular.material.IDialogService) {\n    'ngInject';\n\n    this.$mdDialog = $mdDialog;\n  }\n\n  show(config: angular.material.IDialogOptions): IPromise<any>{\n    return this.$mdDialog.show(this.buildDialogConfig(config));\n  }\n\n  buildDialogConfig(config: angular.material.IDialogOptions = {}): angular.material.IDialogOptions {\n    const $config = angular.copy(config);\n    return angular.extend({}, CourseProgressDialog.DEFAULT_CONFIG, $config);\n  }\n}\n","import { TransitionAuth } from '../types/transitionAuth.type';\n\nexport abstract class TransitionHandler {\n  deregisterOnBefore: Function = () => {};\n  deregisterOnEnter: Function = () => {};\n  deregisterOnError: Function = () => {};\n  deregisterOnExit: Function = () => {};\n  deregisterOnFinish: Function = () => {};\n  deregisterOnRetain: Function = () => {};\n  deregisterOnStart: Function = () => {};\n  deregisterOnSuccess: Function = () => {};\n\n  deregisterAll(): void {\n    this.deregisterOnBefore();\n    this.deregisterOnEnter();\n    this.deregisterOnError();\n    this.deregisterOnExit();\n    this.deregisterOnFinish();\n    this.deregisterOnRetain();\n    this.deregisterOnStart();\n    this.deregisterOnSuccess();\n  }\n\n  abstract getCriteria(): any;\n\n  onBefore(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onStart(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onExit(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onRetain(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onEnter(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onFinish(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onSuccess(transition: any): TransitionAuth {\n    return true;\n  }\n\n  onErro(transition: any): TransitionAuth {\n    return true;\n  }\n}\n","import { TransitionHandler } from '../../shared/models/transitionHandler.model';\nimport get from 'lodash.get';\n\nexport const registerOnBeforeTransition: ($transitionsProvider: any) => Function = ($transitionsProvider: any): Function => (constructor: new (...args: any[]) => TransitionHandler): void => {\n  const instance: TransitionHandler = new constructor();\n  instance.deregisterOnBefore = $transitionsProvider\n    .onBefore(instance.getCriteria(), (transition: any): any => instance.onBefore(transition));\n};\n\nexport function transitionOnce(\n  target: Object,\n  propertyName: string,\n  propertyDescriptor: PropertyDescriptor): PropertyDescriptor {\n\n  const method = propertyDescriptor.value;\n  const deregisterMethodName = `deregister${propertyName.replace(/^on/, 'On')}`;\n\n  propertyDescriptor.value = function (...args: any[]) {\n    const transition: any = method.apply(this, args);\n\n    get(this, deregisterMethodName, () => {}).call(this);\n\n    return transition;\n  };\n\n  return propertyDescriptor;\n};\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { UserSetupDialog } from './commons/dialogs/UserSetupDialog.service';\nimport { userSetupComponent } from './components/userSetup/userSetup.component';\nimport { userSetupAgreementComponent } from './components/userSetupAgreement/userSetupAgreement.component';\nimport { userSetupAgreementMissingComponent } from './components/userSetupAgreementMissing/userSetupAgreementMissing.component';\nimport { userSetupCheckComponent } from './components/userSetupCheck/userSetupCheck.component';\nimport { UserSetupCheck } from './components/userSetupCheck/userSetupCheck.service';\nimport { userSetupCheckInvalidComponent } from './components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.component';\nimport { userSetupCheckProgressComponent } from './components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.component';\nimport { userSetupCheckValidComponent } from './components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.component';\nimport { userSetupCompleteComponent } from './components/userSetupComplete/userSetupComplete.component';\nimport { userSetupSettingsComponent } from './components/userSetupSettings/userSetupSettgins.component';\nimport { UserSetupSettings } from './components/userSetupSettings/usetSetupSettings.service';\nimport { userSetupSlidesComponent } from './components/userSetupSlides/userSetupSlides.component';\nimport { UserSetupRouting } from './userSetup.routing';\n\n\nexport const UserSetupModule: IModule = angular.module('app.userSetup', [uiRouter])\n  .component('userSetup', userSetupComponent)\n  .component('userSetupAgreement', userSetupAgreementComponent)\n  .component('userSetupAgreementMissing', userSetupAgreementMissingComponent)\n  .component('userSetupCheck', userSetupCheckComponent)\n  .component('userSetupCheckInvalid', userSetupCheckInvalidComponent)\n  .component('userSetupCheckProgress', userSetupCheckProgressComponent)\n  .component('userSetupCheckValid', userSetupCheckValidComponent)\n  .component('userSetupComplete', userSetupCompleteComponent)\n  .component('userSetupSettings', userSetupSettingsComponent)\n  .component('userSetupSlides', userSetupSlidesComponent)\n  .service('UserSetupCheck', UserSetupCheck)\n  .service('UserSetupDialog', UserSetupDialog)\n  .service('UserSetupSettings', UserSetupSettings)\n  .config(UserSetupRouting);\n\nexport default UserSetupModule.name;\n\nexport * from './components/userSetupSchoolSelect/userSetupSchoolSelect.component';\nexport * from './components/userSetupRegisterSchool/userSetupRegisterSchool.component';\n","export enum HttpRequestType {\n  DELETE = 'DELETE',\n  GET = 'GET',\n  HEAD = 'HEAD',\n  OPTIONS = 'OPTIONS',\n  PATCH = 'PATCH',\n  POST = 'POST',\n  PUT = 'PUT',\n}\n","export * from './http-cache.query';\nexport * from './http-cache.store';\nexport * from './http-cache.service';\nexport * from './http-cache.model';\n","import { Injectable } from '@angular/core';\nimport { QueryEntity } from '@datorama/akita';\nimport { HttpCacheStore, HttpCacheState } from './http-cache.store';\n\n@Injectable({ providedIn: 'root' })\nexport class HttpCacheQuery extends QueryEntity<HttpCacheState> {\n\n  constructor(protected store: HttpCacheStore) {\n    super(store);\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpRequestType} from '../http.model';\nimport {Params} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {ID} from '@datorama/akita';\nimport SparkMD5 from 'spark-md5';\nimport {HttpCacheStore} from './http-cache.store';\n\n@Injectable({ providedIn: 'root' })\nexport class HttpCacheService {\n\n  constructor(protected httpCacheStore: HttpCacheStore) {\n  }\n\n  add<T = any>(source: Observable<T>, url: string, type: HttpRequestType, body?: any, params: Params = {}) {\n    const id: ID = this.generateID(url, type, body, params);\n\n    this.httpCacheStore.add({ id, source });\n  }\n\n  delete(id: ID) {\n    this.httpCacheStore.remove(id);\n  }\n\n  generateID(url: string, type: HttpRequestType, body?: any, params: Params = {}): ID {\n    return SparkMD5.hash(`${url}${type}${JSON.stringify(body)}${JSON.stringify(params)}`);\n  }\n}\n","import angular, { IModule } from 'angular';\n\nexport const SharedComponentsMaterialModule: IModule = angular.module('app.shared.components.material', []);\n\nexport default SharedComponentsMaterialModule.name;\n\nexport * from './mdMenuLabel/mdMenuLabel.component';\nexport * from './mdSelectAll/mdSelectAll.component';\n","import angular from 'angular';\nimport { ISiblingComponentOptions } from 'angular';\n\nexport const SiblingComponent: (options?: ISiblingComponentOptions) => (prototype: object, property: string | symbol) => void = (options?: ISiblingComponentOptions): (prototype: object, property: string | symbol) => void => {\n  return (prototype: object & { $$require?: any }, property: string | symbol): void => {\n    const _options: ISiblingComponentOptions = angular.merge({}, {\n      alias: '',\n      optional: false,\n    }, options);\n    const require: { [property: string]: string } = { [property]: `^${_options.optional ? '?' : ''}${_options.alias}` };\n    let $$require: { [boundProperty: string]: string } = prototype.$$require || {};\n\n    $$require = angular.merge({}, $$require, require);\n    Object.assign(prototype, { $$require });\n  };\n};\n","import {Injectable} from '@angular/core';\nimport {AssignmentsStore} from './assignments.store';\nimport {HttpService} from '../../../core/http/http.service';\nimport {AssignmentsQuery} from './assignments.query';\nimport {Path} from '../../../ajs-upgraded-providers';\nimport {ID, transaction} from '@datorama/akita';\nimport {Params} from '@angular/router';\nimport {map, tap} from 'rxjs/operators';\nimport {Assignment, AssignmentsUI, AssignmentType, AssignmentUI, NormalizeAssignmentsResponse, AssignmentState} from './assignment.model';\nimport {AssessmentsStore} from '../assignment/assessments/state';\nimport {normalizeAssignmentsResponse} from './assignments.normalizer';\nimport {NormalizedSchema} from 'normalizr';\n\n@Injectable({providedIn: 'root'})\nexport class AssignmentsService {\n\n  constructor(protected assignmentsStore: AssignmentsStore,\n              protected assignmentsQuery: AssignmentsQuery,\n              protected assessmentsStore: AssessmentsStore,\n              protected http: HttpService,\n              protected path: Path) {\n  }\n\n  get() {\n    return this.assignmentsQuery.getHasCache() ? this.assignmentsQuery.selectAll() : this.getFromAPI();\n  }\n\n  update(assignment: Assignment) {\n    this.assignmentsStore.update(assignment.id, state => ({\n      ...state,\n      ...assignment,\n      assessment_last_changed: (new Date()).getTime(),\n    }));\n  }\n\n  updateUI(id: ID, assignmentUI: AssignmentUI) {\n    this.assignmentsStore.ui.update(id, state => ({\n        ...state,\n        ...assignmentUI,\n      }),\n    );\n  }\n\n  setFilters(filters: AssignmentsUI['filters']) {\n    this.assignmentsStore.update(state => ({\n      ...state,\n      ui: {\n        ...state.ui,\n        filters,\n      },\n    }));\n\n    this.assignmentsStore.forceRefreshEntities();\n  }\n\n  setSorting(sort: AssignmentsUI['sort']) {\n    this.assignmentsStore.update(state => ({\n      ...state,\n      ui: {\n        ...state.ui,\n        sort,\n      },\n    }));\n\n    this.assignmentsStore.forceRefreshEntities();\n  }\n\n  protected getFromAPI() {\n    const courseID: ID = this.path.getClassroomId();\n    const params: Params = {\n      assignment_state: [AssignmentState.PUBLISHED, AssignmentState.DRAFT],\n      // show_topics: true,\n    };\n    const url = `/v3/classes/${courseID}/assignments/`;\n\n    return this.http.get<Assignment[]>(url, params).pipe(\n      map(response => this.unifyDateTimeFormat(response)),\n      map(response => this.updateAssignmentsType(response)),\n      map(response => normalizeAssignmentsResponse(response)),\n      tap(normalizeResponse => this.putAssessmentsIntoStorage(normalizeResponse)),\n      tap(normalizeResponse => this.putAssignmentsIntoStorage(normalizeResponse)),\n      map(normalizeResponse => Object.values(normalizeResponse.entities.assignments || {})),\n    );\n  }\n\n  @transaction()\n  protected putAssignmentsIntoStorage(normalizeResponse: NormalizedSchema<NormalizeAssignmentsResponse, ID[]>) {\n    this.assignmentsStore.set({\n      entities: normalizeResponse.entities.assignments || {},\n      ids: normalizeResponse.result\n    });\n  }\n\n  @transaction()\n  protected putAssessmentsIntoStorage(normalizeResponse: NormalizedSchema<NormalizeAssignmentsResponse, ID[]>) {\n    this.assessmentsStore.set(normalizeResponse.entities.assessments || {});\n  }\n\n  protected unifyDateTimeFormat(assignments: Assignment[]): Assignment[] {\n    return assignments.map(assignment => {\n      const assessmentLastChanged = (new Date(assignment.assessment_last_changed)).getTime() || assignment.assessment_last_changed;\n      const assignmentCreated = (new Date(assignment.assignment_created)).getTime() || assignment.assignment_created;\n      return {\n        ...assignment,\n        assessment_last_changed: assessmentLastChanged,\n        assignment_created: assignmentCreated,\n      };\n    });\n  }\n\n  protected updateAssignmentsType(assignments: Assignment[]): Assignment[] {\n    return assignments.map(assignment => ({\n      ...assignment,\n      assignment_type: assignment.assignment_not_assessable ? AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS : assignment.assignment_type,\n    }));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {getIDType, QueryEntity} from '@datorama/akita';\nimport {AssessmentsState, AssessmentsStore} from './assessments.store';\nimport {Assessment, AssessmentSortFn, AssessmentStatus, createAssessment} from './assessment.model';\nimport {map} from 'rxjs/operators';\nimport sort from 'fast-sort';\n\n@Injectable({ providedIn: 'root' })\nexport class AssessmentsQuery extends QueryEntity<AssessmentsState> {\n\n  constructor(protected store: AssessmentsStore) {\n    super(store);\n  }\n\n  selectManySorted(ids: getIDType<Assessment>[]) {\n    return this.selectAll({\n      filterBy: assessment => ids.includes(assessment.id),\n    }).pipe(\n      map(assessments => this.sortBy(assessments))\n    );\n  }\n\n  protected sortBy(assessments: Assessment[]): Assessment[] {\n    const stateUI = this.getValue().ui;\n    const sortMethod = this.getSortMethod(stateUI.sort.by);\n\n    return sort([...assessments])[stateUI.sort.order](sortMethod);\n  }\n\n  protected getSortMethod(by: keyof Assessment): keyof Assessment | AssessmentSortFn {\n    switch (by) {\n      case 'status_new':\n        return this.sortByStatusNew;\n      default:\n        return by;\n    }\n  }\n\n  sortByStatusNew(assessment: Assessment): number {\n    const orderBy = [AssessmentStatus.NOT_ASSESSED, AssessmentStatus.ASSESSING, AssessmentStatus.ASSESSMENT_DONE];\n\n    return 1 - orderBy.indexOf(assessment.status_new);\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {AssessmentsStore} from './assessments.store';\nimport {\n  Assessment,\n  AssessmentStatusUpdateBody,\n  AssessmentStatusUpdateResponse,\n  AssessmentsUI,\n  AssessmentVisibility\n} from './assessment.model';\nimport {HttpService} from '../../../../../core/http/http.service';\nimport {Path} from '../../../../../ajs-upgraded-providers';\nimport {ID} from '@datorama/akita';\nimport {map, tap} from 'rxjs/operators';\nimport {Assignment} from '../../../state';\nimport {normalizeUpdateStatusForManyResponse} from './assessments.normalizer';\n\n@Injectable({ providedIn: 'root' })\nexport class AssessmentsService {\n\n  constructor(protected assessmentsStore: AssessmentsStore,\n              protected path: Path,\n              protected http: HttpService) {\n  }\n\n  update(assessment: Assessment) {\n    this.assessmentsStore.update(assessment.id, state => ({\n      ...state,\n      ...assessment\n    }));\n  }\n\n  updateStatus(assignmentID: ID, assessment: Assessment, statusUpdateBody: AssessmentStatusUpdateBody) {\n    return this.updateStatusAPI(assignmentID, assessment.student_id, statusUpdateBody).pipe(\n      map(response => {\n       const updatedAssessment = {\n         ...assessment,\n         status_new: statusUpdateBody.status,\n         fail_warning: response ? response.fail_warning : assessment.fail_warning,\n       };\n       this.update(updatedAssessment);\n\n       return updatedAssessment;\n     })\n    );\n  }\n\n  updateStatusForMany(assignment: Assignment, assessmentVisibility: AssessmentVisibility) {\n    return this.updateStatusForManyAPI(assignment.id, assessmentVisibility).pipe(\n      map(response => {\n        const updates = response || assignment.assessments\n          .filter(assessment => assessmentVisibility.student_ids.includes(assessment.student_id))\n          .map(assessment => ({id: assessment.id, fail_warning: assessment.fail_warning}));\n        const normalizeUpdates = normalizeUpdateStatusForManyResponse(updates);\n\n        return [normalizeUpdates.entities.updates, normalizeUpdates.result];\n      }),\n      tap(([updates, assessmentsID]) => {\n        this.assessmentsStore.upsert(assessmentsID, state => {\n          return {\n            ...state,\n            status_new: assessmentVisibility.status,\n            fail_warning: (updates[state.id] || state).fail_warning,\n          };\n        });\n      }));\n  }\n\n  synchronizeWarningStatus(assessment: Assessment) {\n    return this.checkWarningStatusAPI(assessment.id).pipe(\n      map(response => ({...assessment, ...response})),\n      tap(updatedAssessment => this.update(updatedAssessment)),\n    );\n  }\n\n  checkWarningStatus(assessment: Assessment) {\n    return this.checkWarningStatusAPI(assessment.id).pipe(\n      map(response => response.fail_warning),\n    );\n  }\n\n  setSorting(sort: AssessmentsUI['sort']) {\n    this.assessmentsStore.update(state => ({\n      ...state,\n      ui: {\n        ...state.ui,\n        sort,\n      },\n    }));\n\n    this.assessmentsStore.forceRefreshEntities();\n  }\n\n  protected updateStatusAPI(assignmentID: ID, studentID: ID, statusUpdateBody: AssessmentStatusUpdateBody) {\n    const courseID: ID = this.path.getClassroomId();\n    const url = `/v3/classes/${courseID}/assignments/${assignmentID}/status/${studentID}/`;\n\n    return this.http.patch<AssessmentStatusUpdateResponse>(url, {...statusUpdateBody});\n  }\n\n  protected updateStatusForManyAPI(assignmentID: ID, assignmentVisibility: AssessmentVisibility) {\n    const courseID: string = this.path.getClassroomId();\n    const url = `/v3/classes/${courseID}/assignments/${assignmentID}/status/`;\n\n    return this.http.patch<AssessmentStatusUpdateResponse[]>(url, assignmentVisibility);\n  }\n\n  protected checkWarningStatusAPI(assessmentID: ID) {\n    const url = `/v3/classes/fail-warning/${assessmentID}/`;\n\n    return this.http.get<AssessmentStatusUpdateResponse>(url);\n  }\n}\n","import {normalize, schema} from 'normalizr';\n\nconst updateStatusForManyResponse = new schema.Entity('updates', );\nexport const normalizeUpdateStatusForManyResponse = response => normalize(response, [updateStatusForManyResponse]);\n","import {normalize, schema} from 'normalizr';\nimport {Assignment, NormalizeAssignmentsResponse} from './assignment.model';\nimport {ID} from '@datorama/akita';\n\nconst assessment = new schema.Entity('assessments');\nconst assignmentsForTopic = new schema.Entity('assignments_for_topic');\nconst assignment = new schema.Entity('assignments', {\n  assessments: [assessment],\n  assignments_for_topic: [assignmentsForTopic],\n});\n\nexport const normalizeAssignmentsResponse = assignments =>\n  normalize<Assignment, NormalizeAssignmentsResponse, ID[]>(assignments, [assignment]);\n\n","import angular, { IModule } from 'angular';\n\nexport const SharedDirectivesModule: IModule = angular\n  .module('app.shared.directives', []);\n\nexport default SharedDirectivesModule.name;\n\nexport * from './hint/hint.directive';\nexport * from './textarea/textarea.directive';\n","import angular from 'angular';\nimport { IDirectiveOptions, IModule } from 'angular';\n\nexport const Directive: (options: IDirectiveOptions) => any = (options: IDirectiveOptions): <T extends { new(...args: any[]): angular.IDirective }>(constructor: T) => any => {\n\n  const getOrCreateComponentModule: () => IModule = (): IModule => {\n    const moduleName: string = 'app';\n    let module: IModule;\n\n    if (options.module) {\n      try {\n        module = angular.module(`${options.module}`);\n      } catch (err) {\n        module = null;\n      }\n    }\n\n    if (!module) {\n      try {\n        module = angular.module(`${moduleName}`);\n      } catch (err) {\n        console.error(`Error on register directive ${options.selector} in module ${moduleName}. Module ${moduleName} is not exists.`, err);\n        module = null;\n      }\n    }\n\n    return module;\n  };\n\n  const createDirectiveFactory: (constructor: { new(...args: any[]): angular.IDirective }) => angular.IDirectiveFactory = (constructor: { new(...args: any[]): angular.IDirective }): angular.IDirectiveFactory => {\n    const directiveFactory: any = (...args: any[]): angular.IDirective =>  {\n      const directive: angular.IDirective = new constructor(...args);\n      Object.assign(directive, options);\n\n      return directive;\n    };\n\n    if (constructor.$inject) {\n      directiveFactory.$inject = constructor.$inject;\n    }\n\n    return directiveFactory;\n  };\n\n  const convertSelectorName: (selector: string) => string = (selector: string): string => {\n    return selector.replace(\n      /-([a-z])/g,\n      (word: string): string => word[1].toUpperCase(),\n    );\n  };\n\n  return <T extends { new(...args: any[]): angular.IDirective }>(constructor: T): T => {\n    const module: IModule = getOrCreateComponentModule();\n\n    const directiveFactory: angular.IDirectiveFactory = createDirectiveFactory(constructor);\n\n    if (module) {\n      const selector: string = convertSelectorName(options.selector);\n      module.directive(selector, directiveFactory);\n    }\n\n    return constructor;\n  };\n};\n\n","import angular, { IModule } from 'angular';\nimport { CourseDefinitionDetails } from './common/components/course-definition-details.component';\nimport { ObjectiveDetails } from './common/components/objective-details.component';\nimport { CourseManagementRouting } from './courseManagement.routing';\n\nexport const CourseManagementModule: IModule = angular\n  .module('app.courseManagement', [])\n  .component('courseDefinitionDetails', CourseDefinitionDetails)\n  .component('cmObjectiveDetails', ObjectiveDetails)\n  .config(CourseManagementRouting);\n\nexport default CourseManagementModule.name;\n\n\n// Do not ask.. It have to be like that..\nimport StudentCourseManagementModule from './studentCourseManagement/studentCourseManagement.module';\nimport TeacherCourseManagementModule from './teacherCourseManagement/teacherCourseManagement.module';\nCourseManagementModule.requires.push(...[StudentCourseManagementModule, TeacherCourseManagementModule]);\n\nexport * from './common/services/curriculums.service';\nexport * from './shared/cmEmptyObjectivesList/cmEmptyObjectivesList.component';\n","import angular, { IModule } from 'angular';\n\nexport const AssignmentsSharedModule: IModule = angular.module('app.assignments.shared', []);\n\nexport default AssignmentsSharedModule.name;\nexport * from  './objectiveKnowledgeRequirements/objectiveKnowledgeRequirements.directive';\nexport * from  './studentAssignmentTextarea/studentAssignmentTextarea.component';\n","import {Injectable} from '@angular/core';\nimport {AssignmentsStore} from './assignments.store';\nimport {HttpService} from '../../../core/http/http.service';\nimport {AssignmentsQuery} from './assignments.query';\nimport {ID, transaction} from '@datorama/akita';\nimport {map, tap} from 'rxjs/operators';\nimport {Assignment, AssignmentsUI, AssignmentType, NormalizeAssignmentsResponse} from './assignment.model';\nimport {Path} from '../../../ajs-upgraded-providers';\nimport {NormalizedSchema} from 'normalizr';\nimport {normalizeAssignmentsResponse} from './assignments.normalizer';\n\n@Injectable({ providedIn: 'root' })\nexport class AssignmentsService {\n\n  constructor(protected assignmentsStore: AssignmentsStore,\n              protected assignmentsQuery: AssignmentsQuery,\n              protected http: HttpService,\n              protected path: Path) {\n  }\n\n  get() {\n    return this.assignmentsQuery.getHasCache() ? this.assignmentsQuery.selectAll() : this.getFromAPI();\n  }\n\n  setFilters(filters: AssignmentsUI['filters']) {\n    this.assignmentsStore.update(state => ({\n      ...state,\n      ui: {\n        ...state.ui,\n        filters,\n      },\n    }));\n\n    this.assignmentsStore.forceRefreshEntities();\n  }\n\n  setSorting(sort: AssignmentsUI['sort']) {\n    this.assignmentsStore.update(state => ({\n      ...state,\n      ui: {\n        ...state.ui,\n        sort,\n      },\n    }));\n\n    this.assignmentsStore.forceRefreshEntities();\n  }\n\n  protected getFromAPI() {\n    const courseID: ID = this.path.getClassroomId();\n    const url = `/classes/student_assignments/${courseID}/`;\n\n    return this.http.get<Assignment[]>(url).pipe(\n      map(response => this.unifyDateTimeFormat(response)),\n      map(response => this.updateAssignmentsType(response)),\n      map(response => normalizeAssignmentsResponse(response)),\n      tap(normalizeResponse => this.putAssignmentsIntoStorage(normalizeResponse)),\n      map(normalizeResponse => Object.values(normalizeResponse.entities.assignments || {})),\n    );\n  }\n\n  @transaction()\n  protected putAssignmentsIntoStorage(normalizeResponse: NormalizedSchema<NormalizeAssignmentsResponse, ID[]>) {\n    this.assignmentsStore.set({\n      entities: normalizeResponse.entities.assignments || {},\n      ids: normalizeResponse.result\n    });\n  }\n\n  protected unifyDateTimeFormat(assignments: Assignment[]): Assignment[] {\n    return assignments.map(assignment => {\n      const assessmentLastChanged = (new Date(assignment.assessment_last_changed)).getTime() || assignment.assessment_last_changed;\n      const assignmentCreated = (new Date(assignment.assignment_created)).getTime() || assignment.assignment_created;\n      return {\n        ...assignment,\n        assessment_last_changed: assessmentLastChanged,\n        assignment_created: assignmentCreated,\n      };\n    });\n  }\n\n  protected updateAssignmentsType(assignments: Assignment[]): Assignment[] {\n    return assignments.map(assignment => {\n      if (assignment.assignment_not_assessable || !assignment.assignment_type) {\n        return {\n          ...assignment,\n          assignment_type: AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n        };\n      }\n      return { ...assignment };\n    });\n  }\n}\n","import {normalize, schema} from 'normalizr';\nimport {Assignment, NormalizeAssignmentsResponse} from './assignment.model';\nimport {ID} from '@datorama/akita';\n\nconst assignment = new schema.Entity('assignments');\n\nexport const normalizeAssignmentsResponse = assignments =>\n  normalize<Assignment, NormalizeAssignmentsResponse, ID[]>(assignments, [assignment]);\n\n","import { IAssignment } from './assignment.model';\n\nexport interface IAssignmentGroupedResponse {\n  assessable: IAssignment[];\n  not_assessable: IAssignment[];\n}\n\nexport class AssignmentGroupedResponse implements IAssignmentGroupedResponse {\n  public assessable: IAssignment[];\n  public not_assessable: IAssignment[];\n}\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { TeacherSetAssignmentObjectiveCtrl } from './teacher-set-assignment-objectives.controller';\nimport { TeacherSetAssignmentObjectivesRouting } from './teacherSetAssignmentObjectives.routing';\n\nexport * from './teacherSetAssignmentObjectives.scss';\n\nexport const TeacherSetAssignmentObjectivesModule: IModule = angular\n  .module('app.assignments.teacherSetAssignmentObjectives', [uiRouter])\n  .controller('teacherSetAssignmentObjectivesCtrl', TeacherSetAssignmentObjectiveCtrl)\n  .config(TeacherSetAssignmentObjectivesRouting);\n\nexport default TeacherSetAssignmentObjectivesModule.name;\n\nexport * from './shared/components/objectiveGradeTextVisibilitySettings/objectiveGradeTextVisibilitySettings.component';\nexport * from './teacherSetAssignmentObjectives.service';\n","export default \"<rapp data=\\\"$root\\\" ctrl=\\\"$ctrl\\\" view=\\\"'newsAssignmentPopup'\\\"/>\\n<div id=\\\"studybee\\\"\\n     class=\\\"studybee\\\"\\n     ng-class=\\\"dynamicThemeClass\\\"\\n     custom-routing\\n     dynamic-theme\\n     last-modified\\n     ng-cloak>\\n    <md-sidenav\\n      md-component-id=\\\"studybee\\\"\\n      class=\\\"md-sidenav-right md-whiteframe-z3\\\"\\n      style=\\\"overflow:visible\\\">\\n      <app-main-menu></app-main-menu>\\n      <div ui-view\\n           layout-fill></div>\\n    </md-sidenav>\\n    <studybee-handle\\n      ng-click=\\\"vm.toggleStudybee()\\\">\\n    </studybee-handle>\\n\\n    <assign-objectives-popup>\\n\\n    </assign-objectives-popup>\\n\\n    <!-- here is the full view -->\\n    <div\\n      ng-if=\\\"extendedViewEnable\\\"\\n      class=\\\"sb-sidenav-extended md-whiteframe-z3\\\">\\n      <div ui-view=\\\"extended\\\"></div>\\n    </div>\\n  <rapp data=\\\"$root\\\" ctrl=\\\"$ctrl\\\" view=\\\"'newsAssignmentPopup'\\\"/>\\n</div>\\n\";","export default __webpack_public_path__ + \"images/8633ad2a079c765134a6305ab16804d6-assignment.png\";","export default __webpack_public_path__ + \"images/43f98c95556138da5590508d92bfb308-icon_bk_not_assessed.png\";","export default __webpack_public_path__ + \"images/26f9605e4b052b0cca232f231910e43e-without_assessment_criteria_icon.png\";","export default __webpack_public_path__ + \"images/746fd24b7a3fa361ecbc14ebf8be02c7-not-submitted.png\";","import CommonComponentsModule from './components/components.module.ts';\nimport { CommonServicesModule } from './services/services.module';\nimport { CommonFiltersModule } from './filters/filters.module';\nimport { CommonDirectivesModule } from './directives/directives.module';\n\nexport const CommonModule = angular\n  .module('commonModule', [\n    CommonComponentsModule,\n    CommonServicesModule,\n    CommonFiltersModule,\n    CommonDirectivesModule,\n  ])\n  .name;\n","export default \"<div class=\\\"content\\\"\\n     ng-transclude>\\n</div>\\n\";","export default \"<div class=\\\"breadcrumb\\\"\\n     flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start center\\\"\\n     md-ink-ripple=\\\"rgba(255,255,255,.5)\\\"\\n     ng-repeat=\\\"breadcrumb in ::$ctrl.breadcrumbs track by $index\\\"\\n     ng-click=\\\"breadcrumb.action()\\\"\\n     ng-if=\\\"::$ctrl.hasEnoughBreadcrumbs\\\"\\n     ng-class=\\\"{last: $last}\\\">\\n    <long-text-tooltip text=\\\"::breadcrumb.label\\\" direction=\\\"bottom\\\">\\n        <span class=\\\"md-truncate\\\">{{ ::breadcrumb.label }}</span>\\n    </long-text-tooltip>\\n    <md-icon class=\\\"breadcrumb-chevron\\\"\\n             ng-if=\\\"::!$last\\\">chevron_right</md-icon>\\n</div>\\n\";","export const selectorWords: { [lang: string]: { [key: string]: string } } = {\n  en: {\n    assign: 'Assign',\n    save: 'Save',\n    delete: 'Delete',\n    schedule: 'Schedule',\n    saveDraft: 'Save draft',\n    assignment: 'Assignment',\n    question: 'Question',\n    reusePost: 'Reuse post',\n    topic: 'Topic',\n    addTopic: 'Add',\n    ask: 'Ask',\n  },\n  sv: {\n    assign: 'Tilldela',\n    save: 'Spara',\n    delete: 'Ta bort',\n    schedule: 'Schemalgg',\n    saveDraft: 'Spara utkast',\n    assignment: 'Uppgift',\n    question: 'Frga',\n    reusePost: 'teranvnd inlgget',\n    topic: 'mne',\n    addTopic: 'Lgg till',\n    ask: 'Frga',\n  },\n  nl: {\n    assign: 'Opdracht plaatsen',\n    save: 'Opslaan',\n    delete: 'Verwijderen',\n    schedule: 'Planning',\n    saveDraft: 'Concept opslaan',\n    assignment: 'Opdracht',\n    question: 'Vraag',\n    reusePost: 'Bericht opnieuw gebruiken',\n    topic: 'Onderwerp',\n    addTopic: 'Toevoegen',\n    ask: 'Vragen',\n  },\n};\n\nfunction* generateSelectors(labelName: string, selectorPattern: string): IterableIterator<string> {\n  const selectors: string[] = [];\n\n  for (const lang in selectorWords) {\n    yield selectorPattern.replace(/%LABEL%/, selectorWords[lang][labelName]);\n  }\n}\n\nexport class HostPage {\n  static LABEL_PLACEHOLDER: string = '%LABEL%';\n\n  static ASSIGNMENT_MODAL_ASSIGN_SEL: string[] = [...generateSelectors('assign', `[role=\"dialog\"] span:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n    static ASSIGNMENT_MODAL_ADD_TOPIC: string[] = [...generateSelectors('addTopic', `[role=\"alertdialog\"] span:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  static ASSIGNMENT_MODAL_SAVE_SEL: string[] = [...generateSelectors('save', `[role=\"dialog\"] span:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  static ASSIGNMENT_MODAL_ASK_SEL: string[] = [...generateSelectors('ask', `[role=\"dialog\"] span:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  // this is delete assignment from the stream\n  static ASSIGNMENT_MODAL_DELETE_SEL: string[] = [...generateSelectors('delete', `[role=\"alertdialog\"] span:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  static ASSIGNMENT_MENU_ITEM_ASSIGN_SEL: string[] = [...generateSelectors('assign', `[role=\"menu\"] div:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  static ASSIGNMENT_MENU_ITEM_SCHEDULE_SEL: string[] = [...generateSelectors('schedule', `[role=\"menu\"] div:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  static ASSIGNMENT_MENU_ITEM_SAVE_DRAFT_SEL: string[] = [...generateSelectors('saveDraft', `[role=\"menu\"] div:textEquals(\"${HostPage.LABEL_PLACEHOLDER}\")`)];\n\n  // this is delete from the drafts\n  static ASSIGNMENT_ALERT_OK_SEL: string[] = ['[role=\"alertdialog\"] [name=\"ok\"]'];\n\n  // classwork view - create new item\n  static CLASSWORK_CREATE_NEW_ASSIGNMENT: string[] = [...generateSelectors('assignment', `body > [role=\"menu\"] [role=\"menuitem\"][aria-label=\"${HostPage.LABEL_PLACEHOLDER}\"]`)];\n\n  static CLASSWORK_CREATE_NEW_QUESTION: string[] = [...generateSelectors('question', `body > [role=\"menu\"] [role=\"menuitem\"][aria-label=\"${HostPage.LABEL_PLACEHOLDER}\"]`)];\n\n  static CLASSWORK_CREATE_NEW_REUSE_POST: string[] = [...generateSelectors('reusePost', `body > [role=\"menu\"] [role=\"menuitem\"][aria-label=\"${HostPage.LABEL_PLACEHOLDER}\"]`)];\n\n  static CLASSWORK_CREATE_NEW_TOPIC: string[] = [...generateSelectors('topic', `body > [role=\"menu\"] [role=\"menuitem\"][aria-label=\"${HostPage.LABEL_PLACEHOLDER}\"]`)];\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Mixpanel/Service\n * @description\n *   Handle Mixpanel analytics script.\n */\n\nexport class Mixpanel {\n  constructor($window, Config, FetchData, Courses) {\n    'ngInject';\n\n    this.$window = $window;\n    this.Config = Config;\n    this.FetchData = FetchData;\n    this.Courses = Courses;\n    this.instance = {};\n  }\n\n  isPanelDisable() {\n    return DEVELOPMENT_ENV ||\n      this.Config.apiUrl === 'http://dev.studybee.io' ||\n      this.instance.distinct_id.includes('studybee.io');\n  }\n\n  get events() {\n    return {\n      toggle: 'Toggle studybee',\n      edit_multiple: 'Multiedit done',\n      course_summary: 'Course summary to student',\n      course_private_note: 'Course private notes to student',\n      result: 'Result to student',\n      overall_feedback: 'Overall feedback to student',\n      overall_private_note: 'Overall private notes to student',\n      feedback: 'Feedback to student',\n      private_note: 'Private notes to student',\n      visibility: 'Item visibility changed',\n      objective_slider: 'Objective slider moved',\n      course_slider: 'Course slider moved',\n      fetch_course_definition: 'Classroom assigned to course',\n      assigned_objectives: 'Objectives assigned to assignment',\n      setup_complete: 'Setup complete',\n      menu_teacher_assignments: 'Menu item Assignments',\n      menu_teacher_assess_course: 'Menu item Course assessments',\n      menu_teacher_assignment_objectives: 'Menu item Assign course',\n      menu_teacher_synchronize: 'Menu item Refresh',\n      menu_teacher_user_setup: 'Menu item School setup',\n      menu_student_assignments: 'Menu item Assignments',\n      menu_student_course_progression: 'Menu item Course progression',\n      menu_student_course_requirements: 'Menu item Course requirements',\n      menu_get_help: 'Menu item Get help',\n      saving_curriculum_to_library: 'Saving curriculum to library',\n      new_assignment_popup: 'New assignment pop up',\n      feedback_to_student_on_objective: 'Feedback to student on objective',\n      feedback_to_student_on_assignment_objective: 'Feedback to student on objective',\n      // this is different event, but it has to be send as the same as above\n      feedback_to_student_on_overall_assignment: 'Feedback to student on overall assignment',\n      feedback_to_student_on_course_progress: 'Feedback to student on course progress',\n      feedback_to_student_with_multiedit: 'Feedback to student with multi edit',\n      student_self_assessment_on_objective: 'Student self assessment on objective',\n      moving_slider_on_objective_level_in_course: 'Moving slider on objective level in course view',\n    };\n  }\n\n  /**\n   * Init configuration for Mixpanel\n   * @memberof module:Mixpanel/Service\n   * @param {String} token Token used to identify extension in Mixed Panel\n   * @param {String} userEmail Email of user that is logged in Chrome browser\n   */\n  init(token, userEmail) {\n    this.instance.token = token;\n    this.instance.distinct_id = userEmail;\n  }\n\n  /**\n   * Allow to track events (if it's not dev server)\n   * @memberof module:Mixpanel/Service\n   * @param {String} eventCode Name of the event\n   */\n  track(eventCode) {\n    if (this.isPanelDisable() || !eventCode) {\n      return Promise.resolve();\n    }\n\n    const eventName = this.getEventName(eventCode);\n\n    const payload = {\n      event: eventName,\n      properties: {\n        distinct_id: this.instance.distinct_id,\n        alias: this.instance.distinct_id,\n        token: this.instance.token,\n        browser: this.$window.navigator.userAgent,\n      },\n    };\n\n    return this.FetchData.mixpanelTrack(\n      this.$window.btoa(JSON.stringify(payload)),\n    );\n  }\n\n  /**\n   * Allow to handle users (if it's not dev server)\n   * @memberof module:Mixpanel/Service\n   * @param {String} type\n   * @param userCountry\n   * @param userEducationalSystem\n   * @param userSchoolName\n   */\n  engage(type, userCountry, userEducationalSystem, userSchoolName) {\n    if (this.isPanelDisable()) {\n      return Promise.resolve();\n    }\n\n    let isTeacher = null;\n    const currentTime = this.getCurrentDate();\n\n    const payload = {\n      $distinct_id: this.instance.distinct_id,\n      $token: this.instance.token,\n    };\n\n    if (type === 'extension_run') {\n      payload.$set = {\n        $email: this.instance.distinct_id, // We used user email as distinct_id\n      };\n    }\n\n    if (type === 'first_time_setup') {\n      payload.$set_once = {\n        'First time setup': currentTime,\n      };\n\n      payload.$set = {\n        'User country': userCountry,\n        'User educational system': userEducationalSystem,\n        'User school name': userSchoolName,\n      };\n    }\n\n    if (type === 'edit_setup') {\n      payload.$set = {\n        'Last setup update': currentTime,\n        'User country': userCountry,\n        'User educational system': userEducationalSystem,\n        'User school name': userSchoolName,\n      };\n    }\n\n    if (type === 'add_role') {\n      isTeacher = this.Courses.list.some(courseElem => courseElem.role === 'teacher');\n\n      payload.$set = {\n        'User role': isTeacher ? 'Teacher' : 'Student',\n      };\n    }\n\n    return this.FetchData.mixpanelEngage(\n      this.$window.btoa(JSON.stringify(payload)),\n    );\n  }\n\n  /**\n   * Use event code to find event name\n   * @memberof module:Mixpanel/Service\n   */\n  getEventName(eventCode) {\n    return this.events[eventCode];\n  }\n\n  /**\n   * Get current date in YYYY-MM-DD T HH:MM:SS\n   * @memberof module:Mixpanel/Service\n   */\n  getCurrentDate() {\n    return moment().toISOString();\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Locale/Service\n * @description\n *   Detect Chrome UI language and set Moment.js locale\n */\n\nimport moment from 'moment';\n\nexport class Locale {\n  setMomentLocale() {\n    moment.locale(chrome.i18n.getUILanguage());\n  }\n\n  static getISOLanguageCode(languageCode = chrome.i18n.getUILanguage()) {\n    return languageCode.replace(/(\\w+)-(\\w+)/, '$1').toLocaleLowerCase();\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { getTranslation } from '../../../../../react_src/i18n';\n\nconst dialogParentElement = angular.element(document.body);\n\nexport const showHintDialog = ($mdDialog, $timeout, stateName, $cookies) => {\n  const showedHint = $cookies.get(`${stateName}-hint`);\n\n  $timeout(() => {\n    if (showedHint === undefined) {\n      $cookies.put(`${stateName}-hint`, '', {\n        path: '/',\n        expires: moment().add(1, 'year').toDate(),\n      });\n\n      let headerText;\n      let contentText;\n\n      switch (stateName) {\n        case 'studentCourseManagement':\n          headerText = getTranslation('studentManagementHintHeader');\n          contentText = getTranslation('studentManagementHintContent');\n          break;\n        case 'student-course-progress':\n          headerText = getTranslation('studentProgressHintHeader');\n          contentText = getTranslation('studentProgressHintContent');\n          break;\n        default:\n      }\n\n      if (headerText && contentText) {\n        $mdDialog.show({\n          parent: dialogParentElement,\n          templateUrl: 'common/dialogs/hint-dialog.html',\n          controller: class {\n            constructor() {\n              'ngInject';\n\n              this.$mdDialog = $mdDialog;\n              this.$onInit();\n            }\n\n            $onInit() {\n              this.headerText = headerText;\n              this.contentText = contentText;\n            }\n          },\n          controllerAs: '$ctrl',\n        });\n      }\n    }\n  }, 700);\n};\n","export const DialogType = {\n  SUCCESS: 0,\n  FAIL: 1,\n  CONFIRMATION: 2,\n};\n","import { IObserver, IUnsubscribe } from './observer.service';\n\nexport interface ISubject<T = any> {\n  observers: IObserver<T>[];\n  subscribe(observer: IObserver<T>): IUnsubscribe;\n  unsubscribe(observer: IObserver<T>): void;\n  next(value: T): void;\n  dispose(): void;\n}\n\nexport class Subject<T = any> implements ISubject<T> {\n  public observers: IObserver<T>[] = [];\n\n  public subscribe(observer: IObserver<T>): IUnsubscribe {\n    observer.closed = false;\n    this.observers.push(observer);\n\n    return (): void => {\n      this.unsubscribe(observer);\n    };\n  }\n\n  public unsubscribe(observer: IObserver<T>): void {\n    observer.closed = false;\n    this.observers = this.observers.filter((_observer: IObserver<T>): boolean => !_observer.closed && !(_observer === observer));\n  }\n\n  public next(value: T): void {\n    this.observers.forEach((observer: IObserver<T>): void => {\n      if (!observer.closed) {\n        observer.next(value);\n      }\n    });\n  }\n\n  public dispose(): void {\n    this.observers.forEach(this.unsubscribe.bind(this));\n    this.observers = [];\n  }\n}\n","export default \"<extended-view-container>\\n  <toolbar class=\\\"grid\\\">\\n    <md-button class=\\\"md-icon-button arrow-back grid-back\\\">\\n      <md-icon class=\\\"material-icons\\\"\\n               ng-click=\\\"$ctrl.onClickBackArrow()\\\">\\n        {{ ::$ctrl.breadcrumbs.length > 1 ? 'arrow_back' : 'close' }}\\n      </md-icon>\\n    </md-button>\\n\\n    <breadcrumbs class=\\\"grid-breadcrumbs\\\"\\n                 steps=\\\"$ctrl.breadcrumbs\\\"></breadcrumbs>\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n<!--      <help-button link=\\\"teacherStudentCourseProgressSingleAssignmentTopToolbarHelpButtonUrl\\\"></help-button>-->\\n    </div>\\n  </toolbar>\\n\\n  <md-whiteframe class=\\\"sb-panel-shadow sb-main-card\\\"\\n                 flex=\\\"95\\\"\\n                 layout=\\\"column\\\">\\n    <div class=\\\"header\\\">\\n      <div class=\\\"avatar\\\">\\n        <assignment-icon-type assignment=\\\"$ctrl.objectiveAssessment\\\"></assignment-icon-type>\\n      </div>\\n      <md-input-container>\\n        <md-select ng-model=\\\"$ctrl.objectiveAssessment\\\"\\n                   md-selected-text=\\\"$ctrl.objectiveAssessment.assignment_title\\\"\\n                   ng-model-options=\\\"{ trackBy: '$value.id' }\\\"\\n                   ng-change=\\\"$ctrl.onChangeObjectiveAssessment()\\\">\\n          <md-option ng-repeat=\\\"objectiveAssignmentAssessment in ::$ctrl.objectiveAssignmentAssessments track by objectiveAssignmentAssessment.id\\\"\\n                     ng-value=\\\"objectiveAssignmentAssessment\\\">\\n            {{ ::objectiveAssignmentAssessment.assignment_title }}\\n          </md-option>\\n        </md-select>\\n        <div class=\\\"hint\\\">\\n          {{ ::$ctrl.courseName }}\\n        </div>\\n      </md-input-container>\\n    </div>\\n\\n    <accordion class=\\\"student-courses-details__accordion\\\"\\n               open=\\\"$ctrl.objectiveAssessment.$$open\\\">\\n      <accordion-header>\\n        <div class=\\\"title\\\">\\n          <long-text-tooltip text=\\\"overallAssignmentOverviewDetails\\\">\\n            <span\\n                  localize>__MSG_overallAssignmentOverviewDetails__</span>\\n          </long-text-tooltip>\\n        </div>\\n        <div class=\\\"status\\\">\\n          <assignment-overview-status objective-assignment-assessment=\\\"$ctrl.objectiveAssessment\\\"\\n                                      ng-show=\\\"!$ctrl.objectiveAssessment.$$open\\\">\\n          </assignment-overview-status>\\n        </div>\\n      </accordion-header>\\n      <assignment-overview-content objective-assignment-assessment=\\\"$ctrl.objectiveAssessment\\\"\\n                                   change=\\\"$ctrl.onChangeOverall(objectiveAssignmentAssessment)\\\"></assignment-overview-content>\\n      <accordion-footer>\\n        <md-button class=\\\"sb-button\\\"\\n                   ng-click=\\\"$ctrl.onClickClose()\\\"\\n                   localize>__MSG_closeBtn__\\n        </md-button>\\n      </accordion-footer>\\n    </accordion>\\n  </md-whiteframe>\\n\\n  <div ui-view=\\\"details\\\"></div>\\n</extended-view-container>\\n\\n<saving-indicator></saving-indicator>\\n\";","import { IPromise } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { FetchData } from '../../../utils/services/fetchData.service';\nimport { ICountry } from '../../models/country.model';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'CountryService',\n})\nexport class CountryService {\n  constructor(private FetchData: FetchData) {\n    'ngInject';\n  }\n\n  public getAll(): IPromise<ICountry[]> {\n    return this.FetchData.sendAPIRequest('/v3/schools/countries/');\n  }\n\n  public findCountryByCode(countries: ICountry[], countryCode: string): ICountry {\n    return countries\n      .find((country: ICountry): boolean => country.country_code === countryCode);\n  }\n}\n","import { IPromise } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { ICoverageMatrix } from '../../models/coverageMatrix.model';\nimport SharedServicesModule from '../services.module';\n\nexport interface ICoverageMatrixService {\n  get(studentId: number, courseDefinitionId: number): IPromise<ICoverageMatrix[]>;\n  map(courseDefinitionObjectiveAssessments: { coverage_matrix_grade_systems: ICoverageMatrix[] }[]): ICoverageMatrix[];\n}\n\n@Service({\n  name: 'CoverageMatrixService',\n  module: SharedServicesModule,\n})\nexport class CoverageMatrixService implements ICoverageMatrixService {\n\n  constructor(protected FetchData: any) {\n    'ngInject';\n  }\n\n  public get(studentId: number, courseDefinitionId: number): IPromise<ICoverageMatrix[]> {\n    return this.FetchData.v3.getCoverageMatrixGradeSystem(studentId, courseDefinitionId)\n      .then(this.map.bind(this));\n  }\n\n  public map(courseDefinitionObjectiveAssessments: { coverage_matrix_grade_systems: ICoverageMatrix[] }[]): ICoverageMatrix[] {\n    return this.filterNonCounterCoverageMatrix(\n      this.reduceUniqueCoverageMatrix(\n        this.flattenCoverageMatrixArray(\n          this.mapCourseDefinitionObjectiveAssessmentsToCoverageMatrixArray(courseDefinitionObjectiveAssessments),\n        ),\n      ),\n    );\n  }\n\n  private mapCourseDefinitionObjectiveAssessmentsToCoverageMatrixArray(courseDefinitionObjectiveAssessments: any[]): ICoverageMatrix[][] {\n    return courseDefinitionObjectiveAssessments\n      .map((item: { coverage_matrix_grade_systems: ICoverageMatrix[] }) =>\n        item.coverage_matrix_grade_systems,\n      );\n  }\n\n  private flattenCoverageMatrixArray(coverageMatrixesArray: ICoverageMatrix[][]): ICoverageMatrix[] {\n    return coverageMatrixesArray\n      .reduce((acc: ICoverageMatrix[], coverageMatrix: ICoverageMatrix[]): ICoverageMatrix[] =>\n          acc.concat(coverageMatrix),\n        [],\n      );\n  }\n\n  private reduceUniqueCoverageMatrix(coverageMatrixes: ICoverageMatrix[]): ICoverageMatrix[] {\n    const ids: number[] = [];\n    return coverageMatrixes\n      .reduce((acc: ICoverageMatrix[], coverageMatrix: ICoverageMatrix): ICoverageMatrix[] => {\n          if (!ids.includes(coverageMatrix.id)) {\n            acc.push(coverageMatrix);\n            ids.push(coverageMatrix.id);\n          }\n\n          return acc;\n        },\n        [],\n      );\n  }\n\n  private filterNonCounterCoverageMatrix(coverageMatrixes: ICoverageMatrix[]): ICoverageMatrix[] {\n    return coverageMatrixes\n      .filter((coverageMatrix: ICoverageMatrix): boolean => !coverageMatrix.is_counter);\n  }\n}\n","export enum GroupedVisibilityFeedbackType {\n  ObjectiveAssessment,\n  ObjectiveFeedback,\n  OverallAssessment,\n  OverallFeedback,\n  OverallResult,\n  OverallTarget\n}\n","import { Service } from '../../../utils/decorators/service.decorator';\nimport SharedServicesModule, { IPopupService } from '../services.module';\nimport { TabService } from '../tab/tab.service';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'HelpButtonService',\n})\nexport class HelpButtonService {\n  public tab: chrome.tabs.Tab;\n\n  constructor(private PopupService: IPopupService, private TabService: TabService) {\n    'ngInject';\n  }\n\n  public open(url: string, isPopup: boolean): void {\n    if (isPopup) {\n      this.openPopup(url);\n    } else {\n      this.openTab(url);\n    }\n  }\n\n  protected openPopup(url: string): void {\n    this.PopupService.open(url);\n  }\n\n  protected openTab(url: string): void {\n    if (this.tab) {\n      this.TabService.get(this.tab).then((tab: chrome.tabs.Tab): void => {\n        if (tab) {\n          this.TabService.update(tab, { active: true, url }).then(this.storeTab.bind(this));\n        } else {\n          this.TabService.open(url).then(this.storeTab.bind(this));\n        }\n      });\n    } else {\n      this.TabService.open(url).then(this.storeTab.bind(this));\n    }\n  }\n\n  protected storeTab(tab: chrome.tabs.Tab): void {\n    this.tab = tab;\n  }\n}\n","export default \"<md-subheader class=\\\"md-no-sticky sb-subheading\\\"\\n              localize>\\n  __MSG_courseProgressLearningObjectivesListLabel__\\n</md-subheader>\\n<md-subheader class=\\\"md-no-sticky sb-subheading emptyList\\\"\\n              ng-if=\\\"::!$ctrl.objectives.length\\\"\\n              localize>\\n  __MSG_assignmentOverviewDetailsObjectiveEmptyList__\\n</md-subheader>\\n\\n<div class=\\\"accordions\\\"\\n     flex=\\\"95\\\"\\n     layout=\\\"column\\\"\\n     ng-if=\\\"::$ctrl.objectives.length\\\">\\n  <div class=\\\"toolbar md-whiteframe-objectives sb-panel-shadow\\\">\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.collapseAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.expandAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-menu>\\n      <md-button class=\\\"md-icon-button\\\"\\n                 ng-click=\\\"$mdMenu.open($event)\\\">\\n        <md-icon>more_vert</md-icon>\\n      </md-button>\\n      <md-menu-content>\\n        <md-menu-label>{{ ::'teacherCurriculumObjectivesToolbarMenuLabel' | localize }}</md-menu-label>\\n        <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.toolbarMenuItems track by toolbarMenuItem.id\\\">\\n          <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n            <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n            {{ ::toolbarMenuItem.label | localize }}\\n          </md-button>\\n        </md-menu-item>\\n      </md-menu-content>\\n    </md-menu>\\n  </div>\\n  <accordion class=\\\"student-courses-details__accordion sb-panel-shadow\\\"\\n             open=\\\"objective.open\\\"\\n             ng-repeat=\\\"objective in ::$ctrl.objectives track by objective.id\\\">\\n    <accordion-header>\\n      <div class=\\\"details\\\">\\n        <div ng-if=\\\"$ctrl.listViewType.DESCRIPTION_ONLY === $ctrl.view\\\">\\n      <span class=\\\"description\\\"\\n            ng-bind-html=\\\"::objective.objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n        </div>\\n        <div ng-if=\\\"$ctrl.listViewType.TITLE_AND_DESCRIPTION === $ctrl.view\\\">\\n          <long-text-tooltip text=\\\"::objective.objective.name\\\">\\n            <span>{{ ::objective.objective.name }}</span>\\n          </long-text-tooltip>\\n          <span class=\\\"description\\\"\\n                ng-bind-html=\\\"::objective.objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n        </div>\\n        <div ng-if=\\\"$ctrl.listViewType.TITLE_ONLY === $ctrl.view\\\">\\n          <long-text-tooltip text=\\\"::objective.objective.name\\\">\\n            <span>{{ ::objective.objective.name }}</span>\\n          </long-text-tooltip>\\n        </div>\\n      </div>\\n      <div class=\\\"status\\\">\\n        <assessment-status-preview assessment=\\\"objective\\\"\\n                                   show-private-note=\\\"$ctrl.isNoteAvailable(objective)\\\"\\n                                   show-feedback=\\\"$ctrl.isFeedbackAvailable(objective)\\\"\\n                                   show-visibility=\\\"::true\\\"\\n                                   ng-show=\\\"!objective.open\\\">\\n        </assessment-status-preview>\\n      </div>\\n    </accordion-header>\\n    <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                        assessment=\\\"objective\\\"\\n                        show-private-note=\\\"true\\\"\\n                        teacher-account=\\\"true\\\"\\n                        mixpanel-feedback-event=\\\"feedback_to_student_on_objective\\\"\\n                        mixpanel-grade-event=\\\"moving_slider_on_objective_level_in_course\\\"\\n                        on-assessment-update=\\\"$ctrl.onUpdateAssessment(assessment)\\\"\\n                        is-grade-texts-enable=\\\"$ctrl.isGradeTextsEnable\\\"\\n                        flex=\\\"grow\\\"\\n                        layout=\\\"column\\\"\\n                        layout-align=\\\"center stretch\\\"\\n                        simple-view=\\\"true\\\">\\n    </assessment-details>\\n    <accordion-footer>\\n      <md-button class=\\\"sb-button\\\"\\n                 ng-click=\\\"$ctrl.onClickClose(objective)\\\"\\n                 localize>__MSG_closeBtn__\\n      </md-button>\\n    </accordion-footer>\\n  </accordion>\\n</div>\\n\";","export default \"<md-subheader class=\\\"md-no-sticky sb-subheading\\\"\\n              localize>\\n  __MSG_courseProgressLearningAssignmentLabel__\\n</md-subheader>\\n\\n<div class=\\\"accordions\\\"\\n     flex=\\\"95\\\"\\n     layout=\\\"column\\\">\\n  <div class=\\\"sb-panel-shadow toolbar\\\">\\n    <md-menu>\\n      <md-button class=\\\"md-icon-button\\\"\\n                 ng-click=\\\"$mdMenu.open()\\\">\\n        <md-tooltip md-z-index=\\\"1016\\\"\\n                    md-direction=\\\"top\\\"\\n                    localize>__MSG_assignmentsActionMenuFilterTooltip__\\n        </md-tooltip>\\n        <md-icon md-menu-origin>filter_list</md-icon>\\n      </md-button>\\n      <md-menu-content class=\\\"teacher-student-progress-action-menu\\\">\\n        <md-menu-label localize>\\n          __MSG_assignmentsActionMenuFilterByLabel__\\n        </md-menu-label>\\n        <md-menu-item ng-repeat-start=\\\"filter in ::$ctrl.filters track by filter.type\\\">\\n          <md-button class=\\\"checkbox\\\"\\n                     ng-click=\\\"$ctrl.onClickFilter(filter.type, filter.group);\\\"\\n                     md-prevent-menu-close>\\n            <md-checkbox ng-checked=\\\"$ctrl.isFilterSelected(filter.type, filter.group)\\\">\\n              {{ ::filter.label | localize }}\\n            </md-checkbox>\\n          </md-button>\\n        </md-menu-item>\\n        <md-divider ng-repeat-end\\n                    ng-show=\\\"::$ctrl.isDividerVisible($index)\\\"></md-divider>\\n      </md-menu-content>\\n    </md-menu>\\n    <md-menu>\\n      <md-button class=\\\"md-icon-button\\\"\\n                 ng-click=\\\"$mdMenu.open()\\\">\\n        <md-tooltip md-z-index=\\\"1016\\\"\\n                    md-direction=\\\"top\\\"\\n                    localize>__MSG_assignmentsActionMenuSortTooltip__\\n        </md-tooltip>\\n        <md-icon md-menu-origin>sort</md-icon>\\n      </md-button>\\n      <md-menu-content class=\\\"teacher-assignments-action-menu\\\">\\n        <md-menu-label localize>\\n          __MSG_assignmentsActionMenuSortByLabel__\\n        </md-menu-label>\\n        <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.sortingItems track by sortingItem.order\\\">\\n          <md-button ng-click=\\\"$ctrl.onClickOrder(sortingItem.order)\\\"\\n                     localize>\\n            <md-icon ng-visible=\\\"::$ctrl.isCurrentOrder(sortingItem.order)\\\">check</md-icon>\\n            {{ ::sortingItem.label | localize }}\\n          </md-button>\\n        </md-menu-item>\\n      </md-menu-content>\\n    </md-menu>\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.collapseAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.expandAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n  </div>\\n  <accordion class=\\\"student-courses-details__accordion sb-panel-shadow\\\"\\n             open=\\\"objectiveAssignmentAssessment.$$open\\\"\\n             ng-if=\\\"::$ctrl.objectiveAssignmentAssessments.length\\\"\\n             ng-repeat=\\\"objectiveAssignmentAssessment in $ctrl.objectiveAssignmentAssessments track by objectiveAssignmentAssessment.id\\\">\\n    <accordion-header>\\n      <div class=\\\"title\\\"\\n           ng-click=\\\"$ctrl.onClickHeader(objectiveAssignmentAssessment)\\\">\\n        <assignment-icon-type assignment=\\\"objectiveAssignmentAssessment\\\"></assignment-icon-type>\\n        <long-text-tooltip text=\\\"::objectiveAssignmentAssessment.assignment_title\\\">\\n          <span>{{ ::objectiveAssignmentAssessment.assignment_title }}</span>\\n        </long-text-tooltip>\\n      </div>\\n      <div class=\\\"status\\\">\\n        <assignment-overview-status objective-assignment-assessment=\\\"objectiveAssignmentAssessment\\\"\\n                                    ng-show=\\\"!objectiveAssignmentAssessment.$$open\\\">\\n        </assignment-overview-status>\\n      </div>\\n    </accordion-header>\\n    <assignment-overview-content objective-assignment-assessment=\\\"objectiveAssignmentAssessment\\\"\\n                                 change=\\\"$ctrl.onChange(objectiveAssignmentAssessment)\\\"></assignment-overview-content>\\n    <accordion-footer>\\n      <md-button class=\\\"sb-button\\\"\\n                 ng-click=\\\"$ctrl.onClickGoToDetails(objectiveAssignmentAssessment)\\\"\\n                 localize>__MSG_goToDetailsBtn__\\n      </md-button>\\n      <md-button class=\\\"sb-button\\\"\\n                 ng-click=\\\"$ctrl.onClickClose(objectiveAssignmentAssessment)\\\"\\n                 localize>__MSG_closeBtn__\\n      </md-button>\\n    </accordion-footer>\\n  </accordion>\\n</div>\\n<md-subheader class=\\\"md-no-sticky sb-subheading emptyList\\\"\\n              ng-if=\\\"::!$ctrl.objectiveAssignmentAssessments.length\\\"\\n              localize>\\n  __MSG_assignmentOverviewEmptyList__\\n</md-subheader>\\n\";","export default \"<md-input-container class=\\\"md-icon-float md-icon-right md-block\\\">\\n  <label localize>__MSG_resultsInput__</label>\\n  <textarea ng-model=\\\"$ctrl.objectiveAssignmentAssessment.result\\\"\\n            ng-model-options=\\\"{ debounce: 500 }\\\"\\n            ng-change=\\\"$ctrl.onChange()\\\"\\n            ng-disabled=\\\"::!$ctrl.isEditable()\\\"\\n            md-detect-hidden=\\\"true\\\"></textarea>\\n  <div class=\\\"hint\\\">\\n    {{ $ctrl.objectiveAssignmentAssessment.result_last_edit | LastModified }}\\n  </div>\\n  <md-icon ng-click=\\\"$ctrl.onClickResultPublished()\\\"\\n           ng-class=\\\"{ published: $ctrl.objectiveAssignmentAssessment.result_published }\\\"\\n           ng-disabled=\\\"::!$ctrl.isEditable()\\\">\\n    {{ $ctrl.objectiveAssignmentAssessment.result_published ? 'visibility' : 'visibility_off' }}\\n  </md-icon>\\n</md-input-container>\\n\\n<md-input-container class=\\\"md-icon-float md-icon-right md-block\\\">\\n  <label localize>__MSG_overallFeedbackInput__</label>\\n  <textarea ng-model=\\\"$ctrl.objectiveAssignmentAssessment.feedback\\\"\\n            ng-model-options=\\\"{ debounce: 500 }\\\"\\n            ng-change=\\\"$ctrl.onChange()\\\"\\n            ng-disabled=\\\"::!$ctrl.isEditable()\\\"\\n            md-detect-hidden=\\\"true\\\"></textarea>\\n  <div class=\\\"hint\\\">\\n    {{ $ctrl.objectiveAssignmentAssessment.feedback_last_edit | LastModified }}\\n  </div>\\n  <md-icon ng-click=\\\"$ctrl.onClickFeedbackPublished()\\\"\\n           ng-class=\\\"{ published: $ctrl.objectiveAssignmentAssessment.feedback_published }\\\"\\n           ng-disabled=\\\"::!$ctrl.isEditable()\\\">\\n    {{ $ctrl.objectiveAssignmentAssessment.feedback_published ? 'visibility' : 'visibility_off' }}\\n  </md-icon>\\n</md-input-container>\\n\\n<md-input-container class=\\\"md-icon-float md-icon-right md-block\\\"\\n                    ng-if=\\\"::$ctrl.objectiveAssignmentAssessment.teacher_in_class\\\">\\n  <label localize>__MSG_overallPrivateNoteInput__</label>\\n  <textarea ng-model=\\\"$ctrl.objectiveAssignmentAssessment.private_note\\\"\\n            ng-model-options=\\\"{ debounce: 500 }\\\"\\n            ng-change=\\\"$ctrl.onChange()\\\"\\n            md-detect-hidden=\\\"true\\\"></textarea>\\n  <div class=\\\"hint\\\">\\n    {{ $ctrl.objectiveAssignmentAssessment.private_note_last_edit | LastModified }}\\n  </div>\\n</md-input-container>\\n\";","export default \"<div class=\\\"layout-row-flex\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"end center\\\">\\n\\n  <md-icon class=\\\"notify\\\"\\n           ng-show=\\\"!$ctrl.objectiveAssignmentAssessment.seen\\\">new_releases\\n    <md-tooltip md-z-index=\\\"1015\\\"\\n                md-direction=\\\"top\\\"\\n                localize>\\n      __MSG_newAssignmentAssessmentTooltip__\\n    </md-tooltip>\\n  </md-icon>\\n  <last-update date=\\\"$ctrl.getLastUpdate()\\\"></last-update>\\n\\n  <md-icon ng-visible=\\\"$ctrl.objectiveAssignmentAssessment.private_note && $ctrl.objectiveAssignmentAssessment.teacher_in_class\\\">\\n    description\\n    <md-tooltip md-z-index=\\\"1015\\\"\\n                md-direction=\\\"top\\\"\\n                localize>__MSG_courseProgressPrivateNoteAvailableTooltip__\\n    </md-tooltip>\\n  </md-icon>\\n\\n  <md-icon class=\\\"nested-icon\\\"\\n           ng-visible=\\\"$ctrl.objectiveAssignmentAssessment.feedback\\\">\\n    announcement\\n    <md-icon ng-show=\\\"$ctrl.objectiveAssignmentAssessment.feedback_published\\\">remove_red_eye</md-icon>\\n    <md-tooltip md-z-index=\\\"1015\\\"\\n                md-direction=\\\"top\\\"\\n                localize>__MSG_courseProgressFeedbackAvailableTooltip__\\n    </md-tooltip>\\n  </md-icon>\\n\\n  <div class=\\\"result\\\"\\n       ng-class=\\\"{ published: $ctrl.objectiveAssignmentAssessment.result_published }\\\">\\n    <md-tooltip class=\\\"md-multiline\\\"\\n                md-z-index=\\\"1015\\\"\\n                md-direction=\\\"top\\\"\\n                ng-if=\\\"$ctrl.objectiveAssignmentAssessment.result\\\">\\n      {{ $ctrl.objectiveAssignmentAssessment.result }}\\n    </md-tooltip>\\n    <md-icon ng-show=\\\"$ctrl.objectiveAssignmentAssessment.result_published\\\">remove_red_eye</md-icon>\\n    <div class=\\\"result-text\\\">{{ $ctrl.objectiveAssignmentAssessment.result }}</div>\\n  </div>\\n\\n</div>\\n\";","export default \"<md-subheader class=\\\"md-no-sticky sb-subheading\\\"\\n              localize>\\n  __MSG_courseProgressLearningObjectivesListLabel__\\n</md-subheader>\\n\\n<md-subheader class=\\\"md-no-sticky sb-subheading emptyList\\\"\\n              ng-if=\\\"::!$ctrl.assessments.length\\\"\\n              localize>\\n  __MSG_courseProgressLearningObjectivesEmptyList__\\n</md-subheader>\\n\\n<md-whiteframe class=\\\"sb-panels\\\"\\n               ng-class=\\\"{'sb-panels--expanded': $ctrl.hasAnyAssessmentOpened}\\\"\\n               ng-if=\\\"::$ctrl.assessments.length\\\"\\n               flex=\\\"95\\\"\\n               layout=\\\"column\\\"\\n               layout-padding\\n               layout-margin>\\n\\n  <div class=\\\"sb-panel-shadow sb-simple-panel right\\\"\\n       ng-class=\\\"{ bottom: $ctrl.isCoverageMatrixView }\\\">\\n    <list-view-switch coverage-matrixes=\\\"::$ctrl.coverageMatrixes\\\"\\n                      on-coverage-matrix-change=\\\"$ctrl.onCoverageMatrixChange(coverageMatrix)\\\"\\n                      on-view-change=\\\"$ctrl.onViewChange(listViewSwitchType)\\\">\\n      <center-section>\\n        <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n                   ng-click=\\\"$ctrl.collapseAll()\\\">\\n          <md-tooltip md-direction=\\\"top\\\"\\n                      md-autohide=\\\"true\\\"\\n                      md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n          <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n        </md-button>\\n        <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n                   ng-click=\\\"$ctrl.expandAll()\\\">\\n          <md-tooltip md-direction=\\\"top\\\"\\n                      md-autohide=\\\"true\\\"\\n                      md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n          <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n        </md-button>\\n      </center-section>\\n    </list-view-switch>\\n    <coverage-matrix-grid-header coverage-matrix=\\\"$ctrl.coverageMatrix\\\"\\n                                 ng-show=\\\"$ctrl.isCoverageMatrixView\\\"></coverage-matrix-grid-header>\\n  </div>\\n  <md-list flex\\n           class=\\\"sb-list\\\"\\n           ng-class=\\\"{'sb-list--expanded': assessment.open}\\\"\\n           ng-repeat=\\\"assessment in $ctrl.assessments track by assessment.$id\\\">\\n    <div flex\\n         layout=\\\"row\\\"\\n         layout-align=\\\"space-between center\\\">\\n      <md-list-item>\\n        <div class=\\\"objective-title\\\"\\n             flex=\\\"grow\\\"\\n             layout=\\\"column\\\"\\n             layout-align=\\\"center stretch\\\"\\n             ng-click=\\\"$ctrl.navigateToLearningObjective(assessment)\\\">\\n          <long-text-tooltip text=\\\"::assessment.objective.name\\\"\\n                             ng-if=\\\"$ctrl.informationView !== $ctrl.listViewType.DESCRIPTION_ONLY\\\">\\n            <span class=\\\"title\\\">{{ ::assessment.objective.name }}</span>\\n          </long-text-tooltip>\\n          <span class=\\\"description\\\"\\n                ng-bind-html=\\\"::assessment.objective.description | getFormattedOrEmpty\\\"\\n                ng-if=\\\"$ctrl.informationView !== $ctrl.listViewType.TITLE_ONLY\\\">\\n          </span>\\n        </div>\\n\\n        <div class=\\\"sb-course-assessment__meta--sm\\\">\\n          <div flex\\n               layout=\\\"row\\\"\\n               layout-align=\\\"end stretch\\\">\\n            <assessment-status-preview assessment=\\\"assessment\\\"\\n                                       show-private-note=\\\"$ctrl.isNoteAvailable(assessment)\\\"\\n                                       show-feedback=\\\"$ctrl.isFeedbackAvailable(assessment)\\\"\\n                                       show-visibility=\\\"::true\\\"\\n                                       ng-show=\\\"!assessment.open && !$ctrl.isCoverageMatrixView\\\">\\n            </assessment-status-preview>\\n            <coverage-matrix-grid coverage-matrix=\\\"$ctrl.getCoverageMatrixFromAssessment(assessment)\\\"\\n                                  ng-show=\\\"!assessment.open && $ctrl.isCoverageMatrixView\\\">\\n              <grade-prognosis grade=\\\"assessment.grade\\\"\\n                               published=\\\"assessment.grade_published\\\"></grade-prognosis>\\n            </coverage-matrix-grid>\\n\\n\\n            <div class=\\\"sb-course-assessment__meta__assessment-counter sb-list-item-name__link\\\"\\n                 ng-click=\\\"$ctrl.navigateToLearningObjective(assessment)\\\"\\n                 ng-show=\\\"!assessment.open && !$ctrl.isCoverageMatrixView\\\">\\n              <span>{{ assessment.stats.changed }} / {{ assessment.stats.total }}</span>\\n              <div ng-if=\\\"assessment.has_unseen_assignments\\\"\\n                   class=\\\"sb-course-assessment__meta__assessment-indicator\\\"></div>\\n              <md-tooltip md-direction=\\\"top\\\"\\n                          md-z-index=\\\"1010\\\"\\n                          class=\\\"md-fling\\n                                       sb-tooltip--align-position\\\"\\n                          localize>\\n                __MSG_assignmentAssessmentTooltip__\\n              </md-tooltip>\\n            </div>\\n\\n            <object-details-toggle object=\\\"assessment\\\"\\n                                   on-details-toggle=\\\"$ctrl.toggleAssessment(assessment)\\\">\\n            </object-details-toggle>\\n          </div>\\n        </div>\\n\\n\\n      </md-list-item>\\n    </div>\\n    <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                        assessment=\\\"assessment\\\"\\n                        show-private-note=\\\"true\\\"\\n                        teacher-account=\\\"true\\\"\\n                        mixpanel-feedback-event=\\\"feedback_to_student_on_objective\\\"\\n                        mixpanel-grade-event=\\\"moving_slider_on_objective_level_in_course\\\"\\n                        on-assessment-update=\\\"$ctrl.updateAssessmentData(assessment)\\\"\\n                        on-assessment-close=\\\"$ctrl.toggleAssessment(assessment)\\\"\\n                        on-navigate-to-details=\\\"$ctrl.navigateToLearningObjective(assessment)\\\"\\n                        flex=\\\"grow\\\"\\n                        layout=\\\"column\\\"\\n                        layout-align=\\\"center stretch\\\"\\n                        slide-toggle=\\\"assessment.open\\\"\\n                        ng-disabled=\\\"!$ctrl.isEditable\\\">\\n    </assessment-details>\\n\\n  </md-list>\\n\\n</md-whiteframe>\\n\";","export interface ICoverageMatrixGrade {\n  circle_label: string;\n  color: string;\n  coverage_of_assignments: number;\n  id: number;\n  is_passed: boolean;\n  label: string;\n  name: string;\n  number_of_assingments: number;\n  order: number;\n}\n\nexport interface ICoverageMatrix {\n  coverage_matrix_grades: ICoverageMatrixGrade[];\n  id: number;\n  is_counter: boolean;\n  isSelected?: boolean;\n  name: string;\n  number_of_assingments: number;\n}\n\nexport class CoverageMatrix implements ICoverageMatrix {\n  public coverage_matrix_grades: ICoverageMatrixGrade[];\n  public id: number;\n  public is_counter: boolean;\n  public name: string;\n  public number_of_assingments: number;\n\n  constructor(coverageMatrix?: ICoverageMatrix) {\n    Object.apply(this, coverageMatrix || {});\n  }\n}\n","export default \"<div class=\\\"coverage-matrix-cell\\\"\\n     ng-repeat=\\\"coverageMatrixGrade in $ctrl.coverageMatrix.coverage_matrix_grades track by coverageMatrixGrade.id\\\"\\n     ng-style=\\\"::{ color: coverageMatrixGrade.coverage_of_assignments ? coverageMatrixGrade.color : ''  }\\\">\\n  {{ ::coverageMatrixGrade.coverage_of_assignments }}/{{ ::$ctrl.coverageMatrix.number_of_assingments }}\\n</div>\\n<div ng-transclude=\\\"gradePrognosis\\\"></div>\\n\";","export default \"<div class=\\\"coverage-matrix-grid-header-cell\\\"\\n     ng-repeat=\\\"coverageMatrixGrade in $ctrl.coverageMatrix.coverage_matrix_grades track by coverageMatrixGrade.id\\\"\\n     ng-style=\\\"::{ color: coverageMatrixGrade.color }\\\">\\n  {{ ::coverageMatrixGrade.circle_label }}\\n</div>\\n<div class=\\\"coverage-matrix-grid-header-cell empty-cell prognosis\\\"></div>\\n<div class=\\\"coverage-matrix-grid-header-cell empty-cell toggle\\\"></div>\\n\";","export default \"<div class=\\\"left-section\\\" ng-transclude=\\\"left\\\"></div>\\n<md-input-container class=\\\"coverage-matrix\\\"\\n                    ng-show=\\\"$ctrl.isCoverageMatrixView()\\\">\\n  <md-select ng-model=\\\"$ctrl.selectedCoverageMatrix\\\"\\n             ng-model-options=\\\"{ trackBy: '$value.id' }\\\"\\n             ng-change=\\\"$ctrl.onSelectCoverageMatrix()\\\">\\n    <md-option ng-repeat=\\\"coverageMatrix in ::$ctrl.coverageMatrixes track by coverageMatrix.id\\\"\\n               ng-value=\\\"coverageMatrix\\\">\\n      {{ ::coverageMatrix.name }}\\n    </md-option>\\n  </md-select>\\n</md-input-container>\\n<div class=\\\"center-section\\\" ng-transclude=\\\"center\\\"></div>\\n<md-menu class=\\\"view-menu attachHint\\\"\\n         md-position-mode=\\\"target-right target\\\">\\n  <md-button class=\\\"md-icon-button\\\"\\n             ng-click=\\\"$mdMenu.open()\\\">\\n    <md-icon>more_vert</md-icon>\\n    <div class=\\\"sb-hint\\\"\\n         data-cookie-name=\\\"listViewSwitchHintCookie\\\"\\n         lock-content=\\\"true\\\"\\n         attach-to=\\\"list-view-switch md-menu.attachHint\\\"\\n         hint>\\n      <div class=\\\"sb-hint-scrollable\\\">\\n        <p class=\\\"sb-hint-text\\\"\\n           localize>\\n          __MSG_teacherObjectiveListViewSwitchHint__\\n        </p>\\n        <p class=\\\"sb-hint-close\\\">\\n          <button class=\\\"sb-btn-no-background md-primary sb-hint-close\\\"\\n                  localize>\\n            __MSG_acceptHint__\\n          </button>\\n        </p>\\n      </div>\\n    </div>\\n  </md-button>\\n  <md-menu-content>\\n    <md-menu-label>{{ ::'teacherStudentProgressToolbarMenuPrimaryLabel' | localize }}</md-menu-label>\\n    <md-menu-item ng-repeat=\\\"menuItem in ::$ctrl.informationMenuItems track by menuItem.id\\\">\\n      <md-button ng-click=\\\"$ctrl.onMenuClick(menuItem)\\\">\\n        <md-icon ng-visible=\\\"menuItem.isSelected\\\">done</md-icon>\\n        {{ ::menuItem.label | localize }}\\n      </md-button>\\n    </md-menu-item>\\n    <md-menu-divider></md-menu-divider>\\n    <md-menu-item ng-repeat=\\\"menuItem in ::$ctrl.viewMenuItems track by menuItem.id\\\">\\n      <md-button ng-click=\\\"$ctrl.onMenuClick(menuItem)\\\">\\n        <md-icon ng-visible=\\\"menuItem.isSelected\\\">done</md-icon>\\n        {{ ::menuItem.label | localize }}\\n      </md-button>\\n    </md-menu-item>\\n  </md-menu-content>\\n</md-menu>\\n<div class=\\\"right-section\\\" ng-transclude=\\\"right\\\"></div>\\n\";","export default \"<md-dialog class=\\\"list-view-switch\\\">\\n  <md-dialog-content>\\n    <span localize>__MSG_listViewSwitchDialogContent__</span>\\n    <footer layout=\\\"row\\\"\\n            layout-align=\\\"end center\\\">\\n      <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                 ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                 localize>__MSG_okBtn__\\n      </md-button>\\n    </footer>\\n  </md-dialog-content>\\n</md-dialog>\\n\";","export default \"<div class=\\\"coverage-matrix-cell grade-prognosis\\\"\\n     ng-style=\\\"{ color: $ctrl.grade.color ? $ctrl.grade.color : ''  }\\\">\\n  {{ $ctrl.grade.circle_label }}\\n  <md-icon class=\\\"grade-prognosis-icon\\\"\\n           ng-show=\\\"$ctrl.grade && $ctrl.published\\\">\\n    visibility\\n  </md-icon>\\n</div>\\n\";","export interface ICountry {\n  country_code: string;\n  name: string;\n  states: string[];\n}\n\nexport class Country implements ICountry {\n  public country_code: string;\n  public name: string;\n  public states: string[];\n}\n","export default \"<h1>{{ ::'UserSetupHeaderWhereDoYouTeach' | localize }}</h1>\\n<ng-form name=\\\"$ctrl.schoolSelectForm\\\">\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelCountry' | localize }}</label>\\n    <md-select name=\\\"country\\\"\\n               ng-model=\\\"$ctrl.country\\\"\\n               ng-model-options=\\\"{ trackBy: '$value.country_code' }\\\"\\n               ng-change=\\\"$ctrl.clearStateInput(); $ctrl.clearSchoolInput(); $ctrl.refreshSchools()\\\"\\n               ng-required=\\\"true\\\">\\n      <md-option ng-repeat=\\\"country in ::$ctrl.countries track by $index\\\"\\n                 ng-value=\\\"country\\\">\\n        {{ ::country.name }}\\n      </md-option>\\n    </md-select>\\n  </md-input-container>\\n  <md-input-container ng-if=\\\"$ctrl.country.states.length\\\">\\n    <label>{{ ::'UserSetupInputLabelState' | localize }}</label>\\n    <md-select name=\\\"state\\\"\\n               ng-model=\\\"$ctrl.state\\\"\\n               ng-change=\\\"$ctrl.clearSchoolInput(); $ctrl.refreshSchools()\\\"\\n               ng-required=\\\"$ctrl.country.states.length\\\"\\n               ng-disabled=\\\"!$ctrl.country\\\">\\n      <md-option ng-repeat=\\\"state in ::$ctrl.country.states track by $index\\\"\\n                 ng-value=\\\"state\\\">\\n        {{ ::state }}\\n      </md-option>\\n    </md-select>\\n  </md-input-container>\\n  <md-input-container class=\\\"md-icon-left\\\"\\n                      ng-class=\\\"{ 'md-input-has-value': $ctrl.school || $ctrl.searchSchoolName }\\\">\\n    <md-icon>search</md-icon>\\n    <md-autocomplete required\\n                     md-input-name=\\\"school\\\"\\n                     md-input-minlength=\\\"2\\\"\\n                     md-delay=\\\"100\\\"\\n                     md-no-cache=\\\"true\\\"\\n                     md-selected-item=\\\"$ctrl.school\\\"\\n                     md-search-text=\\\"$ctrl.searchSchoolName\\\"\\n                     md-items=\\\"school in $ctrl.searchSchool($ctrl.searchSchoolName)\\\"\\n                     md-item-text=\\\"school.title\\\"\\n                     md-require-match\\n                     md-floating-label=\\\"{{ ::'UserSetupInputLabelSchool' | localize }}\\\"\\n                     ng-disabled=\\\"$ctrl.isSchoolInputDisable()\\\">\\n      <md-not-found>\\n        <div class=\\\"school-item\\\">\\n            <span>{{ ::'UserSetupInputSchoolNoMatchFound' | localize }}</span>\\n        </div>\\n      </md-not-found>\\n      <md-item-template>\\n        <div class=\\\"school-item\\\"\\n             ng-mouseenter=\\\"school.$$mouseOver = true\\\"\\n             ng-mouseleave=\\\"school.$$mouseOver = false\\\">\\n          <long-text-tooltip text=\\\"$ctrl.getSchoolName(school)\\\"\\n                             watch-text=\\\"true\\\"\\n                             direction=\\\"left\\\"\\n                             visible=\\\"school.$$mouseOver\\\">\\n            <span class=\\\"md-truncate\\\"\\n                  md-highlight-text=\\\"$ctrl.searchSchoolName\\\">{{  ::$ctrl.getSchoolName(school)  }}</span>\\n          </long-text-tooltip>\\n          <span class=\\\"city\\\"\\n                md-highlight-text=\\\"$ctrl.searchSchoolName\\\">{{  ::$ctrl.getCityName(school)  }}</span>\\n        </div>\\n      </md-item-template>\\n      <div ng-messages=\\\"$ctrl.schoolSelectForm.school.$error\\\"\\n           ng-if=\\\"$ctrl.schoolSelectForm.school.$touched\\\">\\n        <div ng-message=\\\"md-require-match\\\">{{ ::'UserSetupErrorMessageRequireMatchSchool' | localize }}</div>\\n      </div>\\n    </md-autocomplete>\\n    <div class=\\\"hint\\\">\\n      <div class=\\\"tip\\\">{{ ::'UserSetupHelpTextCannotFindSchool' | localize }}</div>\\n<!--      <md-button class=\\\"add\\\"-->\\n<!--                 ng-click=\\\"$ctrl.registerSchool()\\\">{{ ::'UserSetupButtonLabelRequestAddYourSchool' | localize }}-->\\n<!--      </md-button>-->\\n      <a href=\\\"mailto:ted@studybee.se?subject=Request to add school\\\">{{'UserSetupButtonLabelRequestAddYourSchool' | translate}}</a>\\n    </div>\\n  </md-input-container>\\n</ng-form>\\n<md-button class=\\\"submit save\\\"\\n           ng-click=\\\"$ctrl.sendSaveRequest()\\\"\\n           ng-disabled=\\\"$ctrl.schoolSelectForm.$invalid\\\">{{ ::'saveBtn' | localize}}\\n</md-button>\\n\";","export default \"<h1>{{ ::'UserSetupHeaderWhereDoYouTeach' | localize }}</h1>\\n<ng-form name=\\\"$ctrl.schoolRegisterForm\\\">\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelCategory' | localize }}</label>\\n    <md-select name=\\\"schoolCategory\\\"\\n               ng-model=\\\"$ctrl.schoolRequest.category\\\"\\n               ng-model-options=\\\"{ trackBy: '$value' }\\\"\\n               ng-required=\\\"true\\\">\\n      <md-option ng-repeat=\\\"schoolCategory in ::$ctrl.schoolCategories track by schoolCategory.type\\\"\\n                 ng-value=\\\"schoolCategory.type\\\">\\n        {{ ::schoolCategory.name | localize }}\\n      </md-option>\\n    </md-select>\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelSchoolName' | localize }}</label>\\n    <input name=\\\"schoolName\\\"\\n           autocomplete=\\\"off\\\"\\n           ng-model=\\\"$ctrl.schoolRequest.school_name\\\"\\n           ng-required=\\\"true\\\">\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelStreetAddress' | localize }}</label>\\n    <input name=\\\"streetAddress\\\"\\n           autocomplete=\\\"off\\\"\\n           ng-model=\\\"$ctrl.schoolRequest.street_address\\\"\\n           ng-required=\\\"true\\\">\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelCity' | localize }}</label>\\n    <input name=\\\"city\\\"\\n           autocomplete=\\\"off\\\"\\n           ng-model=\\\"$ctrl.schoolRequest.city\\\"\\n           ng-required=\\\"true\\\">\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelCountry' | localize }}</label>\\n    <md-select name=\\\"country\\\"\\n               ng-model=\\\"$ctrl.country\\\"\\n               ng-model-options=\\\"{ trackBy: '$value.country_code' }\\\"\\n               ng-change=\\\"$ctrl.clearStateInput();\\\"\\n               ng-required=\\\"true\\\">\\n      <md-option ng-repeat=\\\"country in ::$ctrl.countries track by $index\\\"\\n                 ng-value=\\\"country\\\">\\n        {{ ::country.name }}\\n      </md-option>\\n    </md-select>\\n  </md-input-container>\\n  <md-input-container ng-if=\\\"$ctrl.country.states.length\\\">\\n    <label>{{ ::'UserSetupInputLabelState' | localize }}</label>\\n    <md-select name=\\\"state\\\"\\n               ng-model=\\\"$ctrl.state\\\"\\n               ng-required=\\\"$ctrl.country.states.length\\\"\\n               ng-disabled=\\\"!$ctrl.country\\\">\\n      <md-option ng-repeat=\\\"state in ::$ctrl.country.states track by $index\\\"\\n                 ng-value=\\\"state\\\">\\n        {{ ::state }}\\n      </md-option>\\n    </md-select>\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelZipCode' | localize }}</label>\\n    <input name=\\\"zipCode\\\"\\n           autocomplete=\\\"off\\\"\\n           ng-model=\\\"$ctrl.schoolRequest.postal_code\\\"\\n           ng-required=\\\"true\\\">\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelSchoolWebsite' | localize }}</label>\\n    <input name=\\\"schoolWebsite\\\"\\n           autocomplete=\\\"off\\\"\\n           pattern=\\\"(https?:\\\\/\\\\/)?(www\\\\.)?[-a-zA-Z0-9@:%._\\\\+~#=]{2,256}\\\\.[a-z0-9]{2,6}\\\\b([-a-zA-Z0-9@:%_\\\\+.~#?&//=]*)\\\"\\n           ng-model=\\\"$ctrl.schoolRequest.website\\\"\\n           ng-required=\\\"true\\\">\\n    <div ng-messages=\\\"$ctrl.schoolRegisterForm.schoolWebsite.$error\\\"\\n         role=\\\"alert\\\">\\n      <div ng-message=\\\"pattern\\\">\\n        {{ ::'InputErrorInvalidUrl' | localize }}\\n      </div>\\n    </div>\\n  </md-input-container>\\n  <md-input-container>\\n    <label>{{ ::'UserSetupInputLabelComment' | localize }}</label>\\n    <textarea name=\\\"comment\\\"\\n              autocomplete=\\\"off\\\"\\n              ng-model=\\\"$ctrl.schoolRequest.comment\\\"\\n              ng-required=\\\"false\\\"></textarea>\\n  </md-input-container>\\n</ng-form>\\n<md-button class=\\\"submit submit-request\\\"\\n           ng-click=\\\"$ctrl.sendSchoolRequest()\\\"\\n           ng-disabled=\\\"$ctrl.isSubmitDisabled()\\\">\\n  {{ ::'UserSetupButtonLabelSubmitYourRequest' | localize }}\\n</md-button>\\n\";","export default \"<md-checkbox ng-model=\\\"$ctrl.isSelectedAll\\\"\\n             ng-change=\\\"$ctrl.onChange()\\\"\\n             md-ink-ripple=\\\"true\\\">{{::'allMode' | localize}}\\n</md-checkbox>\\n\";","export default \"<md-input-container ng-hide=\\\"$ctrl.isSingleView()\\\">\\n  <md-select ng-model=\\\"$ctrl.ngModel.$viewValue\\\"\\n             ng-change=\\\"$ctrl.ngModel.$setViewValue($ctrl.ngModel.$viewValue)\\\">\\n    <md-option ng-repeat=\\\"courseDefinition in ::$ctrl.courseDefinitions track by courseDefinition.id\\\"\\n               ng-value=\\\"courseDefinition\\\">\\n      {{ ::courseDefinition.name }}\\n    </md-option>\\n  </md-select>\\n</md-input-container>\\n<div class=\\\"single-view\\\" ng-show=\\\"$ctrl.isSingleView()\\\">\\n  {{ ::$ctrl.courseDefinitions[0].name }}\\n</div>\\n\";","export default \"<span ng-bind-html=\\\"$ctrl.text | Sanitize\\\"></span>\\n\";","import { AssignmentState } from '../enums/assignmentStateType.enum';\nimport { AssignmentType } from '../enums/assignmentType.enum';\nimport { IAssessment } from './assessment.model';\n\nexport interface IAssignment {\n  alternate_link_id: string;\n  assessments: IAssessment[];\n  assignment_not_assessable: boolean;\n  assignment_type: AssignmentType;\n  classroom_name: string;\n  id: number;\n  state: AssignmentState;\n  title: string;\n  worktype: string;\n  ui?: { isExpanded: boolean };\n}\n\nexport class Assignment implements IAssignment {\n  public alternate_link_id: string;\n  public assessments: IAssessment[];\n  public assignment_not_assessable: boolean;\n  public assignment_type: AssignmentType;\n  public classroom_name: string;\n  public id: number;\n  public state: AssignmentState;\n  public title: string;\n  public worktype: string;\n  public ui?: { isExpanded: boolean };\n}\n","export default \"<md-icon class=\\\"type\\\"\\n         md-svg-src=\\\"{{ ::$ctrl.getSvgSrc() }}\\\"\\n         ng-class=\\\"::$ctrl.getIconClass()\\\"\\n         ng-bind=\\\"::$ctrl.getIconName()\\\"\\n         ng-show=\\\"$ctrl.assignment\\\"></md-icon>\\n\";","export default \"<div class=\\\"label\\\"\\n     ng-show=\\\"$ctrl.assignments.length\\\"\\n     ng-bind-html=\\\"::$ctrl.label | localize\\\"></div>\\n<div class=\\\"item\\\"\\n     md-ink-ripple=\\\"#000000\\\"\\n     ng-repeat=\\\"assignment in $ctrl.assignments track by assignment.id\\\">\\n  <div class=\\\"tooltip-wrapper\\\">\\n    <md-tooltip md-z-index=\\\"1006\\\"\\n                md-direction=\\\"top\\\"\\n                ng-bind=\\\"::$ctrl.getIconTooltip(assignment)\\\">\\n    </md-tooltip>\\n    <assignment-icon-type assignment=\\\"assignment\\\"></assignment-icon-type>\\n  </div>\\n  <long-text-tooltip text=\\\"::assignment.title\\\">\\n    <div>{{ ::assignment.title }}</div>\\n  </long-text-tooltip>\\n</div>\\n\";","export default \"<md-icon class=\\\"sb-list-icon sb-status sb-status-not-done\\\"\\n         ng-show=\\\"$ctrl.status == 'ND'\\\">\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-not-done-late\\\"\\n         ng-show=\\\"$ctrl.status == 'NL'\\\">\\n  assignment_late\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-done-not-fully-assessed\\\"\\n         ng-show=\\\"$ctrl.status == 'NV'\\\">\\n  assessment\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-done-not-fully-assessed sb-status-dot\\\"\\n         ng-show=\\\"$ctrl.status == 'NN'\\\">\\n  assessment\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-done-fully-assessed\\\"\\n         ng-show=\\\"$ctrl.status == 'AV'\\\">\\n  check\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-done-fully-assessed sb-status-dot\\\"\\n         ng-show=\\\"$ctrl.status == 'AN'\\\">\\n  check\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-warning\\\"\\n         ng-show=\\\"$ctrl.status == 'WV'\\\">\\n  warning\\n</md-icon>\\n\\n<md-icon class=\\\"sb-list-icon sb-status sb-status-warning sb-status-dot\\\"\\n         ng-show=\\\"$ctrl.status == 'WN'\\\">\\n  warning\\n</md-icon>\\n\";","export default \"<div class=\\\"manage-assignment md-whiteframe-5dp\\\"\\n     ng-class=\\\"visible\\\"\\n     ng-if=\\\"$ctrl.assignment\\\">\\n  <div class=\\\"content\\\">\\n    <div class=\\\"content-header\\\"\\n         localize>\\n      {{ $ctrl.title }}\\n    </div>\\n  </div>\\n\\n  <div class=\\\"footer\\\"\\n       layout=\\\"row\\\"\\n       layout-align=\\\"{{ $ctrl.showLoading ? 'center center' : 'end center' }}\\\">\\n    <md-progress-circular class=\\\"sb-progress-circular white-theme\\\"\\n                          ng-if=\\\"$ctrl.showLoading\\\"\\n                          md-diameter=\\\"24px\\\"\\n                          md-mode=\\\"indeterminate\\\">\\n    </md-progress-circular>\\n\\n    <md-button class=\\\"sb-btn-nlrm-dark-text\\\"\\n               aria-label=\\\"__MSG_assignObjectivesToastPostponeButtonLabel__\\\"\\n               ng-hide=\\\"$ctrl.showLoading\\\"\\n               ng-click=\\\"$ctrl.postponeAssigningObjectives()\\\"\\n               localize>\\n      __MSG_assignObjectivesToastPostponeButtonLabel__\\n    </md-button>\\n\\n    <md-button class=\\\"sb-btn-nlrm-dark-text\\\"\\n               aria-label=\\\"__MSG_assignObjectivesToastConfirmButtonLabel__\\\"\\n               ng-hide=\\\"$ctrl.showLoading\\\"\\n               ng-click=\\\"$ctrl.assignObjectives()\\\"\\n               localize>\\n      __MSG_assignObjectivesToastConfirmButtonLabel__\\n    </md-button>\\n  </div>\\n</div>\\n\";","export default \"<form class=\\\"dialog__small--text layout-column layout-align-start-stretch\\\"\\n      flex=\\\"grow\\\"\\n      layout=\\\"column\\\"\\n      layout-align=\\\"start stretch\\\"\\n      name=\\\"$ctrl.studentEditForm\\\">\\n  <md-input-container>\\n    <label localize>__MSG_visibility__</label>\\n    <md-select md-container-class=\\\"grouped-visibility-select-container\\\"\\n               md-selected-html=\\\"$ctrl.getVisibilityLabel()\\\"\\n               ng-model=\\\"$ctrl.groupedVisibility.visible\\\"\\n               ng-change=\\\"$ctrl.notifyChanges()\\\">\\n      <md-option ng-value=\\\"true\\\">\\n        <md-icon>visibility</md-icon>\\n        {{ 'visible' | localize }}\\n      </md-option>\\n      <md-option ng-value=\\\"false\\\">\\n        <md-icon>visibility_off</md-icon>\\n        {{ 'hidden' | localize }}\\n      </md-option>\\n    </md-select>\\n    <div class=\\\"hint\\\"\\n         localize>{{ ::$ctrl.i18n.hintGroupedVisibilityVisibility | localize }}\\n    </div>\\n  </md-input-container>\\n  <md-input-container ng-if=\\\"::!$ctrl.isAssignmentStudentView\\\">\\n    <label localize>__MSG_students__</label>\\n    <md-select md-container-class=\\\"grouped-visibility-select-container\\\"\\n               md-selected-html=\\\"$ctrl.getStudentsSelectLabel()\\\"\\n               ng-model=\\\"$ctrl.groupedVisibility.students_ids\\\"\\n               ng-change=\\\"$ctrl.notifyChanges()\\\"\\n               multiple>\\n      <md-select-header class=\\\"demo-select-header\\\">\\n        <md-select-all md-data-set=\\\"$ctrl.settings.students\\\"\\n                       on-change=\\\"$ctrl.selectAllStudents()\\\"></md-select-all>\\n      </md-select-header>\\n      <md-optgroup label=\\\"students\\\">\\n        <md-option class=\\\"grouped-visibility--option\\\"\\n                   ng-repeat=\\\"student in ::$ctrl.settings.students track by student.id\\\"\\n                   ng-value=\\\"::student.id\\\">{{ ::student.student_name }}\\n        </md-option>\\n      </md-optgroup>\\n    </md-select>\\n    <div class=\\\"hint\\\">{{ ::$ctrl.i18n.hintGroupedVisibilityStudentsHint | localize }}</div>\\n  </md-input-container>\\n  <md-input-container>\\n    <label localize>__MSG_coursesSubjects__</label>\\n    <md-select md-container-class=\\\"grouped-visibility-select-container\\\"\\n               md-selected-html=\\\"$ctrl.getCoursesSubjectsSelectLabel()\\\"\\n               ng-model=\\\"$ctrl.groupedVisibility.course_definitions_ids\\\"\\n               ng-change=\\\"$ctrl.notifyChanges()\\\"\\n               multiple>\\n      <md-select-header class=\\\"demo-select-header\\\">\\n        <md-select-all md-data-set=\\\"$ctrl.settings.courseDefinitions\\\"\\n                       on-change=\\\"$ctrl.selectAllCourseDefinitions()\\\"></md-select-all>\\n      </md-select-header>\\n      <md-optgroup label=\\\"students\\\">\\n        <md-option class=\\\"grouped-visibility--option\\\"\\n                   ng-repeat=\\\"courseDefinition in ::$ctrl.settings.courseDefinitions track by courseDefinition.id\\\"\\n                   ng-value=\\\"::courseDefinition.id\\\">{{ ::courseDefinition.name }}\\n        </md-option>\\n      </md-optgroup>\\n    </md-select>\\n    <div class=\\\"hint\\\">{{ ::$ctrl.i18n.hintGroupedVisibilityCoursesSubjects | localize }}</div>\\n  </md-input-container>\\n  <md-input-container>\\n    <label localize>__MSG_typeOfFeedback__</label>\\n    <md-select md-container-class=\\\"grouped-visibility-select-container\\\"\\n               md-selected-html=\\\"$ctrl.getTypeOfFeedbackLabel()\\\"\\n               ng-model=\\\"$ctrl.typeOfFeedback\\\"\\n               ng-change=\\\"$ctrl.selectTypeOfFeedback()\\\"\\n               multiple>\\n      <md-select-header class=\\\"demo-select-header\\\">\\n        <md-select-all md-data-set=\\\"$ctrl.selectedTypeOfFeedback\\\"\\n                       on-change=\\\"$ctrl.selectAllTypeOfFeedback()\\\"></md-select-all>\\n      </md-select-header>\\n      <md-optgroup label=\\\"{{ ::$ctrl.i18n.typeOfFeedbackOverallLabel | localize }}\\\">\\n        <label class=\\\"md-container-ignore grouped-visibility--label\\\"\\n               aria-hidden=\\\"true\\\">{{ ::$ctrl.i18n.typeOfFeedbackOverallLabel | localize }}</label>\\n        <md-option class=\\\"grouped-visibility--option\\\"\\n                   ng-repeat=\\\"typeOfFeedback in ::$ctrl.selectedTypeOfFeedback | filter:{ group: 0 } track by typeOfFeedback.id\\\"\\n                   ng-value=\\\"typeOfFeedback.id\\\">{{ ::typeOfFeedback.name }}\\n        </md-option>\\n      </md-optgroup>\\n      <md-optgroup label=\\\"{{ ::'typeOfFeedbackLearningObjectiveSection' | localize }}\\\">\\n        <label class=\\\"md-container-ignore grouped-visibility--label\\\"\\n               aria-hidden=\\\"true\\\">{{ ::'typeOfFeedbackLearningObjectiveSection' | localize }}</label>\\n        <md-option class=\\\"grouped-visibility--option\\\"\\n                   ng-repeat=\\\"typeOfFeedback in ::$ctrl.selectedTypeOfFeedback | filter:{ group: 1 } track by typeOfFeedback.id\\\"\\n                   ng-value=\\\"typeOfFeedback.id\\\">{{ ::typeOfFeedback.name }}\\n        </md-option>\\n      </md-optgroup>\\n    </md-select>\\n    <div class=\\\"hint\\\">{{ ::$ctrl.i18n.hintGroupedVisibilityFeedback | localize }}</div>\\n  </md-input-container>\\n</form>\\n\";","export default \"<md-button class=\\\"md-icon-button\\\"\\n           ng-click=\\\"$ctrl.onClick()\\\"\\n           ng-show=\\\"$ctrl.isVisible\\\">\\n  <md-icon>help_outline</md-icon>\\n</md-button>\\n\";","import angular, {IModule} from 'angular';\n\nexport const SharedUpgradesModule: IModule = angular.module('app.shared.upgrades', []);\n\nexport default SharedUpgradesModule.name;\n\nexport * from './autocomplete/autocomplete.component';\n","export default \"<md-input-container class=\\\"md-icon-left\\\"\\n                    ng-class=\\\"{ 'md-input-has-value': $ctrl.school || $ctrl.searchSchoolName }\\\">\\n  <md-icon>search</md-icon>\\n  <md-autocomplete md-input-name=\\\"school\\\"\\n                   md-input-minlength=\\\"2\\\"\\n                   md-delay=\\\"100\\\"\\n                   md-no-cache=\\\"true\\\"\\n                   md-selected-item=\\\"$ctrl.school\\\"\\n                   md-selected-item-change=\\\"$ctrl.change($ctrl.school)\\\"\\n                   md-search-text=\\\"$ctrl.searchSchoolName\\\"\\n                   md-items=\\\"school in $ctrl.searchSchool($ctrl.searchSchoolName)\\\"\\n                   md-item-text=\\\"school.title\\\"\\n                   md-require-match\\n                   md-floating-label=\\\"{{ ::'UserSetupInputLabelSchool' | localize }}\\\"\\n                   ng-disabled=\\\"$ctrl.disabled\\\">\\n    <md-not-found>\\n      <div class=\\\"school-item\\\">\\n        <span>{{ ::'UserSetupInputSchoolNoMatchFound' | localize }}</span>\\n      </div>\\n    </md-not-found>\\n    <md-item-template>\\n      <div class=\\\"school-item\\\"\\n           ng-init=\\\"$$mouseOver = false\\\"\\n           ng-mouseenter=\\\"$$mouseOver = true\\\"\\n           ng-mouseleave=\\\"$$mouseOver = false\\\">\\n        <long-text-tooltip text=\\\"$ctrl.getSchoolName(school)\\\"\\n                           watch-text=\\\"true\\\"\\n                           direction=\\\"left\\\"\\n                           visible=\\\"$$mouseOver\\\">\\n            <span class=\\\"md-truncate\\\"\\n                  md-highlight-text=\\\"$ctrl.searchSchoolName\\\">{{  ::$ctrl.getSchoolName(school)  }}</span>\\n        </long-text-tooltip>\\n        <span class=\\\"city\\\"\\n              md-highlight-text=\\\"$ctrl.searchSchoolName\\\">{{  ::$ctrl.getCityName(school)  }}</span>\\n      </div>\\n    </md-item-template>\\n<!--    <div ng-messages=\\\"$ctrl.schoolSelectForm.school.$error\\\"-->\\n<!--         ng-if=\\\"$ctrl.schoolSelectForm.school.$touched\\\">-->\\n<!--      <div ng-message=\\\"md-require-match\\\">{{ ::'UserSetupErrorMessageRequireMatchSchool' | localize }}</div>-->\\n<!--    </div>-->\\n  </md-autocomplete>\\n</md-input-container>\\n\";","export default \"<right-view-container>\\n  <toolbar flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n    <menu-toggle flex=\\\"none\\\"></menu-toggle>\\n\\n    <p class=\\\"sb-toolbar-title\\\"\\n       flex\\n       localize>\\n      __MSG_courseManagementMainSectionTitle__\\n    </p>\\n<!--    <help-button link=\\\"studentCurriculumsSidebarHelpButtonUrl\\\"></help-button>-->\\n  </toolbar>\\n\\n  <div>\\n    <cm-student-courses-list courses=\\\"$ctrl.coursesDefinitions\\\"></cm-student-courses-list>\\n  </div>\\n</right-view-container>\\n\";","export default \"<md-list\\n    flex\\n    class=\\\"sb-list\\\">\\n\\n    <md-list-item\\n        layout=\\\"row\\\"\\n        layout-align=\\\"space-between center\\\"\\n        class=\\\"cm-courses-list__container\\n               sb-border-bottom\\\"\\n        ng-repeat=\\\"curriculum in $ctrl.courses track by curriculum.id\\\"\\n        ng-class=\\\"{'course-active': curriculum.id === $ctrl.selectedCourse.id }\\\"\\n        ng-click=\\\"$ctrl.navigateToCourseDetails(curriculum)\\\">\\n        <div\\n            flex\\n            class=\\\"sb-list-item\\n                   cm-courses-list\\\"\\n            layout=\\\"column\\\"\\n            layout-align=\\\"center start\\\">\\n          <long-text-tooltip text=\\\"curriculum.name\\\">\\n            <span class=\\\"cm-courses-list__course-name\\\">\\n                {{ curriculum.name }}\\n            </span>\\n          </long-text-tooltip>\\n\\n          <long-text-tooltip text=\\\"curriculum.code\\\" ng-if=\\\"!curriculum.based_on && curriculum.code\\\">\\n            <span class=\\\"cm-courses-list__sub-info cm-courses-list__sub-info--first\\\">\\n                {{ curriculum.code }}\\n            </span>\\n          </long-text-tooltip>\\n\\n          <long-text-tooltip text=\\\"curriculum.based_on.name\\\" ng-if=\\\"curriculum.based_on\\\">\\n            <span class=\\\"cm-courses-list__sub-info cm-courses-list__sub-info--first\\\">\\n                Based on: {{ curriculum.based_on.name }}\\n                <span ng-if=\\\"curriculum.code\\\">\\n                    ({{ curriculum.code }})\\n                </span>\\n            </span>\\n          </long-text-tooltip>\\n\\n          <long-text-tooltip text=\\\"{{ curriculum.based_on.author }}\\\" ng-if=\\\"curriculum.based_on && curriculum.based_on.author\\\">\\n            <span class=\\\"cm-courses-list__sub-info\\\">\\n                Created by: {{ curriculum.based_on.author}}\\n            </span>\\n          </long-text-tooltip>\\n        </div>\\n    </md-list-item>\\n</md-list>\\n\";","export default \"<extended-view-container>\\n  <toolbar flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"start center\\\">\\n    <md-button class=\\\"md-icon-button\\\">\\n      <md-icon class=\\\"material-icons\\\"\\n               ng-click=\\\"$ctrl.closeCourseView()\\\">close\\n      </md-icon>\\n    </md-button>\\n  </toolbar>\\n  <extended-view-top-whiteframe>\\n    <div flex\\n         layout=\\\"row\\\">\\n      <div class=\\\"sb-photo-placeholder layout-align-center-center layout-row\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center center\\\">\\n        <md-icon class=\\\"sb-icon__big sb-icon__class material-icons\\\"\\n                 role=\\\"img\\\"\\n                 aria-label=\\\"class\\\">\\n          class\\n        </md-icon>\\n      </div>\\n      <div flex-auto\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start start\\\">\\n        <long-text-tooltip text=\\\"$ctrl.course.name\\\">\\n                    <span class=\\\"md-display-1 cm-heading\\\">\\n                        {{ $ctrl.course.name }}\\n                    </span>\\n        </long-text-tooltip>\\n\\n        <span class=\\\"cm-course-code\\\">\\n                    {{ $ctrl.course.code }}\\n                </span>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"sb-course-assessment__course-grade cm-course-assesment__course-grade\\\"\\n         layout=\\\"row\\\">\\n      <div class=\\\"md-body-2 sb-subheading sb-course-assessment__meta-heading\\\"\\n           flex=\\\"35\\\"\\n           localize>\\n        __MSG_courseDetailsLabel__\\n      </div>\\n\\n      <div class=\\\"sb-course-assessment__meta cm-course-grades\\\"\\n           flex=\\\"65\\\">\\n        <div layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n\\n          <object-details-toggle object=\\\"$ctrl.course\\\"\\n                                 on-details-toggle=\\\"$root.toggleObject($ctrl.course)\\\">\\n          </object-details-toggle>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <course-definition-details class=\\\"course-definition-details\\\"\\n                               ng-if=\\\"$ctrl.course.open\\\"\\n                               course=\\\"$ctrl.course\\\"\\n                               read-only=\\\"true\\\">\\n    </course-definition-details>\\n\\n  </extended-view-top-whiteframe>\\n\\n  <div ui-view=\\\"details\\\"></div>\\n</extended-view-container>\\n\";","export default \"<div flex\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start center\\\">\\n  <md-subheader class=\\\"md-no-sticky sb-subheading help-button\\\"\\n                localize>\\n    __MSG_learnignObjectivesLabel__\\n  </md-subheader>\\n</div>\\n\\n<cm-student-objectives-toolbar class=\\\"sb-panel-shadow\\\">\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open($event)\\\">\\n      <md-icon>more_vert</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"course-management\\\">\\n      <md-menu-label>{{ ::'teacherCurriculumObjectivesToolbarMenuLabel' | localize }}</md-menu-label>\\n      <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.toolbarMenuItems track by toolbarMenuItem.id\\\">\\n        <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n          <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n          {{ ::toolbarMenuItem.label | localize }}\\n        </md-button>\\n      </md-menu-item>\\n    </md-menu-content>\\n  </md-menu>\\n</cm-student-objectives-toolbar>\\n\\n<cm-student-objectives-list objectives=\\\"::$ctrl.objectives\\\"\\n                            view=\\\"$ctrl.view\\\"></cm-student-objectives-list>\\n\";","export default \"<accordion class=\\\"sb-panel-shadow\\\"\\n           ng-if=\\\"::$ctrl.objectives.length\\\"\\n           ng-repeat=\\\"objective in $ctrl.objectives track by objective.id\\\"\\n           open=\\\"objective.$open\\\">\\n  <accordion-header>\\n    <div ng-if=\\\"$ctrl.listViewType.DESCRIPTION_ONLY === $ctrl.view\\\">\\n      <span class=\\\"description\\\"\\n            ng-bind-html=\\\"objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n    </div>\\n    <div ng-if=\\\"$ctrl.listViewType.TITLE_AND_DESCRIPTION === $ctrl.view\\\">\\n      {{ objective.name }}\\n      <span class=\\\"description\\\"\\n            ng-bind-html=\\\"objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n    </div>\\n    <div ng-if=\\\"$ctrl.listViewType.TITLE_ONLY === $ctrl.view\\\">\\n      {{ objective.name }}\\n    </div>\\n  </accordion-header>\\n  <cm-objective-details course=\\\"$ctrl.course\\\"\\n                        objective=\\\"objective\\\"\\n                        read-only=\\\"true\\\">\\n  </cm-objective-details>\\n  <accordion-footer>\\n    <div flex=\\\"100\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n      <md-button class=\\\"sb-button\\\"\\n                 ng-click=\\\"objective.$open = false\\\"\\n                 localize>\\n        __MSG_closeBtn__\\n      </md-button>\\n    </div>\\n  </accordion-footer>\\n</accordion>\\n<cm-empty-objectives-list ng-if=\\\"!$ctrl.objectives.length\\\"></cm-empty-objectives-list>\\n\";","export default \"<div class=\\\"content\\\" ng-transclude></div>\\n\";","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * This is not a classic solution in the angular apps, but the component is not the\n * the best solution here since the common part has only a few methods, and all\n * template layout is different. In this case I use this class as a base class\n * both for edit course modal and search course modal.\n */\nexport class SelectEducationalProperties {\n  constructor(FetchData) {\n    this.FetchData = FetchData;\n  }\n\n  /**\n   *\n   */\n  changeEducationalSystem() {\n    this.educationalStage = undefined;\n    this.resetScales();\n    this.updateEducationalStages(this.educationalSystem);\n  }\n\n  /**\n   *\n   */\n  changeEducationalStage() {\n    this.resetScales();\n    this.updateScales(this.educationalStage);\n  }\n\n  resetScales() {\n    this.scale = undefined;\n    this.scales = [];\n  }\n\n  /**\n   * Updates current educational stages based on the educational system\n   * @param educationalSystem\n   */\n  updateEducationalStages(educationalSystem) {\n    // reset educational stages\n    this.educationalStages = [];\n    return this.FetchData\n      .v3\n      .getEducationalStages({\n        educational_system: educationalSystem.id,\n      })\n      .then((educationalStages) => {\n        this.educationalStages = educationalStages;\n      });\n  }\n\n  /**\n   * Updates scales for modal window, based on actual educational stage\n   * @param educationalStage\n   */\n  updateScales(educationalStage) {\n    this.scales = [];\n    //  fetch only if stage is not undefined ( case for all stages )\n    if (!educationalStage) {\n      return;\n    }\n    // eslint-disable-next-line consistent-return\n    return this.FetchData\n      .v3\n      .getScales({\n        educational_stage: educationalStage.id,\n      })\n      .then((scales) => {\n        this.scales = scales;\n      });\n  }\n\n  updateEducationalStagesAndScales() {\n    return this.updateEducationalStages(this.educationalSystem)\n      .then(() => {\n        this.setEducationalStage(this.educationalStageId);\n      })\n      .then(() => this.updateScales(this.educationalStage));\n  }\n\n  setEducationalStage(educationalStageId) {\n    this.educationalStage = this.educationalStages.find(\n      educationalStage => educationalStage.id === educationalStageId,\n    );\n  }\n}\n","export default \"<right-view-container>\\n  <toolbar\\n    flex\\n    layout=\\\"row\\\"\\n    layout-align=\\\"space-between center\\\">\\n    <menu-toggle flex=\\\"none\\\"></menu-toggle>\\n\\n    <p\\n      flex\\n      class=\\\"sb-toolbar-title\\\"\\n      localize>\\n      __MSG_courseManagementMainSectionTitle__\\n    </p>\\n\\n      <md-menu flex=\\\"nogrow\\\">\\n        <md-button\\n          class=\\\"md-icon-button\\\"\\n          ng-click=\\\"$mdMenu.open($event)\\\"\\n          localize>\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.openLibraryDialog()\\\"\\n              localize>\\n              __MSG_myCurriculumLibrary__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n  </toolbar>\\n\\n  <div>\\n    <cm-teacher-courses-list curriculums=\\\"$ctrl.curriculums\\\"></cm-teacher-courses-list>\\n  </div>\\n\\n  <div\\n    class=\\\"sb-bottom-floating-button-container\\\"\\n    layout=\\\"row\\\"\\n    layout-align=\\\"center end\\\">\\n\\n    <md-fab-speed-dial\\n      md-direction=\\\"up\\\"\\n      class=\\\"md-scale\\\"\\n      md-open=\\\"$ctrl.isDialOpen\\\"\\n      ng-mouseenter=\\\"$ctrl.isDialOpen = true\\\"\\n      ng-mouseleave=\\\"$ctrl.isDialOpen = false\\\"\\n      ng-cloak>\\n      <md-fab-trigger>\\n        <md-button\\n          class=\\\"md-fab\\n                           cm-plus-button\\\"\\n          ng-click=\\\"$event.stopPropagation()\\\">\\n          <md-icon>add</md-icon>\\n        </md-button>\\n      </md-fab-trigger>\\n\\n      <md-fab-actions>\\n        <md-button\\n          class=\\\"md-fab md-raised\\n                           md-mini\\n                           cm-action-button\\\"\\n          ng-click=\\\"$ctrl.openSearchForCurriculumDialog()\\\">\\n          <md-tooltip\\n            md-direction=\\\"left\\\"\\n            md-z-index=\\\"1010\\\"\\n            class=\\\"md-fling\\\"\\n            localize>\\n            __MSG_searchCourseTooltip__\\n          </md-tooltip>\\n          <md-icon>search</md-icon>\\n        </md-button>\\n\\n        <md-button\\n          class=\\\"md-fab\\n                           md-raised\\n                           md-mini\\n                           cm-action-button\\\"\\n          ng-click=\\\"$ctrl.openCreateCurriculumDialog()\\\">\\n          <md-tooltip\\n            md-direction=\\\"left\\\"\\n            md-z-index=\\\"1010\\\"\\n            class=\\\"md-fling\\\"\\n            localize>\\n            __MSG_createEmptyCourseTooltip__\\n          </md-tooltip>\\n          <md-icon>build</md-icon>\\n        </md-button>\\n      </md-fab-actions>\\n    </md-fab-speed-dial>\\n  </div>\\n  <div\\n    hint\\n    class=\\\"sb-hint\\\"\\n    data-cookie-name=\\\"teacher-course-management-hint\\\">\\n    <div class=\\\"sb-hint-scrollable\\\">\\n      <p\\n        class=\\\"sb-hint-text\\\"\\n        localize>\\n        __MSG_teacherManagementHintContent__\\n      </p>\\n      <p class=\\\"sb-hint-close\\\">\\n        <button\\n          class=\\\"sb-btn-no-background\\n                       md-primary\\n                       sb-hint-close\\\"\\n          localize>\\n          __MSG_acceptHint__\\n        </button>\\n      </p>\\n    </div>\\n  </div>\\n</right-view-container>\\n\";","export default \"<div\\n  class=\\\"curriculum-library-dialog--content\\\"\\n  layout=\\\"column\\\"\\n  layout-align=\\\"start start\\\"\\n  ng-if=\\\"$ctrl.libraryCurriculums.private.length !== 0 ||\\n         $ctrl.libraryCurriculums.public.length !== 0 ||\\n         $ctrl.libraryCurriculums.shared.length !== 0\\\">\\n    <span\\n      class=\\\"curriculum-library-dialog--content--title\\\"\\n      localize>\\n      __MSG_myPrivateCurriculums__\\n    </span>\\n\\n  <md-list\\n    flex\\n    class=\\\"sb-list\\n               sb-panel-shadow\\\">\\n    <md-list-item\\n      layout=\\\"row\\\"\\n      layout-align=\\\"space-between center\\\"\\n      ng-repeat=\\\"curriculum in $ctrl.libraryCurriculums.private track by curriculum.id\\\"\\n      ng-click=\\\"$ctrl.openCurriculumDetails(curriculum)\\\">\\n      <div\\n        flex\\n        class=\\\"curriculum-library-dialog--content--item-text\\n                   sb-list-truncate\\\">\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-main\\\">\\n                        {{ curriculum.name }}\\n                    </span>\\n        </p>\\n\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-regular\\\">\\n                        Id: {{curriculum.course.code || 'N/A'}}\\n                    </span>\\n        </p>\\n\\n        <p\\n          layout=\\\"row\\\"\\n          layout-align=\\\"start center\\\">\\n                    <span localize\\n                          flex=\\\"none\\\"\\n                          class=\\\"sb-list-item-regular\\\">\\n                        __MSG_educationalStageLabel__\\n                    </span>\\n          <span class=\\\"sb-list-item-subname\\\"\\n                flex=\\\"grow\\\">\\n                        :&nbsp;{{ curriculum.educational_stage.name }}\\n                    </span>\\n        </p>\\n      </div>\\n\\n      <md-menu>\\n        <md-button\\n          class=\\\"md-icon-button\\\"\\n          ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.addCurriculumToClassroom(curriculum)\\\"\\n              localize>\\n              __MSG_addCurriculumToClassroom__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showEditCurriculumDialog(curriculum, 'private')\\\"\\n              localize>\\n              __MSG_editCourse__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPublicInMySchoolDialog(curriculum, 'private')\\\"\\n              localize>\\n              __MSG_makeCurriculumPublic__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPublicToAllStudyBeeUsersDialog(curriculum, 'private')\\\"\\n              localize>\\n              __MSG_makeCurriculumPublicForAll__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.removeCurriculumFromLibrary(curriculum, 'private')\\\"\\n              localize>\\n              __MSG_deleteCurriculum__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </md-list-item>\\n  </md-list>\\n\\n  <span\\n    class=\\\"curriculum-library-dialog--content--title\\\"\\n    localize>\\n      __MSG_myPublicCurriculums__\\n    </span>\\n\\n  <md-list\\n    flex\\n    class=\\\"sb-list sb-panel-shadow\\\">\\n    <md-list-item\\n      layout=\\\"row\\\"\\n      layout-align=\\\"space-between center\\\"\\n      ng-repeat=\\\"curriculum in $ctrl.libraryCurriculums.public track by curriculum.id\\\"\\n      ng-click=\\\"$ctrl.openCurriculumDetails(curriculum)\\\">\\n      <div\\n        flex\\n        class=\\\"curriculum-library-dialog--content--item-text\\n                       sb-list-truncate\\\">\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-main\\\">\\n                        {{ curriculum.name }}\\n                    </span>\\n        </p>\\n\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-regular\\\">\\n                        Id: {{curriculum.course.code || 'N/A'}}\\n                    </span>\\n        </p>\\n\\n        <p\\n          layout=\\\"row\\\"\\n          layout-align=\\\"start center\\\">\\n                    <span localize\\n                          flex=\\\"none\\\"\\n                          class=\\\"sb-list-item-regular\\\">\\n                        __MSG_educationalStageLabel__\\n                    </span>\\n          <span class=\\\"sb-list-item-subname\\\"\\n                flex=\\\"grow\\\">\\n                        :&nbsp;{{ curriculum.educational_stage.name }}\\n                    </span>\\n        </p>\\n      </div>\\n\\n      <md-menu>\\n        <md-button\\n          class=\\\"md-icon-button\\\"\\n          ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.addCurriculumToClassroom(curriculum)\\\"\\n              localize>\\n              __MSG_addCurriculumToClassroom__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showEditCurriculumDialog(curriculum, 'public')\\\"\\n              localize>\\n              __MSG_editCourse__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPrivateDialog(curriculum, 'public')\\\"\\n              localize>\\n              __MSG_makeCurriculumPrivate__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPublicToAllStudyBeeUsersDialog(curriculum, 'public')\\\"\\n              localize>\\n              __MSG_makeCurriculumPublicForAll__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.removeCurriculumFromLibrary(curriculum, 'public')\\\"\\n              localize>\\n              __MSG_deleteCurriculum__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </md-list-item>\\n  </md-list>\\n\\n  <span\\n    class=\\\"curriculum-library-dialog--content--title\\\"\\n    localize>\\n      __MSG_mySharedStudyBeeCurriculums__\\n    </span>\\n\\n  <md-list\\n    flex\\n    class=\\\"sb-list sb-panel-shadow\\\">\\n    <md-list-item\\n      layout=\\\"row\\\"\\n      layout-align=\\\"space-between center\\\"\\n      ng-repeat=\\\"curriculum in $ctrl.libraryCurriculums.shared track by curriculum.id\\\"\\n      ng-click=\\\"$ctrl.openCurriculumDetails(curriculum)\\\">\\n      <div\\n        flex\\n        class=\\\"curriculum-library-dialog--content--item-text\\n                       sb-list-truncate\\\">\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-main\\\">\\n                        {{ curriculum.name }}\\n                    </span>\\n        </p>\\n\\n        <p class=\\\"sb-list-truncate\\\">\\n                    <span class=\\\"sb-list-item-regular\\\">\\n                        Id: {{curriculum.course.code || 'N/A'}}\\n                    </span>\\n        </p>\\n\\n        <p\\n          layout=\\\"row\\\"\\n          layout-align=\\\"start center\\\">\\n                    <span localize\\n                          flex=\\\"none\\\"\\n                          class=\\\"sb-list-item-regular\\\">\\n                        __MSG_educationalStageLabel__\\n                    </span>\\n          <span class=\\\"sb-list-item-subname\\\"\\n                flex=\\\"grow\\\">\\n                        :&nbsp;{{ curriculum.educational_stage.name }}\\n                    </span>\\n        </p>\\n      </div>\\n\\n      <md-menu>\\n        <md-button\\n          class=\\\"md-icon-button\\\"\\n          ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.addCurriculumToClassroom(curriculum, 'shared')\\\"\\n              localize>\\n              __MSG_addCurriculumToClassroom__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showEditCurriculumDialog(curriculum, 'shared')\\\"\\n              localize>\\n              __MSG_editCourse__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPrivateDialog(curriculum, 'shared')\\\"\\n              localize>\\n              __MSG_makeCurriculumPrivate__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.showMakeCurriculumPublicInMySchoolDialog(curriculum, 'shared')\\\"\\n              localize>\\n              __MSG_makeCurriculumPublic__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-item>\\n            <md-button\\n              ng-click=\\\"$ctrl.removeCurriculumFromLibrary(curriculum, 'shared')\\\"\\n              localize>\\n              __MSG_deleteCurriculum__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </md-list-item>\\n  </md-list>\\n</div>\\n\\n<div\\n  class=\\\"curriculum-library-dialog--no-content\\\"\\n  ng-if=\\\"$ctrl.libraryCurriculums.private.length === 0 &&\\n         $ctrl.libraryCurriculums.public.length === 0 &&\\n         $ctrl.libraryCurriculums.shared.length === 0\\\"\\n  layout=\\\"column\\\"\\n  layout-align=\\\"center center\\\">\\n  <div class=\\\"sb-ico\\n                sb-ico__course\\n                sb-ico__big\\\"></div>\\n  <div\\n    class=\\\"curriculum-library-dialog--no-content--text\\\"\\n    localize>\\n    __MSG_noCurriculumsInLibrary__\\n  </div>\\n</div>\\n\";","export default \"<extended-view-container hide-toolbar=\\\"$ctrl.hideToolbar\\\">\\n  <toolbar flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n    <md-button class=\\\"md-icon-button\\\">\\n      <md-icon class=\\\"material-icons\\\"\\n               ng-click=\\\"$ctrl.closeCourseView()\\\">close\\n      </md-icon>\\n    </md-button>\\n\\n    <div class=\\\"md-menu-wrapper\\\">\\n      <md-menu flex=\\\"nogrow\\\">\\n        <md-button class=\\\"md-icon-button\\\"\\n                   ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.addNewObjective()\\\"\\n                       localize>\\n              __MSG_addNewObjective__\\n            </md-button>\\n          </md-menu-item>\\n\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.openSaveCourseToLibraryDialog()\\\"\\n                       localize>\\n              __MSG_saveToMyCurriculumLibrary__\\n            </md-button>\\n          </md-menu-item>\\n\\n          <!--\\n              for now this is the only way how we can check whether it's possible to\\n              edit the course name or not\\n          -->\\n          <md-menu-item ng-if=\\\"$ctrl.course.type === 0\\\">\\n            <md-button ng-click=\\\"$ctrl.openEditCourseDialog()\\\"\\n                       localize>\\n              __MSG_editCourse__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </div>\\n  </toolbar>\\n\\n  <extended-view-top-whiteframe>\\n    <div flex\\n         layout=\\\"row\\\">\\n      <div class=\\\"sb-photo-placeholder layout-align-center-center layout-row\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center center\\\">\\n        <md-icon class=\\\"sb-icon__big sb-icon__class material-icons\\\"\\n                 role=\\\"img\\\"\\n                 aria-label=\\\"class\\\">\\n          class\\n        </md-icon>\\n      </div>\\n      <div flex-auto\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start start\\\">\\n\\n        <long-text-tooltip text=\\\"$ctrl.course.name\\\">\\n                    <span class=\\\"md-display-1 cm-heading\\\">\\n                            {{ $ctrl.curriculum.name }}\\n                    </span>\\n        </long-text-tooltip>\\n\\n        <span class=\\\"cm-course-code\\\">{{ $ctrl.course.code }}</span>\\n        <span class=\\\"cm-rubric-name\\\">{{ $ctr.course.rubric }}</span>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"sb-course-assessment__course-grade cm-course-assesment__course-grade\\\"\\n         layout=\\\"row\\\">\\n      <div class=\\\"md-body-2 sb-subheading sb-course-assessment__meta-heading\\\"\\n           flex=\\\"35\\\"\\n           localize>\\n        __MSG_courseDetailsLabel__\\n      </div>\\n\\n      <div class=\\\"sb-course-assessment__meta cm-course-grades\\\"\\n           flex=\\\"65\\\">\\n        <div layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n\\n          <object-details-toggle object=\\\"$ctrl.course\\\"\\n                                 on-details-toggle=\\\"$root.toggleObject($ctrl.course)\\\">\\n          </object-details-toggle>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <course-definition-details class=\\\"course-definition-details\\\"\\n                               ng-if=\\\"$ctrl.course.open\\\"\\n                               course=\\\"$ctrl.course\\\"\\n                               on-update=\\\"$ctrl.update(course)\\\">\\n    </course-definition-details>\\n\\n  </extended-view-top-whiteframe>\\n\\n  <div ui-view=\\\"details\\\"></div>\\n\\n  <div ng-transclude></div>\\n\\n</extended-view-container>\\n\\n<saving-indicator></saving-indicator>\\n\";","export default \"<div flex\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start center\\\">\\n  <md-subheader class=\\\"md-no-sticky sb-subheading help-button\\\"\\n                localize>\\n    __MSG_learnignObjectivesLabel__\\n  </md-subheader>\\n<!--  <help-button class=\\\"black\\\"-->\\n<!--               link=\\\"teacherCurriculumsContentHelpButtonUrl\\\"></help-button>-->\\n</div>\\n\\n<cm-teacher-objectives-toolbar class=\\\"sb-panel-shadow\\\">\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open($event)\\\">\\n      <md-icon>more_vert</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"course-management\\\">\\n      <md-menu-label>{{ ::'teacherCurriculumObjectivesToolbarMenuLabel' | localize }}</md-menu-label>\\n      <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.toolbarMenuItems track by toolbarMenuItem.id\\\">\\n        <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n          <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n          {{ ::toolbarMenuItem.label | localize }}\\n        </md-button>\\n      </md-menu-item>\\n    </md-menu-content>\\n  </md-menu>\\n</cm-teacher-objectives-toolbar>\\n\\n<cm-teacher-objectives-list course=\\\"::$ctrl.course\\\"\\n                            view=\\\"$ctrl.view\\\"></cm-teacher-objectives-list>\\n\";","export default \"<accordion class=\\\"sb-panel-shadow\\\"\\n           ng-if=\\\"$ctrl.objectives.length\\\"\\n           ng-repeat=\\\"objective in $ctrl.objectives track by objective.id\\\"\\n           open=\\\"objective.$open\\\">\\n  <accordion-header>\\n    <div ng-if=\\\"$ctrl.listViewType.DESCRIPTION_ONLY === $ctrl.view\\\">\\n      <span class=\\\"description\\\"\\n            ng-bind-html=\\\"objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n    </div>\\n    <div ng-if=\\\"$ctrl.listViewType.TITLE_AND_DESCRIPTION === $ctrl.view\\\">\\n      {{ objective.name }}\\n      <span class=\\\"description\\\"\\n            ng-bind-html=\\\"objective.description | getFormattedOrEmpty\\\">\\n      </span>\\n    </div>\\n    <div ng-if=\\\"$ctrl.listViewType.TITLE_ONLY === $ctrl.view\\\">\\n      {{ objective.name }}\\n    </div>\\n    <accordion-header-menu>\\n      <md-menu>\\n        <md-button class=\\\"md-icon-button\\\"\\n                   ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.onClickDelete(objective)\\\">\\n              {{ ::'deleteObjectiveOption' | localize }}\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </accordion-header-menu>\\n  </accordion-header>\\n  <cm-objective-details objective=\\\"::objective\\\"\\n                        course=\\\"::$ctrl.course\\\">\\n  </cm-objective-details>\\n  <accordion-footer>\\n    <div flex=\\\"100\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n      <md-button class=\\\"sb-button\\\"\\n                 ng-click=\\\"objective.$open = false\\\"\\n                 localize>\\n        __MSG_closeBtn__\\n      </md-button>\\n    </div>\\n  </accordion-footer>\\n</accordion>\\n<cm-empty-objectives-list ng-if=\\\"!$ctrl.objectives.length\\\"></cm-empty-objectives-list>\\n\";","export default \"<div class=\\\"content\\\" ng-transclude></div>\\n\";","export default \"<div\\n    ng-if=\\\"$ctrl.curriculums.length === 0\\\"\\n    flex\\n    layout=\\\"column\\\"\\n    layout-align=\\\"center center\\\"\\n    class=\\\"sb-cm-no-courses-container\\\">\\n    <i class=\\\"material-icons\\n              sb-cm-no-courses-icon\\\">\\n              class\\n    </i>\\n    <span\\n        localize\\n        class=\\\"sb-cm-no-courses-label\\\">\\n        __MSG_noCoursesInClassroomPage__\\n    </span>\\n</div>\\n\\n<md-list\\n    flex\\n    class=\\\"sb-list\\\"\\n    ng-if=\\\"$ctrl.curriculums.length > 0\\\">\\n\\n    <md-list-item\\n        layout=\\\"row\\\"\\n        layout-align=\\\"space-between center\\\"\\n        class=\\\"cm-courses-list__container\\n               sb-border-bottom\\\"\\n        ng-repeat=\\\"curriculum in $ctrl.curriculums track by curriculum.id\\\"\\n        ng-class=\\\"{'course-active': curriculum.id === $ctrl.selectedCurriculum.id }\\\"\\n        ng-click=\\\"$ctrl.navigateToCourseDetails(curriculum)\\\">\\n        <div\\n            flex\\n            class=\\\"sb-list-item\\n                   cm-courses-list\\\"\\n            layout=\\\"column\\\"\\n            layout-align=\\\"center start\\\">\\n            <!-- here this is always a course.name property -->\\n          <long-text-tooltip text=\\\"course.name\\\">\\n            <span class=\\\"cm-courses-list__course-name\\\">\\n                {{ curriculum.name }}\\n            </span>\\n          </long-text-tooltip>\\n\\n            <!-- show code if course code available -->\\n          <long-text-tooltip text=\\\"course.code\\\" ng-if=\\\"curriculum.code\\\">\\n            <span class=\\\"cm-courses-list__sub-info cm-courses-list__sub-info--first\\\">\\n                {{ curriculum.code }}\\n            </span>\\n          </long-text-tooltip>\\n        </div>\\n\\n        <md-menu md-offset=\\\"0 -80\\\">\\n            <md-button\\n                class=\\\"md-icon-button\\\"\\n                ng-click=\\\"$mdMenu.open($event)\\\"\\n                localize>\\n                <md-icon>more_vert</md-icon>\\n            </md-button>\\n\\n            <md-menu-content width=\\\"3\\\">\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"$ctrl.openSaveCourseToLibraryDialog(curriculum)\\\"\\n                        localize>\\n                        __MSG_saveToMyCurriculumLibrary__\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <!--\\n                    for now this is the only way how we can check whether it's possible to\\n                    edit the course name or not\\n                -->\\n                <md-menu-item\\n                    ng-if=\\\"course.type === 0\\\">\\n                    <md-button\\n                        ng-click=\\\"$ctrl.openEditCourseDialog(curriculum)\\\"\\n                        localize>\\n                        __MSG_editCourse__\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"$ctrl.deleteCourse(curriculum)\\\"\\n                        localize>\\n                        __MSG_deleteThisCourse__\\n                    </md-button>\\n                </md-menu-item>\\n            </md-menu-content>\\n        </md-menu>\\n    </md-list-item>\\n</md-list>\\n\";","export default \"<div class=\\\"md-no-sticky sb-subheading emptyList md-subheader _md\\\"\\n     role=\\\"heading\\\"\\n     aria-level=\\\"2\\\">\\n  <div class=\\\"md-subheader-inner\\\">\\n    <div class=\\\"md-subheader-content\\\"\\n         localize>\\n      __MSG_curriculumObjectivesListIsEmpty__\\n    </div>\\n  </div>\\n</div>\\n\";","export default \"<md-input-container class=\\\"md-block\\\">\\n  <label>{{ $ctrl.label | localize}}</label>\\n  <textarea md-detect-hidden=\\\"true\\\"\\n            ng-model=\\\"$ctrl.ngModel.$viewValue\\\"\\n            ng-change=\\\"$ctrl.ngModel.$setViewValue($ctrl.ngModel.$viewValue)\\\"\\n            ng-readonly=\\\"$ctrl.readonly\\\"\\n            ng-disabled=\\\"$ctrl.readonly\\\">\\n      </textarea>\\n  <md-icon ng-if=\\\"!$ctrl.isPublished\\\">visibility_off</md-icon>\\n</md-input-container>\\n\";","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { StudentAssessAssignmentRouting } from './studentAssessAssignment.routing';\n\nexport const StudentAssessAssignmentModule: IModule = angular\n  .module('app.assignments.studentAssessAssignment', [uiRouter])\n  .config(StudentAssessAssignmentRouting);\n\nexport default StudentAssessAssignmentModule.name;\nexport * from './studentAssessAssignment.component';\n","export default \"<div layout=\\\"column\\\"\\n     layout-fill>\\n  <md-toolbar class=\\\"sb-toolbar\\\"\\n              flex=\\\"nogrow\\\">\\n    <div class=\\\"md-toolbar-tools\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"start center\\\">\\n\\n      <menu-toggle ng-if=\\\"!$ctrl.isModal\\\"></menu-toggle>\\n\\n      <md-button class=\\\"md-icon-button\\\"\\n                 aria-label=\\\"__MSG_goBackBtn__\\\"\\n                 ng-click=\\\"$ctrl.historyBack()\\\"\\n                 ng-if=\\\"$ctrl.isModal\\\"\\n                 localize>\\n        <md-icon>\\n          arrow_back\\n        </md-icon>\\n      </md-button>\\n\\n      <div flex\\n           layout=\\\"column\\\"\\n           layout-align=\\\"center start\\\">\\n        <p class=\\\"sb-toolbar-page-name\\\"\\n           localize>\\n          <span>{{:: $ctrl.isAssignmentConfigure() ? 'assessedPage' : 'notAssessedPage' | localize}}</span>\\n        </p>\\n        <p class=\\\"sb-toolbar-title\\\">{{ ::$ctrl.assignment.assignment_title }}</p>\\n      </div>\\n<!--      <help-button link=\\\"studentAssignmentAssessmentsHelpButtonUrl\\\"></help-button>-->\\n      <md-menu ng-show=\\\"::$ctrl.isAssignmentConfigure()\\\">\\n        <md-button class=\\\"md-icon-button\\\"\\n                   aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n                   ng-click=\\\"$mdMenu.open($event)\\\"\\n                   localize>\\n          <md-icon>\\n            more_vert\\n          </md-icon>\\n        </md-button>\\n\\n        <md-menu-content class=\\\"assignment\\\">\\n          <md-menu-label>\\n            {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n          </md-menu-label>\\n          <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.viewMenuItems track by toolbarMenuItem.id\\\">\\n            <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n              <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n              {{ ::toolbarMenuItem.label | localize }}\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-label ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n            {{ ::'teacherAssignmentToolbarMenuGradeTextLabel' | localize }}\\n          </md-menu-label>\\n          <md-menu-item ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n            <md-button ng-click=\\\"$ctrl.showGradeDescription()\\\">\\n              <md-icon ng-visible=\\\"$ctrl.isGradeDescriptionVisible\\\">check</md-icon>\\n              {{ ::'teacherAssignmentToolbarMenuItemShowGradeTextLabel' | localize }}\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n            <md-button ng-click=\\\"$ctrl.hideGradeDescription()\\\">\\n              <md-icon ng-visible=\\\"!$ctrl.isGradeDescriptionVisible\\\">check</md-icon>\\n              {{ ::'teacherAssignmentToolbarMenuItemHideGradeTextLabel' | localize }}\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </div>\\n  </md-toolbar>\\n\\n  <loader></loader>\\n\\n\\n  <div class=\\\"sb-hidden-x-scroll secondary-bg\\\"\\n       ng-show=\\\"::$ctrl.isAssignmentConfigure()\\\">\\n    <md-subheader aria-label=\\\"__MSG_overallResultHeaderStudent__\\\"\\n                  class=\\\"course-name\\\"\\n                  localize\\n                  ng-hide=\\\"!$ctrl.assignment.result_published && !$ctrl.assignment.feedback_published\\\"\\n                  >__MSG_overallResultHeaderStudent__\\n    </md-subheader>\\n      <md-card class=\\\"content overall\\\"\\n           ng-show=\\\"::$ctrl.isAssignmentConfigure()\\\"\\n            ng-hide=\\\"!$ctrl.assignment.result_published && !$ctrl.assignment.feedback_published\\\">\\n        <student-assignment-textarea label=\\\"'resultsInput'\\\"\\n                                     is-published=\\\"$ctrl.assignment.result_published\\\"\\n                                     ng-model=\\\"$ctrl.assignment.result\\\"\\n                                     ng-hide=\\\"!$ctrl.assignment.result_published\\\"\\n                                     readonly>\\n        </student-assignment-textarea>\\n        <student-assignment-textarea label=\\\"::$ctrl.assignment.feedback_published ? 'overallFeedbackInput' : 'invisibleOverallFeedbackInput'\\\"\\n                                     is-published=\\\"$ctrl.assignment.feedback_published\\\"\\n                                     ng-model=\\\"$ctrl.assignment.feedback\\\"\\n                                     ng-hide=\\\"!$ctrl.assignment.feedback_published\\\"\\n                                     readonly>\\n        </student-assignment-textarea>\\n      </md-card>\\n\\n    <section class=\\\"course-definition\\\"\\n             ng-repeat=\\\"courseDefinition in ::$ctrl.assignment.course_definitions track by courseDefinition.id\\\">\\n      <md-subheader class=\\\"md-no-sticky course-name\\\">{{ ::courseDefinition.name }}</md-subheader>\\n      <section ng-repeat=\\\"objective in ::courseDefinition.objectives track by objective.id\\\">\\n        <md-card class=\\\"content objective\\\">\\n          <header>\\n          <div class=\\\"grade-info-wrapper\\\"\\n               objective-id-path=\\\"objective\\\"\\n               objective-knowledge-requirements>\\n              <h1>{{ ::objective.name }}</h1>\\n          </div>\\n          <h4 ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n              ng-if=\\\"$ctrl.isDescriptionVisible(objective.description)\\\"></h4>\\n        </header>\\n\\n        <div class=\\\"grade\\\"\\n             ng-hide=\\\"::!objective.objective_assessments.grade_published\\\"\\n             ng-class=\\\"::{\\n             slider: !objective.objective_assessments.grade_system_is_counter,\\n             counter: objective.objective_assessments.grade_system_is_counter,\\n             'not-published': !objective.objective_assessments.grade_published\\n             }\\\">\\n          <single-slider class=\\\"sb-nouislider flex\\\"\\n                         grade-system=\\\"$ctrl.assignment.grade_system\\\"\\n                         auto-width=\\\"true\\\"\\n                         ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n                         ng-update=\\\"$ctrl.updateDescription(event, objective)\\\"\\n                         ng-if=\\\"::!objective.objective_assessments.grade_system_is_counter\\\"\\n                         data-disabled=\\\"true\\\">\\n          </single-slider>\\n\\n          <counters class=\\\"counters\\\"\\n                    grade-system=\\\"$ctrl.assignment.grade_system\\\"\\n                    ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n                    assignment=\\\"objective.objective_assessments\\\"\\n                    ng-if=\\\"::objective.objective_assessments.grade_system_is_counter\\\"\\n                    data-disabled=\\\"true\\\">\\n          </counters>\\n\\n          <md-icon ng-hide=\\\"::objective.objective_assessments.grade_published\\\">\\n            visibility_off\\n          </md-icon>\\n\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"$ctrl.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n        <div class=\\\"notes\\\">\\n          <student-assignment-textarea label=\\\"::objective.objective_assessments.feedback_published ? 'objectiveFeedbackInput' : 'invisibleObjectiveFeedbackInput'\\\"\\n                                       is-published=\\\"objective.objective_assessments.feedback_published\\\"\\n                                       ng-model=\\\"objective.objective_assessments.feedback\\\"\\n                                       ng-hide=\\\"::!objective.objective_assessments.grade_published\\\"\\n                                       readonly>\\n          </student-assignment-textarea>\\n          <student-assignment-textarea label=\\\"'teacherSelfAssessmentLabel'\\\"\\n                                       ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n                                       ng-model-options='{ debounce: 1000 }'\\n                                       mixpanel-text-event=\\\"student_self_assessment_on_objective\\\"\\n                                       ng-change=\\\"$ctrl.updateObjectiveAssessmentProperty(objective, $ctrl.assignment)\\\">\\n          </student-assignment-textarea>\\n        </div>\\n        </md-card>\\n      </section>\\n    </section>\\n  </div>\\n  <md-card>\\n  <md-content flex\\n              class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\"\\n              ng-hide=\\\"::$ctrl.isAssignmentConfigure()\\\">\\n    <div layout-padding>\\n      <p flex\\n         class=\\\"sb-parent-item-name\\\"\\n         localize>__MSG_objectivesText__</p>\\n      <p class=\\\"sb-child-item-name\\\"\\n         localize>__MSG_noObjectivesForAssignment__</p>\\n    </div>\\n  </md-content>\\n  </md-card>\\n</div>\\n\\n<knowledge-requirements trigger=\\\"$ctrl.triggerKnowledgeRequirements\\\"\\n                        objective-id=\\\"$ctrl.objectiveKnowledgeRequirements.id\\\">\\n</knowledge-requirements>\\n\";","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport { StudentAssessAssignmentDriveRouting } from './studentAssessAssignmentDrive.routing';\n\nexport const StudentAssessAssignmentDriveModule: IModule = angular\n  .module('app.assignments.StudentAssessAssignmentDrive', [uiRouter])\n  .config(StudentAssessAssignmentDriveRouting);\n\nexport default StudentAssessAssignmentDriveModule.name;\nexport * from './studentAssessAssignmentDrive.component';\n","export default \"<div layout=\\\"column\\\"\\n     layout-fill>\\n  <md-toolbar class=\\\"sb-toolbar\\\"\\n              flex=\\\"nogrow\\\">\\n    <div class=\\\"md-toolbar-tools\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"start center\\\">\\n\\n      <div flex\\n           layout=\\\"column\\\"\\n           layout-align=\\\"center start\\\">\\n        <p class=\\\"sb-toolbar-page-name\\\"\\n           localize>\\n          <span>{{ $ctrl.isSelectedAssignmentConfigure() ? 'assessedPage' : 'notAssessedPage' | localize}}</span>\\n        </p>\\n\\n        <md-input-container\\n          class=\\\"sb-toolbar-select sb-select-toolbar-20 sb-select-toolbar-up\\\">\\n          <md-select\\n            aria-label=\\\"__MSG_assignmentSelected__\\\"\\n            ng-model=\\\"$ctrl.assignmentSelected\\\"\\n            ng-model-options=\\\"{ trackBy: '$value.id' }\\\"\\n            localize>\\n            <md-option ng-value=\\\"assignment\\\"\\n                       ng-repeat=\\\"assignment in $ctrl.assignments\\\">\\n              {{ ::assignment.assignment_title }}\\n            </md-option>\\n          </md-select>\\n        </md-input-container>\\n      </div>\\n      <div class=\\\"white-space-no-wrap\\\"\\n           flex=\\\"nogrow\\\"\\n           align=\\\"row\\\"\\n           layout-align=\\\"end center\\\">\\n<!--        <help-button link=\\\"studentAssignmentsDriveSingleStudentEditHeaderHelpButtonUrl\\\"></help-button>-->\\n        <md-menu ng-show=\\\"::$ctrl.isSelectedAssignmentConfigure()\\\">\\n          <md-button\\n            aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n            class=\\\"md-icon-button\\\"\\n            ng-click=\\\"$mdMenu.open($event)\\\"\\n            localize>\\n            <md-icon>\\n              more_vert\\n            </md-icon>\\n          </md-button>\\n\\n          <md-menu-content class=\\\"assignment\\\">\\n            <md-menu-label>\\n              {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n            </md-menu-label>\\n            <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.viewMenuItems track by toolbarMenuItem.id\\\">\\n              <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n                <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n                {{ ::toolbarMenuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n            <md-menu-label ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n              {{ ::'teacherAssignmentToolbarMenuGradeTextLabel' | localize }}\\n            </md-menu-label>\\n            <md-menu-item ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n              <md-button ng-click=\\\"$ctrl.showGradeDescription()\\\">\\n                <md-icon ng-visible=\\\"$ctrl.isGradeDescriptionVisible\\\">check</md-icon>\\n                {{ ::'teacherAssignmentToolbarMenuItemShowGradeTextLabel' | localize }}\\n              </md-button>\\n            </md-menu-item>\\n            <md-menu-item ng-show=\\\"::$ctrl.isGradeDescriptionEnable\\\">\\n              <md-button ng-click=\\\"$ctrl.hideGradeDescription()\\\">\\n                <md-icon ng-visible=\\\"!$ctrl.isGradeDescriptionVisible\\\">check</md-icon>\\n                {{ ::'teacherAssignmentToolbarMenuItemHideGradeTextLabel' | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n    </div>\\n  </md-toolbar>\\n\\n  <loader></loader>\\n\\n  <div class=\\\"content overall\\\"\\n       ng-show=\\\"::$ctrl.isSelectedAssignmentConfigure()\\\">\\n    <student-assignment-textarea label=\\\"'resultsInput'\\\"\\n                                 is-published=\\\"$ctrl.assignmentSelected.result_published\\\"\\n                                 ng-model=\\\"$ctrl.assignmentSelected.result\\\"\\n                                 readonly>\\n    </student-assignment-textarea>\\n    <student-assignment-textarea label=\\\"::$ctrl.assignmentSelected.feedback_published ? 'overallFeedbackInput' : 'invisibleOverallFeedbackInput'\\\"\\n                                 is-published=\\\"$ctrl.assignmentSelected.feedback_published\\\"\\n                                 ng-model=\\\"$ctrl.assignmentSelected.feedback\\\"\\n                                 readonly>\\n    </student-assignment-textarea>\\n  </div>\\n  <div class=\\\"content sb-hidden-x-scroll\\\"\\n       ng-show=\\\"::$ctrl.isSelectedAssignmentConfigure()\\\">\\n    <section class=\\\"course-definition\\\"\\n             ng-repeat=\\\"courseDefinition in ::$ctrl.assignmentSelected.course_definitions track by courseDefinition.id\\\">\\n      <header>\\n        <long-text-tooltip text=\\\"::courseDefinition.name\\\">\\n          <h1>{{ ::courseDefinition.name }}</h1>\\n        </long-text-tooltip>\\n        <long-text-tooltip text=\\\"::courseDefinition.code\\\">\\n          <h1>{{ ::courseDefinition.code }}</h1>\\n        </long-text-tooltip>\\n      </header>\\n      <section class=\\\"objective\\\"\\n               ng-repeat=\\\"objective in ::courseDefinition.objectives track by objective.id\\\">\\n        <header>\\n          <div class=\\\"grade-info-wrapper\\\"\\n               objective-id-path=\\\"objective\\\"\\n               objective-knowledge-requirements>\\n            <long-text-tooltip text=\\\"::objective.name\\\"\\n                               ng-if=\\\"$ctrl.isTitleVisible(objective.name)\\\">\\n              <h1>{{ ::objective.name }}</h1>\\n            </long-text-tooltip>\\n\\n          </div>\\n          <h4 ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n              ng-if=\\\"$ctrl.isDescriptionVisible(objective.description)\\\"></h4>\\n        </header>\\n        <div class=\\\"grade\\\"\\n             ng-class=\\\"::{\\n             slider: !objective.objective_assessments.grade_system_is_counter,\\n             counter: objective.objective_assessments.grade_system_is_counter,\\n             'not-published': !objective.objective_assessments.grade_published\\n             }\\\">\\n          <single-slider class=\\\"sb-nouislider flex\\\"\\n                         grade-system=\\\"$ctrl.assignmentSelected.grade_system\\\"\\n                         auto-width=\\\"true\\\"\\n                         ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n                         ng-update=\\\"$ctrl.updateDescription(event, objective)\\\"\\n                         ng-if=\\\"::!objective.objective_assessments.grade_system_is_counter\\\"\\n                         data-disabled=\\\"true\\\">\\n          </single-slider>\\n\\n          <counters class=\\\"counters\\\"\\n                    grade-system=\\\"$ctrl.assignmentSelected.grade_system\\\"\\n                    ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n                    assignment=\\\"objective.objective_assessments\\\"\\n                    ng-if=\\\"::objective.objective_assessments.grade_system_is_counter\\\"\\n                    data-disabled=\\\"true\\\">\\n          </counters>\\n\\n          <md-icon ng-hide=\\\"::objective.objective_assessments.grade_published\\\">\\n            visibility_off\\n          </md-icon>\\n\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"$ctrl.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n        <div class=\\\"notes\\\">\\n          <student-assignment-textarea label=\\\"::objective.objective_assessments.feedback_published ? 'objectiveFeedbackInput' : 'invisibleObjectiveFeedbackInput'\\\"\\n                                       is-published=\\\"objective.objective_assessments.feedback_published\\\"\\n                                       ng-model=\\\"objective.objective_assessments.feedback\\\"\\n                                       readonly>\\n          </student-assignment-textarea>\\n          <student-assignment-textarea label=\\\"'teacherSelfAssessmentLabel'\\\"\\n                                       ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n                                       ng-model-options='{ debounce: 1000 }'\\n                                       ng-change=\\\"$ctrl.updateObjectiveAssessmentProperty(objective, $ctrl.assignmentSelected)\\\">\\n          </student-assignment-textarea>\\n        </div>\\n      </section>\\n    </section>\\n  </div>\\n\\n  <md-content flex\\n              class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\"\\n              ng-hide=\\\"::$ctrl.isSelectedAssignmentConfigure()\\\">\\n    <div layout-padding>\\n      <p flex\\n         class=\\\"sb-parent-item-name\\\"\\n         localize>__MSG_objectivesText__</p>\\n      <p class=\\\"sb-child-item-name\\\"\\n         localize>__MSG_noObjectivesForAssignment__</p>\\n    </div>\\n  </md-content>\\n</div>\\n\\n\\n<knowledge-requirements trigger=\\\"$ctrl.triggerKnowledgeRequirements\\\"\\n                        objective-id=\\\"$ctrl.objectiveKnowledgeRequirements.id\\\">\\n</knowledge-requirements>\\n\";","export default \"<div class=\\\"label\\\"\\n     ng-show=\\\"$ctrl.assignments.length\\\"\\n     ng-bind-html=\\\"::$ctrl.label | localize\\\"></div>\\n<div class=\\\"item\\\"\\n     md-ink-ripple=\\\"#000000\\\"\\n     ng-repeat=\\\"assignment in $ctrl.assignments track by assignment.id\\\"\\n     ng-click=\\\"$ctrl.goToAssignmentDetails(assignment)\\\">\\n  <div class=\\\"tooltip-wrapper\\\">\\n    <md-tooltip md-z-index=\\\"1006\\\"\\n                md-direction=\\\"top\\\"\\n                ng-bind=\\\"::$ctrl.getIconTooltip(assignment)\\\">\\n    </md-tooltip>\\n    <assignment-icon-type assignment=\\\"assignment\\\"></assignment-icon-type>\\n  </div>\\n  <long-text-tooltip text=\\\"::assignment.title\\\">\\n    <div class=\\\"title\\\">{{ ::assignment.assignment_title }}</div>\\n  </long-text-tooltip>\\n  <div class=\\\"toolbar\\\">\\n    <assignment-status-icon status=\\\"assignment.status\\\"></assignment-status-icon>\\n  </div>\\n</div>\\n\";","export default \"<div layout=\\\"column\\\"\\n     layout-fill>\\n<!--  <md-toolbar flex=\\\"nogrow\\\"-->\\n<!--              class=\\\"sb-toolbar\\\">-->\\n\\n    <rapp data=\\\"$root\\\" ctrl=\\\"$ctrl\\\" view=\\\"'assignments'\\\" student=\\\"true\\\"/>\\n<!--    <div-->\\n<!--      layout=\\\"row\\\"-->\\n<!--      layout-align=\\\"start center\\\"-->\\n<!--      class=\\\"md-toolbar-tools\\\">-->\\n<!--      <menu-toggle></menu-toggle>-->\\n\\n<!--      <div flex-->\\n<!--           layout=\\\"column\\\"-->\\n<!--           layout-align=\\\"center start\\\">-->\\n<!--        <p class=\\\"sb-toolbar-title\\\"-->\\n<!--           localize>__MSG_assignmentsPage__</p>-->\\n<!--      </div>-->\\n<!--      <help-button link=\\\"studentAssignmentStreamHelpButtonUrl\\\"></help-button>-->\\n<!--      <md-menu>-->\\n<!--        <md-button class=\\\"md-icon-button\\\"-->\\n<!--                   ng-click=\\\"$mdMenu.open()\\\">-->\\n<!--          <md-tooltip md-z-index=\\\"1016\\\"-->\\n<!--                      md-direction=\\\"bottom\\\"-->\\n<!--                      localize>__MSG_assignmentsActionMenuFilterTooltip__-->\\n<!--          </md-tooltip>-->\\n<!--          <md-icon md-menu-origin>filter_list</md-icon>-->\\n<!--        </md-button>-->\\n<!--        <md-menu-content class=\\\"teacher-assignments-action-menu\\\">-->\\n<!--          <md-menu-label class=\\\"green\\\"-->\\n<!--                         localize>-->\\n<!--            __MSG_assignmentsActionMenuFilterByLabel__-->\\n<!--          </md-menu-label>-->\\n<!--          <md-menu-item ng-repeat=\\\"filter in ::$ctrl.filters track by $index\\\">-->\\n<!--            <md-button class=\\\"checkbox\\\"-->\\n<!--                       ng-click=\\\"$ctrl.filter(filter);\\\"-->\\n<!--                       md-prevent-menu-close>-->\\n<!--              <md-checkbox ng-checked=\\\"$ctrl.isFilterSelected(filter)\\\">-->\\n<!--                {{ ::filter.label | localize }}-->\\n<!--              </md-checkbox>-->\\n<!--            </md-button>-->\\n<!--          </md-menu-item>-->\\n<!--        </md-menu-content>-->\\n<!--      </md-menu>-->\\n<!--      <md-menu>-->\\n<!--        <md-button class=\\\"md-icon-button\\\"-->\\n<!--                   ng-click=\\\"$mdMenu.open()\\\">-->\\n<!--          <md-icon md-menu-origin>sort</md-icon>-->\\n<!--        </md-button>-->\\n<!--        <md-menu-content class=\\\"teacher-assignments-action-menu\\\"-->\\n<!--                         width=\\\"3\\\">-->\\n<!--          <md-menu-label class=\\\"green\\\"-->\\n<!--                         localize>-->\\n<!--            __MSG_assignmentsActionMenuSortByLabel__-->\\n<!--          </md-menu-label>-->\\n<!--          <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.assignmentsSort track by $index\\\">-->\\n<!--            <md-button ng-click=\\\"$ctrl.sortAssignments(sortingItem)\\\"-->\\n<!--                       localize>-->\\n<!--              <md-icon ng-visible=\\\"$ctrl.isAssignmentSortSelected(sortingItem)\\\">check</md-icon>-->\\n<!--              {{ ::sortingItem.label | localize }}-->\\n<!--            </md-button>-->\\n<!--          </md-menu-item>-->\\n<!--        </md-menu-content>-->\\n<!--      </md-menu>-->\\n<!--    </div>-->\\n<!--  </md-toolbar>-->\\n\\n<!--  <loader></loader>-->\\n\\n<!--  <md-content sticky-subheader-->\\n<!--              save-scroll-->\\n<!--              flex>-->\\n<!--    <div ui-view=\\\"assignments\\\"></div>-->\\n<!--  </md-content>-->\\n</div>\\n\";","export default \"<student-assignments-list label=\\\"teacherAssignmentAssessableGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.assessable\\\"></student-assignments-list>\\n<student-assignments-list label=\\\"teacherAssignmentWithoutAssessmentCriteriaGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.not_assessable\\\"></student-assignments-list>\\n\";","export default \"<div class=\\\"sb-pl-16 sb-ptb-8\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start center\\\">\\n  <p class=\\\"sb-list-parent-item\\\"\\n     flex>\\n    <span localize>__MSG_noAssignmentsInThisStatus__</span>\\n  </p>\\n</div>\\n\";","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport angular, { IModule } from 'angular';\n\nexport * from './teacherAssessAssignment.scss';\n\nexport const TeacherAssessAssignmentModule: IModule = angular\n  .module('app.assignments.teacherAssessAssignment', [])\n  .controller('teacherAssessAssignment.MainCtrl', require('./controllers/main.js'));\n\nexport default TeacherAssessAssignmentModule.name;\n\nexport * from './teacherAssessAssignment.service';\n","import angular, { IModule } from 'angular';\nimport uiRouter from '@uirouter/angularjs';\n\nexport * from './teacherAssessAssignmentDrive.scss';\n\nexport const TeacherAssessAssignmentDriveModule: IModule = angular\n  .module('app.assignments.teacherAssessAssignmentDrive', [\n    uiRouter\n  ])\n  .controller('teacherAssessAssignmentDrive.MainCtrl', require('./controllers/main.js'));\nexport default TeacherAssessAssignmentDriveModule.name;\n\nexport * from './teacherAssessAssignmentDrive.service';\n","/**\n * Represents a SingleCheckbox.\n * @constructor\n */\n\nfunction AssignmentSingleCheckbox() {}\n/**\n * Handle click on single checkbox - at the end function trigger checkboxCheckAll\n * @param {Object} singleItem Single item\n * @param {Object} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentSingleCheckbox.prototype.assignmentCheckboxSingle = function(singleItem, allGroups, editMultiple) {\n  singleItem.checked = !singleItem.checked;\n\n  this.assignmentCheckboxCheckAll(allGroups, editMultiple);\n};\n\n/**\n * Handle click on all checkbox which check or uncheck all checkboxes\n * @param {Array} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentSingleCheckbox.prototype.assignmentCheckboxAll = function(allGroups, editMultiple) {\n  editMultiple.checkboxChecked = !editMultiple.checkboxChecked;\n\n  if (editMultiple.checkboxChecked) {\n    allGroups.forEach(function(courseDefinition) {\n      courseDefinition.objectives.forEach(function(objective) {\n        objective.checked = true;\n      });\n    });\n  } else {\n    allGroups.forEach(function(courseDefinition) {\n      courseDefinition.objectives.forEach(function(objective) {\n        objective.checked = false;\n      });\n    });\n  }\n};\n\n/**\n * Check if all checkboxes are checked or unchecked\n * @param {Array} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentSingleCheckbox.prototype.assignmentCheckboxCheckAll = function(allGroups, editMultiple) {\n  var allCheckboxChecked = true;\n\n  allGroups.forEach(function(courseDefinition) {\n    courseDefinition.objectives.forEach(function(objective) {\n      if (!objective.checked) {\n        allCheckboxChecked = false;\n      }\n    });\n  });\n\n  if (allCheckboxChecked) {\n    editMultiple.checkboxChecked = true;\n  } else {\n    editMultiple.checkboxChecked = false;\n  }\n};\n\n/**\n * Check if any checkboxes are checked\n * @param {Array} allGroups List of all groups\n */\nAssignmentSingleCheckbox.prototype.assignmentCheckboxCheckIfAny = function(allGroups) {\n  var anyCheckboxChecked = false;\n\n  for (var i = 0; i < allGroups.length; i++) {\n    anyCheckboxChecked = allGroups[i].objectives.some(function(elem) {\n      return elem.checked === true;\n    });\n\n    if (anyCheckboxChecked) { break; }\n  }\n\n  return anyCheckboxChecked;\n};\n\n/**\n * Clear all checkboxes\n * @param {Array} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentSingleCheckbox.prototype.assignmentClearCheckbox = function(allGroups, editMultiple) {\n  editMultiple.checkboxChecked = false;\n\n  allGroups.forEach(function(courseDefinition) {\n    courseDefinition.objectives.forEach(function(objective) {\n      objective.checked = true;\n    });\n  });\n};\n\nmodule.exports = AssignmentSingleCheckbox;\n","import angular, { IModule } from 'angular';\n\nexport * from './teacherAssessAssignmentStudent.scss';\n\nexport const TeacherAssessAssignmentStudentModule: IModule = angular\n  .module('app.assignments.teacherAssessAssignmentStudent', [])\n  .controller('teacherAssessAssignmentStudent.MainCtrl', require('./controllers/main.js'));\n\nexport default TeacherAssessAssignmentStudentModule.name;\n\nexport * from './teacherAssessAssignmentStudent.service';\n","export default \"<div class=\\\"assessment\\\"\\n     md-ink-ripple=\\\"#000000\\\"\\n     ng-repeat=\\\"assessment in ::$ctrl.assessments track by assessment.id\\\"\\n     ng-click=\\\"$ctrl.goToAssessAssignment(assessment.student_id)\\\">\\n  <student-status-icon student-status=\\\"{{ ::assessment.assessment_status }}\\\"></student-status-icon>\\n  <long-text-tooltip text=\\\"::assessment.student_name\\\">\\n    <div class=\\\"name\\\">{{ ::assessment.student_name }}</div>\\n  </long-text-tooltip>\\n</div>\\n\";","export default \"<div class=\\\"label\\\"\\n     ng-show=\\\"$ctrl.assignments.length\\\"\\n     ng-bind-html=\\\"::$ctrl.label | localize\\\"></div>\\n<div class=\\\"item\\\"\\n     md-ink-ripple=\\\"#000000\\\"\\n     ng-repeat=\\\"assignment in $ctrl.assignments track by assignment.id\\\"\\n     ng-click=\\\"$ctrl.goToEditAssignmentCriteria(assignment)\\\">\\n  <div class=\\\"tooltip-wrapper\\\">\\n    <md-tooltip md-z-index=\\\"1006\\\"\\n                md-direction=\\\"top\\\"\\n                ng-bind=\\\"::$ctrl.getIconTooltip(assignment)\\\">\\n    </md-tooltip>\\n    <assignment-icon-type assignment=\\\"assignment\\\"></assignment-icon-type>\\n  </div>\\n  <long-text-tooltip text=\\\"::assignment.title\\\">\\n    <div class=\\\"title\\\">{{ ::assignment.title }}</div>\\n  </long-text-tooltip>\\n</div>\\n\";","export default \"<div class=\\\"label\\\"\\n     ng-show=\\\"$ctrl.assignments.length\\\"\\n     ng-bind-html=\\\"::$ctrl.label | localize\\\"></div>\\n<div class=\\\"item\\\"\\n     md-ink-ripple=\\\"#000000\\\"\\n     ng-repeat-start=\\\"assignment in $ctrl.assignments track by assignment.id\\\"\\n     ng-click=\\\"$ctrl.goToAssessAssignment(assignment)\\\">\\n  <div class=\\\"tooltip-wrapper\\\">\\n    <md-tooltip md-z-index=\\\"1006\\\"\\n                md-direction=\\\"top\\\"\\n                ng-bind=\\\"::$ctrl.getIconTooltip(assignment)\\\">\\n    </md-tooltip>\\n    <assignment-icon-type assignment=\\\"assignment\\\"></assignment-icon-type>\\n  </div>\\n  <long-text-tooltip text=\\\"::assignment.title\\\">\\n    <div class=\\\"title\\\">{{ ::assignment.title }}</div>\\n  </long-text-tooltip>\\n  <div class=\\\"toolbar\\\"\\n       ng-class=\\\"::{ 'assessable': !assignment.assignment_not_assessable }\\\">\\n    <div class=\\\"assignments-assessable\\\">\\n      <md-button class=\\\"md-icon-button\\\"\\n                 ng-mousedown=\\\"$ctrl.consumeEvent($event)\\\"\\n                 ng-click=\\\"$ctrl.consumeEvent($event); $ctrl.toggleOpen(assignment);\\\"\\n                 ng-class=\\\"{ 'open': assignment.$$open }\\\">\\n        <md-icon>keyboard_arrow_down</md-icon>\\n      </md-button>\\n      <md-menu>\\n        <md-button class=\\\"md-icon-button\\\"\\n                   ng-mousedown=\\\"$ctrl.consumeEvent($event)\\\"\\n                   ng-click=\\\"$mdMenu.open($event)\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.goToChangeVisibility(assignment)\\\">\\n              {{ ::'visibilityBtn' | localize }}\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.goToEditAssignmentCriteria(assignment)\\\">\\n              {{ ::'editAssessmentCriteriaBtn' | localize }}\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </div>\\n    <div class=\\\"assignments-not-assessable\\\">\\n      <md-button class=\\\"md-icon-button\\\"\\n                 ng-mousedown=\\\"$ctrl.consumeEvent($event)\\\"\\n                 ng-click=\\\"$ctrl.consumeEvent($event); $ctrl.goToEditAssignmentCriteria(assignment);\\\">\\n        <md-icon>edit</md-icon>\\n      </md-button>\\n    </div>\\n  </div>\\n</div>\\n<teacher-assessments-list assignment=\\\"::assignment\\\"\\n                          assessments=\\\"::assignment.assessments\\\"\\n                          ng-if=\\\"assignment.$$open\\\"\\n                          ng-repeat-end></teacher-assessments-list>\\n\";","export default \"<!-- <extended-view-container hide-toolbar=\\\"true\\\">>-->\\n<div class=\\\"teacher-assignments\\\"\\n     layout=\\\"column\\\"\\n     layout-fill>\\n\\n        <rapp data=\\\"$root\\\" ctrl=\\\"$ctrl\\\" view=\\\"'assignments'\\\"/>\\n</div>\\n<!--</extended-view-container>-->\\n<!--    <md-toolbar flex=\\\"nogrow\\\"-->\\n<!--                class=\\\"sb-toolbar\\\">-->\\n<!--      <div-->\\n<!--        layout=\\\"row\\\"-->\\n<!--        layout-align=\\\"start center\\\"-->\\n<!--        class=\\\"md-toolbar-tools\\\">-->\\n<!--        <menu-toggle></menu-toggle>-->\\n\\n<!--        <div flex-->\\n<!--             layout=\\\"column\\\"-->\\n<!--             layout-align=\\\"center start\\\">-->\\n<!--          <p class=\\\"sb-toolbar-title\\\"-->\\n<!--             localize>__MSG_assignmentsPage__</p>-->\\n<!--        </div>-->\\n<!--        <help-button link=\\\"teacherAssignmentStreamHelpButtonUrl\\\"></help-button>-->\\n<!--        <md-menu>-->\\n<!--          <md-button class=\\\"md-icon-button\\\"-->\\n<!--                     ng-click=\\\"$mdMenu.open()\\\">-->\\n<!--            <md-tooltip md-z-index=\\\"1016\\\"-->\\n<!--                        md-direction=\\\"bottom\\\"-->\\n<!--                        localize>__MSG_assignmentsActionMenuFilterTooltip__-->\\n<!--            </md-tooltip>-->\\n<!--            <md-icon md-menu-origin>filter_list</md-icon>-->\\n<!--          </md-button>-->\\n<!--          <md-menu-content class=\\\"teacher-assignments-action-menu\\\">-->\\n<!--            <md-menu-label class=\\\"green\\\"-->\\n<!--                           localize>-->\\n<!--              __MSG_assignmentsActionMenuFilterByLabel__-->\\n<!--            </md-menu-label>-->\\n<!--            <md-menu-item ng-repeat-start=\\\"filter in ::$ctrl.filters track by $index\\\"-->\\n<!--                          ng-if=\\\"::filter\\\">-->\\n<!--              <md-button class=\\\"checkbox\\\"-->\\n<!--                         ng-click=\\\"$ctrl.filter(filter);\\\"-->\\n<!--                         md-prevent-menu-close>-->\\n<!--                <md-checkbox ng-checked=\\\"$ctrl.isFilterSelected(filter)\\\">-->\\n<!--                  {{ ::filter.label | localize }}-->\\n<!--                </md-checkbox>-->\\n<!--              </md-button>-->\\n<!--            </md-menu-item>-->\\n<!--            <md-divider ng-repeat-end-->\\n<!--                        ng-show=\\\"::!filter\\\"></md-divider>-->\\n<!--          </md-menu-content>-->\\n<!--        </md-menu>-->\\n<!--        <md-menu>-->\\n<!--          <md-button class=\\\"md-icon-button\\\"-->\\n<!--                     ng-click=\\\"$mdMenu.open()\\\">-->\\n<!--            <md-tooltip md-z-index=\\\"1016\\\"-->\\n<!--                        md-direction=\\\"bottom\\\"-->\\n<!--                        localize>__MSG_assignmentsActionMenuSortTooltip__-->\\n<!--            </md-tooltip>-->\\n<!--            <md-icon md-menu-origin>sort</md-icon>-->\\n<!--          </md-button>-->\\n<!--          <md-menu-content class=\\\"teacher-assignments-action-menu auto-height\\\">-->\\n<!--            <md-menu-label class=\\\"green\\\"-->\\n<!--                           localize>-->\\n<!--              __MSG_assignmentsActionMenuSortByLabel__-->\\n<!--            </md-menu-label>-->\\n<!--            <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.assignmentsSort track by $index\\\">-->\\n<!--              <md-button ng-click=\\\"$ctrl.sortAssignments(sortingItem)\\\"-->\\n<!--                         localize>-->\\n<!--                <md-icon ng-visible=\\\"$ctrl.isAssignmentSortSelected(sortingItem)\\\">check</md-icon>-->\\n<!--                {{ ::sortingItem.label | localize }}-->\\n<!--              </md-button>-->\\n<!--            </md-menu-item>-->\\n<!--            <md-menu-label class=\\\"green\\\"-->\\n<!--                           ng-show=\\\"::$ctrl.assessmentsSort.length\\\"-->\\n<!--                           localize>-->\\n<!--              __MSG_studentsActionMenuSortByLabel__-->\\n<!--            </md-menu-label>-->\\n<!--            <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.assessmentsSort track by $index\\\">-->\\n<!--              <md-button ng-click=\\\"$ctrl.sortAssessments(sortingItem)\\\"-->\\n<!--                         localize>-->\\n<!--                <md-icon ng-visible=\\\"$ctrl.isAssessmentSortSelected(sortingItem)\\\">check</md-icon>-->\\n<!--                {{ ::sortingItem.label | localize }}-->\\n<!--              </md-button>-->\\n<!--            </md-menu-item>-->\\n<!--          </md-menu-content>-->\\n<!--        </md-menu>-->\\n<!--      </div>-->\\n<!--    </md-toolbar>-->\\n\\n<!--    <loader></loader>-->\\n\\n<!--    <md-content-->\\n<!--      sticky-subheader-->\\n<!--      save-scroll-->\\n<!--      flex>-->\\n<!--      <div ui-view=\\\"assignments\\\"></div>-->\\n<!--    </md-content>-->\\n\\n<!--  <div hint class=\\\"sb-hint\\\" data-cookie-name=\\\"tearcherAssessAssignment\\\">-->\\n<!--    <div class=\\\"sb-hint-scrollable\\\">-->\\n<!--      <p class=\\\"sb-hint-text\\\" localize>-->\\n<!--        __MSG_teacherAssessAssignmentHint__-->\\n<!--      </p>-->\\n<!--      <p class=\\\"sb-hint-close\\\">-->\\n<!--        <button-->\\n<!--          class=\\\"sb-btn-no-background md-primary sb-hint-close md-button\\\"-->\\n<!--          localize-->\\n<!--        >-->\\n<!--          __MSG_acceptHint__-->\\n<!--        </button>-->\\n<!--      </p>-->\\n<!--    </div>-->\\n<!--  </div>-->\\n<!--</div>-->\\n\";","export default \"<teacher-assignments-drafts-list label=\\\"teacherAssignmentAssessableGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.assessable\\\"></teacher-assignments-drafts-list>\\n<teacher-assignments-drafts-list label=\\\"teacherAssignmentWithoutAssessmentCriteriaGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.not_assessable\\\"></teacher-assignments-drafts-list>\\n\";","export default \"<div class=\\\"sb-pl-16 sb-ptb-8\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"center center\\\">\\n  <p class=\\\"sb-list-parent-item\\\"\\n     flex>\\n    <span localize>__MSG_noAssignmentsInThisStatus__</span>\\n  </p>\\n</div>\\n\";","export default \"<teacher-assignments-list label=\\\"teacherAssignmentAssessableGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.assessable\\\"></teacher-assignments-list>\\n<teacher-assignments-list label=\\\"teacherAssignmentWithoutAssessmentCriteriaGroupLabel\\\"\\n                          assignments=\\\"$ctrl.assignmentsGroup.not_assessable\\\"></teacher-assignments-list>\\n\";","export default \"<md-checkbox ng-model=\\\"$ctrl.ngModel.$viewValue.isEnable\\\"\\n             ng-change=\\\"$ctrl.update($ctrl.ngModel.$viewValue)\\\"\\n             ng-disabled=\\\"$ctrl.ngDisabled\\\">\\n  {{ ::'objectiveGradeTextVisibilitySettingsEnableGradeText' | localize}}\\n</md-checkbox>\\n<md-checkbox ng-model=\\\"$ctrl.ngModel.$viewValue.isEnableForStudents\\\"\\n             ng-change=\\\"$ctrl.update($ctrl.ngModel.$viewValue)\\\"\\n             ng-disabled=\\\"$ctrl.ngDisabled || !$ctrl.ngModel.$viewValue.isEnable\\\">\\n  {{ ::'objectiveGradeTextVisibilitySettingsEnableGradeTextForStudents' | localize}}\\n</md-checkbox>\\n\";","import React, { useState } from 'react';\n\nconst useFetch = (url, setNetworkTraffic, networkError) => {\n  const [error, setError] = useState(false);\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchData = async () => {\n    const config = { url, method: 'GET', data: {} };\n    const requestConfig = { ...config, action: 'fetchData' };\n    // console.log('useFetch: ', config);\n    setNetworkTraffic(config.method);\n    setLoading(true);\n\n    if (process.env.REACT_APP_STANDALONE) {\n      const json = await (\n        await fetch(url, {\n          method: 'GET',\n          headers: {\n            Authorization: `StudybeeToken ${process.env.REACT_APP_TOKEN_FOR_DEBUG}`,\n          },\n        })\n      ).json();\n      setLoading(false);\n      console.log('useFetch response: ', url, json);\n      setData(json);\n      setNetworkTraffic(false);\n      return;\n    }\n    chrome.runtime.sendMessage(requestConfig, (response) => {\n      // console.log('useFetch response: ', url, response);\n      if (response.status < 400) {\n        setData(response.data);\n      } else {\n        setError(response.status);\n        networkError(response.status);\n      }\n      setLoading(false);\n      setNetworkTraffic(false);\n    });\n  };\n\n  return [loading, error, data, fetchData];\n};\n\nexport default useFetch;\n","export default __webpack_public_path__ + \"images/dc0b79aede60c97aefcd9b686aa158cb-icon_bk_assessment_done.png\";","export default __webpack_public_path__ + \"images/e14d89ba1a0baec22ec88153957c0157-icon_bk_assessing.png\";","export default __webpack_public_path__ + \"images/d087b18f8292d1460b42cb6a5b586d0b-icon_warning.png\";","export default __webpack_public_path__ + \"images/98970591ebb70a7c0d6a89ec82c23310-work_unit_icon.png\";","export default __webpack_public_path__ + \"images/28b85ce87bc5d435252a7e8377a87ae2-topic_icon.png\";","export default __webpack_public_path__ + \"images/0f0a017ffe684dfd5afc955e8a2270fc-topic-hidden.png\";","export default __webpack_public_path__ + \"images/1bd73e49a9020f903fd5730413748d0e-submitted.png\";","export default __webpack_public_path__ + \"images/1ba4f8dab994cb24886e47c3d1a606e6-submitted-late.png\";","export default __webpack_public_path__ + \"images/99f0582f3ebc19981ac80520f911b956-not-submitted-late.png\";","export const GroupedVisibilityDialogType = {\n  AssignmentView: 0,\n  AssignmentStudentView: 1,\n  StudentProgressView: 2,\n};\n","import React, {useContext, useState} from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport {colors, fonts} from '../theme';\nimport MoreMenu from './moreMenu';\nimport {getTranslation} from '../i18n';\nimport {ReactComponent as GridIcon} from '../images/grid.svg';\nimport AssignmentItem from './assignmentItem';\nimport {getAssignmentIcon, GlobalContext} from \"../utils\";\nimport Tooltip from \"./tooltip\";\n\nconst menuOptionsConnected = [\n  {\n    title: getTranslation('editAssessmentCriteriaBtn'),\n    name: 'ASSESSMENT_CRITERIA',\n  },\n  {\n    title: getTranslation('disconnectFromStudyBee'),\n    name: 'DISCONNECT',\n  },\n];\nconst menuOptionsNotConnected = [\n  {\n    title: getTranslation('connectToStudybee'),\n    name: 'CONNECT',\n  },\n];\n\nconst TopicItem = (props) => {\n  const {\n    assignment: topic,\n    onAssignmentClicked,\n    onGridClicked,\n    handleAssignmentMenuClick,\n    isStudent,\n  } = props;\n\n  const context = useContext(GlobalContext);\n  const {assignmentSortMethod} = context;\n  const [focused, setFocused] = useState(false);\n\n  const click = () => {\n    if(topic.connected){\n      onAssignmentClicked(topic);\n    }\n  };\n\n  return (\n    <div>\n      <div\n        onMouseEnter={() => setFocused(true)}\n        onMouseLeave={() => setFocused(false)}\n        style={{\n          height: '70px',\n          width: '100%',\n          display: 'flex',\n          borderBottom: `1px solid ${colors.borderColor}`,\n          backgroundColor: focused ? colors.borderColor : colors.white,\n        }}\n      >\n        <ButtonBase\n          onClick={click}\n          focusRipple\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            // flex: 1,\n            justifyContent: 'flex-start',\n            paddingLeft: '16px',\n          }}\n        >\n          {getAssignmentIcon(topic)}\n          <p\n            style={{\n              ...fonts.MEDIUM,\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap',\n              width: '190px',\n              textAlign: 'start',\n              fontWeight:'800',\n            }}\n          >\n            {topic.title}\n          </p>\n        </ButtonBase>\n        <div\n          style={{\n            display: 'flex',\n            border: '0px solid',\n            justifyContent: 'flex-end',\n            alignItems: 'center',\n            width: '100%',\n          }}\n        >\n          {!isStudent && (\n            <>\n              {topic.connected &&\n              <Tooltip title={getTranslation('gridOverviewTooltip')}>\n                <div>\n                  <GridIcon\n                    fill={colors.darkGrey}\n                    style={{\n                      width: '20px',\n                      height: '20px',\n                      border: '0px solid',\n                      cursor: 'pointer',\n                    }}\n                    onClick={() => onGridClicked(topic)}\n                  />\n                </div>\n              </Tooltip>\n              }\n              <MoreMenu\n                style={{}}\n                iconStyle={{color: colors.darkGrey, marginBottom: '4px'}}\n                options={topic.connected?menuOptionsConnected:menuOptionsNotConnected}\n                onClick={(option) => handleAssignmentMenuClick(topic, option)}\n              />\n            </>\n          )}\n        </div>\n      </div>\n      {topic?.assignments\n        .filter(a => a.connected)\n        .sort((a, b) => {\n          if (assignmentSortMethod === 'alpha') {\n            return a.title.localeCompare(b.title);\n          }\n          const ad = new Date(a.created);\n          const bd = new Date(b.created);\n          return bd - ad;\n        })\n        .map((assignment) => (\n          <div key={assignment.id}>\n            <AssignmentItem {...{...props, assignment, inTopic: true}} />\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default TopicItem;\n","import React, {useState, memo} from 'react';\nimport {colors, fonts} from '../theme';\nimport MoreMenu from './moreMenu';\nimport {getTranslation} from '../i18n';\nimport {getAssignmentIcon} from '../utils';\n\nconst menuOptions = [\n  {\n    title: getTranslation('connectToStudybee'),\n    name: 'CONNECT',\n  },\n];\n\nconst fontStyle = {\n  ...fonts.MEDIUM,\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n  width: '190px',\n  textAlign: 'start',\n};\n\nconst NotConnectedItem = (props) => {\n  const {\n    assignment,\n    handleAssignmentMenuClick,\n    topic = false,\n  } = props;\n  const [focused, setFocused] = useState(false);\n\n  return (\n    <div\n      onMouseEnter={() => setFocused(true)}\n      onMouseLeave={() => setFocused(false)}\n      style={{\n        height: '70px',\n        borderBottom: `1px solid ${colors.borderColor}`,\n        alignItems: 'center',\n        display: 'flex',\n        paddingLeft: '16px',\n        backgroundColor: focused ? colors.borderColor : colors.white,\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          flex: 1,\n          justifyContent: 'flex-start',\n        }}\n      >\n        {getAssignmentIcon(assignment)}\n        <div style={{display: 'flex', flexDirection: 'column'}}>\n          {topic && <span style={{...fontStyle, ...fonts.TINY, fontWeight: '800'}}>{topic.title}</span>}\n          <span style={{...fontStyle, fontWeight: assignment.is_topic ? '800' : '400'}}>\n            {assignment.title}\n          </span>\n        </div>\n      </div>\n      <div\n        style={{\n          display: 'flex',\n          border: '0px solid',\n          width: '100%',\n          alignItems: 'center',\n          justifyContent: 'flex-end',\n        }}\n      >\n\n        <MoreMenu\n          iconStyle={{color: colors.darkGrey, marginBottom: '4px'}}\n          options={menuOptions}\n          onClick={(option) => handleAssignmentMenuClick(assignment, option)\n          }\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(NotConnectedItem);\n","import {colors, fonts} from \"../theme\";\nimport React from \"react\";\nimport {getTranslation} from \"../i18n\";\nimport SecondaryButton from \"../components/secondaryButton\";\nimport PrimaryButton from \"../components/primaryButton\";\n\nconst imgSrc = process.env.REACT_APP_STANDALONE ? 'https://is2-ssl.mzstatic.com/image/thumb/Purple114/v4/be/59/64/be596489-6244-84bd-26c3-701bfcb3e3b3/source/256x256bb.jpg' : `chrome-extension://${chrome.runtime.id}/images/icon-128.png`;\n\nconst HideAssignmentsDialog = ({open, no, yes}) => {\n  if (!open) {\n    return null;\n  }\n  return (\n    <div style={{\n      position: 'absolute',\n      display: 'flex',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      justifyContent: 'center',\n      alignItems: 'center'\n    }}>\n      <div style={{\n        width: '310px',\n        backgroundColor: colors.primary,\n        borderRadius: '6px',\n        margin: '20px',\n        zIndex: '100000',\n        boxShadow: '0px 5px 10px rgba(0,0,0,0.3)',\n        padding:'10px 0px 10px 0px',\n\n      }}>\n        <div style={{padding:'10px', display:'flex'}}>\n          <img src={imgSrc} style={{\n            width: '25px', height: '25px', backgroundColor: colors.white, padding: '8px', borderRadius: '50px'\n          }}/>\n        <span style={{...fonts.MEDIUM, fontWeight: '500', marginLeft:'10px'}}>{getTranslation('hideAssignmentsDialogText')}</span>\n        </div>\n        <div style={{borderTop:'1px solid ' + colors.borderOnPrimary, width:'100%', margin:'10px 0px 10px 0px'}}/>\n        <div style={{display: 'flex', justifyContent: 'flex-end'}}>\n          <SecondaryButton onClick={no} title={getTranslation('noDisconnectAssignments')}/>\n          <PrimaryButton onClick={yes} title={getTranslation('yesDisconnectAssignments')} />\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default HideAssignmentsDialog;\n","import React, {useEffect, useState, useContext} from 'react';\nimport Toast from './toast';\nimport {GlobalContext} from '../utils';\nimport {getTranslation} from '../i18n';\nimport {LOG_LEVEL} from '../api';\n\nconst NetworkErrorToast = (props) => {\n  const {networkError} = props;\n  const context = useContext(GlobalContext);\n  const {setNetworkError, Api} = context;\n  const [open, setOpen] = useState(networkError);\n\n  if (networkError) {\n    console.log('network error: ', networkError);\n    // Api.cloudLog(LOG_LEVEL.ERROR, networkError.toString());\n  }\n\n  useEffect(() => {\n    if (networkError) {\n      setOpen(true);\n    }\n  }, [networkError]);\n\n  return (\n    <Toast\n      timeout={5000}\n      onClose={() => {\n        setOpen(false);\n        setNetworkError(null);\n      }}\n      open={open}\n      message={getTranslation('errorToast')}/>\n  );\n};\n\nexport default NetworkErrorToast;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { getTranslation } from \"../i18n\";\nimport {colors, fonts} from '../theme';\n\nconst savedText = getTranslation(\"savedStatusIndicator\");\n\nconst SaveToast = (props) => {\n  const { networkTraffic } = props;\n  const state = useRef(false);\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (networkTraffic && networkTraffic !== \"GET\") {\n      state.current = \"saving\";\n    } else if (!networkTraffic && state.current === \"saving\") {\n      setOpen(true);\n      state.current = null;\n      setTimeout(() => {setOpen(false)}, 2000);\n    }\n  }, [networkTraffic]);\n\n  if (!open) {\n    return null;\n  }\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        bottom: \"20px\",\n        right: \"20px\",\n        backgroundColor: colors.darkGrey,\n        padding:'5px 10px 5px 10px',\n        borderRadius:'5px',\n        zIndex:'1000',\n      }}\n    >\n      <span style={{...fonts.MEDIUM, color:colors.white}}>{savedText}</span>\n    </div>\n  );\n};\n\nexport default SaveToast;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Close } from '@material-ui/icons';\nimport { CircularProgress } from '@material-ui/core';\nimport { GlobalContext } from '../utils';\nimport { colors } from '../theme';\nimport AssessmentSlider from './assessmentSlider';\nimport fonts from '../theme/fonts';\nimport {getTranslation} from '../i18n';\n\n\nconst fields = `\n  name\n    courses {\n      id\n      name\n      gradeSystem{\n        id\n        is_main\n        is_final\n        grades{\n          id\n          name\n          label\n          color\n        }\n      }\n      objectives {\n        id\n        name\n        knowledgeRequirements {\n          grade_id\n          description\n        }\n      }\n    }\n`;\nconst ObjectiveDescription = (props) => {\n  const { objectiveId, defaultIndex = 0 } = props;\n  const context = useContext(GlobalContext);\n\n  const { Api, showObjectiveDetails } = context;\n  const [currentGrade, setCurrentGrade] = useState(defaultIndex);\n  const [objective, setObjective] = useState();\n\n  const fetchObjective = async () => {\n    const response = await Api.getClassroom(fields);\n    const classroom = response?.data?.classroom;\n    const objective = classroom?.courses.map(c => {\n      return c.objectives.map(o => ({...o, courseId: c.id}));\n    }).flat().find(o => o.id === objectiveId);\n    objective.gradeSystem = classroom.courses.find(c => c.id === objective.courseId)?.gradeSystem.find(g => g.is_main);\n    setObjective(objective);\n  };\n\n  useEffect(() => {\n    fetchObjective();\n  }, [objectiveId]);\n\n  if (!objective || objective.length === 0) {\n    return (\n      <div style={{display:'flex', alignItems:'center', justifyContent:'center', height:'290px', border:'1px solid'}}>\n      <CircularProgress />\n    </div>);\n  }\n\n  const values = objective?.gradeSystem?.grades?.map((g, i) => ({\n    id: g.id,\n    label: g.label,\n    color: g.color,\n    value: i,\n    name: g.name,\n  }));\n\n  return (\n    <div\n      style={{\n        width: '320px',\n        backgroundColor: colors.grey,\n        borderRadius: '10px',\n        padding: '40px 20px 20px 20px',\n        borderTop: `1px solid ${colors.borderColorDark}`,\n        display: 'flex',\n        position: 'relative',\n      }}\n    >\n      <div style={{ border: '0px solid red', width: '100%' }}>\n        <span style={{\n          ...fonts.LARGE,\n          whiteSpace: 'nowrap',\n          width: '80%',\n          position: 'absolute',\n          top: '16px',\n          left: '20px',\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n        }}>{getTranslation('assessmentCriteria')} {objective.name}</span>\n        <AssessmentSlider\n          defaultIndex={defaultIndex}\n          showPublish={false}\n          values={values}\n          onChange={(c) => {\n            setCurrentGrade(values[c].id);\n          }}\n        />\n        <div\n          style={{ marginTop: '20px', height: '185px', overflow: 'scroll' }}\n          dangerouslySetInnerHTML={{\n            __html: objective?.knowledgeRequirements?.find(k => k.grade_id === currentGrade)?.description,\n          }}\n        />\n      </div>\n      <Close\n        onClick={() => showObjectiveDetails(false)}\n        style={{\n          position: 'absolute',\n          right: '10px',\n          top: '10px',\n        }}\n      />\n    </div>\n  );\n};\n\nexport default ObjectiveDescription;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1.589 248.394C1.589 122.639 98.19 19.441 221.233 8.96v478.867C98.19 477.346 1.589 374.149 1.589 248.394z\",\n  fill: \"#fbcd03\"\n});\n\nfunction SvgHandlebg(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"1.589 8.96 219.644 478.867\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/5b32c541d614fc611cea3b2ec65f0775-handlebg.svg\";\nexport { SvgHandlebg as ReactComponent };","import React, {Component} from 'react';\nimport {LOG_LEVEL} from './api';\n\nexport default class ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.Api = props.Api;\n  }\n\n  componentDidCatch(error, errorInfo) {\n    try {\n      this.Api.cloudLog(LOG_LEVEL.ERROR, JSON.stringify({errorInfo, error}));\n    } catch (e) {\n      console.log('error: ', e);\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n","import React, {useContext, useEffect, useRef, useState} from \"react\";\nimport {ButtonBase, Checkbox, withStyles} from \"@material-ui/core\";\nimport {useWindowDimensions} from \"../hooks\";\nimport {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport CheckboxWithText from \"../components/CheckboxWithText\";\nimport {\n  getVisibilitySettingForAssignment,\n  GlobalContext,\n  setVisibilitySettingForAssignment,\n} from \"../utils\";\nimport {ReactComponent as DoneIcon} from \"../images/icon_bk_assessment_done.svg\";\nimport PublishIcon from \"../components/publishIcon\";\nimport SecondaryButton from \"../components/secondaryButton\";\nimport PrimaryButton from \"../components/primaryButton\";\n\nconst GreenCheckbox = withStyles({\n  root: {\n    color: colors.borderColorDark,\n    paddingLeft: 0,\n    marginLeft: \"-6px\",\n    \"&$checked\": {\n      color: colors.green,\n    },\n    \"& .MuiSvgIcon-root\": {\n      fontSize: \"1.5rem\",\n    },\n  },\n\n  checked: {},\n})(Checkbox);\n\nconst VisibilityDialog = (props) => {\n  const {\n    assignmentId,\n    assessments,\n    callback,\n    hideSaveSetting = false,\n  } = props;\n  const context = useContext(GlobalContext);\n  const {setVisibilityDialogData, Api} = context;\n  const dimensions = useWindowDimensions();\n  const [show, setShow] = useState(false);\n\n  const selection = useRef([\n    \"result\",\n    \"feedback\",\n    \"assessment\",\n    \"objectiveAssessment\",\n    \"objectiveFeedback\",\n  ]);\n\n  const save = async () => {\n    const saveObj = assessments.map((a) => ({\n      ...a,\n      result_published: !!selection.current.find((s) => s === \"result\"),\n      feedback_published: !!selection.current.find((s) => s === \"feedback\"),\n      grade_published: !!selection.current.find((s) => s === \"assessment\"),\n      objectiveAssessments: a.objectiveAssessments.map((oa) => ({\n        ...oa,\n        grade_published: !!selection.current.find(\n          (s) => s === \"objectiveAssessment\"\n        ),\n        feedback_published: !!selection.current.find(\n          (s) => s === \"objectiveFeedback\"\n        ),\n      })),\n    }));\n\n    await Api.updateAssignmentAssessment(saveObj);\n    await Api.updateObjectiveAssessmentsGql(\n      saveObj.map((a) => a.objectiveAssessments).flat()\n    );\n    setVisibilityDialogData(null);\n    callback();\n  };\n\n  useEffect(() => {\n    (async () => {\n      const setting = await getVisibilitySettingForAssignment(assignmentId);\n      if (setting && setting !== \"\") {\n        selection.current = setting;\n        save();\n        setVisibilityDialogData(null);\n      } else {\n        setShow(true);\n      }\n    })();\n  }, []);\n\n  const onCheck = (checked, type) => {\n    if (checked) {\n      selection.current = [...selection.current, type];\n    } else {\n      selection.current = selection.current.filter((s) => s !== type);\n    }\n  };\n\n  const useEyes = false;\n  const attribute = (text, id, style = {}) => {\n    if (useEyes) {\n      return (\n        <div style={{display: \"flex\", alignItems: \"center\", ...style}}>\n          <PublishIcon\n            style={{margin: \"0px 10px 0px -4px\"}}\n            iconStyle={{width: \"23px\", height: \"23px\"}}\n            published={selection.current.find((s) => s === id)}\n            onClick={() => {\n              const checked = selection.current.find((s) => s === id);\n              onCheck(!checked, id);\n            }}\n          />\n          <span style={fonts.MEDIUM}>{getTranslation(text)}</span>\n        </div>\n      );\n    }\n    return (\n      <CheckboxWithText\n        id={id}\n        text={getTranslation(text)}\n        onCheck={(checked) => {\n          onCheck(checked, id);\n        }}\n        checked={selection.current.find((s) => s === id)}\n        style={{...style, marginLeft: \"4px\"}}\n      />\n    );\n  };\n\n  if (!show) {\n    return null;\n  }\n\n  const size = {width: 500, height: 450};\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        left: -dimensions.width + 360,\n        right: 0,\n        bottom: 0,\n        top: 0,\n        backgroundColor: colors.dimmed,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        border: \"0px solid red\",\n        zIndex: \"1001\",\n      }}\n    >\n      <div\n        style={{\n          backgroundColor: colors.white,\n          width: size.width,\n          // height: size.height,\n          border: \"0px solid\",\n          borderRadius: \"6px\",\n          // padding:'20px',\n        }}\n      >\n        <div\n          style={{\n            padding: \"20px\",\n            borderBottom: `1px solid ${colors.borderColor}`,\n            display: \"flex\",\n            flexDirection: \"column\",\n          }}\n        >\n          <div style={{marginBottom: \"10px\"}}>\n            <DoneIcon fill={colors.green} style={{}}/>\n            <span\n              style={{\n                ...fonts.XLARGE,\n                fontWeight: \"500\",\n                marginLeft: \"10px\",\n              }}\n            >\n              {getTranslation(\n                \"teacherAssignmentsAssessmentStudentVisibilityDialogTitle\"\n              )}\n            </span>\n          </div>\n          <span style={{...fonts.LARGE}}>\n            {getTranslation(\n              \"teacherAssignmentsAssessmentStudentVisibilityDialogHeader\"\n            )}\n          </span>\n        </div>\n        <div\n          style={{\n            padding: \"10px 20px 10px 20px\",\n          }}\n        >\n          <span style={{...fonts.MEDIUM}}>\n            {getTranslation(\n              \"teacherAssignmentsAssessmentStudentVisibilityDialogAttributes\"\n            )}\n          </span>\n          {attribute(\n            \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionResult\",\n            \"result\",\n            {marginTop: \"10px\"}\n          )}\n          {attribute(\n            \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionOverallFeedback\",\n            \"feedback\"\n          )}\n\n          {attribute(\n            \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionAssignmentAssessment\",\n            \"assessment\"\n          )}\n\n          {attribute(\n            \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionAssessment\",\n            \"objectiveAssessment\"\n          )}\n\n          {attribute(\n            \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionFeedbackOnLearningObjectives\",\n            \"objectiveFeedback\"\n          )}\n\n          {!hideSaveSetting && (\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                marginTop: \"6px\",\n              }}\n            >\n              <span style={{...fonts.MEDIUM}}>\n                {getTranslation(\n                  \"teacherAssignmentsAssessmentStudentVisibilityDialogSave\"\n                )}\n              </span>\n              <GreenCheckbox\n                onChange={(e) => {\n                  setVisibilitySettingForAssignment(\n                    assignmentId,\n                    e.target.checked ? selection.current : \"\"\n                  );\n                }}\n              />\n            </div>\n          )}\n        </div>\n        <div\n          style={{\n            padding: \"20px\",\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n            // width: size.width,\n          }}\n        >\n          <SecondaryButton\n            title={getTranslation(\"teacherAssignmentsAssessmentStudentVisibilityDialogActionCancel\")}\n            onClick={() => {\n              setVisibilityDialogData(null);\n              callback();\n            }}\n          />\n          <PrimaryButton\n            inverted\n            title={getTranslation(\"teacherAssignmentsAssessmentStudentVisibilityDialogActionGoAhead\")}\n            onClick={save}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VisibilityDialog;\n","import React, { useEffect, useState } from 'react';\nimport { colors, fonts } from '../theme';\n\nconst SyncToast = (props) => {\n  const { text, setText } = props;\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (text) {\n      setOpen(true);\n      setTimeout(() => {\n        setOpen(false);\n        setText(null);\n      }, 2000);\n    }\n  }, [text]);\n\n  if (!open) {\n    return null;\n  }\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        bottom: '20px',\n        right: '20px',\n        backgroundColor: colors.darkGrey,\n        padding: '5px 10px 5px 10px',\n        borderRadius: '5px',\n        zIndex: '1000',\n      }}\n    >\n      <span style={{ ...fonts.MEDIUM, color: colors.white }}>{text}</span>\n    </div>\n  );\n};\n\nexport default SyncToast;\n","import React, {useEffect, useRef, useState} from 'react';\nimport {colors, fonts} from './theme';\nimport {getTranslation} from './i18n';\nimport SecondaryButton from \"./components/secondaryButton\";\nimport PrimaryButton from \"./components/primaryButton\";\n\nconst imgSrc = process.env.REACT_APP_STANDALONE ? 'https://is2-ssl.mzstatic.com/image/thumb/Purple114/v4/be/59/64/be596489-6244-84bd-26c3-701bfcb3e3b3/source/256x256bb.jpg' : `chrome-extension://${chrome.runtime.id}/images/icon-128.png`;\nconst NewAssignmentDialog = () => {\n  const [show, setShow] = useState();\n  const lastStorageChange = useRef();\n\n  const processStorage = async () => {\n    chrome.storage.sync.get(\n      ['newAssignment'],\n      async (change) => {\n        if (change?.newAssignment) {\n          const title = change.newAssignment;\n          setShow(title);\n          chrome.storage.sync.set({newAssignment: 0});\n        }\n      },\n    );\n  };\n\n  const storageListener = async (change) => {\n    const changes = Object.keys(change).map((key) => {\n      const obj = {};\n      obj[key] = change[key].newValue;\n      return obj;\n    });\n    const [firstChange] = changes;\n    if (firstChange !== lastStorageChange.current) {\n      lastStorageChange.current = firstChange;\n      await processStorage(firstChange);\n    }\n  };\n\n  useEffect(() => {\n    if (!process.env.REACT_APP_STANDALONE) {\n      chrome.storage.onChanged.addListener(storageListener);\n      return function cleanup() {\n        if (!process.env.REACT_APP_STANDALONE) {\n          chrome.storage.onChanged.removeListener(storageListener);\n        }\n      };\n    }\n  }, []);\n\n  if (!show) {\n    return null;\n  }\n  return (\n    <div style={{\n      position: 'fixed',\n      top: '0px',\n      right: '0px',\n      width: '310px',\n      backgroundColor: colors.primary,\n      borderRadius: '6px',\n      margin: '20px',\n      zIndex: '100000',\n      boxShadow: '0px 5px 10px rgba(0,0,0,0.3)',\n    }}>\n      <div style={{display: 'flex', padding: '14px', alignItems: 'center'}}>\n        <img src={imgSrc} style={{\n          width: '25px', height: '25px', backgroundColor: colors.white, padding: '8px', borderRadius: '50px',\n        }}/>\n        <div style={{display: 'flex', flexDirection: 'column', marginLeft: '10px'}}>\n          <span style={{...fonts.LARGE, fontWeight: '500'}}>\n            {getTranslation('assignObjectivesToAssignmentToast')}\n            <span style={{...fonts.LARGE, fontWeight: '800'}}>{show}</span>\n            {getTranslation('assignObjectivesToAssignmentToast2')}\n          </span>\n        </div>\n      </div>\n      <div style={{borderTop: '1px solid ' + colors.borderOnPrimary, width: '100%', margin: '10px 0px 10px 0px'}}/>\n      <div\n        style={{\n          marginBottom: '10px',\n          display: 'flex',\n          justifyContent: 'flex-end'\n        }}>\n        <SecondaryButton\n          title={getTranslation('assignObjectivesToastPostponeButtonLabel')}\n          onClick={() => {\n            chrome.storage.sync.set({'disconnectNewAssignment': show}, () => console.log('disconnect assignment: ', show));\n            setShow(false);\n          }\n          }/>\n        <PrimaryButton\n          title={getTranslation('addBtn')}\n          onClick={() => {\n            chrome.storage.sync.set({'connectNewAssignment': show}, () => console.log('connect assignment: ', show));\n            setShow(false);\n          }}/>\n      </div>\n    </div>\n  );\n};\n\nexport default NewAssignmentDialog;\n","import {Menu} from '@material-ui/icons';\nimport React from 'react';\nimport {ReactComponent as GridIcon} from '../images/grid.svg';\nimport {ReactComponent as PaneIcon} from '../images/pane.svg';\nimport {colors, fonts} from '../theme';\nimport {getTranslation} from '../i18n';\nimport LinearProgress from '../components/LinearProgress';\nimport Tooltip from \"../components/tooltip\";\n\nconst StudentListHeader = (props) => {\n  const {toggleMenu, toggleGrid, showGridIcon, showGrid} = props;\n  return (\n    <div\n      style={{\n        position: 'relative',\n        width: '100%',\n        height: '60px',\n        display: 'flex',\n        backgroundColor: colors.brandColorPink,\n        border: '0px solid blue',\n        alignItems: 'center',\n        padding: '0px 16px 0px 16px',\n      }}\n    >\n      <Menu\n        style={{\n          cursor: 'pointer',\n          color: colors.white,\n          height: '25px',\n          marginTop: '2px',\n          marginRight: '4px',\n        }}\n        onClick={() => toggleMenu()}\n      />\n      <p\n        style={{\n          ...fonts.LARGE,\n          color: colors.white,\n          marginLeft: '14px',\n          fontWeight: '500',\n        }}\n      >\n        {getTranslation('courseProgressionPage')}\n      </p>\n      {showGridIcon &&\n      <div onClick={toggleGrid}\n           style={{\n             position: 'absolute', top: '22px', right: '50px', cursor: 'pointer',\n           }}>\n        <Tooltip title={showGrid?getTranslation('collapseGridTooltip'):getTranslation('gridOverviewTooltip')}>\n          <div>\n            {!showGrid &&\n            <GridIcon fill={colors.white} />\n            }\n            {showGrid &&\n              <PaneIcon />\n            }\n          </div>\n        </Tooltip>\n      </div>\n      }\n      <div\n        style={{\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          right: 0,\n        }}\n      >\n        <LinearProgress pink />\n      </div>\n    </div>\n  );\n};\nexport default StudentListHeader;\n","import React, { useState } from 'react';\nimport {ButtonBase, Tooltip} from '@material-ui/core';\nimport { colors, fonts } from '../theme';\n\nconst StudentItem = (props) => {\n  const {\n    student, onClickStudent, style, selected,\n  } = props;\n  const [highlight, setHighlight] = useState(false);\n\n  const highlightStudent = () => {\n    setHighlight(true);\n  };\n\n  const unHighlightStudent = () => {\n    setHighlight(false);\n  };\n\n  const baseColor = selected ? colors.borderColor : 'transparent';\n\n  return (\n  <div style={{ position: 'relative', height: '50px' }}>\n    <ButtonBase\n      focusRipple\n      onClick={onClickStudent}\n      key={student.id}\n      onMouseEnter={highlightStudent}\n      onMouseLeave={unHighlightStudent}\n      style={{\n        width: '100%',\n        height: '50px',\n        borderBottom: `1px solid ${colors.borderColor}`,\n        backgroundColor: highlight ? colors.grey : baseColor,\n        justifyContent: 'flex-start',\n        paddingLeft: '16px',\n        ...style,\n      }}\n    >\n      <div\n        style={{\n          width: '30px',\n          height: '30px',\n          borderRadius: '15px',\n          overflow: 'hidden',\n          marginRight: '16px',\n        }}\n      >\n        <img style={{ width: '30px' }} src={student.photo_url} />\n      </div>\n      <Tooltip title={student.email}>\n      <span\n        style={{\n          ...fonts.MEDIUM,\n          width: '210px',\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          whiteSpace: 'nowrap',\n          textAlign: 'start',\n        }}\n      >\n        {student.first_name} {student.last_name}\n      </span>\n      </Tooltip>\n    </ButtonBase>\n  </div>);\n};\nexport default StudentItem;\n","import React, { useState } from 'react';\nimport { colors, fonts } from '../theme';\nimport { getTranslation } from '../i18n';\n\nconst dimmedFont = {\n  ...fonts.MEDIUM,\n  color: colors.borderColorDark,\n};\n\nconst CourseItem = (props) => {\n  const {\n    teachers, classroomName, course, onClick,\n  } = props;\n\n  const [selected, setSelected] = useState(false);\n\n  return (\n    <div\n      onMouseEnter={() => setSelected(true)}\n      onMouseLeave={() => setSelected(false)}\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        border: `1px solid ${colors.borderColor}`,\n        padding: '16px',\n        margin: '4px',\n        cursor: 'pointer',\n        backgroundColor: selected ? colors.grey : colors.white,\n      }}\n      onClick={onClick}\n    >\n      <span style={{ ...fonts.MEDIUM, fontWeight: '800', marginBottom: '6px' }}>\n        {course.name}\n      </span>\n      <span style={dimmedFont}>Id: {course.code}</span>\n      <span style={dimmedFont}>\n        {getTranslation('classroom')}: {classroomName}\n      </span>\n      <div>\n        <span style={dimmedFont}>{getTranslation('teacher')}: </span>\n        {teachers?.map((t) => (\n          <span key={t.id} style={dimmedFont}>\n            {t.first_name} {t.last_name}{' '}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default CourseItem;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { GlobalContext } from '../utils';\nimport { getTranslation } from '../i18n';\nimport { fonts } from '../theme';\nimport Card from '../components/card';\nimport CourseItem from './courseItem';\nimport FullscreenProgress from '../components/fullscreenProgress';\n\nconst fields = `\n  name\n  teachers {\n    id\n    first_name\n    last_name\n    email\n    photo_url\n  }\n  courses {\n    id\n    name\n    code\n    description\n  }\n`;\n\nconst CoursesCard = (props) => {\n  const { student, onCourseSelected } = props;\n  const [classroom, setClassroom] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const context = useContext(GlobalContext);\n  const { Api } = context;\n\n  const loadCourses = async () => {\n    setLoading(true);\n    const response = await Api.getClassroom(fields, student.id);\n    setClassroom(response?.data?.classroom);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    loadCourses();\n  }, []);\n\n  useEffect(() => {\n    loadCourses();\n  }, [student]);\n\n  if (loading) {\n    return null;\n  }\n\n  return (\n    <div style={{ padding: '16px', display:'flex', width:'100%', flexDirection:'column' }}>\n      <span style={{ ...fonts.LARGE }}>{`${getTranslation('coursesIn')} ${\n        classroom.name\n      }`}</span>\n      <Card style={{ marginTop: '10px'}}>\n        {classroom?.courses?.map((c) => (\n          <CourseItem course={c} key={c.id} teachers={classroom?.teachers} classroomName={classroom.name} onClick={() => onCourseSelected(c)}/>\n        ))}\n      </Card>\n    </div>\n  );\n};\nexport default CoursesCard;\n","import React from 'react';\nimport { ArrowBack, Close as CloseIcon } from '@material-ui/icons';\nimport { useWindowDimensions } from '../hooks';\nimport { colors, fonts } from '../theme';\n\nconst StudentOverviewHeader = (props) => {\n  const {\n    studentName, courseName, onBack, onClose, classroomName, objectiveName,\n  } = props;\n  const dim = useWindowDimensions();\n\n  return (\n    <div\n      style={{\n        height: '60px',\n        width: dim.width - 360,\n        backgroundColor: colors.brandColorPink,\n        alignItems: 'center',\n        display: 'flex',\n        minHeight: '58px',\n        padding: '0px 0px 0px 0px',\n        position: 'fixed',\n      }}\n    >\n      {onBack && (\n        <ArrowBack\n          style={{\n            cursor: 'pointer',\n            color: colors.white,\n            height: '25px',\n            marginLeft: '16px',\n          }}\n          onClick={onBack}\n        />\n      )}\n      {!onBack\n        && <CloseIcon\n          style={{\n            cursor: 'pointer',\n            color: colors.white,\n            height: '25px',\n            marginLeft: '16px',\n          }}\n        onClick={onClose}/>\n      }\n      <div style={{\n        position: 'absolute', left: '50px', display: 'flex', alignItems: 'center',\n      }}>\n        <span style={{ ...fonts.MEDIUM, color: colors.white }}>{classroomName}</span>\n      {courseName\n      && <>\n        <ArrowBack style={{ color: colors.white, transform: 'rotate(180deg)', height: '15px' }}/>\n        <span style={{ ...fonts.MEDIUM, color: colors.white }}>{courseName}</span>\n        <ArrowBack style={{ color: colors.white, transform: 'rotate(180deg)', height: '15px' }}/>\n        <span style={{ ...fonts.MEDIUM, color: colors.white }}>{studentName}</span>\n        <ArrowBack style={{ color: objectiveName ? colors.white : 'transparent', transform: 'rotate(180deg)', height: '15px' }}/>\n        <span style={{ ...fonts.MEDIUM, color: colors.white }}>{objectiveName}</span>\n      </>}\n      </div>\n    </div>\n  );\n};\nexport default StudentOverviewHeader;\n","import React, {useContext, useEffect, useMemo, useReducer, useRef} from 'react';\nimport debounce from \"lodash.debounce\";\nimport Card from \"../components/card\";\nimport AssessmentSlider from \"../components/assessmentSlider\";\nimport {getGradeSystemValues, getLastModified, GlobalContext} from \"../utils\";\nimport {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport FeedbackInput from \"../components/feedbackInput\";\n\nconst emptyAssessment = (assessment) => ({\n  ...assessment,\n  feedback: null,\n  feedback_last_edit: null,\n  feedback_published: false,\n  gradeColor: null,\n  gradeIsPassed: null,\n  gradeName: null,\n  grade_id: null,\n  grade_last_edit: null,\n  grade_published: false,\n  private_note: null,\n  private_note_last_edit: null,\n  target_grade_id: null,\n  target_grade_last_edit: null,\n  target_grade_published: false,\n});\n\n\nconst CourseAssessmentCard = (props) => {\n  const {assessment, onSave, studentId, multiEdit} = props;\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n  const currentAssessment = useRef(assessment);\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  useEffect(() => {\n    currentAssessment.current = multiEdit ? emptyAssessment(assessment) : assessment;\n    forceUpdate();\n  }, [assessment, studentId]);\n\n  useEffect(() => {\n    currentAssessment.current = multiEdit\n      ? emptyAssessment(assessment)\n      : assessment;\n    forceUpdate();\n  }, [multiEdit]);\n\n  const saveCourseAssessment = useMemo(() => debounce(async (Api, assessment, onSave) => {\n    await Api.updateCourseAssessments([assessment]);\n    if (onSave) {\n      onSave();\n    }\n  }, 1000), [assessment?.id]);\n\n  const gradesSystemValues = getGradeSystemValues(\n    currentAssessment.current?.gradeSystem?.find((g) => g.is_final)\n  );\n\n  const defaultIndex = gradesSystemValues.findIndex(\n    (g) => g.id === currentAssessment.current.grade_id\n  );\n\n  const defaultIndexTarget = gradesSystemValues.findIndex(\n    (g) => g.id === currentAssessment.current.target_grade_id\n  );\n\n  const save = () => {\n    if (!multiEdit) {\n      saveCourseAssessment(Api, currentAssessment.current, onSave);\n    } else {\n      onSave(currentAssessment.current);\n    }\n  };\n\n  return (\n    <div>\n      <span\n        style={{\n          ...fonts.LARGE,\n          color: colors.brandColorPink,\n          marginLeft: \"16px\",\n        }}\n      >\n        {getTranslation(\"overallResultHeaderTeacher\")}\n      </span>\n      <Card style={{marginTop: \"16px\"}}>\n        <span style={{...fonts.MEDIUM}}>\n          {getTranslation(\"courseGradeInput\")}\n        </span>\n        <AssessmentSlider\n          id={studentId}\n          values={gradesSystemValues}\n          defaultIndex={defaultIndex < 0 ? 0 : defaultIndex}\n          onChange={(index) => {\n            currentAssessment.current.grade_id = gradesSystemValues[index].id;\n          }}\n          published={currentAssessment?.current?.grade_published}\n          onPublish={(state) => {\n            currentAssessment.current.grade_published = state;\n            save();\n          }}\n          helpText={getLastModified(currentAssessment.current.grade_last_edit)}\n          onChangeCommit={() => {\n            save();\n          }}\n          multiEdit={multiEdit}\n        />\n        <span style={{...fonts.MEDIUM}}>\n          {getTranslation(\"courseProgressTargetGradeLabel\")}\n        </span>\n        <AssessmentSlider\n          id={studentId}\n          values={gradesSystemValues}\n          defaultIndex={defaultIndexTarget < 0 ? 0 : defaultIndexTarget}\n          onChange={(index) => {\n            currentAssessment.current.target_grade_id =\n              gradesSystemValues[index].id;\n          }}\n          published={currentAssessment.current.target_grade_published}\n          onPublish={(state) => {\n            currentAssessment.current.target_grade_published = state;\n            save();\n          }}\n          helpText={getLastModified(currentAssessment.current.grade_last_edit)}\n          onChangeCommit={() => {\n            save();\n          }}\n          color={colors.brandColorBlue}\n          multiEdit={multiEdit}\n        />\n\n        <FeedbackInput\n          text={currentAssessment.current.feedback}\n          placeholder={getTranslation(\"courseFeedbackInput\")}\n          onTextChange={(text) => {\n            currentAssessment.current.feedback = text;\n            save();\n          }}\n          published={currentAssessment.current.feedback_published}\n          onPublish={(id, value) => {\n            currentAssessment.current.feedback_published = value;\n            save();\n          }}\n          id={currentAssessment.current.id}\n          assessment={currentAssessment.current}\n          helperText={getLastModified(\n            currentAssessment.current.feedback_last_edit\n          )}\n          warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n          multiEdit={multiEdit}\n        />\n        <FeedbackInput\n          text={currentAssessment.current.private_note}\n          placeholder={getTranslation(\"coursePrivateNotesInput\")}\n          onTextChange={(text) => {\n            currentAssessment.current.private_note = text;\n            save();\n          }}\n          id={currentAssessment.current.id}\n          assessment={currentAssessment.current}\n          helperText={getLastModified(\n            currentAssessment.current.private_note_last_edit\n          )}\n          hideEye\n          warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n          multiEdit={multiEdit}\n        />\n      </Card>\n    </div>\n  );\n};\n\nexport default CourseAssessmentCard;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 0a8 8 0 110 16A8 8 0 018 0zm0 1a7 7 0 100 14A7 7 0 008 1zm-2.736 9.257a3.552 3.552 0 005.473.001.71.71 0 011.01-.085c.301.26.34.718.083 1.024A4.976 4.976 0 018 13a4.976 4.976 0 01-3.83-1.804.734.734 0 01.084-1.024.71.71 0 011.01.085zM5.5 5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z\",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgHappyFace(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 16,\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/b7e065ee84adae0967b5814d336eee09-happy-face.svg\";\nexport { SvgHappyFace as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 0a8 8 0 110 16A8 8 0 018 0zm0 1a7 7 0 100 14A7 7 0 008 1zm2.25 9a.75.75 0 110 1.5h-4.5a.75.75 0 110-1.5zM5.5 5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z\",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgMediumFace(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 16,\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/36597a9808bfad4c9259ead79e88e987-medium-face.svg\";\nexport { SvgMediumFace as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8 0a8 8 0 110 16A8 8 0 018 0zm0 1a7 7 0 100 14A7 7 0 008 1zm1.035 8.482a2.744 2.744 0 011.523 1.53.75.75 0 01-1.349.648l-.044-.092a1.25 1.25 0 00-2.32-.005.75.75 0 11-1.39-.562 2.75 2.75 0 013.58-1.52zM5.5 5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z\",\n  fillRule: \"evenodd\"\n});\n\nfunction SvgSadFace(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 16,\n    width: 16,\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/7abe3ac497b6261fd8d760d773f01cd8-sad-face.svg\";\nexport { SvgSadFace as ReactComponent };","import React, {useState} from 'react';\nimport { colors } from \"../theme\";\nimport { Radio } from \"@material-ui/core\";\n\nconst style = {\n  statusButton: {\n    display: \"flex\",\n    width: \"110px\",\n    height: \"30px\",\n    borderRadius: \"6px\",\n    cursor: \"pointer\",\n    backgroundColor: colors.ewsGreen,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginRight: \"10px\",\n    marginTop: \"4px\",\n  },\n};\n\n\n\nconst EwsStatusButton = (props) => {\n  const {value, saveStatus, status, icon, selectedColor, color, multiEdit, selectedMulti} = props;\n  const [selected, setSelected] = useState(false);\n  return (\n    <div style={{ display: \"flex\" }}>\n      {multiEdit && <Radio checked={selectedMulti} onClick={() => {\n        saveStatus({ ...status, status: value });\n      }}/>}\n      <div\n        onClick={() => {\n          saveStatus({ ...status, status: value });\n        }}\n        onMouseEnter={() => setSelected(true)}\n        onMouseLeave={() => setSelected(null)}\n        style={{\n          ...style.statusButton,\n          backgroundColor:\n            selected ? selectedColor : color,\n        }}\n      >\n        {icon}\n      </div>\n    </div>\n  );\n};\n\nexport default EwsStatusButton;\n","import React, { useContext, useEffect, useMemo, useState } from \"react\";\nimport debounce from \"lodash.debounce\";\nimport { colors, fonts } from \"../theme\";\nimport {getLastModified, GlobalContext} from \"../utils\";\nimport { ReactComponent as HappyIcon } from \"../images/happy-face.svg\";\nimport { ReactComponent as MediumIcon } from \"../images/medium-face.svg\";\nimport { ReactComponent as SadIcon } from \"../images/sad-face.svg\";\nimport PublishIcon from \"../components/publishIcon\";\nimport { getTranslation } from \"../i18n\";\nimport EwsStatusButton from \"./ewsStatusButton\";\n\nconst style = {\n  statusButton: {\n    display: \"flex\",\n    width: \"110px\",\n    height: \"30px\",\n    borderRadius: \"6px\",\n    cursor: \"pointer\",\n    backgroundColor: colors.ewsGreen,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginRight: \"10px\",\n    marginTop: \"4px\",\n  },\n};\nconst getColor = (status) => {\n  if (!status) {\n    return \"transparent\";\n  }\n  switch (status) {\n    case \"10\":\n      return colors.ewsGreen;\n    case \"20\":\n      return colors.primary;\n    case \"30\":\n      return colors.red;\n    default:\n      return \"transparent\";\n  }\n};\n\nconst getIcon = (status) => {\n  if (!status) {\n    return null;\n  }\n  switch (status) {\n    case \"10\":\n      return <HappyIcon />;\n    case \"20\":\n      return <MediumIcon />;\n    case \"30\":\n      return <SadIcon />;\n    default:\n      return null;\n  }\n};\n\nconst StatusComponent = (props) => {\n  const {\n    status: initialStatus,\n    studentId,\n    courseId,\n    multiEdit,\n    onChange = false,\n  } = props;\n  const context = useContext(GlobalContext);\n  const { Api } = context;\n  const [status, setStatus] = useState(initialStatus || {});\n\n  const save = useMemo(\n    () =>\n      debounce(async (data, Api) => {\n        await Api.updateStudentEWSStatus(data);\n      }, 1000),\n    [studentId]\n  );\n\n  useEffect(() => {\n    setStatus(multiEdit ? {} : initialStatus);\n  }, [initialStatus, studentId]);\n\n  useEffect(() => {\n    setStatus(multiEdit ? {} : initialStatus);\n  }, [multiEdit]);\n\n  const saveStatus = async (newStatus) => {\n    const saveObj = {\n      ...status,\n      status: newStatus.status,\n      student_id: studentId,\n      course_id: courseId,\n      modified: Date.now(),\n    };\n    setStatus(saveObj);\n    if (!multiEdit) {\n      save(saveObj, Api);\n    }\n    if (onChange) {\n      onChange(saveObj);\n    }\n  };\n\n  const publish = async (published) => {\n    const saveObj = {\n      ...status,\n      student_id: studentId,\n      course_id: courseId,\n      published: published,\n    };\n    if (!multiEdit) {\n      save(saveObj, Api);\n      setStatus(saveObj);\n    }\n    if (onChange) {\n      onChange(saveObj);\n    }\n  };\n\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n      {!multiEdit && (\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <div style={{ display: \"flex\", width: \"160px\" }}>\n            <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n              <span style={fonts.MEDIUM}>\n                {getTranslation(\"currentWarningLevel\")}\n              </span>\n              <span style={fonts.SMALL}>\n                {getLastModified(status?.modified)}\n              </span>\n            </div>\n          </div>\n          <div\n            style={{\n              ...style.statusButton,\n              cursor: \"default\",\n              backgroundColor: getColor(status?.status),\n              border: status?.status\n                ? 0\n                : `1px solid ${colors.borderColorDark}`,\n            }}\n          >\n            {getIcon(status?.status)}\n          </div>\n          {status?.status && (\n            <PublishIcon\n              size={14}\n              multiEdit={multiEdit}\n              published={status?.published}\n              onClick={(status) => {\n                publish(status);\n              }}\n            />\n          )}\n        </div>\n      )}\n      {multiEdit && (\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <span style={{ ...fonts.MEDIUM, width: \"140px\" }}>\n            {getTranslation(\"visibility\")}\n          </span>\n          <PublishIcon\n            multiEdit={multiEdit}\n            published={status?.published}\n            onClick={(status) => {\n              publish(status);\n            }}\n          />\n        </div>\n      )}\n      <div style={{ display: \"flex\", marginTop: \"16px\" }}>\n        <span\n          style={{\n            ...fonts.MEDIUM,\n            width: \"160px\",\n            minWidth: multiEdit ? \"140px\" : \"160px\",\n          }}\n        >\n          {getTranslation(\"setWarningLevel\")}\n        </span>\n        <div\n          style={{\n            display: \"flex\",\n            // width: '100%',\n            // justifyContent: 'space-around',\n            marginLeft: \"0px\",\n            flexWrap: \"wrap\",\n          }}\n        >\n          <EwsStatusButton\n            value={\"10\"}\n            selectedMulti={status?.status === \"10\"}\n            saveStatus={saveStatus}\n            multiEdit={multiEdit}\n            status={status}\n            icon={<HappyIcon />}\n            selectedColor={`${colors.ewsGreen}80`}\n            color={colors.ewsGreen}\n          />\n          <EwsStatusButton\n            value={\"20\"}\n            selectedMulti={status?.status === \"20\"}\n            saveStatus={saveStatus}\n            multiEdit={multiEdit}\n            status={status}\n            icon={<MediumIcon />}\n            selectedColor={`${colors.primary}80`}\n            color={colors.primary}\n          />\n          <EwsStatusButton\n            value={\"30\"}\n            selectedMulti={status?.status === \"30\"}\n            saveStatus={saveStatus}\n            multiEdit={multiEdit}\n            status={status}\n            icon={<SadIcon />}\n            selectedColor={`${colors.red}80`}\n            color={colors.red}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default StatusComponent;\n","import React, {\n  memo,\n  useContext, useEffect, useMemo, useRef, useState,\n} from 'react';\nimport {debounce} from 'lodash';\nimport {fonts} from '../theme';\nimport {getLastModified, GlobalContext} from '../utils';\nimport CheckboxWithText from '../components/CheckboxWithText';\nimport {getTranslation} from '../i18n';\n\nconst ExtraAdjustmentComponent = (props) => {\n  const {\n    extraAdjustments: initialExtraAdjustments = [],\n    extraAdjustmentsAvailable,\n    studentId,\n    courseId,\n    multiEdit,\n    isGrid,\n    onChange = false,\n    extraAdjustmentData = []\n  } = props;\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n\n  const [extraAdjustments, setExtraAdjustments] = useState(initialExtraAdjustments);\n\n  const added = useRef([]);\n  const removed = useRef([]);\n\n  useEffect(() => {\n    if(extraAdjustmentData.length){\n      setExtraAdjustments(extraAdjustmentData);\n    } else {\n      setExtraAdjustments([...initialExtraAdjustments]);\n    }\n    removed.current = [];\n    added.current = [];\n  }, [initialExtraAdjustments, studentId, multiEdit, extraAdjustmentData]);\n\n  const saveChanges = useMemo(() => debounce(async (Api, adjustments, courseId, studentId) => {\n    await Api.updateStudentExtraAdjustments2(adjustments.map(e => e.id), courseId, studentId);\n  }, 1000), [studentId]);\n\n  return (\n    <div style={{marginTop: '30px', display: 'flex', flexDirection: isGrid ? 'column' : 'row'}}>\n      <div style={{\n        display: 'flex', border: '0px solid', minWidth: '160px', flexDirection: 'column'\n      }}>\n        <span style={fonts.MEDIUM}>{getTranslation('extraAdjustments')}</span>\n        <span\n          style={fonts.SMALL}>{getLastModified(extraAdjustments ? extraAdjustments[extraAdjustments.length - 1]?.modified : null)}</span>\n      </div>\n      <div style={{marginLeft: isGrid ? '20px' : '2px'}}>\n        {extraAdjustmentsAvailable?.sort((a, b) => a.name.localeCompare(b.name)).map((e) => {\n          let checked = multiEdit ? false : extraAdjustments?.findIndex((a) => a.id === e.id) >= 0 || false;\n          let indeterminate = false;\n          if (extraAdjustmentData.length > 0) {\n            const adjustment = extraAdjustmentData.find(a => a.id === e.id);\n            checked = adjustment?.status === 'check';\n            indeterminate = adjustment?.status === 'partial';\n          }\n          const name = e.name;\n          const maxCharactersInName = isGrid ? 39 : 54;\n          return (\n            <div key={e.id}>\n              <CheckboxWithText\n                textWidth={isGrid ? '240px' : '380px'}\n                subText={''}\n                indeterminate={indeterminate}\n                toolTip={name.length > maxCharactersInName ? name : ''}\n                id={e.id + ' ' + studentId + multiEdit}\n                text={name}\n                onCheck={(check) => {\n                  let currentAdjustments;\n                  currentAdjustments = extraAdjustments.filter(a => a.id !== e.id);\n                  if (check) {\n                    currentAdjustments = [...currentAdjustments, e];\n                  }\n                  setExtraAdjustments(currentAdjustments);\n                  if (!multiEdit) {\n                    saveChanges(Api, currentAdjustments, courseId, studentId);\n                  }\n\n                  if (onChange) {\n                    onChange({currentAdjustments, courseId, studentId});\n                  }\n                }}\n                checked={checked}\n                style={{marginBottom: '-10px'}}\n                controlled\n              />\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(ExtraAdjustmentComponent);\n","import React from 'react';\nimport { getLastModified } from '../utils';\nimport { fonts } from '../theme';\nimport { getTranslation } from '../i18n';\n\nconst InternalCommentsComponent = (props) => {\n  const { comments } = props;\n  let lastComment = getTranslation('noComments');\n  let lastModified;\n  if (comments && comments.length > 0) {\n    lastComment = comments[comments.length - 1]?.comment;\n    lastModified = getLastModified(comments[comments.length - 1]?.modified);\n  }\n\n  return (\n    <div style={{ display: 'flex', marginTop: '30px' }}>\n      <div style={{\n        display: 'flex', flexDirection: 'column', minWidth: '160px', border: '0px solid', marginRight: '0px',\n      }}>\n        <span style={{ ...fonts.MEDIUM, whiteSpace: 'nowrap' }}>{getTranslation('internalComment')}</span>\n        <span style={{ ...fonts.MEDIUM }}>{lastModified}</span>\n      </div>\n      <span style={fonts.MEDIUM}>{lastComment}</span>\n    </div>\n\n  );\n};\nexport default InternalCommentsComponent;\n","import React, {useContext, useEffect, useRef, useState} from \"react\";\nimport {colors, fonts} from \"../theme\";\nimport Card from \"../components/card\";\nimport {GlobalContext} from \"../utils\";\nimport StatusComponent from \"./statusComponent\";\nimport ExtraAdjustmentComponent from \"./extraAdjustmentComponent\";\nimport InternalCommentsComponent from \"./internalCommentsComponent\";\nimport {getTranslation} from \"../i18n\";\n\nconst fields = `\n    name\n    extraAdjustments {\n      id\n      name\n    }\n    students {\n      id\n      first_name\n      last_name\n      email\n      EWS {\n        courseId\n        courseName\n        status {\n          status\n          published\n          modified\n        }\n        internalComments{\n          comment\n          modified\n        }\n        extraAdjustments{\n          id\n          name\n          modified\n        }\n      }\n    }\n`;\n\nconst EwsStudentCard = (props) => {\n  const {student, course, multiEdit, isGrid, onChange = false, extraAdjustmentData} = props;\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n  const [classroom, setClassroom] = useState();\n  const multiEditSaveObject = useRef({});\n\n  const getEWSData = async () => {\n    const response = await Api.getClassroom(fields);\n    setClassroom(response?.data?.classroom);\n  };\n\n  useEffect(() => {\n    getEWSData();\n  }, [student.id, multiEdit]);\n\n  useEffect(() => {\n    getEWSData();\n  }, []);\n\n  const ews = classroom?.students.find(s => s.id === student.id)?.EWS.find((e) => e.courseId === course.id);\n  const extraAdjustmentsAvailable = classroom?.extraAdjustments;\n  return (\n    <div>\n      <span\n        style={{\n          ...fonts.LARGE,\n          color: colors.brandColorPink,\n          marginLeft: \"16px\",\n        }}\n      >\n        {getTranslation(\"earlyWarningSystem\")}\n      </span>\n      <Card style={{marginTop: \"16px\", marginBottom: \"16px\"}}>\n        <StatusComponent\n          status={ews?.status}\n          studentId={student.id}\n          courseId={course.id}\n          multiEdit={multiEdit}\n          onChange={(ewsStatus) => {\n            multiEditSaveObject.current.ewsStatus = ewsStatus;\n            if (onChange) {\n              onChange(multiEditSaveObject.current);\n            }\n          }}\n        />\n        <ExtraAdjustmentComponent\n          isGrid={isGrid}\n          multiEdit={multiEdit}\n          studentId={student.id}\n          courseId={course.id}\n          extraAdjustments={ews?.extraAdjustments}\n          extraAdjustmentsAvailable={extraAdjustmentsAvailable}\n          extraAdjustmentData={extraAdjustmentData}\n          onChange={(adjustments) => {\n            multiEditSaveObject.current.extraAdjustments = adjustments;\n            if (onChange) {\n              onChange(multiEditSaveObject.current);\n            }\n          }}\n        />\n        {!multiEdit && (\n          <InternalCommentsComponent comments={ews?.internalComments}/>\n        )}\n      </Card>\n    </div>\n  );\n};\n\nexport default EwsStudentCard;\n","import React from 'react';\nimport Card from '../components/card';\nimport { colors, fonts } from '../theme';\n\nconst CourseInfoCard = (props) => {\n  const { course } = props;\n  return (\n    <Card style={{ marginBottom: '16px' }}>\n      <div style={{ display: 'flex', alignItems: 'center' }}>\n        <div\n          style={{\n            backgroundColor: colors.brandColorPink,\n            width: '50px',\n            height: '50px',\n            borderRadius: '25px',\n          }}\n        />\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            marginLeft: '16px',\n          }}\n        >\n          <span style={{ ...fonts.LARGE, fontWeight: '800' }}>\n            {course.name}\n          </span>\n          <span style={{ ...fonts.MEDIUM, color: colors.borderColorDark }}>\n            {course.code}\n          </span>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default CourseInfoCard;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null));\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"sb-ico-feedback_svg__Warstwa_2\",\n  \"data-name\": \"Warstwa 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"sb-ico-feedback_svg__TTopFull2\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"current\",\n  d: \"M22 4a2 2 0 00-2-2H4a2 2 0 00-2 2v18l4-4h14a2 2 0 002-2zm-9 10h-2v-2h2zm0-4h-2V6h2z\"\n})));\n\nfunction SvgSbIcoFeedback(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/0fe44ea9ef5034c0ef78ba029b98788d-sb-ico-feedback.svg\";\nexport { SvgSbIcoFeedback as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null));\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"sb-ico-note_svg__Warstwa_2\",\n  \"data-name\": \"Warstwa 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"sb-ico-note_svg__TTopFull2\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"current\",\n  d: \"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z\"\n})));\n\nfunction SvgSbIcoNote(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/adc5205d1a3aa1b4215527506b00eeb8-sb-ico-note.svg\";\nexport { SvgSbIcoNote as ReactComponent };","import {getTranslation} from \"../i18n\";\nimport {colors, fonts} from \"../theme\";\nimport {Visibility, VisibilityOff} from \"@material-ui/icons\";\nimport {ReactComponent as FeedbackIcon} from \"../images/sb-ico-feedback.svg\";\nimport {ReactComponent as NoteIcon} from \"../images/sb-ico-note.svg\";\nimport React, {memo} from \"react\";\nimport Tooltip from \"../components/tooltip\";\nimport PublishedIcon from \"../components/publishedIcon\";\n\nconst styles = {\n  item: {\n    display: \"flex\",\n    width: \"30px\",\n    height: \"40px\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    // border: '1px solid',\n  },\n};\n\nconst tt1 = getTranslation(\"courseProgressAssessmentLabel\");\nconst tt2 = getTranslation(\"overallFeedback\");\nconst tt3 = getTranslation(\"overallPrivateNotesMode\");\n\nconst CourseObjectiveSummaryItem = (props) => {\n  const {assessment, grade} = props;\n  return (\n    <div style={{\n      display: \"flex\",\n      alignItems: \"center\",\n      borderLeft: `1px solid ${colors.borderColor}`,\n      borderRight: `1px solid ${colors.borderColor}`,\n      paddingRight: '6px'\n    }}>\n      <Tooltip title={tt1}>\n        <div style={styles.item}>\n          <span\n            style={{\n              ...fonts.LARGE,\n              color: grade?.color || colors.iconColorLight,\n              fontWeight: \"800\",\n            }}\n          >\n            {grade?.name || \"-\"}\n          </span>\n          {grade?.name && (\n            <PublishedIcon published={assessment?.grade_published} active={true}/>\n          )}\n        </div>\n      </Tooltip>\n      <Tooltip title={tt2}>\n        <div style={styles.item}>\n          <FeedbackIcon\n            style={{height: \"20px\", width: \"20px\"}}\n            fill={\n              assessment?.feedback ? colors.iconColor : colors.iconColorLight\n            }\n          />\n          <PublishedIcon published={assessment?.feedback_published} active={assessment?.feedback}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt3}>\n        <div style={{display: \"flex\", justifyContent: \"center\"}}>\n          <NoteIcon\n            style={{height: \"20px\", width: \"20px\", marginBottom: \"10px\"}}\n            fill={\n              assessment?.private_note ? colors.iconColor : colors.iconColorLight\n            }\n          />\n        </div>\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default memo(CourseObjectiveSummaryItem);\n","import React, {memo, useContext, useEffect, useMemo, useReducer, useRef, useState} from 'react';\nimport {debounce} from 'lodash';\nimport AssessmentSlider from '../components/assessmentSlider';\nimport {getLastModified, GlobalContext} from '../utils';\nimport FeedbackInput from '../components/feedbackInput';\nimport {getTranslation} from '../i18n';\nimport fonts from '../theme/fonts';\n\nconst CourseObjectiveAssessment = (props) => {\n  const {\n    assessment: initialAssessment,\n    defaultIndex,\n    id,\n    gradeSystemValues,\n    knowledgeRequirements,\n    multiEdit = false,\n    onSave\n  } = props;\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n  const [gradeId, setGradeId] = useState(initialAssessment?.grade_id);\n  const assessment = useRef(initialAssessment);\n  const [initialIndex, setInitialIndex] = useState(defaultIndex);\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  useEffect(() => {\n    setInitialIndex(defaultIndex);\n  }, [defaultIndex, id]);\n\n  useEffect(() => {\n    assessment.current = initialAssessment;\n    forceUpdate();\n    setGradeId(initialAssessment?.grade_id);\n  }, [id]);\n\n  const saveAssessment = useMemo(() => debounce(async (Api, assessment) => {\n    await Api.updateCourseObjectiveAssessment([assessment]);\n  }, 1000), [initialAssessment?.id]);\n\n  const save = () => {\n    if (multiEdit) {\n      onSave(assessment.current);\n    } else {\n      saveAssessment(Api, assessment.current);\n    }\n  };\n\n  return (\n    <div\n      style={{display: 'flex', flexDirection: 'column', width: '100%'}}\n    >\n      <AssessmentSlider\n        id={id}\n        values={gradeSystemValues}\n        defaultIndex={initialIndex}\n        onChange={(index) => setGradeId(gradeSystemValues[index].id)}\n        published={assessment.current?.grade_published}\n        onPublish={(value) => {\n          assessment.current = {\n            ...assessment.current,\n            grade_published: value,\n          };\n          save();\n        }}\n        helpText={getLastModified(assessment.current?.grade_last_edit)}\n        showPublish={true}\n        onChangeCommit={() => {\n          assessment.current = {\n            ...assessment.current,\n            grade_id: gradeId,\n          };\n          save();\n        }}\n        disabled={false}\n        multiEdit={multiEdit}\n      />\n      <div\n        style={{\n          marginTop: \"20px\",\n          height: \"100px\",\n          overflow: \"scroll\",\n          ...fonts.MEDIUM,\n        }}\n        dangerouslySetInnerHTML={{\n          __html: knowledgeRequirements?.find((k) => k.grade_id === gradeId)\n            ?.description,\n        }}\n      />\n      <FeedbackInput\n        text={assessment.current?.feedback}\n        placeholder={getTranslation('overallFeedback')}\n        onTextChange={(text) => {\n          assessment.current = {...assessment.current, feedback: text};\n          save();\n        }}\n        published={assessment.current?.feedback_published}\n        onPublish={(id, state) => {\n          assessment.current = {...assessment.current, feedback_published: state};\n          save();\n        }}\n        id={assessment.current?.id}\n        assessment={assessment.current}\n        helperText={getLastModified(assessment.current?.feedback_last_edit)}\n        warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n        multiEdit={multiEdit}\n      />\n      <FeedbackInput\n        text={assessment.current?.private_note}\n        placeholder={getTranslation('overallPrivateNoteInput')}\n        onTextChange={(text) => {\n          assessment.current = {...assessment.current, private_note: text};\n          save();\n        }}\n        hideEye\n        id={assessment.current?.id}\n        assessment={assessment.current}\n        helperText={getLastModified(assessment.current?.private_note_last_edit)}\n        warningText={multiEdit ? getTranslation('warning_overwrite_text') : ''}\n      />\n    </div>\n  );\n};\n\nexport default memo(CourseObjectiveAssessment);\n","import React, { useLayoutEffect, useRef } from \"react\";\nimport { colors, fonts } from \"../theme\";\nimport Tooltip from \"../components/tooltip\";\n\nconst ProficiencyProfile = (props) => {\n  const { onWidth, profile } = props;\n  const ref = useRef();\n\n  useLayoutEffect(() => {\n    if (ref.current) {\n      if (onWidth) {\n        onWidth(ref.current.offsetWidth);\n      }\n    }\n  }, [profile]);\n\n  return (\n    <div ref={ref} style={{ display: \"flex\", maxWidth: \"180px\" }}>\n      {profile?.map((p) => (\n        <Tooltip title={p.grade.label}>\n          <div\n            style={{\n              width: \"30px\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              border: \"0px solid\",\n              display: \"flex\",\n            }}\n          >\n            <span\n              style={{\n                ...fonts.SMALL,\n                fontWeight: p.quantity ? 600 : 400,\n                color: p.quantity ? p.grade.color : colors.borderColorDark,\n              }}\n            >\n              {p.quantity}\n              {profile.length < 8 ? `/${profile.total}` : \"\"}\n            </span>\n          </div>\n        </Tooltip>\n      ))}\n    </div>\n  );\n};\nexport default ProficiencyProfile;\n","import React, {memo, useEffect, useReducer, useRef, useState} from \"react\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  ButtonBase,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { colors, fonts } from \"../theme\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport { getTranslation } from \"../i18n\";\nimport CourseObjectiveSummaryItem from \"./courseObjectiveSummaryItem\";\nimport CourseObjectiveAssessment from \"./courseObjectiveAssessment\";\nimport ProficiencyProfile from \"./proficiencyProfile\";\n\nconst widthThreshold = 500;\n\nconst CourseObjectiveAssessmentItem = (props) => {\n  const {\n    id,\n    gradeSystemValues,\n    defaultIndex,\n    assessment: initialAssessment,\n    knowledgeRequirements,\n    objective,\n    onObjectiveSelected,\n    proficiencyProfiles,\n    selectedGradeSystem,\n    multiEdit = false,\n    onSave,\n  } = props;\n\n  const ref = useRef();\n  const assessment = useRef(initialAssessment);\n  const [width, setWidth] = useState();\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n  const [profileWidth, setProfileWidth] = useState(0);\n\n  useEffect(() => {\n    setWidth(ref?.current?.clientWidth);\n  },[]);\n\n  useEffect(() => {\n    assessment.current = initialAssessment;\n    forceUpdate();\n  }, [id, initialAssessment]);\n\n  const grade = gradeSystemValues.find(\n    (g) => g.id === assessment.current?.grade_id\n  );\n\n  const name = objective?.name;\n  const wideItem = width > widthThreshold;\n\n  const empty = selectedGradeSystem?.grades.map(g => ({grade: {color:'transparent', label:''}, quantity: 1}))||{};\n  empty.total = 0;\n\n  return (\n    <Accordion ref={ref} TransitionProps={{ unmountOnExit: true }}>\n      <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            width: \"100%\",\n          }}\n        >\n          <Tooltip title={name.length > 15 ? name : \"\"}>\n            <span\n              style={{\n                ...fonts.MEDIUM,\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                whiteSpace: \"nowrap\",\n                width: wideItem ? `${300 - profileWidth}px` : \"150px\",\n              }}\n            >\n              {name}\n            </span>\n          </Tooltip>\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            {wideItem && proficiencyProfiles && (\n              <ProficiencyProfile\n                onWidth={setProfileWidth}\n                profile={\n                  proficiencyProfiles[objective?.id] ? proficiencyProfiles[objective?.id] : empty\n                }\n              />\n            )}\n            <CourseObjectiveSummaryItem\n              assessment={assessment.current}\n              grade={grade}\n            />\n            {wideItem && (\n              <ButtonBase\n                onClick={(e) => {\n                  e.stopPropagation();\n                  e.nativeEvent.stopImmediatePropagation();\n                  onObjectiveSelected(objective);\n                }}\n                focusRipple\n                style={{\n                  border: `1px solid ${colors.grey}`,\n                  padding: \"10px\",\n                  marginLeft: \"10px\",\n                  backgroundColor: colors.white,\n                }}\n              >\n                <span style={{ ...fonts.MEDIUM, whiteSpace: \"nowrap\" }}>\n                  {getTranslation(\"ShowDataButton\")}\n                </span>\n              </ButtonBase>\n            )}\n          </div>\n        </div>\n      </AccordionSummary>\n      <AccordionDetails>\n        <CourseObjectiveAssessment\n          assessment={initialAssessment}\n          defaultIndex={defaultIndex}\n          id={id}\n          gradeSystemValues={gradeSystemValues}\n          knowledgeRequirements={knowledgeRequirements}\n          multiEdit={multiEdit}\n          onSave={(assessment) => {\n            onSave({id: objective.id, ...assessment})\n          }}\n        />\n      </AccordionDetails>\n    </Accordion>\n  );\n};\nexport default memo(CourseObjectiveAssessmentItem);\n","import React, {useContext, useEffect, useRef, useState} from \"react\";\nimport {colors, fonts} from \"../theme\";\nimport {getGradeSystemValues, GlobalContext} from \"../utils\";\nimport CourseObjectiveAssessmentItem from \"./courseObjectiveAssessmentItem\";\nimport {getTranslation} from \"../i18n\";\nimport {InputBase, MenuItem, Select, withStyles} from \"@material-ui/core\";\n\nconst BootstrapInput = withStyles(() => ({\n  input: {\n    ...fonts.MEDIUM,\n    fontSize: \"16px\",\n    height: \"34px\",\n    width: \"0px\",\n    alignItems: \"flex-end\",\n    display: \"flex\",\n    borderBottom: `1px solid ${colors.borderColor}`,\n    padding: \"0px\",\n    margin: \"0px\",\n  },\n}))(InputBase);\n\nconst StyledSelect = withStyles(() => ({\n  root: {\n    width: \"0px\",\n    padding: \"0px\",\n    margin: \"0px\",\n    border: \"0px solid\",\n    borderLeft: `1px solid ${colors.borderColor}`,\n  },\n  input: {\n    color: \"transparent\",\n  },\n  select: {\n    paddingRight: \"9px !important\",\n    color: \"transparent\",\n  },\n}))(Select);\n\nconst fields = `\n   name\n    courses {\n      id\n      name\n      gradeSystem{\n        name\n        is_main\n        is_final\n        grades{\n          id\n          name\n          is_passed\n          color\n          label\n        }\n      }\n      objectives {\n        id\n        name\n        description\n        knowledgeRequirements {\n          description\n          grade_id\n        }\n      }\n    }\n     students {\n      id\n      first_name\n      last_name\n      assignments {\n        gradeSystem{\n          id\n          name\n          is_counter\n          grades{\n            id\n            label\n            order\n            color\n          }\n        }\n        objectiveAssessments {\n        student_id\n          objective_id\n          grade {\n            id\n            label\n            order\n            color\n          }\n        }\n        assignments {\n          gradeSystem{\n            id\n            name\n            is_counter\n            grades{\n              id\n              label\n              order\n              color\n            }\n          }\n          objectiveAssessments {\n            student_id\n            objective_id\n            grade {\n              id\n              label\n              order\n              color\n            }\n          }\n        }\n      }\n      courseAssessments {\n        courseId\n        courseName\n        courseObjectiveAssessments {\n          name\n          id\n          grade_published\n          grade_id\n          objective_id\n          active\n          grade_last_edit\n          feedback\n          feedback_published\n          feedback_last_edit\n          private_note\n          private_note_last_edit\n        }\n      }\n    }\n  `;\n\nconst SIZE_THRESHOLD = 500;\n\nconst CourseObjectiveAssessmentCard = (props) => {\n  const {studentId, courseId, onObjectiveSelected, multiEdit, onSave} = props;\n  const context = useContext(GlobalContext);\n  const {Api, networkTraffic} = context;\n  const [course, setCourse] = useState();\n  const [students, setStudents] = useState();\n  const [saving, setSaving] = useState(false);\n  const [proficiencyProfiles, setProficiencyProfiles] = useState(false);\n  const [selectedGradeSystem, setSelectedGradeSystem] = useState(0);\n  const gradeSystemsUsed = useRef([]);\n  const ref = useRef();\n  const [width, setWidth] = useState();\n  const changedObjectiveAssessments = useRef({});\n  const multieditRef = useRef(false);\n\n  let assessment = {};\n\n  const getObjectives = async () => {\n    const response = await Api.getClassroom(fields);\n    const classroom = response?.data?.classroom;\n    const allAssignments = classroom?.students.find(s => s.id === studentId)?.assignments\n      ?.map((a) => [a, ...(a.assignments || [])])\n      ?.flat();\n\n    gradeSystemsUsed.current = allAssignments?.reduce((acc, ass) => {\n      if (\n        ass?.gradeSystem?.id &&\n        !acc.find((a) => a?.id === ass?.gradeSystem?.id) &&\n        !ass.gradeSystem?.is_counter\n      ) {\n        acc.push(ass?.gradeSystem);\n      }\n      return acc;\n    }, []);\n\n    const prProfile = gradeSystemsUsed.current.map((grs) => {\n      const assignments = allAssignments.filter(\n        (a) => a?.gradeSystem?.id === grs.id\n      );\n      const prProfile = assignments?.reduce((acc, a) => {\n        a?.objectiveAssessments?.filter(o => o.student_id === studentId)?.forEach((oa) => {\n          if (!acc.hasOwnProperty(oa.objective_id)) {\n            acc[oa.objective_id] = grs.grades.map((g) => ({\n              quantity: 0,\n              grade: g,\n            }));\n            acc[oa.objective_id].total = 0;\n          }\n          if (oa.grade) {\n            acc[oa.objective_id].total += 1;\n            if (oa.grade.order === 0) {\n              const newQuantity = acc[oa.objective_id][0].quantity + 1;\n              acc[oa.objective_id][0] = {\n                ...acc[oa.objective_id][0],\n                quantity: newQuantity,\n              };\n            }\n            for (let x = oa.grade.order; x >= 1; x--) {\n              const newQuantity = acc[oa.objective_id][x].quantity + 1;\n              acc[oa.objective_id][x] = {\n                ...acc[oa.objective_id][x],\n                quantity: newQuantity,\n              };\n            }\n          }\n        });\n        return acc;\n      }, {});\n      return {\n        gradeSystemId: grs.id,\n        gradeSystemName: grs.name,\n        objectives: prProfile,\n      };\n    });\n    setProficiencyProfiles(prProfile);\n\n    setCourse(classroom?.courses.find((c) => c.id === courseId));\n    if (!multieditRef.current) {\n      setStudents(classroom?.students);\n    }\n  };\n\n  // A little bit hacky, reload classroom if something has been saved\n  useEffect(() => {\n    if (networkTraffic === \"POST\" || networkTraffic === \"PUT\") {\n      setSaving(true);\n    } else if (saving) {\n      getObjectives();\n      setSaving(false);\n    }\n  }, [networkTraffic]);\n\n  useEffect(() => {\n    getObjectives();\n    setWidth(ref?.current?.clientWidth);\n  }, []);\n\n  useEffect(() => {\n    getObjectives();\n  }, [studentId]);\n\n  useEffect(() => {\n    multieditRef.current = multiEdit;\n    if (!multiEdit) {\n      getObjectives();\n      changedObjectiveAssessments.current = {};\n    }\n  }, [multiEdit]);\n\n  const gradeSystemValues = getGradeSystemValues(\n    course?.gradeSystem.find((g) => g.is_main)\n  );\n\n  if (!multiEdit) {\n    assessment = students?.find(s => s.id === studentId).courseAssessments?.find((a) => a.courseId === courseId);\n  }\n\n  return (\n    <div style={{marginTop: \"30px\", position: \"relative\"}} ref={ref}>\n      <span\n        style={{\n          ...fonts.LARGE,\n          color: colors.brandColorPink,\n          marginLeft: \"16px\",\n        }}\n      >\n        {getTranslation(\"objectivesText\")}\n      </span>\n      {width > SIZE_THRESHOLD && gradeSystemsUsed.current.length > 0 && (\n        <div\n          style={{\n            border: `1px solid ${colors.borderColor}`,\n            backgroundColor: colors.white,\n            position: \"absolute\",\n            right: \"244px\",\n            top: \"0px\",\n            display: \"flex\",\n            height: \"30px\",\n            maxWidth: \"205px\",\n          }}\n        >\n          <>\n            {gradeSystemsUsed.current[selectedGradeSystem]?.grades?.map((g) => {\n              return (\n                <div\n                  style={{\n                    width: \"30px\",\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    border: \"0px solid\",\n                  }}\n                >\n                  <span style={{...fonts.SMALL, color: g.color}}>\n                    {g.label}\n                  </span>\n                </div>\n              );\n            })}\n            <StyledSelect\n              value={selectedGradeSystem}\n              onChange={({target}) => {\n                setSelectedGradeSystem(target.value);\n              }}\n              input={<BootstrapInput/>}\n            >\n              {gradeSystemsUsed.current.map((g, i) => {\n                return <MenuItem value={i}>{g.name}</MenuItem>;\n              })}\n            </StyledSelect>\n          </>\n        </div>\n      )}\n      <div style={{marginTop: \"16px\"}}>\n        {course?.objectives.sort((a, b) => (a.name.localeCompare(b.name, undefined, {\n          numeric: true,\n          sensitivty: 'base'\n        }))).map((o) => {\n          const objectiveAssessment = assessment?.courseObjectiveAssessments?.find(\n            (oa) => oa.objective_id === o.id\n          );\n          const defaultIndex = objectiveAssessment?.grade_id\n            ? gradeSystemValues.findIndex(\n              (g) => g.id === objectiveAssessment?.grade_id\n            )\n            : 0;\n          return (\n            <CourseObjectiveAssessmentItem\n              multiEdit={multiEdit}\n              onSave={(assessment) => {\n                changedObjectiveAssessments.current[assessment.id] = assessment;\n                onSave(changedObjectiveAssessments.current);\n              }}\n              key={o.id}\n              gradeSystemValues={gradeSystemValues}\n              defaultIndex={defaultIndex}\n              assessment={objectiveAssessment}\n              knowledgeRequirements={o.knowledgeRequirements}\n              objective={o}\n              id={objectiveAssessment?.id}\n              selectedGradeSystem={\n                gradeSystemsUsed.current[selectedGradeSystem]\n              }\n              onObjectiveSelected={onObjectiveSelected}\n              proficiencyProfiles={\n                proficiencyProfiles[selectedGradeSystem]?.objectives\n              }\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\nexport default CourseObjectiveAssessmentCard;\n","import React from \"react\";\nimport { colors, fonts } from \"../theme\";\nimport {getTranslation} from '../i18n';\n\nconst style = {\n  item: {\n    ...fonts.SMALL,\n    backgroundColor: colors.white,\n    width: \"44px\",\n    alignItems: \"center\",\n    display: \"flex\",\n    borderTop: `1px solid ${colors.borderColor}`,\n    borderRight: `1px solid ${colors.borderColor}`,\n  },\n};\n\nconst AssignmentAccordionItemHeader = (props) => {\n  const { objectivesWidth } = props;\n  return (\n    <div\n      style={{\n        top: \"-30px\",\n        left: \"236px\",\n        height: \"30px\",\n        display: \"flex\",\n        position: \"absolute\",\n      }}\n    >\n      <div\n        style={{\n          ...style.item,\n          borderLeft: `1px solid ${colors.borderColor}`,\n          borderTopLeftRadius: \"4px\",\n          justifyContent: \"center\",\n          width: '89px',\n        }}\n      >\n        <span>{getTranslation('status')}</span>\n      </div>\n      <div\n        style={{\n          ...style.item,\n          width: \"178px\",\n        }}\n      >\n        <span style={{ marginLeft: \"8px\" }}>{getTranslation('courseProgressAssessmentLabel')}</span>\n      </div>\n      <div\n        style={{\n          ...style.item,\n          borderTopRightRadius: \"4px\",\n          width: `${objectivesWidth}px`,\n        }}\n      >\n        <span\n          style={{\n            marginLeft: \"8px\",\n            width: objectivesWidth,\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n          }}\n        >\n          {getTranslation('learnignObjectivesLabel')}\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default AssignmentAccordionItemHeader;\n","import {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  Tooltip,\n} from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport React, {useEffect, useRef, useState} from \"react\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport {getAssessmentIcon, getAssignmentIcon, getStatusText, getSubmittedIcon, getSubmittedStatusText} from \"../utils\";\nimport {colors, fonts} from \"../theme\";\nimport GridSummaryItem from \"../components/gridSummaryItem\";\nimport AssignmentAssessment from \"../components/assignmentAssessment\";\nimport GridObjectivesSummaryItem from \"../components/GridObjectivesSummaryItem\";\nimport ObjectivesList from \"../components/objectivesList\";\nimport AssignmentAccordionItemHeader from \"./assignmentAccordionItemHeader\";\n\nconst widthThreshold = 500;\n\nconst StyledAccordionDetails = withStyles({\n  root: {\n    backgroundColor: colors.grey,\n  },\n})(AccordionDetails);\n\nconst StyledAccordion = withStyles({\n  root: {\n    '&$expanded': {\n      marginTop: '0px',\n    },\n  },\n  expanded: {},\n})(Accordion);\n\nconst StyledAccordionSummary = withStyles({\n  root: {\n    minHeight: \"50px\",\n    padding: \"0px\",\n    marginLeft: \"10px\",\n    \"&$expanded\": {\n      minHeight: \"0px\",\n      marginTop: '0px',\n    },\n  },\n  content: {\n    // padding: '0px',\n    margin: \"0px\",\n    \"&$expanded\": {\n      padding: \"0px\",\n      margin: \"0px\",\n      minHeight: \"0px\",\n    },\n  },\n  expandIcon: {\n    padding: '0px',\n    margin: \"0px 8px 0px 0px\",\n    \"&$expanded\": {},\n  },\n  expanded: {},\n})(AccordionSummary);\n\nconst gridStyle = {\n  borderLeft: `1px solid ${colors.borderColor}`,\n  borderRight: `1px solid ${colors.borderColor}`,\n  width:'178px',\n};\n\nconst AssignmentAccordionItem = (props) => {\n  const {\n    assessment,\n    assignment,\n    courseDefinitions,\n    style = {},\n    objectiveAssessments = [],\n    objectives = [],\n    showObjectives = false,\n    selectedObjective,\n    indented = false,\n    contentWidth = null,\n    firstItem = false,\n    onSave,\n  } = props;\n\n  const ref = useRef();\n  const [width, setWidth] = useState();\n\n  useEffect(() => {\n    setWidth(ref?.current?.clientWidth);\n  });\n\n  if (!assessment) {\n    return null;\n  }\n\n  const wideItem = width > widthThreshold;\n  let itemWidth = wideItem ? 270 : 170;\n  if (indented) {\n    itemWidth -= 20;\n  }\n  if (showObjectives) {\n    itemWidth -= 100;\n  }\n\n  return (\n    <div style={{position: \"relative\"}}>\n      {firstItem && wideItem && (\n        <AssignmentAccordionItemHeader\n          objectivesWidth={objectives?.length * 40}\n        />\n      )}\n      <StyledAccordion\n        square\n        ref={ref}\n        style={{...style, border: \"0px solid green\"}}\n        TransitionProps={{unmountOnExit: true}}\n      >\n        <StyledAccordionSummary expandIcon={<ExpandMoreIcon/>}>\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n              padding: \"0px 10px 0px 10px\",\n              // border:'1px solid',\n            }}\n          >\n            <div\n              style={{\n                // border: '1px solid',\n                display: \"flex\",\n                alignItems: \"center\",\n                marginLeft: indented ? \"20px\" : 0,\n              }}\n            >\n              {getAssignmentIcon(assignment)}\n              <span\n                style={{\n                  ...fonts.MEDIUM,\n                  textOverflow: \"ellipsis\",\n                  overflow: \"hidden\",\n                  whiteSpace: \"nowrap\",\n                  // border: '1px solid',\n                  width: `${itemWidth}px`,\n                }}\n              >\n                {assignment.title}\n              </span>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                borderLeft: `1px solid ${colors.borderColor}`,\n              }}\n            >\n              <Tooltip title={getStatusText(assessment.status_new)}>\n                <div style={{width: '44px', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n                  {getAssessmentIcon({\n                    status: assessment.status_new,\n                    style: {\n                      maxHeight: \"24px\",\n                      padding: \"0px 10px 0px 10px\",\n                    },\n                  })}\n                </div>\n              </Tooltip>\n              {wideItem &&\n              <Tooltip\n                title={assignment.use_submitted_status ? getSubmittedStatusText(assessment.submitted_status) : ''}>\n                <div style={{\n                  borderLeft: `1px solid ${colors.borderColor}`,\n                  width: '44px',\n                  display: 'flex',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  height: '50px'\n                }}>\n                  {assignment.use_submitted_status && getSubmittedIcon({status: assessment.submitted_status})}\n                </div>\n              </Tooltip>\n              }\n              {wideItem && (\n                <div style={{display: \"flex\", border: \"0px solid\"}}>\n                  <GridSummaryItem assessment={assessment} style={gridStyle} />\n                  {showObjectives && (\n                    <GridObjectivesSummaryItem\n                      objectives={objectives}\n                      assessments={objectiveAssessments}\n                      selectedObjective={selectedObjective}\n                      gradeOnly={true}\n                    />\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </StyledAccordionSummary>\n        <StyledAccordionDetails>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              width: contentWidth ? `${contentWidth}px` : \"100%\",\n            }}\n          >\n            <AssignmentAssessment\n              assignment={assignment}\n              assessment={assessment}\n              onSave={onSave}\n            />\n            <ObjectivesList\n              onSave={onSave}\n              assignmentAssessmentId={assessment.id}\n              courseDefinitions={courseDefinitions}\n              objectiveAssessments={objectiveAssessments}\n              gradeSystem={assignment?.gradeSystem}\n              isTopic={assignment?.is_topic}\n            />\n          </div>\n        </StyledAccordionDetails>\n      </StyledAccordion>\n    </div>\n  );\n};\nexport default AssignmentAccordionItem;\n","import React, {useContext, useEffect, useRef, useState} from 'react';\nimport {colors, fonts} from \"../theme\";\nimport {\n  filterAssignmentsOnCourseId,\n  filterAssignmentsOnObjective,\n  GlobalContext,\n} from \"../utils\";\nimport AssignmentAccordionItem from \"./assignmentAccordionItem\";\nimport {getTranslation} from \"../i18n\";\n\nconst fields = `\n    name\n    courseDefinitions{\n      id\n      name\n      objectives{\n        id\n        name\n      }\n    }\n    students {\n      first_name\n      last_name\n    }\n    assignments {\n      id\n      title\n      is_topic\n      connected\n      state\n      worktype\n      use_submitted_status\n      courseDefinitions {\n        id\n      }\n      gradeSystem {\n        name\n        is_counter\n        grades {\n          id\n          name\n          color\n        }\n      }\n      objectiveAssessments {\n        id\n        objective_id\n        objectiveName\n        objectiveDescription\n        feedback\n        feedback_published\n        private_note\n        grade_published\n        assessment_id\n        grade_id\n        feedback_last_edit\n        private_note_last_edit\n        grade_last_edit\n        self_assessment\n        self_assessment_last_edit\n        last_edit_for_student\n        student_id\n        counter_grade_0\n        counter_grade_1\n        counter_grade_2\n        counter_grade_3\n        counter_grade_4\n        counter_grade_5\n        counter_grade_6\n        counter_grade_7\n        counter_grade_8\n        counter_grade_9\n        max_counter_grade_0\n        max_counter_grade_1\n        max_counter_grade_2\n        max_counter_grade_3\n        max_counter_grade_4\n        max_counter_grade_5\n        max_counter_grade_6\n        max_counter_grade_7\n        max_counter_grade_8\n        max_counter_grade_9\n        grade {\n          id\n          name\n          is_passed\n          color\n        }\n      }\n      assessments {\n        id\n        status\n        grade_id\n        grade_name\n        grade_color\n        grade_published\n        grade_last_edit\n        feedback\n        feedback_published\n        feedback_last_edit\n        result\n        result_last_edit\n        result_published\n        private_note\n        private_note_last_edit\n        self_assessment\n        self_assessment_last_edit\n        student_id\n        status_new\n        submitted_status\n      }\n      assignments {\n        id\n        title\n        connected\n        state\n        worktype\n        use_submitted_status\n        courseDefinitions {\n          id\n        }\n        gradeSystem {\n          name\n          is_counter\n          grades {\n            id\n            name\n            color\n          }\n        }\n        objectiveAssessments {\n          id\n          objective_id\n          objectiveName\n          objectiveDescription\n          feedback\n          feedback_published\n          private_note\n          grade_published\n          assessment_id\n          grade_id\n          feedback_last_edit\n          private_note_last_edit\n          grade_last_edit\n          self_assessment\n          self_assessment_last_edit\n          last_edit_for_student\n          student_id\n          counter_grade_0\n          counter_grade_1\n          counter_grade_2\n          counter_grade_3\n          counter_grade_4\n          counter_grade_5\n          counter_grade_6\n          counter_grade_7\n          counter_grade_8\n          counter_grade_9\n          max_counter_grade_0\n          max_counter_grade_1\n          max_counter_grade_2\n          max_counter_grade_3\n          max_counter_grade_4\n          max_counter_grade_5\n          max_counter_grade_6\n          max_counter_grade_7\n          max_counter_grade_8\n          max_counter_grade_9\n          grade {\n            id\n            name\n            is_passed\n            color\n          }\n        }\n        assessments {\n          id\n          status\n          grade_id\n          grade_name\n          grade_color\n          grade_published\n          grade_last_edit\n          feedback\n          feedback_published\n          feedback_last_edit\n          result\n          result_last_edit\n          result_published\n          private_note\n          private_note_last_edit\n          self_assessment\n          self_assessment_last_edit\n          student_id\n          status_new\n          submitted_status\n        }\n      }\n    }\n`;\n\nconst AssignmentsCard = (props) => {\n  const {\n    studentId,\n    courseId,\n    showObjectives = false,\n    selectedObjective = null,\n    noTitle = false,\n    contentWidth = null,\n    style = {},\n  } = props;\n  const context = useContext(GlobalContext);\n  const {Api, networkTraffic} = context;\n  const [classroom, setClassroom] = useState();\n  const [assignments, setAssignments] = useState([]);\n  const saving = useRef(false);\n  const meSaving = useRef(false);\n\n  const getClassroom = async () => {\n    const response = await Api.getClassroom(fields);\n    setClassroom(response?.data?.classroom);\n    let {assignments: ass} = response?.data?.classroom;\n    ass = filterAssignmentsOnCourseId(ass, courseId);\n    if (selectedObjective) {\n      ass = filterAssignmentsOnObjective(ass, selectedObjective?.id);\n    }\n    setAssignments(ass);\n\n  };\n\n  // A little bit hacky, reload classroom if something has been saved\n  useEffect(() => {\n    if (networkTraffic === \"POST\" || networkTraffic === \"PUT\") {\n      saving.current = true;\n    } else if (saving.current) {\n      if (!meSaving.current) {\n        getClassroom();\n      }\n      meSaving.current = false;\n      saving.current = false;\n    }\n  }, [networkTraffic]);\n\n  useEffect(() => {\n    getClassroom();\n  }, [selectedObjective?.id, studentId]);\n\n  let firstItem = false;\n  return (\n    <div style={{marginTop: \"36px\"}}>\n      {!noTitle && assignments?.length > 0 && (\n        <span\n          style={{\n            ...fonts.LARGE,\n            color: colors.brandColorPink,\n            marginLeft: \"16px\",\n          }}\n        >\n          {getTranslation(\"topicsAndAssignments\")}\n        </span>\n      )}\n      <div style={{display: \"flex\"}}>\n        <div\n          style={{\n            marginTop: noTitle ? \"-12px\" : \"16px\",\n            boxShadow: \"0px 5px 10px rgba(0,0,0,0.1)\",\n          }}\n        >\n          {assignments\n            ?.sort((a, b) => a.title.localeCompare(b.title))\n            .map((assignment) => {\n              const isConnected = assignment.connected || assignment?.assignments?.filter(a => a.connected).length > 0;\n              if(!isConnected){\n                return null;\n              }\n              const assessment = assignment.assessments.find(\n                (a) => a.student_id === studentId\n              );\n\n              if (!firstItem && assessment) {\n                firstItem = assessment.id;\n              }\n              return (\n                <div style={{...style}} key={assignment.id}>\n                  <AssignmentAccordionItem\n                    onSave={() => {\n                      meSaving.current = true;\n                    }}\n                    firstItem={assessment?.id === firstItem}\n                    contentWidth={contentWidth}\n                    selectedObjective={selectedObjective}\n                    assessment={assessment}\n                    assignment={assignment}\n                    showObjectives={showObjectives}\n                    objectiveAssessments={assignment?.objectiveAssessments.filter(\n                      (oa) => oa.student_id === studentId\n                    )}\n                    objectives={\n                      classroom?.courseDefinitions.find(\n                        (c) => c.id === courseId\n                      )?.objectives\n                    }\n                    courseDefinitions={classroom?.courseDefinitions.filter(\n                      (cd) => cd.id === courseId\n                    )}\n                  />\n                  {assignment.assignments?.filter(a => a.connected)?.map((as) => {\n                    const ass = as.assessments.find(\n                      (a) => a.student_id === studentId\n                    );\n                    return (\n                      <AssignmentAccordionItem\n                        onSave={() => {\n                          meSaving.current = true;\n                        }}\n                        contentWidth={contentWidth}\n                        selectedObjective={selectedObjective}\n                        indented\n                        key={as.id}\n                        assessment={ass}\n                        assignment={as}\n                        showObjectives={showObjectives}\n                        objectiveAssessments={as?.objectiveAssessments.filter(\n                          (oa) => oa.student_id === studentId\n                        )}\n                        objectives={\n                          classroom?.courseDefinitions.find(\n                            (c) => c.id === courseId\n                          )?.objectives\n                        }\n                        courseDefinitions={classroom?.courseDefinitions.filter(\n                          (cd) => cd.id === courseId\n                        )}\n                      />\n                    );\n                  })}\n                </div>\n              );\n            })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AssignmentsCard;\n","import React, {memo, useContext, useEffect, useRef, useState} from \"react\";\nimport {GlobalContext} from \"../utils\";\nimport CourseAssessmentCard from \"./courseAssessmentCard\";\nimport EwsStudentCard from \"./ewsStudentCard\";\nimport CourseInfoCard from \"./courseInfoCard\";\nimport CourseObjectiveAssessmentCard from \"./courseObjectiveAssessmentCard\";\nimport AssignmentsCard from \"./assignmentsCard\";\nimport {colors, fonts} from \"../theme\";\nimport {getTranslation} from \"../i18n\";\nimport {ButtonBase, CircularProgress} from '@material-ui/core';\nimport MultiEditDescription from '../components/multiEditDescription';\n\nconst fields = `\n  students{\n    id\n    first_name\n    last_name\n    email\n    courseAssessments {\n      id\n      courseName\n      courseId\n      courseCode\n      feedback\n      feedback_published\n      feedback_last_edit\n      private_note\n      private_note_last_edit\n      grade_id\n      gradeName\n      gradeColor\n      gradeIsPassed\n      grade_published\n      grade_last_edit\n      target_grade_id\n      target_grade_published\n      target_grade_last_edit\n      gradeSystem{\n        name\n        is_counter\n        is_main\n        is_final\n        grades {\n          id\n          name\n          label\n          is_passed\n          color\n          order\n        }\n      }\n    }\n  }\n`;\n\nconst StudentCourseOverview = (props) => {\n  const {\n    student,\n    course,\n    style,\n    hideCourseCard = false,\n    onObjectiveSelected,\n    isGrid = false,\n    multiEdit = false,\n    onSave,\n    extraAdjustmentData = false,\n    selectedStudents = false,\n    loading,\n  } = props;\n\n  const context = useContext(GlobalContext);\n  const {Api} = context;\n\n  const [classroom, setClassroom] = useState();\n  const multiEditChanges = useRef({});\n\n  const refresh = async () => {\n    const response = await Api.getClassroom(fields);\n    setClassroom(response?.data?.classroom);\n  };\n\n  const getClassroom = async () => {\n    loading(true);\n    await refresh();\n    loading(false);\n  };\n\n  useEffect(() => {\n    getClassroom();\n  }, []);\n\n  useEffect(() => {\n    if (!multiEdit) {\n      getClassroom();\n    }\n  }, [student.id, multiEdit]);\n\n  if (!classroom) {\n    return null;\n  }\n\n  const assessment = classroom?.students.find(s => s.id === student.id)?.courseAssessments?.find((a) => a.courseId === course.id);\n  const cardStyle = isGrid ? {width: \"315px\"} : {minWidth: \"501px\"};\n\n  const multiEditSave = () => {\n    if (onSave) {\n      onSave(multiEditChanges.current);\n      multiEditChanges.current = {};\n    }\n  };\n\n  return (\n    <div\n      style={{\n        backgroundColor: colors.grey,\n        display: \"flex\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        position: \"absolute\",\n        top: isGrid ? \"30px\" : \"60px\",\n        left: 0,\n        right: 0,\n        bottom: 0,\n      }}\n    >\n      <div\n        style={{\n          maxHeight: \"50px\",\n          backgroundColor: colors.greyDarker,\n          display: \"flex\",\n          alignItems: \"center\",\n          padding: \"16px\",\n          borderBottom: `1px solid ${colors.borderColor}`,\n        }}\n      >\n        <span\n          style={{...fonts.XXLARGE, fontWeight: \"400\"}}\n        >{`${getTranslation(\"coursePlan\")} - ${course?.name}`}</span>\n      </div>\n      {multiEdit && (\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          padding: '10px',\n          borderBottom: '1px solid ' + colors.borderColor\n        }}>\n          <span style={{...fonts.LARGE}}>{selectedStudents.length} {getTranslation('studentsSelected')}</span>\n          <ButtonBase\n            style={{\n              border: `1px solid ${colors.borderColorDark}`,\n              padding: \"8px 12px 8px 12px\",\n              borderRadius: \"4px\",\n              backgroundColor: colors.white,\n            }}\n            onClick={multiEditSave}\n          >\n              <span style={fonts.MEDIUM}>\n                {getTranslation(\"saveAll\")}\n              </span>\n          </ButtonBase>\n        </div>\n      )}\n\n      <div style={{position: \"relative\", overflow: \"scroll\"}}>\n        <div style={{width: \"600px\", padding: \"16px\", ...style}}>\n          {!hideCourseCard && <CourseInfoCard course={course}/>}\n          {multiEdit && <MultiEditDescription/>}\n          <EwsStudentCard\n            student={student}\n            course={course}\n            multiEdit={multiEdit}\n            isGrid={isGrid}\n            onChange={(ews) => {\n              multiEditChanges.current.ews = ews;\n            }}\n            extraAdjustmentData={extraAdjustmentData}\n          />\n          <CourseAssessmentCard\n            studentId={student.id}\n            assessment={assessment}\n            onSave={(assessment) => {\n              multiEditChanges.current.courseAssessment = assessment;\n            }}\n            multiEdit={multiEdit}\n          />\n          <CourseObjectiveAssessmentCard\n            courseId={course.id}\n            studentId={student.id}\n            onObjectiveSelected={onObjectiveSelected}\n            multiEdit={multiEdit}\n            onSave={(changes) => {\n              multiEditChanges.current.objectiveAssessments = changes;\n            }}\n          />\n          {!multiEdit &&(\n            <AssignmentsCard\n              style={cardStyle}\n              studentId={student.id}\n              courseId={course.id}\n              showObjectives={!isGrid}\n              contentWidth={584}\n            />\n          )}\n          {multiEdit && <div style={{height: \"40px\"}}/>}\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default memo(StudentCourseOverview);\n","import React, { useContext, useEffect, useState } from \"react\";\nimport AssignmentsCard from \"./assignmentsCard\";\nimport CourseObjectiveAssessment from \"./courseObjectiveAssessment\";\nimport { getGradeSystemValues, GlobalContext } from \"../utils\";\nimport Card from \"../components/card\";\nimport { colors, fonts } from \"../theme\";\nimport { getTranslation } from \"../i18n\";\nimport OptionsDropdown from \"../components/optionsDropdown\";\nimport { useWindowDimensions } from \"../hooks\";\n\nconst fields = `\n    name\n    courses {\n      id\n      name\n      objectives{\n        id\n        name\n        description\n        knowledgeRequirements{\n          description\n          grade_id\n        }\n      }\n      gradeSystem {\n        name\n        is_main\n        is_final\n        grades {\n          id\n          name\n          is_passed\n          color\n          label\n        }\n      }\n    }\n    students{\n      id\n      first_name\n      last_name\n      courseAssessments{\n        id\n        courseId\n        courseName\n        courseObjectiveAssessments{\n          name\n          id\n          feedback\n          feedback_published\n          private_note\n          grade_published\n          grade_id\n          objective_id\n        }\n      }\n    }`;\n\nconst CourseObjectiveOverview = (props) => {\n  const { objective, student, course, onObjectiveSelected } = props;\n  const context = useContext(GlobalContext);\n  const { Api } = context;\n  const [classroom, setClassroom] = useState();\n  const { width } = useWindowDimensions();\n\n  const getData = async () => {\n    const response = await Api.getClassroom(fields, student.id);\n    setClassroom(response?.data?.classroom);\n  };\n\n  useEffect(() => {\n    getData();\n  }, [student.id, objective.id]);\n\n  const s = classroom?.students?.find((s) => s.id === student.id);\n  const courseAssessments = s?.courseAssessments?.find(\n    (a) => a.courseId === course.id\n  );\n  const assessment = courseAssessments?.courseObjectiveAssessments?.find(\n    (co) => co.objective_id === objective.id\n  );\n\n  const cor = classroom?.courses?.find((c) => c.id === course.id);\n  const gradeSystemValues = getGradeSystemValues(\n    cor?.gradeSystem?.find((g) => g.is_main)\n  );\n  const defaultIndex = assessment?.grade_id\n    ? gradeSystemValues.findIndex((g) => g.id === assessment?.grade_id)\n    : 0;\n\n  const options =\n    cor?.objectives?.map((o) => ({\n      id: o.id,\n      name: o.name,\n    })) || [];\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        position: \"absolute\",\n        marginTop: \"60px\",\n        overflow: \"hidden\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n      }}\n    >\n      <div\n        style={{\n          height: \"50px\",\n          backgroundColor: colors.greyDarker,\n          display: \"flex\",\n          alignItems: \"center\",\n          padding: \"16px\",\n          borderBottom: `1px solid ${colors.borderColor}`,\n        }}\n      >\n        <span\n          style={{\n            ...fonts.XXLARGE,\n            fontWeight: \"400\",\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\",\n            whiteSpace: \"nowrap\",\n            width: `${width - 630}px`,\n            lineHeight: \"30px\",\n          }}\n        >{`${getTranslation(\"dataForObjectiveAssessmentTitle\")} ${\n          objective?.name\n        }`}</span>\n        <div\n          style={{\n            width: \"200px\",\n            position: \"absolute\",\n            right: \"16px\",\n            padding: \"2px 12px 2px 12px\",\n            borderRadius: \"4px\",\n            backgroundColor: colors.white,\n            boxShadow: \"0px 5px 10px rgba(0,0,0,0.1)\",\n          }}\n        >\n          <OptionsDropdown\n            options={options}\n            helpText={getTranslation(\n              \"courseProgressLearningObjectivesListLabel\"\n            )}\n            value={objective.id}\n            handleChange={(e) => {\n              onObjectiveSelected(\n                cor?.objectives?.find((o) => o.id === e.target.value)\n              );\n            }}\n            style={{ marginBottom: \"10px\", backgroundColor: colors.white }}\n          />\n        </div>\n      </div>\n      <div style={{ padding: \"16px\", overflow: \"scroll\", height: \"100%\" }}>\n        <div style={{ width: \"600px\", marginBottom: \"40px\" }}>\n          <span\n            style={{\n              ...fonts.LARGE,\n              color: colors.brandColorPink,\n              marginLeft: \"16px\",\n            }}\n          >\n            {getTranslation(\"courseGradeMode\")}\n          </span>\n          <Card style={{ marginTop: \"16px\" }}>\n            <CourseObjectiveAssessment\n              assessment={assessment}\n              defaultIndex={defaultIndex}\n              id={assessment?.id}\n              gradeSystemValues={gradeSystemValues}\n              knowledgeRequirements={objective?.knowledgeRequirements}\n            />\n          </Card>\n        </div>\n        <AssignmentsCard\n          style={{ minWidth: \"501px\" }}\n          studentId={student.id}\n          courseId={course.id}\n          showObjectives\n          selectedObjective={objective}\n          contentWidth={584}\n        />\n      </div>\n    </div>\n  );\n};\nexport default CourseObjectiveOverview;\n","import React, { useEffect, useState } from 'react';\nimport { useWindowDimensions } from '../hooks';\nimport { colors } from '../theme';\nimport CoursesCard from './coursesCard';\nimport StudentOverviewHeader from './studentOverviewHeader';\nimport StudentCourseOverview from './studentCourseOverview';\nimport CourseObjectiveOverview from './courseObjectiveOverview';\n\nconst StudentOverview = (props) => {\n  const {\n    student,\n    onClose,\n    onCourseSelected,\n    selectedCourse: initialSelectedCourse,\n    toggleGrid,\n    classroomName,\n    onObjectiveSelected,\n    selectedObjective,\n  } = props;\n  const window = useWindowDimensions();\n  const [selectedCourse, setSelectedCourse] = useState(initialSelectedCourse);\n\n  const studentName = `${student.first_name} ${student.last_name}`;\n\n  useEffect(() => {\n    onCourseSelected(selectedCourse);\n  }, [selectedCourse]);\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        width: `${window.width - 360}px`,\n        left: `${-window.width + 360}px`,\n        height: `${window.height}px`,\n        display: 'flex',\n        backgroundColor: colors.grey,\n        flexDirection: 'column',\n        border: '0px solid blue',\n      }}\n    >\n      <StudentOverviewHeader\n        classroomName={classroomName}\n        toggleGrid={toggleGrid}\n        onClose={onClose}\n        studentName={studentName}\n        courseName={selectedCourse?.name}\n        objectiveName={selectedObjective?.name}\n        onBack={\n          selectedObjective || selectedCourse\n            ? () => {\n              if (selectedObjective) {\n                onObjectiveSelected(null);\n              } else if (selectedCourse) {\n                setSelectedCourse(null);\n              }\n            }\n            : null\n        }\n      />\n      {selectedObjective && (\n        <CourseObjectiveOverview\n          student={student}\n          objective={selectedObjective}\n          course={selectedCourse}\n          onObjectiveSelected={onObjectiveSelected}\n        />\n      )}\n      {selectedCourse && !selectedObjective && (\n        <StudentCourseOverview\n          hideCourseCard\n          student={student}\n          course={selectedCourse}\n          onObjectiveSelected={onObjectiveSelected}\n          selectedObjective={selectedObjective}\n          loading={() => {}}\n        />\n      )}\n\n      <div style={{ marginTop: '60px', overflow: 'scroll', display: 'flex' }}>\n        {!selectedCourse && (\n          <CoursesCard student={student} onCourseSelected={setSelectedCourse} />\n        )}\n      </div>\n      <div\n        style={{\n          width: '30px',\n          height: '100%',\n          position: 'absolute',\n          right: -30,\n          top: 0,\n          backgroundColor: 'transparent',\n          boxShadow: '-5px 0px 6px rgba(0,0,0,0.1)',\n        }}\n      />\n    </div>\n  );\n};\nexport default StudentOverview;\n","export default __webpack_public_path__ + \"images/d3b07b0fbc478169598556c722606b72-happy-face.png\";","export default __webpack_public_path__ + \"images/4b290d40fccc2e7c4405c297ec801b2d-medium-face.png\";","export default __webpack_public_path__ + \"images/12b3d954a4a47f12e81067aba32ccc4e-sad-face.png\";","export default __webpack_public_path__ + \"images/68620ae0b3a5107c29b11991f93e977b-extra-help.png\";","import React, {memo} from \"react\";\nimport {colors, fonts} from \"../../theme\";\n\nimport happyImage from '../../images/png/happy-face.png';\nimport mediumImage from '../../images/png/medium-face.png';\nimport sadImage from '../../images/png/sad-face.png';\nimport extraImage from '../../images/png/extra-help.png';\nimport {getTranslation} from \"../../i18n\";\nimport VisibilityIcon from '../../components/visabilityIcon';\nimport {PUBLISH_STATES} from \"../../components/publishIcon\";\nimport Tooltip from \"../../components/tooltip\";\nimport Icon from \"../../components/icon\";\n\nconst getStatusIcon = (status, selected) => {\n  const bgStyle = {\n    width: \"16px\",\n    height: \"16px\",\n    borderRadius: \"20px\",\n    backgroundColor: colors.ewsGreen,\n    margin: \"0px 4px 0px 4px\",\n  };\n  if (!status) {\n    return (\n      <div\n        style={{\n          width: \"14x\",\n          height: \"14px\",\n          border: `1px solid ${selected ? colors.borderColorDark : colors.borderColor}`,\n          borderRadius: \"20px\",\n          maxWidth: \"14px\",\n          minWidth: \"14px\",\n          margin: \"0px 4px 18px 4px\",\n        }}\n      />\n    );\n  }\n  switch (status) {\n    case \"10\":\n      return (\n        <div style={bgStyle}>\n          <Icon file={happyImage} style={{width: '16px'}}/>\n        </div>\n      );\n    case \"20\":\n      return (\n        <div style={{...bgStyle, backgroundColor: colors.primary}}>\n          <Icon file={mediumImage} style={{width: '16px'}}/>\n        </div>\n      );\n    case \"30\":\n      return (\n        <div style={{...bgStyle, backgroundColor: colors.red}}>\n          <Icon file={sadImage} style={{width: '16px'}}/>\n        </div>\n      );\n\n    default:\n      return (\n        <div\n          style={{\n            width: \"14x\",\n            height: \"14px\",\n            border: `1px solid ${colors.borderColor}`,\n            borderRadius: \"20px\",\n            maxWidth: \"14px\",\n            minWidth: \"14px\",\n            margin: \"0px 4px 18px 4px\",\n          }}\n        />\n      );\n  }\n};\n\nconst tt1 = getTranslation(\"currentWarningLevel\");\nconst tt2 = getTranslation(\"extraAdjustments\");\n\nconst EwsItem = (props) => {\n  const {ews, selected} = props;\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        minWidth: \"60px\",\n        alignItems: \"center\",\n        justifyContent: \"space-around\",\n      }}\n    >\n      <Tooltip title={tt1}>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            marginBottom: '-6px',\n          }}\n        >\n          {getStatusIcon(ews?.status?.status, selected)}\n          {ews?.status?.status && (\n            <VisibilityIcon\n              visible={ews?.status?.published ? PUBLISH_STATES.published : PUBLISH_STATES.notPublished}\n              style={{\n                color: ews?.status?.published ? colors.green : colors.darkGrey\n              }}/>\n          )}\n        </div>\n      </Tooltip>\n      <Tooltip title={tt2}>\n        <div style={{position: \"relative\", marginBottom: '8px'}}>\n          <Icon file={extraImage} style={{width: '16px'}}/>\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: 2,\n              right: -2,\n              backgroundColor: colors.black,\n              width: \"10px\",\n              height: \"10px\",\n              borderRadius: \"30px\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n            }}\n          >\n            <span\n              style={{\n                ...fonts.TINY,\n                color: colors.white,\n                marginTop: \"1px\",\n                fontSize: \"9px\",\n              }}\n            >\n              {ews?.extraAdjustments?.length}\n            </span>\n          </div>\n        </div>\n      </Tooltip>\n    </div>\n  );\n};\nexport default memo(EwsItem);\n","import React, {memo} from 'react';\nimport feedbackImage from '../../images/png/sb-ico-feedback.png';\nimport noteImage from '../../images/png/sb-ico-note.png';\nimport {colors, fonts} from '../../theme';\nimport {getTranslation} from '../../i18n';\nimport Tooltip from \"../../components/tooltip\";\nimport Icon from \"../../components/icon\";\nimport PublishedIcon from \"../../components/publishedIcon\";\n\nconst styles = {\n  container: {\n    display: 'flex',\n    minWidth: '100px',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n  },\n  item: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  feedbackIcon: {height: '18px', width: '18px'},\n  privateNoteIcon: {height: '20px', width: '20px', marginBottom: '10px'},\n};\n\nconst tt1 = getTranslation('courseGradeInput');\nconst tt2 = getTranslation('courseProgressTargetGoalAvailableTooltip');\nconst tt3 = getTranslation('courseFeedbackInput');\nconst tt4 = getTranslation('coursePrivateNotesInput');\n\nconst CourseOverviewComponent = (props) => {\n  const {courseAssessment} = props;\n  const gradeSystem = courseAssessment?.gradeSystem.find((g) => g.is_final);\n  const targetGrade = gradeSystem?.grades.find(\n    (gr) => gr.id === courseAssessment?.target_grade_id,\n  );\n\n  return (\n    <div style={styles.container}>\n      <Tooltip title={tt1}>\n        <div style={styles.item}>\n          <span\n            style={{\n              ...fonts.LARGE,\n              color: courseAssessment?.gradeColor || colors.iconColorLight,\n              fontWeight: '800',\n            }}\n          >\n            {courseAssessment?.gradeName || '-'}\n          </span>\n          <PublishedIcon published={courseAssessment.grade_published} active={!!courseAssessment?.gradeName}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt2}>\n        <div style={styles.item}>\n          <span\n            style={{\n              ...fonts.LARGE,\n              fontWeight: '800',\n              color: targetGrade?.label\n                ? colors.brandColorBlue\n                : colors.iconColorLight,\n            }}\n          >\n            {targetGrade?.label || '-'}\n          </span>\n          <PublishedIcon published={courseAssessment?.target_grade_published} active={!!targetGrade?.label}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt3}>\n        <div style={styles.item}>\n          <Icon file={feedbackImage} active={courseAssessment?.feedback} style={styles.feedbackIcon}/>\n          <PublishedIcon published={courseAssessment?.feedback_published} active={!!courseAssessment?.feedback}/>\n        </div>\n      </Tooltip>\n      <Tooltip title={tt4}>\n        <div>\n          <Icon file={noteImage} active={!!courseAssessment?.private_note} style={styles.privateNoteIcon}/>\n        </div>\n      </Tooltip>\n    </div>\n  );\n};\nexport default memo(CourseOverviewComponent);\n","import React, {memo, useEffect, useMemo, useState} from \"react\";\nimport {colors, fonts} from \"../../theme\";\nimport Tooltip from \"../../components/tooltip\";\nimport PublishedIcon from \"../../components/publishedIcon\";\n\nconst styles = {\n  item: {\n    display: \"flex\",\n    width: \"40px\",\n    height: \"40px\",\n    border: \"0px solid red\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n  },\n};\n\nconst CourseObjectiveAssessmentsComponent = (props) => {\n  const {objectiveAssessments, gradeSystem, bgColor} = props;\n  const [sortedAssessments, setSortedAssessments] = useState([]);\n  const [gradeHash, setGradeHash] = useState({});\n\n  useEffect(() => {\n    setSortedAssessments(objectiveAssessments?.sort((a, b) => (a.name.localeCompare(b.name, undefined, {\n      numeric: true,\n      sensitivty: 'base'\n    }))));\n  }, [objectiveAssessments]);\n\n  useEffect(() => {\n    setGradeHash(gradeSystem?.grades?.reduce((acc, g) => {\n      acc[g.id] = g;\n      return acc;\n    }, {}));\n  }, [gradeSystem]);\n\n  return (\n    <div style={{display: \"flex\", width: \"100%\", justifyContent: \"space-around\"}}>\n      {sortedAssessments?.map((assessment) => {\n        const grade = assessment?.grade_id ? gradeHash[assessment.grade_id] : null;\n        return (\n          <div\n            key={assessment.id}\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              borderRight: `0px solid ${\n                bgColor !== colors.white\n                  ? colors.borderColorDark\n                  : colors.borderColor\n              }`,\n            }}\n          >\n            <Tooltip key={assessment.id} title={assessment.name}>\n              <div style={styles.item}>\n        <span\n          style={{\n            ...fonts.MEDIUM,\n            fontWeight: \"800\",\n            color: grade?.color || colors.iconColorLight,\n          }}\n        >\n      {\" \"}\n          {grade?.label || \"-\"}\n        </span>\n                <PublishedIcon published={assessment?.grade_published} active={!!grade?.label} />\n              </div>\n            </Tooltip>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\nexport default memo(CourseObjectiveAssessmentsComponent);\n","import React, {memo} from 'react';\nimport { ArrowBack } from '@material-ui/icons';\nimport { colors, fonts } from '../../theme';\nimport { useWindowDimensions } from '../../hooks';\n\n\nconst GridOverviewHeader = (props) => {\n  const {\n    courseName, classroomName, onCollapse, studentName,\n  } = props;\n  const dim = useWindowDimensions();\n\n  return (\n    <div\n      style={{\n        height: '60px',\n        width: dim.width - 370,\n        backgroundColor: colors.brandColorPink,\n        alignItems: 'center',\n        display: 'flex',\n        minHeight: '60px',\n        padding: '0px 0px 0px 20px',\n        position: 'fixed',\n      }}\n    >\n      <div\n        style={{ marginLeft: '16px', alignItems: 'center', display: 'flex' }}\n      >\n        {classroomName && (\n          <>\n            <span style={{ ...fonts.MEDIUM, color: colors.white }}>\n              {classroomName}\n            </span>\n            <ArrowBack\n              style={{\n                color: colors.white,\n                transform: 'rotate(180deg)',\n                height: '15px',\n              }}\n            />\n            <span style={{ ...fonts.MEDIUM, color: colors.white }}>\n              {courseName}\n            </span>\n            <ArrowBack\n              style={{\n                color: colors.white,\n                transform: 'rotate(180deg)',\n                height: '15px',\n              }}\n            />\n            <span style={{ ...fonts.MEDIUM, color: colors.white }}>\n              {studentName}\n            </span>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\nexport default memo(GridOverviewHeader);\n","import React, {memo, useContext, useEffect, useState} from \"react\";\nimport {colors, fonts} from \"../../theme\";\nimport {ReactComponent as ExpandIcon} from \"../../images/collapse.svg\";\nimport GridSummaryItem from \"../../components/gridSummaryItem\";\nimport {getAssessmentIcon, getStatusText, GlobalContext} from \"../../utils\";\nimport {getTranslation} from \"../../i18n\";\nimport Tooltip from \"../../components/tooltip\";\n\nconst AssignmentTable = (props) => {\n  const {\n    students,\n    assignment,\n    student,\n    highlight,\n    setHighlight,\n    styles,\n    onStudentSelect,\n  } = props;\n\n  const [expanded, setExpanded] = useState(false);\n  const [sortedStudents, setSortedStudents] = useState([]);\n  const context = useContext(GlobalContext);\n  const {sortingMethod} = context;\n\n  const hasAssignments = assignment?.assignments?.length > 0;\n\n  const bgColor = assignment.is_topic ? colors.topic : colors.green;\n\n  useEffect(() => {\n    setSortedStudents(students\n      .sort((a, b) => {\n        if (sortingMethod === 'firstName') {\n          return a.first_name?.localeCompare(b.first_name);\n        } else {\n          return a.last_name?.localeCompare(b.last_name);\n        }\n\n      }));\n\n  }, [sortingMethod, students])\n\n  const [assessmentMap, setAssessmentMap] = useState({});\n\n  useEffect(() => {\n    setAssessmentMap(assignment.assessments.reduce((acc, a) => {\n      acc[a.student_id] = a;\n      return acc;\n    }, {}));\n  }, [assignment]);\n\n  return (\n    <div\n      style={{\n        position: \"relative\",\n        display: \"flex\",\n        backgroundColor: expanded ? colors.topic : \"transparent\",\n        margin: expanded ? \"0px 4px 0px 4px\" : 0,\n      }}\n    >\n      <table style={{...styles.table}}>\n        <tr style={{}}>\n          <td\n            colSpan={2}\n            style={{\n              backgroundColor: assignment?.state === \"DRAFT\" ? colors.draft : bgColor,\n              height: \"30px\",\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n              }}\n            >\n              <span\n                style={{\n                  ...fonts.MEDIUM,\n                  whiteSpace: \"nowrap\",\n                  textOverflow: \"ellipsis\",\n                  overflow: \"hidden\",\n                  maxWidth: \"200px\",\n                  color: colors.white,\n                  margin: \"0px 6px 0px 6px\",\n                }}\n              >\n                {assignment.title}\n              </span>\n              {assignment.is_topic && hasAssignments && !expanded && (\n                <Tooltip title={getTranslation(\"expandTopicTooltip\")}>\n                  <div>\n                    <ExpandIcon\n                      fill={colors.white}\n                      style={{cursor: \"pointer\", marginRight: \"6px\"}}\n                      onClick={() => setExpanded(!expanded)}\n                    />\n                  </div>\n                </Tooltip>\n              )}\n            </div>\n          </td>\n        </tr>\n        {sortedStudents.map((stud) => {\n          const assessment = assessmentMap[stud.id];\n          const bgColor = stud.id === highlight ? colors.grey : colors.white;\n          const backgroundColor =\n            stud.id === student.id ? colors.borderColor : bgColor;\n          if (!assessment) {\n            return (\n              <tr\n                onClick={() => onStudentSelect(stud.id)}\n                onMouseEnter={() => setHighlight(stud.id)}\n                onMouseLeave={() => setHighlight(null)}\n                key={stud.id}\n                style={{\n                  backgroundColor,\n                  height: \"50px\",\n                  cursor: \"pointer\",\n                }}\n              />\n            );\n          }\n\n          return (\n            <tr\n              onClick={() => onStudentSelect(assessment.student_id)}\n              onMouseEnter={() => setHighlight(assessment.student_id)}\n              onMouseLeave={() => setHighlight(null)}\n              key={assessment.id}\n              style={{\n                backgroundColor,\n                height: \"50px\",\n                cursor: \"pointer\",\n              }}\n            >\n              <td>\n                <Tooltip title={getStatusText(assessment?.status_new)}>\n                  <div style={{width:'28px', display:'flex', alignItems:'center', justifyContent:'center'}}>\n                    {getAssessmentIcon({status: assessment?.status_new, style:{maxHeight: '18px'}})}\n                  </div>\n                </Tooltip>\n              </td>\n              <td style={styles.td}>\n                <GridSummaryItem assessment={assessment}/>\n              </td>\n            </tr>\n          );\n        })}\n      </table>\n      {expanded && (\n        <div\n          style={{\n            display: \"flex\",\n            backgroundColor: colors.topic,\n            paddingRight: \"16px\",\n          }}\n        >\n          {assignment.assignments\n            .filter(a => a.connected)\n            .sort((a, b) => a.title.localeCompare(b.title))\n            .map((a) => (\n              <AssignmentTable key={a.id} {...{...props, assignment: a}} />\n            ))}\n        </div>\n      )}\n      {expanded && (\n        <ExpandIcon\n          fill={colors.white}\n          style={{\n            cursor: \"pointer\",\n            position: \"absolute\",\n            right: \"16px\",\n            top: \"16px\",\n            transform: \"rotate(180deg)\",\n          }}\n          onClick={() => setExpanded(!expanded)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default memo(AssignmentTable);\n","import React, {\n  memo, useCallback,\n  useContext, useEffect, useMemo, useReducer, useRef, useState,\n} from 'react';\nimport Promise from 'bluebird';\nimport {Checkbox, CircularProgress, withStyles} from '@material-ui/core';\nimport debounce from 'lodash.debounce';\nimport {colors, fonts} from '../../theme';\nimport {useWindowDimensions} from '../../hooks';\nimport {filterAssignmentsOnCourseId, getPublishedStatus, GlobalContext} from '../../utils';\nimport EwsItem from './ewsItem';\nimport CourseOverviewComponent from './courseOverviewComponent';\nimport CourseObjectiveAssessmentsComponent from './CourseObjectiveAssessmentsComponent';\nimport GridOverviewHeader from './gridOverviewHeader';\nimport StudentCourseOverview from '../studentCourseOverview';\nimport AssignmentTable from './assignmentTable';\nimport {getTranslation} from '../../i18n';\nimport SortStudentComponent from '../../components/sortStudentComponent';\nimport CheckboxWithText from '../../components/CheckboxWithText';\n\nconst fields = `\n  name\n  assignments{\n    title\n    id\n    is_topic\n    connected\n    state\n    use_submitted_status\n    courseDefinitions {\n      id\n    }\n    assessments {\n      first_name\n      last_name\n      student_id\n      id\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      result\n      result_published\n      status\n      grade_id\n      grade_name\n      grade_color\n      grade_published\n      grade_last_edit\n      feedback_last_edit\n      grade_last_edit\n      private_note_last_edit\n      status_new\n      submitted_status\n    }\n    assignments {\n      id\n      title\n      connected\n      state\n      use_submitted_status\n      courseDefinitions {\n        id\n      }\n      assessments{\n        first_name\n        last_name\n        student_id\n        id\n        feedback\n        feedback_published\n        private_note\n        grade_published\n        result\n        result_published\n        status\n        grade_id\n        grade_name\n        grade_color\n        grade_published\n        grade_last_edit\n        feedback_last_edit\n        grade_last_edit\n        private_note_last_edit\n        status_new\n        submitted_status\n      }\n    }\n  }\n  courses{\n    id\n    gradeSystem{\n      is_main\n      is_final\n      grades{\n        id\n        label\n        color\n      }\n    }\n  }\n  students {\n    id\n    first_name\n    last_name\n    EWS {\n    courseId\n      status {\n        status\n        published\n      }\n      extraAdjustments {\n        name\n      }\n    }\n    courseAssessments {\n      id\n      courseId\n      gradeName\n      gradeColor\n      grade_id\n      grade_published\n      target_grade_id\n      target_grade_published\n      feedback\n      feedback_published\n      private_note\n      gradeSystem {\n        is_main\n        is_final\n        grades {\n          id\n          label\n          color\n        }\n      }\n      courseObjectiveAssessments {\n        id\n        name\n        objective_id\n        feedback\n        feedback_published\n        private_note\n        grade_id\n        grade_published\n      }\n    }\n  }\n`;\n\nconst styles = {\n  thText: {\n    ...fonts.MEDIUM,\n    fontWeight: '400',\n    padding: '0px 8px 4px 8px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    height: '26px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  tdText: {\n    ...fonts.MEDIUM,\n    display: 'inline-block',\n    margin: '0px 16px 0px 16px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    width: '150px',\n    border: '0px solid',\n    textAlign: 'start',\n  },\n  table: {\n    boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n    margin: '50px 0px 16px 16px',\n    backgroundColor: colors.grey,\n    height: '0%',\n  },\n  td: {},\n  rightPanel: {\n    backgroundColor: colors.white,\n    position: 'fixed',\n    width: '330px',\n    right: 0,\n    top: 0,\n    overflow: 'scroll',\n    padding: '0px 30px 0px 0px',\n    marginTop: '80px',\n  },\n};\n\nconst GreenCheckbox = withStyles({\n  root: {\n    color: colors.borderColorDark,\n    paddingLeft: 0,\n    marginLeft: '6px',\n    '&$checked': {\n      color: colors.green,\n    },\n    '& .MuiSvgIcon-root': {\n      fontSize: '1.5rem',\n    },\n  },\n\n  checked: {},\n})(Checkbox);\n\nconst studentCourseOverviewStyle = {width: '315px'};\n\nconst GridOverview = (props) => {\n  const {course, student: initialStudent, onClose} = props;\n  const context = useContext(GlobalContext);\n  const {Api, networkTraffic, sortingMethod} = context;\n  const [classroom, setClassroom] = useState();\n  const [student, setStudent] = useState(initialStudent);\n  const [highlight, setHighlight] = useState();\n  const dim = useWindowDimensions();\n  const [saving, setSaving] = useState(false);\n  const [multiEdit, setMultiEdit] = useState(false);\n  const [selectedStudents, setSelectedStudents] = useState(false);\n  const selectedStudentsBeforeSelectAll = useRef();\n  const students = useRef([]);\n  const [sortedStudents, setSortedStudents] = useState([]);\n  const [extraAdjustmentData, setExtraAdjustmentData] = useState([]);\n  const [sortedAssignments, setSortedAssignments] = useState([]);\n  const [courseEwsMap, setCourseEwsMap] = useState({});\n  const [courseAssessmentsMap, setCourseAssessmentsMap] = useState({});\n  const [ignored, forceUpdate] = useReducer((x) => x + 1, 0);\n  const [renderAssignments, setRenderAssignments] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n\n  const setStudentCB = useMemo(() => debounce((id) => {\n    setStudent(id);\n  }, 500, {trailing: false, leading: true}), [course.id]);\n\n  const onLoading = useCallback((loading) => {\n    setLoading(loading)\n  }, [course.id]);\n\n  const loadClassroom = debounce(async () => {\n      const response = await Api.getClassroom(fields);\n      const {classroom} = response?.data;\n      classroom.assignments = filterAssignmentsOnCourseId(\n        classroom?.assignments,\n        course.id,\n      );\n      setClassroom(classroom);\n      // Delay rendering of the tables 1s because this view is heavy to render\n      setTimeout(() => setRenderAssignments(true), 1000);\n    },\n    1000);\n\n  const multiSave = useCallback(async (changes) => {\n    if (changes.ews?.ewsStatus) {\n      const {ewsStatus} = changes.ews;\n      await Promise.map(selectedStudents, async (id) => {\n        const student = classroom?.students?.find((s) => s.id === id);\n        const ews = student?.EWS.find((e) => e.courseId === course.id);\n        const saveObj = {\n          status: ewsStatus?.status,\n          student_id: id,\n          course_id: course.id,\n          published: getPublishedStatus(ewsStatus.published, ews?.status?.published || false),\n          modified: Date.now(),\n        };\n        await Api.updateStudentEWSStatus(saveObj);\n      });\n    }\n    if (changes?.ews?.extraAdjustments) {\n      const {extraAdjustments} = changes.ews;\n      const {currentAdjustments, courseId} = extraAdjustments;\n      await Promise.map(selectedStudents, async (id) => {\n        const student = students.current.find((s) => s.id === id);\n        const extra = student.EWS.find((e) => e.courseId === course.id)\n          .extraAdjustments;\n        const data = currentAdjustments.filter((c) => {\n          if (c.status === 'partial') {\n            if (!extra.find((e) => e.extra_adjustment_id === c.id)) {\n              return false;\n            }\n          }\n          return true;\n        });\n        await Api.updateStudentExtraAdjustments2(\n          data.map((c) => c.id),\n          courseId,\n          id,\n        );\n      });\n    }\n    if (changes?.courseAssessment) {\n      const saveObjs = selectedStudents.map((studentId) => {\n        const {courseAssessment} = changes;\n        const assessment = classroom?.students?.find((s) => s.id === studentId)\n          ?.courseAssessments?.find((a) => a.courseId === course.id);\n        return {\n          ...assessment,\n          feedback: courseAssessment?.feedback || assessment.feedback,\n          feedback_published: getPublishedStatus(courseAssessment?.feedback_published, assessment.feedback_published),\n          grade_id: courseAssessment?.grade_id || assessment.grade_id,\n          grade_published: getPublishedStatus(courseAssessment?.grade_published, assessment.grade_published),\n          target_grade_id: courseAssessment?.target_grade_id || assessment.target_grade_id,\n          target_grade_published: getPublishedStatus(courseAssessment?.target_grade_published, assessment.target_grade_published),\n          private_note: courseAssessment?.private_note || assessment.private_note,\n        };\n      });\n      await Api.updateCourseAssessments(saveObjs);\n    }\n    if (changes?.objectiveAssessments) {\n      const saveObjs = selectedStudents\n        .map((studentId) => Object.keys(changes.objectiveAssessments).map((objectiveId) => {\n          const change = changes.objectiveAssessments[objectiveId];\n          const assessment = classroom?.students?.find((s) => s.id === studentId)?.courseAssessments?.find((a) => a.courseId === course.id);\n          const currentObjectiveAssessment = assessment.courseObjectiveAssessments.find((co) => co.objective_id === parseInt(objectiveId, 10));\n          return {\n            ...currentObjectiveAssessment,\n            ...change,\n            grade_published: getPublishedStatus(change?.grade_published, currentObjectiveAssessment?.grade_published),\n            feedback_published: getPublishedStatus(change?.feedback_published, currentObjectiveAssessment?.feedback_published),\n            id: currentObjectiveAssessment.id,\n          };\n        }))\n        .flat();\n      Api.updateCourseObjectiveAssessment(saveObjs);\n    }\n\n    setMultiEdit(false);\n  }, [course.id, selectedStudents]);\n\n  // A little bit hacky, reload classroom if something has been saved\n  useEffect(() => {\n    if (networkTraffic === 'POST' || networkTraffic === 'PUT') {\n      setSaving(true);\n    } else if (saving) {\n      loadClassroom();\n      setSaving(false);\n    }\n  }, [networkTraffic]);\n\n  useEffect(() => {\n    loadClassroom();\n  }, []);\n\n  useEffect(() => {\n    if (selectedStudents.length === 0) {\n      setMultiEdit(false);\n    }\n  }, [selectedStudents]);\n\n  useEffect(() => {\n    if (!multiEdit) {\n      setExtraAdjustmentData([]);\n    }\n  }, [multiEdit]);\n\n  useEffect(() => {\n    setSortedStudents(classroom?.students\n      ?.sort((a, b) => {\n        if (sortingMethod === 'firstName') {\n          return a.first_name.localeCompare(b.first_name);\n        }\n        return a.last_name.localeCompare(b.last_name);\n      }));\n    setSortedAssignments(classroom?.assignments\n      .filter(a => a.connected)\n      .sort((a, b) => a.title.localeCompare(b.title)));\n    forceUpdate();\n  }, [classroom?.students, sortingMethod]);\n\n  useEffect(() => {\n    const coursesEws = classroom?.students?.map(s => ({\n      studentId: s.id,\n      EWS: s.EWS.find(e => e.courseId === course.id)\n    }));\n    const courseEwsMap = coursesEws?.reduce((acc, ce) => {\n      acc[ce.studentId] = ce.EWS;\n      return acc;\n    }, {});\n    setCourseEwsMap(courseEwsMap);\n\n    const courseAssessments = classroom?.students?.map(s => ({\n      studentId: s.id,\n      assessments: s?.courseAssessments.find(ss => ss.courseId === course.id)\n    }));\n    const courseAssessmentsMap = courseAssessments?.reduce((acc, ca) => {\n      acc[ca.studentId] = ca.assessments;\n      return acc;\n    }, {});\n    setCourseAssessmentsMap(courseAssessmentsMap);\n  }, [classroom?.students]);\n\n\n  const objectiveGradeSystem = classroom?.courses\n    .find((c) => c.id === course.id)\n    .gradeSystem.find((g) => g.is_main);\n\n  const getStudentExtraAdjustments = async (studentIds) => {\n    const response = await Api.getClassroom(`\n    name\n    students {\n      id\n      EWS {\n        courseId\n        extraAdjustments {\n          course_definition_id\n          extra_adjustment_id\n          student_id\n        }\n      }\n    }\n    `);\n    students.current = response.data.classroom.students;\n    calculateExtraAdjustments(studentIds);\n  };\n\n  const calculateExtraAdjustments = async (selectedStudentsNow) => {\n    const allAdjustments = selectedStudentsNow\n      .map((id) => students.current.find((s) => s.id === id)?.EWS.find((e) => e.courseId === course.id)\n        .extraAdjustments.map((e) => e.extra_adjustment_id)).flat();\n    const uniqueAdjustments = [...new Set(allAdjustments)];\n    setExtraAdjustmentData(\n      uniqueAdjustments.map((id) => ({\n        id,\n        status:\n          allAdjustments.filter((a) => a === id).length\n          === selectedStudentsNow.length\n            ? 'check'\n            : 'partial',\n      })),\n    );\n  };\n\n  const width = dim.width - 350;\n\n  return (\n    <div>\n      <div\n        style={{\n          position: 'absolute',\n          top: '0px',\n          left: `${-width}px`,\n          bottom: 0,\n          right: 0,\n          backgroundColor: 'black',\n        }}\n      >\n        <GridOverviewHeader\n          classroomName={classroom?.name}\n          courseName={course.name}\n          studentName={`${student.first_name} ${student.last_name}`}\n          onCollapse={onClose}\n        />\n        <div\n          style={{\n            marginRight: '360px',\n            backgroundColor: colors.grey,\n            marginTop: '60px',\n          }}\n        >\n          <div\n            style={{\n              display: 'flex',\n              width: '100%',\n              overflow: 'scroll',\n              height: `${dim.height - 60}px`,\n              backgroundColor: colors.grey,\n              flexDirection: 'column',\n            }}\n          >\n            <CheckboxWithText\n              subText={''}\n              id={'multiselect'}\n              text={getTranslation('selectMany')}\n              onCheck={(c) => {\n                setMultiEdit(c);\n                if (!c) {\n                  setSelectedStudents([]);\n                  setExtraAdjustmentData([]);\n                } else {\n                  setSelectedStudents([student.id]);\n                  getStudentExtraAdjustments([student.id]);\n                }\n              }}\n              checked={multiEdit}\n              style={{\n                marginLeft: '30px',\n                marginBottom: '-30px',\n              }}\n            />\n            <div style={{display: 'flex'}}>\n              <div>\n                <table style={styles.table}>\n                  <tr style={{backgroundColor: colors.grey}}>\n                    {multiEdit && (\n                      <td>\n                        <GreenCheckbox\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              selectedStudentsBeforeSelectAll.current = selectedStudents;\n                              const allStudents = classroom?.students.map(\n                                (s) => s.id,\n                              );\n                              setSelectedStudents(allStudents);\n                              calculateExtraAdjustments(allStudents);\n                            } else {\n                              setSelectedStudents(\n                                selectedStudentsBeforeSelectAll.current,\n                              );\n                            }\n                          }}\n                        />\n                      </td>\n                    )}\n                    <td style={styles.thText}>\n                      <div style={{display: 'flex', alignItems: 'center'}}>\n                        <SortStudentComponent style={{marginRight: '6px'}}/>\n                        {getTranslation('student')}\n                      </div>\n                    </td>\n                    <td style={styles.thText}>{getTranslation('EWS')}</td>\n                    <td style={styles.thText}>\n                      {getTranslation('overallResultHeaderTeacher')}\n                    </td>\n                    <td style={styles.thText}>\n                      {getTranslation('objectivesText')}\n                    </td>\n                  </tr>\n                  {sortedStudents?.map((s, i) => {\n                    const ews = courseEwsMap[s.id];\n                    const courseAssessment = courseAssessmentsMap[s.id];\n                    let bgColor = s.id === highlight ? colors.grey : colors.white;\n                    bgColor = s.id === student.id ? colors.borderColor : bgColor;\n                    let selected = false;\n                    if (multiEdit) {\n                      selected = selectedStudents?.findIndex((id) => id === s.id) >= 0;\n                    }\n                    if (selected) {\n                      bgColor = colors.borderColor;\n                    } else if (!selected && multiEdit) {\n                      bgColor = colors.white;\n                    }\n\n                    return (\n                      <tr\n                        onClick={() => {\n                          if (!multiEdit) {\n                            setStudentCB(s)\n                          } else {\n                            let selectedStudentsNow;\n                            if (\n                              selectedStudents.findIndex((id) => id === s.id)\n                              >= 0\n                            ) {\n                              selectedStudentsNow = selectedStudents.filter(\n                                (id) => id !== s.id,\n                              );\n                              setSelectedStudents(selectedStudentsNow);\n                            } else {\n                              selectedStudentsNow = [...selectedStudents, s.id];\n                              setSelectedStudents(selectedStudentsNow);\n                            }\n                            calculateExtraAdjustments(selectedStudentsNow);\n                          }\n                        }}\n                        onMouseEnter={() => setHighlight(s.id)}\n                        onMouseLeave={() => setHighlight(null)}\n                        key={s.id}\n                        style={{\n                          cursor: 'pointer',\n                          height: '52px',\n                          backgroundColor: bgColor,\n                        }}\n                      >\n                        {multiEdit && (\n                          <td>\n                            <GreenCheckbox\n                              inputProps={{'aria-label': 'controlled'}}\n                              checked={selected || false}\n                              onChange={(e) => {\n                                if (e.target.checked) {\n                                  setSelectedStudents([\n                                    ...selectedStudents,\n                                    s.id,\n                                  ]);\n                                } else {\n                                  setSelectedStudents(\n                                    selectedStudents.filter((id) => id !== s.id),\n                                  );\n                                }\n                              }}\n                            />\n                          </td>\n                        )}\n                        <td style={styles.td}>\n                          <span style={styles.tdText}>\n                            {s.first_name} {s.last_name}\n                          </span>\n                        </td>\n                        <td style={styles.td}>\n                          <EwsItem ews={ews} selected={s.id === student.id}/>\n                        </td>\n                        <td style={styles.td}>\n                          <CourseOverviewComponent\n                            courseAssessment={courseAssessment}\n                          />\n                        </td>\n                        <td style={styles.td}>\n                          <CourseObjectiveAssessmentsComponent\n                            gradeSystem={objectiveGradeSystem}\n                            objectiveAssessments={courseAssessment?.courseObjectiveAssessments}\n                            bgColor={bgColor}\n                          />\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </table>\n                <div style={{height: '30px', width: '50px', backgroundColor: 'transparent'}}/>\n              </div>\n              {!multiEdit && renderAssignments && (\n                <div style={{display: 'flex', paddingRight: '16spx'}}>\n                  {sortedAssignments?.map((assignment) => (\n                    <AssignmentTable\n                      key={assignment.id}\n                      students={classroom?.students}\n                      onStudentSelect={(id) => {\n                        const stud = classroom?.students?.find(\n                          (s) => s.id === id,\n                        );\n                        setStudentCB(stud);\n                      }}\n                      assignment={assignment}\n                      highlight={highlight}\n                      student={student}\n                      setHighlight={setHighlight}\n                      styles={styles}\n                    />\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        <div\n          style={{\n            ...styles.rightPanel,\n            height: `${dim.height - (multiEdit ? 30 : 80)}px`,\n            boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n            marginTop: multiEdit ? '30px' : '80px',\n          }}\n        >\n          <StudentCourseOverview\n            style={studentCourseOverviewStyle}\n            hideCourseCard\n            student={student}\n            course={course}\n            isGrid\n            multiEdit={multiEdit}\n            onSave={multiSave}\n            extraAdjustmentData={extraAdjustmentData}\n            selectedStudents={selectedStudents}\n            loading={() => {}}\n          />\n          {!multiEdit && (\n            <div\n              style={{\n                position: 'fixed',\n                top: 60,\n                right: 0,\n                height: '50px',\n                backgroundColor: colors.borderColor,\n                width: '330px',\n                alignItems: 'center',\n                padding: '0px 16px 0px 16px',\n                display: 'flex',\n              }}\n            >\n              <span style={{...fonts.LARGE, fontWeight: '800'}}>\n                {student.first_name} {student.last_name}\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n      {loading && false &&\n      <div style={{\n        display: 'flex',\n        position: 'fixed',\n        top: 0,\n        left: -dim.width,\n        right: 0,\n        bottom: 0,\n        backgroundColor: colors.dimmed,\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 1000,\n      }}>\n        <CircularProgress size={60}/>\n      </div>\n      }\n    </div>\n  );\n};\nexport default memo(GridOverview);\n","import React, { useContext, useEffect, useState } from 'react';\nimport { GlobalContext } from '../utils';\nimport StudentListHeader from './studentListHeader';\nimport StudentItem from './studentItem';\nimport StudentOverview from './studentOverview';\nimport GridOverview from './gridview/gridOverview';\nimport SortStudentComponent from '../components/sortStudentComponent';\nimport { colors } from '../theme';\n\nconst classroomFields = `\n  name\n  courses {\n    id\n    name\n    code\n  }\n  students {\n      id\n      last_name\n      first_name\n      photo_url\n      email\n    }`;\nconst CourseOverview = (props) => {\n  const [loading, setLoading] = useState();\n  const [selectedStudent, setSelectedStudent] = useState();\n  const [selectedCourse, setSelectedCourse] = useState();\n  const [selectedObjective, setSelectedObjective] = useState();\n\n  const [showGrid, setShowGrid] = useState(false);\n  const context = useContext(GlobalContext);\n  const {\n    Api, height, sortingMethod, openDrawer,\n  } = context;\n  const [classroom, setClassroom] = useState();\n\n  const loadClassroom = async () => {\n    setLoading(true);\n    const response = await Api.getClassroom(classroomFields);\n    setClassroom(response?.data?.classroom);\n    setLoading(false);\n  };\n  useEffect(() => {\n    loadClassroom();\n  }, []);\n\n  if (showGrid) {\n    return (\n      <div>\n        <GridOverview\n          course={selectedCourse}\n          student={selectedStudent || classroom?.students[0]}\n          onClose={() => setShowGrid(false)}\n        />\n        <StudentListHeader\n          toggleMenu={openDrawer}\n          toggleGrid={() => {\n            if (classroom?.courses.length === 1) {\n              setSelectedCourse(classroom?.courses[0]);\n            }\n            setShowGrid(!showGrid);\n          }}\n          showGridIcon={!!selectedCourse || classroom?.courses.length === 1}\n          showGrid={showGrid}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ border: '0px solid green', height: '100%' }}>\n      {selectedStudent && (\n        <StudentOverview\n          toggleGrid={() => setShowGrid(!showGrid)}\n          selectedCourse={selectedCourse}\n          student={selectedStudent}\n          onClose={() => setSelectedStudent(null)}\n          onCourseSelected={setSelectedCourse}\n          classroomName={classroom?.name}\n          onObjectiveSelected={setSelectedObjective}\n          selectedObjective={selectedObjective}\n        />\n      )}\n      <StudentListHeader\n        toggleMenu={openDrawer}\n        toggleGrid={() => {\n          if (classroom?.courses.length === 1) {\n            setSelectedCourse(classroom?.courses[0]);\n          }\n          setShowGrid(!showGrid);\n        }}\n        showGridIcon={!!selectedCourse || classroom?.courses.length === 1}\n      />\n      <div\n        style={{\n          overflow: 'scroll',\n          height: height - 60,\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        <div\n          style={{\n            borderBottom: `1px solid ${colors.borderColor}`,\n            display: 'flex',\n            justifyContent: 'flex-end',\n            padding: '6px',\n          }}\n        >\n          <SortStudentComponent style={{}} />\n        </div>\n        {classroom?.students\n          .sort((a, b) => {\n            if (sortingMethod === 'firstName') {\n              return a.first_name.localeCompare(b.first_name);\n            }\n            return a.last_name.localeCompare(b.last_name);\n          })\n          .map((student) => (\n            <div key={student.id}>\n              <StudentItem\n                selected={selectedStudent?.id === student.id}\n                student={student}\n                onClickStudent={() => {\n                  setSelectedStudent(student);\n                  if (classroom?.courses.length === 1) {\n                    setSelectedCourse(classroom?.courses[0]);\n                  }\n                }}\n              />\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default CourseOverview;\n","import React, {useEffect, useState} from 'react';\nimport {ButtonBase} from '@material-ui/core';\nimport {MoreVert} from '@material-ui/icons';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {withStyles} from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AssessmentButton from './assessmentButton';\nimport {getAssessmentIcon, getStatusText, getSubmittedIcon, getSubmittedStatusText} from '../utils';\nimport {colors, fonts} from '../theme';\nimport AssignmentAssessment from './assignmentAssessment';\nimport ObjectivesList from './objectivesList';\nimport Tooltip from \"./tooltip\";\n\nconst StudentButton = (props) => {\n  const {\n    onClickStudent,\n    style,\n    student,\n    assessment,\n    use_submitted_status = false,\n    onStatusChange,\n    showAssessmentButton = true,\n  } = props;\n  const [highlight, setHighlight] = useState(false);\n\n  if (!student.student_name) {\n    student.student_name = `${student.first_name} ${student.last_name}`;\n  }\n  const {\n    student_id: id,\n    student_name: fullName,\n    fail_warning: warning,\n  } = student;\n\n  const {status_new: status} = assessment;\n  const highlightStudent = () => {\n    setHighlight(true);\n  };\n\n  const unHighlightStudent = () => {\n    setHighlight(false);\n  };\n\n  return (\n    <div style={{position: 'relative', height: '50px'}}>\n      <ButtonBase\n        focusRipple\n        onClick={onClickStudent}\n        key={id}\n        onMouseEnter={highlightStudent}\n        onMouseLeave={unHighlightStudent}\n        style={{\n          width: '100%',\n          height: '50px',\n          paddingTop: '5px',\n          paddingRight: '20px',\n          paddingBottom: '5px',\n          paddingLeft: '20px',\n          borderBottom: `1px solid ${colors.borderColor}`,\n          backgroundColor: highlight ? colors.grey : 'transparent',\n          ...style,\n        }}\n      >\n        <div\n          style={{\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n          }}\n        >\n          <div style={{display: 'flex', justifyContent: 'space-between', width: '45px'}}>\n            <Tooltip title={getStatusText(assessment.status_new)}>\n              <div>\n                {getAssessmentIcon({status: assessment.status_new, style: {maxHeight: '18px'}})}\n              </div>\n            </Tooltip>\n            {use_submitted_status &&\n            <div style={{marginLeft: '8px'}}>\n              <Tooltip title={getSubmittedStatusText(assessment.submitted_status)}>\n                <div>\n                  {getSubmittedIcon({status: assessment.submitted_status})}\n                </div>\n              </Tooltip>\n            </div>}\n          </div>\n          <Tooltip title={student?.email}>\n            <p\n              style={{\n                ...fonts.MEDIUM,\n                marginLeft: '16px',\n                width: use_submitted_status ? '180px' : '210px',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap',\n                textAlign: 'start',\n              }}\n            >\n              {fullName}\n            </p>\n          </Tooltip>\n        </div>\n      </ButtonBase>\n      {showAssessmentButton && (\n        <AssessmentButton\n          style={{\n            cursor: 'pointer',\n            position: 'absolute',\n            right: '10px',\n            top: '14px',\n            color: colors.darkGrey,\n          }}\n          onStatusChange={(newStatus) => onStatusChange({status: newStatus, student})\n          }\n          submittedStatus={use_submitted_status}\n          button={<MoreVert/>}\n        />\n      )}\n    </div>\n  );\n};\n\nconst StyledAccordion = withStyles({\n  root: {\n    '&$expanded': {\n      marginTop: '0px',\n    },\n  },\n  expanded: {},\n})(Accordion);\n\nconst StyledAccordionSummary = withStyles({\n  root: {\n    padding: '0px',\n    margin: '0px',\n    '&$expanded': {\n      minHeight: '0px',\n    },\n  },\n  content: {\n    padding: '0px',\n    margin: '0px',\n    '&$expanded': {\n      padding: '0px',\n      margin: '0px',\n      minHeight: '0px',\n    },\n  },\n  expandIcon: {\n    position: 'absolute',\n    right: '46px',\n    '&$expanded': {},\n  },\n  expanded: {},\n})(AccordionSummary);\n\nconst StyledAccordionDetails = withStyles({\n  root: {\n    padding: '0px',\n  },\n})(AccordionDetails);\n\nexport const StudentItem = (props) => {\n  const {\n    onClick,\n    student,\n    onStatusChange,\n    assignment,\n    expandable = false,\n    filter,\n    gradeSystem,\n    courseDefinitions,\n    expanded: initialExpanded,\n    assessment,\n    paddingLeft = '0px',\n  } = props;\n\n  const [expanded, setExpanded] = useState(initialExpanded);\n  const [focused, setFocused] = useState(false);\n\n  useEffect(() => {\n    setExpanded(initialExpanded);\n  }, [initialExpanded]);\n\n  const onClickStudent = () => {\n    onClick({student, objectiveAssessments: assessment?.objectiveAssessments, assessment});\n  };\n\n  const expandItem = (e, expand) => {\n    setExpanded(expand);\n  };\n\n  if (!expandable) {\n    return <StudentButton {...{...props, onClickStudent, style: {paddingLeft}}} />;\n  }\n\n  return (\n    <div style={{position: 'relative'}}>\n      <StyledAccordion\n        TransitionProps={{unmountOnExit: true, enter: false, exit: false}}\n        expanded={expanded}\n        onChange={expandItem}\n      >\n        <StyledAccordionSummary\n          onMouseEnter={() => setFocused(true)}\n          onMouseLeave={() => setFocused(false)}\n          style={{\n            backgroundColor: focused ? colors.grey : colors.white,\n            padding: '0px 0px 0px 16px',\n            margin: '0px',\n            borderBottom: `1px solid ${colors.borderColor}`,\n          }}\n          expandIcon={<ExpandMoreIcon/>}\n        >\n          <StudentButton\n            {...{\n              ...props,\n              onClickStudent,\n              showAssessmentButton: false,\n              use_submitted_status: assignment.use_submitted_status,\n              style: {border: '0px', paddingLeft},\n            }}\n          />\n        </StyledAccordionSummary>\n        <StyledAccordionDetails\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            padding: '0px 10px 0px 10px',\n          }}\n        >\n          <AssignmentAssessment\n            filter={filter}\n            assignment={assignment}\n            assessment={assessment}\n          />\n          <ObjectivesList\n            assignmentAssessmentId={assessment?.id}\n            courseDefinitions={courseDefinitions}\n            objectiveAssessments={assessment?.objectiveAssessments}\n            gradeSystem={gradeSystem}\n            filter={filter}\n          />\n        </StyledAccordionDetails>\n      </StyledAccordion>\n      <AssessmentButton\n        style={{\n          cursor: 'pointer',\n          position: 'absolute',\n          right: '10px',\n          top: '16px',\n          color: colors.darkGrey,\n        }}\n        onStatusChange={(newStatus) => onStatusChange({status: newStatus, student})\n        }\n        submittedStatus={assignment.use_submitted_status}\n        button={<MoreVert/>}\n      />\n    </div>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.666 2l-.49 2.523a7.951 7.951 0 00-2.244 1.291L4.508 4.98 2.172 9.02l1.941 1.688A8.006 8.006 0 004 12c0 .409.04.833.113 1.291v.002L2.172 14.98l2.336 4.041 2.422-.834a7.952 7.952 0 002.246 1.29L9.666 22h4.668l.49-2.523a7.941 7.941 0 002.244-1.291l2.424.835 2.334-4.04-1.94-1.69c.075-.458.114-.883.114-1.291 0-.408-.039-.832-.113-1.29v-.001l1.941-1.69-2.336-4.04-2.422.833a7.952 7.952 0 00-2.246-1.289L14.334 2H9.666zm1.648 2h1.372l.388 2 1.043.395a5.941 5.941 0 011.684.964l.863.707 1.922-.66.685 1.186-1.535 1.336.176 1.1v.001c.061.375.088.69.088.971s-.027.596-.088.97l-.178 1.1 1.536 1.336-.686 1.188-1.92-.662-.865.709a5.93 5.93 0 01-1.682.964h-.002L13.072 18l-.388 2h-1.37l-.388-2-1.043-.395a5.941 5.941 0 01-1.684-.964l-.863-.707-1.922.66-.685-1.186 1.537-1.338-.178-1.095v-.002A6.158 6.158 0 016 12c0-.281.027-.596.088-.97l.178-1.1-1.537-1.336.685-1.188 1.922.662.863-.709a5.941 5.941 0 011.684-.964L10.926 6l.388-2zM12 8c-2.197 0-4 1.803-4 4s1.803 4 4 4 4-1.803 4-4-1.803-4-4-4zm0 2c1.111 0 2 .889 2 2s-.889 2-2 2-2-.889-2-2 .889-2 2-2z\"\n});\n\nfunction SvgSettings(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 24,\n    height: 24\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/504c19b0dc5123cb074b63bf1fe24738-settings.svg\";\nexport { SvgSettings as ReactComponent };","import React from 'react';\nimport { ArrowBack } from '@material-ui/icons';\nimport { colors, fonts } from '../theme';\nimport { getTranslation } from '../i18n';\nimport LinearProgress from '../components/LinearProgress';\nimport { ReactComponent as GridIcon } from '../images/grid.svg';\nimport { ReactComponent as SettingsIcon } from '../images/settings.svg';\nimport Tooltip from \"../components/tooltip\";\n\nconst AssignmentStudentListHeader = (props) => {\n  const {\n    back,\n    title,\n    isTopic = false,\n    openGrid,\n    gotToEdit,\n  } = props;\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        height: '60px',\n        display: 'flex',\n        backgroundColor: isTopic ? colors.topic : colors.green,\n        border: '0px solid blue',\n        zIndex: 1000,\n        position: 'relative',\n      }}\n    >\n      <div\n        style={{\n          padding: '14px',\n          border: '0px solid red',\n        }}\n      >\n        <div style={{ display: 'flex', alignItems: 'center', border: '0px solid blue' }}>\n          <ArrowBack\n            style={{\n              cursor: 'pointer',\n              color: colors.white,\n              height: '25px',\n              marginTop: '2px',\n              marginRight: '4px',\n            }}\n            onClick={back}\n          />\n          <span\n            style={{\n              ...fonts.LARGE,\n              color: colors.white,\n              marginLeft: '14px',\n              marginTop: '4px',\n              fontWeight: '500',\n              width: '220px',\n              textOverflow: 'ellipsis',\n              overflow: 'hidden',\n              whiteSpace: 'nowrap',\n            }}\n          >\n          {title}\n        </span>\n        </div>\n        <div style={{\n          cursor: 'pointer', alignItems: 'center', display: 'flex', position: 'absolute', right: '60px', top: '20px',\n        }} onClick={openGrid}>\n          <Tooltip title={getTranslation('gridOverviewTooltip')}>\n            <div>\n          <GridIcon fill={colors.white} />\n            </div>\n          </Tooltip>\n        </div>\n        <Tooltip title={getTranslation('editScalesAndObjectivesOption')}>\n          <div style={{\n            position: 'absolute', top: '16px', right: '14px', cursor: 'pointer',\n          }}>\n        <SettingsIcon fill={colors.white} onClick={gotToEdit}/>\n          </div>\n        </Tooltip>\n      </div>\n      <div style={{\n        position: 'absolute', bottom: 0, left: 0, right: 0,\n      }}>\n        <LinearProgress />\n      </div>\n    </div>\n  );\n};\n\nexport default AssignmentStudentListHeader;\n","import {\n  Checkbox,\n  Divider,\n  FormControl,\n  InputBase,\n  InputLabel,\n  ListItemText,\n  MenuItem,\n  Select,\n  withStyles,\n} from '@material-ui/core';\nimport React from 'react';\nimport { colors, fonts } from '../theme';\nimport { getTranslation } from '../i18n';\n\nconst GreenCheckbox = withStyles({\n  root: {\n    color: colors.grey,\n    '&$checked': {\n      color: colors.green,\n    },\n  },\n  checked: {},\n})(Checkbox);\n\nconst BootstrapInput = withStyles(() => ({\n  input: {\n    ...fonts.MEDIUM,\n    fontSize: '16px',\n    height: '34px',\n    alignItems: 'flex-end',\n    display: 'flex',\n    borderBottom: `1px solid ${colors.borderColor}`,\n    padding: '6px',\n    '&:focus': {\n      // backgroundColor: colors.white,\n    },\n  },\n}))(InputBase);\n\nconst allString = getTranslation('teacherAssignmentsAssessmentManyStudentIdOptionAll');\nconst StudybeeSelector = (props) => {\n  const {\n    items,\n    title,\n    inputName,\n    onSelect,\n    enabled = true,\n    selectedItems,\n  } = props;\n\n  const handleChange = (event) => {\n    const { value } = event.target;\n    let selected = [];\n    if (value[value.length - 1] === 'all') {\n      if (selectedItems.length !== items.length) {\n        selected = items.map((s) => s.id);\n      }\n    } else {\n      selected = value;\n    }\n    onSelect(selected);\n  };\n\n  const ITEM_HEIGHT = 48;\n  const ITEM_PADDING_TOP = 8;\n  const MenuProps = {\n    PaperProps: {\n      style: {\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n        width: 250,\n      },\n    },\n    getContentAnchorEl: null,\n    autoFocus: false,\n  };\n  return (\n    <FormControl>\n      <InputLabel>{title}</InputLabel>\n      <Select\n        disabled={!enabled}\n        multiple\n        value={selectedItems}\n        onChange={handleChange}\n        renderValue={() => (selectedItems.length === items.length ? `${allString} ${title.toLowerCase()}` : `${selectedItems.length} ${inputName} ${getTranslation('teacherAssignmentsAssessmentManyStudentTriggerMultiplyStudents')}`)}\n        MenuProps={MenuProps}\n        input={<BootstrapInput />}\n      >\n        <MenuItem key={'all'} value={'all'}>\n          <GreenCheckbox checked={selectedItems.length === items.length} />\n          <ListItemText primary={allString} />\n        </MenuItem>\n        <Divider />\n        {items.map((item) => (\n          <MenuItem key={item.id} value={item.id}>\n            <GreenCheckbox\n              checked={selectedItems.find((id) => id === item.id) > -1}\n            />\n            <ListItemText primary={item.label} />\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\nexport default StudybeeSelector;\n","import React, { useContext, useState } from 'react';\nimport {\n  Button,\n  CircularProgress,\n  Dialog,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport StudybeeSelector from './studybeeSelector';\nimport Header from './header';\nimport Card from './card';\nimport FeedbackInput from './feedbackInput';\nimport { getGradeSystemValues, GlobalContext } from '../utils';\nimport { getTranslation } from '../i18n';\nimport { colors, fonts } from '../theme';\nimport AssessmentSlider from './assessmentSlider';\n\nconst overAllText = getTranslation('overallResultHeaderTeacher');\nconst resultText = getTranslation('resultsInput');\nconst overallFeedbackText = getTranslation('overallFeedback');\nconst overallPrivateNoteText = getTranslation('overallPrivateNoteInput');\nconst objectiveFeedbackInputText = getTranslation('objectiveFeedbackInput');\nconst objectivePrivateNoteText = getTranslation('objectivePrivateNoteInput');\n\nconst BatchAssessmentDialog = (props) => {\n  const context = useContext(GlobalContext);\n  const { Api } = context;\n\n  const {\n    open, onClose, students, courses, gradeSystem, assignment,\n  } = props;\n  const [selectedStudents, setSelectedStudents] = useState([]);\n  const [selectedObjectives, setSelectedObjectives] = useState([]);\n  const [result, setResult] = useState();\n  const [feedback, setFeedback] = useState();\n  const [note, setNote] = useState();\n  const [grade, setGrade] = useState();\n  const [objectiveFeedback, setObjectiveFeedback] = useState();\n  const [objectiveNote, setObjectiveNote] = useState();\n  const [saving, setSaving] = useState(false);\n\n  const overallAssessmentAvailable = selectedStudents.length > 0;\n  const objectiveAssessmentAvailable = selectedObjectives.length > 0;\n\n  if (!students || !gradeSystem) {\n    return null;\n  }\n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    const objectives = (\n      await Promise.all(\n        selectedStudents.map((studentId) => Api.getObjectiveAssessments(assignment.id, studentId)),\n      )\n    )\n      .map((s) => s\n        .filter((o) => selectedObjectives.find((id) => id === o.objective))\n        .map((o) => ({\n          ...o,\n          feedback: objectiveFeedback || o.feedback,\n          private_note: objectiveNote || o.private_note,\n          grade_id: grade?.id || o.grade_id,\n          grade_name: grade?.name || o.grade_name,\n        })))\n      .flat();\n\n    const assessments = (\n      await Promise.all(\n        selectedStudents.map((studentId) => Api.getAssignmentAssessment(assignment.id, studentId)),\n      )\n    ).map((assessment) => ({\n      ...assessment,\n      feedback: feedback || assessment.feedback,\n      result: result || assessment.result,\n      private_note: note || assessment.private_note,\n    }));\n\n    await Api.updateAssignmentAssessment(assignment.id, assessments);\n\n    await Api.updateObjectiveAssessmentsGql(objectives);\n    setSaving(false);\n    handleClose();\n  };\n\n  const gradeSystemValues = getGradeSystemValues(gradeSystem);\n\n  const objectives = courses.map((c) => c.objectives).flat();\n  return (\n    <Dialog onClose={handleClose} open={open}>\n      <div\n        style={{\n          width: '550px',\n          padding: '20px',\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        <span\n          style={{\n            ...fonts.XLARGE,\n            width: '100%',\n            padding: '0px 0px 0px 0px',\n            marginBottom: '20px',\n          }}\n        >\n          {getTranslation('batchAssessmentDialogTitle')}\n        </span>\n        <StudybeeSelector\n          selectedItems={selectedStudents}\n          onSelect={(select) => {\n            setSelectedStudents(select);\n            if (select.length === 0) {\n              setSelectedObjectives([]);\n            }\n          }}\n          items={students.map((s) => ({\n            id: s.student_id,\n            label: s.student_name,\n          }))}\n          title={getTranslation('students')}\n          inputName={getTranslation('students').toLowerCase()}\n        />\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n          }}\n        >\n          <Header\n            title={overAllText}\n            style={{\n              backgroundColor: overallAssessmentAvailable\n                ? colors.green\n                : colors.darkGrey,\n            }}\n          />\n          <Card style={{ margin: '1px 2px 20px 2px' }}>\n            <FeedbackInput\n              readonly={!overallAssessmentAvailable}\n              placeholder={resultText}\n              onTextChange={(text) => setResult(text)}\n              hideEye\n            />\n            <FeedbackInput\n              readonly={!overallAssessmentAvailable}\n              placeholder={overallFeedbackText}\n              onTextChange={(text) => setFeedback(text)}\n              hideEye\n            />\n            <FeedbackInput\n              readonly={!overallAssessmentAvailable}\n              placeholder={overallPrivateNoteText}\n              hideEye\n              onTextChange={(text) => setNote(text)}\n            />\n          </Card>\n\n          <StudybeeSelector\n            selectedItems={selectedObjectives}\n            enabled={overallAssessmentAvailable}\n            onSelect={(selected) => setSelectedObjectives(selected)}\n            items={objectives.map((o) => ({ id: o.id, label: o.name }))}\n            title={getTranslation('objectivesText')}\n            inputName={getTranslation('objectivesText').toLowerCase()}\n          />\n\n          <Header\n            title={getTranslation('objectivesText')}\n            style={{\n              backgroundColor: objectiveAssessmentAvailable\n                ? colors.green\n                : colors.darkGrey,\n            }}\n          />\n          <Card style={{ margin: '1px 2px 1px 2px' }}>\n            {/*<span*/}\n            {/*  onClick={() => showObjectiveDetails(objective.id)}*/}\n            {/*  style={{ ...fonts.MEDIUM, cursor: 'pointer' }}*/}\n            {/*>*/}\n            {/*  {objective.name}*/}\n            {/*</span>*/}\n            <AssessmentSlider\n              showPublish={false}\n              disabled={!objectiveAssessmentAvailable}\n              values={gradeSystemValues}\n              defaultIndex={0}\n              onChangeCommit={(index) => {\n                const selectedGrade = gradeSystem.grades.find((g) => g.name === gradeSystemValues[index].name);\n                setGrade(selectedGrade);\n              }}\n            />\n            <FeedbackInput\n              readonly={!objectiveAssessmentAvailable}\n              placeholder={objectiveFeedbackInputText}\n              onTextChange={(text) => setObjectiveFeedback(text)}\n              hideEye\n            />\n            <FeedbackInput\n              placeholder={objectivePrivateNoteText}\n              readonly={!objectiveAssessmentAvailable}\n              onTextChange={(text) => setObjectiveNote(text)}\n              hideEye\n            />\n          </Card>\n        </div>\n        <Button style={{ marginTop: '10px' }} onClick={handleSave}>\n          <span style={fonts.LARGE}>{getTranslation('saveBtn').toUpperCase()}</span>\n        </Button>\n        <CloseIcon\n          onClick={handleClose}\n          style={{\n            position: 'absolute',\n            top: '20px',\n            right: '20px',\n            cursor: 'pointer',\n          }}\n        />\n      </div>\n      {saving && (\n        <div\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: '#00000050',\n            alignItems: 'center',\n            justifyContent: 'center',\n            display: 'flex',\n            flexDirection: 'column',\n          }}\n        >\n          <CircularProgress size={100} />\n        </div>\n      )}\n    </Dialog>\n  );\n};\nexport default BatchAssessmentDialog;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"current\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.1 15.8H7.9c-.6 0-1.1-.5-1.1-1.1v-4.3L2.6 6.2c-.2-.2-.3-.5-.4-.8v-2c0-.6.5-1.1 1.1-1.1h11.3c.6 0 1.1.5 1.1 1.1v2c0 .3-.1.6-.3.8l-4.2 4.2v4.3c0 .5-.5 1.1-1.1 1.1zM3.4 3.4v2l4.5 4.5v4.7h2.2V9.9l4.5-4.5v-2H3.4z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.1 15.8H7.9c-.6 0-1.1-.5-1.1-1.1v-4.3L2.6 6.2c-.2-.2-.3-.5-.4-.8v-2c0-.6.5-1.1 1.1-1.1h11.3c.6 0 1.1.5 1.1 1.1v2c0 .3-.1.6-.3.8l-4.2 4.2v4.3c0 .5-.5 1.1-1.1 1.1zM3.4 3.4v2l4.5 4.5v4.7h2.2V9.9l4.5-4.5v-2H3.4z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n}));\n\nfunction SvgFilter(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\"\n  }, props), _ref);\n}\n\nexport default __webpack_public_path__ + \"images/3852299757286d4b6beaceef01de55e8-filter.svg\";\nexport { SvgFilter as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.2 14.6h3.4v1.1h-3.4v-1.1zm0-4.5h4.5v1.1h-4.5v-1.1zm0-4.5h5.6v1.1h-5.6V5.6zM8.4 2.3h1.1v13.5H8.4V2.3zM6 2.2L4 4.1 2 2.2l-.9.8 2.8 2.6L6.8 3 6 2.2z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.2 14.6h3.4v1.1h-3.4v-1.1zm0-4.5h4.5v1.1h-4.5v-1.1zm0-4.5h5.6v1.1h-5.6V5.6zM8.4 2.3h1.1v13.5H8.4V2.3zM6 2.2L4 4.1 2 2.2l-.9.8 2.8 2.6L6.8 3 6 2.2z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#656565\"\n});\n\nfunction SvgExpand(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/83451a9ac47d525d73bc427e155bacfd-expand.svg\";\nexport { SvgExpand as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.7 14.1h7.9v1.1H7.7v-1.1zm-3.8.5l-1.5 1.5.8.8 2.2-2.2-2.2-2.2-.8.8 1.5 1.3zm3.8-6.2h7.9v1.1H7.7V8.4zM3.9 9l-1.5 1.5.8.8L5.5 9 3.3 6.8l-.8.8L3.9 9zm3.8-6.2h7.9v1.1H7.7V2.8zm-3.8.6L2.4 4.9l.8.8 2.2-2.2-2.2-2.2-.8.8 1.5 1.3z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.7 14.1h7.9v1.1H7.7v-1.1zm-3.8.5l-1.5 1.5.8.8 2.2-2.2-2.2-2.2-.8.8 1.5 1.3zm3.8-6.2h7.9v1.1H7.7V8.4zM3.9 9l-1.5 1.5.8.8L5.5 9 3.3 6.8l-.8.8L3.9 9zm3.8-6.2h7.9v1.1H7.7V2.8zm-3.8.6L2.4 4.9l.8.8 2.2-2.2-2.2-2.2-.8.8 1.5 1.3z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  fill: \"#656565\"\n});\n\nfunction SvgCollapseAll(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"images/c3a01f3f60a1060d95547fb8e4dd7b42-collapse_all.svg\";\nexport { SvgCollapseAll as ReactComponent };","import React, {useContext, useEffect, useRef, useState} from \"react\";\nimport {colors, fonts} from \"../theme\";\nimport {StudentItem} from \"../components/studentItem\";\nimport AssignmentObjectivesList from \"./assignmentObjectivesList\";\nimport AssignmentStudentListHeader from \"./assignmentStudentListHeader\";\nimport {useWindowDimensions} from \"../hooks\";\nimport {\n  getStudentListFilterOptions,\n  GlobalContext, NOT_SUBMITTED, NOT_SUBMITTED_LATE, setStudentListFilterOptions,\n  sortAssessmentsByStudentName, SUBMITTED, SUBMITTED_LATE,\n} from \"../utils\";\nimport {getTranslation} from \"../i18n\";\nimport BatchAssessmentDialog from \"../components/batchAssessmentDialog\";\nimport FullscreenProgress from \"../components/fullscreenProgress\";\nimport EditAssessmentCriteria from \"./editAssignment/editAssessmentCriteria\";\nimport {classroomFields} from \"./assignmentsList\";\nimport {ReactComponent as FilterIcon} from \"../images/filter.svg\";\nimport {ReactComponent as ExpandIcon} from \"../images/expand.svg\";\nimport {ReactComponent as CollapseIcon} from \"../images/collapse_all.svg\";\nimport MoreMenu from \"../components/moreMenu\";\nimport SortStudentComponent from \"../components/sortStudentComponent\";\nimport Tooltip from \"../components/tooltip\";\n\nconst fields = `\n    title\n    connected\n    state\n    use_submitted_status\n    course_id\n    assessments{\n      id\n      student_id\n      feedback\n      feedback_published\n      private_note\n      grade_published\n      grade_id\n      grade_name\n      grade_color\n      result\n      result_published\n      status_new\n      status_new_last_edit\n      feedback_last_edit\n      grade_last_edit\n      last_edit_for_student\n      self_assessment\n      self_assessment_last_edit\n      submitted_status\n    }\n    objectiveAssessments{\n      id\n      student_id\n      objectiveName\n      objective_id\n      feedback\n      feedback_published\n      feedback_last_edit\n      private_note\n      private_note_last_edit\n      grade_last_edit\n      grade_id\n      grade_published\n      counter_grade_0\n      counter_grade_1\n      counter_grade_2\n      counter_grade_3\n      counter_grade_4\n      counter_grade_5\n      counter_grade_6\n      counter_grade_7\n      counter_grade_8\n      counter_grade_9\n      max_counter_grade_0\n      max_counter_grade_1\n      max_counter_grade_2\n      max_counter_grade_3\n      max_counter_grade_4\n      max_counter_grade_5\n      max_counter_grade_6\n      max_counter_grade_7\n      max_counter_grade_8\n      max_counter_grade_9\n    }\n    gradeSystem {\n      id\n      name\n      is_counter\n      is_main\n      is_final\n      grades{\n        id\n        name\n        is_passed\n        color\n        label\n      }\n    }`;\n\nconst filterOptions = [\n  {title: getTranslation(\"selectContentInList\"), type: \"title\"},\n  {\n    title: getTranslation(\n      \"teacherAssignmentsAssessmentStudentVisibilityDialogOptionOverallFeedback\"\n    ),\n    name: \"overallFeedback\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"teacherSelfAssessmentLabel\"),\n    name: \"selfAssessment\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"overallResult\"),\n    name: \"result\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"overallAssessment\"),\n    name: \"overallGrade\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"overallPrivateNoteInput\"),\n    name: \"overallNote\",\n    selected: false,\n    selectable: true,\n  },\n  {type: \"separator\"},\n  {\n    title: getTranslation(\"assessmentMode\"),\n    name: \"grade\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"objectivesFeedbackMode\"),\n    name: \"feedback\",\n    selected: false,\n    selectable: true,\n  },\n  {\n    title: getTranslation(\"objectivesPrivateNotesMode\"),\n    name: \"note\",\n    selected: false,\n    selectable: true,\n  },\n];\n\nconst AssignmentStudentList = (props) => {\n  const context = useContext(GlobalContext);\n  const {\n    Api,\n    sortingMethod,\n    setVisibilityDialogData,\n  } = context;\n  const {assignment: initialAssignment, back} = props;\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [\n    editAssessmentCriteriaSelected,\n    setEditAssessmentCriteriaSelected,\n  ] = useState();\n  const [showBatchDialog, setShowBatchDialog] = useState(false);\n  const [assignment, setAssignment] = useState(initialAssignment);\n  const [assessments, setAssessments] = useState([]);\n  const [filter, setFilter] = useState([\n    \"overallFeedback\",\n    \"overallNote\",\n    \"selfAssessment\",\n    \"overallGrade\",\n  ]);\n  const [expandAll, setExpandAll] = useState(false);\n  const [showExpandAllInfo, setShowExpandAllInfo] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  const gradeSystem = useRef([]);\n  const courseDefinitions = useRef([]);\n\n  const dimensions = useWindowDimensions();\n\n  const getStudentAssessments = async () => {\n    let response = await Api.getClassroom(`\n    courseDefinitions {\n      id\n      name\n      course_id\n      objectives{\n        id\n        name\n        description\n      }\n    }`);\n    const {courseDefinitions: cd} = response?.data?.classroom;\n    response = await Api.getAssignmentWithAssessment(assignment.id, fields);\n    const {\n      gradeSystem: gs,\n      assessments,\n      objectiveAssessments,\n    } = response?.data?.assignment[0];\n    courseDefinitions.current = cd;\n    gradeSystem.current = gs;\n    const all = assessments.map((a) => {\n      return {\n        ...a,\n        objectiveAssessments: objectiveAssessments.filter(\n          (oa) => oa.student_id === a.student_id\n        ),\n      };\n    });\n    setAssessments(all);\n  };\n\n  useEffect(() => {\n    setLoading(true);\n\n    (async () => {\n      await getStudentAssessments();\n      const f = await getStudentListFilterOptions();\n      if (f) {\n        setFilter(f);\n      }\n\n      setLoading(false);\n    })();\n  }, []);\n\n  useEffect(() => {\n    setAssignment(initialAssignment);\n  }, [initialAssignment]);\n\n  const refresh = async () => {\n    setLoading(true);\n    const response = await Api.getClassroom(classroomFields);\n    const assignments = response?.data?.classroom?.assignments\n      .map((a) => [a, ...(a.assignments || [])])\n      .flat();\n    setAssignment(assignments.find((a) => a.id === assignment.id));\n    getStudentAssessments();\n    setLoading(false);\n  };\n\n  const onStatusChange = async ({student, status}) => {\n    const assessment = assessments.find(\n      (a) => a.student_id === student.student_id\n    );\n    if([SUBMITTED, SUBMITTED_LATE, NOT_SUBMITTED_LATE, NOT_SUBMITTED].find(s => s === status)){\n      assessment.submitted_status = status;\n    } else {\n      assessment.status_new = status;\n    }\n\n    if (status === \"ASSESSMENT_DONE\") {\n      setVisibilityDialogData({\n        assignmentId: assignment.id,\n        assessments: [assessment],\n        callback: () => {\n          refresh();\n        },\n      });\n    }\n    await Api.updateAssignmentAssessment([assessment]);\n  };\n\n  const studentClicked = (data) => {\n    const {\n      student,\n      objectiveAssessments,\n      assessment,\n      openGrid = false,\n    } = data;\n    const params = {\n      openGrid,\n      studentId: student.student_id,\n      assignment,\n      courseDefinitions: courseDefinitions.current,\n      gradeSystem: gradeSystem.current,\n      objectiveAssessments,\n      assignmentAssessment: assessment,\n      historyBack: async () => {\n        setSelectedStudent(null);\n        await refresh();\n      },\n      students: assignment.assessments,\n    };\n    setSelectedStudent(params);\n  };\n\n  const handleFilterMenu = (name) => {\n    let newFilter;\n    if (filter.find((f) => f === name)) {\n      newFilter = filter.filter((n) => n !== name);\n      setFilter(newFilter);\n      setStudentListFilterOptions(newFilter);\n    } else {\n      newFilter = [...filter, name];\n      setFilter(newFilter);\n      setStudentListFilterOptions(newFilter);\n    }\n    const showObjectives = !!newFilter.find((f) =>\n      [\"grade\", \"feedback\", \"note\", \"studentAssessment\"].find((a) => a === f)\n    );\n    if (showObjectives) {\n      setExpandAll(false);\n    }\n  };\n\n  if (selectedStudent) {\n    return <AssignmentObjectivesList {...selectedStudent} />;\n  }\n  if (editAssessmentCriteriaSelected) {\n    return (\n      <EditAssessmentCriteria\n        onClose={() => {\n          setEditAssessmentCriteriaSelected(false);\n          refresh();\n        }}\n        assignment={assignment}\n      />\n    );\n  }\n\n  const disableExpandAll = !!filter.find((f) =>\n    [\"grade\", \"feedback\", \"note\", \"studentAssessment\"].find((a) => a === f)\n  );\n  const toggleExpandAll = () => {\n    if (!disableExpandAll) {\n      setExpandAll(!expandAll);\n    } else {\n      setShowExpandAllInfo(true);\n      setTimeout(() => setShowExpandAllInfo(false), 3000);\n    }\n  };\n  const empty = assessments ? assessments.length === 0 : true;\n  const {assessments: students} = assignment;\n  const sortedStudents = students\n    ? sortAssessmentsByStudentName(students, sortingMethod)\n    : [];\n\n  return (\n    <div style={{}}>\n      <AssignmentStudentListHeader\n        title={assignment.title}\n        back={back}\n        isTopic={assignment?.is_topic}\n        gotToEdit={() => {\n          setEditAssessmentCriteriaSelected(true);\n        }}\n        openGrid={() =>\n          studentClicked({\n            student: sortedStudents[0],\n            objectiveAssessments: assessments?.objectiveAssessments,\n            assessments,\n            openGrid: true,\n          })\n        }\n      />\n      {loading && <FullscreenProgress/>}\n      {empty && !loading && (\n        <div style={{margin: \"20px\"}}>\n          <span style={{...fonts.LARGE}}>\n            {getTranslation(\"noStudentsYet\")}\n          </span>\n        </div>\n      )}\n      {!loading && !empty && (\n        <>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              padding: \"10px 10px 5px 10px\",\n              borderBottom: `1px solid ${colors.borderColor}`,\n              height: \"30px\",\n              alignItems: \"center\",\n            }}\n          >\n            <SortStudentComponent/>\n            <Tooltip\n              open={showTooltip}\n              title={getTranslation(\"assignmentsActionMenuFilterTooltip\")}\n            >\n              <div\n                onMouseUp={() => setShowTooltip(false)}\n                onMouseEnter={() => setShowTooltip(true)}\n                onMouseLeave={() => setShowTooltip(false)}\n              >\n                <MoreMenu\n                  icon={\n                    <FilterIcon\n                      style={{height: \"25px\", border: \"0px solid red\"}}\n                      fill={colors.darkGrey}\n                    />\n                  }\n                  options={filterOptions.map((f) => ({\n                    ...f,\n                    selected: filter.find((name) => name === f.name),\n                  }))}\n                  onClick={(item) => handleFilterMenu(item.name)}\n                  closeOnClick={false}\n                />\n              </div>\n            </Tooltip>\n            <Tooltip\n              title={getTranslation(\"expandAllDisabledDescription\")}\n              open={showExpandAllInfo}\n            >\n              <Tooltip\n                title={\n                  expandAll\n                    ? getTranslation(\"collapseAllButton\")\n                    : getTranslation(\"expandAllButton\")\n                }\n              >\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    cursor: \"pointer\",\n                    height: \"25px\",\n                    width: \"25px\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    border: \"0px solid\",\n                  }}\n                  onClick={toggleExpandAll}\n                >\n                  {!expandAll && <ExpandIcon fill={colors.darkGrey}/>}\n                  {expandAll && <CollapseIcon fill={colors.darkGrey}/>}\n                </div>\n              </Tooltip>\n            </Tooltip>\n          </div>\n          <div style={{height: dimensions.height - 110, overflow: \"scroll\"}}>\n            {sortedStudents.map((student) => (\n              <StudentItem\n                expanded={expandAll}\n                filter={filter}\n                expandable\n                assignment={assignment}\n                onStatusChange={onStatusChange}\n                key={student.student_id}\n                onClick={studentClicked}\n                student={student}\n                courseDefinitions={courseDefinitions.current}\n                gradeSystem={gradeSystem.current}\n                assessment={assessments.find(\n                  (a) => a.student_id === student.student_id\n                )}\n              />\n            ))}\n          </div>\n          <BatchAssessmentDialog\n            assignment={assignment}\n            students={assignment?.assessments}\n            open={showBatchDialog}\n            onClose={() => {\n              refresh();\n              setShowBatchDialog(false);\n            }}\n            courses={courseDefinitions.current.filter(\n              (c) => c.objectives?.length > 0\n            )}\n            gradeSystem={gradeSystem.current}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default AssignmentStudentList;\n","import React, {useState} from 'react';\nimport {ButtonBase} from '@material-ui/core';\nimport {colors, fonts} from '../theme';\n\n\nconst DrawerItem = (props) => {\n  const {\n    onClick, icon, iconObject, text, selected = false,\n  } = props;\n\n  const [highlight, setHighlight] = useState(false);\n  const bgColor = highlight ? colors.grey : colors.white;\n\n  return (\n    <ButtonBase\n      onMouseOver={() => setHighlight(true)}\n      onMouseLeave={() => setHighlight(false)}\n      focusRipple\n      onClick={onClick}\n      style={{\n        width: '100%',\n        height: '56px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        cursor: 'pointer',\n        backgroundColor: selected ? colors.greyDarker : bgColor,\n      }}>\n      {icon\n      && <img style={{height: '25px', margin: '0px 20px 0px 10px'}} src={icon}/>\n      }\n      {iconObject && <div style={{margin: '0px 20px 0px 10px'}}>{iconObject}</div>}\n      <span style={{...fonts.MEDIUM, fontWeight: '800'}}>{text}</span>\n    </ButtonBase>\n  );\n};\n\nexport default DrawerItem;\n","import React, {useContext} from 'react';\nimport {animated, useSpring} from 'react-spring';\n\nimport {\n  Assignment, School, Book, Refresh,\n} from '@material-ui/icons';\nimport {colors, fonts} from '../theme';\nimport {useWindowDimensions} from '../hooks';\nimport DrawerItem from './drawerItem';\nimport {getTranslation} from '../i18n';\nimport {GlobalContext} from '../utils';\n\nconst app = require('../../package.json');\n\nconst width = 300;\n\nconst Drawer = (props) => {\n  const {\n    close, selected, onNavigate, onRefresh, student,\n  } = props;\n  const context = useContext(GlobalContext);\n  const {user} = context;\n\n  const [opacityAnim, setOpacity] = useSpring(() => ({to: {opacity: 1}, from: {opacity: 0}}));\n  const [animProp, setMargin] = useSpring(() => ({\n    marginLeft: 0,\n    from: {marginLeft: -width},\n    config: {mass: 1, velocity: 0, friction: 26},\n    onRest: (props) => {\n      if (props.value.marginLeft === -width) close();\n    },\n  }));\n\n  const animateClose = () => {\n    setMargin({marginLeft: -width});\n    setOpacity({opacity: 0});\n  };\n\n  const navigate = (view) => {\n    onNavigate(view);\n    animateClose();\n  };\n\n  const dimensions = useWindowDimensions();\n  if (!user) {\n    return null;\n  }\n\n  const school = user?.school || {name: '', city: ''};\n\n  const refresh = () => {\n    onRefresh();\n    animateClose();\n  };\n\n  return (\n    <div>\n      <animated.div\n        onClick={animateClose}\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: colors.greyedOut,\n          ...opacityAnim,\n        }}/>\n      <animated.div style={{\n        position: 'absolute',\n        width,\n        height: dimensions.height,\n        top: 0,\n        backgroundColor: colors.white,\n        ...animProp,\n      }}>\n        <div style={{\n          display: 'flex', height: '165px', backgroundColor: colors.primary, flexDirection: 'column',\n        }}>\n          <img src={`https://${user.photo_url}`} style={{\n            display: 'flex',\n            width: '50px',\n            height: '50px',\n            backgroundColor: colors.white,\n            borderRadius: '50px',\n            margin: '14px',\n          }}/>\n          <span style={{\n            ...fonts.XLARGE,\n            fontWeight: '800',\n            margin: '8px 14px 0px 14px',\n          }}>{user.first_name} {user.last_name}</span>\n          <span style={{\n            ...fonts.MEDIUM,\n            margin: '0px 14px 14px 14px',\n          }}>{school?.name}{school?.city ? ` - ${school.city}` : ''}</span>\n        </div>\n\n        <DrawerItem onClick={() => navigate('assignments')} selected={selected === 'assignments'}\n                    iconObject={<Assignment style={{color: colors.brandColorGreen}}/>}\n                    text={getTranslation('assignmentsPage')}/>\n        <DrawerItem onClick={() => navigate('courseOverview')} selected={selected === 'courseOverview'}\n                    iconObject={<School style={{color: colors.brandColorPink}}/>}\n                    text={getTranslation('courseProgressionPage')}/>\n        <DrawerItem onClick={() => navigate('courseRequirements')}\n                    iconObject={<Book style={{color: colors.brandColorBlue}}/>}\n                    text={getTranslation('courseRequirementsPage')}/>\n        {!student\n        && <>\n          <div style={{borderBottom: `1px solid ${colors.borderColor}`}}/>\n          <DrawerItem onClick={refresh} iconObject={<Refresh style={{color: colors.textColor}}/>}\n                      text={getTranslation('synchronizeMainMenu')}/>\n          <div style={{borderBottom: `1px solid ${colors.borderColor}`}}/>\n        </>\n        }\n        <span style={{\n          ...fonts.TINY,\n          fontSize: '10px',\n          position:  'absolute',\n          bottom: '6px',\n          right: '6px',\n          color: '#0000007f',\n        }}>Version: {app?.version}</span>\n      </animated.div>\n    </div>\n\n  );\n};\n\nexport default Drawer;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport angular from 'angular';\nimport uiRouter from '@uirouter/angularjs';\nimport ngCookies from 'angular-cookies';\nimport ngAnimate from 'angular-animate';\nimport ngMessages from 'angular-messages';\nimport ngMaterial from 'angular-material';\nimport { react2angular } from 'react2angular';\n\nimport { CommonModule } from './app/common/common.module';\nimport UtilsModule from './app/utils/utils.module.ts';\nimport { CourseProgressModule } from './app/components/course-progress/course-progress.module';\nimport UserSetupModule from './app/userSetup/userSetup.module.ts';\nimport { AppConfig } from './app/app.config';\nimport { AppRun } from './app/app.run';\nimport { AppRouting } from './app/app.routing.ts';\nimport { UserInactiveModule } from './app/components/user-inactive/user-inactive.module';\nimport SharedModule from './app/shared/shared.module.ts';\nimport CourseManagementModule from './app/components/courseManagement/courseManagement.module.ts';\nimport AssignmentsModule from './app/assignments/assignments.module.ts';\nimport App from '../../react_src/app';\n// import {Provider} from 'react-redux';\n// console.log('xxx Provider: ', Provider);\n\n// this one doesn't support the export statement\nrequire('./vendors/ngquill.js');\n\n// include templates - webpack hack\nfunction requireAll(requireContext) {\n  requireContext.keys().map(requireContext);\n}\n// TODO (dydek) remove app.html from ng-cache\nrequireAll(require.context('./app/', true, /\\.html$/));\n\nif (!DEVELOPMENT_ENV) {\n  Raven.config(RAVEN_URL, {\n    release: RELEASE,\n  })\n    .addPlugin(require('raven-js/plugins/angular'), angular)\n    .install();\n}\n\nconst VENDOR_MODULES = [\n  uiRouter,\n  'ui.router.upgrade',\n  ngCookies,\n  ngMaterial,\n  ngAnimate,\n  ngMessages,\n  'ngQuill',\n];\n\nconst APP_MODULES = [\n  CommonModule,\n  UtilsModule,\n  CourseManagementModule,\n  CourseProgressModule,\n  AssignmentsModule,\n  UserSetupModule,\n  UserInactiveModule,\n  SharedModule,\n];\n\nif (!DEVELOPMENT_ENV) {\n  APP_MODULES.unshift('ngRaven');\n}\n// import { Provider } from 'react-redux';\n// import store from '../../react_src/redux/store';\nangular\n  .module('app', [...VENDOR_MODULES, ...APP_MODULES])\n  .component(\n    'rapp',\n    react2angular(App, ['data', 'ctrl', 'view', 'student']),\n  )\n  .config(AppConfig)\n  .config(AppRouting)\n  .run(AppRun);\n\n//BOOTSTRAP MOVED TO: ./src/main.ts => ./src/app/app.module.ts\n","import angular, { IRootElementService, IScope } from 'angular';\nimport { UnbindableCtrlBase } from '../../base-classes';\nimport { Accordion } from './accordion.service';\n\nexport class AccordionComponent extends UnbindableCtrlBase {\n  static bindings = {\n    open: '=?',\n    onOpen: '&?',\n    onClose: '&?',\n    disabled: '<?ngDisabled',\n  };\n  static controller = AccordionComponent;\n  static templateUrl = 'common/components/accordion/accordion.html';\n  static transclude = {\n    header: '?accordionHeader',\n    footer: '?accordionFooter',\n  };\n\n  public open?: boolean;\n  public disabled?: boolean;\n  public onOpen?: (event?: { accordion: AccordionComponent }) => void;\n  public onClose?: (event?: { accordion: AccordionComponent }) => void;\n  public visible: boolean;\n\n  constructor(private $scope: IScope, private $element: IRootElementService, private Accordion: Accordion) {\n    'ngInject';\n\n    super();\n    this.open = false;\n    this.disabled = false;\n    this.onOpen = angular.noop;\n    this.onClose = angular.noop;\n    this.visible = false;\n  }\n\n  $onInit(): void {\n    this.open = this.open && !this.disabled;\n\n    this.boundEvents.push(\n      this.$scope.$watch(\n        () => this.open,\n        () => {\n          this.toggleState();\n          this.triggerEvent();\n        },\n      ),\n    );\n\n    this.boundEvents.push(\n      this.$scope.$watch(\n        () => this.disabled,\n        (disabled) => {\n          this.disabled = disabled;\n          this.open = this.open && this.disabled;\n        },\n      ),\n    );\n\n    this.toggleState();\n  }\n\n  toggle(): void {\n    if (!this.disabled) {\n      this.open = !this.open;\n    }\n  }\n\n  toggleState(): void {\n    if (!this.disabled) {\n      if (this.open) {\n        this.visible = true;\n        this.Accordion.open(this.$element);\n      } else {\n        this.Accordion.close(this.$element).finally(() => {\n          this.visible = false;\n        });\n      }\n    }\n  }\n\n  triggerEvent(): void {\n    if (!this.disabled) {\n      if (this.open) {\n        this.onOpen({ accordion: this });\n      } else {\n        this.onClose({ accordion: this });\n      }\n    }\n  }\n}\n","import angular, {IPromise, IRootElementService, ITimeoutService} from 'angular';\n\nimport {SlideToggleAnimation} from '../../../utils/animations/slideToggle.animation';\n\nexport class Accordion {\n  static ACCORDION_CONTAINER_QUERY = '.accordion-container';\n  static ACCORDION_CONTENT_QUERY = '.accordion-content';\n  static ANIMATION_CLASSNAME = SlideToggleAnimation.className;\n  static OPEN_CLASSNAME = 'open';\n  static SCROLL_LOCK_CLASS_NAME = 'scroll-lock';\n\n  constructor(private $animate: angular.animate.IAnimateService, private $timeout: ITimeoutService) {\n    'ngInject';\n  }\n\n  open(accordionElement: IRootElementService): void {\n    this.$timeout(\n      () => {\n        this.disabelContentScrollbars(accordionElement);\n        this.addOpenClass(accordionElement);\n        const accordionContainer: JQuery = accordionElement.find(Accordion.ACCORDION_CONTAINER_QUERY);\n        this.stopAnimation(accordionElement);\n\n        if (!accordionContainer.hasClass(Accordion.ANIMATION_CLASSNAME)) {\n          accordionContainer.css('display', '');\n        }\n\n        const animationPromise = this.$animate\n          .addClass(accordionContainer, Accordion.ANIMATION_CLASSNAME)\n          .then(() => this.enableContentScrollbars(accordionElement));\n\n        accordionContainer.data('$animate', animationPromise);\n      },\n      0,\n    );\n  }\n\n  close(accordionElement: IRootElementService): IPromise<void> {\n    this.disabelContentScrollbars(accordionElement);\n    this.removeOpenClass(accordionElement);\n    const accordionContainer: JQuery = accordionElement.find(Accordion.ACCORDION_CONTAINER_QUERY);\n    this.stopAnimation(accordionContainer);\n\n    if (!accordionContainer.hasClass(Accordion.ANIMATION_CLASSNAME)) {\n      accordionContainer.css('display', 'none');\n    }\n\n    const animationPromise = this.$animate\n      .removeClass(accordionContainer, Accordion.ANIMATION_CLASSNAME)\n      .then(() => this.enableContentScrollbars(accordionElement));\n\n    accordionContainer.data('$animate', animationPromise);\n\n    return animationPromise;\n  }\n\n  addOpenClass(accordionElement: IRootElementService) {\n    return this.$animate.addClass(accordionElement, Accordion.OPEN_CLASSNAME);\n  }\n\n  removeOpenClass(accordionElement: IRootElementService) {\n    return this.$animate.removeClass(accordionElement, Accordion.OPEN_CLASSNAME);\n  }\n\n  stopAnimation(element: JQuery): void {\n    if (element && element.data('$animate')) {\n      this.$animate.cancel(element.data('$animate'));\n      element.removeData('$animate');\n    }\n  }\n\n  disabelContentScrollbars(accordionElement: IRootElementService): void {\n    accordionElement\n      .find(Accordion.ACCORDION_CONTENT_QUERY)\n      .addClass(Accordion.SCROLL_LOCK_CLASS_NAME);\n  }\n\n  enableContentScrollbars(accordionElement: IRootElementService): void {\n    accordionElement\n      .find(Accordion.ACCORDION_CONTENT_QUERY)\n      .removeClass(Accordion.SCROLL_LOCK_CLASS_NAME);\n  }\n}\n","import { AccordionComponent } from '../accordion.component';\n\nexport class AccordionFooterComponent {\n  static controller = AccordionFooterComponent;\n  static require = { accordion: '^^' };\n  static templateUrl =\n    'common/components/accordion/accordionFooter/accordionFooter.html';\n  static transclude = true;\n\n  public accordion: AccordionComponent;\n\n  constructor() {\n    'ngInject';\n  }\n}\n","import { AccordionComponent } from '../accordion.component';\n\nexport class AccordionHeaderComponent {\n  static controller = AccordionHeaderComponent;\n  static require = {\n    accordion: '^^',\n  };\n  static templateUrl = 'common/components/accordion/accordionHeader/accordionHeader.html';\n  static transclude = {\n    menu: '?accordionHeaderMenu',\n  };\n\n  public accordion: AccordionComponent;\n\n  constructor() {\n    'ngInject';\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const ExtendedViewContainer = {\n  transclude: {\n    toolbar: '?toolbar',\n  },\n  bindings: {\n    hideToolbar: '<',\n  },\n  template: `\n    <div layout=\"column\" layout-fill>\n    <md-toolbar\n        flex=\"nogrow\"\n        class=\"sb-toolbar\"\n        ng-if=\"!$ctrl.hideToolbar\">\n        <div\n            layout=\"row\"\n            class=\"md-toolbar-tools\"\n            ng-transclude='toolbar'>\n        </div>\n    </md-toolbar>\n    <md-content\n        class=\"sb-bg--gray\"\n        sticky-subheader\n        flex>\n        <ng-transclude></ng-transclude>\n    </md-content>\n    </div>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const ExtendedViewTopWhiteframe = {\n  transclude: true,\n  template: `\n<md-whiteframe\n  class=\"sb-panel-shadow\n         sb-main-card\"\n  flex=\"95\"\n  layout=\"column\"\n  layout-padding\n  layout-margin\n  ng-transclude>\n</md-whiteframe>\n  `,\n};\n","export const LoaderComponent = {\n  bindings: {\n    type: '@',\n  },\n  template: `\n    <md-progress-linear\n        flex=\"nogrow\"\n        class=\"sb-progress-linear\"\n        ng-class=\"$ctrl.loaderClass\"\n        ng-show=\"$root.showLoading()\"\n        md-mode=\"indeterminate\">\n    </md-progress-linear>\n  `,\n  controller: class {\n    $onInit() {\n      this.loaderClass = `sb-progress-linear-${this.type || 'single'}-toolbar`;\n    }\n  },\n};\n","/*\n  Copyright (C) 2016 StudyBee AB\n  All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Common/Components\n *\n * @description\n * This component is responsible fot showing tooltip on text wraped in span element when\n * it is too long and is truncated\n *\n * @example\n *\n *<long-text-tooltip text=\"$ctrl.course.name\">\n *    <span class=\"truncate-text\">{{ $ctrl.course.name }}</span>\n *</long-text-tooltip>\n *\n */\n\nimport { UnbindableCtrlBase } from '../../base-classes';\nimport { Events } from '../../global-events';\n\nexport class LongTextTooltipComponent extends UnbindableCtrlBase {\n  static bindings = {\n    text: '<',\n    direction: '@?',\n    query: '@?',\n    disabled: '<ngDisabled',\n    visible: '<?',\n    watchText: '<',\n  };\n  static controller = LongTextTooltipComponent;\n  static templateUrl = 'common/components/longTextTooltip/longTextTooltip.html';\n  static transclude = true;\n\n  constructor($rootScope, $element, $timeout, LongTextTooltip) {\n    'ngInject';\n\n    super();\n    this.$rootScope = $rootScope;\n    this.$element = $element;\n    this.$timeout = $timeout;\n    this.LongTextTooltip = LongTextTooltip;\n    this.showTooltip = false;\n    this.direction = 'top';\n    this.query = null;\n    this.disabled = false;\n    this.visible = null;\n    this.watchText = false;\n  }\n\n  $onInit() {\n    this.boundEvents.push(\n      this.$rootScope.$on(Events.COURSE_UPDATED, () => this.checkIfShowTooltip()),\n      this.LongTextTooltip.addOnResizeHandler(() => this.checkIfShowTooltip()),\n    );\n\n    if (this.watchText) {\n      this.boundEvents.push(\n        this.$rootScope.$watch(() => this.text, () => this.checkIfShowTooltip()),\n      );\n    }\n\n    this.$element.on('mouseover.longTextTooltip', () => {\n      this.LongTextTooltip.preventOutdatedScope();\n      this.$element.off('mouseover.longTextTooltip');\n    });\n  }\n\n  $postLink() {\n    this.checkIfShowTooltip();\n  }\n\n  $onDestroy() {\n    super.$onDestroy();\n    this.$element.off('mouseover.longTextTooltip');\n  }\n\n  checkIfShowTooltip() {\n    this.$timeout(() => {\n      this.showTooltip =\n        !this.disabled &&\n        !!this.text &&\n        this.LongTextTooltip.isNeeded(this.$element, this.query);\n    }, 0, false);\n  }\n}\n","import { IdService } from '../../../shared/services/helpers/id.service';\n\nexport class LongTextTooltip {\n  static defaultStyles = {\n    position: 'absoulte',\n    top: '-100px',\n    whiteSpace: 'nowrap',\n  };\n\n  constructor($window, $timeout) {\n    'ngInject';\n\n    this.$timeout = $timeout;\n    this.onResizeHandlers = [];\n    this.timeoutPromise = null;\n    this.debounce = 50;\n    this.refreshScopeState = null;\n    angular.element($window).on('resize', () => this.onResize());\n  }\n\n  onResize() {\n    if (this.timeoutPromise) {\n      this.$timeout.cancel(this.timeoutPromise);\n    }\n\n    this.timeoutPromise = this.$timeout(\n      () => this.onResizeHandlers.forEach(handler => handler()),\n      this.debounce,\n    );\n  }\n\n  addOnResizeHandler(handler) {\n    handler.id = IdService.getId();\n    this.onResizeHandlers.push(handler);\n\n    return this.createUnregisterFunction(handler.id);\n  }\n\n  createUnregisterFunction(handlerId) {\n    return () => {\n      this.onResizeHandlers = this.onResizeHandlers.filter(handler => handler.id !== handlerId);\n    };\n  }\n\n  isNeeded($element, query = null) {\n    let showTooltip = false;\n    const contentElement = query ?\n      $element.find(query).first() :\n      $element.find('ng-transclude').children().first();\n\n    if (contentElement.length) {\n      showTooltip =\n        Math.ceil(contentElement[0].scrollWidth) > Math.ceil(contentElement.innerWidth());\n    }\n\n    return showTooltip;\n  }\n\n  preventOutdatedScope() {\n    if (!this.refreshScopeState) {\n      this.refreshScopeState = this.$timeout(() => {\n        this.refreshScopeState = null;\n      }, 250);\n    }\n  }\n}\n","export const MenuToggleComponent = {\n  template: `\n    <md-button\n        class=\"md-icon-button\"\n        aria-label=\"__MSG_toggleBtn__\"\n        ng-click=\"$root.toggleMenu()\"\n        localize>\n        <md-icon>menu</md-icon>\n    </md-button>\n  `\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const ObjectDetailsToggle = {\n  bindings: {\n    object: '<',\n    onDetailsToggle: '&',\n  },\n  template: `\n  <span class=\"sb-course-assessment__meta-down\n               sb-course-assessment__meta-item\n               sb-course-assessment__meta-item--sm\">\n    <md-icon\n        class=\"md-secondary sb-icon-open\"\n        ng-click=\"$ctrl.onDetailsToggle({object: $ctrl.object})\"\n        ng-class=\"{open: $ctrl.object.open}\"\n        aria-label=\"__MSG_toggleBtn__\">\n        keyboard_arrow_down\n    </md-icon>\n  </span>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n\nexport const RightViewContainer = {\n  transclude: {\n    toolbar: '?toolbar',\n  },\n  template: `\n    <div layout=\"column\" layout-fill>\n    <md-toolbar flex=\"nogrow\" class=\"sb-toolbar\">\n        <div\n            layout=\"row\"\n            layout-align=\"start center\"\n            class=\"md-toolbar-tools\"\n            ng-transclude=\"toolbar\">\n        </div>\n    </md-toolbar>\n    <loader></loader>\n    \n    <md-content\n        sticky-subheader\n        save-scroll\n        flex>\n        <ng-transclude></ng-transclude>\n    </md-content>\n    </div>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../global-events';\nimport { UnbindableCtrlBase } from '../base-classes';\n\n/**\n *\n * @type {{bindings: {visible: string}, template: string}}\n */\nexport const SavingIndicator = {\n  controller: class extends UnbindableCtrlBase {\n    constructor($rootScope, $timeout) {\n      'ngInject';\n\n      super();\n      this.$rootScope = $rootScope;\n      this.$timeout = $timeout;\n    }\n\n    $onInit() {\n      this.savingInProgress = 0;\n      this.visible = false;\n      this.savingError = false;\n\n      this.boundEvents.push(this.$rootScope.$on(\n        Events.STARTED_NEW_REQUEST, () => {\n          if (this.savingInProgress === 0) {\n            this.visible = true;\n          }\n          this.savingInProgress += 1;\n          this.savingError = false;\n        },\n      ));\n\n      this.boundEvents.push(this.$rootScope.$on(\n        Events.REQUEST_FINISHED_SUCCESSFULLY, () => {\n          this.savingInProgress -= 1;\n          this.savingError = false;\n          if (this.savingInProgress === 0) {\n            this.postponeHidingIndicator();\n          }\n        },\n      ));\n\n      this.boundEvents.push(this.$rootScope.$on(\n        Events.REQUEST_FINISHED_FAILURE, () => {\n          this.savingInProgress -= 1;\n          this.savingError = true;\n          if (this.savingInProgress === 0) {\n            this.postponeHidingIndicator();\n          }\n        },\n      ));\n    }\n\n    postponeHidingIndicator() {\n      this.$timeout(() => {\n        // hide only when current there are no saving in progress requests\n        if (!this.savingInProgress) {\n          this.visible = false;\n          this.savingError = false;\n        }\n      }, 1000);\n    }\n  },\n  //language=HTML\n  template: `\n    <div class=\"sb-saving-indicator\"\n         ng-if=\"$ctrl.visible\">\n      <span ng-show=\"$ctrl.savingInProgress > 0\"\n            localize>__MSG_savingStatusIndicator__</span>\n      <span ng-show=\"$ctrl.savingInProgress === 0 && !$ctrl.savingError\"\n            localize>__MSG_savedStatusIndicator__</span>\n      <span class=\"error\"\n            ng-show=\"$ctrl.savingInProgress === 0 && $ctrl.savingError\"\n            localize>__MSG_errorStatusIndicator__</span>\n    </div>\n  `,\n};\n","export const StudentStatusIconComponent = {\n  bindings: {\n    studentStatus: '@'\n  },\n  template: `\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-not-done\"\n                ng-show=\"$ctrl.studentStatus == 'NS'\">\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-not-done-late\"\n                ng-show=\"$ctrl.studentStatus == 'NL'\">\n                assignment_late\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-done-not-fully-assessed\"\n                ng-show=\"$ctrl.studentStatus == 'NC'\">\n                assessment\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-done-not-fully-assessed sb-status-dot\"\n                ng-show=\"$ctrl.studentStatus == 'NF'\">\n                assessment\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-done-fully-assessed\"\n                ng-show=\"$ctrl.studentStatus == 'CA'\">\n                check\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-warning\"\n                ng-show=\"$ctrl.studentStatus == 'CW'\">\n                warning\n            </md-icon>\n\n            <md-icon\n                class=\"sb-list-icon sb-status sb-status-warning sb-status-dot\"\n                ng-show=\"$ctrl.studentStatus == 'CF'\">\n                warning\n            </md-icon>\n  `\n};\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport CommonComponentsModule from '../../../components.module';\nimport template from './accordionHeaderMenu.tpl.html';\nimport style from './accordionHeaderMenu.scss';\n\n@Component({\n  module: CommonComponentsModule,\n  selector: 'accordion-header-menu',\n  template: template,\n  style: style,\n  transclude: true,\n})\nexport class AccordionHeaderMenuComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","import angular, { IRootElementService } from 'angular';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport CommonComponentsModule from '../components.module';\nimport { IBreadcrumb } from '../../../shared/models/breadcrumb.model';\nimport { UnbindableCtrlBase } from '../../base-classes';\nimport { IBreadcrumbsService } from './breadcrumbs.service';\nimport template from './breadcrumbs.tpl.html';\n\n@Component({\n  module: CommonComponentsModule,\n  template: template,\n  selector: 'breadcrumbs',\n})\nexport class BreadcrumbsComponent extends UnbindableCtrlBase {\n  @Input({ alias: 'steps' })\n  public breadcrumbs: IBreadcrumb[];\n\n  public hasEnoughBreadcrumbs: boolean;\n  public resizeHandler: Function;\n\n  constructor(private $element: IRootElementService, private BreadcrumbsService: IBreadcrumbsService) {\n    'ngInject';\n\n    super();\n    this.breadcrumbs = [];\n    this.hasEnoughBreadcrumbs = false;\n    this.resizeHandler = angular.noop;\n  }\n\n  private $onInit(): void {\n    this.breadcrumbs = this.BreadcrumbsService.removeBreadcrumbsWithoutLabel(this.breadcrumbs);\n    this.hasEnoughBreadcrumbs = this.BreadcrumbsService.hasEnoughBreadcrumbs(this.breadcrumbs);\n\n    if (this.hasEnoughBreadcrumbs) {\n      this.resizeHandler = this.BreadcrumbsService.createHandler(this.$element);\n      this.boundEvents.push(this.BreadcrumbsService.addOnResizeHandler(() => this.resizeHandler()));\n    }\n  }\n\n  private $postLink(): void {\n    this.resizeHandler();\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport {HostPageNewAssignmentObserver} from \"./host-page-new-assignment-observer\";\nimport {HostPageQualifiers} from \"./host-page-qualifiers\";\n\nexport const CommonServicesModule = angular\n  .module('commonServicesModule', [])\n  .service('HostPageNewAssignmentObserver', HostPageNewAssignmentObserver)\n  .service('HostPageQualifiers', HostPageQualifiers)\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport get from 'lodash.get';\nimport { Events } from '../global-events.ts';\nimport { HostPage } from '../host-page-selectors.ts';\n\nconst ACTIONS = {\n  CANCEL: 1,\n  DELETE: 2,\n  SAVE_DRAFT: 3,\n  ASSIGN: 4,\n  SCHEDULE: 5,\n  ALERT_OK: 6,\n  ALERT_CANCEL: 7,\n  OPEN_CREATOR: 8,\n};\n\nconst eventNamespace = 'hostPageObserver';\n\n\nexport class HostPageNewAssignmentObserver {\n  constructor(\n    $rootScope, $state, $timeout, Path, UserInfo, Updates, HostPageQualifiers,\n    NavigationHistory, Mixpanel, StudybeeHandle,\n  ) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n    this.$timeout = $timeout;\n    this.Path = Path;\n    this.UserInfo = UserInfo;\n    this.Updates = Updates;\n    this.HostPageQualifiers = HostPageQualifiers;\n    this.NavigationHistory = NavigationHistory;\n    this.Mixpanel = Mixpanel;\n    this.StudybeeHandle = StudybeeHandle;\n  }\n\n  init() {\n    this.EVENTS = [\n      // modal\n      ...HostPage.ASSIGNMENT_MODAL_ASSIGN_SEL.map((selector) => [selector, ACTIONS.ASSIGN]),\n      ...HostPage.ASSIGNMENT_MODAL_ADD_TOPIC.map((selector) => [selector, ACTIONS.ASSIGN]),\n      ...HostPage.ASSIGNMENT_MODAL_SAVE_SEL.map((selector) => [selector, ACTIONS.ASSIGN]),\n      ...HostPage.ASSIGNMENT_MODAL_ASK_SEL.map((selector) => [selector, ACTIONS.ASSIGN]),\n      ...HostPage.ASSIGNMENT_MODAL_DELETE_SEL.map((selector) => [selector, ACTIONS.DELETE]),\n      // [HostPage.ASSIGNMENT_MODAL_CANCEL_SEL, ACTIONS.CANCEL],\n      // // menu\n      ...HostPage.ASSIGNMENT_MENU_ITEM_ASSIGN_SEL.map((selector) => [selector, ACTIONS.ASSIGN]),\n      ...HostPage.ASSIGNMENT_MENU_ITEM_SCHEDULE_SEL.map((selector) => [selector, ACTIONS.SCHEDULE]),\n      ...HostPage.ASSIGNMENT_MENU_ITEM_SAVE_DRAFT_SEL.map((selector) => [selector, ACTIONS.SAVE_DRAFT]),\n      // alerts\n      ...HostPage.ASSIGNMENT_ALERT_OK_SEL.map((selector) => [selector, ACTIONS.ALERT_OK]),\n      //classwork\n      ...HostPage.CLASSWORK_CREATE_NEW_ASSIGNMENT.map((selector) => [selector, ACTIONS.OPEN_CREATOR]),\n      ...HostPage.CLASSWORK_CREATE_NEW_QUESTION.map((selector) => [selector, ACTIONS.OPEN_CREATOR]),\n      ...HostPage.CLASSWORK_CREATE_NEW_REUSE_POST.map((selector) => [selector, ACTIONS.OPEN_CREATOR]),\n      ...HostPage.CLASSWORK_CREATE_NEW_TOPIC.map((selector) => [selector, ACTIONS.OPEN_CREATOR]),\n    ];\n\n    this.$rootScope.$on(Events.STATE_CHECKED, () => {\n      if (this.UserInfo.userRole === 'teacher' && this.Path.isStreamPage()) {\n        this.register();\n      } else {\n        this.unregister();\n      }\n    });\n\n    this.registered = false;\n    this.registerPseudoSelector();\n  }\n\n  registerPseudoSelector() {\n    //Addition pseudo-selector for jQuery, this comparator ignore case\n    //Used to check text (and interact) on button and other elements on Google classroom page\n    if (!$.expr[':'].textEquals) {\n      $.expr[':'].textEquals = $.expr\n        .createPseudo((text) => (element) => get(element, 'innerText', false) && !!element.innerText.match(new RegExp(`^${text}$`, 'i')));\n    }\n  }\n\n  register() {\n    if (!this.registered) {\n      this.unregister();\n      const eventName = `mousedown.${eventNamespace}`;\n\n      this.EVENTS.forEach((event) => {\n        const [selector, action] = event;\n        $(document).on(eventName, selector, { action }, this.handler.bind(this));\n      });\n\n      this.registered = true;\n    }\n  }\n\n  unregister() {\n    $(document).off(`.${eventNamespace}`);\n    this.registered = false;\n  }\n\n  /**\n   * According to the restored logic, this should behave like this:\n   * Should open modal for new assignments:\n   *  - When new schedule is set up\n   *  - when\n   * @param event\n   */\n  handler(event) {\n    event.stopPropagation();\n    // this is the part of the old logic\n    const [shouldRefreshAssignments, shouldShowModal] = this.shouldRefreshOrShowModal(event.data.action);\n    const shouldHideStudybee = this.shouldHideStudybee(event.data.action);\n    if (shouldShowModal) {\n      try {\n        //language=JQuery-CSS\n        let title;\n        const textArea = $('[role=\"dialog\"] textarea');\n        const input = $('[role=\"alertdialog\"] input');\n        if (textArea.length) {\n          title = textArea[0].value.trim();\n        } else if (input.length) {\n          title = input[0].value.trim();\n        }\n        // probably we need to postpone that event a little\n        // also , show only the title exists\n        this.$timeout(() => {\n          if (title) {\n            // this.$rootScope.$emit(Events.OPEN_ASSIGNMENT_POPUP, {\n            //   title,\n            // });\n            chrome.storage.sync.set({ newAssignment: title }, () => console.log('newAssignment', title));\n            // trigger mixpanel action\n            this.Mixpanel.track('new_assignment_popup');\n          }\n        }, 2000);\n      } catch (err) {\n        // in the future we should handle it better\n        console.log(err);\n      }\n    }\n\n    if (shouldRefreshAssignments) {\n      this.Updates.updateAssignments(this.Path.getClassroomId(), true)\n        .then(() => {\n          this.$rootScope.$emit(Events.UPDATED_ASSIGNMENTS);\n        });\n    }\n\n    if (shouldHideStudybee) {\n      this.$timeout(() => this.StudybeeHandle.studybeeClose());\n    }\n  }\n\n  shouldRefreshOrShowModal(action) {\n    let refresh = false;\n    let showModal = false;\n\n    if (this.HostPageQualifiers.hasScheduleAlertDialog) {\n      if (action === ACTIONS.ALERT_OK) {\n        // 1. Post has been scheduled through 'Schedule' button\n        // -> update list of assignments and open message.\n        refresh = true;\n        showModal = true;\n      }\n    } else if (this.HostPageQualifiers.hasAlertDialog) {\n      if ([ACTIONS.ALERT_OK, ACTIONS.DELETE].includes(action)) {\n        // 1. For all other alert dialogs the safest option\n        // is to refresh list of assignments.\n        refresh = true;\n      }\n    } else if (this.HostPageQualifiers.hasCreatingModal) {\n      // actions for all events\n      if ([ACTIONS.CANCEL, ACTIONS.ASSIGN, ACTIONS.SAVE_DRAFT].includes(action)) {\n        refresh = true;\n        showModal = true;\n      }\n    } else if (this.HostPageQualifiers.hasEditingPublishedModal) {\n      if (action === ACTIONS.ASSIGN) {\n        // 1. Post has been published through the 'Save' button\n        refresh = true;\n      }\n    }\n    return [refresh, showModal];\n  }\n\n  shouldHideStudybee(action) {\n    return action === ACTIONS.OPEN_CREATOR;\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport { selectorWords } from '../host-page-selectors';\n\nconst isItTopic = () => {\n  //language=JQuery-CSS\n  let isTopic = $(`[role=\"alertdialog\"] input[aria-label=\"${selectorWords.en.topic}\"]`).length;\n   isTopic = isTopic || $(`[role=\"alertdialog\"] input[aria-label=\"${selectorWords.sv.topic}\"]`).length;\n   isTopic = isTopic || $(`[role=\"alertdialog\"] input[aria-label=\"${selectorWords.nl.topic}\"]`).length;\n  return isTopic;\n};\nexport class HostPageQualifiers {\n  /**\n   *\n   */\n  get hasScheduleAlertDialog() {\n    //language=JQuery-CSS\n    return $('[role=\"alertdialog\"]').length && $('[data-initial-millis]').length;\n  }\n\n  get hasAlertDialog() {\n    //language=JQuery-CSS\n    return $('[role=\"alertdialog\"]').length && !isItTopic();\n  }\n\n  get hasCreatingModal() {\n    if (isItTopic()) {\n      return true;\n    }\n    return $('[role=\"dialog\"] [guidedhelpid=\"addOrCreateMaterial\"]')\n      && $('[role=\"dialog\"] [guidedhelpid=\"streamItemShareWithOtherCourses\"]')\n      && $('[role=\"dialog\"] [guidedhelpid=\"streamItem_edit_personalizationMenu\"]');\n  }\n\n  get hasEditingPublishedModal() {\n    //language=JQuery-CSS\n    return $('[role=\"dialog\"] [guidedhelpid=\"addOrCreateMaterial\"]')\n      && !$('[role=\"dialog\"] [guidedhelpid=\"streamItem_edit_personalizationMenu\"]');\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n\nimport {LastUpdate} from \"./last-update.filter\";\nexport const CommonFiltersModule = angular\n  .module('CommonFiltersModule', [])\n  .filter('lastUpdate', LastUpdate)\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport moment from 'moment';\n\nexport function LastUpdate() {\n  return (lastEditDateTime) => {\n    if (!lastEditDateTime) return '';\n    return moment(lastEditDateTime).format('D MMM');\n  };\n}\n","var map = {\n\t\"./af\": 507,\n\t\"./af.js\": 507,\n\t\"./ar\": 508,\n\t\"./ar-dz\": 509,\n\t\"./ar-dz.js\": 509,\n\t\"./ar-kw\": 510,\n\t\"./ar-kw.js\": 510,\n\t\"./ar-ly\": 511,\n\t\"./ar-ly.js\": 511,\n\t\"./ar-ma\": 512,\n\t\"./ar-ma.js\": 512,\n\t\"./ar-sa\": 513,\n\t\"./ar-sa.js\": 513,\n\t\"./ar-tn\": 514,\n\t\"./ar-tn.js\": 514,\n\t\"./ar.js\": 508,\n\t\"./az\": 515,\n\t\"./az.js\": 515,\n\t\"./be\": 516,\n\t\"./be.js\": 516,\n\t\"./bg\": 517,\n\t\"./bg.js\": 517,\n\t\"./bm\": 518,\n\t\"./bm.js\": 518,\n\t\"./bn\": 519,\n\t\"./bn.js\": 519,\n\t\"./bo\": 520,\n\t\"./bo.js\": 520,\n\t\"./br\": 521,\n\t\"./br.js\": 521,\n\t\"./bs\": 522,\n\t\"./bs.js\": 522,\n\t\"./ca\": 523,\n\t\"./ca.js\": 523,\n\t\"./cs\": 524,\n\t\"./cs.js\": 524,\n\t\"./cv\": 525,\n\t\"./cv.js\": 525,\n\t\"./cy\": 526,\n\t\"./cy.js\": 526,\n\t\"./da\": 527,\n\t\"./da.js\": 527,\n\t\"./de\": 528,\n\t\"./de-at\": 529,\n\t\"./de-at.js\": 529,\n\t\"./de-ch\": 530,\n\t\"./de-ch.js\": 530,\n\t\"./de.js\": 528,\n\t\"./dv\": 531,\n\t\"./dv.js\": 531,\n\t\"./el\": 532,\n\t\"./el.js\": 532,\n\t\"./en-SG\": 533,\n\t\"./en-SG.js\": 533,\n\t\"./en-au\": 534,\n\t\"./en-au.js\": 534,\n\t\"./en-ca\": 535,\n\t\"./en-ca.js\": 535,\n\t\"./en-gb\": 536,\n\t\"./en-gb.js\": 536,\n\t\"./en-ie\": 537,\n\t\"./en-ie.js\": 537,\n\t\"./en-il\": 538,\n\t\"./en-il.js\": 538,\n\t\"./en-nz\": 539,\n\t\"./en-nz.js\": 539,\n\t\"./eo\": 540,\n\t\"./eo.js\": 540,\n\t\"./es\": 541,\n\t\"./es-do\": 542,\n\t\"./es-do.js\": 542,\n\t\"./es-us\": 543,\n\t\"./es-us.js\": 543,\n\t\"./es.js\": 541,\n\t\"./et\": 544,\n\t\"./et.js\": 544,\n\t\"./eu\": 545,\n\t\"./eu.js\": 545,\n\t\"./fa\": 546,\n\t\"./fa.js\": 546,\n\t\"./fi\": 547,\n\t\"./fi.js\": 547,\n\t\"./fo\": 548,\n\t\"./fo.js\": 548,\n\t\"./fr\": 549,\n\t\"./fr-ca\": 550,\n\t\"./fr-ca.js\": 550,\n\t\"./fr-ch\": 551,\n\t\"./fr-ch.js\": 551,\n\t\"./fr.js\": 549,\n\t\"./fy\": 552,\n\t\"./fy.js\": 552,\n\t\"./ga\": 553,\n\t\"./ga.js\": 553,\n\t\"./gd\": 554,\n\t\"./gd.js\": 554,\n\t\"./gl\": 555,\n\t\"./gl.js\": 555,\n\t\"./gom-latn\": 556,\n\t\"./gom-latn.js\": 556,\n\t\"./gu\": 557,\n\t\"./gu.js\": 557,\n\t\"./he\": 558,\n\t\"./he.js\": 558,\n\t\"./hi\": 559,\n\t\"./hi.js\": 559,\n\t\"./hr\": 560,\n\t\"./hr.js\": 560,\n\t\"./hu\": 561,\n\t\"./hu.js\": 561,\n\t\"./hy-am\": 562,\n\t\"./hy-am.js\": 562,\n\t\"./id\": 563,\n\t\"./id.js\": 563,\n\t\"./is\": 564,\n\t\"./is.js\": 564,\n\t\"./it\": 565,\n\t\"./it-ch\": 566,\n\t\"./it-ch.js\": 566,\n\t\"./it.js\": 565,\n\t\"./ja\": 567,\n\t\"./ja.js\": 567,\n\t\"./jv\": 568,\n\t\"./jv.js\": 568,\n\t\"./ka\": 569,\n\t\"./ka.js\": 569,\n\t\"./kk\": 570,\n\t\"./kk.js\": 570,\n\t\"./km\": 571,\n\t\"./km.js\": 571,\n\t\"./kn\": 572,\n\t\"./kn.js\": 572,\n\t\"./ko\": 573,\n\t\"./ko.js\": 573,\n\t\"./ku\": 574,\n\t\"./ku.js\": 574,\n\t\"./ky\": 575,\n\t\"./ky.js\": 575,\n\t\"./lb\": 576,\n\t\"./lb.js\": 576,\n\t\"./lo\": 577,\n\t\"./lo.js\": 577,\n\t\"./lt\": 578,\n\t\"./lt.js\": 578,\n\t\"./lv\": 579,\n\t\"./lv.js\": 579,\n\t\"./me\": 580,\n\t\"./me.js\": 580,\n\t\"./mi\": 581,\n\t\"./mi.js\": 581,\n\t\"./mk\": 582,\n\t\"./mk.js\": 582,\n\t\"./ml\": 583,\n\t\"./ml.js\": 583,\n\t\"./mn\": 584,\n\t\"./mn.js\": 584,\n\t\"./mr\": 585,\n\t\"./mr.js\": 585,\n\t\"./ms\": 586,\n\t\"./ms-my\": 587,\n\t\"./ms-my.js\": 587,\n\t\"./ms.js\": 586,\n\t\"./mt\": 588,\n\t\"./mt.js\": 588,\n\t\"./my\": 589,\n\t\"./my.js\": 589,\n\t\"./nb\": 590,\n\t\"./nb.js\": 590,\n\t\"./ne\": 591,\n\t\"./ne.js\": 591,\n\t\"./nl\": 592,\n\t\"./nl-be\": 593,\n\t\"./nl-be.js\": 593,\n\t\"./nl.js\": 592,\n\t\"./nn\": 594,\n\t\"./nn.js\": 594,\n\t\"./pa-in\": 595,\n\t\"./pa-in.js\": 595,\n\t\"./pl\": 596,\n\t\"./pl.js\": 596,\n\t\"./pt\": 597,\n\t\"./pt-br\": 598,\n\t\"./pt-br.js\": 598,\n\t\"./pt.js\": 597,\n\t\"./ro\": 599,\n\t\"./ro.js\": 599,\n\t\"./ru\": 600,\n\t\"./ru.js\": 600,\n\t\"./sd\": 601,\n\t\"./sd.js\": 601,\n\t\"./se\": 602,\n\t\"./se.js\": 602,\n\t\"./si\": 603,\n\t\"./si.js\": 603,\n\t\"./sk\": 604,\n\t\"./sk.js\": 604,\n\t\"./sl\": 605,\n\t\"./sl.js\": 605,\n\t\"./sq\": 606,\n\t\"./sq.js\": 606,\n\t\"./sr\": 607,\n\t\"./sr-cyrl\": 608,\n\t\"./sr-cyrl.js\": 608,\n\t\"./sr.js\": 607,\n\t\"./ss\": 609,\n\t\"./ss.js\": 609,\n\t\"./sv\": 610,\n\t\"./sv.js\": 610,\n\t\"./sw\": 611,\n\t\"./sw.js\": 611,\n\t\"./ta\": 612,\n\t\"./ta.js\": 612,\n\t\"./te\": 613,\n\t\"./te.js\": 613,\n\t\"./tet\": 614,\n\t\"./tet.js\": 614,\n\t\"./tg\": 615,\n\t\"./tg.js\": 615,\n\t\"./th\": 616,\n\t\"./th.js\": 616,\n\t\"./tl-ph\": 617,\n\t\"./tl-ph.js\": 617,\n\t\"./tlh\": 618,\n\t\"./tlh.js\": 618,\n\t\"./tr\": 619,\n\t\"./tr.js\": 619,\n\t\"./tzl\": 620,\n\t\"./tzl.js\": 620,\n\t\"./tzm\": 621,\n\t\"./tzm-latn\": 622,\n\t\"./tzm-latn.js\": 622,\n\t\"./tzm.js\": 621,\n\t\"./ug-cn\": 623,\n\t\"./ug-cn.js\": 623,\n\t\"./uk\": 624,\n\t\"./uk.js\": 624,\n\t\"./ur\": 625,\n\t\"./ur.js\": 625,\n\t\"./uz\": 626,\n\t\"./uz-latn\": 627,\n\t\"./uz-latn.js\": 627,\n\t\"./uz.js\": 626,\n\t\"./vi\": 628,\n\t\"./vi.js\": 628,\n\t\"./x-pseudo\": 629,\n\t\"./x-pseudo.js\": 629,\n\t\"./yo\": 630,\n\t\"./yo.js\": 630,\n\t\"./zh-cn\": 631,\n\t\"./zh-cn.js\": 631,\n\t\"./zh-hk\": 632,\n\t\"./zh-hk.js\": 632,\n\t\"./zh-tw\": 633,\n\t\"./zh-tw.js\": 633\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 931;","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { MixpanelTextEvent } from './mixpanel-text-event.directive';\nimport { NgVisibleDirective } from './ngVisible.directive';\n\nexport const CommonDirectivesModule = angular\n  .module('commonDirectivesModule', [])\n  .directive('mixpanelTextEvent', MixpanelTextEvent)\n  .directive('ngVisible', NgVisibleDirective.create)\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const MixpanelTextEvent = (Mixpanel) => {\n  'ngInject';\n\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link($scope, $element, $attrs, ngModel) {\n      let feedbackUpdated = false;\n\n      // let's watch the model for changes\n      $scope.$watch(() => ngModel.$modelValue, (oldVal, newVal) => {\n        feedbackUpdated = oldVal !== newVal;\n      });\n\n      const update = () => {\n        if (feedbackUpdated) {\n          feedbackUpdated = false;\n          Mixpanel.track($attrs.mixpanelTextEvent);\n        }\n      };\n\n      // remove focus event\n      if ($element.is('input, textarea')) {\n        $element.on('blur.mixpanelTextEvent', update);\n      } else {\n        $element.find('input, textarea').on('blur.mixpanelTextEvent', update);\n      }\n    },\n  };\n};\n","export class NgVisibleDirective {\n  static className = 'ng-hidden';\n  static create() {\n    'ngInject';\n\n    return new NgVisibleDirective();\n  }\n\n  constructor() {\n    'ngInject';\n    this.multiElement = true;\n    this.restrict = 'A';\n  }\n\n  link($scope, element, attrs) {\n    const unsubscribe$watch = $scope.$watch(attrs.ngVisible, value =>\n      element[value ? 'removeClass' : 'addClass'](NgVisibleDirective.className)\n    );\n\n    $scope.$on('$destroy', () => {\n      unsubscribe$watch();\n    });\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module BackendInfo/Service\n * @description\n *   Handle Backend Info.\n */\n\nexport function BackendInfo($mdDialog, $cookies, UserInfo, FetchData) {\n  'ngInject';\n\n  return {\n    modalExist: null,\n\n    show() {\n      const lang = chrome.i18n.getUILanguage();\n\n      FetchData.getBackendInfo(lang).then((res) => {\n        const modal = res;\n        const cookieName = `USER${UserInfo.userId}TIMESTAMP${modal.timestamp}`;\n\n        if (typeof $cookies.get(cookieName) !== 'undefined' || !modal.is_visible || this.modalExist) {\n          return;\n        }\n\n        $mdDialog.show({\n          parent: angular.element(document.querySelectorAll('[md-component-id=\"studybee\"]')),\n          templateUrl: 'utils/views/backend_info.html',\n          disableParentScroll: false,\n          controller() {\n            const bi = this;\n\n            bi.content = modal.message;\n\n            bi.confirm = function () {\n              const currentDate = new Date();\n              const nextDate = new Date();\n              nextDate.setYear(currentDate.getFullYear() + 1);\n\n              $cookies.put(cookieName, 'hide', {\n                path: '/',\n                expires: nextDate,\n              });\n\n              $mdDialog.hide();\n            };\n          },\n          controllerAs: 'bi',\n          bindToController: true,\n        });\n\n        this.modalExist = true;\n      });\n    },\n\n    hide() {\n      if (!this.modalExist) {\n        return;\n      }\n\n      $mdDialog.hide();\n      this.modalExist = false;\n    },\n  };\n}\n","\nexport const DynamicTheme = () => ({\n  restrict: 'A',\n  controller: ($scope, $transitions) => {\n    'ngInject';\n\n    $transitions.onSuccess({ to: '**' }, ($transition$) => {\n      const toState = $transition$.$to();\n      $scope.dynamicThemeClass = toState.themeClass;\n    });\n  },\n});\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../common/global-events.ts';\nimport { getTranslation } from '../../../../../react_src/i18n';\n\nexport function MainMenu() {\n  function controller(\n    $scope, $mdSidenav, Path, UserInfo, NavigationHistory,\n    Updates, MainMenu, Mixpanel,\n  ) {\n    'ngInject';\n\n    const vm = this;\n\n    /**\n     * Set default option - set default if selectedMenuStateName is null\n     */\n    vm.setDefaultOption = function () {\n      if (MainMenu.selectedMenuStateName) {\n        return;\n      }\n\n      if (vm.userRole === 'teacher') {\n        MainMenu.setSelectedMenuStateName('teacherAssignments');\n      } else if (vm.userRole === 'student') {\n        MainMenu.setSelectedMenuStateName('studentAssignments');\n      }\n    };\n\n    /**\n     * Toggle menu\n     */\n    vm.toggleMenu = function () {\n      $mdSidenav('studybee-menu').toggle();\n\n      vm.showBackdrop = !!$mdSidenav('studybee-menu').isOpen();\n    };\n\n    /**\n     * Update assignment option\n     */\n    vm.updateAssignmentOption = () => {\n      vm.streamStudentName = MainMenu.selectedStudent.name;\n      if (MainMenu.selectedAssignment) {\n        vm.streamAssignmentName = MainMenu.selectedAssignment.title;\n        vm.streamAssignmentId = MainMenu.selectedAssignment.id;\n      } else {\n        vm.streamAssignmentName = undefined;\n        vm.streamAssignmentId = undefined;\n      }\n    };\n\n    vm.checkCurrentActive = (stateSectionName) => vm.selectedOption.startsWith(stateSectionName);\n\n    /**\n     * Update selected option\n     */\n    vm.updateSelectedOption = () => {\n      vm.selectedOption = MainMenu.selectedMenuStateName;\n    };\n\n    /**\n     * Update synchronize option\n     */\n    vm.updateSynchronizeDate = () => {\n      vm.synchronizeDate = Updates.assignmentsAndStudentsDate;\n    };\n\n    /**\n     * Go to specific website\n     * @param {String} translationURLKey\n     */\n    vm.goToLink = (translationURLKey) => {\n      const url = getTranslation(translationURLKey);\n      window.open(url, '_blank');\n\n      vm.showBackdrop = false;\n      $mdSidenav('studybee-menu').close();\n    };\n\n    /**\n     * Go to specific view\n     * @param {String} stateName\n     */\n    vm.goToState = (stateName, stateParams) => {\n      stateParams = stateParams || {};\n\n      MainMenu.setSelectedMenuStateName(stateName);\n\n      if (stateName.startsWith('teacherAssignments') || stateName.startsWith('studentAssignments')) {\n        if (vm.streamStudentName && vm.userRole === 'teacher') {\n          stateName = 'teacher_assess_assignment_student';\n          stateParams.studentName = vm.streamStudentName;\n          NavigationHistory.addToHistory('teacher_assess_assignment');\n        } else if (vm.streamAssignmentName && vm.userRole === 'teacher') {\n          stateName = 'teacher_assess_assignment';\n          stateParams.assignment = MainMenu.selectedAssignment;\n        } else if (vm.streamAssignmentName && vm.userRole === 'student') {\n          stateName = 'studentAssessed.details';\n        }\n      }\n\n      vm.showBackdrop = false;\n      $mdSidenav('studybee-menu')\n        .close()\n        .then(() => {\n          NavigationHistory.go(stateName, stateParams);\n        });\n    };\n\n    /**\n     * Synchronize Data\n     */\n    vm.synchronizeData = () => {\n      Updates.updateAssignmentsAndStudents(Path.getClassroomId(), true, true);\n\n      vm.showBackdrop = false;\n      $mdSidenav('studybee-menu').close();\n    };\n\n    /**\n     * Send info to Mixpanel\n     * @param {String} eventCode Mixpanel event code\n     */\n    vm.mixpanelTrack = (eventCode) => {\n      Mixpanel.track(eventCode);\n    };\n\n    /**\n     * Set callback which is trigger on menu icon click\n     */\n    MainMenu.setToggleCallback(vm.toggleMenu);\n\n    /**\n     * Set callback which is trigger on set assignment\n     */\n    MainMenu.setAssignmentCallback(vm.updateAssignmentOption);\n\n    /**\n     * Set callback which is trigger on set selected menu state name\n     */\n    MainMenu.setSelectedMenuStateNameCallback(vm.updateSelectedOption);\n\n    /**\n     * Set callback which is trigger on synchronize data\n     */\n    Updates.setSynchronizeDataCallback(vm.updateSynchronizeDate);\n\n    /**\n     * Get user role after it's set by Custom Routing\n     */\n    $scope.$on(Events.STATE_CHECKED, () => {\n      vm.userRole = UserInfo.userRole;\n      vm.setDefaultOption();\n    });\n  }\n\n  return {\n    restrict: 'E',\n    templateUrl: 'utils/views/main_menu.html',\n    controller,\n    controllerAs: 'vm',\n  };\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module MainMenu/Service\n * @description\n *   Handle Main Menu.\n * @param {Object} Helpers Helpers service instance\n */\n\n/*@ngInject*/\nimport { MainMenuID } from '../../../../../src/app/shared/states/main-menu/main-menu.interface';\n\nexport function MainMenu(UiService, MainMenuService, UserQuery) {\n  'ngInject';\n\n  const toggleCallbacks = [];\n  const assignmentCallbacks = [];\n  const selectedMenuStateNameCallbacks = [];\n\n  return {\n    // Keep selected menu state name\n    selectedMenuStateName: null,\n\n    selectedAssignment: null,\n\n    selectedStudent: {\n      name: null,\n    },\n\n    /**\n     * Set callback which is trigger on toggle main menu\n     * @memberof module:MainMenu/Service\n     * @param {Object} callback Callback function\n     */\n    setToggleCallback(callback) {\n      toggleCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger on set assignment\n     * @memberof module:MainMenu/Service\n     * @param {Object} callback Callback function\n     */\n    setAssignmentCallback(callback) {\n      assignmentCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger on set selected menu state name\n     * @memberof module:MainMenu/Service\n     * @param {Object} callback Callback function\n     */\n    setSelectedMenuStateNameCallback(callback) {\n      selectedMenuStateNameCallbacks.push(callback);\n    },\n\n    /**\n     * Trigger toggle main menu\n     * @memberof module:MainMenu/Service\n     */\n    toggleMenu() {\n      toggleCallbacks.forEach((elem) => elem());\n      UiService.updateToggleMainMenuVisible();\n    },\n\n    /**\n     * Save assignment details\n     * @memberof module:MainMenu/Service\n     * @param assignment Assignment object\n     */\n    saveAssignmentDetails(assignment) {\n      this.selectedAssignment = assignment;\n      this.updateMainMenu();\n      assignmentCallbacks.forEach((elem) => elem());\n    },\n\n    /**\n     * Save student details\n     * @memberof module:MainMenu/Service\n     * @param {String} studentName Selected student name\n     */\n    saveStudentDetails(studentName) {\n      this.selectedStudent.name = studentName;\n      this.updateMainMenu();\n      assignmentCallbacks.forEach((elem) => elem());\n    },\n\n    /**\n     * Save selected menu state name\n     * @param {String} stateName\n     */\n    setSelectedMenuStateName(stateName) {\n      if (!stateName) {\n        this.selectedMenuStateName = UserQuery.getValue().is_teacher ? 'teacherAssignments' : 'studentAssignments';\n      } else {\n        this.selectedMenuStateName = stateName;\n      }\n\n      selectedMenuStateNameCallbacks.forEach((elem) => elem());\n    },\n\n    /**\n     * Is stateName selected\n     * @memberof module:MainMenu/Service\n     * @param {String} stateName Selected state name\n     * @return {Boolean}\n     */\n    isStateNameSelected(stateName) {\n      if (!this.selectedMenuStateName) {\n        return this.selectedMenuStateName === stateName;\n      }\n\n      // This is some type of workaround for not consistent\n      // states names and sill state checking\n      const stateNameRoot = this.selectedMenuStateName.split('.')[0];\n\n      return stateNameRoot === stateName || this.selectedMenuStateName === stateName;\n    },\n\n    updateMainMenu() {\n      const isTeacher = UserQuery.getValue().is_teacher;\n\n      if (isTeacher) {\n        if (this.selectedStudent && this.selectedStudent.name) {\n          // MainMenuService.update(MainMenuID.ASSIGNMENT, {\n          //   state: 'teacher_assess_assignment_student',\n          //   params: {\n          //     studentName: this.selectedStudent.name\n          //   }\n          // });\n        } else if (this.selectedAssignment) {\n          MainMenuService.update(MainMenuID.ASSIGNMENT, {\n            state: 'teacher_assess_assignment',\n            params: {\n              assignment: this.selectedAssignment,\n            },\n          });\n        } else {\n          MainMenuService.update(MainMenuID.ASSIGNMENT, {\n            state: 'teacherAssignments',\n            params: null,\n          });\n        }\n      } else if (this.selectedAssignment) {\n        MainMenuService.update(MainMenuID.ASSIGNMENT, {\n          state: 'studentAssessed',\n          params: null,\n        });\n      } else {\n        MainMenuService.update(MainMenuID.ASSIGNMENT, {\n          state: 'studentAssignments',\n          params: null,\n        });\n      }\n    },\n  };\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Courses/Service\n * @description\n *   Keep list of courses and allow to check if course exist\n */\n\nexport class Courses {\n  constructor(FetchData) {\n    'ngInject';\n\n    this.FetchData = FetchData;\n    this.list = [];\n  }\n\n  getCourseUsingDriveId(fileId, alternateLinkId) {\n    return this.FetchData.getDriveCourse(fileId, alternateLinkId)\n      .then((course) => {\n        this.list.push(course);\n        return course;\n      });\n  }\n\n  /**\n   *\n   * @param courseId\n   */\n  getCourse(courseId) {\n    return this.FetchData.getClassroomCourse(courseId)\n      .then((course) => {\n        this.list.push(course);\n        return course;\n      });\n  }\n\n  /**\n   * Check if course exist on the courses list\n   * @param {Number} courseId Selected course ID\n   * @memberof module:Courses/Service\n   */\n  isCourseExist(courseId) {\n    return !!this.list.find(course => !!course && course.id === courseId);\n  }\n\n  /**\n   * Check if course has at least one course definition\n   * @param {Number} courseId Selected course ID\n   * @memberof module:Courses/Service\n   */\n  hasCourseDefinition(courseId) {\n    let valid = false;\n\n    this.list.forEach((courseElem) => {\n      if (courseElem.id !== courseId) {\n        return;\n      }\n\n      valid = courseElem.has_course_definitions;\n    });\n\n    return valid;\n  }\n\n  updateCourseDefinition(courseId, newValue) {\n    this.list.forEach((courseElem) => {\n      if (courseElem.id !== courseId) {\n        return;\n      }\n\n      courseElem.has_course_definitions = newValue;\n    });\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport angular from 'angular';\nimport { from, combineLatest } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { Events } from '../../common/global-events.ts';\n\nexport function CustomRouting(\n  $rootScope, $timeout, $q, $interval, $state, $stateParams, $mdBottomSheet, $mdDialog, Path,\n  FetchData, Courses, UserInfo, States, Observer, NavigationHistory, MainMenu,\n  Updates, GradeSystems, BackendInfo, Mixpanel, StudybeeHandle, Helpers, Assignments,\n  HashObserverService, UserService, AssignmentsStore, EnvironmentService, InitService,\n) {\n  'ngInject';\n\n  const initConfig = {\n    keepOpen: false,\n    unsubscribe: angular.noop,\n  };\n\n  // Init Observer\n  Observer.init(checkState);\n\n  /**\n   * Here we are checking all pre-init conditions\n   * - User data and user permissions\n   * - Whether a user has the user's preferences configured or not\n   *\n   * So the aim here is to be sure that before the main init process of our app\n   * a user has all data configured and ready to use\n   *\n   * TODO This still needs to be changed and optimized\n   */\n  function preInit() {\n    $state.go('loading', {}).then(() => {\n      if (!InitService.hasAppSetup()) {\n        $state.go('userSetup').then(() => {\n          StudybeeHandle.studybeeActivate();\n        });\n      } else {\n        combineLatest([UserService.fetchUser(), from(FetchData.getUsersAgreementSeen())])\n          .pipe(take(1))\n          .subscribe(([, agreementSeen]) => {\n            UserInfo.agreementSeen = agreementSeen;\n\n            if (agreementSeen) {\n              return initGeneral();\n            }\n            $state.go('userSetup').then(() => {\n              StudybeeHandle.studybeeActivate();\n            });\n          });\n      }\n    });\n  }\n\n  /**\n   * Init - run on application init\n   * Check if users logged in Chrome and Classroom/Google Drive page are the same,\n   * get Courses list and run init functiion for Classroom or Google Drive page\n   */\n  function initGeneral() {\n    UserInfo.checkUser();\n\n    if (!UserInfo.loggedToBrowser) {\n      // If user is not logged in the Chrome,\n      // don't run extension and show information for the user\n      $state.go('not_logged_user');\n      StudybeeHandle.studybeeActivate();\n      return;\n    } if (!UserInfo.userMatched) {\n      // If user use two different accounts in the Chrome and in the Classroom,\n      // don't run extension and show information for the user\n      $state.go('wrong_user');\n      StudybeeHandle.studybeeActivate();\n      return;\n    }\n\n    if (Path.isClassroomInstance()) {\n      initClassroom();\n    } else if (Path.isDriveInstance()) {\n      initGoogleDrive();\n    }\n  }\n\n  /**\n   * Init for Classroom - run checkState function and add eventListeners\n   */\n  function initClassroom() {\n    checkState();\n    initClassroomUrlObservers();\n\n    // Listen clicks on links\n    $(document.body).on('click', 'a', function () {\n      // If click on student name in assignment,\n      // then set student in History to this student name and don't trigger checkState()\n      const link = $(this);\n      const href = link.attr('href') || '';\n      const parent = link.closest('[data-student-id]').data('student-id');\n      let studentName;\n\n      if (parent) {\n        studentName = link.find('div > div:not([data-submission-id]) > div').text();\n      } else {\n        studentName = link.closest('[data-include-submission-materials]').prev().text();\n      }\n\n      // don't try to go to `teacher_assess_assignment` when current stage is based on these stages\n      const states = [\n        'teacherCourseManagement',\n        'teacher-course-progress',\n        'userSetup',\n      ];\n\n      // Listen clicks on student name in Classroom\n      if (href.indexOf('/submissions') >= 0 && href.indexOf('/student') >= 0 && studentName.length) {\n        MainMenu.saveStudentDetails(studentName);\n        // $rootScope.$broadcast('clickedStudentInClassroom', studentName);\n        const indexOf = studentName.indexOf('\"');\n        studentName = studentName.substring(0, indexOf === -1 ? studentName.length : indexOf);\n        chrome.storage.sync.set({ studentSelected: studentName }, () => console.log('studentSelected', studentName));\n      } else if (\n        href.indexOf('/submissions') >= 0\n        && href.indexOf('/all') >= 0\n        && !states.reduce((result, value) => result || $state.includes(value), false)) {\n        const linkId = Path.getAssignmentAlternateLinkId();\n        chrome.storage.sync.set({ assignmentSelected: linkId }, () => console.log('assignmentSelected: ', linkId));\n      }\n    });\n  }\n\n  /**\n   * this is temporary and all this code should be rewritten\n   */\n  function initClassroomUrlObservers() {\n    // get max one change per 500 ms\n    let timeout;\n    chrome.runtime.onMessage.addListener((request) => {\n      if (request.action === 'urlChanged') {\n        if (timeout) {\n          $timeout.cancel(timeout);\n        }\n        timeout = $timeout(() => {\n          checkState();\n        }, 500);\n      }\n    });\n  }\n\n  function attachClickEventOnFiles() {\n    const query = '[role=menu] content[role=menuitem][data-item-id]';\n    const eventName = 'click.fileChange';\n\n    $(query).parent().off(eventName).on(eventName, () => {\n      $timeout(() => {\n        initGoogleDrive();\n      }, 100);\n    });\n  }\n\n  function attachStudentChangeEvent() {\n    const urlRegex = /\\/g\\/tg\\/?/g;\n\n    if (urlRegex.test(window.location.pathname)) {\n      initConfig.unsubscribe();\n      initConfig.unsubscribe = HashObserverService.onNext(() => {\n        $state.go('loading')\n          .then(() => {\n            initGoogleDrive()\n              .then(() => {\n                // $state.go('teacher_google_drive');\n                States.openDefaultState();\n                chrome.storage.sync.set({ assignmentDriveSelected: Math.random() }, () => console.log('assignmentDriveSelected'));\n              })\n              .catch(() => {\n                $state.go('wrongGoogleDriveFile');\n              });\n          });\n      });\n    }\n  }\n\n  /**\n   * Init for Google Drive\n   * we don't need to checkState in this case because\n   * inside the google drive we only want to show one state,\n   * and using that kind redirection\n   */\n  function initGoogleDrive() {\n    const alternateLinkId = Path.getAssignmentAlternateLinkId(true);\n    return Path.getFileId(5)\n      .then((fileId) => Courses.getCourseUsingDriveId(fileId, alternateLinkId))\n      .then((course) => {\n        // these are 3 thing we need to do to correct open\n        // google drive view\n        UserInfo.setUserRole(course.role);\n        States.openDefaultState();\n        // States.openDriveState();\n        chrome.storage.sync.set({ assignmentDriveSelected: Math.random() }, () => console.log('assignmentDriveSelected'));\n      })\n      .catch(() => {\n        $state.go('wrongGoogleDriveFile');\n      })\n      .finally(() => {\n        StudybeeHandle.studybeeActivate();\n\n        attachClickEventOnFiles();\n        attachStudentChangeEvent();\n      });\n  }\n\n  /**\n   * Check state - not perfect but better than before\n   * This one is used only inside google classroom\n   */\n  function checkState() {\n    $timeout(() => {\n      //   // $location object is not updated, using window.location\n      const path = window.location.pathname;\n      const courseId = Path.getClassroomId();\n      const assignmentAlternateLinkId = Path.getAssignmentAlternateLinkId();\n\n      // eslint-disable-next-line consistent-return\n      let checkStatePromise = $q.when().then(() => {\n        // this is some type of workaround, when a user is switching between classes,\n        // the loading state should be shown\n        // ** IMPORTANT **\n        // I don't have any idea why it's not possible to implements it as a chain\n        // eg.\n        // checkStatePromise.then(() => {\n        //      return 46;\n        //   });\n        // simply doesn't work then ( but it should )\n        if (Path.oldCourseId && Path.oldCourseId !== courseId) {\n          $rootScope.$emit(Events.CLASS_CHANGED);\n          // have to clear grade system list to be updated for switched class\n          GradeSystems.clearGradeSystems();\n          AssignmentsStore.setHasCache(false);\n          return $state.go('loading');\n        }\n      });\n\n      // Fallback if course doesn't exist on courses list,\n      // try to update courses list and retry checkState\n      if (courseId && !Courses.isCourseExist(courseId)) {\n        checkStatePromise = Courses.getCourse(courseId)\n          .then(() => {\n            Mixpanel.engage('add_role');\n          });\n      }\n\n      // close the extension if needed before fetching the data\n      if (Path.oldCourseId !== courseId && !initConfig.keepOpen) {\n        StudybeeHandle.studybeeClose();\n        $mdBottomSheet.hide();\n        $mdDialog.hide();\n      }\n\n      checkStatePromise\n        .then(() => {\n          // Connect or disconnect observer to watch click event on div[name=\"ok\"]\n          Observer.check();\n\n          // Set user role in UserInfo service\n          UserInfo.checkRole(courseId);\n\n          // Set user configured in UserInfo service (used only on Classroom)\n          UserInfo.checkConfig(courseId);\n\n          if (Path.isClassroomInstance()) {\n            if (\n              !Path.isClassesListPage()\n              && !Path.isSettingsPage()\n              && !Path.isWorkPage()\n              && !Path.isCalendarPage()\n            ) {\n              BackendInfo.show();\n            } else {\n              BackendInfo.hide();\n            }\n          }\n        })\n        .then(() => {\n          if (\n            !Path.isClassesListPage()\n            && !Path.isSettingsPage()\n            && !Path.isWorkPage()\n            && !Path.isCalendarPage()\n            && Path.isClassroomInstance()\n            && UserInfo.userRole === 'teacher'\n          ) {\n            if (Path.oldCourseId !== courseId) {\n              // Update Assignments and Students list when teacher enter on\n              // new course or course has been changed\n              //return Updates.updateAssignmentsAndStudents(courseId, true);\n              return null;\n            } if (Path.isStreamPage()) {\n              // Update Assignments list when teacher enter on Stream page\n              return Updates.updateAssignments(courseId, true);\n            }\n          }\n        })\n        .then(() => {\n          if (\n            (Path.isStudentWorkPage() || Path.isInstructionsPage())\n            && !Path.wasStudentWorkPage()\n            && !Path.wasInstructionsPage()\n            && UserInfo.userRole === 'teacher'\n          ) {\n            const assignment = Assignments.getAssignmentByAlternateLink(\n              assignmentAlternateLinkId,\n            );\n            if (assignment) {\n              Updates.updateFiles(assignment.id, true);\n            }\n          }\n\n          // If it's Student Work, Instructions or Assignment Details\n          // and previous page was not Student Work page or Instructions page\n          // then save assignment details for Main Menu.\n          // Otherway clear assignment details and student details\n          if (\n            (Path.isStudentWorkPage() || Path.isInstructionsPage())\n            && !Path.wasStudentWorkPage()\n            && !Path.wasInstructionsPage()\n          ) {\n            const assignment = Assignments.getAssignmentByAlternateLink(\n              assignmentAlternateLinkId,\n            );\n            if (assignment) {\n              FetchData.getAssignmentsObjectives(assignment.id, courseId).then((assignment) => {\n                MainMenu.saveAssignmentDetails(assignment);\n              });\n            }\n          } else if (\n            Path.oldCourseId !== courseId\n            || ((Path.wasStudentWorkPage() || Path.wasInstructionsPage())\n              && !Path.isStudentWorkPage() && !Path.isInstructionsPage())\n          ) {\n            MainMenu.saveAssignmentDetails(null);\n            MainMenu.saveStudentDetails(null);\n          }\n\n          // If it's Class List page, Settings page, Work page or course has been changed\n          // then unchecked selected menu state\n          if (\n            Path.isClassesListPage()\n            || Path.isSettingsPage()\n            || Path.isWorkPage()\n            || Path.isCalendarPage()\n            || Path.oldCourseId !== courseId\n          ) {\n            MainMenu.setSelectedMenuStateName(null);\n          }\n\n          // Decide what state should be loaded and close extension when\n          // it is open for the first time or course has\n          // been changed (closed is default state for the extension)\n          serveState(courseId);\n\n          // reset keep open - this is some kind of workaround, with the current structure\n          // It's hard to implement it correctly\n          if (initConfig.keepOpen) {\n            initConfig.keepOpen = false;\n          }\n\n          // Overwrite oldCourseId and oldPath\n          Path.setOldPath(path);\n          Path.setOldCourseId(courseId);\n\n          // Set handler icon state\n          StudybeeHandle.setIconStatus();\n\n          // Broadcast stateChecked event\n          $rootScope.$broadcast(Events.STATE_CHECKED);\n        });\n    }, 250);\n  }\n\n  /**\n   * Serve proper state\n   * @param {Number} courseId\n   */\n  function serveState(courseId) {\n    if (Path.isClassroomInstance()) {\n      // It's Google Classroom\n      if (\n        Path.isClassesListPage()\n        || Path.isSettingsPage()\n        || Path.isWorkPage()\n        || Path.isCalendarPage()\n      ) {\n        // It's Classes List page, Settings page or Work page\n        // clear selected menu state and run loading state and close extension\n        States.openLoadingState();\n      } else if (\n        !Path.isClassesListPage()\n        && !Path.isSettingsPage()\n        && !Path.isWorkPage()\n        && !Path.isCalendarPage()\n      ) {\n        // It's not Classes List page, Settings page and Work page\n        if (Path.oldCourseId !== courseId && !Courses.hasCourseDefinition(courseId)) {\n          // Course has been changed (when user enter page for the first time or change class)\n          // and there are no courses definitions assigned\n          States.openNotConfiguredState();\n        } else if (\n          (Path.isStudentWorkPage() || Path.isInstructionsPage())\n          && !Path.wasStudentWorkPage()\n          && !Path.wasInstructionsPage()\n          && (MainMenu.isStateNameSelected('teacherAssignments')\n            || MainMenu.isStateNameSelected('studentAssignments')\n            || MainMenu.isStateNameSelected(null))) {\n          // It's Student Work page, Instructions page or Assignment Details page\n          // and previous page was not Student Work page or Instructions page\n          // and selected menu state is equal to list of assignments or it's null (for the first enter)\n          // States.openAssignmentState();\n          if (Path.oldCourseId !== courseId) {\n            States.openDefaultState();\n          }\n          const linkId = Path.getAssignmentAlternateLinkId();\n          chrome.storage.sync.set({ assignmentSelected: linkId }, () => console.log('assignmentSelected: ', linkId));\n        } else if (\n          Path.oldCourseId !== courseId\n          || (Path.isStreamPage() && (Path.wasStudentWorkPage() || Path.wasInstructionsPage())\n            && (MainMenu.isStateNameSelected('teacherAssignments')\n              || MainMenu.isStateNameSelected('student_assignments')))\n        ) {\n          // Course has been changed (when user enter page for the first time or change class)\n          // or it's Stream page\n          // and previous page was Student Work page or Instructions page\n          // and selected menu state is equal to list of assignments\n          States.openDefaultState();\n        }\n      }\n    }\n  }\n\n  const link = (scope) => {\n    chrome.runtime.sendMessage({\n      action: 'getUserInfo',\n    }, (res) => {\n      let interval;\n\n      UserInfo.userEmail = res.email;\n\n      UserService.updateUser({ email: res.email });\n\n      if (res.id.length || res.email.length) {\n        UserInfo.loggedToBrowser = true;\n      }\n\n      interval = $interval(() => {\n        const isGoogleDocs = $(document.body).find('header[role=banner]');\n        const classroomNav = $(document.body).find('nav[role=\"navigation\"]');\n        const driveViewerProfileImg = $(document.body).find('.drive-viewer-profile-icon');\n        const docsHeader = $(document.body).find('#docs-header');\n\n        if (\n          classroomNav.length\n          || driveViewerProfileImg.length\n          || docsHeader.length\n          || isGoogleDocs\n        ) {\n          $interval.cancel(interval);\n\n          if (classroomNav.length) {\n            Path.classroomNode = classroomNav;\n          } else if (driveViewerProfileImg.length) {\n            Path.driveNode = driveViewerProfileImg;\n          } else if (docsHeader.length) {\n            Path.driveNode = docsHeader;\n          } else if (isGoogleDocs.length) {\n            Path.driveNode = isGoogleDocs;\n          }\n\n          preInit();\n        }\n      }, 250);\n    });\n\n    scope.$on(Events.USER_SETUP_COMPLETED, () => {\n      if (!Path.isClassesListPage()) {\n        initConfig.keepOpen = true;\n      }\n      initGeneral();\n    });\n\n    chrome.runtime.onMessage.addListener((request) => {\n      if (request.action === 'refreshStudybee' && [\n        'teacher_assess_assignment_student', 'teacher_assess_assignment', 'teacher_google_drive',\n      ].includes(Helpers.getCurrentStateName())\n      ) {\n        NavigationHistory.reloadCurrent();\n      }\n    });\n  };\n\n  return {\n    restrict: 'A',\n    link,\n  };\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module GradeSystems/Service\n * @description\n *   Keeps a list of grade systems\n */\n\nexport class GradeSystems {\n  constructor($q, FetchData, Path) {\n    'ngInject';\n\n    this.$q = $q;\n    this.FetchData = FetchData;\n    this.Path = Path;\n    this.gradeSystems = {};\n  }\n\n\n  /**\n   * Update grade systems list.\n   * @param {Array} updatedGradeSystems Updates grade systems array.\n   * @memberof module:GradeSystems/Service\n   */\n  updateGradeSystems(updatedGradeSystems) {\n    this.gradeSystems = updatedGradeSystems.reduce((gradeSystems, currentGradeSystem) => {\n      Object.assign(gradeSystems, {\n        [currentGradeSystem.id]: currentGradeSystem,\n      });\n      return gradeSystems;\n    }, {});\n  }\n\n  /**\n   * Clear grade systems list.\n   * @param {Array} updatedGradeSystems Updates grade systems array.\n   * @memberof module:GradeSystems/Service\n   */\n  clearGradeSystems() {\n    this.gradeSystems = {};\n  }\n\n  /**\n   * Fetch grade systems list or return already existing grade systems.\n   * @memberof module:GradeSystems/Service\n   */\n  fetchGradeSystemsList() {\n    const deferred = this.$q.defer();\n    if (angular.equals(this.gradeSystems, {})) {\n      this.FetchData.v2.getGradeSystems(this.Path.getClassroomId())\n        .then((res) => {\n          this.updateGradeSystems(res);\n          deferred.resolve(this.gradeSystems);\n        });\n    } else {\n      deferred.resolve(this.gradeSystems);\n    }\n    return deferred.promise;\n  }\n\n  getGradeSystemById(id) {\n    return this.gradeSystems[id];\n  }\n}\n","import { SlideToggleAnimation } from '../animations/slideToggle.animation';\n\n/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module SlideToggle/Directive\n * @description\n *   Handle slide toggle mechanism.\n *   Attrs:\n *   <ul>\n *     <li>slide-toggle {Boolean} - Slide toggle state. If true then content is visible, if false it is invisible.</li>\n *   </ul>\n * @example\n *  <p ng-click=\"objective.open = !objective.open\">Toggle</p>\n *  <div slide-toggle=\"objective.open\">\n *    <p>Hide content</p>\n *  </div>\n */\n\nexport class SlideToggleDirective {\n  static create($animate) {\n    'ngInject';\n\n    return new SlideToggleDirective($animate);\n  }\n\n  constructor($animate) {\n    'ngInject';\n    this.$animate = $animate;\n    this.restrict = 'A';\n    this.multiElement = true;\n    this.animationRunner = null;\n  }\n\n  link($scope, element, attrs) {\n    const unsubscribeAnimationRunner = () => {\n      if (this.animationRunner) {\n        this.$animate.cancel(this.animationRunner);\n      }\n    };\n\n    const unsubscribe$watch = $scope.$watch(\n      attrs.slideToggle,\n      (value) => {\n        this.animationRunner = this.$animate[value ? 'addClass' : 'removeClass'](\n          element,\n          SlideToggleAnimation.className,\n        );\n      },\n    );\n\n    $scope.$on('$destroy', () => {\n      unsubscribe$watch();\n      unsubscribeAnimationRunner();\n    });\n  }\n}\n","import { getTranslation } from '../../../../../react_src/i18n';\n\nexport const LocalizeFilter = ($sce) => {\n  'ngInject';\n\n  const translate = (input) => getTranslation(input) || input;\n\n  const findTranslationKey = (input) => input.replace(\n    /__MSG_(\\w+)__/g,\n    (match, v1) => (v1 ? translate(v1) : ''),\n  );\n\n  return (input = '', trustAs = 'trustAsHtml') => {\n    const translation = input.startsWith('__MSG_')\n      ? findTranslationKey(input)\n      : translate(input);\n\n    return trustAs && $sce[trustAs] ? $sce[trustAs](translation || input) : translation || input;\n  };\n};\n","class Queue {\n  constructor($q) {\n    'ngInject';\n    this.queue = $q.resolve();\n  }\n\n  push(promise) {\n    this.queue = this.queue.then(promise, promise);\n\n    return this;\n  }\n}\n\nexport class PromiseQueue {\n  constructor($q) {\n    'ngInject';\n\n    this.$q = $q;\n  }\n\n  getInstance() {\n    return new Queue(this.$q);\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module LastModifed/Filter\n * @description\n *   Convert data to proper format.\n */\n\nexport const LastModified = () => {\n  'ngInject';\n\n  return (lastModifedDate) => {\n    let outputDate;\n\n    if (!lastModifedDate) {\n      // Empty string if date is equal to null or undefined\n      outputDate = '';\n    } else if (moment().isSame(lastModifedDate, 'day')) {\n      // Date equals today's date\n      outputDate = moment(lastModifedDate).format('k:mm');\n    } else if (moment().isSame(lastModifedDate, 'year')) {\n      // Date equals the same year\n      outputDate = moment(lastModifedDate).format('D MMM');\n    } else {\n      // Previous year\n      outputDate = moment(lastModifedDate).format('D MMM YYYY');\n    }\n\n    return outputDate.toLocaleUpperCase();\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\nimport { getTranslation } from '../../../../../react_src/i18n';\n/**\n * @module Localize/Directive\n * @description\n *   Handle localize mechanism.\n * @example\n *   <p localize>__MSG_saveBtn__</p>\n */\n\n/*@ngInject*/\nmodule.exports = function () {\n  'ngInject';\n\n  function compile($templateElement, $templateAttributes) {\n    /**\n     * Find translation using Chrome getMessage method\n     * @memberof module:Localize/Directive\n     * @param {String} localizeKey Text before localize\n     * @return {String}\n     */\n    function findTranslation(localizeKey) {\n      return localizeKey\n        .replace(/__MSG_(\\w+)__/g, (match, v1) => (v1 ? getTranslation(v1) : ''));\n    }\n\n    if ($templateAttributes) {\n      Object.keys($templateAttributes).forEach((attribute) => {\n        if (\n          typeof $templateAttributes[attribute] === 'string'\n          && $templateAttributes[attribute].startsWith('__MSG_')) {\n          const translation = findTranslation($templateAttributes[attribute]);\n          if (translation) {\n            // eslint-disable-next-line no-param-reassign\n            $templateAttributes[attribute] = translation;\n          }\n        }\n      });\n    }\n\n    if ($templateElement.length !== 0) {\n      const content = $templateElement[0].innerHTML.toString();\n      // eslint-disable-next-line no-param-reassign\n      $templateElement[0].innerHTML = findTranslation(content);\n    }\n  }\n\n  return {\n    priority: 201,\n    restrict: 'A',\n    compile,\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nvar noUiSlider = require('../../../vendors/nouislider.js');\n\n/*@ngInject*/\nmodule.exports = function ($timeout) {\n\n  function link(scope, element, attr) {\n    var disabledSlider;\n    var squareSlider;\n    var batchEditingSlider;\n    var knowledgeRequirementsSlider;\n\n    var sliderStartValue;\n    var sliderRangeMin;\n    var sliderRangeMax;\n    var sliderValues = [];\n\n    var containerNode;\n    var handleNode;\n    var valueLabelNode;\n\n    var config;\n    var labels;\n\n    var ignoreWatch = false;\n    var initRun = true;\n    var initialized = false;\n\n    var startValue;\n\n    // Check slider type\n    scope.checkSliderType = function () {\n      if (attr.disabled === 'true') {\n        disabledSlider = true;\n      }\n\n      if (attr.square === 'true') {\n        squareSlider = true;\n      }\n\n      if (attr.batchediting === 'true') {\n        batchEditingSlider = true;\n      }\n\n      if (attr.knowledgerequirements === 'true') {\n        knowledgeRequirementsSlider = true;\n      }\n    };\n\n    // Create slider wrapper\n    scope.createWrapper = function () {\n      element.append('<div class=\"container\"></div>');\n      containerNode = element.find('.container');\n    };\n\n    // Get slider start value\n    scope.getSliderStartValue = function () {\n      if (scope.ngModel === '') {\n        // If grade isn't set yet, set sliderStartValue as -1 and leave function\n        sliderStartValue = -1;\n        startValue = sliderStartValue;\n        return;\n      } else if (scope.ngModel === 'not_changed') {\n        // If grade isn't changed, set sliderStartValue as -2 and leave function\n        sliderStartValue = -2;\n        startValue = sliderStartValue;\n        return;\n      }\n\n      // If grade is set, find matching value in config and set it as sliderStartValue\n      config.forEach(function (configElem) {\n        if (scope.ngModel !== configElem.name) {\n          return;\n        }\n\n        sliderStartValue = configElem.order;\n        startValue = sliderStartValue;\n      });\n    };\n\n    // Get slider min and max range\n    scope.getSliderRange = function () {\n      if (batchEditingSlider) {\n        // For batch editing slider set sliderRangeMin as -2\n        sliderRangeMin = -2;\n      } else {\n        // For normal slider set sliderRangeMin as -1\n        sliderRangeMin = -1;\n      }\n\n      sliderRangeMax = config.length - 1;\n    };\n\n    // Get slider array of values\n    scope.getSliderValues = function () {\n      // For batch editing slider push -2 value to the sliderValues\n      if (batchEditingSlider) {\n        sliderValues.push(parseInt(-2));\n      }\n\n      sliderValues.push(parseInt(-1));\n\n      config.forEach(function (configElem) {\n        sliderValues.push(parseInt(configElem.order));\n      });\n\n      sliderValues.sort();\n    };\n\n    // Create slider\n    scope.initSlider = function () {\n      noUiSlider.create(containerNode[0], {\n        start: sliderStartValue,\n        connect: 'lower',\n        range: {\n          'min': sliderRangeMin,\n          'max': sliderRangeMax\n        },\n        pips: {\n          mode: 'values',\n          values: sliderValues\n        }\n      });\n    };\n\n    // Create value label\n    scope.createValueLabel = function () {\n      var html = [\n        '<div class=\"value-label\">',\n        '<span></span>',\n        '</div>',\n        '<div class=\"arrow-indicator\">',\n        '<span></span>',\n        '</div>',\n      ].join('');\n\n      handleNode = element.find('.noUi-handle');\n      handleNode.append(html);\n      valueLabelNode = element.find('.value-label');\n    };\n\n    // Replace slider labels\n    scope.replaceSliderLabels = function () {\n      labels = element.find('.noUi-value-large').toArray();\n      labels.forEach(function (labelElem) {\n        var labelValue = parseInt($(labelElem).text());\n\n        // Set '' as label for not changed value\n        if (labelValue === -2) {\n          labelElem.innerText = '';\n        }\n\n        // Set '-' as label for not already set value\n        if (labelValue === -1) {\n          labelElem.innerText = '-';\n        }\n        config.forEach(function (configElem) {\n          if (labelValue !== configElem.order) {\n            return;\n          }\n\n          labelElem.innerText = configElem.label;\n        });\n      });\n    };\n\n    // Function that allows to make slider disable\n    scope.disableSlider = function () {\n      if (!disabledSlider) {\n        return;\n      }\n\n      containerNode[0].setAttribute('disabled', true);\n    };\n\n    // Add keyboard support for arrow left and arrow right.\n    // Only if slider is not disable\n    scope.addKeyboardSupport = function () {\n      if (disabledSlider) {\n        return;\n      }\n\n      element[0].setAttribute('tabindex', 0);\n\n      element[0].addEventListener('keydown', function (e) {\n        var value = Number(containerNode[0].noUiSlider.get());\n\n        switch (e.which) {\n          case 37: // Arrow left key\n            containerNode[0].noUiSlider.set(value - 1);\n            $timeout(scope.ngChange, 0);\n            break;\n          case 39: // Arrow right key\n            containerNode[0].noUiSlider.set(value + 1);\n            $timeout(scope.ngChange, 0);\n            break;\n        }\n      });\n    };\n\n    scope.setGradeStyles = function (label, background, border, color) {\n      var valueTextNode = valueLabelNode[0].querySelectorAll('span');\n\n      valueLabelNode[0].style.borderColor = border;\n      valueTextNode[0].innerText = label;\n      containerNode[0].style.backgroundColor = border;\n\n      if (squareSlider) {\n        valueLabelNode[0].style.backgroundColor = '#fff';\n        valueTextNode[0].style.color = border;\n      } else {\n        valueLabelNode[0].style.backgroundColor = background;\n        valueTextNode[0].style.color = color;\n      }\n    };\n\n    scope.setSliderWidth = function () {\n      // Do nothing if knowledge requirements slider - witdh is always 100% and it is set in CSS\n      if (knowledgeRequirementsSlider || scope.autoWidth) {\n        return;\n      }\n\n      var defaultDistanceBetweenGrades = 30;\n      var realDistanceBetweenGrades = 30;\n\n      var sliderLength = sliderValues.length - 1;\n      var sliderWidth = sliderLength * defaultDistanceBetweenGrades;\n\n      // Check if slider width isn't bigger than maximum slider width\n      // For knowledge requirements slider width is always equal to 100%\n      // Maximum for slider in batch editing is equal to 230px\n      // Maximum for slider on the list is equal to 200px\n      if ((batchEditingSlider && sliderWidth <= 230) || (!batchEditingSlider && sliderWidth <= 200)) {\n        element[0].style.width = sliderWidth + 'px';\n      } else {\n        var width = (!batchEditingSlider) ? 200 : 230;\n        element[0].style.width = width + 'px';\n        realDistanceBetweenGrades = 200 / sliderLength;\n      }\n\n      // Indent slider in batch editing mode\n      if (batchEditingSlider) {\n        element[0].style.marginLeft = '-' + realDistanceBetweenGrades + 'px';\n      }\n    };\n\n    // Watch ngModel\n    scope.$watch('ngModel', function () {\n      var value;\n\n      if (initRun || ignoreWatch) {\n        initRun = false;\n        return;\n      }\n\n      if (scope.ngModel === 'not_changed') {\n        value = -2;\n      } else if (scope.ngModel === '') {\n        value = -1;\n      }\n\n      config.forEach(function (configElem) {\n        if (scope.ngModel !== configElem.name) {\n          return;\n        }\n\n        value = configElem.order;\n      });\n\n      containerNode[0].noUiSlider.set(value);\n    });\n\n    // Watch gradeSystem\n    scope.$watch('gradeSystem', function (newVal, oldVal) {\n      if (!initialized && newVal && newVal.grades) {\n\n        //Config\n        config = newVal.grades;\n\n        scope.checkSliderType();\n        scope.getSliderStartValue();\n        scope.getSliderRange();\n        scope.getSliderValues();\n        scope.createWrapper();\n        scope.initSlider();\n        scope.setSliderWidth();\n        scope.createValueLabel();\n        scope.replaceSliderLabels();\n        scope.addKeyboardSupport();\n        scope.disableSlider();\n\n        // Look on slide event\n        // On slide focus slider (user click on scale or slide slider manualy)\n        containerNode[0].noUiSlider.on('slide', function (value) {\n          if (element[0] !== document.activeElement) {\n            element[0].focus();\n          }\n        });\n\n        // Look on change event\n        // On change find closest integer number and set it as slider value\n        // and focus slider (user click on handle)\n        containerNode[0].noUiSlider.on('change', function (value) {\n          var roundValue = parseInt(Math.round(value));\n\n          containerNode[0].noUiSlider.set(roundValue);\n\n          if (element[0] !== document.activeElement) {\n            element[0].focus();\n          }\n\n          if (startValue !== roundValue) {\n            startValue = roundValue;\n          } else {\n            return;\n          }\n\n          $timeout(scope.ngChange, 0);\n        });\n\n        // Look on update event\n        // On update change text in label circle and colors for slider\n        containerNode[0].noUiSlider.on('update', function (value) {\n          var roundValue = parseInt(Math.round(value));\n\n          if (roundValue === -2) {\n            scope.setGradeStyles('', '#ffffff', '#f44336', '#999999');\n          } else if (roundValue === -1) {\n            scope.setGradeStyles('-', '#ffffff', '#999999', '#999999');\n          }\n\n          const currentConfig = config.find(configElem => roundValue === configElem.order);\n\n          (scope.ngUpdate || (() => {}))({ event: currentConfig || null });\n\n          if (currentConfig) {\n            scope.setGradeStyles(currentConfig.circle_label, currentConfig.color, currentConfig.color, '#ffffff');\n          }\n        });\n\n        // Look on set event\n        // On set update scope\n        containerNode[0].noUiSlider.on('set', function (value) {\n          ignoreWatch = true;\n\n          var roundValue = parseInt(Math.round(value));\n\n          scope.$evalAsync(function () {\n            if (roundValue === -2) {\n              scope.ngModel = 'not_changed';\n              if (typeof scope.gradeId !== 'undefined') {\n                scope.gradeId = null;\n              }\n            } else if (roundValue === -1) {\n              scope.ngModel = '';\n              if (typeof scope.gradeId !== 'undefined') {\n                scope.gradeId = null;\n              }\n            }\n\n            config.forEach(function (configElem) {\n              if (roundValue !== configElem.order) {\n                return;\n              }\n\n              scope.ngModel = configElem.name;\n\n              if (scope.gradeId !== undefined) {\n                scope.gradeId = configElem.id;\n              }\n            });\n          });\n\n          ignoreWatch = false;\n        });\n\n        initialized = true;\n      }\n    });\n  }\n\n  return {\n    restrict: 'E',\n    scope: {\n      ngModel: '=',\n      gradeId: '=',\n      ngChange: '&',\n      ngUpdate: '&?',\n      gradeSystem: '=',\n      autoWidth: '=',\n    },\n    link,\n  };\n};\n","/*! nouislider - 8.3.0 - 2016-02-14 17:37:19 */\n\n(function (factory) {\n\n    if ( typeof define === 'function' && define.amd ) {\n\n        // AMD. Register as an anonymous module.\n        define([], factory);\n\n    } else if ( typeof exports === 'object' ) {\n\n        // Node/CommonJS\n        module.exports = factory();\n\n    } else {\n\n        // Browser globals\n        window.noUiSlider = factory();\n    }\n\n}(function( ){\n\n\t'use strict';\n\n\n\t// Removes duplicates from an array.\n\tfunction unique(array) {\n\t\treturn array.filter(function(a){\n\t\t\treturn !this[a] ? this[a] = true : false;\n\t\t}, {});\n\t}\n\n\t// Round a value to the closest 'to'.\n\tfunction closest ( value, to ) {\n\t\treturn Math.round(value / to) * to;\n\t}\n\n\t// Current position of an element relative to the document.\n\tfunction offset ( elem ) {\n\n\tvar rect = elem.getBoundingClientRect(),\n\t\tdoc = elem.ownerDocument,\n\t\tdocElem = doc.documentElement,\n\t\tpageOffset = getPageOffset();\n\n\t\t// getBoundingClientRect contains left scroll in Chrome on Android.\n\t\t// I haven't found a feature detection that proves this. Worst case\n\t\t// scenario on mis-match: the 'tap' feature on horizontal sliders breaks.\n\t\tif ( /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) ) {\n\t\t\tpageOffset.x = 0;\n\t\t}\n\n\t\treturn {\n\t\t\ttop: rect.top + pageOffset.y - docElem.clientTop,\n\t\t\tleft: rect.left + pageOffset.x - docElem.clientLeft\n\t\t};\n\t}\n\n\t// Checks whether a value is numerical.\n\tfunction isNumeric ( a ) {\n\t\treturn typeof a === 'number' && !isNaN( a ) && isFinite( a );\n\t}\n\n\t// Rounds a number to 7 supported decimals.\n\tfunction accurateNumber( number ) {\n\t\tvar p = Math.pow(10, 7);\n\t\treturn Number((Math.round(number*p)/p).toFixed(7));\n\t}\n\n\t// Sets a class and removes it after [duration] ms.\n\tfunction addClassFor ( element, className, duration ) {\n\t\taddClass(element, className);\n\t\tsetTimeout(function(){\n\t\t\tremoveClass(element, className);\n\t\t}, duration);\n\t}\n\n\t// Limits a value to 0 - 100\n\tfunction limit ( a ) {\n\t\treturn Math.max(Math.min(a, 100), 0);\n\t}\n\n\t// Wraps a variable as an array, if it isn't one yet.\n\tfunction asArray ( a ) {\n\t\treturn Array.isArray(a) ? a : [a];\n\t}\n\n\t// Counts decimals\n\tfunction countDecimals ( numStr ) {\n\t\tvar pieces = numStr.split(\".\");\n\t\treturn pieces.length > 1 ? pieces[1].length : 0;\n\t}\n\n\t// http://youmightnotneedjquery.com/#add_class\n\tfunction addClass ( el, className ) {\n\t\tif ( el.classList ) {\n\t\t\tel.classList.add(className);\n\t\t} else {\n\t\t\tel.className += ' ' + className;\n\t\t}\n\t}\n\n\t// http://youmightnotneedjquery.com/#remove_class\n\tfunction removeClass ( el, className ) {\n\t\tif ( el.classList ) {\n\t\t\tel.classList.remove(className);\n\t\t} else {\n\t\t\tel.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n\t\t}\n\t}\n\n\t// https://plainjs.com/javascript/attributes/adding-removing-and-testing-for-classes-9/\n\tfunction hasClass ( el, className ) {\n\t\treturn el.classList ? el.classList.contains(className) : new RegExp('\\\\b' + className + '\\\\b').test(el.className);\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollY#Notes\n\tfunction getPageOffset ( ) {\n\n\t\tvar supportPageOffset = window.pageXOffset !== undefined,\n\t\t\tisCSS1Compat = ((document.compatMode || \"\") === \"CSS1Compat\"),\n\t\t\tx = supportPageOffset ? window.pageXOffset : isCSS1Compat ? document.documentElement.scrollLeft : document.body.scrollLeft,\n\t\t\ty = supportPageOffset ? window.pageYOffset : isCSS1Compat ? document.documentElement.scrollTop : document.body.scrollTop;\n\n\t\treturn {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\t}\n\n\t// Shorthand for stopPropagation so we don't have to create a dynamic method\n\tfunction stopPropagation ( e ) {\n\t\te.stopPropagation();\n\t}\n\n\t// todo\n\tfunction addCssPrefix(cssPrefix) {\n\t\treturn function(className) {\n\t\t\treturn cssPrefix + className;\n\t\t};\n\t}\n\n\n\tvar\n\t// Determine the events to bind. IE11 implements pointerEvents without\n\t// a prefix, which breaks compatibility with the IE10 implementation.\n\t/** @const */\n\tactions = window.navigator.pointerEnabled ? {\n\t\tstart: 'pointerdown',\n\t\tmove: 'pointermove',\n\t\tend: 'pointerup'\n\t} : window.navigator.msPointerEnabled ? {\n\t\tstart: 'MSPointerDown',\n\t\tmove: 'MSPointerMove',\n\t\tend: 'MSPointerUp'\n\t} : {\n\t\tstart: 'mousedown touchstart',\n\t\tmove: 'mousemove touchmove',\n\t\tend: 'mouseup touchend'\n\t},\n\tdefaultCssPrefix = 'noUi-';\n\n\n// Value calculation\n\n\t// Determine the size of a sub-range in relation to a full range.\n\tfunction subRangeRatio ( pa, pb ) {\n\t\treturn (100 / (pb - pa));\n\t}\n\n\t// (percentage) How many percent is this value of this range?\n\tfunction fromPercentage ( range, value ) {\n\t\treturn (value * 100) / ( range[1] - range[0] );\n\t}\n\n\t// (percentage) Where is this value on this range?\n\tfunction toPercentage ( range, value ) {\n\t\treturn fromPercentage( range, range[0] < 0 ?\n\t\t\tvalue + Math.abs(range[0]) :\n\t\t\t\tvalue - range[0] );\n\t}\n\n\t// (value) How much is this percentage on this range?\n\tfunction isPercentage ( range, value ) {\n\t\treturn ((value * ( range[1] - range[0] )) / 100) + range[0];\n\t}\n\n\n// Range conversion\n\n\tfunction getJ ( value, arr ) {\n\n\t\tvar j = 1;\n\n\t\twhile ( value >= arr[j] ){\n\t\t\tj += 1;\n\t\t}\n\n\t\treturn j;\n\t}\n\n\t// (percentage) Input a value, find where, on a scale of 0-100, it applies.\n\tfunction toStepping ( xVal, xPct, value ) {\n\n\t\tif ( value >= xVal.slice(-1)[0] ){\n\t\t\treturn 100;\n\t\t}\n\n\t\tvar j = getJ( value, xVal ), va, vb, pa, pb;\n\n\t\tva = xVal[j-1];\n\t\tvb = xVal[j];\n\t\tpa = xPct[j-1];\n\t\tpb = xPct[j];\n\n\t\treturn pa + (toPercentage([va, vb], value) / subRangeRatio (pa, pb));\n\t}\n\n\t// (value) Input a percentage, find where it is on the specified range.\n\tfunction fromStepping ( xVal, xPct, value ) {\n\n\t\t// There is no range group that fits 100\n\t\tif ( value >= 100 ){\n\t\t\treturn xVal.slice(-1)[0];\n\t\t}\n\n\t\tvar j = getJ( value, xPct ), va, vb, pa, pb;\n\n\t\tva = xVal[j-1];\n\t\tvb = xVal[j];\n\t\tpa = xPct[j-1];\n\t\tpb = xPct[j];\n\n\t\treturn isPercentage([va, vb], (value - pa) * subRangeRatio (pa, pb));\n\t}\n\n\t// (percentage) Get the step that applies at a certain value.\n\tfunction getStep ( xPct, xSteps, snap, value ) {\n\n\t\tif ( value === 100 ) {\n\t\t\treturn value;\n\t\t}\n\n\t\tvar j = getJ( value, xPct ), a, b;\n\n\t\t// If 'snap' is set, steps are used as fixed points on the slider.\n\t\tif ( snap ) {\n\n\t\t\ta = xPct[j-1];\n\t\t\tb = xPct[j];\n\n\t\t\t// Find the closest position, a or b.\n\t\t\tif ((value - a) > ((b-a)/2)){\n\t\t\t\treturn b;\n\t\t\t}\n\n\t\t\treturn a;\n\t\t}\n\n\t\tif ( !xSteps[j-1] ){\n\t\t\treturn value;\n\t\t}\n\n\t\treturn xPct[j-1] + closest(\n\t\t\tvalue - xPct[j-1],\n\t\t\txSteps[j-1]\n\t\t);\n\t}\n\n\n// Entry parsing\n\n\tfunction handleEntryPoint ( index, value, that ) {\n\n\t\tvar percentage;\n\n\t\t// Wrap numerical input in an array.\n\t\tif ( typeof value === \"number\" ) {\n\t\t\tvalue = [value];\n\t\t}\n\n\t\t// Reject any invalid input, by testing whether value is an array.\n\t\tif ( Object.prototype.toString.call( value ) !== '[object Array]' ){\n\t\t\tthrow new Error(\"noUiSlider: 'range' contains invalid value.\");\n\t\t}\n\n\t\t// Covert min/max syntax to 0 and 100.\n\t\tif ( index === 'min' ) {\n\t\t\tpercentage = 0;\n\t\t} else if ( index === 'max' ) {\n\t\t\tpercentage = 100;\n\t\t} else {\n\t\t\tpercentage = parseFloat( index );\n\t\t}\n\n\t\t// Check for correct input.\n\t\tif ( !isNumeric( percentage ) || !isNumeric( value[0] ) ) {\n\t\t\tthrow new Error(\"noUiSlider: 'range' value isn't numeric.\");\n\t\t}\n\n\t\t// Store values.\n\t\tthat.xPct.push( percentage );\n\t\tthat.xVal.push( value[0] );\n\n\t\t// NaN will evaluate to false too, but to keep\n\t\t// logging clear, set step explicitly. Make sure\n\t\t// not to override the 'step' setting with false.\n\t\tif ( !percentage ) {\n\t\t\tif ( !isNaN( value[1] ) ) {\n\t\t\t\tthat.xSteps[0] = value[1];\n\t\t\t}\n\t\t} else {\n\t\t\tthat.xSteps.push( isNaN(value[1]) ? false : value[1] );\n\t\t}\n\t}\n\n\tfunction handleStepPoint ( i, n, that ) {\n\n\t\t// Ignore 'false' stepping.\n\t\tif ( !n ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Factor to range ratio\n\t\tthat.xSteps[i] = fromPercentage([\n\t\t\t that.xVal[i]\n\t\t\t,that.xVal[i+1]\n\t\t], n) / subRangeRatio (\n\t\t\tthat.xPct[i],\n\t\t\tthat.xPct[i+1] );\n\t}\n\n\n// Interface\n\n\t// The interface to Spectrum handles all direction-based\n\t// conversions, so the above values are unaware.\n\n\tfunction Spectrum ( entry, snap, direction, singleStep ) {\n\n\t\tthis.xPct = [];\n\t\tthis.xVal = [];\n\t\tthis.xSteps = [ singleStep || false ];\n\t\tthis.xNumSteps = [ false ];\n\n\t\tthis.snap = snap;\n\t\tthis.direction = direction;\n\n\t\tvar index, ordered = [ /* [0, 'min'], [1, '50%'], [2, 'max'] */ ];\n\n\t\t// Map the object keys to an array.\n\t\tfor ( index in entry ) {\n\t\t\tif ( entry.hasOwnProperty(index) ) {\n\t\t\t\tordered.push([entry[index], index]);\n\t\t\t}\n\t\t}\n\n\t\t// Sort all entries by value (numeric sort).\n\t\tif ( ordered.length && typeof ordered[0][0] === \"object\" ) {\n\t\t\tordered.sort(function(a, b) { return a[0][0] - b[0][0]; });\n\t\t} else {\n\t\t\tordered.sort(function(a, b) { return a[0] - b[0]; });\n\t\t}\n\n\n\t\t// Convert all entries to subranges.\n\t\tfor ( index = 0; index < ordered.length; index++ ) {\n\t\t\thandleEntryPoint(ordered[index][1], ordered[index][0], this);\n\t\t}\n\n\t\t// Store the actual step values.\n\t\t// xSteps is sorted in the same order as xPct and xVal.\n\t\tthis.xNumSteps = this.xSteps.slice(0);\n\n\t\t// Convert all numeric steps to the percentage of the subrange they represent.\n\t\tfor ( index = 0; index < this.xNumSteps.length; index++ ) {\n\t\t\thandleStepPoint(index, this.xNumSteps[index], this);\n\t\t}\n\t}\n\n\tSpectrum.prototype.getMargin = function ( value ) {\n\t\treturn this.xPct.length === 2 ? fromPercentage(this.xVal, value) : false;\n\t};\n\n\tSpectrum.prototype.toStepping = function ( value ) {\n\n\t\tvalue = toStepping( this.xVal, this.xPct, value );\n\n\t\t// Invert the value if this is a right-to-left slider.\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\tSpectrum.prototype.fromStepping = function ( value ) {\n\n\t\t// Invert the value if this is a right-to-left slider.\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\treturn accurateNumber(fromStepping( this.xVal, this.xPct, value ));\n\t};\n\n\tSpectrum.prototype.getStep = function ( value ) {\n\n\t\t// Find the proper step for rtl sliders by search in inverse direction.\n\t\t// Fixes issue #262.\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\tvalue = getStep(this.xPct, this.xSteps, this.snap, value );\n\n\t\tif ( this.direction ) {\n\t\t\tvalue = 100 - value;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\tSpectrum.prototype.getApplicableStep = function ( value ) {\n\n\t\t// If the value is 100%, return the negative step twice.\n\t\tvar j = getJ(value, this.xPct), offset = value === 100 ? 2 : 1;\n\t\treturn [this.xNumSteps[j-2], this.xVal[j-offset], this.xNumSteps[j-offset]];\n\t};\n\n\t// Outside testing\n\tSpectrum.prototype.convert = function ( value ) {\n\t\treturn this.getStep(this.toStepping(value));\n\t};\n\n/*\tEvery input option is tested and parsed. This'll prevent\n\tendless validation in internal methods. These tests are\n\tstructured with an item for every option available. An\n\toption can be marked as required by setting the 'r' flag.\n\tThe testing function is provided with three arguments:\n\t\t- The provided value for the option;\n\t\t- A reference to the options object;\n\t\t- The name for the option;\n\n\tThe testing function returns false when an error is detected,\n\tor true when everything is OK. It can also modify the option\n\tobject, to make sure all values can be correctly looped elsewhere. */\n\n\tvar defaultFormatter = { 'to': function( value ){\n\t\treturn value !== undefined && value.toFixed(2);\n\t}, 'from': Number };\n\n\tfunction testStep ( parsed, entry ) {\n\n\t\tif ( !isNumeric( entry ) ) {\n\t\t\tthrow new Error(\"noUiSlider: 'step' is not numeric.\");\n\t\t}\n\n\t\t// The step option can still be used to set stepping\n\t\t// for linear sliders. Overwritten if set in 'range'.\n\t\tparsed.singleStep = entry;\n\t}\n\n\tfunction testRange ( parsed, entry ) {\n\n\t\t// Filter incorrect input.\n\t\tif ( typeof entry !== 'object' || Array.isArray(entry) ) {\n\t\t\tthrow new Error(\"noUiSlider: 'range' is not an object.\");\n\t\t}\n\n\t\t// Catch missing start or end.\n\t\tif ( entry.min === undefined || entry.max === undefined ) {\n\t\t\tthrow new Error(\"noUiSlider: Missing 'min' or 'max' in 'range'.\");\n\t\t}\n\n\t\t// Catch equal start or end.\n\t\tif ( entry.min === entry.max ) {\n\t\t\tthrow new Error(\"noUiSlider: 'range' 'min' and 'max' cannot be equal.\");\n\t\t}\n\n\t\tparsed.spectrum = new Spectrum(entry, parsed.snap, parsed.dir, parsed.singleStep);\n\t}\n\n\tfunction testStart ( parsed, entry ) {\n\n\t\tentry = asArray(entry);\n\n\t\t// Validate input. Values aren't tested, as the public .val method\n\t\t// will always provide a valid location.\n\t\tif ( !Array.isArray( entry ) || !entry.length || entry.length > 2 ) {\n\t\t\tthrow new Error(\"noUiSlider: 'start' option is incorrect.\");\n\t\t}\n\n\t\t// Store the number of handles.\n\t\tparsed.handles = entry.length;\n\n\t\t// When the slider is initialized, the .val method will\n\t\t// be called with the start options.\n\t\tparsed.start = entry;\n\t}\n\n\tfunction testSnap ( parsed, entry ) {\n\n\t\t// Enforce 100% stepping within subranges.\n\t\tparsed.snap = entry;\n\n\t\tif ( typeof entry !== 'boolean' ){\n\t\t\tthrow new Error(\"noUiSlider: 'snap' option must be a boolean.\");\n\t\t}\n\t}\n\n\tfunction testAnimate ( parsed, entry ) {\n\n\t\t// Enforce 100% stepping within subranges.\n\t\tparsed.animate = entry;\n\n\t\tif ( typeof entry !== 'boolean' ){\n\t\t\tthrow new Error(\"noUiSlider: 'animate' option must be a boolean.\");\n\t\t}\n\t}\n\n\tfunction testConnect ( parsed, entry ) {\n\n\t\tif ( entry === 'lower' && parsed.handles === 1 ) {\n\t\t\tparsed.connect = 1;\n\t\t} else if ( entry === 'upper' && parsed.handles === 1 ) {\n\t\t\tparsed.connect = 2;\n\t\t} else if ( entry === true && parsed.handles === 2 ) {\n\t\t\tparsed.connect = 3;\n\t\t} else if ( entry === false ) {\n\t\t\tparsed.connect = 0;\n\t\t} else {\n\t\t\tthrow new Error(\"noUiSlider: 'connect' option doesn't match handle count.\");\n\t\t}\n\t}\n\n\tfunction testOrientation ( parsed, entry ) {\n\n\t\t// Set orientation to an a numerical value for easy\n\t\t// array selection.\n\t\tswitch ( entry ){\n\t\t  case 'horizontal':\n\t\t\tparsed.ort = 0;\n\t\t\tbreak;\n\t\t  case 'vertical':\n\t\t\tparsed.ort = 1;\n\t\t\tbreak;\n\t\t  default:\n\t\t\tthrow new Error(\"noUiSlider: 'orientation' option is invalid.\");\n\t\t}\n\t}\n\n\tfunction testMargin ( parsed, entry ) {\n\n\t\tif ( !isNumeric(entry) ){\n\t\t\tthrow new Error(\"noUiSlider: 'margin' option must be numeric.\");\n\t\t}\n\n\t\t// Issue #582\n\t\tif ( entry === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tparsed.margin = parsed.spectrum.getMargin(entry);\n\n\t\tif ( !parsed.margin ) {\n\t\t\tthrow new Error(\"noUiSlider: 'margin' option is only supported on linear sliders.\");\n\t\t}\n\t}\n\n\tfunction testLimit ( parsed, entry ) {\n\n\t\tif ( !isNumeric(entry) ){\n\t\t\tthrow new Error(\"noUiSlider: 'limit' option must be numeric.\");\n\t\t}\n\n\t\tparsed.limit = parsed.spectrum.getMargin(entry);\n\n\t\tif ( !parsed.limit ) {\n\t\t\tthrow new Error(\"noUiSlider: 'limit' option is only supported on linear sliders.\");\n\t\t}\n\t}\n\n\tfunction testDirection ( parsed, entry ) {\n\n\t\t// Set direction as a numerical value for easy parsing.\n\t\t// Invert connection for RTL sliders, so that the proper\n\t\t// handles get the connect/background classes.\n\t\tswitch ( entry ) {\n\t\t  case 'ltr':\n\t\t\tparsed.dir = 0;\n\t\t\tbreak;\n\t\t  case 'rtl':\n\t\t\tparsed.dir = 1;\n\t\t\tparsed.connect = [0,2,1,3][parsed.connect];\n\t\t\tbreak;\n\t\t  default:\n\t\t\tthrow new Error(\"noUiSlider: 'direction' option was not recognized.\");\n\t\t}\n\t}\n\n\tfunction testBehaviour ( parsed, entry ) {\n\n\t\t// Make sure the input is a string.\n\t\tif ( typeof entry !== 'string' ) {\n\t\t\tthrow new Error(\"noUiSlider: 'behaviour' must be a string containing options.\");\n\t\t}\n\n\t\t// Check if the string contains any keywords.\n\t\t// None are required.\n\t\tvar tap = entry.indexOf('tap') >= 0,\n\t\t\tdrag = entry.indexOf('drag') >= 0,\n\t\t\tfixed = entry.indexOf('fixed') >= 0,\n\t\t\tsnap = entry.indexOf('snap') >= 0,\n\t\t\thover = entry.indexOf('hover') >= 0;\n\n\t\t// Fix #472\n\t\tif ( drag && !parsed.connect ) {\n\t\t\tthrow new Error(\"noUiSlider: 'drag' behaviour must be used with 'connect': true.\");\n\t\t}\n\n\t\tparsed.events = {\n\t\t\ttap: tap || snap,\n\t\t\tdrag: drag,\n\t\t\tfixed: fixed,\n\t\t\tsnap: snap,\n\t\t\thover: hover\n\t\t};\n\t}\n\n\tfunction testTooltips ( parsed, entry ) {\n\n\t\tvar i;\n\n\t\tif ( entry === false ) {\n\t\t\treturn;\n\t\t} else if ( entry === true ) {\n\n\t\t\tparsed.tooltips = [];\n\n\t\t\tfor ( i = 0; i < parsed.handles; i++ ) {\n\t\t\t\tparsed.tooltips.push(true);\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparsed.tooltips = asArray(entry);\n\n\t\t\tif ( parsed.tooltips.length !== parsed.handles ) {\n\t\t\t\tthrow new Error(\"noUiSlider: must pass a formatter for all handles.\");\n\t\t\t}\n\n\t\t\tparsed.tooltips.forEach(function(formatter){\n\t\t\t\tif ( typeof formatter !== 'boolean' && (typeof formatter !== 'object' || typeof formatter.to !== 'function') ) {\n\t\t\t\t\tthrow new Error(\"noUiSlider: 'tooltips' must be passed a formatter or 'false'.\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction testFormat ( parsed, entry ) {\n\n\t\tparsed.format = entry;\n\n\t\t// Any object with a to and from method is supported.\n\t\tif ( typeof entry.to === 'function' && typeof entry.from === 'function' ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthrow new Error( \"noUiSlider: 'format' requires 'to' and 'from' methods.\");\n\t}\n\n\tfunction testCssPrefix ( parsed, entry ) {\n\n\t\tif ( entry !== undefined && typeof entry !== 'string' ) {\n\t\t\tthrow new Error( \"noUiSlider: 'cssPrefix' must be a string.\");\n\t\t}\n\n\t\tparsed.cssPrefix = entry;\n\t}\n\n\t// Test all developer settings and parse to assumption-safe values.\n\tfunction testOptions ( options ) {\n\n\t\t// To prove a fix for #537, freeze options here.\n\t\t// If the object is modified, an error will be thrown.\n\t\t// Object.freeze(options);\n\n\t\tvar parsed = {\n\t\t\tmargin: 0,\n\t\t\tlimit: 0,\n\t\t\tanimate: true,\n\t\t\tformat: defaultFormatter\n\t\t}, tests;\n\n\t\t// Tests are executed in the order they are presented here.\n\t\ttests = {\n\t\t\t'step': { r: false, t: testStep },\n\t\t\t'start': { r: true, t: testStart },\n\t\t\t'connect': { r: true, t: testConnect },\n\t\t\t'direction': { r: true, t: testDirection },\n\t\t\t'snap': { r: false, t: testSnap },\n\t\t\t'animate': { r: false, t: testAnimate },\n\t\t\t'range': { r: true, t: testRange },\n\t\t\t'orientation': { r: false, t: testOrientation },\n\t\t\t'margin': { r: false, t: testMargin },\n\t\t\t'limit': { r: false, t: testLimit },\n\t\t\t'behaviour': { r: true, t: testBehaviour },\n\t\t\t'format': { r: false, t: testFormat },\n\t\t\t'tooltips': { r: false, t: testTooltips },\n\t\t\t'cssPrefix': { r: false, t: testCssPrefix }\n\t\t};\n\n\t\tvar defaults = {\n\t\t\t'connect': false,\n\t\t\t'direction': 'ltr',\n\t\t\t'behaviour': 'tap',\n\t\t\t'orientation': 'horizontal'\n\t\t};\n\n\t\t// Run all options through a testing mechanism to ensure correct\n\t\t// input. It should be noted that options might get modified to\n\t\t// be handled properly. E.g. wrapping integers in arrays.\n\t\tObject.keys(tests).forEach(function( name ){\n\n\t\t\t// If the option isn't set, but it is required, throw an error.\n\t\t\tif ( options[name] === undefined && defaults[name] === undefined ) {\n\n\t\t\t\tif ( tests[name].r ) {\n\t\t\t\t\tthrow new Error(\"noUiSlider: '\" + name + \"' is required.\");\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\ttests[name].t( parsed, options[name] === undefined ? defaults[name] : options[name] );\n\t\t});\n\n\t\t// Forward pips options\n\t\tparsed.pips = options.pips;\n\n\t\t// Pre-define the styles.\n\t\tparsed.style = parsed.ort ? 'top' : 'left';\n\n\t\treturn parsed;\n\t}\n\n\nfunction closure ( target, options ){\n\n\t// All variables local to 'closure' are prefixed with 'scope_'\n\tvar scope_Target = target,\n\t\tscope_Locations = [-1, -1],\n\t\tscope_Base,\n\t\tscope_Handles,\n\t\tscope_Spectrum = options.spectrum,\n\t\tscope_Values = [],\n\t\tscope_Events = {},\n\t\tscope_Self;\n\n  var cssClasses = [\n    /*  0 */  'target'\n    /*  1 */ ,'base'\n    /*  2 */ ,'origin'\n    /*  3 */ ,'handle'\n    /*  4 */ ,'horizontal'\n    /*  5 */ ,'vertical'\n    /*  6 */ ,'background'\n    /*  7 */ ,'connect'\n    /*  8 */ ,'ltr'\n    /*  9 */ ,'rtl'\n    /* 10 */ ,'draggable'\n    /* 11 */ ,''\n    /* 12 */ ,'state-drag'\n    /* 13 */ ,''\n    /* 14 */ ,'state-tap'\n    /* 15 */ ,'active'\n    /* 16 */ ,''\n    /* 17 */ ,'stacking'\n    /* 18 */ ,'tooltip'\n    /* 19 */ ,''\n    /* 20 */ ,'pips'\n    /* 21 */ ,'marker'\n    /* 22 */ ,'value'\n  ].map(addCssPrefix(options.cssPrefix || defaultCssPrefix));\n\n\n\t// Delimit proposed values for handle positions.\n\tfunction getPositions ( a, b, delimit ) {\n\n\t\t// Add movement to current position.\n\t\tvar c = a + b[0], d = a + b[1];\n\n\t\t// Only alter the other position on drag,\n\t\t// not on standard sliding.\n\t\tif ( delimit ) {\n\t\t\tif ( c < 0 ) {\n\t\t\t\td += Math.abs(c);\n\t\t\t}\n\t\t\tif ( d > 100 ) {\n\t\t\t\tc -= ( d - 100 );\n\t\t\t}\n\n\t\t\t// Limit values to 0 and 100.\n\t\t\treturn [limit(c), limit(d)];\n\t\t}\n\n\t\treturn [c,d];\n\t}\n\n\t// Provide a clean event with standardized offset values.\n\tfunction fixEvent ( e, pageOffset ) {\n\n\t\t// Prevent scrolling and panning on touch events, while\n\t\t// attempting to slide. The tap event also depends on this.\n\t\te.preventDefault();\n\n\t\t// Filter the event to register the type, which can be\n\t\t// touch, mouse or pointer. Offset changes need to be\n\t\t// made on an event specific basis.\n\t\tvar touch = e.type.indexOf('touch') === 0,\n\t\t\tmouse = e.type.indexOf('mouse') === 0,\n\t\t\tpointer = e.type.indexOf('pointer') === 0,\n\t\t\tx,y, event = e;\n\n\t\t// IE10 implemented pointer events with a prefix;\n\t\tif ( e.type.indexOf('MSPointer') === 0 ) {\n\t\t\tpointer = true;\n\t\t}\n\n\t\tif ( touch ) {\n\t\t\t// noUiSlider supports one movement at a time,\n\t\t\t// so we can select the first 'changedTouch'.\n\t\t\tx = e.changedTouches[0].pageX;\n\t\t\ty = e.changedTouches[0].pageY;\n\t\t}\n\n\t\tpageOffset = pageOffset || getPageOffset();\n\n\t\tif ( mouse || pointer ) {\n\t\t\tx = e.clientX + pageOffset.x;\n\t\t\ty = e.clientY + pageOffset.y;\n\t\t}\n\n\t\tevent.pageOffset = pageOffset;\n\t\tevent.points = [x, y];\n\t\tevent.cursor = mouse || pointer; // Fix #435\n\n\t\treturn event;\n\t}\n\n\t// Append a handle to the base.\n\tfunction addHandle ( direction, index ) {\n\n\t\tvar origin = document.createElement('div'),\n\t\t\thandle = document.createElement('div'),\n\t\t\tadditions = [ '-lower', '-upper' ];\n\n\t\tif ( direction ) {\n\t\t\tadditions.reverse();\n\t\t}\n\n\t\taddClass(handle, cssClasses[3]);\n\t\taddClass(handle, cssClasses[3] + additions[index]);\n\n\t\taddClass(origin, cssClasses[2]);\n\t\torigin.appendChild(handle);\n\n\t\treturn origin;\n\t}\n\n\t// Add the proper connection classes.\n\tfunction addConnection ( connect, target, handles ) {\n\n\t\t// Apply the required connection classes to the elements\n\t\t// that need them. Some classes are made up for several\n\t\t// segments listed in the class list, to allow easy\n\t\t// renaming and provide a minor compression benefit.\n\t\tswitch ( connect ) {\n\t\t\tcase 1:\taddClass(target, cssClasses[7]);\n\t\t\t\t\taddClass(handles[0], cssClasses[6]);\n\t\t\t\t\tbreak;\n\t\t\tcase 3: addClass(handles[1], cssClasses[6]);\n\t\t\t\t\t/* falls through */\n\t\t\tcase 2: addClass(handles[0], cssClasses[7]);\n\t\t\t\t\t/* falls through */\n\t\t\tcase 0: addClass(target, cssClasses[6]);\n\t\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Add handles to the slider base.\n\tfunction addHandles ( nrHandles, direction, base ) {\n\n\t\tvar index, handles = [];\n\n\t\t// Append handles.\n\t\tfor ( index = 0; index < nrHandles; index += 1 ) {\n\n\t\t\t// Keep a list of all added handles.\n\t\t\thandles.push( base.appendChild(addHandle( direction, index )) );\n\t\t}\n\n\t\treturn handles;\n\t}\n\n\t// Initialize a single slider.\n\tfunction addSlider ( direction, orientation, target ) {\n\n\t\t// Apply classes and data to the target.\n\t\taddClass(target, cssClasses[0]);\n\t\taddClass(target, cssClasses[8 + direction]);\n\t\taddClass(target, cssClasses[4 + orientation]);\n\n\t\tvar div = document.createElement('div');\n\t\taddClass(div, cssClasses[1]);\n\t\ttarget.appendChild(div);\n\t\treturn div;\n\t}\n\n\n\tfunction addTooltip ( handle, index ) {\n\n\t\tif ( !options.tooltips[index] ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar element = document.createElement('div');\n\t\telement.className = cssClasses[18];\n\t\treturn handle.firstChild.appendChild(element);\n\t}\n\n\t// The tooltips option is a shorthand for using the 'update' event.\n\tfunction tooltips ( ) {\n\n\t\tif ( options.dir ) {\n\t\t\toptions.tooltips.reverse();\n\t\t}\n\n\t\t// Tooltips are added with options.tooltips in original order.\n\t\tvar tips = scope_Handles.map(addTooltip);\n\n\t\tif ( options.dir ) {\n\t\t\ttips.reverse();\n\t\t\toptions.tooltips.reverse();\n\t\t}\n\n\t\tbindEvent('update', function(f, o, r) {\n\t\t\tif ( tips[o] ) {\n\t\t\t\ttips[o].innerHTML = options.tooltips[o] === true ? f[o] : options.tooltips[o].to(r[o]);\n\t\t\t}\n\t\t});\n\t}\n\n\n\tfunction getGroup ( mode, values, stepped ) {\n\n\t\t// Use the range.\n\t\tif ( mode === 'range' || mode === 'steps' ) {\n\t\t\treturn scope_Spectrum.xVal;\n\t\t}\n\n\t\tif ( mode === 'count' ) {\n\n\t\t\t// Divide 0 - 100 in 'count' parts.\n\t\t\tvar spread = ( 100 / (values-1) ), v, i = 0;\n\t\t\tvalues = [];\n\n\t\t\t// List these parts and have them handled as 'positions'.\n\t\t\twhile ((v=i++*spread) <= 100 ) {\n\t\t\t\tvalues.push(v);\n\t\t\t}\n\n\t\t\tmode = 'positions';\n\t\t}\n\n\t\tif ( mode === 'positions' ) {\n\n\t\t\t// Map all percentages to on-range values.\n\t\t\treturn values.map(function( value ){\n\t\t\t\treturn scope_Spectrum.fromStepping( stepped ? scope_Spectrum.getStep( value ) : value );\n\t\t\t});\n\t\t}\n\n\t\tif ( mode === 'values' ) {\n\n\t\t\t// If the value must be stepped, it needs to be converted to a percentage first.\n\t\t\tif ( stepped ) {\n\n\t\t\t\treturn values.map(function( value ){\n\n\t\t\t\t\t// Convert to percentage, apply step, return to value.\n\t\t\t\t\treturn scope_Spectrum.fromStepping( scope_Spectrum.getStep( scope_Spectrum.toStepping( value ) ) );\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\t// Otherwise, we can simply use the values.\n\t\t\treturn values;\n\t\t}\n\t}\n\n\tfunction generateSpread ( density, mode, group ) {\n\n\t\tfunction safeIncrement(value, increment) {\n\t\t\t// Avoid floating point variance by dropping the smallest decimal places.\n\t\t\treturn (value + increment).toFixed(7) / 1;\n\t\t}\n\n\t\tvar originalSpectrumDirection = scope_Spectrum.direction,\n\t\t\tindexes = {},\n\t\t\tfirstInRange = scope_Spectrum.xVal[0],\n\t\t\tlastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length-1],\n\t\t\tignoreFirst = false,\n\t\t\tignoreLast = false,\n\t\t\tprevPct = 0;\n\n\t\t// This function loops the spectrum in an ltr linear fashion,\n\t\t// while the toStepping method is direction aware. Trick it into\n\t\t// believing it is ltr.\n\t\tscope_Spectrum.direction = 0;\n\n\t\t// Create a copy of the group, sort it and filter away all duplicates.\n\t\tgroup = unique(group.slice().sort(function(a, b){ return a - b; }));\n\n\t\t// Make sure the range starts with the first element.\n\t\tif ( group[0] !== firstInRange ) {\n\t\t\tgroup.unshift(firstInRange);\n\t\t\tignoreFirst = true;\n\t\t}\n\n\t\t// Likewise for the last one.\n\t\tif ( group[group.length - 1] !== lastInRange ) {\n\t\t\tgroup.push(lastInRange);\n\t\t\tignoreLast = true;\n\t\t}\n\n\t\tgroup.forEach(function ( current, index ) {\n\n\t\t\t// Get the current step and the lower + upper positions.\n\t\t\tvar step, i, q,\n\t\t\t\tlow = current,\n\t\t\t\thigh = group[index+1],\n\t\t\t\tnewPct, pctDifference, pctPos, type,\n\t\t\t\tsteps, realSteps, stepsize;\n\n\t\t\t// When using 'steps' mode, use the provided steps.\n\t\t\t// Otherwise, we'll step on to the next subrange.\n\t\t\tif ( mode === 'steps' ) {\n\t\t\t\tstep = scope_Spectrum.xNumSteps[ index ];\n\t\t\t}\n\n\t\t\t// Default to a 'full' step.\n\t\t\tif ( !step ) {\n\t\t\t\tstep = high-low;\n\t\t\t}\n\n\t\t\t// Low can be 0, so test for false. If high is undefined,\n\t\t\t// we are at the last subrange. Index 0 is already handled.\n\t\t\tif ( low === false || high === undefined ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Find all steps in the subrange.\n\t\t\tfor ( i = low; i <= high; i = safeIncrement(i, step) ) {\n\n\t\t\t\t// Get the percentage value for the current step,\n\t\t\t\t// calculate the size for the subrange.\n\t\t\t\tnewPct = scope_Spectrum.toStepping( i );\n\t\t\t\tpctDifference = newPct - prevPct;\n\n\t\t\t\tsteps = pctDifference / density;\n\t\t\t\trealSteps = Math.round(steps);\n\n\t\t\t\t// This ratio represents the ammount of percentage-space a point indicates.\n\t\t\t\t// For a density 1 the points/percentage = 1. For density 2, that percentage needs to be re-devided.\n\t\t\t\t// Round the percentage offset to an even number, then divide by two\n\t\t\t\t// to spread the offset on both sides of the range.\n\t\t\t\tstepsize = pctDifference/realSteps;\n\n\t\t\t\t// Divide all points evenly, adding the correct number to this subrange.\n\t\t\t\t// Run up to <= so that 100% gets a point, event if ignoreLast is set.\n\t\t\t\tfor ( q = 1; q <= realSteps; q += 1 ) {\n\n\t\t\t\t\t// The ratio between the rounded value and the actual size might be ~1% off.\n\t\t\t\t\t// Correct the percentage offset by the number of points\n\t\t\t\t\t// per subrange. density = 1 will result in 100 points on the\n\t\t\t\t\t// full range, 2 for 50, 4 for 25, etc.\n\t\t\t\t\tpctPos = prevPct + ( q * stepsize );\n\t\t\t\t\tindexes[pctPos.toFixed(5)] = ['x', 0];\n\t\t\t\t}\n\n\t\t\t\t// Determine the point type.\n\t\t\t\ttype = (group.indexOf(i) > -1) ? 1 : ( mode === 'steps' ? 2 : 0 );\n\n\t\t\t\t// Enforce the 'ignoreFirst' option by overwriting the type for 0.\n\t\t\t\tif ( !index && ignoreFirst ) {\n\t\t\t\t\ttype = 0;\n\t\t\t\t}\n\n\t\t\t\tif ( !(i === high && ignoreLast)) {\n\t\t\t\t\t// Mark the 'type' of this point. 0 = plain, 1 = real value, 2 = step value.\n\t\t\t\t\tindexes[newPct.toFixed(5)] = [i, type];\n\t\t\t\t}\n\n\t\t\t\t// Update the percentage count.\n\t\t\t\tprevPct = newPct;\n\t\t\t}\n\t\t});\n\n\t\t// Reset the spectrum.\n\t\tscope_Spectrum.direction = originalSpectrumDirection;\n\n\t\treturn indexes;\n\t}\n\n\tfunction addMarking ( spread, filterFunc, formatter ) {\n\n\t\tvar style = ['horizontal', 'vertical'][options.ort],\n\t\t\telement = document.createElement('div'),\n\t\t\tout = '';\n\n\t\taddClass(element, cssClasses[20]);\n\t\taddClass(element, cssClasses[20] + '-' + style);\n\n\t\tfunction getSize( type ){\n\t\t\treturn [ '-normal', '-large', '-sub' ][type];\n\t\t}\n\n\t\tfunction getTags( offset, source, values ) {\n\t\t\treturn 'class=\"' + source + ' ' +\n\t\t\t\tsource + '-' + style + ' ' +\n\t\t\t\tsource + getSize(values[1]) +\n\t\t\t\t'\" style=\"' + options.style + ': ' + offset + '%\"';\n\t\t}\n\n\t\tfunction addSpread ( offset, values ){\n\n\t\t\tif ( scope_Spectrum.direction ) {\n\t\t\t\toffset = 100 - offset;\n\t\t\t}\n\n\t\t\t// Apply the filter function, if it is set.\n\t\t\tvalues[1] = (values[1] && filterFunc) ? filterFunc(values[0], values[1]) : values[1];\n\n\t\t\t// Add a marker for every point\n\t\t\tout += '<div ' + getTags(offset, cssClasses[21], values) + '></div>';\n\n\t\t\t// Values are only appended for points marked '1' or '2'.\n\t\t\tif ( values[1] ) {\n\t\t\t\tout += '<div '+getTags(offset, cssClasses[22], values)+'>' + formatter.to(values[0]) + '</div>';\n\t\t\t}\n\t\t}\n\n\t\t// Append all points.\n\t\tObject.keys(spread).forEach(function(a){\n\t\t\taddSpread(a, spread[a]);\n\t\t});\n\t\telement.innerHTML = out;\n\n\t\treturn element;\n\t}\n\n\tfunction pips ( grid ) {\n\n\tvar mode = grid.mode,\n\t\tdensity = grid.density || 1,\n\t\tfilter = grid.filter || false,\n\t\tvalues = grid.values || false,\n\t\tstepped = grid.stepped || false,\n\t\tgroup = getGroup( mode, values, stepped ),\n\t\tspread = generateSpread( density, mode, group ),\n\t\tformat = grid.format || {\n\t\t\tto: Math.round\n\t\t};\n\n\t\treturn scope_Target.appendChild(addMarking(\n\t\t\tspread,\n\t\t\tfilter,\n\t\t\tformat\n\t\t));\n\t}\n\n\n\t// Shorthand for base dimensions.\n\tfunction baseSize ( ) {\n\t\tvar rect = scope_Base.getBoundingClientRect(), alt = 'offset' + ['Width', 'Height'][options.ort];\n\t\treturn options.ort === 0 ? (rect.width||scope_Base[alt]) : (rect.height||scope_Base[alt]);\n\t}\n\n\t// External event handling\n\tfunction fireEvent ( event, handleNumber, tap ) {\n\n\t\tif ( handleNumber !== undefined && options.handles !== 1 ) {\n\t\t\thandleNumber = Math.abs(handleNumber - options.dir);\n\t\t}\n\n\t\tObject.keys(scope_Events).forEach(function( targetEvent ) {\n\n\t\t\tvar eventType = targetEvent.split('.')[0];\n\n\t\t\tif ( event === eventType ) {\n\t\t\t\tscope_Events[targetEvent].forEach(function( callback ) {\n\n\t\t\t\t\tcallback.call(\n\t\t\t\t\t\t// Use the slider public API as the scope ('this')\n\t\t\t\t\t\tscope_Self,\n\t\t\t\t\t\t// Return values as array, so arg_1[arg_2] is always valid.\n\t\t\t\t\t\tasArray(valueGet()),\n\t\t\t\t\t\t// Handle index, 0 or 1\n\t\t\t\t\t\thandleNumber,\n\t\t\t\t\t\t// Unformatted slider values\n\t\t\t\t\t\tasArray(inSliderOrder(Array.prototype.slice.call(scope_Values))),\n\t\t\t\t\t\t// Event is fired by tap, true or false\n\t\t\t\t\t\ttap || false,\n\t\t\t\t\t\t// Left offset of the handle, in relation to the slider\n\t\t\t\t\t\tscope_Locations\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t// Returns the input array, respecting the slider direction configuration.\n\tfunction inSliderOrder ( values ) {\n\n\t\t// If only one handle is used, return a single value.\n\t\tif ( values.length === 1 ){\n\t\t\treturn values[0];\n\t\t}\n\n\t\tif ( options.dir ) {\n\t\t\treturn values.reverse();\n\t\t}\n\n\t\treturn values;\n\t}\n\n\n\t// Handler for attaching events trough a proxy.\n\tfunction attach ( events, element, callback, data ) {\n\n\t\t// This function can be used to 'filter' events to the slider.\n\t\t// element is a node, not a nodeList\n\n\t\tvar method = function ( e ){\n\n\t\t\tif ( scope_Target.hasAttribute('disabled') ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Stop if an active 'tap' transition is taking place.\n\t\t\tif ( hasClass(scope_Target, cssClasses[14]) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\te = fixEvent(e, data.pageOffset);\n\n\t\t\t// Ignore right or middle clicks on start #454\n\t\t\tif ( events === actions.start && e.buttons !== undefined && e.buttons > 1 ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Ignore right or middle clicks on start #454\n\t\t\tif ( data.hover && e.buttons ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\te.calcPoint = e.points[ options.ort ];\n\n\t\t\t// Call the event handler with the event [ and additional data ].\n\t\t\tcallback ( e, data );\n\n\t\t}, methods = [];\n\n\t\t// Bind a closure on the target for every event type.\n\t\tevents.split(' ').forEach(function( eventName ){\n\t\t\telement.addEventListener(eventName, method, false);\n\t\t\tmethods.push([eventName, method]);\n\t\t});\n\n\t\treturn methods;\n\t}\n\n\t// Handle movement on document for handle and range drag.\n\tfunction move ( event, data ) {\n\n\t\t// Fix #498\n\t\t// Check value of .buttons in 'start' to work around a bug in IE10 mobile (data.buttonsProperty).\n\t\t// https://connect.microsoft.com/IE/feedback/details/927005/mobile-ie10-windows-phone-buttons-property-of-pointermove-event-always-zero\n\t\t// IE9 has .buttons and .which zero on mousemove.\n\t\t// Firefox breaks the spec MDN defines.\n\t\tif ( navigator.appVersion.indexOf(\"MSIE 9\") === -1 && event.buttons === 0 && data.buttonsProperty !== 0 ) {\n\t\t\treturn end(event, data);\n\t\t}\n\n\t\tvar handles = data.handles || scope_Handles, positions, state = false,\n\t\t\tproposal = ((event.calcPoint - data.start) * 100) / data.baseSize,\n\t\t\thandleNumber = handles[0] === scope_Handles[0] ? 0 : 1, i;\n\n\t\t// Calculate relative positions for the handles.\n\t\tpositions = getPositions( proposal, data.positions, handles.length > 1);\n\n\t\tstate = setHandle ( handles[0], positions[handleNumber], handles.length === 1 );\n\n\t\tif ( handles.length > 1 ) {\n\n\t\t\tstate = setHandle ( handles[1], positions[handleNumber?0:1], false ) || state;\n\n\t\t\tif ( state ) {\n\t\t\t\t// fire for both handles\n\t\t\t\tfor ( i = 0; i < data.handles.length; i++ ) {\n\t\t\t\t\tfireEvent('slide', i);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if ( state ) {\n\t\t\t// Fire for a single handle\n\t\t\tfireEvent('slide', handleNumber);\n\t\t}\n\t}\n\n\t// Unbind move events on document, call callbacks.\n\tfunction end ( event, data ) {\n\n\t\t// The handle is no longer active, so remove the class.\n\t\tvar active = scope_Base.querySelector( '.' + cssClasses[15] ),\n\t\t\thandleNumber = data.handles[0] === scope_Handles[0] ? 0 : 1;\n\n\t\tif ( active !== null ) {\n\t\t\tremoveClass(active, cssClasses[15]);\n\t\t}\n\n\t\t// Remove cursor styles and text-selection events bound to the body.\n\t\tif ( event.cursor ) {\n\t\t\tdocument.body.style.cursor = '';\n\t\t\tdocument.body.removeEventListener('selectstart', document.body.noUiListener);\n\t\t}\n\n\t\tvar d = document.documentElement;\n\n\t\t// Unbind the move and end events, which are added on 'start'.\n\t\td.noUiListeners.forEach(function( c ) {\n\t\t\td.removeEventListener(c[0], c[1]);\n\t\t});\n\n\t\t// Remove dragging class.\n\t\tremoveClass(scope_Target, cssClasses[12]);\n\n\t\t// Fire the change and set events.\n\t\tfireEvent('set', handleNumber);\n\t\tfireEvent('change', handleNumber);\n\n\t\t// If this is a standard handle movement, fire the end event.\n\t\tif ( data.handleNumber !== undefined ) {\n\t\t\tfireEvent('end', data.handleNumber);\n\t\t}\n\t}\n\n\t// Fire 'end' when a mouse or pen leaves the document.\n\tfunction documentLeave ( event, data ) {\n\t\tif ( event.type === \"mouseout\" && event.target.nodeName === \"HTML\" && event.relatedTarget === null ){\n\t\t\tend ( event, data );\n\t\t}\n\t}\n\n\t// Bind move events on document.\n\tfunction start ( event, data ) {\n\n\t\tvar d = document.documentElement;\n\n\t\t// Mark the handle as 'active' so it can be styled.\n\t\tif ( data.handles.length === 1 ) {\n\t\t\taddClass(data.handles[0].children[0], cssClasses[15]);\n\n\t\t\t// Support 'disabled' handles\n\t\t\tif ( data.handles[0].hasAttribute('disabled') ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// Fix #551, where a handle gets selected instead of dragged.\n\t\tevent.preventDefault();\n\n\t\t// A drag should never propagate up to the 'tap' event.\n\t\tevent.stopPropagation();\n\n\t\t// Attach the move and end events.\n\t\tvar moveEvent = attach(actions.move, d, move, {\n\t\t\tstart: event.calcPoint,\n\t\t\tbaseSize: baseSize(),\n\t\t\tpageOffset: event.pageOffset,\n\t\t\thandles: data.handles,\n\t\t\thandleNumber: data.handleNumber,\n\t\t\tbuttonsProperty: event.buttons,\n\t\t\tpositions: [\n\t\t\t\tscope_Locations[0],\n\t\t\t\tscope_Locations[scope_Handles.length - 1]\n\t\t\t]\n\t\t}), endEvent = attach(actions.end, d, end, {\n\t\t\thandles: data.handles,\n\t\t\thandleNumber: data.handleNumber\n\t\t});\n\n\t\tvar outEvent = attach(\"mouseout\", d, documentLeave, {\n\t\t\thandles: data.handles,\n\t\t\thandleNumber: data.handleNumber\n\t\t});\n\n\t\td.noUiListeners = moveEvent.concat(endEvent, outEvent);\n\n\t\t// Text selection isn't an issue on touch devices,\n\t\t// so adding cursor styles can be skipped.\n\t\tif ( event.cursor ) {\n\n\t\t\t// Prevent the 'I' cursor and extend the range-drag cursor.\n\t\t\tdocument.body.style.cursor = getComputedStyle(event.target).cursor;\n\n\t\t\t// Mark the target with a dragging state.\n\t\t\tif ( scope_Handles.length > 1 ) {\n\t\t\t\taddClass(scope_Target, cssClasses[12]);\n\t\t\t}\n\n\t\t\tvar f = function(){\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tdocument.body.noUiListener = f;\n\n\t\t\t// Prevent text selection when dragging the handles.\n\t\t\tdocument.body.addEventListener('selectstart', f, false);\n\t\t}\n\n\t\tif ( data.handleNumber !== undefined ) {\n\t\t\tfireEvent('start', data.handleNumber);\n\t\t}\n\t}\n\n\t// Move closest handle to tapped location.\n\tfunction tap ( event ) {\n\n\t\tvar location = event.calcPoint, total = 0, handleNumber, to;\n\n\t\t// The tap event shouldn't propagate up and cause 'edge' to run.\n\t\tevent.stopPropagation();\n\n\t\t// Add up the handle offsets.\n\t\tscope_Handles.forEach(function(a){\n\t\t\ttotal += offset(a)[ options.style ];\n\t\t});\n\n\t\t// Find the handle closest to the tapped position.\n\t\thandleNumber = ( location < total/2 || scope_Handles.length === 1 ) ? 0 : 1;\n\t\t\n\t\t// Check if handler is not disablet if yes set number to the next handler\n\t\tif (scope_Handles[handleNumber].hasAttribute('disabled')) {\n\t\t\thandleNumber = handleNumber ? 0 : 1;\n\t\t}\n\n\t\tlocation -= offset(scope_Base)[ options.style ];\n\n\t\t// Calculate the new position.\n\t\tto = ( location * 100 ) / baseSize();\n\n\t\tif ( !options.events.snap ) {\n\t\t\t// Flag the slider as it is now in a transitional state.\n\t\t\t// Transition takes 300 ms, so re-enable the slider afterwards.\n\t\t\taddClassFor( scope_Target, cssClasses[14], 300 );\n\t\t}\n\n\t\t// Support 'disabled' handles\n\t\tif ( scope_Handles[handleNumber].hasAttribute('disabled') ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Find the closest handle and calculate the tapped point.\n\t\t// The set handle to the new position.\n\t\tsetHandle( scope_Handles[handleNumber], to );\n\n\t\tfireEvent('slide', handleNumber, true);\n\t\tfireEvent('set', handleNumber, true);\n\t\tfireEvent('change', handleNumber, true);\n\n\t\tif ( options.events.snap ) {\n\t\t\tstart(event, { handles: [scope_Handles[handleNumber]] });\n\t\t}\n\t}\n\n\t// Fires a 'hover' event for a hovered mouse/pen position.\n\tfunction hover ( event ) {\n\n\t\tvar location = event.calcPoint - offset(scope_Base)[ options.style ],\n\t\t\tto = scope_Spectrum.getStep(( location * 100 ) / baseSize()),\n\t\t\tvalue = scope_Spectrum.fromStepping( to );\n\n\t\tObject.keys(scope_Events).forEach(function( targetEvent ) {\n\t\t\tif ( 'hover' === targetEvent.split('.')[0] ) {\n\t\t\t\tscope_Events[targetEvent].forEach(function( callback ) {\n\t\t\t\t\tcallback.call( scope_Self, value );\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t// Attach events to several slider parts.\n\tfunction events ( behaviour ) {\n\n\t\tvar i, drag;\n\n\t\t// Attach the standard drag event to the handles.\n\t\tif ( !behaviour.fixed ) {\n\n\t\t\tfor ( i = 0; i < scope_Handles.length; i += 1 ) {\n\n\t\t\t\t// These events are only bound to the visual handle\n\t\t\t\t// element, not the 'real' origin element.\n\t\t\t\tattach ( actions.start, scope_Handles[i].children[0], start, {\n\t\t\t\t\thandles: [ scope_Handles[i] ],\n\t\t\t\t\thandleNumber: i\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Attach the tap event to the slider base.\n\t\tif ( behaviour.tap ) {\n\n\t\t\tattach ( actions.start, scope_Base, tap, {\n\t\t\t\thandles: scope_Handles\n\t\t\t});\n\t\t}\n\n\t\t// Fire hover events\n\t\tif ( behaviour.hover ) {\n\t\t\tattach ( actions.move, scope_Base, hover, { hover: true } );\n\t\t\tfor ( i = 0; i < scope_Handles.length; i += 1 ) {\n\t\t\t\t['mousemove MSPointerMove pointermove'].forEach(function( eventName ){\n\t\t\t\t\tscope_Handles[i].children[0].addEventListener(eventName, stopPropagation, false);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Make the range draggable.\n\t\tif ( behaviour.drag ){\n\n\t\t\tdrag = [scope_Base.querySelector( '.' + cssClasses[7] )];\n\t\t\taddClass(drag[0], cssClasses[10]);\n\n\t\t\t// When the range is fixed, the entire range can\n\t\t\t// be dragged by the handles. The handle in the first\n\t\t\t// origin will propagate the start event upward,\n\t\t\t// but it needs to be bound manually on the other.\n\t\t\tif ( behaviour.fixed ) {\n\t\t\t\tdrag.push(scope_Handles[(drag[0] === scope_Handles[0] ? 1 : 0)].children[0]);\n\t\t\t}\n\n\t\t\tdrag.forEach(function( element ) {\n\t\t\t\tattach ( actions.start, element, start, {\n\t\t\t\t\thandles: scope_Handles\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\n\t// Test suggested values and apply margin, step.\n\tfunction setHandle ( handle, to, noLimitOption ) {\n\n\t\tvar trigger = handle !== scope_Handles[0] ? 1 : 0,\n\t\t\tlowerMargin = scope_Locations[0] + options.margin,\n\t\t\tupperMargin = scope_Locations[1] - options.margin,\n\t\t\tlowerLimit = scope_Locations[0] + options.limit,\n\t\t\tupperLimit = scope_Locations[1] - options.limit;\n\n\t\t// For sliders with multiple handles,\n\t\t// limit movement to the other handle.\n\t\t// Apply the margin option by adding it to the handle positions.\n\t\tif ( scope_Handles.length > 1 ) {\n\t\t\tto = trigger ? Math.max( to, lowerMargin ) : Math.min( to, upperMargin );\n\t\t}\n\n\t\t// The limit option has the opposite effect, limiting handles to a\n\t\t// maximum distance from another. Limit must be > 0, as otherwise\n\t\t// handles would be unmoveable. 'noLimitOption' is set to 'false'\n\t\t// for the .val() method, except for pass 4/4.\n\t\tif ( noLimitOption !== false && options.limit && scope_Handles.length > 1 ) {\n\t\t\tto = trigger ? Math.min ( to, lowerLimit ) : Math.max( to, upperLimit );\n\t\t}\n\n\t\t// Handle the step option.\n\t\tto = scope_Spectrum.getStep( to );\n\n\t\t// Limit to 0/100 for .val input, trim anything beyond 7 digits, as\n\t\t// JavaScript has some issues in its floating point implementation.\n\t\tto = limit(parseFloat(to.toFixed(7)));\n\n\t\t// Return false if handle can't move\n\t\tif ( to === scope_Locations[trigger] ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Set the handle to the new position.\n\t\t// Use requestAnimationFrame for efficient painting.\n\t\t// No significant effect in Chrome, Edge sees dramatic\n\t\t// performace improvements.\n\t\tif ( window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame(function(){\n\t\t\t\thandle.style[options.style] = to + '%';\n\t\t\t});\n\t\t} else {\n\t\t\thandle.style[options.style] = to + '%';\n\t\t}\n\n\t\t// Force proper handle stacking\n\t\tif ( !handle.previousSibling ) {\n\t\t\tremoveClass(handle, cssClasses[17]);\n\t\t\tif ( to > 50 ) {\n\t\t\t\taddClass(handle, cssClasses[17]);\n\t\t\t}\n\t\t}\n\n\t\t// Update locations.\n\t\tscope_Locations[trigger] = to;\n\n\t\t// Convert the value to the slider stepping/range.\n\t\tscope_Values[trigger] = scope_Spectrum.fromStepping( to );\n\n\t\tfireEvent('update', trigger);\n\n\t\treturn true;\n\t}\n\n\t// Loop values from value method and apply them.\n\tfunction setValues ( count, values ) {\n\n\t\tvar i, trigger, to;\n\n\t\t// With the limit option, we'll need another limiting pass.\n\t\tif ( options.limit ) {\n\t\t\tcount += 1;\n\t\t}\n\n\t\t// If there are multiple handles to be set run the setting\n\t\t// mechanism twice for the first handle, to make sure it\n\t\t// can be bounced of the second one properly.\n\t\tfor ( i = 0; i < count; i += 1 ) {\n\n\t\t\ttrigger = i%2;\n\n\t\t\t// Get the current argument from the array.\n\t\t\tto = values[trigger];\n\n\t\t\t// Setting with null indicates an 'ignore'.\n\t\t\t// Inputting 'false' is invalid.\n\t\t\tif ( to !== null && to !== false ) {\n\n\t\t\t\t// If a formatted number was passed, attemt to decode it.\n\t\t\t\tif ( typeof to === 'number' ) {\n\t\t\t\t\tto = String(to);\n\t\t\t\t}\n\n\t\t\t\tto = options.format.from( to );\n\n\t\t\t\t// Request an update for all links if the value was invalid.\n\t\t\t\t// Do so too if setting the handle fails.\n\t\t\t\tif ( to === false || isNaN(to) || setHandle( scope_Handles[trigger], scope_Spectrum.toStepping( to ), i === (3 - options.dir) ) === false ) {\n\t\t\t\t\tfireEvent('update', trigger);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the slider value.\n\tfunction valueSet ( input ) {\n\n\t\tvar count, values = asArray( input ), i;\n\n\t\t// The RTL settings is implemented by reversing the front-end,\n\t\t// internal mechanisms are the same.\n\t\tif ( options.dir && options.handles > 1 ) {\n\t\t\tvalues.reverse();\n\t\t}\n\n\t\t// Animation is optional.\n\t\t// Make sure the initial values where set before using animated placement.\n\t\tif ( options.animate && scope_Locations[0] !== -1 ) {\n\t\t\taddClassFor( scope_Target, cssClasses[14], 300 );\n\t\t}\n\n\t\t// Determine how often to set the handles.\n\t\tcount = scope_Handles.length > 1 ? 3 : 1;\n\n\t\tif ( values.length === 1 ) {\n\t\t\tcount = 1;\n\t\t}\n\n\t\tsetValues ( count, values );\n\n\t\t// Fire the 'set' event for both handles.\n\t\tfor ( i = 0; i < scope_Handles.length; i++ ) {\n\n\t\t\t// Fire the event only for handles that received a new value, as per #579\n\t\t\tif ( values[i] !== null ) {\n\t\t\t\tfireEvent('set', i);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Get the slider value.\n\tfunction valueGet ( ) {\n\n\t\tvar i, retour = [];\n\n\t\t// Get the value from all handles.\n\t\tfor ( i = 0; i < options.handles; i += 1 ){\n\t\t\tretour[i] = options.format.to( scope_Values[i] );\n\t\t}\n\n\t\treturn inSliderOrder( retour );\n\t}\n\n\t// Removes classes from the root and empties it.\n\tfunction destroy ( ) {\n\n\t\tcssClasses.forEach(function(cls){\n\t\t\tif ( !cls ) { return; } // Ignore empty classes\n\t\t\tremoveClass(scope_Target, cls);\n\t\t});\n\n\t\twhile (scope_Target.firstChild) {\n\t\t\tscope_Target.removeChild(scope_Target.firstChild);\n\t\t}\n\n\t\tdelete scope_Target.noUiSlider;\n\t}\n\n\t// Get the current step size for the slider.\n\tfunction getCurrentStep ( ) {\n\n\t\t// Check all locations, map them to their stepping point.\n\t\t// Get the step point, then find it in the input list.\n\t\tvar retour = scope_Locations.map(function( location, index ){\n\n\t\t\tvar step = scope_Spectrum.getApplicableStep( location ),\n\n\t\t\t\t// As per #391, the comparison for the decrement step can have some rounding issues.\n\t\t\t\t// Round the value to the precision used in the step.\n\t\t\t\tstepDecimals = countDecimals(String(step[2])),\n\n\t\t\t\t// Get the current numeric value\n\t\t\t\tvalue = scope_Values[index],\n\n\t\t\t\t// To move the slider 'one step up', the current step value needs to be added.\n\t\t\t\t// Use null if we are at the maximum slider value.\n\t\t\t\tincrement = location === 100 ? null : step[2],\n\n\t\t\t\t// Going 'one step down' might put the slider in a different sub-range, so we\n\t\t\t\t// need to switch between the current or the previous step.\n\t\t\t\tprev = Number((value - step[2]).toFixed(stepDecimals)),\n\n\t\t\t\t// If the value fits the step, return the current step value. Otherwise, use the\n\t\t\t\t// previous step. Return null if the slider is at its minimum value.\n\t\t\t\tdecrement = location === 0 ? null : (prev >= step[1]) ? step[2] : (step[0] || false);\n\n\t\t\treturn [decrement, increment];\n\t\t});\n\n\t\t// Return values in the proper order.\n\t\treturn inSliderOrder( retour );\n\t}\n\n\t// Attach an event to this slider, possibly including a namespace\n\tfunction bindEvent ( namespacedEvent, callback ) {\n\t\tscope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [];\n\t\tscope_Events[namespacedEvent].push(callback);\n\n\t\t// If the event bound is 'update,' fire it immediately for all handles.\n\t\tif ( namespacedEvent.split('.')[0] === 'update' ) {\n\t\t\tscope_Handles.forEach(function(a, index){\n\t\t\t\tfireEvent('update', index);\n\t\t\t});\n\t\t}\n\t}\n\n\t// Undo attachment of event\n\tfunction removeEvent ( namespacedEvent ) {\n\n\t\tvar event = namespacedEvent.split('.')[0],\n\t\t\tnamespace = namespacedEvent.substring(event.length);\n\n\t\tObject.keys(scope_Events).forEach(function( bind ){\n\n\t\t\tvar tEvent = bind.split('.')[0],\n\t\t\t\ttNamespace = bind.substring(tEvent.length);\n\n\t\t\tif ( (!event || event === tEvent) && (!namespace || namespace === tNamespace) ) {\n\t\t\t\tdelete scope_Events[bind];\n\t\t\t}\n\t\t});\n\t}\n\n\t// Updateable: margin, limit, step, range, animate, snap\n\tfunction updateOptions ( optionsToUpdate ) {\n\n\t\tvar v = valueGet(), i, newOptions = testOptions({\n\t\t\tstart: [0, 0],\n\t\t\tmargin: optionsToUpdate.margin,\n\t\t\tlimit: optionsToUpdate.limit,\n\t\t\tstep: optionsToUpdate.step,\n\t\t\trange: optionsToUpdate.range,\n\t\t\tanimate: optionsToUpdate.animate,\n\t\t\tsnap: optionsToUpdate.snap === undefined ? options.snap : optionsToUpdate.snap\n\t\t});\n\n\t\t['margin', 'limit', 'step', 'range', 'animate'].forEach(function(name){\n\t\t\tif ( optionsToUpdate[name] !== undefined ) {\n\t\t\t\toptions[name] = optionsToUpdate[name];\n\t\t\t}\n\t\t});\n\n\t\t// Save current spectrum direction as testOptions in testRange call\n\t\t// doesn't rely on current direction\n\t\tnewOptions.spectrum.direction = scope_Spectrum.direction;\n\t\tscope_Spectrum = newOptions.spectrum;\n\n\t\t// Invalidate the current positioning so valueSet forces an update.\n\t\tscope_Locations = [-1, -1];\n\t\tvalueSet(v);\n\n\t\tfor ( i = 0; i < scope_Handles.length; i++ ) {\n\t\t\tfireEvent('update', i);\n\t\t}\n\t}\n\n\n\t// Throw an error if the slider was already initialized.\n\tif ( scope_Target.noUiSlider ) {\n\t\tthrow new Error('Slider was already initialized.');\n\t}\n\n\t// Create the base element, initialise HTML and set classes.\n\t// Add handles and links.\n\tscope_Base = addSlider( options.dir, options.ort, scope_Target );\n\tscope_Handles = addHandles( options.handles, options.dir, scope_Base );\n\n\t// Set the connect classes.\n\taddConnection ( options.connect, scope_Target, scope_Handles );\n\n\tif ( options.pips ) {\n\t\tpips(options.pips);\n\t}\n\n\tif ( options.tooltips ) {\n\t\ttooltips();\n\t}\n\n\tscope_Self = {\n\t\tdestroy: destroy,\n\t\tsteps: getCurrentStep,\n\t\ton: bindEvent,\n\t\toff: removeEvent,\n\t\tget: valueGet,\n\t\tset: valueSet,\n\t\tupdateOptions: updateOptions,\n\t\toptions: options, // Issue #600\n\t\ttarget: scope_Target, // Issue #597\n\t\tpips: pips // Issue #594\n\t};\n\n\t// Attach user events.\n\tevents( options.events );\n\n\treturn scope_Self;\n\n}\n\n\n\t// Run the standard initializer\n\tfunction initialize ( target, originalOptions ) {\n\n\t\tif ( !target.nodeName ) {\n\t\t\tthrow new Error('noUiSlider.create requires a single element.');\n\t\t}\n\n\t\t// Test the options and create the slider environment;\n\t\tvar options = testOptions( originalOptions, target ),\n\t\t\tslider = closure( target, options );\n\n\t\t// Use the public value method to set the start values.\n\t\tslider.set(options.start);\n\n\t\ttarget.noUiSlider = slider;\n\t\treturn slider;\n\t}\n\n\t// Use an object instead of a function for future expansibility;\n\treturn {\n\t\tcreate: initialize\n\t};\n\n}));","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nmodule.exports = function() {\n  /*@ngInject*/\n  function controller($scope, $element, Debounce) {\n    var vm = this;\n\n    vm.gradeSystem = $scope.gradeSystem;\n    vm.savingMethod = $scope.savingMethod;\n    vm.assignment = $scope.assignment;\n    vm.counterGrades = vm.assignment.counter_grades;\n\n    if ($element.data('disabled')) {\n      vm.counterReadonly = true;\n    }\n\n    /**\n     * Init function\n     */\n    vm.init = function() {\n      vm.counterGrades.forEach(function(elem) {\n        if (elem.points === null) { elem.points = '-'; }\n      });\n    };\n\n    /**\n     * Parse input value - if it's not integer set value to dash\n     * @param {Number} index\n     */\n    vm.parseInput = function(index) {\n      if (vm.isOnlyNumber(index)) {\n        vm.counterGrades[index].points = parseInt(vm.counterGrades[index].points);\n      } else {\n        vm.counterGrades[index].points = '-';\n      }\n    };\n\n    /**\n     * Check if input value contains only number\n     * @param {Number} index\n     * @return {Boolean}\n     */\n    vm.isOnlyNumber = function(index) {\n      var validTest = /^[0-9]{1,10}$/;\n\n      return validTest.test(vm.counterGrades[index].points);\n    };\n\n    /**\n     * Check if value is valid (bigger than zero and lower than max)\n     * @param {Number} index\n     * @param {String} direction\n     * @return {Boolean} valid\n     */\n    vm.validation = function(index, direction) {\n      var valid = true;\n\n      switch (direction) {\n        case 'up':\n          if (vm.counterGrades[index].points >= vm.counterGrades[index].max) { valid = false; }\n          break;\n        case 'down':\n          if (vm.counterGrades[index].points === '-') { valid = false; }\n          break;\n        case 'direct':\n          if (vm.counterGrades[index].points >= vm.counterGrades[index].max) { vm.counterGrades[index].points = vm.counterGrades[index].max; }\n          if (vm.counterGrades[index].points <= 0) { vm.counterGrades[index].points = 0; }\n          break;\n      }\n\n      return valid;\n    };\n\n    /**\n     * Handle increase counter value\n     * @param {Number} index\n     */\n    vm.increase = function(index) {\n      if (!vm.validation(index, 'up')) {\n        return;\n      }\n\n      if (vm.counterGrades[index].points === '-') {\n        vm.counterGrades[index].points = 0;\n      } else {\n        vm.counterGrades[index].points = parseInt(vm.counterGrades[index].points) + 1;\n      }\n\n      vm.sendToAPI();\n    };\n\n    /**\n     * Handle decrease counter value\n     * @param {Number} index\n     */\n    vm.decrease = function(index) {\n      if (!vm.validation(index, 'down')) {\n        return;\n      }\n\n      if (vm.counterGrades[index].points === 0) {\n        vm.counterGrades[index].points = '-';\n      } else {\n        vm.counterGrades[index].points = parseInt(vm.counterGrades[index].points) - 1;\n      }\n\n      vm.sendToAPI();\n    };\n\n    /**\n     * Handle direct value change\n     * @param {Number} index\n     */\n    vm.directChange = function(index) {\n      vm.parseInput(index);\n      vm.validation(index, 'direct');\n\n      vm.sendToAPI();\n    };\n\n    /**\n     * Handle click on input\n     * @param {Number} index\n     */\n    vm.selectInput = function($event) {\n      if (vm.counterReadonly) {\n        return;\n      }\n\n      $event.currentTarget.select();\n    };\n\n    /**\n     * Send information to the API\n     */\n    vm.sendToAPI = Debounce(function() {\n      if (vm.counterReadonly) {\n        return;\n      }\n\n      vm.savingMethod([vm.assignment]);\n    }, 500);\n\n    vm.init();\n  }\n\n  return {\n    restrict: 'E',\n    scope: {\n      assignment: '=',\n      gradeSystem: '=',\n      savingMethod: '='\n    },\n    templateUrl: 'utils/views/counters.html',\n    controller: controller,\n    controllerAs: 'vm'\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nmodule.exports = function() {\n  /*@ngInject*/\n  function controller($scope, $mdBottomSheet, FetchData, Helpers) {\n    $scope.$watch('trigger', function() {\n      if ($scope.trigger === undefined) {\n        return;\n      }\n\n      FetchData.getSingleObjectiveRequirements($scope.objectiveId).then(function(res) {\n        $mdBottomSheet.show({\n          parent: angular.element(document.querySelectorAll('[md-component-id=\"studybee\"]')),\n          templateUrl: 'utils/views/knowledge_requirements.html',\n          controller: function() {\n            var vm = this;\n\n            /**\n             * Get data from API\n             */\n            vm.objective = res;\n\n            vm.knowledgeRequirementGrade = Helpers.findFirstPositiveGrade(vm.objective.grade_system);\n\n            /**\n             * Show grade requirements\n             */\n            vm.showGradeRequirements = function() {\n              vm.activeRequirement = {};\n\n              vm.activeRequirement = vm.objective.knowledge_requirements.find(function(req) {\n                  return req.grade_name === vm.knowledgeRequirementGrade;\n              });\n            };\n\n            /**\n             * Close knowledge requirements sheet\n             */\n            vm.close = function() {\n              $mdBottomSheet.hide();\n            };\n\n            /**\n             * Set vm.activeRequirement at knowledge requirements show\n             */\n            vm.showGradeRequirements();\n          },\n          controllerAs: 'vm'\n        });\n      });\n    });\n  }\n\n  return {\n    restrict: 'E',\n    controller: controller,\n    scope: {\n      trigger: '=',\n      objectiveId: '='\n    }\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/*@ngInject*/\nmodule.exports = function($timeout) {\n  function link(scope, element, attr) {\n    var config = [];\n    var throttle = false;\n\n    scope.initConfig = function() {\n      $timeout(function() {\n        scope.getConfig();\n      });\n    };\n\n    scope.getConfig = function() {\n      config = [];\n\n      var startOffset = element\n        .find('.sb-section-offset')\n        .outerHeight();\n\n      if (!startOffset) { startOffset = 0; }\n\n      var sections = element\n        .find('.sb-section-header')\n        .parent()\n        .toArray();\n\n      sections.forEach(function(el, i) {\n        var sectionHeight = $(el).outerHeight();\n        var sectionStart;\n        var sectionEnd;\n\n        var subheader = $(el).find('.sb-section-header');\n        var subheaderHeight = subheader.outerHeight();\n\n        if (i !== 0) {\n          sectionStart = config[config.length - 1].sectionEnd + config[config.length - 1].subheaderHeight;\n        } else {\n          sectionStart = startOffset;\n        }\n\n        sectionEnd = sectionStart + sectionHeight - subheaderHeight;\n\n        config.push({\n          'subheader': subheader,\n          'subheaderHeight': subheaderHeight,\n          'sectionStart': sectionStart,\n          'sectionEnd': sectionEnd,\n          'maxTransform': sectionEnd - sectionStart\n        });\n      });\n    };\n\n    element.on('scroll', function() {\n      if (!throttle) {\n        scope.getConfig();\n\n        throttle = true;\n\n        $timeout(function() {\n          throttle = false;\n        }, 1000);\n      }\n\n      var scrollTop = $(element).scrollTop();\n\n      config.forEach(function(el, i) {\n        var transformDistance = scrollTop - el.sectionStart;\n\n        if (scrollTop > el.sectionStart && scrollTop < el.sectionEnd) {\n          $(el.subheader)\n            .css({\n              'transform': 'translate3d(0px, ' + transformDistance + 'px, 0px)'\n            })\n            .addClass('md-whiteframe-1dp');\n        } else if (scrollTop <= el.sectionStart) {\n          $(el.subheader)\n            .css({\n              'transform': 'translate3d(0px, 0px, 0px)'\n            })\n            .removeClass('md-whiteframe-1dp');\n        } else if (scrollTop >= el.sectionEnd) {\n          $(el.subheader)\n            .css({\n              'transform': 'translate3d(0px, ' + el.maxTransform + 'px, 0px)'\n            })\n            .removeClass('md-whiteframe-1dp');\n        }\n      });\n    });\n  }\n\n  return {\n    restrict: 'A',\n    link: link\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/*@ngInject*/\nmodule.exports = () => {\n  'ngInject';\n\n  function link() {\n    const allowedTags = ['p', 'div'];\n\n    const backwardCompatibility = (element) => {\n      const $prevElement = $(element).prev();\n\n      return $prevElement.length && allowedTags.includes($prevElement[0].localName) ? $prevElement : $('<div>');\n    };\n\n    const getLastModifyTag = (element) => {\n      const $lastModifyTag = $(element)\n        .closest('.last-modify-parent')\n        .find('.last-modify-tag');\n\n      return $lastModifyTag.length ? $lastModifyTag : backwardCompatibility(element);\n    };\n\n    $(document).on('mouseenter', '.last-modified-trigger', (e) => {\n      getLastModifyTag(e.currentTarget).addClass('visible-date');\n    });\n\n    $(document).on('mouseleave', '.last-modified-trigger', (e) => {\n      getLastModifyTag(e.currentTarget).removeClass('visible-date');\n    });\n  }\n\n  return {\n    restrict: 'A',\n    link,\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module StudybeeHandle/Directive\n */\n\nmodule.exports = function() {\n  /*@ngInject*/\n  function controller($rootScope, $element, $mdSidenav, StudybeeHandle) {\n    StudybeeHandle.setBeforeCloseCallback(function() {\n      $element.removeClass('studybee-handle-opened-show');\n    });\n\n    StudybeeHandle.setInProgressCloseCallback(function() {\n      $element.removeClass('studybee-handle-opened');\n    });\n\n    StudybeeHandle.setAfterCloseCallback(function() {\n      $element.addClass('studybee-handle-closed studybee-handle-closed-show');\n    });\n\n    StudybeeHandle.setBeforeOpenCallback(function() {\n      $element.removeClass('studybee-handle-closed-show');\n    });\n\n    StudybeeHandle.setInProgressOpenCallback(function() {\n      $element.removeClass('studybee-handle-closed');\n    });\n\n    StudybeeHandle.setAfterOpenCallback(function() {\n      $element.addClass('studybee-handle-opened studybee-handle-opened-show');\n    });\n\n    StudybeeHandle.setDisableCallback(function() {\n      $element.addClass('studybee-handle-disabled');\n    });\n\n    StudybeeHandle.setEnableCallback(function() {\n      $element.removeClass('studybee-handle-disabled');\n    });\n\n    this.toggleStudybee = () => {\n      // can't assign it due to change context\n      StudybeeHandle.studybeeToggle();\n\n      // if (!!$mdSidenav('studybee-menu').isOpen()) {\n      //   $rootScope.toggleMenu();\n      // }\n    };\n  }\n\n  return {\n    scope: true,\n    restrict: 'E',\n    controller: controller,\n    controllerAs: 'vm'\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/*@ngInject*/\nmodule.exports = function($timeout, Debounce, NavigationHistory) {\n  function link(scope, element) {\n    let currentParams = NavigationHistory.getCurrentParams();\n\n    if(currentParams.scrollPosition) {\n      $timeout(() => {\n        element.scrollTop(currentParams.scrollPosition);\n      });\n    }\n\n    element.on('scroll', Debounce((e) => {\n      NavigationHistory.updateParams({\n        scrollPosition: element.scrollTop()\n      });\n    }, 100));\n  }\n\n  return {\n    restrict: 'A',\n    link\n  };\n};\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Assignments/Service\n * @description\n *   Keeps a list of assignments\n */\n\n/*@ngInject*/\nfunction Assignments() {\n  let assignments = [];\n  return {\n    /**\n     * Update assignments list.\n     * @param {Array} updatedAssignments Updates assignments array.\n     * @memberof module:Assignments/Service\n     */\n    updateAssignmentsList(updatedAssignments) {\n      assignments = updatedAssignments;\n    },\n\n    getAssignmentByAlternateLink(alternateLinkId) {\n      return assignments.find(assignment => assignment.alternate_link_id === alternateLinkId);\n    },\n  };\n}\n\nmodule.exports = Assignments;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Config/Service\n * @description\n *   Keep configuration for application.\n */\n\n/*@ngInject*/\nimport {map} from 'rxjs/operators';\nimport {environment} from \"../../../../../src/environments/environment\";\n\nfunction Config(EnvironmentService) {\n  'ngInject';\n\n  function updateIsRunning($q, Updates) {\n    const deferred = $q.defer();\n\n    const interval = setInterval(() => {\n      if (\n        !Updates.updateAssignmentsLoading &&\n        !Updates.updateStudentsLoading &&\n        !Updates.updateFilesLoading\n      ) {\n        clearInterval(interval);\n        deferred.resolve();\n      }\n    }, 100);\n\n    return deferred.promise;\n  }\n\n\n  return {\n    get apiUrl() {\n      return EnvironmentService.API;\n    },\n    get mixpanelApiUrl() {\n      return environment.urls.mixPanel;\n    },\n    extensionUrl: `chrome-extension://${chrome.i18n.getMessage('@@extension_id')}/`,\n    extensionId: chrome.i18n.getMessage('@@extension_id'),\n    routes: [\n      {\n        // Teacher Assess Assignment\n        // Location in the Classroom on the Student Work page (teacher)\n        name: 'teacher_assess_assignment',\n        role: 'teacher',\n        templateUrl: 'assignments/teacherAssessAssignment/views/main.html',\n        themeClass: 'sb-theme-green',\n        ctrl: 'teacherAssessAssignment.MainCtrl',\n        controllerAs: 'vm',\n        params: {\n          isModal: null,\n          editingMode: null,\n          openedStudents: [],\n          courseDefinitionId: {\n            value: null,\n            dynamic: true,\n          },\n          assignment: null,\n        },\n        resolve: {\n          assignments: (AssignmentsService) => {\n            'ngInject';\n\n            return new Promise(resolve => {\n              AssignmentsService.get().subscribe(resolve);\n            });\n          },\n          assignment($stateParams, Assignments, Path, FetchData, AssignmentsQuery, assignments, AssignmentsStore, AssessmentsQuery) {\n            'ngInject';\n\n            const assignment = $stateParams.assignment;\n            const resolver = assignment ?\n              Promise.resolve(AssignmentsQuery.getEntity(assignment.id)) :\n              FetchData.v2.getAssignmentByAlternateLink(Path.getAssignmentAlternateLinkId())\n                .then(assignment => AssignmentsQuery.getEntity(assignment.id));\n\n\n            return resolver.then(assignment => {\n              AssignmentsStore.setActive(assignment.id);\n              return new Promise(resolve => {\n                AssessmentsQuery.selectMany(assignment.assessments).pipe(\n                  map(assessments => ({\n                    ...assignment,\n                    assessments,\n                  }))\n                ).subscribe(resolve);\n              });\n            })\n          },\n\n          assignmentsObjectives($q, $state, Path, FetchData, MainMenu, assignment) {\n            'ngInject';\n\n            const assignmentId = assignment.id;\n            const courseId = Path.getClassroomId();\n\n            return FetchData.v3.fetchAssignmentAssessments(courseId, assignmentId)\n              .then(response => {\n                const courseDefinition = response.course_definitions\n                  .find(courseDefinition => courseDefinition.objectives.length);\n\n                return courseDefinition ? response : {...response, course_definitions: []};\n              })\n              .catch(() => {\n                MainMenu.saveAssignmentDetails(null);\n                return $q.reject();\n              });\n          },\n          assignmentsStudents($q, Path, FetchData, MainMenu, assignment) {\n            'ngInject';\n\n            const assignmentId = assignment.id;\n            const courseId = Path.getClassroomId();\n            return FetchData.getAssignmentsStudents(\n              assignmentId, courseId,\n            ).catch(() => {\n              MainMenu.saveAssignmentDetails(null);\n              return $q.reject();\n            });\n          },\n          updateIsRunning($q, Updates) {\n            'ngInject';\n\n            return updateIsRunning($q, Updates);\n          },\n        },\n      },\n      {\n        // Teacher Assess Assignment Student\n        // Location in the Classroom on Student Work page on overlay (teacher)\n        name: 'teacher_assess_assignment_student',\n        role: 'teacher',\n        templateUrl: 'assignments/teacherAssessAssignmentStudent/views/main.html',\n        themeClass: 'sb-theme-green',\n        ctrl: 'teacherAssessAssignmentStudent.MainCtrl',\n        controllerAs: 'vm',\n        params: {\n          studentId: null,\n          studentName: null,\n          courseDefinitionId: {\n            value: null,\n            dynamic: true,\n          },\n          editingMode: null,\n          assignment: null,\n        },\n        resolve: {\n          assignments: (AssignmentsService) => {\n            'ngInject';\n\n            return new Promise(resolve => {\n              AssignmentsService.get().subscribe(resolve);\n            });\n          },\n          assignment($stateParams, Assignments, Path, FetchData, AssignmentsQuery, assignments, AssignmentsStore, AssessmentsQuery) {\n            'ngInject';\n\n            const assignment = $stateParams.assignment;\n            const resolver = assignment ?\n              Promise.resolve(AssignmentsQuery.getEntity(assignment.id)) :\n              FetchData.v2.getAssignmentByAlternateLink(Path.getAssignmentAlternateLinkId())\n                .then(assignment => AssignmentsQuery.getEntity(assignment.id));\n\n\n            return resolver.then(assignment => {\n              AssignmentsStore.setActive(assignment.id);\n\n              return new Promise(resolve => {\n                AssessmentsQuery.selectMany(assignment.assessments).pipe(\n                  map(assessments => ({\n                    ...assignment,\n                    assessments,\n                  }))\n                ).subscribe(resolve);\n              });\n            });\n          },\n          assignmentsObjectives($q, Path, FetchData, MainMenu, assignment) {\n            'ngInject';\n\n            const courseId = Path.getClassroomId();\n            return FetchData.v3.fetchAssignmentAssessments(courseId, assignment.id)\n              .catch(() => {\n                MainMenu.saveAssignmentDetails(null);\n                MainMenu.saveStudentDetails(null);\n                return $q.reject();\n              });\n          },\n          updateIsRunning($q, Updates) {\n            'ngInject';\n\n            return updateIsRunning($q, Updates);\n          },\n        },\n      },\n      {\n        // Teacher Google Drive\n        // Location in the Drive on file preview (teacher)\n        name: 'teacher_google_drive',\n        role: 'teacher',\n        templateUrl: 'assignments/teacherAssessAssignmentDrive/views/main.html',\n        themeClass: 'sb-theme-green',\n        ctrl: 'teacherAssessAssignmentDrive.MainCtrl',\n        controllerAs: 'vm',\n        params: {\n          assignmentId: null,\n          editingMode: null,\n          courseDefinitionId: {\n            value: null,\n            dynamic: true,\n          },\n        },\n        resolve: {\n          courseId(Path, Courses, AssignmentsService) {\n            'ngInject';\n\n            let resolve;\n\n            if (Courses.list.length) {\n              resolve = Promise.resolve(Courses.list[0].id);\n            } else {\n              const alternateLinkId = Path.getAssignmentAlternateLinkId(true);\n\n              resolve = Path.getFileId(5)\n                .then(fileId => Courses.getCourseUsingDriveId(fileId, alternateLinkId))\n                .then(course => course.id)\n            }\n\n            return resolve.then(courseID => new Promise(resolve =>\n                AssignmentsService.get().subscribe(() => resolve(courseID)),\n              ),\n            );\n          },\n          studentAssignments($state, Path, FetchData, courseId, AssignmentsStore) {\n            'ngInject';\n\n            const assessmentId = Path.getAssignmentAlternateLinkId(true);\n            return Path.getFileId(5)\n              .then(fileId => FetchData.getAssessmentDrive(fileId, assessmentId))\n              .then(response => {\n                const gradeSystem = response.find(item => item.grade_system);\n\n                if (!gradeSystem) {\n                  return $state.go('teacher_assess_assignment', {\n                    assignment: {id: response[0].assignment},\n                  });\n                }\n\n                AssignmentsStore.setActive(response[0].assignment);\n\n                return FetchData.v3.fetchAssignmentAssessments(courseId, response[0].assignment)\n                  .then((assignmentAssessments) => {\n                    const extendedResponse = {\n                      enable_grade_texts: assignmentAssessments.enable_grade_texts,\n                      show_grade_texts_for_student: assignmentAssessments.show_grade_texts_for_student,\n                    };\n\n                    return [Object.assign(response[0], extendedResponse)];\n                  });\n              }).catch(() => {\n                $state.go('wrongGoogleDriveFile');\n              });\n          },\n          assignment: (studentAssignments, AssignmentsQuery, AssessmentsQuery, $state) => {\n            'ngInject';\n\n            const resolver = new Promise((resolve, reject) => {\n              const active = AssignmentsQuery.getActive();\n\n              return active ? resolve(active) : reject(active);\n            });\n\n            return resolver.then(assignment => {\n              return new Promise(resolve => {\n                AssessmentsQuery.selectMany(assignment.assessments).pipe(\n                  map(assessments => ({\n                    ...assignment,\n                    assessments,\n                  }))\n                ).subscribe(resolve);\n              });\n            }).catch(() => {\n              $state.go('wrongGoogleDriveFile');\n            });\n          },\n          assignments: (AssignmentsService) => {\n            'ngInject';\n\n            return new Promise(resolve => {\n              AssignmentsService.get().subscribe(resolve);\n            });\n          },\n        },\n      },\n    ],\n  };\n}\n\nmodule.exports = Config;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport { Observable, throwError } from 'rxjs';\nimport {\n  retryWhen, delay, take, concatMap,\n} from 'rxjs/operators';\n\n/**\n * @module Path/Service\n * @description\n *   Allow to get Path and check current or previous page.\n * @param {Object} MainMenu Main Menu service instance\n */\n\n/*@ngInject*/\nfunction Path($window, MainMenu, $timeout) {\n  return {\n    classroomNode: null,\n    driveNode: null,\n    oldPath: null,\n    oldCourseId: null,\n\n    /**\n     * Get an entire path\n     * @memberof module:Path/Service\n     * @return {String}\n     */\n    get path() {\n      return $window.location.pathname;\n    },\n\n    /**\n     * Get path array\n     * @memberof module:Path/Service\n     * @return {Array}\n     */\n    getPathArray() {\n      return this.path.split('/');\n    },\n\n    /**\n     * Get course ID\n     * @memberof module:Path/Service\n     * @return {Number}\n     */\n    getClassroomId() {\n      const result = /[\\da-zA-Z]{10,}/g.exec(this.path);\n\n      return result ? result[0] : null;\n    },\n\n    /**\n     * Get assignment ID\n     * @memberof module:Path/Service\n     * @return {Number}\n     */\n    getAssignmentId() {\n      const pathArray = this.getPathArray();\n      let assignmentId = pathArray[pathArray.indexOf('a') + 1];\n      if (!assignmentId && MainMenu.selectedAssignment) {\n        assignmentId = MainMenu.selectedAssignment.id;\n      }\n      return assignmentId;\n    },\n\n    /**\n     * This is only temporary solution for bad design patterns\n     * @returns {*}\n     */\n    getAssignmentAlternateLinkId(isDrive = false) {\n      if (isDrive) {\n        const result = /\\/([\\da-zA-Z]{5,})#?$/g.exec(this.path);\n\n        return result ? result[1] : null;\n      }\n      const pathArray = this.getPathArray();\n      let altLink = pathArray[pathArray.indexOf('a') + 1];\n      if (!altLink) {\n        altLink = pathArray[pathArray.indexOf('tc') + 1];\n      }\n      return altLink;\n    },\n\n    /**\n     * Get student ID\n     * @memberof module:Path/Service\n     * @return {Number}\n     */\n    getStudentId() {\n      const pathArray = this.getPathArray();\n      const studentId = pathArray[pathArray.indexOf('student') + 1];\n      return studentId;\n    },\n\n    /**\n     * Get file ID\n     * @memberof module:Path/Service\n     * @return {Number}\n     */\n    getFileId(retryTimes = 1) {\n      const getPathFromButton = () => {\n        let documentId = null;\n        const $button = $('[role=main] div[data-url^=https]');\n        const URLRegex = /^(https?:\\/\\/)(www.)?drive.google.com\\/open\\?id=[\\da-zA-Z-_]*&?/gm;\n\n        if ($button.length && URLRegex.test(`${$button.data('url')}`)) {\n          const url = new URL($button.data('url'));\n\n          documentId = url.searchParams.get('id');\n        } else {\n          const links = Array.from(\n            document.querySelectorAll('[role=main] [role=menuitem] [role=presentation] a[href]'),\n          );\n          const link = links.find((link) => URLRegex.test(link.href));\n\n          if (link) {\n            const url = new URL(link.href);\n\n            documentId = url.searchParams.get('id');\n          }\n        }\n\n        return documentId;\n      };\n\n      const getID = (observer) => {\n        let pathArray = this.getPathArray();\n        let fileId = pathArray[pathArray.indexOf('d') + 1];\n\n        if (!fileId) {\n          const iframe = $('iframe#material-iframe:last');\n\n          if (iframe.length && iframe.attr('src')) {\n            pathArray = iframe.attr('src').split('/');\n            fileId = pathArray.includes('d') ? pathArray[pathArray.indexOf('d') + 1] : '';\n          } else {\n            fileId = getPathFromButton();\n          }\n        }\n\n        if (fileId) {\n          observer.next(fileId);\n        } else {\n          observer.error(fileId);\n        }\n      };\n\n      const result = new Observable(getID);\n\n      result.pipe(\n        retryWhen((errors) => errors.pipe(\n          delay(150),\n          take(retryTimes),\n          concatMap(throwError),\n        )),\n      );\n\n      return new Promise((resolve, reject) => {\n        result.subscribe(resolve, reject);\n      });\n    },\n\n    /**\n     * Is classroom instance\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isClassroomInstance() {\n      let valid = false;\n      if (this.classroomNode) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is drive instance\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isDriveInstance() {\n      let valid = false;\n      if (this.driveNode) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is classes list page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isClassesListPage() {\n      return this.getPathArray().includes('h');\n    },\n\n    /**\n     * Is settings page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isSettingsPage() {\n      return this.getPathArray().includes('s');\n    },\n\n    /**\n     * Is work page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isWorkPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (\n        (pathArray.indexOf('ta') >= 0 || pathArray.indexOf('a') >= 0)\n        && pathArray.indexOf('submissions') < 0\n        && pathArray.indexOf('details') < 0\n        && pathArray.indexOf('file') < 0\n      ) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is calendar page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isCalendarPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('calendar') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is stream page\n     * Pattern: /c/[classId]\n     * classId: A-Za-z0-9\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isStreamPage() {\n      return /\\/c\\/[\\w]+\\/?$/g.test(this.path) || this.isClassworkPage();\n    },\n\n    /**\n     * Is classwork page\n     * Pattern: /w/[classID]/t/all\n     * classId: A-Za-z0-9\n     * @memberof module:Path/Service\n     * @returns {Boolean}\n     */\n    isClassworkPage() {\n      return /\\/w\\/[\\w]+\\/t\\/all/g.test(this.path);\n    },\n\n    /**\n     * Is students page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isStudentsPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('r') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is classmates page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isClassmatesPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('r') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is about page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isAboutPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('o') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is student work page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isStudentWorkPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('submissions') >= 0 && pathArray.indexOf('sa') < 0) {\n        valid = true;\n      }\n      if (pathArray.indexOf('tc') > 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Is instructions page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    isInstructionsPage() {\n      const pathArray = this.getPathArray();\n      let valid = false;\n      if (pathArray.indexOf('details') >= 0 && pathArray.indexOf('pa') < 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Was student work page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    wasStudentWorkPage() {\n      let valid = false;\n\n      if (!this.oldPath || this.oldPath === this.path) {\n        return valid;\n      }\n\n      const pathArray = this.oldPath.split('/');\n      if (pathArray.indexOf('submissions') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    /**\n     * Was instructions page\n     * @memberof module:Path/Service\n     * @return {Boolean}\n     */\n    wasInstructionsPage() {\n      let valid = false;\n\n      if (!this.oldPath) {\n        return valid;\n      }\n\n      const pathArray = this.oldPath.split('/');\n      if (pathArray.indexOf('details') >= 0) {\n        valid = true;\n      }\n      return valid;\n    },\n\n    isCourseChanged() {\n      return this.oldCourseId && this.oldCourseId !== this.getClassroomId();\n    },\n\n    /**\n     * Set old path\n     * @memberof module:Path/Service\n     * @param {String} oldPath Selected old path\n     */\n    setOldPath(oldPath) {\n      this.oldPath = oldPath;\n    },\n\n    /**\n     * Set old course id\n     * @memberof module:Path/Service\n     * @param {Number} oldCourseId Selected old course ID\n     */\n    setOldCourseId(oldCourseId) {\n      this.oldCourseId = oldCourseId;\n    },\n  };\n}\n\nmodule.exports = Path;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Debounce/Service\n * @description\n *   Handle debounce mechanism.\n * @param {Object} $timeout Angular $timeout object\n */\n\n/*@ngInject*/\nfunction Debounce($timeout) {\n  return function (func, wait, immediate) {\n    var args, context, debounceTimeout, timeout;\n\n    if (!wait) { wait = 500; }\n\n    debounceTimeout = function() {\n      timeout = null;\n\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    return function debounce() {\n      context = this;\n      args = arguments;\n\n      var callNow = immediate && !timeout;\n\n      $timeout.cancel(timeout);\n\n      timeout = $timeout(debounceTimeout, wait);\n\n      if (callNow) {\n        func.apply(context, args);\n      }\n    };\n  };\n}\n\nmodule.exports = Debounce;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Helpers/Service\n * @description\n *   Global helpers functions.\n * @param {Object} $state Angular $state object\n * @param {Object} Config service instance\n */\n\n/*@ngInject*/\nfunction Helpers($state, Config, Mixpanel, Debounce) {\n  let cachedAssignmentId = null;\n  let themeWatcherObserver = null;\n  let backdropWatcherObserver = null;\n\n  return {\n    /**\n     * Check if changes is in right mode\n     * @memberof module:Helpers/Service\n     * @param {String} editingMode Selected editing mode\n     * @param {Array} editing List of avaiable editing modes\n     * @return {Boolean}\n     */\n    checkIfModeAvailable(editingMode, editing) {\n      let passed = [];\n\n      passed = editing.filter(val => editingMode === val);\n\n      return passed.length;\n    },\n\n    /**\n     * Check if there is visibility changes in Edit Multiple\n     * @memberof module:Helpers/Service\n     * @param {String} option Selected option\n     * @param {String} editingMode Selected editing mode\n     * @param {Array} editing List of avaiable editing modes\n     * @return {Boolean}\n     */\n    isVisibilityChanges(option, editingMode, editing) {\n      const pass = this.checkIfModeAvailable(editingMode, editing);\n      let valid = false;\n\n      if (pass && option !== 'not_changed') {\n        valid = true;\n      }\n\n      return valid;\n    },\n\n    /**\n     * Check if there is grade changes in Edit Multiple\n     * @memberof module:Helpers/Service\n     * @param {String} option Selected option\n     * @param {String} editingMode Selected editing mode\n     * @param {Array} editing List of avaiable editing modes\n     * @return {Boolean}\n     */\n    isGradeChanges(option, editingMode, editing) {\n      const pass = this.checkIfModeAvailable(editingMode, editing);\n      let valid = false;\n\n      if (pass && option !== 'not_changed') {\n        valid = true;\n      }\n\n      return valid;\n    },\n\n    /**\n     * Check if there is text changes in Edit Multiple\n     * @memberof module:Helpers/Service\n     * @param {String} option Selected option\n     * @param {String} editingMode Selected editing mode\n     * @param {Array} editing List of avaiable editing modes\n     * @return {Boolean}\n     */\n    isTextChanges(option, editingMode, editing) {\n      const pass = this.checkIfModeAvailable(editingMode, editing);\n      let valid = false;\n\n      if (pass && option) {\n        valid = true;\n      }\n\n      return valid;\n    },\n\n    /**\n     * Send event to Mixpanel\n     * @memberof module:Helpers/Service\n     * @param {Array} eventCode Contains event code\n     */\n    sendMixpanel(eventCode) {\n      Mixpanel.track(eventCode);\n    },\n\n    /**\n     * Debounce send event to Mixpanel\n     * @memberof module:Helpers/Service\n     * @param {Array} eventCode Contains event code\n     */\n    debounceMixpanel: Debounce((eventCode) => {\n      Mixpanel.track(eventCode);\n    }, 250),\n\n    /**\n     * Handle changing visible of single item\n     * @memberof module:Helpers/Service\n     * @param {Function} savingMethod Function for saving changes\n     * @param {Object} savingItem Object that should be saved\n     * @param {Object} editingItem Object that will be editing\n     * @param {String} editingProperty Property that will be editing\n     * @param {String} eventCode Mixpanel event code\n     */\n    changeSingleVisible(savingMethod, savingItem, editingItem, editingProperty, eventCode) {\n      editingItem[editingProperty] = !editingItem[editingProperty];\n\n      savingMethod(savingItem);\n\n      this.sendMixpanel(eventCode);\n    },\n\n    /**\n     * Handle changing text of single item\n     * @memberof module:Helpers/Service\n     * @param {Function} savingMethod Function for saving changes\n     * @param {Object} savingItem Object that should be saved\n     * @param {String} eventCode Mixpanel event code\n     */\n    changeSingleText(savingMethod, savingItem, eventCode) {\n      savingMethod(savingItem);\n\n      this.debounceMixpanel(eventCode);\n    },\n\n    /**\n     * Handle changing grade of single item\n     * @memberof module:Helpers/Service\n     * @param {Function} savingMethod Function for saving changes\n     * @param {Object} savingItem Object that should be saved\n     * @param {String} eventCode Mixpanel event code\n     */\n    changeSingleGrade(savingMethod, savingItem, eventCode) {\n      savingMethod(savingItem);\n\n      this.debounceMixpanel(eventCode);\n    },\n\n    /**\n     * Find matching grade system\n     * @memberof module:Helpers/Service\n     * @param {Array} gradeSystems List of grade systems\n     * @param {String} gradeSystemId Selected grade system ID\n     * @return {Object}\n     */\n    findGradeSystem(gradeSystems, gradeSystemId) {\n      if (gradeSystems.main.grade_system.id === gradeSystemId) {\n        return gradeSystems.main.grade_system;\n      } else if (gradeSystems.final.grade_system.id === gradeSystemId) {\n        return gradeSystems.final.grade_system;\n      }\n      return gradeSystems[gradeSystemId].grade_system;\n    },\n\n    /**\n     * Find first positive grade in grade system\n     * @memberof module:Helpers/Service\n     * @param {Object} gradeSystem Single grade system\n     * @return {String}\n     */\n    findFirstPositiveGrade(gradeSystem) {\n      let firstPositiveGrade;\n\n      gradeSystem.grades.forEach((elem) => {\n        if (elem.is_passed) {\n          if (!firstPositiveGrade) {\n            firstPositiveGrade = elem;\n          } else if (elem.order < firstPositiveGrade.order) {\n            firstPositiveGrade = elem;\n          }\n        }\n      });\n\n      return firstPositiveGrade.name;\n    },\n\n    /**\n     * Find student id by student name\n     * @memberof module:Helpers/Service\n     * @param {Array} students List of students\n     * @param {String} studentName Selected student name\n     * @return {Number}\n     */\n    findStudentIdByName(students, studentName) {\n      let studentId;\n\n      students.forEach((student) => {\n        if (studentName !== student.student_name) {\n          return;\n        }\n\n        studentId = student.student_id ? student.student_id : student.id;\n      });\n\n      return studentId;\n    },\n\n    registerBackdropWatcher() {\n      if (!backdropWatcherObserver) {\n        let throttle = null;\n        backdropWatcherObserver = new MutationObserver(() => {\n          clearTimeout(throttle);\n          throttle = setTimeout(() => {\n            requestAnimationFrame(() => {\n              const backdropElement = document.body.querySelector('md-backdrop.md-click-catcher');\n              const openItem = document.body.querySelector('#studybee [aria-expanded=true]');\n\n              if (backdropElement && !openItem) {\n                backdropElement.remove();\n              }\n            });\n          }, 100);\n        });\n\n        backdropWatcherObserver.observe(document.getElementById('studybee'), {\n          attributeFilter: ['aria-expanded'],\n          attributes: true,\n          subtree: true,\n        });\n      }\n    },\n\n    disconnectBackdropWatcher() {\n      if (backdropWatcherObserver) {\n        backdropWatcherObserver.disconnect();\n      }\n    },\n\n    registerThemeWatcher() {\n      if (!themeWatcherObserver) {\n        let throttle = null;\n        themeWatcherObserver = new MutationObserver(() => {\n          clearTimeout(throttle);\n          throttle = setTimeout(() => {\n            requestAnimationFrame(() => {\n              const currentTheme = $state.current.themeClass || 'sb-theme-green';\n              document.body.setAttribute('sb-theme', currentTheme);\n            });\n          }, 100);\n        });\n\n        themeWatcherObserver.observe(document.getElementById('studybee'), {\n          attributeFilter: ['class'],\n          attributeOldValue: true,\n        });\n      }\n    },\n\n    disconnectThemeWatcher() {\n      if (themeWatcherObserver) {\n        themeWatcherObserver.disconnect();\n      }\n    },\n\n    /**\n     * Set theme class to StudyBee container\n     * @memberof module:Helpers/Service\n     * @param {String} containerName Container name for setting theme class\n     */\n    setTheme(containerName) {\n      let themeClass;\n\n      for (let i = 0; i < Config.routes.length; i++) {\n        if (Config.routes[i].name === $state.current.name) {\n          themeClass = Config.routes[i].themeClass;\n          break;\n        }\n      }\n\n      $(containerName)\n        .removeClass((i, css) => (css.match(/(^|\\s)sb-theme-\\S+/g) || []).join(' ')).addClass(themeClass);\n    },\n\n    /**\n     * Cache cached assignment ID\n     * @memberof module:Helpers/Service\n     * @param {String} assignmentId Selected assignment ID\n     */\n    setAssignmentIdCached(assignmentId) {\n      cachedAssignmentId = assignmentId;\n    },\n\n    /**\n     * Returns cached assignment ID\n     * @memberof module:Helpers/Service\n     * @param {Boolean} clearAssignmentIdCached\n     * @return {String} assignment id or null\n     */\n    isAssignmentIdCached(clearAssignmentIdCached) {\n      let assignmentId;\n\n      if (!cachedAssignmentId) {\n        return;\n      }\n\n      assignmentId = cachedAssignmentId;\n\n      if (clearAssignmentIdCached) {\n        cachedAssignmentId = null;\n      }\n\n      return assignmentId;\n    },\n\n    /**\n     * Returns current state name\n     * @memberof module:Helpers/Service\n     * @return {String}\n     */\n    getCurrentStateName() {\n      return $state.current.name;\n    },\n  };\n}\n\nmodule.exports = Helpers;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module NavigationHistory/Service\n * @description\n *   Handle Navigation History.\n *\n *   Allow to add state and state parameters to history\n *   and wrap $state.go and $state.transitionTo with custom methods.\n *   Add possibility to update state parameters for current state\n *   and handle back button which allow to back to the previous state.\n * @param {Object} $state Angular $state object\n * @param {Object} Hint Hint service instance\n */\n\n/*@ngInject*/\nfunction NavigationHistory($state, Hint) {\n  return {\n\n    // Keep history states\n    history: [],\n\n    /**\n     * Push state information to the history array\n     * @memberof module:NavigationHistory/Service\n     * @param {String} stateName Selected state name\n     * @param {Object} stateParams State params to save\n     */\n    addToHistory(stateName, stateParams) {\n      stateParams = stateParams || {};\n\n      if (this.history.length > 1 &&\n        this.history[this.history.length - 1].stateName === stateName) {\n        this.history[this.history.length - 1].stateParams = {\n          ...this.history[this.history.length - 1].stateParams,\n          ...stateParams,\n        };\n      } else {\n        this.history.push({\n          stateName,\n          stateParams,\n        });\n      }\n    },\n\n    getPreviousState() {\n      if (this.history.length <= 1) return;\n\n      return this.history[this.history.length - 2];\n    },\n\n    /**\n     * Wrapper for $state.go() which push state information to the history array\n     * @memberof module:NavigationHistory/Service\n     * @param {String} stateName Selected state name\n     * @param {Object} stateParams State params to save\n     * @param {Boolean} ignoreHistory Ignore history flag\n     */\n    go(stateName, stateParams, ignoreHistory) {\n      stateParams = stateParams || {};\n\n      Hint.removeHint();\n\n      $state.go(stateName, stateParams);\n      if (!ignoreHistory) {\n        this.addToHistory(stateName, stateParams);\n      }\n    },\n\n    /**\n     * Wrapper for $state.transitionTo() which push state information to the history array\n     * @memberof module:NavigationHistory/Service\n     * @param {String} stateName Selected state name\n     * @param {Object} stateParams State params to save\n     * @param {Boolean} ignoreHistory Ignore history flag\n     */\n    transitionTo(stateName, stateParams, ignoreHistory) {\n      stateParams = stateParams || {};\n\n      Hint.removeHint();\n\n      $state.transitionTo(stateName, stateParams, { reload: true });\n      if (!ignoreHistory) {\n        this.addToHistory(stateName, stateParams);\n      }\n    },\n\n    /**\n     * Handle arrow back\n     * @memberof module:NavigationHistory/Service\n     */\n    back(overwritePrams = {}) {\n      if (this.history.length <= 1) {\n        return;\n      }\n\n      this.history.pop();\n\n      const state = this.history[this.history.length - 1];\n      const stateName = state.stateName;\n      const stateParams = Object.assign({}, state.stateParams, overwritePrams);\n\n      Hint.removeHint();\n      $state.go(stateName, stateParams);\n    },\n\n    /**\n     * Handle reload current entry with current params\n     * @memberof module:NavigationHistory/Service\n     */\n    reloadCurrent() {\n      $state.reload();\n    },\n\n    /**\n     * Update stateParams for last state\n     * @memberof module:NavigationHistory/Service\n     * @param {Object} stateParams State params to save\n     */\n    updateParams(stateParams) {\n      const currentState = this.history[this.history.length - 1];\n      Object.assign(currentState, { ...currentState, stateParams: currentState.stateParams || {} }, {stateParams});\n    },\n\n    /**\n     * Get stateParams for current state\n     * @return {Object} stateParams State params to save\n     */\n    getCurrentParams() {\n      const currentParams = this.history.slice(-1);\n\n      return currentParams.length ? Object.assign({}, currentParams[0].stateParams) : {};\n    },\n  };\n}\n\nmodule.exports = NavigationHistory;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module States/Service\n * @description\n *   Contain funtions for state opening.\n * @param {Object} UserInfo User Info service instance\n * @param {Object} NavigationHistory Navigation History service instance\n * @param {Object} MainMenu Main Menu service instance\n * @param {Object} StudybeeHandle Studybee Handle service instance\n */\n\n/*@ngInject*/\nfunction States(UserInfo, NavigationHistory, MainMenu, Assignments, Path) {\n  return {\n    /**\n     * Open Drive State and open extension\n     * @memberof module:States/Service\n     */\n    openDriveState() {\n      if (UserInfo.isTeacher()) {\n        NavigationHistory.go('teacher_google_drive');\n      } else {\n        NavigationHistory.go('studentGoogleDrive');\n      }\n    },\n\n    /**\n     * Open Assignment State, open extension and close bottom sheet\n     * @memberof module:States/Service\n     */\n    openAssignmentState() {\n      const assignment = Assignments.getAssignmentByAlternateLink(\n        Path.getAssignmentAlternateLinkId(),\n      );\n      if (UserInfo.userRole === 'teacher') {\n        NavigationHistory.go('teacher_assess_assignment', {\n          assignment, isModal: false,\n        });\n      } else if (UserInfo.userRole === 'student') {\n        NavigationHistory.go('studentAssessed', {\n          isModal: false, assignment: undefined,\n        });\n      }\n    },\n\n    /**\n     * Open Default State, open extension and close bottom sheet\n     * @memberof module:States/Service\n     */\n    openDefaultState() {\n      const defaultStateForTeacher = 'teacherAssignments';\n      const defaultStateForStudent = 'studentAssignments';\n\n      if (MainMenu.selectedMenuStateName) {\n        NavigationHistory.go(MainMenu.selectedMenuStateName);\n        return;\n      }\n\n      if (UserInfo.userRole === 'teacher') {\n        NavigationHistory.go(defaultStateForTeacher);\n      } else if (UserInfo.userRole === 'student') {\n        NavigationHistory.go(defaultStateForStudent);\n      }\n    },\n\n    /**\n     * Open Not Configured State, open extension and close bottom sheet\n     * @memberof module:States/Service\n     */\n    openNotConfiguredState() {\n      const notConfiguredStateForTeacher = 'teacherCourseManagement';\n      const notConfiguredStateForStudent = 'not_configured';\n\n      if (UserInfo.userRole === 'teacher') {\n        MainMenu.setSelectedMenuStateName(notConfiguredStateForTeacher);\n        NavigationHistory.go(notConfiguredStateForTeacher);\n      } else if (UserInfo.userRole === 'student') {\n        MainMenu.setSelectedMenuStateName(notConfiguredStateForStudent);\n        NavigationHistory.go(notConfiguredStateForStudent);\n      }\n    },\n\n    /**\n     * Open Loading State, close extension and close bottom sheet\n     * @memberof module:States/Service\n     */\n    openLoadingState() {\n      NavigationHistory.go('loading', {}, true);\n    },\n  };\n}\n\nmodule.exports = States;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Observer/Service\n * @description\n *   Handle Observer - init and connect/disconnect observer.\n * @param {Object} Courses Courses service instance\n * @param {Object} FetchData FetchData service instance\n * @param {Object} Path Path service instance\n */\n\n/*@ngInject*/\nfunction Observer(Courses, FetchData, Path) {\n  return {\n    instance: null,\n\n    config: {\n      attributes: false,\n      childList: true,\n      characterData: false,\n    },\n\n    /**\n     * Connect or disconnect observer to watch click event on div[name=\"ok\"]\n     * @memberof module:Observer/Service\n     * @param {Function} checkState Check state function from Custom Routing directive\n     */\n    init(checkState) {\n      this.instance = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          if (!mutation.removedNodes.length) {\n            return;\n          }\n\n          if (mutation.removedNodes[0].innerHTML.indexOf('name=\"ok\"') >= 0) {\n            FetchData\n              .v3\n              .getCourseDefinitions(Path.getClassroomId())\n              .then((res) => {\n                Courses.list = res;\n\n                checkState();\n              });\n          }\n        });\n      });\n    },\n\n    /**\n     * Connect or disconnect observer to watch click event on div[name=\"ok\"]\n     * @memberof module:Observer/Service\n     */\n    check() {\n      if (Path.isClassesListPage()) {\n        this.instance.observe(document.body, this.config);\n      } else {\n        this.instance.disconnect();\n      }\n    },\n  };\n}\n\nmodule.exports = Observer;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * @module Hint/Service\n * @description\n *   Handle Hint.\n */\n\n/*@ngInject*/\nfunction Hint() {\n  var displayToggleCallbacks = [];\n  var removeCallbacks = [];\n\n  return {\n    /**\n     * Set callback which is trigger on remove hint\n     * @memberof module:Hint/Service\n     * @param {Object} callback Callback function\n     */\n    setRemoveCallback: function (callback) {\n      removeCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger on display toggle hint\n     * @memberof module:Hint/Service\n     * @param {Object} callback Callback function\n     */\n    setDisplayToggleCallbacks: function (callback) {\n      displayToggleCallbacks.push(callback);\n    },\n\n    /**\n     * Remove hint\n     * @memberof module:Hint/Service\n     */\n    removeHint: function () {\n      removeCallbacks.forEach(function (elem) {\n        elem();\n      });\n\n      removeCallbacks = [];\n    },\n\n    /**\n     * Display toggle hint\n     * @memberof module:Hint/Service\n     */\n    displayToggleHint: function () {\n      displayToggleCallbacks.forEach(function (elem) {\n        elem();\n      });\n    }\n  };\n}\n\nmodule.exports = Hint;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\nimport { getTranslation } from '../../../../../react_src/i18n';\n/**\n * @module Update/Service\n * @description\n *   Handle update assignments, students and files information.\n * @param {Object} $q Angular $q object\n */\n\n/*@ngInject*/\nfunction Updates($q, $mdToast, FetchData, NavigationHistory, Students, Assignments) {\n  return {\n    assignmentsAndStudentsDate: null,\n\n    updateAssignmentsLoading: false,\n    updateStudentsLoading: false,\n    updateFilesLoading: false,\n\n    setSynchronizeDataCallbacks: [],\n\n    /**\n     * Update Assignments and Students list\n     * @memberof module:Update/Service\n     * @param {Number} courseId\n     * @param {Boolean} showToast\n     * @param {Boolean} viewReload\n     * @return {Promise}\n     */\n    updateAssignmentsAndStudents(courseId, showToast, viewReload) {\n      const deferred = $q.defer();\n\n      return $q.all(\n        [\n          this.updateAssignments(courseId, false),\n          this.updateStudents(courseId, false),\n        ],\n      )\n        .then((res) => {\n          deferred.resolve(res);\n\n          this.updateAssignmentsAndStudentsDate();\n\n          if (viewReload) {\n            NavigationHistory.reloadCurrent();\n          }\n\n          if (showToast) {\n            $mdToast.show({\n              templateUrl: 'utils/views/toast.html',\n              parent: $('body'),\n              hideDelay: 3000,\n              position: 'bottom right',\n              controller() {\n                this.information = getTranslation('assignmentsAndStudentsUpdatedToast');\n              },\n              controllerAs: 'to',\n            });\n          }\n        });\n    },\n\n    /**\n     * Update Assignments list\n     * @memberof module:Update/Service\n     * @param {Number} courseId\n     * @param {Boolean} showToast\n     * @return {Promise}\n     */\n    async updateAssignments(courseId, showToast) {\n      this.updateAssignmentsLoading = true;\n      return FetchData.updateAssignmentsList(courseId)\n        .then((assignments) => {\n          if (showToast) {\n            $mdToast.show({\n              templateUrl: 'utils/views/toast.html',\n              parent: $('body'),\n              hideDelay: 3000,\n              position: 'bottom right',\n              controller() {\n                this.information = getTranslation('assignmentsUpdatedToast');\n              },\n              controllerAs: 'to',\n            });\n          }\n          Assignments.updateAssignmentsList(assignments);\n\n          this.updateAssignmentsLoading = false;\n          return assignments;\n        });\n    },\n\n    /**\n     * Update Students list\n     * @memberof module:Update/Service\n     * @param {Number} courseId\n     * @param {Boolean} showToast\n     * @return {Promise}\n     */\n    updateStudents(courseId, showToast) {\n      if (!courseId) {\n        return;\n      }\n\n      const deferred = $q.defer();\n      this.updateStudentsLoading = true;\n\n      // Synchronization\n\n      FetchData\n        .getStudentsList(courseId)\n        .then((res) => {\n          if (showToast) {\n            $mdToast.show({\n              templateUrl: 'utils/views/toast.html',\n              parent: $('body'),\n              hideDelay: 3000,\n              position: 'bottom right',\n              controller() {\n                const to = this;\n\n                to.information = getTranslation('studentsUpdatedToast');\n              },\n              controllerAs: 'to',\n            });\n          }\n\n          Students.updateStudentsList(res);\n\n          this.updateStudentsLoading = false;\n          deferred.resolve(res);\n        }, (err) => {\n          deferred.reject(err);\n        });\n\n      return deferred.promise;\n    },\n\n    /**\n     * Update Files lists\n     * @memberof module:Update/Service\n     * @param {Number} assignmentId\n     * @param {Boolean} showToast\n     * @return {Promise}\n     */\n    updateFiles(assignmentId, showToast) {\n      if (!assignmentId) {\n        return;\n      }\n\n      const deferred = $q.defer();\n      this.updateFilesLoading = true;\n\n      FetchData.updateFilesListForAssignment(assignmentId).then((res) => {\n        if (showToast) {\n          $mdToast.show({\n            templateUrl: 'utils/views/toast.html',\n            parent: $('body'),\n            hideDelay: 3000,\n            position: 'bottom right',\n            controller() {\n              this.information = getTranslation('filesUpdatedToast');\n            },\n            controllerAs: 'to',\n          });\n        }\n\n        this.updateFilesLoading = false;\n        deferred.resolve(res);\n      }, (err) => {\n        deferred.reject(err);\n      });\n\n      return deferred.promise;\n    },\n\n    /**\n     * Replace old date with current date and execute setSynchronizeDataCallbacks\n     * @memberof module:Updates/Service\n     */\n    updateAssignmentsAndStudentsDate() {\n      let date = new Date();\n      date = date.toLocaleString();\n      this.assignmentsAndStudentsDate = date;\n\n      this.setSynchronizeDataCallbacks.forEach((elem) => {\n        elem();\n      });\n    },\n\n    /**\n     * Set callback which is trigger on update assignments and students\n     * @memberof module:Updates/Service\n     * @param {Object} callback Callback function\n     */\n    setSynchronizeDataCallback(callback) {\n      this.setSynchronizeDataCallbacks.push(callback);\n    },\n  };\n}\n\nmodule.exports = Updates;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module StudybeeHandle/Service\n * @description\n *   Studybee Handle.\n */\n\nfunction StudybeeHandle($rootScope, $mdSidenav, Path, UserInfo, Hint, Mixpanel) {\n  'ngInject';\n\n  const beforeCloseCallbacks = [];\n  const inProgressCloseCallbacks = [];\n  const afterCloseCallbacks = [];\n  const beforeOpenCallbacks = [];\n  const inProgressOpenCallbacks = [];\n  const afterOpenCallbacks = [];\n  const disableCallbacs = [];\n  const enableCallbacs = [];\n\n  let firstInit = true;\n  let animationInProgress = false;\n  let extendedViewEnable = false;\n\n  return {\n    /**\n     * Set callback which is trigger before extension close\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setBeforeCloseCallback(callback) {\n      beforeCloseCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger in progress extension close\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setInProgressCloseCallback(callback) {\n      inProgressCloseCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger after extension close\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setAfterCloseCallback(callback) {\n      afterCloseCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger before extension open\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setBeforeOpenCallback(callback) {\n      beforeOpenCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger in progress extension open\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setInProgressOpenCallback(callback) {\n      inProgressOpenCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger after extension open\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setAfterOpenCallback(callback) {\n      afterOpenCallbacks.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger when extension is disable\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setDisableCallback(callback) {\n      disableCallbacs.push(callback);\n    },\n\n    /**\n     * Set callback which is trigger when extension is enable\n     * @memberof module:StudybeeHandle/Service\n     * @param {Object} callback Callback function\n     */\n    setEnableCallback(callback) {\n      enableCallbacs.push(callback);\n    },\n\n    /**\n     * Open extension\n     * @memberof module:StudybeeHandle/Service\n     * @param {Number} inProgressDelay The number of miliseconds that script should wait before trigger after callbacks\n     * @param {Number} afterDelay The number of miliseconds that script should wait before trigger after callbacks\n     */\n    studybeeOpen(inProgressDelay = 250, afterDelay = 750) {\n      animationInProgress = true;\n\n      if (firstInit) {\n        afterDelay = 1500;\n        firstInit = false;\n      } else {\n        if (typeof inProgressDelay !== 'number') {\n          inProgressDelay = 250;\n        }\n        if (typeof afterDelay !== 'number') {\n          afterDelay = 750;\n        }\n      }\n\n      beforeOpenCallbacks.forEach((elem) => {\n        elem();\n      });\n\n      setTimeout(() => {\n        inProgressOpenCallbacks.forEach((elem) => {\n          elem();\n        });\n\n        $mdSidenav('studybee').open();\n        $rootScope.extendedViewEnable = extendedViewEnable;\n      }, inProgressDelay);\n\n      setTimeout(() => {\n        afterOpenCallbacks.forEach((elem) => {\n          elem();\n        });\n\n        animationInProgress = false;\n      }, afterDelay);\n    },\n\n    /**\n     * Close extension\n     * @memberof module:StudybeeHandle/Service\n     * @param {Number} inProgressDelay The number of miliseconds that script should wait before trigger after callbacks\n     * @param {Number} afterDelay The number of miliseconds that script should wait before trigger after callbacks\n     */\n    studybeeClose(inProgressDelay = 250, afterDelay = 750) {\n      animationInProgress = true;\n\n      if (firstInit) {\n        afterDelay = 1500;\n        firstInit = false;\n      }\n\n      beforeCloseCallbacks.forEach((elem) => {\n        elem();\n      });\n\n      setTimeout(() => {\n        inProgressCloseCallbacks.forEach((elem) => {\n          elem();\n        });\n\n        $mdSidenav('studybee').close();\n        extendedViewEnable = $rootScope.extendedViewEnable;\n        $rootScope.extendedViewEnable = false;\n      }, inProgressDelay);\n\n      setTimeout(() => {\n        afterCloseCallbacks.forEach((elem) => {\n          elem();\n        });\n\n        animationInProgress = false;\n      }, afterDelay);\n    },\n\n    /**\n     * Toggle extension\n     * @memberof module:StudybeeHandle/Service\n     */\n    studybeeToggle() {\n      Mixpanel.track('toggle');\n      if (!this.checkIfExtensionAvailable() || animationInProgress) {\n        return;\n      }\n\n      if (this.studybeeIsOpen()) {\n        // this needs to be optimized\n        this.studybeeClose();\n      } else {\n        this.studybeeOpen();\n      }\n\n      Hint.displayToggleHint();\n    },\n\n    studybeeActivate() {\n      if (this.studybeeIsOpen()) {\n        this.studybeeOpen();\n      } else {\n        this.studybeeClose();\n      }\n    },\n\n    /**\n     * Check if extension is open\n     * @memberof module:StudybeeHandle/Service\n     * @return {Boolean}\n     */\n    studybeeIsOpen() {\n      return $mdSidenav('studybee').isOpen();\n    },\n\n    /**\n     * Check if extension should be available\n     * @memberof module:StudybeeHandle/Service\n     */\n    checkIfExtensionAvailable() {\n      let extensionAvailable = true;\n      if (\n        Path.isClassroomInstance() &&\n        UserInfo.userMatched &&\n        UserInfo.loggedToBrowser &&\n        (\n          Path.isClassesListPage() ||\n          Path.isSettingsPage() ||\n          Path.isWorkPage() ||\n          Path.isCalendarPage())\n      ) {\n        extensionAvailable = false;\n        this.studybeeClose();\n      }\n\n      return extensionAvailable;\n    },\n\n    /**\n     * Set icon status (enable / disable)\n     * @memberof module:StudybeeHandle/Service\n     */\n    setIconStatus() {\n      if (this.checkIfExtensionAvailable()) {\n        enableCallbacs.forEach((elem) => {\n          elem();\n        });\n      } else {\n        disableCallbacs.forEach((elem) => {\n          elem();\n        });\n      }\n    },\n  };\n}\n\nmodule.exports = StudybeeHandle;\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\n/**\n * @module Sanitize/Filter\n * @description\n *   Display HTML content.\n * @param {Object} $sce Angular $sce object\n */\n\n/*@ngInject*/\nfunction Sanitize($sce) {\n  return function(htmlCode) {\n    return $sce.trustAsHtml(htmlCode);\n  };\n}\n\nmodule.exports = Sanitize;\n","import angular, { IServiceProvider } from 'angular';\nimport { Interceptor } from '../../shared/models/interceptor.model';\nimport { Provider } from '../decorators/provider.decorator';\nimport UtilsModule from '../utils.module';\n\n@Provider({\n  module: UtilsModule,\n  name: 'HttpInterceptor',\n})\nexport class HttpInterceptorProvider implements IServiceProvider {\n\n  public static readonly interceptors: Interceptor[] = [];\n\n  public add(interceptorFactory: Interceptor, index: number = HttpInterceptorProvider.interceptors.length): void {\n    HttpInterceptorProvider.interceptors.splice(index, 0, interceptorFactory);\n  }\n\n  public $get($injector: angular.auto.IInjectorService): Interceptor[] {\n    'ngInject';\n\n    return HttpInterceptorProvider.interceptors\n      .reduce<Interceptor[]>(\n        (acc: Interceptor[], interceptorFactory: Interceptor): Interceptor[] => [this.buildInterceptor($injector, interceptorFactory), ...acc], [],\n      );\n  }\n\n  private buildInterceptor($injector: angular.auto.IInjectorService, interceptorFactory: Interceptor): Interceptor {\n    return angular.isString(interceptorFactory) ?\n      $injector.get<Interceptor>(interceptorFactory) : $injector.invoke<Interceptor>(interceptorFactory as any);\n  }\n}\n","import angular from 'angular';\nimport { IModule, IProviderOptions } from 'angular';\n\nexport const Provider: (options: IProviderOptions) => any = (options: IProviderOptions): <T extends { new(...args: any[]): { $get: any } }>(constructor: T) => any => {\n\n  const getOrCreateServiceModule: () => IModule = (): IModule => {\n    const moduleName: string = 'app';\n    let module: IModule;\n\n    if (options.module) {\n      try {\n        module = angular.module(`${options.module}`);\n      } catch (err) {\n        module = null;\n      }\n    }\n\n    if (!module) {\n      try {\n        module = angular.module(`${moduleName}`);\n      } catch (err) {\n        console.error(`Error on register service ${options.name} in module ${moduleName}. Module ${moduleName} is not exists.`, err);\n        module = null;\n      }\n    }\n\n    return module;\n  };\n\n  return <T extends { new(...args: any[]): { $get: any } }>(constructor: T): T => {\n    const module: IModule = getOrCreateServiceModule();\n\n    if (module) {\n      module.provider(options.name, new constructor());\n    }\n\n    return constructor;\n  };\n};\n\n","import { IQService } from 'angular';\nimport { RequestType } from '../../shared/enums/requestType.enum';\nimport { HttpResponse } from '../../shared/models/httpResponse.model';\nimport { IInterceptor } from '../../shared/models/interceptor.model';\nimport { Interceptor } from '../decorators/interceptor.decoreator';\nimport UtilsModule from '../utils.module';\nimport {InitService} from '../../../../../src/app/core/init/init.service';\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class AgreementSeenInterceptor implements IInterceptor {\n  private readonly urlRegex: RegExp;\n\n  constructor(private $q: IQService, private $injector: angular.auto.IInjectorService) {\n    'ngInject';\n\n    this.urlRegex = /\\/users\\/agreement-seen\\/?$/;\n  }\n\n  public response(response: HttpResponse): PromiseLike<HttpResponse> {\n    if (response.config.method === RequestType.GET && this.urlRegex.test(response.config.url)) {\n      this.setIsAgreementSeen(response.data as any);\n    }\n\n    return this.$q.resolve(response);\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> {\n    if (this.urlRegex.test(response.config.url)) {\n      this.setIsAgreementSeen(false);\n    }\n\n    return this.$q.reject(response);\n  }\n\n  private setIsAgreementSeen(value: boolean): void {\n    const userInfo: any = this.$injector.get('UserInfo');\n    const initService: InitService = this.$injector.get('InitService');\n\n    userInfo.agreementSeen = value;\n    initService.updateUserInfo({agreement_seen: false});\n  }\n}\n","import {StateService} from '@uirouter/core';\nimport {IQService} from 'angular';\nimport {APIErrorCode} from '../../../../../src/app/shared/enmus/api-error-code.enum';\nimport {HttpResponse} from '../../shared/models/httpResponse.model';\nimport {IInterceptor} from '../../shared/models/interceptor.model';\nimport {Interceptor} from '../decorators/interceptor.decoreator';\nimport {HttpStatusCode} from '../enums/httpStatusCode.enum';\nimport UtilsModule from '../utils.module';\nimport {InitService} from '../../../../../src/app/core/init/init.service';\n\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class CheckDomainInterceptor implements IInterceptor {\n  constructor(protected $q: IQService,\n              protected $state: StateService,\n              protected $injector: angular.auto.IInjectorService) {\n    'ngInject';\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> {\n    if (response.status === HttpStatusCode.FORBIDDEN) {\n      if (response.data.error_code === APIErrorCode.WHITELISTED_DOMAIN && response.data.is_teacher) {\n        this.$state.go('userSetup');\n      } else {\n        this.$state.go('userSetup');\n      }\n\n      this.openStudybeeIfClose();\n    }\n\n    return this.$q.reject(response);\n  }\n\n  private openStudybeeIfClose(): void {\n    const StudybeeHandle: any = this.$injector.get('StudybeeHandle');\n    StudybeeHandle.studybeeActivate();\n  }\n}\n","export enum APIErrorCode {\n  WHITELISTED_DOMAIN = 'WHITELISTED_DOMAIN',\n}\n","import { HttpResponse } from '../../shared/models/httpResponse.model';\nimport { IInterceptor } from '../../shared/models/interceptor.model';\nimport { Interceptor } from '../decorators/interceptor.decoreator';\nimport UtilsModule from '../utils.module';\n\n@Interceptor({\n  module: UtilsModule,\n  order: 0,\n})\nexport class ExtractDataInterceptor implements IInterceptor {\n  public response(response: HttpResponse): PromiseLike<any> {\n    return Promise.resolve(response.data);\n  }\n}\n","import { StateService, TransitionPromise } from '@uirouter/core';\nimport { IQService } from 'angular';\nimport { HttpResponse } from '../../shared/models/httpResponse.model';\nimport { IInterceptor } from '../../shared/models/interceptor.model';\nimport { Interceptor } from '../decorators/interceptor.decoreator';\nimport { HttpStatusCode } from '../enums/httpStatusCode.enum';\nimport UtilsModule from '../utils.module';\n\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class InactiveUserInterceptor implements IInterceptor {\n  constructor(private $q: IQService, private $state: StateService) {\n    'ngInject';\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> | TransitionPromise {\n    if (response.status === HttpStatusCode.FORBIDDEN && response.data.detail) {\n      return this.$state.go('user-inactive');\n    }\n\n    return this.$q.reject(response);\n  }\n}\n","import {StateService, TransitionPromise} from '@uirouter/core';\nimport {IQService, IRootScopeService} from 'angular';\nimport {HttpResponse} from '../../shared/models/httpResponse.model';\nimport {IInterceptor} from '../../shared/models/interceptor.model';\nimport {Interceptor} from '../decorators/interceptor.decoreator';\nimport {HttpStatusCode} from '../enums/httpStatusCode.enum';\nimport {UserInfo} from '../services/userInfo.service';\nimport UtilsModule from '../utils.module';\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class MissingAgreementInterceptor implements IInterceptor {\n\n  private readonly urlRegex: RegExp;\n  private UserInfo?: UserInfo;\n\n  constructor(private $rootScope: IRootScopeService,\n              private $q: IQService,\n              private $state: StateService,\n              private $injector: angular.auto.IInjectorService) {\n    'ngInject';\n\n    this.urlRegex = /\\/schools\\/user_setup\\/?$/;\n    this.UserInfo = null;\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> | TransitionPromise {\n    this.prepareUserInfoService();\n\n    if (response.status === HttpStatusCode.NOT_FOUND && this.urlRegex.test(response.config.url)) {\n      if (this.UserInfo.userId && this.UserInfo.isTeacher()) {\n        if (this.UserInfo.agreementSeen) {\n          this.$state.go('userSetup');\n        } else {\n          if (this.UserInfo.gdpr) {\n            this.$state.go('userSetup');\n          } else {\n            this.$state.go('userSetup');\n          }\n        }\n\n        this.openStudybeeIfClose();\n      }\n    }\n\n    return this.$q.reject(response);\n  }\n\n  private openStudybeeIfClose(): void {\n    const StudybeeHandle: any = this.$injector.get('StudybeeHandle');\n    StudybeeHandle.studybeeActivate();\n  }\n\n  private prepareUserInfoService(): void {\n    this.UserInfo = this.$injector.get('UserInfo');\n  }\n}\n","import { IQService } from 'angular';\nimport { StateService, TransitionPromise } from '@uirouter/angular';\nimport { RequestType } from '../../shared/enums/requestType.enum';\nimport { HttpResponse } from '../../shared/models/httpResponse.model';\nimport { IInterceptor } from '../../shared/models/interceptor.model';\nimport { Interceptor } from '../decorators/interceptor.decoreator';\nimport { HttpStatusCode } from '../enums/httpStatusCode.enum';\nimport { PermissionType } from '../enums/permissionType.enum';\nimport { UserInfo } from '../services/userInfo.service';\nimport UtilsModule from '../utils.module';\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class UserDataInterceptor implements IInterceptor {\n\n  private readonly urlRegex: RegExp;\n  private UserInfo?: UserInfo;\n\n  constructor(private $q: IQService, private $injector: angular.auto.IInjectorService, private $state: StateService) {\n    'ngInject';\n\n    this.urlRegex = /\\/users\\/user_data\\/?$/;\n  }\n\n  public response(response: HttpResponse): PromiseLike<HttpResponse> {\n    this.prepareUserInfoService();\n\n    if (response.config.method === RequestType.GET && this.urlRegex.test(response.config.url)) {\n      this.UserInfo.userId = response.data.id;\n      this.UserInfo.hasCreateCoursePermission = false;\n      this.UserInfo.applyDetails(response.data);\n\n      if ('is_teacher' in response.data && response.data.is_teacher) {\n        this.UserInfo.hasCreateCoursePermission = true;\n      } else if ('permissions' in response.data) {\n        this.UserInfo.hasCreateCoursePermission = !!response\n          .data\n          .permissions\n          .find(permission => permission.permission === PermissionType.CREATE_COURSE);\n      }\n    }\n\n    return this.$q.resolve(response);\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> {\n    if (response.status === HttpStatusCode.FORBIDDEN && this.urlRegex.test(response.config.url)) {\n      this.$state.go('user-inactive');\n\n      return this.$q.resolve(response);\n    }\n\n    return this.$q.reject(response);\n  }\n\n  private prepareUserInfoService(): void {\n    this.UserInfo = this.$injector.get('UserInfo');\n  }\n}\n","export const PermissionType = {\n  CREATE_COURSE: 'CREATE_COURSE',\n};\n","import angular, { IQService } from 'angular';\nimport { RequestType } from '../../shared/enums/requestType.enum';\nimport { HttpResponse } from '../../shared/models/httpResponse.model';\nimport { IInterceptor } from '../../shared/models/interceptor.model';\nimport { Interceptor } from '../decorators/interceptor.decoreator';\nimport { HttpStatusCode } from '../enums/httpStatusCode.enum';\nimport { UserInfo } from '../services/userInfo.service';\nimport UtilsModule from '../utils.module';\nimport {StateService} from '@uirouter/core';\n\n\n@Interceptor({\n  module: UtilsModule,\n})\nexport class UserPreferencesInterceptor implements IInterceptor {\n\n  private readonly urlRegex: RegExp;\n  private UserInfo?: UserInfo;\n\n  constructor(private $q: IQService, private $injector: angular.auto.IInjectorService, protected $state: StateService,) {\n    'ngInject';\n\n    this.urlRegex = /\\/schools\\/user_setup\\/?$/;\n  }\n\n  public response(response: HttpResponse): PromiseLike<HttpResponse> {\n    this.prepareUserInfoService();\n\n    if (response.config.method === RequestType.GET && this.urlRegex.test(response.config.url)) {\n      this.UserInfo.hasSetup = true;\n    }\n\n    return this.$q.resolve(response);\n  }\n\n  public responseError(response: HttpResponse): PromiseLike<HttpResponse> {\n    this.prepareUserInfoService();\n\n    if (response.status === HttpStatusCode.NOT_FOUND && this.urlRegex.test(response.config.url)) {\n      this.UserInfo.hasSetup = false;\n      this.$state.go('userSetup');\n    }\n\n    return this.$q.reject(response);\n  }\n\n  private prepareUserInfoService(): void {\n    this.UserInfo = this.$injector.get('UserInfo');\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { CommonModule } from '../../common/common.module';\nimport { StudentCourseProgressModule } from './student-course-progress/student-course-progress.module';\nimport TeacherCourseProgressModule from './teacher-course-progress/teacher-course-progress.module.ts';\n\nimport { AssessmentDetailsComponent } from './common/components/assessmentDetails/assessmentDetails.component';\nimport { AssessmentStatusPreviewComponent } from './common/components/assessmentStatusPreview/assessmentStatusPreview.component.ts';\nimport { CourseSummaryComponent } from './common/components/courseSummary/courseSummary.component';\nimport { DownloadPdfMenu } from './common/components/download-pdf-menu.component';\nimport { GradeDescriptionComponent } from './common/components/gradeDescription.component';\nimport { LastUpdate } from './common/components/last-edit.component';\nimport { PartialLastUpdate } from './common/components/partial-last-edit.component';\nimport { StudentCoursesDetailsSectionComponent } from './teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.component';\nimport { StudentProfileComponent } from './common/components/studentProfile/studentProfile.component';\nimport { StudentProfileDetailsComponent } from './common/components/studentProfile/studentProfileDetails/studentProfileDetails.component';\nimport { StudentProfilePhotoComponent } from './common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.component';\nimport { StudentProgressInputComponent } from './common/components/studentProgressInput/studentProgressInput.component';\n\nimport { AssessmentStatusPreview } from './common/components/assessmentStatusPreview/assessmentStatusPreview.service.ts';\nimport { AssignmentsList } from './common/services/assignmentsList.service';\nimport { CourseProgress } from './course-progress.service';\nimport { ExportStudentsResults } from './common/services/exportStudentsResults.service';\nimport { ExportStudentsResultsDialog } from './common/dialogs/exportStudentsResults/exportStudentsResultsDialog.service';\nimport { StudentDetailsEditDialog } from './common/dialogs/studentDetailsEdit/studentDetailsEditDialog.service.ts';\nimport { ShareAssessmentsWithColleaguesDialog } from './common/dialogs/shareAssessmentsWithColleagues/shareAssessmentsWithColleaguesDialog.service.ts';\nimport { ShareAssessmentsWithColleaguesComponent } from './common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.component.ts';\nimport { routerConfig } from './courseProgress.routing';\n\nexport const CourseProgressModule = angular\n  .module('courseProgressModule', [\n    CommonModule,\n    StudentCourseProgressModule,\n    TeacherCourseProgressModule,\n  ])\n  .component('assessmentDetails', AssessmentDetailsComponent)\n  .component('assessmentStatusPreview', AssessmentStatusPreviewComponent)\n  .component('courseSummary', CourseSummaryComponent)\n  .component('downloadPdfMenu', DownloadPdfMenu)\n  .component('gradeDescription', GradeDescriptionComponent)\n  .component('lastUpdate', LastUpdate)\n  .component('partialLastUpdate', PartialLastUpdate)\n  .component('studentCoursesDetailsSection', StudentCoursesDetailsSectionComponent)\n  .component('studentProfile', StudentProfileComponent)\n  .component('studentProfileDetails', StudentProfileDetailsComponent)\n  .component('studentProfilePhoto', StudentProfilePhotoComponent)\n  .component('studentProgressInput', StudentProgressInputComponent)\n  .component('shareAssessmentsWithColleagues', ShareAssessmentsWithColleaguesComponent)\n  .service('AssessmentStatusPreview', AssessmentStatusPreview)\n  .service('AssignmentsList', AssignmentsList)\n  .service('CourseProgress', CourseProgress)\n  .service('ExportStudentsResults', ExportStudentsResults)\n  .service('ExportStudentsResultsDialog', ExportStudentsResultsDialog)\n  .service('StudentDetailsEditDialog', StudentDetailsEditDialog)\n  .service('ShareAssessmentsWithColleaguesDialog', ShareAssessmentsWithColleaguesDialog)\n  .config(routerConfig)\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport uiRouter from '@uirouter/angularjs';\nimport ngSanitize from 'angular-sanitize';\n\nimport { AssessmentDetailsEmpty } from './assessment-details-empty.component';\nimport { CourseDetails } from './course-details/course-details.component';\nimport { CourseListItemComponent } from './coursesList/courseListItem/courseListItem.component';\nimport { CoursesListComponent } from './coursesList/coursesList.component';\nimport { CoursesListEmptyComponent } from './coursesList/coursesListEmpty/coursesListEmpty.component';\nimport { ObjectivesList } from './course-details/objectives-list/objectives-list.component';\nimport { StudentAssessmentDetails } from './student-assessment-details.component';\nimport { StudentAssignmentsList } from './student-objective-details/student-assignments-list/student-assignments-list.component';\nimport { StudentCourseProgressComponent } from './student-course-progress.component';\nimport { studentCourseProgressRouterConfig } from './student-course-progress.routing';\nimport { StudentObjectiveDetails } from './student-objective-details/student-objective-details.component';\n\nexport const StudentCourseProgressModule = angular\n  .module('studentCourseProgressModule', [\n    uiRouter,\n    ngSanitize,\n  ])\n  .component('assessmentDetailsEmpty', AssessmentDetailsEmpty)\n  .component('courseDetails', CourseDetails)\n  .component('courseListItem', CourseListItemComponent)\n  .component('coursesList', CoursesListComponent)\n  .component('coursesListEmpty', CoursesListEmptyComponent)\n  .component('objectivesListStudent', ObjectivesList)\n  .component('studentAssessmentDetails', StudentAssessmentDetails)\n  .component('studentProgressAssignmentsList', StudentAssignmentsList)\n  .component('studentCourseProgress', StudentCourseProgressComponent)\n  .component('studentObjectiveDetails', StudentObjectiveDetails)\n  .config(studentCourseProgressRouterConfig)\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const AssessmentDetailsEmpty = {\n  bindings: {\n    emptyInfo: '@',\n    onClose: '&',\n  },\n  template: `\n<div class=\"sb-course-assessment__empty-info\" ng-bind-html=\"$ctrl.emptyInfo\"></div>\n<div class=\"sb-list-dropdown__footer\"\n     layout-align=\"center start space-around\">\n  <md-button\n    class=\"sb-button sb-button--right\"\n    ng-click=\"$ctrl.onClose()\"\n    localize>\n    __MSG_closeBtn__\n  </md-button>\n</div>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { CourseDetailsCtrl } from './course-details.controller';\n\nexport const CourseDetails = {\n  bindings: {\n    course: '<',\n    courseAssessment: '<',\n  },\n  templateUrl: 'components/course-progress/student-course-progress/cmStudentCourseDetails/cmStudentCourseDetails.html',\n  controller: CourseDetailsCtrl,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../../common/global-events.ts';\n\nexport class CourseDetailsCtrl {\n  constructor($rootScope, $state) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n  }\n\n  $onInit() {\n    this.$rootScope.$emit(\n      Events.UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES,\n    );\n  }\n\n  toggleAssessment() {\n    this.courseAssessment.open = !this.courseAssessment.open;\n  }\n\n  closeCourseView() {\n    this.$state.go('student-course-progress', { course: null });\n    this.$rootScope.$emit(Events.CLOSE_COURSE_DETAILS_VIEW);\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport class CourseListItemComponent {\n  static bindings = {\n    course: '<',\n    selectedCourse: '<',\n    onUpdate: '&',\n  };\n  static controller = CourseListItemComponent;\n  static templateUrl = 'components/course-progress/student-course-progress/coursesList/courseListItem/courseListItem.html';\n\n  constructor() {\n    'ngInject';\n\n    this.course = null;\n    this.selectedCourse = null;\n  }\n\n  navigateToCourseDetails() {\n    this.selectedCourse = this.course;\n    this.onUpdate({ selectedCourse: this.selectedCourse });\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../../common/global-events.ts';\nimport { UnbindableCtrlBase } from '../../../../common/base-classes';\nimport { getTranslation } from '../../../../../../../react_src/i18n';\n\nexport class CoursesListComponent extends UnbindableCtrlBase {\n  static bindings = { courses: '<' };\n\n  static controller = CoursesListComponent;\n\n  static templateUrl = 'components/course-progress/student-course-progress/coursesList/coursesList.html';\n\n  constructor($rootScope, $state, FetchData, UserInfo, Path, BreadcrumbsService) {\n    'ngInject';\n\n    super();\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n    this.FetchData = FetchData;\n    this.UserInfo = UserInfo;\n    this.Path = Path;\n    this.BreadcrumbsService = BreadcrumbsService;\n    this.courses = [];\n    this.selectedCourse = null;\n    this.generalCourse = { id: -1, course_definition_name: getTranslation('allMyCourses') };\n  }\n\n  $onInit() {\n    this.coursesMap = new Map();\n\n    this.courses.forEach((course) => {\n      this.coursesMap.set(course.id, course);\n    });\n\n    this.boundEvents.push(this.$rootScope.$on(\n      Events.UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES,\n      () => {\n        this.FetchData\n          .v3\n          .getUserStatusesForCoursesAndObjectives(\n            this.Path.getClassroomId(),\n            this.UserInfo.userId,\n          )\n          .then((courses) => this.updateWarningsForCourses(courses));\n      },\n    ));\n\n    this.boundEvents.push(this.$rootScope.$on(\n      Events.CLOSE_COURSE_DETAILS_VIEW,\n      () => (this.selectedCourse = null),\n    ));\n\n    this.boundEvents.push(this.$rootScope.$on(\n      Events.SELECTED_COURSE_CHANGED,\n      (event, selectedCourse) => (this.selectedCourse = selectedCourse),\n    ));\n\n    // emit by itself to check the status\n    this.$rootScope.$emit(\n      Events.UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES,\n    );\n  }\n\n  updateWarningsForCourses(courses) {\n    courses.forEach((course) => {\n      if (this.coursesMap.has(course.id)) {\n        this.coursesMap.get(course.id).has_warnings = course.has_warnings;\n      }\n    });\n  }\n\n  selectedNewCourse(selectedCourse) {\n    this.selectedCourse = selectedCourse;\n\n    if (selectedCourse.id === -1) {\n      this.$state.go('student-course-progress.courses-overview', {\n        coursesDefinitions: this.courses,\n      });\n    } else {\n      this.$state.go('student-course-progress.courses-overview.learning-objectives', {\n        course: selectedCourse,\n        student: this.UserInfo,\n        breadcrumbs: [],\n      }, { reload: true });\n    }\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport class CoursesListEmptyComponent {\n  static templateUrl = 'components/course-progress/student-course-progress/coursesList/coursesListEmpty/coursesListEmpty.html';\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Breadcrumb } from '../../../../../shared/models/breadcrumb.model.ts';\nimport { ListViewType } from '../../../../../shared/enums/listViewType.enum.ts';\n\nexport * from './objectives-list.scss';\n\nexport const ObjectivesList = {\n  bindings: {\n    assessments: '<',\n    course: '<',\n  },\n  templateUrl: 'components/course-progress/student-course-progress/course-details/objectives-list/objectives-list.html',\n  controller: class {\n    constructor($state, $stateParams, $filter, $timeout, BreadcrumbsService, ListViewMenuService) {\n      'ngInject';\n      this.storageViewMenuId = 'studentStudentCourseProgressObjectiveList';\n      this.$state = $state;\n      this.$stateParams = $stateParams;\n      this.$filter = $filter;\n      this.$timeout = $timeout;\n      this.BreadcrumbsService = BreadcrumbsService;\n      this.ListViewMenuService = ListViewMenuService;\n      this.viewMenuItems = [];\n      this.viewMode = ListViewType.TITLE_ONLY;\n      this.assessments = [];\n      this.course = null;\n    }\n\n    $onInit() {\n      this.viewMenuItems = this.ListViewMenuService.getListViewMenu(this.storageViewMenuId);\n      this.viewMode = this.viewMenuItems.find(listViewMenuItem => listViewMenuItem.checked)\n        .eventArgs.view;\n    }\n\n    toggleAssessment(assessment) {\n      assessment.open = !assessment.open;\n    }\n\n    navigateToLearningObjective(assessment) {\n      const breadcrumbs = [\n        ...this.$stateParams.breadcrumbs,\n        new Breadcrumb(\n          this.course.course_definition_name,\n          this.BreadcrumbsService.createGoToAction(),\n        ),\n      ];\n\n      this.$state.go(\n        'student-course-progress.courses-overview.learning-objectives.assessments',\n        {\n          assessment,\n          breadcrumbs,\n          course: this.course,\n          objective: assessment.objective,\n        },\n      );\n    }\n\n    onClickMenuItem(toolbarMenuItem) {\n      this.viewMenuItems.forEach((menuItem) => {\n        Object.assign(menuItem, { checked: false });\n      });\n      Object.assign(toolbarMenuItem, { checked: true });\n      this.ListViewMenuService.saveListViewMenu(this.storageViewMenuId, this.viewMenuItems);\n      this.viewMode = toolbarMenuItem.eventArgs.view;\n    }\n\n    isTitleVisible(title) {\n      return this.viewMode !== ListViewType.DESCRIPTION_ONLY && `${title}`.trim().length;\n    }\n\n    isDescriptionVisible(description) {\n      return this.viewMode !== ListViewType.TITLE_ONLY &&\n        `${this.$filter('getFormattedOrEmpty')(description)}`.trim().length;\n    }\n\n    expandAll() {\n      this.changeOpenStateForAll(true);\n    }\n\n    collapseAll() {\n      this.changeOpenStateForAll(false);\n    }\n\n    changeOpenStateForAll(state) {\n      this.$timeout(() => {\n        this.assessments = this.assessments.map((assessment) => {\n          assessment.open = state;\n\n          return assessment;\n        });\n      }, 0);\n    }\n  },\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../common/global-events.ts';\n\nexport const StudentAssessmentDetails = {\n  bindings: {\n    assessment: '<',\n    assignment: '<',\n    objective: '<',\n    detailsButtonDisable: '<',\n    showTargetGrade: '<',\n    showStudentSelfAssessment: '<',\n    emptyInfo: '@',\n    mixpanelSelfAssessmentEvent: '@',\n    onAssessmentClose: '&',\n    onNavigateToDetails: '&',\n  },\n  controller: class {\n    constructor($rootScope, FetchData, UserInfo) {\n      'ngInject';\n      this.$rootScope = $rootScope;\n      this.FetchData = FetchData;\n      this.UserInfo = UserInfo;\n    }\n\n    get isDetailsEmpty() {\n      return !(this.assessment.feedback ||\n        this.assessment.grade ||\n        this.assessment.counter_grades ||\n        this.assessment.target_grade ||\n        this.assessment.self_assessment);\n    }\n\n    updateAssessmentData(assessmentData) {\n      this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n      this.FetchData.v3\n        .updateObjectiveAssessments(\n          this.UserInfo.userId,\n          this.objective.id,\n          assessmentData,\n        )\n        .finally(() => {\n          this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n        });\n    }\n  },\n  template: `\n    <assessment-details\n      ng-if=\"!$ctrl.isDetailsEmpty\"\n      assessment=\"$ctrl.assessment\"\n      assignment=\"$ctrl.assignment\"\n      details-button-disable=\"$ctrl.detailsButtonDisable\"\n      show-target-grade=\"$ctrl.showTargetGrade\"\n      read-only=\"true\"\n      show-student-self-assessment=\"$ctrl.showStudentSelfAssessment\"\n      mixpanel-self-assessment-event=\"{{$ctrl.mixpanelSelfAssessmentEvent}}\"\n      on-navigate-to-details=\"$ctrl.onNavigateToDetails()\"\n      on-assessment-close=\"$ctrl.onAssessmentClose()\"\n      on-assessment-update=\"$ctrl.updateAssessmentData(assessment)\">\n    </assessment-details>\n    <assessment-details-empty\n      empty-info=\"{{ $ctrl.emptyInfo }}\"\n      on-close=\"$ctrl.onAssessmentClose()\"\n      ng-if=\"$ctrl.isDetailsEmpty && $ctrl.assessment.open\">\n    </assessment-details-empty>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { AssignmentsComponent } from '../../../../../shared/components/assignments/assignments.component.ts';\nimport style from './studentAssignmentsList.scss';\nimport { AssignmentFilterGroup } from '../../../../../shared/enums/assignmentFilterGroup.enum';\nimport { AssignmentType } from '../../../../../shared/enums/assignmentType.enum';\n\nexport const StudentAssignmentsList = {\n  bindings: {\n    assessments: '<',\n    assignments: '<',\n    objective: '<objectiveSelected',\n  },\n  templateUrl: 'components/course-progress/student-course-progress/student-objective-details/student-assignments-list/student-assignments-list.html',\n  controller: class extends AssignmentsComponent {\n\n    constructor(AssignmentsList, $scope, $stateParams, $state, $timeout, LocalStorageService) {\n      'ngInject';\n\n      super($scope, $stateParams, $state, LocalStorageService);\n\n      this.$timeout = $timeout;\n      this.AssignmentsList = AssignmentsList;\n      this.statePrefix = 'StudentProgressLearningObjective';\n      this.filters = [\n        {\n          group: AssignmentFilterGroup.TYPE,\n          type: AssignmentType.WORK_UNIT,\n          label: 'assignmentActionMenuFilterWorkUnit',\n        },\n        {\n          group: AssignmentFilterGroup.TYPE,\n          type: AssignmentType.STANDARD_ASSIGNMENT,\n          label: 'assignmentActionMenuFilterAssignments',\n        },\n      ];\n    }\n\n    $onInit() {\n      super.$onInit();\n      const counterGradeAssessment = this.assessments.find(assesment =>\n        assesment.grade_system.is_counter,\n      );\n      this.hasCounterGrade = counterGradeAssessment !== undefined;\n      this.assessments = this.assignments.map(assignment =>\n        this.assessments.find(assessment => assessment.assignment.id === assignment.assignment_id),\n      );\n    }\n\n    toggleAssessment(assessment) {\n      // eslint-disable-next-line no-param-reassign, class-methods-use-this\n      assessment.open = !assessment.open;\n    }\n\n    getAssignmentForAssessment(assessment) {\n      return this.AssignmentsList.getAssignmentForAssessment(this.assignments, assessment);\n    }\n\n    isNoteAvailable(assessment) {\n      const assignment = this.getAssignmentForAssessment(assessment);\n      return !!assignment && !!assignment.private_note;\n    }\n\n    isFeedbackAvailable(assessment) {\n      const assignment = this.getAssignmentForAssessment(assessment);\n      return !!assignment && assignment.feedback_published && !!assignment.feedback;\n    }\n\n    findAssignment(assessmentAssignment) {\n      return this.assignments\n        .find(assignment => assignment.assignment_id === assessmentAssignment.id);\n    }\n\n    expandAll() {\n      this.changeOpenStateForAll(true);\n    }\n\n    collapseAll() {\n      this.changeOpenStateForAll(false);\n    }\n\n    changeOpenStateForAll(state) {\n      this.$timeout(() => {\n        this.assessments = this.assessments.map((assessment) => {\n          assessment.open = state;\n\n          return assessment;\n        });\n      }, 0);\n    }\n  },\n  style,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { showHintDialog } from '../../../common/dialogs/dialogs.helper';\n\nexport class StudentCourseProgressComponent {\n  static bindings = { courses: '<' };\n  static templateUrl = 'components/course-progress/student-course-progress/student-course-progress.html';\n  static controller = StudentCourseProgressComponent;\n\n  constructor($state, $cookies, $timeout, $mdDialog, CourseProgress) {\n    'ngInject';\n\n    this.$state = $state;\n    this.$cookies = $cookies;\n    this.$timeout = $timeout;\n    this.$mdDialog = $mdDialog;\n    this.CourseProgress = CourseProgress;\n    this.courseId = null;\n    this.courses = [];\n  }\n\n  $onInit() {\n    showHintDialog(this.$mdDialog, this.$timeout, this.$state.current.name, this.$cookies);\n\n    if (this.CourseProgress.hasLastStateSaved) {\n      this.$state.go(\n        this.CourseProgress.lastStateSaved.name,\n        this.CourseProgress.lastStateSaved.params,\n      );\n    }\n  }\n}\n","import { AssignmentOrder } from '../../../assignments/teacherAssignments/shared/enums/assignmentOrder.ts';\nimport { AssignmentType } from '../../../shared/enums/assignmentType.enum.ts';\n\nexport const studentCourseProgressRouterConfig = ($stateProvider) => {\n  'ngInject';\n\n  $stateProvider\n    .state('student-course-progress', {\n      resolve: {\n        courses: (FetchData, UserInfo) => {\n          'ngInject';\n\n          return FetchData.v3.getStudentCoursesDefinitions(UserInfo.id);\n        },\n      },\n      views: {\n        '@': { component: 'studentCourseProgress' },\n      },\n    })\n    .state('student-course-progress.courses-overview', {\n      params: {\n        coursesDefinitions: null,\n        breadcrumbs: [],\n      },\n      resolve: {\n        coursesDefinitions: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.coursesDefinitions || null;\n        },\n        courses: (FetchData, Path) => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitions(Path.getClassroomId());\n        },\n      },\n      views: {\n        'extended@': 'studentCoursesDetails',\n      },\n    })\n    .state('student-course-progress.courses-overview.learning-objectives', {\n      params: {\n        course: null,\n        breadcrumbs: [],\n        student: null,\n      },\n      resolve: {\n        student: (UserInfo) => {\n          'ngInject';\n\n          return UserInfo.getUserObj();\n        },\n        course: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.course || null;\n        },\n        courseSelected: (course) => {\n          'ngInject';\n\n          return course;\n        },\n        assessments: (FetchData, UserInfo, course) => {\n          'ngInject';\n\n          return course ?\n            FetchData.v3\n              .getCourseDefinitionObjectiveAssessments(UserInfo.userId, course.course_definition) :\n            null;\n        },\n        courseAssessment: (FetchData, course, UserInfo) => {\n          'ngInject';\n\n          return course ?\n            FetchData.v3\n              .getCourseDefinitionAssessment(UserInfo.userId, course.course_definition) :\n            {};\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'studentDetails',\n        },\n        'details@student-course-progress.courses-overview.learning-objectives': {\n          component: 'objectivesListStudent',\n        },\n      },\n    })\n    .state('student-course-progress.courses-overview.learning-objectives.assessments', {\n      params: {\n        assessment: null,\n        breadcrumbs: [],\n        objective: null,\n        ordering: AssignmentOrder.ASC_TYPE,\n        filters: [\n          AssignmentType.WORK_UNIT,\n          AssignmentType.STANDARD_ASSIGNMENT,\n        ],\n      },\n      data: {\n        statePrefix: 'StudentProgressLearningObjectiveAssignments',\n      },\n      resolve: {\n        objectiveAssessment: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.assessment;\n        },\n        objectiveSelected: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.objective;\n        },\n        objectives: ($stateParams, FetchData) => {\n          'ngInject';\n\n          return FetchData.v3\n            .getCourseDefinitionObjectives($stateParams.course.course_definition);\n        },\n        assessments: ($stateParams, FetchData, UserInfo) => {\n          'ngInject';\n\n          return FetchData.v3\n            .getObjectiveAssessments(UserInfo.userId, $stateParams.objective.id);\n        },\n        assignments: (objectiveSelected, UserInfo, AssignmentAssessmentService, $stateParams, AssignmentService) => {\n          'ngInject';\n\n          const requestConfig = {\n            ordering: $stateParams.ordering,\n          };\n\n          return AssignmentAssessmentService\n            .getAssignmentAssessmentByObjective(UserInfo.userId, objectiveSelected.id, requestConfig)\n            .then(assignmentsAssessments =>\n              AssignmentService\n                .filterAssignmentsByTypes(assignmentsAssessments, $stateParams.filters),\n            );\n        },\n        gradeSystem: (GradeSystems) => {\n          'ngInject';\n\n          return GradeSystems.fetchGradeSystemsList();\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'objectiveDetails',\n        },\n        'details@student-course-progress.courses-overview.learning-objectives.assessments': {\n          component: 'studentProgressAssignmentsList',\n        },\n      },\n    });\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../../common/global-events.ts';\n\nexport const StudentObjectiveDetails = {\n  bindings: {\n    objectiveSelected: '<',\n    objectives: '<',\n    objectiveAssessment: '<',\n    course: '<',\n  },\n  templateUrl: 'components/course-progress/student-course-progress/student-objective-details/student-objective-details.html',\n  controller: class {\n    constructor($rootScope, NavigationHistory) {\n      'ngInject';\n\n      this.$rootScope = $rootScope;\n      this.NavigationHistory = NavigationHistory;\n    }\n\n    $onInit() {\n      this.$rootScope.$emit(\n        Events.UPDATE_USER_STATUSES_FOR_COURSES_AND_OBJECTIVES,\n      );\n    }\n\n    closeAssignmentsView() {\n      this.NavigationHistory.go(\n        'student-course-progress.details.learning-objectives',\n        {\n          course: this.course,\n        },\n      );\n    }\n\n    changeObjective() {\n      this.NavigationHistory.go(\n        'student-course-progress.objective-details.learning-assignments',\n        {\n          objective: this.objectiveSelected,\n        },\n      );\n    }\n\n    toggleAssessment() {\n      this.objectiveAssessment.open = !this.objectiveAssessment.open;\n    }\n  },\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const CounterGradeEditable = {\n  bindings: {\n    label: '<',\n    grade: '<',\n    maxGrade: '<',\n    readOnly: '<',\n    onUpdate: '&'\n  },\n  controller: class {\n    updateGrade() {\n      this.onUpdate({ grade: this.grade });\n    }\n\n    increaseGrade() {\n      if (this.grade < this.maxGrade && this.grade !== null) {\n        this.grade += 1;\n        this.updateGrade();\n      }\n      if (this.grade === null) {\n        this.grade = 0;\n        this.updateGrade();\n      }\n    }\n\n    decreaseGrade() {\n      if (this.grade > 0) {\n        this.grade -= 1;\n        this.updateGrade();\n      }\n    }\n  },\n  template: `\n<div\n  class=\"counter-grade\"\n  layout=\"row\"\n  layout-align=\"start center\">\n  <span class=\"sb-label-left\" flex=\"noshrink\">\n    {{$ctrl.label}}\n  </span>\n  <div\n    flex=\"70\"\n    layout=\"row\"\n    layout-align=\"end center\"\n    class=\"input-underline\">\n    <input\n      flex=\"55\"\n      type=\"number\"\n      placeholder=\"{{ $ctrl.grade || '-' }}\"\n      ng-model-options='{ debounce: 500, allowInvalid: false }'\n      ng-readonly=\"$ctrl.readOnly\"\n      ng-model=\"$ctrl.grade\"\n      max=\"{{$ctrl.maxGrade}}\"\n      min=\"0\"\n      ng-change=\"$ctrl.updateGrade()\">\n    <span flex=\"40\">/{{$ctrl.maxGrade}}</span>\n  </div>\n  <div\n    class=\"counter-grade__arrows\"\n    flex=\"15\"\n    ng-if=\"!$ctrl.readOnly\">\n    <span class=\"arrow-up\" ng-click=\"$ctrl.increaseGrade()\"></span>\n    <span class=\"arrow-down\" ng-click=\"$ctrl.decreaseGrade()\"></span>\n  </div>\n</div>\n  `\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const CounterGradePreview = {\n  bindings: {\n    label: '<',\n    grade: '<',\n    maxGrade: '<',\n  },\n  template: `\n<span class=\"sb-course-assessment__grade-detail\n           sb-course-assessment__grade-detail--bg\">\n  {{$ctrl.label}}\n  <span\n    class=\"sb-course-assessment__grade-points\"\n    ng-if=\"!($ctrl.grade === null)\">\n    {{$ctrl.grade}}/{{$ctrl.maxGrade}}\n  </span>\n  <span\n    class=\"sb-course-assessment__grade-points\"\n    ng-if=\"$ctrl.grade === null\">\n    -/{{$ctrl.maxGrade}}\n  </span>\n</span>\n  `,\n};\n","/* eslint-disable import/prefer-default-export */\n/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const CounterGradeSummary = {\n  bindings: {\n    assessments: '<',\n  },\n  controller: class {\n    constructor(GradeSystems) {\n      'ngInject';\n\n      this.GradeSystems = GradeSystems;\n    }\n\n    $onChanges() {\n      this.counterGradesSummarized = {};\n      // get only assessments with counter grade system\n      const assessments = this.assessments\n        .filter(_assessment => _assessment.grade_system.is_counter);\n      // summarize all grades, gruped by the grade system\n      assessments.forEach((assessment) => {\n        const id = assessment.grade_system.id;\n        const gradeSystem = this.GradeSystems.getGradeSystemById(id);\n        const gradesCount = gradeSystem.grades.length;\n        // move to the next if counter_grades are null ( this situation might happen\n        // to the student when grade is not visible\n        if (!assessment.counter_grades) {\n          return;\n        }\n\n        const values = assessment.counter_grades.slice(0, gradesCount);\n        const maxValues = assessment.grade_system.max_counter_grades.slice(0, gradesCount);\n\n        if (id in this.counterGradesSummarized) {\n          const data = this.counterGradesSummarized[id];\n          data.values = this.summarizeArrays(data.values, values);\n          data.maxValues = this.summarizeArrays(data.maxValues, maxValues);\n        } else {\n          this.counterGradesSummarized[id] = {\n            values,\n            maxValues,\n            labels: gradeSystem.grades.map(grade => grade.circle_label),\n          };\n        }\n      });\n\n      // switch it to the array ( it's not possible to use Object in the angular's templates\n      this.counterGradesSummarized = Object.values(this.counterGradesSummarized);\n    }\n\n    summarizeArrays(array1, array2) {\n      const sum = new Array(array1.length);\n      // eslint-disable-next-line no-restricted-syntax\n      for (const id in Object.values(array1)) {\n        // fixing null + null == 0 error\n        if (array1[id] === null && array2[id] === null) {\n          sum[id] = null;\n        } else {\n          sum[id] = array1[id] + array2[id];\n        }\n      }\n      return sum;\n    }\n  },\n  //language=HTML\n  template: `\n<md-list-item\n  ng-repeat=\"counterGrade in $ctrl.counterGradesSummarized\">\n  <p\n    flex\n    class=\"sb-list-item-name sb-list-item-name--blue sb-list-truncate-with-arrow\"\n    ng-if=\"$first\">\n    <span localize>\n      __MSG_courseProgressECACounterSummaryLabel__\n    </span>\n  </p>\n\n  <div flex\n       class=\"sb-course-assessment__meta\n            sb-course-assessment__meta--sm\">\n\n        <span class=\"sb-course-assessment__meta-grade\n        sb-course-assessment__meta-grade--sm\n        sb-course-assessment__meta-item\n        sb-course-assessment__meta-grade--expanded\n        sb-course-assessment__meta-item--sm\">\n            <counter-grade-preview\n              ng-repeat=\"_ in counterGrade.maxValues track by $index\"\n              label=\"counterGrade.labels[$index]\"\n              grade=\"counterGrade.values[$index]\"\n              max-grade=\"counterGrade.maxValues[$index]\">\n            </counter-grade-preview>\n        </span>\n    <span class=\"sb-course-assessment__meta-item sb-course-assessment__meta-item--sm\"></span>\n  </div>\n</md-list-item>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport { Events } from '../../../common/global-events.ts';\n\nexport const GradeEditable = {\n  bindings: {\n    grade: '<',\n    gradeSystem: '<',\n    readOnly: '<',\n    isTargetGrade: '<',\n    mixpanelUpdateEvent: '@',\n    onGradeUpdate: '&',\n    onGradeChange: '&',\n  },\n  controller: class {\n    constructor($scope, $timeout, $element, Mixpanel) {\n      'ngInject';\n\n      this.$scope = $scope;\n      this.$timeout = $timeout;\n      this.$element = $element;\n      this.Mixpanel = Mixpanel;\n      this.isTargetGrade = false;\n      this.targetGradeColor = '#03A9F4';\n      this.slider = { value: -1 };\n    }\n\n    $onInit() {\n      this.$element\n        .off('.GradeEditableAnimation')\n        .on('mouseenter.GradeEditableAnimation', () => this.$timeout(() => {\n          this.sliderOptions = { ...this.sliderOptions, disableAnimation: false };\n        }))\n        .on('mouseleave.GradeEditableAnimation', () => this.$timeout(() => {\n          this.sliderOptions = { ...this.sliderOptions, disableAnimation: true };\n        }));\n\n      // find correct grade\n      if (this.grade) {\n        this.slider.value = this.gradeSystem.grades.findIndex(grade => grade.id === this.grade.id);\n      }\n\n      if (this.isTargetGrade) {\n        this.gradeSystem = angular.copy(this.gradeSystem);\n        const lastColor = this.gradeSystem.grades[this.gradeSystem.grades.length - 1].color;\n\n        this.gradeSystem.grades.forEach((grade) => {\n          if (grade.color === lastColor) {\n            // eslint-disable-next-line no-param-reassign\n            grade.color = this.targetGradeColor;\n          }\n        });\n      }\n\n      const ticksArray = [-1, ...this.gradeSystem.grades.map((value, index) => index)];\n\n      this.sliderOptions = {\n        ticksArray,\n        enforceStep: true,\n        floor: -1,\n        showSelectionBar: true,\n        showTicks: true,\n        showTicksValues: true,\n        ceil: this.gradeSystem.grades.length - 1,\n        readOnly: this.readOnly,\n        interval: 1,\n        disableAnimation: false,\n        getSelectionBarColor: (value) => {\n          if (value === -1) {\n            return '#9E9E9E';\n          }\n          return this.gradeSystem.grades[value].color;\n        },\n        getPointerColor: (value) => {\n          if (value === -1) {\n            return '#9E9E9E';\n          }\n          return this.gradeSystem.grades[value].color;\n        },\n        translate: (value, sliderId, model) => {\n          if (value === -1) {\n            return '';\n          }\n          return model === 'model' ?\n            this.gradeSystem.grades[value].circle_label :\n            this.gradeSystem.grades[value].label;\n        },\n        onStart: () => {\n          this.isActive = true;\n        },\n        onChange: () => {\n          this.onGradeChange({ grade: this.getGrade() });\n        },\n        onEnd: () => {\n          this.isActive = false;\n          this.onGradeUpdate({ grade: this.getGrade() });\n          this.Mixpanel.track(this.mixpanelUpdateEvent);\n        },\n      };\n    }\n\n    $postLink() {\n      this.$timeout(() => this.$scope.$broadcast(Events.RZ_SLIDER_FORCE_RENDER), 0)\n        .then(() => {\n          this.$timeout(() => this.$scope.$broadcast(Events.RZ_SLIDER_FORCE_RENDER), 50);\n        });\n    }\n\n    $onDestroy() {\n      this.$element.off('.GradeEditableAnimation');\n    }\n\n    getGrade() {\n      if (this.slider.value !== -1) {\n        return this.gradeSystem.grades[this.slider.value];\n      }\n      return null;\n    }\n  },\n  template: `\n    <rzslider\n      ng-if=\"$ctrl.sliderOptions\"\n      ng-class=\"{\n        'sb-course-assessment__slider--enabled-animations': !$ctrl.sliderOptions.disableAnimation,\n        'sb-course-assessment__slider--hover': $ctrl.isHovered,\n        'sb-course-assessment__slider--active': $ctrl.isActive,\n        'sb-course-assessment__slider--readonly': $ctrl.readOnly,\n      }\"\n      ng-mouseenter=\"$ctrl.isHovered = true\"\n      ng-mouseleave=\"$ctrl.isHovered = false\"\n      class=\"sb-course-assessment__slider animated-slider\"\n      rz-slider-model=\"$ctrl.slider.value\"\n      rz-slider-options=\"$ctrl.sliderOptions\"></rzslider>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const NoCourses = {\n  template: `\n    <div class=\"sb-course-assessment__course-placeholder\">\n      <span class=\"sb-ico sb-ico__course\"></span>\n      <span localize>\n        __MSG_courseProgressNoCoursesAssignmentInformation__\n      </span>\n    </div>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../common/global-events.ts';\n\nexport const NoStudentSelected = {\n  //language=HTML\n  template: `\n    <md-toolbar flex=\"nogrow\" class=\"sb-toolbar\"></md-toolbar>\n    <div class=\"sb-course-assessment__student-placeholder\">\n      <span class=\"sb-ico sb-ico__student\"></span>\n      <span localize>\n        __MSG_courseProgressNoStudentSelected__\n      </span>\n    </div>\n  `,\n  controller: class {\n    constructor($rootScope) {\n      this.$rootScope = $rootScope;\n    }\n\n    $onInit() {\n      // send signal to update users warnings for course assessment\n      this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n    }\n  },\n};\n","import { Events } from '../../../../../common/global-events.ts';\nimport style from './assignmentsList.scss';\nimport { AssignmentsComponent } from '../../../../../shared/components/assignments/assignments.component.ts';\nimport { AssignmentFilterGroup } from '../../../../../shared/enums/assignmentFilterGroup.enum';\nimport { AssignmentType } from '../../../../../shared/enums/assignmentType.enum';\n\nexport const AssignmentsList = {\n  bindings: {\n    assessments: '<',\n    assignments: '<',\n    student: '<',\n    objectiveSelected: '<',\n  },\n  templateUrl:\n    'components/course-progress/teacher-course-progress/objective-details/assignments-list/assignments-list.html',\n  controller: class extends AssignmentsComponent {\n    constructor($rootScope, $scope, $timeout, $stateParams, $state, LocalStorageService, FetchData, AssignmentsList) {\n      'ngInject';\n\n      super($scope, $stateParams, $state, LocalStorageService);\n      this.$rootScope = $rootScope;\n      this.$scope = $scope;\n      this.$timeout = $timeout;\n      this.$stateParams = $stateParams;\n      this.FetchData = FetchData;\n      this.AssignmentsList = AssignmentsList;\n      this.broadcastDelay = 200;\n      this.isEditable = false;\n      this.statePrefix = 'StudentProgressLearningObjective';\n      this.filters = [\n        {\n          group: AssignmentFilterGroup.TYPE,\n          type: AssignmentType.WORK_UNIT,\n          label: 'assignmentActionMenuFilterWorkUnit',\n        },\n        {\n          group: AssignmentFilterGroup.TYPE,\n          type: AssignmentType.STANDARD_ASSIGNMENT,\n          label: 'assignmentActionMenuFilterAssignments',\n        },\n      ];\n    }\n\n    $onInit() {\n      super.$onInit();\n      const counterGradeAssessment = this.assessments.find((assesment) => {\n        return assesment.grade_system.is_counter;\n      });\n      this.hasCounterGrade = counterGradeAssessment !== undefined;\n      this.isEditable = this.$stateParams.course &&\n        this.$stateParams.course.teacher_in_class;\n\n      this.assessments = this.assignments.map(assignment =>\n        this.assessments.find(assessment => assessment.assignment.id === assignment.assignment_id),\n      );\n    }\n\n    toggleAssessment(assessment) {\n      Object.assign(assessment, { open: !assessment.open });\n\n      if (assessment.open && !assessment.seen) {\n        this.FetchData.v3\n          .setObjectiveAssessmentSeen(\n            this.student.id,\n            this.objectiveSelected.id,\n            assessment,\n          )\n          .then(() => {\n            Object.assign(assessment, { seen: true });\n          });\n\n        this.FetchData.v3\n          .patchObjectiveAssignmentAssessmentsSeen(\n            this.student.id,\n            this.objectiveSelected.id,\n            { assignment_id: assessment.assignment.id },\n          )\n          .then(() => {\n            Object.assign(assessment.assignment, { seen: true });\n          });\n      }\n    }\n\n    updateAssessmentData(assessmentData) {\n      this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n      this.FetchData.v3\n        .updateObjectiveAssessments(\n          this.student.id,\n          this.objectiveSelected.id,\n          assessmentData,\n        )\n        .then((_assessment) => {\n          this.assessments = this.assessments.map((assessment) => {\n            if (assessment.id === _assessment.id) {\n              // Dont overwrite feedback and private_note, it messes with the ui\n              const { feedback, private_note, result, ...rest } = _assessment;\n              return { ...assessment, ...rest, grade_system: assessment.grade_system };\n            }\n            return assessment;\n          });\n        })\n        .finally(() => {\n          this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n        });\n    }\n\n    getAssignmentForAssessment(assessment) {\n      return this.AssignmentsList.getAssignmentForAssessment(this.assignments, assessment);\n    }\n\n    onAssignmentChange(assignment) {\n      this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n      this.FetchData.v3\n        .patchObjectiveAssignmentAssessments(\n          this.student.id,\n          this.objectiveSelected.id,\n          assignment,\n        )\n        .then((response) => {\n          this.assignments = this.assignments.map((_assignment) => {\n            if (_assignment.id === assignment.id) {\n              // Dont overwrite feedback and private_note, it messes with the ui\n              const { feedback, private_note, result, ...rest } = response;\n              return Object.assign({}, _assignment, assignment, rest);\n            }\n            return _assignment;\n          });\n        })\n        .finally(() => this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY));\n    }\n\n    isNoteAvailable(assessment) {\n      const assignment = this.getAssignmentForAssessment(assessment);\n\n      return (\n        (!!assessment && !!assessment.private_note) ||\n        (!!assignment && !!assignment.private_note)\n      );\n    }\n\n    isFeedbackAvailable(assessment) {\n      const assignment = this.getAssignmentForAssessment(assessment);\n\n      return (\n        (!!assessment &&\n          assessment.feedback_published &&\n          !!assessment.feedback) ||\n        (!!assignment && assignment.feedback_published && !!assignment.feedback)\n      );\n    }\n\n    findAssignment(assessmentAssignment) {\n      return this.assignments\n        .find(assignment => assignment.assignment_id === assessmentAssignment.id);\n    }\n\n    expandAll() {\n      this.changeOpenStateForAll(true);\n    }\n\n    collapseAll() {\n      this.changeOpenStateForAll(false);\n    }\n\n    changeOpenStateForAll(state) {\n      this.$timeout(() => {\n        this.assessments = this.assessments.map((assessment) => {\n          assessment.open = state;\n\n          return assessment;\n        });\n      }, 0);\n    }\n  },\n  style,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { ObjectiveDetailsCtrl } from './objective-details.controller';\n\nexport const ObjectiveDetails = {\n  bindings: {\n    student: '<',\n    course: '<',\n    objectives: '<',\n    objectiveSelected: '<',\n    objectiveAssessment: '<',\n  },\n  templateUrl: 'components/course-progress/teacher-course-progress/objective-details/objective-details.html',\n  controller: ObjectiveDetailsCtrl,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../../common/global-events.ts';\nimport { Breadcrumb } from '../../../../shared/models/breadcrumb.model.ts';\n\nexport class ObjectiveDetailsCtrl {\n  constructor($rootScope, $scope, $stateParams, $state, $timeout, BreadcrumbsService, FetchData, UserInfo) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$scope = $scope;\n    this.$stateParams = $stateParams;\n    this.$state = $state;\n    this.$timeout = $timeout;\n    this.BreadcrumbsService = BreadcrumbsService;\n    this.FetchData = FetchData;\n    this.breadcrumbs = [];\n    this.objectives = [];\n    this.broadcastDelay = 200;\n    this.isEditable = false;\n    this.isTeacher = UserInfo.isTeacher();\n  }\n\n  $onInit() {\n    this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n\n    this.breadcrumbs = [...this.$stateParams.breadcrumbs].concat(\n      new Breadcrumb(\n        this.$stateParams.objective.name,\n        this.BreadcrumbsService.createGoToAction(),\n      ),\n    );\n\n    this.isEditable = this.$stateParams.course && this.$stateParams.course.teacher_in_class;\n  }\n\n  closeAssignmentsView() {\n    // also update the warnings for the students' list\n    this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n    this.$stateParams.breadcrumbs.pop().action();\n  }\n\n  changeObjective() {\n    this.$state.go(\n     this.$state.current.name,\n      this.getRoutiongParams(),\n    );\n  }\n\n  getRoutiongParams() {\n    return Object.assign({}, this.$stateParams, {\n      objective: this.objectiveSelected,\n      student: this.student,\n      course: this.course,\n      breadcrumbs: this.breadcrumbs.slice(0, -1),\n    });\n  }\n\n  toggleAssessment() {\n    this.objectiveAssessment.open = !this.objectiveAssessment.open;\n  }\n\n  updateAssessmentData(assessmentData) {\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3\n      .updateCourseDefinitionObjectiveAssessment(\n        this.student.id,\n        this.course.course_definition,\n        assessmentData,\n      )\n      .then((assessmentResponse) => {\n        Object.assign(assessmentResponse, { open: assessmentData.open });\n        // Dont overwrite feedback and private_note, it messes with the ui\n        const { feedback, private_note, result, ...rest } = assessmentResponse;\n        this.objectiveAssessment = { ...this.objectiveAssessment, ...rest };\n      })\n      .then(() => {\n        this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n        this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n      });\n  }\n}\n","import { Events } from '../../../../common/global-events.ts';\nimport { Breadcrumb } from '../../../../shared/models/breadcrumb.model.ts';\nimport { Observer } from '../../../../shared/services/helpers/observer.service.ts';\nimport { UnsubscribableComponent } from '../../../../shared/components/abstracts/unsubscribable.component.ts';\n\nexport * from './studentDetails.scss';\n\nexport class StudentDetailsComponent extends UnsubscribableComponent {\n  static bindings = {\n    courses: '<',\n    courseSelected: '<',\n    courseAssessment: '<',\n  };\n  static controller = StudentDetailsComponent;\n  static templateUrl = 'components/course-progress/teacher-course-progress/studentDetails/studentDetails.html';\n\n  constructor($rootScope, $scope, $state, $stateParams, $timeout, BreadcrumbsService, FetchData,\n              StudentCoursesDetails) {\n    'ngInject';\n\n    super();\n    this.$rootScope = $rootScope;\n    this.$scope = $scope;\n    this.$state = $state;\n    this.$stateParams = $stateParams;\n    this.$timeout = $timeout;\n    this.BreadcrumbsService = BreadcrumbsService;\n    this.FetchData = FetchData;\n    this.StudentCoursesDetails = StudentCoursesDetails;\n    this.student = $stateParams.student || {};\n    this.courses = $stateParams.courses || [];\n    this.courseSelected = $stateParams.course;\n    this.courseAssessment = $stateParams.courseAssessment || {};\n    this.breadcrumbs = [];\n    this.broadcastDelay = 200;\n    this.isEditable = false;\n    this.courseDefinitions = null;\n    this.isTeacher = this.StudentCoursesDetails.isTeacher;\n    this.fetchStudentCoursesDetails = false;\n  }\n\n  $onInit() {\n    const observer = new Observer(this.onNextStudentCoursesDefinitions.bind(this));\n\n    this.$$unsubscribes\n      .push(this.StudentCoursesDetails.studentCoursesDefinitions$.subscribe(observer));\n\n    // show no-course view if courseSelected is undefined\n    if (!this.courseSelected) {\n      this.$state.go('teacher-course-progress.details.no-courses');\n    } else {\n      this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n\n      this.breadcrumbs = [...this.$stateParams.breadcrumbs].concat(\n        new Breadcrumb(\n          this.courseSelected.course_definition_name,\n          this.BreadcrumbsService.createGoToAction(),\n        ),\n      );\n    }\n\n    this.isEditable = this.$stateParams.courseDefinition &&\n      this.$stateParams.courseDefinition.teacher_in_class;\n  }\n\n  changeCourse() {\n    if (this.courseSelected.course_definition !== this.courseAssessment.course_definition) {\n      this.$state.go(this.$state.current.name, {\n        course: this.courseSelected,\n        courseDefinition: this.courseSelected,\n        breadcrumbs: this.breadcrumbs.slice(0, -1),\n      }).then(() => {\n        if (!this.isTeacher && this.breadcrumbs.length === 1) {\n          this.$rootScope.$emit(Events.SELECTED_COURSE_CHANGED, this.courseSelected);\n        }\n      });\n    }\n  }\n\n  toggleAssessment() {\n    this.courseAssessment.open = !this.courseAssessment.open;\n  }\n\n  updateAssessmentData(assessmentData) {\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3\n      .updateCourseDefinitionAssessment(\n        this.student.id,\n        this.courseSelected.course_definition,\n        assessmentData,\n      )\n      .then((assessment) => {\n        Object.assign(assessment, { open: assessmentData.open });\n        // Dont overwrite feedback and private_note, it messes with the ui\n        const { feedback, private_note, result, ...rest } = assessment;\n        this.courseAssessment = { ...this.courseAssessment, ...rest };\n      })\n      .then(() => {\n        this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n        this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n      });\n  }\n\n  closeStudentView() {\n    if (this.breadcrumbs.length > 1) {\n      this.$stateParams.breadcrumbs.pop().action();\n    } else {\n      this.StudentCoursesDetails.goToNoStudentSelectedState();\n    }\n  }\n\n  sizeOfCoursesDefinitions() {\n    return this.courseDefinitions ?\n      this.mergedCourseDefinitions().length :\n      0;\n  }\n\n  getSingleCourseDefinition() {\n    return this.mergedCourseDefinitions()[0];\n  }\n\n  mergedCourseDefinitions() {\n    return this.courseDefinitions ?\n      Object\n        .keys(this.courseDefinitions)\n        .reduce((acc, key) => acc.concat(this.courseDefinitions[key]), []) :\n      [];\n  }\n\n  onNextStudentCoursesDefinitions(studentCoursesDefinitions) {\n    if (studentCoursesDefinitions) {\n      let extendedCourseDefinitions = this.StudentCoursesDetails.extendByOwner(\n        this.StudentCoursesDetails.extendByCourseDetails(studentCoursesDefinitions, this.courses),\n      );\n\n      if (this.isTeacher) {\n        extendedCourseDefinitions = this.StudentCoursesDetails.filterNoneAccessibleCourses(extendedCourseDefinitions);\n      }\n\n      this.courseDefinitions = this.StudentCoursesDetails.splitByCategory(\n        extendedCourseDefinitions,\n      );\n    } else {\n      this.fetchStudentCoursesDetails = true;\n      this.StudentCoursesDetails.fetch().then((coursesDefinitions) => {\n        this.courseSelected = coursesDefinitions.find((courseDefinition) =>\n          courseDefinition.course_definition === this.courseSelected.course_definition,\n        );\n\n        if (!this.courseSelected) {\n          const stateName = this.isTeacher ? 'teacher-course-progress.details.courses-overview' :\n            'student-course-progress.courses-overview';\n\n          this.$state.go(stateName, { student: this.student });\n        }\n      }).finally(() => {\n        this.fetchStudentCoursesDetails = false;\n      });\n    }\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { StudentsListCtrl } from './studentsList.controller';\n\nexport const StudentsListComponent = {\n  bindings: {\n    students: '<',\n    selectedStudent: '<',\n  },\n  templateUrl: 'components/course-progress/teacher-course-progress/students-list/studentsList.html',\n  controller: StudentsListCtrl,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport get from 'lodash.get';\nimport { Events } from '../../../../common/global-events.ts';\nimport { UnsubscribableComponent } from '../../../../shared/components/abstracts/unsubscribable.component';\n\nexport class StudentsListCtrl extends UnsubscribableComponent {\n  constructor($rootScope, $timeout, $state, $stateParams, StudentCoursesDetails) {\n    'ngInject';\n\n    super();\n    this.$rootScope = $rootScope;\n    this.$timeout = $timeout;\n    this.$state = $state;\n    this.$stateParams = $stateParams;\n    this.StudentCoursesDetails = StudentCoursesDetails;\n  }\n\n  $onInit() {\n    this.lastSelectedStudentId = null;\n    if (this.selectedStudent) {\n      this.lastSelectedStudentId = this.selectedStudent.id;\n    }\n    this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n    this.$$unsubscribes.push(\n      this.$rootScope.$watch(() => get(this, '$stateParams.student', null), (student) => {\n        if (student) {\n          this.selectedStudent = get(this, '$stateParams.student', null);\n          this.lastSelectedStudentId = get(this, 'selectedStudent.id', null);\n        }\n      }),\n    );\n  }\n\n  toggleStudentCourseProgress(student) {\n    const stateName = this.$state.current.name;\n\n    if (['teacher-course-progress', 'teacher-course-progress.details.courses-overview'].includes(stateName)) {\n      this.goToOverview(student);\n    } else {\n      this.goToOtherStudent(student);\n    }\n  }\n\n  goToOverview(student) {\n    this.$timeout(() => {\n      this.$state.go('teacher-course-progress.details.courses-overview', { student });\n      this.lastSelectedStudentId = student.id;\n    }, 400);\n  }\n\n  goToOtherStudent(student) {\n    const stateName = this.$state.current.name;\n    let stateParams = Object.assign({}, this.$stateParams, { student });\n    stateParams = angular.copy(stateParams);\n\n    this.setStudentForBreadcrumb(stateParams.breadcrumbs, student);\n\n    this.$timeout(() => {\n      this.$state.go(stateName, stateParams)\n        .then(() => this.StudentCoursesDetails.studentCoursesDefinitions$.next(null))\n        .catch(() => {\n          this.goToOverview(student);\n        });\n      this.lastSelectedStudentId = student.id;\n    }, 400);\n  }\n\n  setStudentForBreadcrumb(breadcrumbs, student) {\n    breadcrumbs.forEach((breadcrumb) => {\n      if (get(breadcrumb, 'action.params.student', false)) {\n        Object.assign(breadcrumb.action.params.student, student);\n      }\n\n      if (breadcrumb.label === this.$stateParams.student.student_name) {\n        Object.assign(breadcrumb, { label: student.student_name });\n      }\n\n      if (get(breadcrumb, 'action.params.breadcrumbs', false)) {\n        this.setStudentForBreadcrumb(breadcrumb.action.params.breadcrumbs, student);\n      }\n    });\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { TeacherCourseProgressCtrl } from './teacher-course-progress.controller';\n\nexport const TeacherCourseProgressComponent = {\n  bindings: {\n    courses: '<',\n    students: '<',\n  },\n  controller: TeacherCourseProgressCtrl,\n  templateUrl: 'components/course-progress/teacher-course-progress/teacher-course-progress.html',\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n\nimport { UnbindableCtrlBase } from '../../../common/base-classes';\nimport { GroupedVisibilitySettings } from '../../../shared/models/groupedVisibilitySettings.model.ts';\nimport { GroupedVisibilityDialogType } from '../../../shared/enums/groupedVisibilityDialogType.enum.ts';\n\nexport class TeacherCourseProgressCtrl extends UnbindableCtrlBase {\n  constructor(TeacherCourseProgress, GroupedVisibilityService, GroupedVisibilityDialogService, StudybeeHandle, NavigationHistory) {\n    'ngInject';\n\n    super();\n    this.TeacherCourseProgress = TeacherCourseProgress;\n    this.GroupedVisibilityService = GroupedVisibilityService;\n    this.GroupedVisibilityDialogService = GroupedVisibilityDialogService;\n    this.StudybeeHandle = StudybeeHandle;\n    this.NavigationHistory = NavigationHistory;\n\n    // variables injected from component's bindings\n    this.students = [];\n    this.courses = [];\n    this.student = null;\n    this.courseId = null;\n  }\n\n  $onInit() {\n    this.courseId = this.TeacherCourseProgress.getCurrentCourseId();\n    if (this.TeacherCourseProgress.isLastStateSavedExists()) {\n      this.TeacherCourseProgress.navigateToLasStateSaved();\n    } else if (this.students.length) {\n      this.TeacherCourseProgress.navigateToNoStudentsSelected();\n    }\n\n    this.initEvents();\n\n    // use map students to change the user's status more efficient\n    this.studentsMap = this.TeacherCourseProgress.convertStudentsArrayToMap(this.students);\n  }\n\n  initEvents() {\n    this.boundEvents.push(\n      this.TeacherCourseProgress.addListenerUpdateUserStatusesForCoursesAndObjectives(\n        () => {\n          this.TeacherCourseProgress\n            .updateWarningsForStudents(this.courseId, this.studentsMap)\n            .then((studentsMap) => (this.studentsMap = studentsMap));\n        },\n      ),\n    );\n  }\n\n  exportStudentsResultsToGoogleDrive(fileType) {\n    this.TeacherCourseProgress.exportStudentsResultsToGoogleDrive(fileType, this.courseId);\n  }\n\n  shareAssessmentsWithColleagues() {\n    this.TeacherCourseProgress.shareAssessmentsWithColleagues();\n  }\n\n  hasStudents() {\n    return !!this.students.length;\n  }\n\n  setVisibility() {\n    const settings = new GroupedVisibilitySettings(GroupedVisibilityDialogType.StudentProgressView);\n    settings.students = [...this.students];\n    settings.courseDefinitions = [...this.courses];\n\n    this.GroupedVisibilityDialogService.show(settings).then((groupedVisibility) => {\n      this.GroupedVisibilityService.patchCourseAssessmentsGroupedVisibility(groupedVisibility)\n        .then(() => this.TeacherCourseProgress.reloadCurrentView());\n    });\n  }\n}\n","import { Events } from '../../../common/global-events.ts';\nimport { DialogType } from '../../../utils/enums/dialogType.enum';\nimport { ExportState } from '../../../utils/enums/exportState.enum';\n\nexport class TeacherCourseProgress {\n\n  constructor($rootScope, $state, $timeout, FetchData, CourseProgress, ExportStudentsResults,\n    ExportStudentsResultsDialog, Path, ShareAssessmentsWithColleaguesDialog) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n    this.$timeout = $timeout;\n    this.FetchData = FetchData;\n    this.CourseProgress = CourseProgress;\n    this.ExportStudentsResults = ExportStudentsResults;\n    this.ExportStudentsResultsDialog = ExportStudentsResultsDialog;\n    this.ShareAssessmentsWithColleaguesDialog = ShareAssessmentsWithColleaguesDialog;\n    this.Path = Path;\n  }\n\n  addListenerUpdateUserStatusesForCoursesAndObjectives(callback) {\n    return this.$rootScope.$on(\n      Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES,\n      callback,\n    );\n  }\n\n  updateWarningsForStudents(courseId, studentsMap) {\n    return this.fetchStudentsWarnings(courseId)\n      .then((studentsWarnings) => {\n        studentsWarnings.forEach((student) => {\n          if (studentsMap.has(student.id)) {\n            studentsMap.get(student.id).has_warnings = student.has_warnings;\n          }\n        });\n\n        return studentsMap;\n      });\n  }\n\n  fetchStudentsWarnings(courseId) {\n    return this.FetchData.v3.getUsersStatusesForCoursesAndObjectives(courseId);\n  }\n\n  exportStudentsResultsToGoogleDrive(fileType, courseId) {\n    this.ExportStudentsResults.toGoogleDrive(fileType, courseId)\n      .then((response) => {\n        this.ExportStudentsResultsDialog\n          .show({ link: response.folder_link }, DialogType.CONFIRMATION);\n\n        this.checkExportStatus(response.folder_link, response.task_id);\n      })\n      .catch(() => {\n        this.ExportStudentsResultsDialog.show({}, DialogType.FAIL);\n      });\n  }\n\n  checkExportStatus(link, exportId) {\n    this.ExportStudentsResults.checkGoogleDriveExportStatus(\n      exportId,\n      (response) => {\n        this.$timeout(() => {\n          if (response.state === ExportState.SUCCESS) {\n            this.ExportStudentsResultsDialog.show({ link }, DialogType.SUCCESS);\n          } else {\n            this.ExportStudentsResultsDialog.show({}, DialogType.FAIL);\n          }\n        });\n      });\n  }\n\n  convertStudentsArrayToMap(students) {\n    return students\n      .reduce((studentsMap, student) => studentsMap.set(student.id, student), new Map());\n  }\n\n  navigateToNoStudentsSelected() {\n    this.$state.go('teacher-course-progress');\n  }\n\n  navigateToLasStateSaved() {\n    this.$state.go(\n      this.CourseProgress.lastStateSaved.name,\n      this.CourseProgress.lastStateSaved.params,\n    );\n  }\n\n  isLastStateSavedExists() {\n    return this.CourseProgress.hasLastStateSaved;\n  }\n\n  getCurrentCourseId() {\n    return this.Path.getClassroomId();\n  }\n\n  shareAssessmentsWithColleagues() {\n    this.ShareAssessmentsWithColleaguesDialog.show();\n  }\n\n  reloadCurrentView() {\n    this.$state.reload();\n  }\n}\n","export const ExportState = {\n  PENDING: 'PENDING',\n  STARTED: 'STARTED',\n  FAILURE: 'FAILURE',\n  SUCCESS: 'SUCCESS',\n};\n","import { AssignmentOrder } from '../../../assignments/teacherAssignments/shared/enums/assignmentOrder.ts';\nimport { AssignmentType } from '../../../shared/enums/assignmentType.enum.ts';\n\nexport const routerConfig = ($stateProvider) => {\n  'ngInject';\n\n  $stateProvider\n  // right panel, with students' list\n    .state('teacher-course-progress', {\n      resolve: {\n        students: (FetchData, Path) => {\n          'ngInject';\n\n          return FetchData.getStudentsList(Path.getClassroomId());\n        },\n        courses: (FetchData, Path) => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitions(Path.getClassroomId());\n        },\n      },\n      views: {\n        '@': {\n          component: 'teacherCourseProgress',\n        },\n      },\n    })\n    .state('teacher-course-progress.details', {\n      params: {\n        course: null,\n        student: null,\n        courseDefinition: null,\n      },\n      resolve: {\n        courseSelected: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.course;\n        },\n        courseAssessment: (FetchData, $stateParams) => {\n          'ngInject';\n\n          if (!$stateParams.course) {\n            return {};\n          }\n\n          return FetchData.v3.getCourseDefinitionAssessment(\n            $stateParams.student.id,\n            $stateParams.course.course_definition,\n          );\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'studentDetails',\n        },\n      },\n    })\n    .state('teacher-course-progress.details.no-courses', {\n      views: {\n        'details@teacher-course-progress.details': {\n          component: 'noCourses',\n        },\n      },\n    })\n    // learning objectives list, user's information\n    .state('teacher-course-progress.details.courses-overview', {\n      params: {\n        course: null,\n        student: null,\n      },\n      views: {\n        'extended@': {\n          component: 'studentCoursesDetails',\n        },\n      },\n    })\n    // bottom panel with learning objectives data\n    .state('teacher-course-progress.details.learning-objectives', {\n      params: {\n        course: null,\n        student: null,\n        courseDefinition: null,\n        breadcrumbs: [],\n        ordering: AssignmentOrder.ASC_TYPE,\n        filters: [\n          AssignmentType.WORK_UNIT,\n          AssignmentType.STANDARD_ASSIGNMENT,\n        ],\n      },\n      data: {\n        statePrefix: 'StudentProgressStudentDetailsAssignmentsAssignments',\n      },\n      resolve: {\n        assessments: (FetchData, $stateParams) => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitionObjectiveAssessments(\n            $stateParams.student.id,\n            $stateParams.courseDefinition.course_definition,\n          );\n        },\n        objectiveAssignmentAssessments: (FetchData, $stateParams, courseAssessment, AssignmentService) => {\n          'ngInject';\n\n          const requestConfig = {\n            ordering: $stateParams.ordering,\n          };\n\n          return FetchData.v3\n            .getAssignmentAssessment(\n              $stateParams.student.id,\n              courseAssessment.course_definition,\n              requestConfig,\n            )\n            .then(assignments =>\n              AssignmentService.filterAssignmentsByTypes(assignments, $stateParams.filters),\n            );\n        },\n      },\n      views: {\n        'details@teacher-course-progress.details': {\n          component: 'objectivesListTeacher',\n        },\n        'assignments@teacher-course-progress.details': {\n          component: 'assignmentsOverview',\n        },\n      },\n    })\n    .state('teacher-course-progress.details.learning-objectives.assignmentOverview', {\n      params: {\n        course: null,\n        student: null,\n        courseDefinition: null,\n        objectiveAssessment: null,\n        breadcrumbs: [],\n      },\n      resolve: {\n        objectiveAssessment: (objectiveAssignmentAssessments, $stateParams, $q) => {\n          'ngInject';\n\n          let objectiveAssessment = $stateParams.objectiveAssessment;\n\n          if ($stateParams.student.id !== $stateParams.objectiveAssessment.student_id) {\n            objectiveAssessment = objectiveAssignmentAssessments\n              .find((objectiveAssignmentAssessment) =>\n                objectiveAssignmentAssessment.assignment_id ===\n                $stateParams.objectiveAssessment.assignment_id,\n              );\n          }\n\n          return objectiveAssessment ? $q.resolve(objectiveAssessment) : $q.reject(null);\n        },\n        objectives: (FetchData, $stateParams) => {\n          'ngInject';\n\n          return FetchData.v3.getListObjectiveAssessments(\n            $stateParams.student.id,\n            $stateParams.courseDefinition.course_definition,\n            $stateParams.objectiveAssessment.assignment_id,\n          );\n        },\n        isGradeTextsEnable: (FetchData, $stateParams) => {\n          'ngInject';\n\n          return FetchData\n            .getAssignedObjectivesToAssignment($stateParams.objectiveAssessment.assignment_id)\n            .then(response => response.enable_grade_texts);\n        }\n      },\n      views: {\n        'extended@': {\n          component: 'assignmentOverviewDetails',\n        },\n        'details@teacher-course-progress.details.learning-objectives.assignmentOverview': {\n          component: 'assignmentOverviewObjectivesList',\n        },\n      },\n    })\n\n    // ---------------------------------------------------------------\n\n    .state('teacher-course-progress.objective-details', {\n      params: {\n        objective: null,\n        course: null,\n        student: null,\n        breadcrumbs: [],\n      },\n      resolve: {\n        student: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.student;\n        },\n        course: ($stateParams) => {\n          'ngInject';\n\n          return $stateParams.course;\n        },\n        objectives: (FetchData, course) => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitionObjectives(course.course_definition);\n        },\n        objectiveSelected: ($stateParams, objectives) => {\n          'ngInject';\n\n          return objectives.find(objective => objective.id === $stateParams.objective.id);\n        },\n        objectiveAssessment: (\n          FetchData,\n          objectiveSelected,\n          course,\n          student,\n        ) => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitionObjectiveAssessment(\n            student.id,\n            course.course_definition,\n            objectiveSelected.id,\n          );\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'objectiveDetails',\n        },\n      },\n    })\n    .state('teacher-course-progress.objective-details.learning-assignments', {\n      params: {\n        objective: null,\n        course: null,\n        student: null,\n        breadcrumbs: [],\n        ordering: AssignmentOrder.ASC_TYPE,\n        filters: [\n          AssignmentType.WORK_UNIT,\n          AssignmentType.STANDARD_ASSIGNMENT,\n        ],\n      },\n      data: {\n        statePrefix: 'StudentProgressLearningObjectiveAssignments',\n      },\n      resolve: {\n        assessments: (FetchData, objectiveSelected, student) => {\n          'ngInject';\n\n          return FetchData.v3.getObjectiveAssessments(student.id, objectiveSelected.id);\n        },\n        assignments: (objectiveSelected, student, AssignmentAssessmentService, $stateParams, AssignmentService) => {\n          'ngInject';\n\n          const requestConfig = {\n            ordering: $stateParams.ordering,\n          };\n\n          return AssignmentAssessmentService\n            .getAssignmentAssessmentByObjective(student.id, objectiveSelected.id, requestConfig)\n            .then(assignmentsAssessments =>\n              AssignmentService\n                .filterAssignmentsByTypes(assignmentsAssessments, $stateParams.filters),\n            );\n        },\n        gradeSystem: (GradeSystems) => {\n          'ngInject';\n\n          return GradeSystems.fetchGradeSystemsList();\n        },\n      },\n      views: {\n        'details@teacher-course-progress.objective-details': {\n          component: 'assignmentsList',\n        },\n      },\n    });\n};\n","import { UnbindableCtrlBase } from '../../../../common/base-classes';\nimport { Observer } from '../../../../shared/services/helpers/observer.service.ts';\n\nexport class StudentCoursesDetailsComponent extends UnbindableCtrlBase {\n  static bindings = {\n    courses: '<',\n    coursesDefinitions: '<?',\n  };\n  static controller = StudentCoursesDetailsComponent;\n  static templateUrl =\n    'components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.html';\n\n  constructor(StudentCoursesDetails, ColleagueEmailsService) {\n    'ngInject';\n\n    super();\n    this.StudentCoursesDetails = StudentCoursesDetails;\n    this.ColleagueEmailsService = ColleagueEmailsService;\n    this.studentCoursesDefinitions = { archived: [], current: [], other: [] };\n    this.courses = [];\n    this.colleagueEmails = [];\n    this.coursesDefinitions = null;\n    this.pending = true;\n    this.student = null;\n    this.model = '';\n    this.isOpen = false;\n    this.isTeacher = this.StudentCoursesDetails.isTeacher;\n    this.boundEvents.push(\n      this.ColleagueEmailsService.colleagueEmails$\n        .subscribe(new Observer(this.onColleagueEmailsUpdate.bind(this))),\n    );\n  }\n\n  $onInit() {\n    if (!this.colleagueEmails.length) {\n      this.ColleagueEmailsService.get();\n    }\n\n    this.student = this.StudentCoursesDetails.getCurrentStudent();\n\n    this.StudentCoursesDetails.extendStudentObject(this.student)\n      .then((student) => (this.student = student))\n      .finally(() => {\n        if (this.coursesDefinitions) {\n          this.pending = false;\n        }\n      });\n\n    if (!this.coursesDefinitions) {\n      this.StudentCoursesDetails.fetch()\n        .then(studentCoursesDefinitions =>\n          this.StudentCoursesDetails.extendByCourseDetails(\n            studentCoursesDefinitions,\n            this.courses,\n          ),\n        )\n        .then(studentCoursesDefinitions =>\n          this.StudentCoursesDetails.extendByOwner(studentCoursesDefinitions),\n        )\n        .then(studentCoursesDefinitions =>\n          this.StudentCoursesDetails.splitByCategory(studentCoursesDefinitions),\n        )\n        .then(\n          studentCoursesDefinitions =>\n            (this.studentCoursesDefinitions = studentCoursesDefinitions),\n        )\n        .finally(() => (this.pending = false));\n    } else {\n      this.coursesDefinitions = this.StudentCoursesDetails\n        .extendByCourseDetails(this.coursesDefinitions, this.courses);\n\n      this.coursesDefinitions = this.StudentCoursesDetails\n        .extendByOwner(this.coursesDefinitions);\n\n      this.studentCoursesDefinitions = this.StudentCoursesDetails\n        .splitByCategory(this.coursesDefinitions);\n    }\n  }\n\n  onFeedbackChange($event) {\n    const data = {\n      feedback: $event.value,\n      feedback_published: $event.isPublished,\n    };\n    this.updateStudent(data);\n  }\n\n  onPrivateNoteChange($event) {\n    const data = { id: this.student.id, private_note: $event.value };\n    this.updateStudent(data);\n  }\n\n  updateStudent(data) {\n    this.StudentCoursesDetails.updateStudentDetails(this.student.id, data)\n      .then((student) => this.StudentCoursesDetails.applyLastStudentUpdateDate(student))\n      .then((student) => {\n        // Dont overwrite feedback and private_note, it messes with the ui\n        const { feedback, private_note, result, ...rest } = student;\n        this.student = {\n          ...this.student,\n          ...rest,\n        };\n      });\n  }\n\n  getCurrentClassName() {\n    return this.StudentCoursesDetails.findClassName(\n      this.studentCoursesDefinitions.current,\n    );\n  }\n\n  close() {\n    this.StudentCoursesDetails.goToNoStudentSelectedState();\n  }\n\n  editStudentDetails() {\n    this.StudentCoursesDetails.showStudentDetailsEditDialog(this.student).then(\n      student => this.updateStudent(student),\n    );\n  }\n\n  onColleagueEmailsUpdate(colleagueEmails) {\n    this.colleagueEmails = colleagueEmails;\n  }\n\n  isOverallEmpty() {\n    return !this.isTeacher && !this.student.feedback;\n  }\n}\n","import moment from 'moment';\nimport { Events } from '../../../../common/global-events.ts';\nimport { BehaviourSubject } from '../../../../shared/services/helpers/behaviourSubject.service.ts';\n\nexport class StudentCoursesDetails {\n  static STATE_PREFIX = {\n    student: 'student-course-progress.courses-overview',\n    teacher: 'teacher-course-progress.details',\n  };\n\n  static NO_STUDENT_SELECTED_STATE = {\n    name: '',\n    params: {},\n  };\n\n  static COURSE_DETAILS_STATE = {\n    name: '.learning-objectives',\n  };\n\n  constructor($rootScope, $state, $stateParams, $q, FetchData, StudentDetailsEditDialog, UserInfo) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n    this.$stateParams = $stateParams;\n    this.$q = $q;\n    this.FetchData = FetchData;\n    this.StudentDetailsEditDialog = StudentDetailsEditDialog;\n    this.UserInfo = UserInfo;\n    this.isTeacher = this.UserInfo.isTeacher();\n    this.studentCoursesDefinitions$ = new BehaviourSubject(null);\n  }\n\n  fetch(student = this.getCurrentStudent()) {\n    return this.FetchData.v3\n      .getStudentCoursesDefinitions(student.id)\n      .then((response) => {\n        this.studentCoursesDefinitions$.next(response);\n\n        return response;\n      });\n  }\n\n  update(student, courseDefiniton) {\n    if (courseDefiniton.target_grade && courseDefiniton.target_grade.id) {\n      courseDefiniton.target_grade = courseDefiniton.target_grade.id;\n    }\n\n    this.showNewRequestToast();\n\n    return this.FetchData.v3\n      .updateCourseDefinitionAssessment(\n        student.id,\n        courseDefiniton.course_definition,\n        courseDefiniton,\n      )\n      .then((response) => {\n        this.showSuccessToast();\n        return response;\n      });\n  }\n\n  getCurrentStudent() {\n    return this.isTeacher ? this.$stateParams.student : this.UserInfo.getUserObj();\n  }\n\n  extendByCourseDetails(studentCoursesDefinitions = [], courses = []) {\n    if (!!studentCoursesDefinitions.length && !!courses.length) {\n      return studentCoursesDefinitions.map((coursesDefinitions) => {\n        const courseInClass = !!courses.find(\n          course => course.id === coursesDefinitions.course_definition,\n        );\n\n        return Object.assign({}, coursesDefinitions, {\n          courseInClass,\n        });\n      });\n    }\n\n    return studentCoursesDefinitions;\n  }\n\n  extendByOwner(studentCoursesDefinitions = []) {\n    if (studentCoursesDefinitions.length) {\n      return studentCoursesDefinitions.map((coursesDefinitions) => {\n        return Object.assign({}, coursesDefinitions, {\n          isOwner: false,\n        });\n      });\n    }\n\n    return studentCoursesDefinitions;\n  }\n\n  splitByCategory(studentCoursesDefinitions) {\n    const archived = this.filterArchived(studentCoursesDefinitions);\n    const current = this.filterCurrentClass(studentCoursesDefinitions);\n    const other = this.filterOtherClass(studentCoursesDefinitions);\n\n    return { archived, current, other };\n  }\n\n  filterCurrentClass(studentCoursesDefinitions) {\n    return studentCoursesDefinitions.filter(\n      studentCourseDefinitions =>\n        !studentCourseDefinitions.google_classroom_data.archived &&\n        studentCourseDefinitions.courseInClass,\n    );\n  }\n\n  filterOtherClass(studentCoursesDefinitions) {\n    return studentCoursesDefinitions.filter(\n      studentCourseDefinitions =>\n        !studentCourseDefinitions.google_classroom_data.archived &&\n        !studentCourseDefinitions.courseInClass,\n    );\n  }\n\n  filterArchived(studentCoursesDefinitions) {\n    return studentCoursesDefinitions.filter(\n      studentCourseDefinitions =>\n        studentCourseDefinitions.google_classroom_data.archived,\n    );\n  }\n\n  findClassName(studentCoursesDefinitions = []) {\n    return studentCoursesDefinitions.length\n      ? studentCoursesDefinitions[0].google_classroom_data.name\n      : '';\n  }\n\n  filterNoneAccessibleCourses(studentCoursesDefinitions) {\n    return studentCoursesDefinitions.filter((studentCourseDefinitions) =>\n      studentCourseDefinitions.teacher_in_class || studentCourseDefinitions.shared_with_teacher || studentCourseDefinitions.is_mentor,\n    );\n  }\n\n  goToNoStudentSelectedState() {\n    const [stateName, ..._] = this.getStatePrefix().split('.');\n\n    this.$state.go(\n      stateName,\n      StudentCoursesDetails.NO_STUDENT_SELECTED_STATE.params,\n    );\n  }\n\n  goToCourseDetails(params) {\n    const stateName = `${this.getStatePrefix()}${StudentCoursesDetails.COURSE_DETAILS_STATE.name}`;\n    this.$state.go(stateName, params);\n  }\n\n  getStatePrefix() {\n    return this.isTeacher ?\n      StudentCoursesDetails.STATE_PREFIX.teacher : StudentCoursesDetails.STATE_PREFIX.student;\n  }\n\n  extendStudentObject(student = this.getCurrentStudent()) {\n    return this.fetchStudentDetails(student.id)\n      .then(\n        additionalData => Object.assign({}, student, additionalData),\n      )\n      .then(extendedStudent => this.applyLastStudentUpdateDate(extendedStudent))\n      .catch(() => student);\n  }\n\n  applyLastStudentUpdateDate(student) {\n    let lastUpdate = null;\n\n    if (this.isTeacher) {\n      lastUpdate = moment(student.feedback_last_edit).isAfter(student.private_note_last_edit)\n        ? student.feedback_last_edit\n        : student.private_note_last_edit;\n    } else if (student.feedback_last_edit) {\n      lastUpdate = student.feedback_last_edit;\n    }\n\n    return Object.assign({}, student, { last_update: lastUpdate });\n  }\n\n  fetchStudentDetails(studentId) {\n    return this.FetchData.getStudentDetails(studentId);\n  }\n\n  updateStudentDetails(studentId, data) {\n    this.showNewRequestToast();\n    return this.FetchData.updateStudentDetails(studentId, data)\n      .then(response => {\n        this.showSuccessToast();\n        return response;\n      });\n  }\n\n  showStudentDetailsEditDialog(student) {\n    return this.StudentDetailsEditDialog.show({ student });\n  }\n\n  showNewRequestToast() {\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n  }\n\n  showSuccessToast() {\n    this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n  }\n}\n","import { IComponentController } from 'angular';\nimport { StateParams, StateService } from '@uirouter/core';\nimport { IBreadcrumbsService } from '../../../../common/components/breadcrumbs/breadcrumbs.service';\nimport { Breadcrumb, IBreadcrumb } from '../../../../shared/models/breadcrumb.model';\nimport { IObjectiveAssignmentAssessment } from '../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule, { IAssignmentOverviewService } from '../teacher-course-progress.module';\nimport style from './assignmentOverviewDetails.scss';\nimport template from './assignmentOverviewDetails.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'assignment-overview-details',\n  template: template,\n  style: style,\n})\nexport class AssignmentOverviewDetailsComponent implements IComponentController {\n  @Input()\n  public objectiveAssignmentAssessments: IObjectiveAssignmentAssessment[];\n  @Input()\n  public objectiveAssessment: IObjectiveAssignmentAssessment;\n\n  public breadcrumbs: IBreadcrumb[];\n  public courseName: string;\n\n  constructor(private AssignmentOverviewService: IAssignmentOverviewService, private BreadcrumbsService: IBreadcrumbsService,\n              private $stateParams: StateParams, private $state: StateService) {\n    'ngInject';\n\n\n    this.objectiveAssignmentAssessments = [];\n    this.objectiveAssessment = null;\n    this.breadcrumbs = [];\n    this.courseName = '';\n  }\n\n  public $onInit(): void {\n    this.updateBreadcrumbs();\n    this.courseName = this.$stateParams.course.course_definition_name;\n  }\n\n  public onClickBackArrow(): void {\n    this.$stateParams.breadcrumbs.pop().action();\n  }\n\n  public onClickClose(): void {\n    this.objectiveAssessment.$$open = false;\n  }\n\n  public onChangeObjectiveAssessment(): void {\n    this.$state.go(\n      this.$state.current.name,\n      Object.assign({}, this.$stateParams, { objectiveAssessment: this.objectiveAssessment }),\n    );\n  }\n\n  public onChangeOverall(changedObjectiveAssessment: IObjectiveAssignmentAssessment): void {\n    this.AssignmentOverviewService\n      .changeObjectiveAssignmentAssessment(changedObjectiveAssessment, this.$stateParams.course.course_definition)\n      .then((newObjectiveAssessment: IObjectiveAssignmentAssessment): void => {\n        // Dont overwrite feedback and private_note, it messes with the ui\n        const { feedback, private_note, result, ...rest } = newObjectiveAssessment;\n        this.objectiveAssessment = { ...this.objectiveAssessment, ...rest};\n      });\n  }\n\n  private updateBreadcrumbs(): void {\n    this.breadcrumbs = [...this.$stateParams.breadcrumbs].concat(\n      new Breadcrumb(\n        this.objectiveAssessment.assignment_title,\n        this.BreadcrumbsService.createGoToAction(),\n      ),\n    );\n  }\n}\n","import { IComponentController, ITimeoutService } from 'angular';\nimport { ListViewType } from '../../../../../shared/enums/listViewType.enum';\nimport { IListViewMenuItem, ListViewMenuItem } from '../../../../../shared/models/listViewMenuItem.model';\nimport { IObjectiveAssignmentAssessment } from '../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { ListViewMenuService } from '../../../../../shared/services/listViewMenu/listViewMenu.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule, { IAssignmentOverviewObjectivesListService } from '../../teacher-course-progress.module';\nimport style from './assignmentOverviewObjectivesList.scss';\nimport template from './assignmentOverviewObjectivesList.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'assignment-overview-objectives-list',\n  template: template,\n  style: style,\n})\nexport class AssignmentOverviewObjectivesListComponent implements IComponentController {\n  @Input()\n  public objectiveAssessment: IObjectiveAssignmentAssessment;\n  @Input()\n  public objectives: any[];\n  @Input() isGradeTextsEnable: boolean;\n\n  private readonly storageId: string;\n  public readonly listViewType: any;\n  public readonly toolbarMenuItems: ListViewMenuItem[];\n  public view: ListViewType;\n\n  constructor(private AssignmentOverviewObjectivesListService: IAssignmentOverviewObjectivesListService, private ListViewMenuService: ListViewMenuService,\n              private $timeout: ITimeoutService) {\n    'ngInject';\n\n    this.objectiveAssessment = null;\n    this.objectives = [];\n    this.isGradeTextsEnable = false;\n    this.storageId = 'teacherAssignmentOverviewObjectivesList';\n    this.listViewType = ListViewType;\n    this.toolbarMenuItems = ListViewMenuService.getListViewMenu(this.storageId);\n    this.view = ListViewType.TITLE_AND_DESCRIPTION;\n  }\n\n  public $onInit(): void {\n    this.view = this.toolbarMenuItems\n      .find((listViewMenuItem: IListViewMenuItem): boolean => listViewMenuItem.checked)\n      .eventArgs.view;\n  }\n\n  public onClickClose(objective: any): void {\n    objective.open = false;\n  }\n\n  public onUpdateAssessment(changedObjective: any): void {\n    this.AssignmentOverviewObjectivesListService.updateObjectiveAssessments(changedObjective)\n      .then((newObjective: any): void => {\n        this.objectives = this.objectives.map((objective: any): any => {\n          // Dont overwrite feedback and private_note, it messes with the ui\n          const { feedback, private_note, ...rest } = newObjective;\n          return objective.id === newObjective.id ?\n            {...objective, ...rest} :\n            objective;\n        });\n      });\n  }\n\n  public onClickMenuItem(toolbarMenuItem: IListViewMenuItem): void {\n    this.toolbarMenuItems.forEach((menuItem: any): void => {\n      menuItem.checked = false;\n    });\n    toolbarMenuItem.checked = true;\n    this.ListViewMenuService.saveListViewMenu(this.storageId, this.toolbarMenuItems);\n    this.changeView(toolbarMenuItem.eventArgs);\n  }\n\n  public expandAll(): void {\n    this.changeOpenStateForAll(true);\n  }\n\n  public collapseAll(): void {\n    this.changeOpenStateForAll(false);\n  }\n\n  private changeOpenStateForAll(state): void {\n    this.$timeout(() => {\n      this.objectives = this.objectives.map((objective: any): any => {\n        objective.open = state;\n\n        return objective;\n      });\n    }, 0);\n  }\n\n  private changeView(eventArgs: { [arg: string]: any }): void {\n    this.view = eventArgs.view;\n  }\n}\n","import { IPromise } from 'angular';\nimport { AssignmentOrder } from '../../../assignments/teacherAssignments/shared/enums/assignmentOrder';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { FetchData } from '../../../utils/services/fetchData.service';\nimport { UserInfo } from '../../../utils/services/userInfo.service';\nimport { AssignmentState } from '../../enums/assignmentStateType.enum';\nimport { AssignmentType } from '../../enums/assignmentType.enum';\nimport { RequestType } from '../../enums/requestType.enum';\nimport { IAssignment } from '../../models/assignment.model';\nimport { IAssignmentGroupedResponse } from '../../models/assignmentGroupedResponse.model';\nimport { IAssignmentRequestConfig } from '../../models/assignmentRequestConfig.model';\nimport { RequestParams } from '../../types/requestParams.type';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'AssignmentService',\n})\nexport class AssignmentService {\n  public static DEFAULT_REQUEST_CONFIG: IAssignmentRequestConfig = {\n    ordering: AssignmentOrder.ASC_TYPE,\n    assignment_state: [AssignmentState.PUBLISHED, AssignmentState.DRAFT],\n  };\n\n  constructor(private FetchData: FetchData, private UserInfo: UserInfo) {\n    'ngInject';\n  }\n\n  public getAssignments(courseId: string, requestConfig: IAssignmentRequestConfig = AssignmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignment[]> {\n    return this.fetchAssignments<IAssignment[]>(courseId, requestConfig);\n  }\n\n  public getAssignmentsGrouped(courseId: string, requestConfig: IAssignmentRequestConfig = AssignmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignmentGroupedResponse> {\n    return this.fetchAssignments<IAssignmentGroupedResponse>(courseId, requestConfig, true);\n  }\n\n  public updateAssignment(assignment: IAssignment): IPromise<IAssignment> {\n    const url: string = `/v3/classes/assignment_details/${assignment.id}`;\n\n    return this.FetchData.sendAPIRequest(url, RequestType.PATCH, assignment);\n  }\n\n  public filterAssignmentsByTypes(assignments: IAssignment[], types: AssignmentType[]): IAssignment[] {\n    return assignments.filter((assignment: IAssignment): boolean =>\n      assignment.assignment_not_assessable && types.includes(AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS) ||\n      !assignment.assignment_not_assessable && types.includes(assignment.assignment_type),\n    );\n  }\n\n  public filterAssignmentsByStates(assignments: IAssignment[], states: AssignmentState[]): IAssignment[] {\n    return assignments.filter((assignments: IAssignment): boolean => states.includes(assignments.state));\n  }\n\n  private fetchAssignments<T>(courseId: string, requestConfig: IAssignmentRequestConfig = AssignmentService.DEFAULT_REQUEST_CONFIG, group: boolean = false): IPromise<T> {\n    const _requestConfig: IAssignmentRequestConfig = Object\n      .assign({}, AssignmentService.DEFAULT_REQUEST_CONFIG, requestConfig);\n    const url: string = this.buildUrl(courseId);\n    const params: RequestParams = this.buildParams(_requestConfig, group);\n\n    return this.FetchData.sendAPIRequestWithParams(params, url, RequestType.GET);\n  }\n\n  private buildUrl(courseId: string): string {\n    if (this.UserInfo.isTeacher()) {\n      return `/v3/classes/${courseId}/assignments/`;\n    } else {\n      return `/classes/student_assignments/${courseId}/`;\n    }\n  }\n\n  private buildParams(requestConfig: IAssignmentRequestConfig, group: boolean = false): RequestParams {\n    return group ? Object.assign({ group_by_assessability: true }, requestConfig) : requestConfig;\n  }\n}\n","import { IPromise } from 'angular';\nimport { AssignmentOrder } from '../../../assignments/teacherAssignments/shared/enums/assignmentOrder';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { FetchData } from '../../../utils/services/fetchData.service';\nimport { RequestType } from '../../enums/requestType.enum';\nimport { IAssignment } from '../../models/assignment.model';\nimport { IAssignmentGroupedResponse } from '../../models/assignmentGroupedResponse.model';\nimport { IAssignmentRequestConfig } from '../../models/assignmentRequestConfig.model';\nimport { RequestParams } from '../../types/requestParams.type';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'AssignmentAssessmentService',\n})\nexport class AssignmentAssessmentService {\n  public static DEFAULT_REQUEST_CONFIG: IAssignmentRequestConfig = {\n    ordering: AssignmentOrder.ASC_TYPE,\n  };\n\n  constructor(private FetchData: FetchData) {\n    'ngInject';\n  }\n\n  public getAssignmentAssessmentByCourseDefiniton(studentId: number, courseDefinitionId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignment[]> {\n    return this.fetchAssignmentsByCourseDefinition<IAssignment[]>(studentId, courseDefinitionId, requestConfig);\n  }\n\n  public getAssignmentAssessmentByCourseDefinitonGouped(studentId: number, courseDefinitionId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignmentGroupedResponse> {\n    return this.fetchAssignmentsByCourseDefinition<IAssignmentGroupedResponse>(studentId, courseDefinitionId, requestConfig, true);\n  }\n\n  public getAssignmentAssessmentByObjective(studentId: number, objectiveId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignment[]> {\n    return this.fetchAssignmentsByObjective<IAssignment[]>(studentId, objectiveId, requestConfig);\n  }\n\n  public getAssignmentAssessmentByObjectiveGouped(studentId: number, objectiveId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG): IPromise<IAssignmentGroupedResponse> {\n    return this.fetchAssignmentsByObjective<IAssignmentGroupedResponse>(studentId, objectiveId, requestConfig, true);\n  }\n\n  private fetchAssignmentsByCourseDefinition<T>(studentId: number, courseDefinitionId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG, group: boolean = false): IPromise<T> {\n    const _requestConfig: IAssignmentRequestConfig = Object\n      .assign({}, AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG, requestConfig);\n    const url: string = this.buildUrlByCourseDefinition(studentId, courseDefinitionId);\n    const params: RequestParams = this.buildParams(_requestConfig, group);\n\n    return this.fetchAssignments<T>(url, params);\n  }\n\n  private fetchAssignmentsByObjective<T>(studentId: number, objectiveId: number, requestConfig: IAssignmentRequestConfig = AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG, group: boolean = false): IPromise<T> {\n    const _requestConfig: IAssignmentRequestConfig = Object\n      .assign({}, AssignmentAssessmentService.DEFAULT_REQUEST_CONFIG, requestConfig);\n    const url: string = this.buildUrlByObjective(studentId, objectiveId);\n    const params: RequestParams = this.buildParams(_requestConfig, group);\n\n    return this.FetchData.sendAPIRequestWithParams(params, url, RequestType.GET);\n  }\n\n  private fetchAssignments<T>(url: string, params: RequestParams): IPromise<T> {\n    return this.FetchData.sendAPIRequestWithParams(params, url, RequestType.GET);\n  }\n\n  private buildUrlByCourseDefinition(studentId: number, courseDefinitionId: number): string {\n    return `/v3/classes/students/${studentId}/courses-definitions/${courseDefinitionId}/assignment-assessments/`;\n  }\n\n  private buildUrlByObjective(studentId: number, objectiveId: number): string {\n    return `/v3/classes/students/${studentId}/objectives/${objectiveId}/assignment-assessments/`;\n  }\n\n  private buildParams(requestConfig: IAssignmentRequestConfig, group: boolean = false): RequestParams {\n    const params: RequestParams = { ordering: requestConfig.ordering };\n\n    if (group) {\n      params.group_by_assessability = true;\n    }\n\n    return params;\n  }\n}\n","import { IPromise } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { IColleagueEmail, ColleagueEmail, IColleagueEmailResponse } from '../../models/colleagueEmail.model';\nimport { BehaviourSubject, IBehaviourSubject } from '../helpers/behaviourSubject.service';\nimport SharedServicesModule from '../services.module';\n\nexport interface IColleagueEmailsService {\n  colleagueEmails$: IBehaviourSubject<IColleagueEmail[]>;\n  add(email: string): IPromise<IColleagueEmail>;\n  get(): IPromise<IColleagueEmail[]>;\n  isEmailValid(email?: string): boolean;\n  isUnique(email?: string): boolean;\n  remove(colleagueEmail: IColleagueEmail): IPromise<void>;\n}\n\nexport abstract class AbstractColleagueEmailsService implements  IColleagueEmailsService {\n  static EMAIL_PATTERN: string = '[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?';\n  public abstract colleagueEmails$: IBehaviourSubject<IColleagueEmail[]>;\n  protected constructor(protected FetchData: any) {};\n  public abstract add(email: string): angular.IPromise<IColleagueEmail>;\n  public abstract get(): angular.IPromise<IColleagueEmail[]>;\n  public abstract isEmailValid(email?: string): boolean;\n  public abstract isUnique(email?: string): boolean;\n  public abstract remove(colleagueEmail: IColleagueEmail): angular.IPromise<void>;\n}\n\n@Service({\n  module: SharedServicesModule,\n  name: 'ColleagueEmailsService',\n})\nexport class ColleagueEmailsService extends AbstractColleagueEmailsService  {\n  public colleagueEmails$: IBehaviourSubject<IColleagueEmail[]>;\n\n  constructor(protected FetchData: any) {\n    'ngInject';\n    super(FetchData);\n\n    this.colleagueEmails$ = new BehaviourSubject<IColleagueEmail[]>([]);\n  }\n\n  public add(email: string): IPromise<IColleagueEmail> {\n    return this.FetchData.addColleagueEmail(email)\n      .then((responseColleagueEmail: IColleagueEmailResponse): IColleagueEmail => {\n        this.get();\n\n        return new ColleagueEmail(responseColleagueEmail);\n      });\n  }\n\n  public get(): IPromise<IColleagueEmail[]>{\n    return this.FetchData.getColleagueEmails()\n      .then((responseColleagueEmails: IColleagueEmailResponse[]): IColleagueEmail[] => {\n        const colleagueEmails: IColleagueEmail[] =\n          this.mapResponseToColleagueEmails(responseColleagueEmails);\n\n        this.colleagueEmails$.next(colleagueEmails);\n\n        return colleagueEmails;\n      });\n  }\n  isEmailValid(email: string = ''): boolean {\n    const emailRegExp: RegExp = new RegExp(ColleagueEmailsService.EMAIL_PATTERN, 'i');\n\n    return emailRegExp.test(email);\n  }\n\n  public isUnique(email: string = ''): boolean {\n    return !this.colleagueEmails$.getValue()\n      .find((colleagueEmail: IColleagueEmail): boolean => {\n        return colleagueEmail.email.toLowerCase() === email.toLowerCase();\n      });\n  }\n\n  public remove(colleagueEmail: IColleagueEmail): IPromise<void> {\n    return this.FetchData.removeColleagueEmail(colleagueEmail.id).then(() => this.get());\n  }\n\n  private mapResponseToColleagueEmails(responseColleagueEmails: IColleagueEmailResponse[]): IColleagueEmail[] {\n    return responseColleagueEmails.map(\n      (colleagueEmail: IColleagueEmailResponse): IColleagueEmail =>\n        new ColleagueEmail(colleagueEmail)\n    );\n  }\n}\n","export interface IColleagueEmailResponse {\n  id: number;\n  email: string;\n  in_database: boolean;\n}\n\nexport interface IColleagueEmail {\n  id: number;\n  email: string;\n  isValid: boolean;\n}\n\nexport class ColleagueEmail implements IColleagueEmail {\n  id: number;\n  email: string;\n  isValid: boolean;\n\n  constructor(colleagueEmail: IColleagueEmailResponse) {\n    this.id = colleagueEmail.id;\n    this.email = colleagueEmail.email;\n    this.isValid = colleagueEmail.in_database;\n  }\n}\n","export interface IGroupedVisibilityOverall {\n  feedback_published: boolean;\n  grade_published?: boolean;\n  result_published?: boolean;\n  target_grade_published?: boolean;\n}\n\nexport interface IGroupedVisibilityObjective {\n  feedback_published: boolean;\n  grade_published: boolean;\n}\n\nexport interface IGroupedVisibilityTypesOfFeedback {\n  objective: IGroupedVisibilityObjective;\n  overall: IGroupedVisibilityOverall;\n}\n\nexport interface IGroupedVisibility {\n  course_definitions_ids?: number[];\n  students_ids?: number[];\n  types_of_feedback: IGroupedVisibilityTypesOfFeedback;\n  visible?: boolean;\n}\n\nexport class GroupedVisibility implements IGroupedVisibility {\n  constructor(public types_of_feedback: IGroupedVisibilityTypesOfFeedback, public visible?: boolean,\n              public course_definitions_ids?: number[], public students_ids?: number[]) {\n  }\n}\n","import { IRootScopeService } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { IObserver, IObserverNext, IUnsubscribe, Observer } from '../helpers/observer.service';\nimport { ISubject, Subject } from '../helpers/subject.service';\nimport SharedServicesModule from '../services.module';\n\nexport type HashChange = { previous: string, current: string };\n\nexport interface IHashObserverService {\n  onNext(listener: IObserverNext<HashChange>): IUnsubscribe;\n}\n\n@Service({\n  module: SharedServicesModule,\n  name: 'HashObserverService',\n})\nexport class HashObserverService implements IHashObserverService {\n  public static DELAY: number = 500;\n\n  private readonly subject: ISubject<HashChange>;\n  private intervalId: number;\n  private previous: string;\n\n  constructor(private $rootScope: IRootScopeService) {\n    'ngInject';\n\n    this.subject = new Subject<HashChange>();\n    this.previous = window.location.hash;\n  }\n\n  public onNext(listener: IObserverNext<HashChange>): IUnsubscribe {\n    if (listener instanceof Function) {\n      if (!this.intervalId) {\n        this.setObserver();\n        this.$rootScope.$on('$destroy', this.removeObserver.bind(this));\n      }\n\n      const observer: IObserver<HashChange> = new Observer<HashChange>(listener);\n\n      return this.subject.subscribe(observer);\n    }\n  }\n\n  private setObserver(): void {\n    this.intervalId = window.setInterval(() => {\n      const current: string = window.location.hash;\n\n      if (this.previous !== current) {\n        this.subject.next({ previous: this.previous, current });\n        this.previous = current;\n      }\n    }, HashObserverService.DELAY);\n  }\n\n  private removeObserver(): void {\n    window.clearInterval(this.intervalId);\n  }\n}\n","import { Service } from '../../../utils/decorators/service.decorator';\nimport { ITabMessage, TabMessage } from '../../models/tabMessage.model';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'TabService',\n})\nexport class TabService {\n  public tabs: Map<string, chrome.tabs.Tab>;\n\n  constructor() {\n    this.tabs = new Map<string, chrome.tabs.Tab>();\n  }\n\n  public open(url: string): Promise<chrome.tabs.Tab> {\n    const openTabMessage: ITabMessage = this.tabs.has(url) ? this.getFocusMessage(url) : this.getOpenTabMessage(url);\n\n    return new Promise<chrome.tabs.Tab>((resolve: (tab: chrome.tabs.Tab) => void) => {\n      chrome.runtime.sendMessage(openTabMessage, (tab: chrome.tabs.Tab): void => {\n        this.onOpen(url, tab);\n        this.listenOnRemove(tab);\n        resolve(tab);\n      });\n    });\n  }\n\n  public update(tab: chrome.tabs.Tab, updateProperties: chrome.tabs.UpdateProperties): Promise<chrome.tabs.Tab> {\n    const openTabMessage: ITabMessage = this.getUpdateMessage(tab, updateProperties);\n\n    return new Promise<chrome.tabs.Tab>((resolve: (tab: chrome.tabs.Tab) => void) => {\n      chrome.runtime.sendMessage(openTabMessage, resolve);\n    });\n  }\n\n  public get(tab: chrome.tabs.Tab): Promise<chrome.tabs.Tab | null> {\n    const openTabMessage: ITabMessage = this.getGetMessage(tab);\n\n    return new Promise<chrome.tabs.Tab>((resolve: (tab: chrome.tabs.Tab) => void) => {\n      chrome.runtime.sendMessage(openTabMessage, resolve);\n    });\n  }\n\n  protected listenOnRemove(tab: chrome.tabs.Tab): void {\n    const onRemoveListenerMessage: ITabMessage = this.getOnRemoveListenerMessage(tab);\n\n    chrome.runtime.sendMessage(onRemoveListenerMessage, (tabId: number): void => {\n      this.onClose(tabId);\n    });\n  }\n\n  protected getOpenTabMessage(url: string): ITabMessage {\n    const openTabMessage: ITabMessage = this.getTabMessage('openTab');\n    openTabMessage.createProperties.url = url;\n\n    return openTabMessage;\n  }\n\n  protected getFocusMessage(url: string): ITabMessage {\n    const tab: chrome.tabs.Tab = this.tabs.get(url);\n    const focusTabMessage: ITabMessage = this.getTabMessage('focusTab');\n    focusTabMessage.updateProperties.active = true;\n    focusTabMessage.tabId = tab.id;\n\n    return focusTabMessage;\n  }\n\n  protected getUpdateMessage(tab: chrome.tabs.Tab, updateProperties: chrome.tabs.UpdateProperties): ITabMessage {\n    const updateTabMessage: ITabMessage = this.getTabMessage('updateTab');\n    updateTabMessage.tabId = tab.id;\n    updateTabMessage.updateProperties = { ...updateProperties };\n\n    return updateTabMessage;\n  }\n\n  protected getGetMessage(tab: chrome.tabs.Tab): ITabMessage {\n    const updateTabMessage: ITabMessage = this.getTabMessage('getTab');\n    updateTabMessage.tabId = tab.id;\n\n    return updateTabMessage;\n  }\n\n  protected getOnRemoveListenerMessage(tab: chrome.tabs.Tab): ITabMessage {\n    const onRemoveListenerMessage: ITabMessage = this.getTabMessage('registerOnRemovedTab');\n    onRemoveListenerMessage.tabId = tab.id;\n\n    return onRemoveListenerMessage;\n  }\n\n  protected getTabMessage(action: string): ITabMessage {\n    return new TabMessage(action);\n  }\n\n  protected onOpen(url: string, tab: chrome.tabs.Tab) {\n    this.tabs.set(url, tab);\n  }\n\n  protected onClose(tabId: number): void {\n    this.tabs.forEach((tab: chrome.tabs.Tab, url: string): void => {\n      if (tab.id === tabId) {\n        this.tabs.delete(url);\n      }\n    });\n  }\n}\n","export interface ITabMessage {\n  action: string;\n  createProperties?: chrome.tabs.CreateProperties;\n  tabId?: number;\n  updateProperties?: chrome.tabs.UpdateProperties;\n}\n\nexport class TabMessage implements ITabMessage {\n  public action: string;\n  public createProperties?: chrome.tabs.CreateProperties;\n  public tabId: number;\n  public updateProperties?: chrome.tabs.UpdateProperties;\n\n  constructor(action: string) {\n    this.action = action;\n    this.createProperties = {};\n    this.updateProperties = {};\n  }\n}\n","import { IDeferred, IPromise, IQService } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { IPopupMessage } from '../../models/popupMessage.model';\nimport SharedServicesModule from '../services.module';\n\nexport interface IPopupService {\n  popups: Map<string, chrome.windows.Window>;\n  open(url: string): IPromise<void>;\n  close(url: string): void;\n}\n\n@Service({\n  module: SharedServicesModule,\n  name: 'PopupService',\n})\nexport class PopupService implements IPopupService {\n\n  public popups: Map<string, chrome.windows.Window>;\n\n  constructor(private $q: IQService) {\n    'ngInject';\n\n    this.popups = new Map<string, chrome.windows.Window>();\n  }\n\n  public open(url: string): IPromise<void> {\n    const message: IPopupMessage = this.popups.has(url) ?\n      this.getMessageFocus(url) : this.getMessageOpen(url);\n    const deferred: IDeferred<void> = this.$q.defer<void>();\n\n    chrome.runtime.sendMessage(message, (window: chrome.windows.Window): void => {\n        this.onOpen(url, window);\n        this.listenOnClose(window);\n        deferred.resolve();\n      },\n    );\n\n    return deferred.promise;\n  }\n\n  public close(url: string): void {\n    if (this.popups.has(url)) {\n      const message: IPopupMessage = this.getMessageClose(url);\n\n      chrome.runtime.sendMessage(message, () => {\n        this.popups.delete(url);\n      });\n    }\n  }\n\n  protected listenOnClose(window: chrome.windows.Window): void {\n    const message: IPopupMessage = this.getMessageListenOnClose(window);\n\n    chrome.runtime.sendMessage(message, (windowId: number): void => {\n      this.onClose(windowId);\n    });\n  }\n\n  protected getMessageOpen(url: string): IPopupMessage {\n    return {\n      action: 'openPopup',\n      createData: { url },\n    };\n  }\n\n  protected getMessageFocus(url: string): IPopupMessage {\n    return {\n      action: 'focusPopup',\n      window: this.popups.get(url),\n    };\n  }\n\n  protected getMessageClose(url: string): IPopupMessage {\n    return {\n      action: 'closePopup',\n      window: this.popups.get(url),\n    };\n  }\n\n  protected getMessageListenOnClose(window: chrome.windows.Window): IPopupMessage {\n    return {\n      action: 'listenOnClosePopup',\n      window,\n    };\n  }\n\n  protected onOpen(url: string, window: chrome.windows.Window) {\n    this.popups.set(url, window);\n  }\n\n  protected onClose(windowId: number): void {\n    this.popups.forEach((window: chrome.windows.Window, url: string): void => {\n      if (window.id === windowId) {\n        this.popups.delete(url);\n      }\n    });\n  }\n}\n","import { IPromise, IQService, ITimeoutService } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport SharedServicesModule from '../services.module';\nimport get from 'lodash.get';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'RetryPromiseService',\n})\nexport class RetryPromiseService {\n  constructor(private $q: IQService, private $timeout: ITimeoutService) {\n    'ngInject';\n  }\n\n  public times<T = any>(promise: () => IPromise<T>, retries: number = 2, interval: number = 1500): IPromise<T> {\n    const isAttempt: boolean = this.isAttempt(promise);\n\n    return promise()\n      .then((response: T): T => response)\n      .catch((): IPromise<T> => {\n        if (retries) {\n          const delay: number = isAttempt ? interval : 0;\n\n          this.setAttempted(promise, true);\n\n          return this.$timeout<T>((): IPromise<T> => this.times(promise, retries -1, interval), delay);\n        }\n      });\n  }\n\n  private setAttempted<T>(promise: () => IPromise<T>, attempted: boolean): void {\n    (promise as any).$$attempted = attempted;\n  }\n\n  private isAttempt<T>(promise: () => IPromise<T>): boolean {\n    return get(promise, '$$attempted', false);\n  }\n}\n","export enum SchoolCategoryType {\n  K_12,\n  HIGHER_EDUCATION,\n  HOME_SCHOOL,\n  CORPORATION,\n  OTHER,\n}\n","import { IPromise, IQService, IRootScopeService } from 'angular';\nimport { StateParams } from '@uirouter/core';\nimport { Events } from '../../../../../common/global-events';\nimport { Service } from '../../../../../utils/decorators/service.decorator';\nimport TeacherCourseProgressModule from '../../teacher-course-progress.module';\n\nexport interface IAssignmentOverviewObjectivesListService {\n  updateObjectiveAssessments(objective): IPromise<any>;\n}\n\n@Service({\n  module: TeacherCourseProgressModule,\n  name: 'AssignmentOverviewObjectivesListService',\n})\nexport class AssignmentOverviewObjectivesListService implements IAssignmentOverviewObjectivesListService {\n  constructor(private $rootScope: IRootScopeService, private $q: IQService,\n              private FetchData: any, private $stateParams: StateParams) {\n    'ngInject';\n  }\n\n  public updateObjectiveAssessments(objective): IPromise<any> {\n    this.notifyRequestStart();\n    return this.FetchData.v3\n      .updateObjectiveAssessmentsByCourseId(\n        this.$stateParams.student.id,\n        this.$stateParams.course.course_definition,\n        objective,\n      )\n      .then(this.notifyRequestSuccess.bind(this), this.notifyRequestFail.bind(this));\n  }\n\n  private notifyRequestStart(): void {\n    this.$rootScope.$broadcast(Events.STARTED_NEW_REQUEST);\n  }\n\n  private notifyRequestSuccess(response: any): any {\n    this.$rootScope.$broadcast(Events.REQUEST_FINISHED_SUCCESSFULLY);\n\n    return response;\n  }\n\n  private notifyRequestFail(error: any): any {\n    this.$rootScope.$broadcast(Events.REQUEST_FINISHED_FAILURE);\n\n    return this.$q.reject(error);\n  }\n}\n","import { IPromise, IQService, IRootScopeService } from 'angular';\nimport { Events } from '../../../../../common/global-events';\nimport { IObjectiveAssignmentAssessment } from '../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { Service } from '../../../../../utils/decorators/service.decorator';\nimport TeacherCourseProgressModule from '../../teacher-course-progress.module';\n\nexport interface IAssignmentOverviewService {\n  changeObjectiveAssignmentAssessment(objectiveAssignmentAssessment: IObjectiveAssignmentAssessment, courseId: number): IPromise<IObjectiveAssignmentAssessment>;\n  updateListOfObjectiveAssignmentAssessments(newObjectiveAssignmentAssessment: IObjectiveAssignmentAssessment, objectiveAssignmentAssessments: IObjectiveAssignmentAssessment[]): IObjectiveAssignmentAssessment[];\n}\n\n@Service({\n  module: TeacherCourseProgressModule,\n  name: 'AssignmentOverviewService',\n})\nexport class AssignmentOverviewService implements IAssignmentOverviewService {\n  constructor(private $rootScope: IRootScopeService, private $q: IQService, private FetchData: any) {\n    'ngInject';\n  }\n\n  public updateListOfObjectiveAssignmentAssessments(newObjectiveAssignmentAssessment: IObjectiveAssignmentAssessment, objectiveAssignmentAssessments: IObjectiveAssignmentAssessment[]): IObjectiveAssignmentAssessment[] {\n    return objectiveAssignmentAssessments\n      .map((objectiveAssignmentAssessment: IObjectiveAssignmentAssessment): IObjectiveAssignmentAssessment => {\n        if (objectiveAssignmentAssessment.id === newObjectiveAssignmentAssessment.id) {\n          // Dont overwrite feedback and private_note, it messes with the ui\n          const { feedback, private_note, result, ...rest } = newObjectiveAssignmentAssessment;\n          return {...objectiveAssignmentAssessment, ...rest};\n        }\n\n        return objectiveAssignmentAssessment;\n      });\n  }\n\n  public changeObjectiveAssignmentAssessment(objectiveAssignmentAssessment: IObjectiveAssignmentAssessment, courseId: number): IPromise<IObjectiveAssignmentAssessment> {\n    this.notifyRequestStart();\n    return this.FetchData.v3.updateAssignmentAssessment(objectiveAssignmentAssessment, courseId)\n      .then(this.notifyRequestSuccess.bind(this), this.notifyRequestFail.bind(this));\n  }\n\n  private notifyRequestStart(): void {\n    this.$rootScope.$broadcast(Events.STARTED_NEW_REQUEST);\n  }\n\n  private notifyRequestSuccess(response: any): any {\n    this.$rootScope.$broadcast(Events.REQUEST_FINISHED_SUCCESSFULLY);\n\n    return response;\n  }\n\n  private notifyRequestFail(error: any): any {\n    this.$rootScope.$broadcast(Events.REQUEST_FINISHED_FAILURE);\n\n    return this.$q.reject(error);\n  }\n}\n","import { StateParams, StateService } from '@uirouter/core';\nimport { IScope, ITimeoutService } from 'angular';\nimport { IBreadcrumbsService } from '../../../../../common/components/breadcrumbs/breadcrumbs.service';\nimport { AssignmentsComponent } from '../../../../../shared/components/assignments/assignments.component';\nimport { AssignmentFilterGroup } from '../../../../../shared/enums/assignmentFilterGroup.enum';\nimport { AssignmentType } from '../../../../../shared/enums/assignmentType.enum';\nimport { Breadcrumb, IBreadcrumb } from '../../../../../shared/models/breadcrumb.model';\nimport { IObjectiveAssignmentAssessment } from '../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { LocalStorageService } from '../../../../../shared/services/localStorage/localStorage.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule, { IAssignmentOverviewService } from '../../teacher-course-progress.module';\nimport style from './assignmentsOverview.scss';\nimport template from './assignmentsOverview.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'assignments-overview',\n  template: template,\n  style: style,\n})\nexport class AssignmentsOverviewComponent extends AssignmentsComponent {\n  @Input()\n  public objectiveAssignmentAssessments: IObjectiveAssignmentAssessment[];\n\n  public filters: any[];\n\n  protected readonly statePrefix: string = 'StudentProgressStudentDetailsAssignments';\n\n  constructor(protected AssignmentOverviewService: IAssignmentOverviewService, protected BreadcrumbsService: IBreadcrumbsService,\n              protected LocalStorageService: LocalStorageService, protected $state: StateService, protected $stateParams: StateParams,\n              protected $scope: IScope, protected $timeout: ITimeoutService) {\n    'ngInject';\n\n    super($scope, $stateParams, $state, LocalStorageService);\n\n    this.objectiveAssignmentAssessments = [];\n    this.filters = [\n      {\n        group: AssignmentFilterGroup.TYPE,\n        type: AssignmentType.WORK_UNIT,\n        label: 'assignmentActionMenuFilterWorkUnit',\n      },\n      {\n        group: AssignmentFilterGroup.TYPE,\n        type: AssignmentType.STANDARD_ASSIGNMENT,\n        label: 'assignmentActionMenuFilterAssignments',\n      },\n    ];\n  }\n\n  public toggleObjectiveAssessment(objectiveAssessment: IObjectiveAssignmentAssessment): void {\n    objectiveAssessment.$$open = !objectiveAssessment.$$open;\n  }\n\n  public onClickHeader(objectiveAssessment: IObjectiveAssignmentAssessment): void {\n    this.goToDetails(objectiveAssessment);\n  }\n\n  public onClickGoToDetails(objectiveAssessment: IObjectiveAssignmentAssessment): void {\n    this.onClickClose(objectiveAssessment);\n    this.goToDetails(objectiveAssessment);\n  }\n\n  public onClickClose(objectiveAssessment: IObjectiveAssignmentAssessment): void {\n    objectiveAssessment.$$open = false;\n  }\n\n  public onChange(changedObjectiveAssignmentAssessment: IObjectiveAssignmentAssessment): void {\n    this.AssignmentOverviewService\n      .changeObjectiveAssignmentAssessment(changedObjectiveAssignmentAssessment, this.$stateParams.course.course_definition)\n      .then((newObjectiveAssignmentAssessment: IObjectiveAssignmentAssessment): void => {\n        this.objectiveAssignmentAssessments = this.AssignmentOverviewService\n          .updateListOfObjectiveAssignmentAssessments(newObjectiveAssignmentAssessment, this.objectiveAssignmentAssessments);\n      });\n  }\n\n  public expandAll(): void {\n    this.changeOpenStateForAll(true);\n  }\n\n  public collapseAll(): void {\n    this.changeOpenStateForAll(false);\n  }\n\n  private changeOpenStateForAll(state): void {\n    this.$timeout(() => {\n      this.objectiveAssignmentAssessments = this.objectiveAssignmentAssessments.map((assessment: IObjectiveAssignmentAssessment) => {\n        assessment.$$open = state;\n\n        return assessment;\n      });\n    }, 0);\n  }\n\n  private goToDetails(objectiveAssessment: IObjectiveAssignmentAssessment): void {\n    const breadcrumbs: IBreadcrumb[] = [\n      ...this.$stateParams.breadcrumbs,\n      new Breadcrumb(\n        this.$stateParams.course.course_definition_name,\n        this.BreadcrumbsService.createGoToAction(),\n      ),\n    ];\n\n    this.$state.go('teacher-course-progress.details.learning-objectives.assignmentOverview',\n      Object.assign({}, this.$stateParams, { objectiveAssessment, breadcrumbs }));\n  }\n}\n","import { IComponentController } from 'angular';\nimport { IEventEmitter } from '../../../../../../shared/models/eventEmitter';\nimport { IObjectiveAssignmentAssessment } from '../../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Executable, ExecuteGuard } from '../../../../../../utils/decorators/executeGuard.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport { Output } from '../../../../../../utils/decorators/output.decorator';\nimport TeacherCourseProgressModule from '../../../teacher-course-progress.module';\nimport style from './assignmentOverviewContent.scss';\nimport template from './assignmentOverviewContent.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'assignment-overview-content',\n  template: template,\n  style: style,\n})\nexport class AssignmentOverviewContentComponent implements IComponentController {\n  @Input()\n  public objectiveAssignmentAssessment: IObjectiveAssignmentAssessment;\n  @Output()\n  public change: IEventEmitter<{ objectiveAssignmentAssessment: IObjectiveAssignmentAssessment }>;\n\n  constructor() {\n    'ngInject';\n\n    this.objectiveAssignmentAssessment = null;\n  }\n\n  @Executable\n  public onClickResultPublished(): void {\n    this.objectiveAssignmentAssessment.result_published = !this.objectiveAssignmentAssessment.result_published;\n    this.onChange();\n  }\n\n  @Executable\n  public onClickFeedbackPublished(): void {\n    this.objectiveAssignmentAssessment.feedback_published = !this.objectiveAssignmentAssessment.feedback_published;\n    this.onChange();\n\n  }\n\n  @Executable\n  public onChange(): void {\n    this.change({ objectiveAssignmentAssessment: this.objectiveAssignmentAssessment });\n  }\n\n  @ExecuteGuard\n  public isEditable(): boolean {\n    return this.objectiveAssignmentAssessment.teacher_in_class;\n  }\n}\n","export const ExecuteGuard: (target: any, propertyKey: string, descriptor: PropertyDescriptor) => void = (target: any, propertyKey: string, descriptor: PropertyDescriptor): void => {\n  target.$$isExecutable = descriptor.value;\n};\n\nexport const Executable: (target: any, propertyKey: string, descriptor: PropertyDescriptor) => void = (target: any, propertyKey: string, descriptor: PropertyDescriptor): void => {\n  const methodReference: (...args: any[]) => any = descriptor.value;\n\n  descriptor.value = function (...args: any[]) {\n    if (target.$$isExecutable.apply(this)) {\n      methodReference.apply(this, args);\n    }\n  };\n};\n\n","import { IComponentController } from 'angular';\nimport { IObjectiveAssignmentAssessment } from '../../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule, { IAssignmentOverviewStatusService } from '../../../teacher-course-progress.module';\nimport style from './assignmentOverviewStatus.scss';\nimport template from './assignmentOverviewStatus.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'assignment-overview-status',\n  template: template,\n  style: style,\n})\nexport class AssignmentOverviewStatusComponent implements IComponentController {\n  @Input()\n  public objectiveAssignmentAssessment: IObjectiveAssignmentAssessment;\n\n  constructor(private AssignmentOverviewStatusService: IAssignmentOverviewStatusService) {\n    'ngInject';\n\n    this.objectiveAssignmentAssessment = null;\n  }\n\n  public getLastUpdate(): string {\n    return this.AssignmentOverviewStatusService\n      .findLastUpdateDate(this.objectiveAssignmentAssessment);\n  }\n}\n","import moment, { Moment } from 'moment';\nimport { IObjectiveAssignmentAssessment } from '../../../../../../shared/models/objectiveAssignmentAssessment.model';\nimport { Service } from '../../../../../../utils/decorators/service.decorator';\nimport TeacherCourseProgressModule from '../../../teacher-course-progress.module';\n\nexport interface IAssignmentOverviewStatusService {\n  findLastUpdateDate(objectiveAssessment: IObjectiveAssignmentAssessment): string;\n}\n\n@Service({\n  module: TeacherCourseProgressModule,\n  name: 'AssignmentOverviewStatusService',\n})\nexport class AssignmentOverviewStatusService implements IAssignmentOverviewStatusService {\n  constructor() {\n    'ngInject';\n  }\n\n  public findLastUpdateDate(objectiveAssignmentAssessment: IObjectiveAssignmentAssessment): string {\n    const dates: string[] = [\n      objectiveAssignmentAssessment.feedback_last_edit,\n      objectiveAssignmentAssessment.private_note_last_edit,\n      objectiveAssignmentAssessment.result_last_edit,\n    ]\n      .filter((date: string): boolean => !!date);\n\n    if (!dates.length) {\n      return '';\n    } else if (dates.length === 1) {\n      return dates[0];\n    } else {\n      const format: string = `${moment(dates[0]).creationData().format}`;\n\n      return dates\n        .map((date: string): Moment => moment(date))\n        .sort((moment1: Moment, moment2: Moment): number => {\n          if (moment1.isSame(moment2)) {\n            return 0;\n          } else {\n            return moment1.isBefore(moment2) ? 1 : -1;\n          }\n        })\n        .shift()\n        .format(format);\n    }\n  }\n}\n","import { IComponentController, IRootScopeService, IScope, ITimeoutService } from 'angular';\nimport { StateParams, StateService } from '@uirouter/core';\nimport { IBreadcrumbsService } from '../../../../../common/components/breadcrumbs/breadcrumbs.service';\nimport { Events } from '../../../../../common/global-events';\nimport { ListViewType } from '../../../../../shared/enums/listViewType.enum';\nimport { Breadcrumb } from '../../../../../shared/models/breadcrumb.model';\nimport { ICoverageMatrix } from '../../../../../shared/models/coverageMatrix.model';\nimport { ICoverageMatrixService } from '../../../../../shared/services/coverageMatrix/coverageMatrix.service';\nimport { IdService } from '../../../../../shared/services/helpers/id.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule from '../../teacher-course-progress.module';\nimport style from './objectivesList.scss';\nimport template from './objectivesList.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'objectivesListTeacher',\n  template: template,\n  style: style,\n})\nexport class ObjectivesListComponent implements IComponentController {\n  @Input()\n  public assessments: any[];\n  @Input()\n  public courseSelected: any;\n\n  public readonly listViewType: any;\n  public student: any;\n  public isEditable: boolean;\n  public coverageMatrixes: ICoverageMatrix[];\n  public coverageMatrix: ICoverageMatrix;\n  public isCoverageMatrixView: boolean;\n  public informationView: ListViewType;\n\n  constructor(private $rootScope: IRootScopeService, private $scope: IScope, private $state: StateService,\n              private readonly $stateParams: StateParams, private $timeout: ITimeoutService,\n              private BreadcrumbsService: IBreadcrumbsService, private FetchData: any,\n              private CoverageMatrixService: ICoverageMatrixService) {\n    'ngInject';\n\n    this.assessments = [];\n    this.courseSelected = $stateParams.courseSelected;\n    this.listViewType = ListViewType;\n    this.student = $stateParams.student;\n    this.isEditable = false;\n    this.coverageMatrixes = [];\n    this.coverageMatrix = null;\n    this.isCoverageMatrixView = false;\n    this.informationView = ListViewType.TITLE_AND_DESCRIPTION;\n  }\n\n  public $onInit(): void {\n    this.setIdForAssessments();\n    this.isEditable = this.$stateParams.courseDefinition &&\n      this.$stateParams.courseDefinition.teacher_in_class;\n\n    if (!this.student) {\n      this.student = this.$stateParams.student;\n    }\n\n    this.coverageMatrixes = this.CoverageMatrixService.map(this.assessments);\n    this.coverageMatrix = this.coverageMatrixes[0];\n  }\n\n  public navigateToLearningObjective(assessment: any): void {\n    const breadcrumbs = [\n      ...this.$stateParams.breadcrumbs,\n      new Breadcrumb(\n        this.courseSelected.course_definition_name,\n        this.BreadcrumbsService.createGoToAction(),\n      ),\n    ];\n\n    const params = Object.assign({}, this.$stateParams, {\n      breadcrumbs,\n      student: this.student || this.$stateParams.student,\n      course: this.courseSelected,\n      objective: assessment.objective,\n      ordering: '',\n      filters: null,\n    });\n\n    this.$state.go(\n      'teacher-course-progress.objective-details.learning-assignments',\n      params,\n    );\n  }\n\n  public toggleAssessment(assessment: any): void {\n    assessment.open = !assessment.open;\n  }\n\n  public updateAssessmentData(assessmentData: any): void {\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3\n      .updateCourseDefinitionObjectiveAssessment(\n        this.student.id,\n        this.courseSelected.course_definition,\n        assessmentData,\n      )\n      .then((assessmentResponse): void => {\n        // update current assessments list\n        this.assessments = this.assessments.map((assessment: any): any => {\n          if (assessment.id === assessmentResponse.id) {\n            // Dont overwrite feedback and private_note, it messes with the ui\n            const {feedback, private_note, result, ...rest} = assessmentResponse;\n            Object.assign(assessment, rest, { $id: IdService.getId() });\n          }\n          return assessment;\n        });\n      })\n      .then((): void => {\n        this.$rootScope.$emit(Events.UPDATE_USERS_STATUSES_FOR_COURSES_AND_OBJECTIVES);\n        this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n      });\n  }\n\n  public isNoteAvailable(assessment: any): boolean {\n    return !!assessment && !!assessment.private_note;\n  }\n\n  public isFeedbackAvailable(assessment: any): boolean {\n    return (!!assessment && assessment.feedback_published && !!assessment.feedback);\n  }\n\n  public onCoverageMatrixChange(coverageMatrix: ICoverageMatrix): void {\n    this.coverageMatrix = coverageMatrix;\n  }\n\n  public onViewChange(listViewSwitchType: ListViewType): void {\n    if ([ListViewType.COVERAGE_MATRIX, ListViewType.STATUS].includes(listViewSwitchType)) {\n      this.isCoverageMatrixView = !!(listViewSwitchType & ListViewType.COVERAGE_MATRIX);\n    } else {\n      this.informationView = listViewSwitchType;\n    }\n  }\n\n  public getCoverageMatrixFromAssessment(assessment: any): ICoverageMatrix {\n    return assessment.coverage_matrix_grade_systems\n      .find((coverageMatrixGradeSystem: ICoverageMatrix): boolean => {\n        return this.coverageMatrix && coverageMatrixGradeSystem.id === this.coverageMatrix.id;\n      });\n  }\n\n  public expandAll(): void {\n    this.changeOpenStateForAll(true);\n  }\n\n  public collapseAll(): void {\n    this.changeOpenStateForAll(false);\n  }\n\n  private changeOpenStateForAll(state): void {\n    this.$timeout(() => {\n      this.assessments = this.assessments.map((assessment) => {\n        assessment.open = state;\n\n        return assessment;\n      });\n    }, 0);\n  }\n\n  private setIdForAssessments(): void {\n    this.assessments.forEach((assessment: any): void => {\n      assessment.$id = IdService.getId();\n    });\n  }\n\n  get hasAnyAssessmentOpened(): any[] {\n    return this.assessments.find(assessment => assessment.open);\n  }\n}\n","import { IComponentController } from 'angular';\nimport { ICoverageMatrix } from '../../../../../../shared/models/coverageMatrix.model';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule from '../../../teacher-course-progress.module';\nimport template from './coverageMatrixGrid.tpl.html';\nimport style from './coverageMatrixGrid.scss';\n\nexport interface ICoverageMatrixGridComponent extends IComponentController {\n  coverageMatrix: ICoverageMatrix;\n}\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'coverage-matrix-grid',\n  template: template,\n  style: style,\n  transclude: {\n    gradePrognosis: '?gradePrognosis',\n  },\n})\nexport class CoverageMatrixGridComponent implements ICoverageMatrixGridComponent {\n\n  @Input()\n  public coverageMatrix: ICoverageMatrix;\n\n  constructor() {\n    'ngInject';\n\n    this.coverageMatrix = null;\n  }\n}\n","import { IComponentController } from 'angular';\nimport { ICoverageMatrix } from '../../../../../../shared/models/coverageMatrix.model';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport TeacherCourseProgressModule from '../../../teacher-course-progress.module';\nimport template from  './coverageMatrixGridHeader.tpl.html';\nimport style from './coverageMatrixGridHeader.scss';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'coverage-matrix-grid-header',\n  template: template,\n  style: style,\n})\nexport class CoverageMatrixGridHeaderComponent implements IComponentController {\n  @Input()\n  public coverageMatrix: ICoverageMatrix;\n\n  constructor() {\n    'ngInject';\n  }\n}\n","import { IComponentController } from 'angular';\nimport get from 'lodash.get';\nimport { ListViewType } from '../../../../../../shared/enums/listViewType.enum';\nimport { ICoverageMatrix } from '../../../../../../shared/models/coverageMatrix.model';\nimport { IEventEmitter } from '../../../../../../shared/models/eventEmitter';\nimport { IListViewSwitch } from '../../../../../../shared/models/ListViewSwitch.model';\nimport { LocalStorageService } from '../../../../../../shared/services/localStorage/localStorage.service';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport { Output } from '../../../../../../utils/decorators/output.decorator';\nimport TeacherCourseProgressModule, { ListViewSwitchService } from '../../../teacher-course-progress.module';\nimport style from './listViewSwitch.scss';\nimport template from './listViewSwitch.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'list-view-switch',\n  template: template,\n  style: style,\n  transclude: {\n    left: '?leftSection',\n    center: '?centerSection',\n    right: '?rightSection',\n  }\n})\nexport class ListViewSwitchComponent implements IComponentController {\n  @Output({ optional: true })\n  public onViewChange: IEventEmitter<{ listViewSwitchType: ListViewType }>;\n  @Output({ optional: true })\n  public onCoverageMatrixChange: IEventEmitter<{ coverageMatrix: ICoverageMatrix }>;\n  @Input()\n  public coverageMatrixes: ICoverageMatrix[];\n\n  public viewMenuItems: IListViewSwitch[];\n  public informationMenuItems: IListViewSwitch[];\n  public selectedCoverageMatrix: ICoverageMatrix;\n  private readonly lastSelectedCoverageMatrixKey: string;\n  private readonly currentSelectedViewKey: string;\n  private readonly currentSelectedInformationKey: string;\n\n  constructor(private ListViewSwitchService: ListViewSwitchService, private LocalStorageService: LocalStorageService) {\n    'ngInject';\n\n    this.coverageMatrixes = [];\n    this.selectedCoverageMatrix = null;\n    this.viewMenuItems = [];\n    this.informationMenuItems = [];\n    this.lastSelectedCoverageMatrixKey = 'lastSelectedMatrixCoverage';\n    this.currentSelectedViewKey = 'currentSelectedView';\n    this.currentSelectedInformationKey = 'studentProgressInformationMenu';\n  }\n\n  public $onInit(): void {\n    this.viewMenuItems = this.ListViewSwitchService.getViewMenuItems(this.coverageMatrixes);\n    this.informationMenuItems = this.ListViewSwitchService.getInformationMenuItems();\n\n    if (this.LocalStorageService.exists(this.lastSelectedCoverageMatrixKey)) {\n      const lastSelectedCoverageMatrixId: number = +this.LocalStorageService.get(this.lastSelectedCoverageMatrixKey);\n\n      this.selectedCoverageMatrix = this.ListViewSwitchService\n        .getCoverageMatrixById(this.coverageMatrixes, lastSelectedCoverageMatrixId);\n    }\n\n    if (this.LocalStorageService.exists(this.currentSelectedViewKey)) {\n      const currentSelectedViewId: string = this.LocalStorageService.get(this.currentSelectedViewKey);\n      this.restoreMainMenuSelection(currentSelectedViewId, this.viewMenuItems);\n    }\n\n    if (this.LocalStorageService.exists(this.currentSelectedInformationKey)) {\n      const currentSelectedInformationViewId: string = this.LocalStorageService.get(this.currentSelectedInformationKey);\n      this.restoreMainMenuSelection(currentSelectedInformationViewId, this.informationMenuItems);\n    }\n\n    if (!this.selectedCoverageMatrix) {\n      this.selectedCoverageMatrix = get(this.coverageMatrixes, ['0'], null);\n    } else {\n      this.onSelectCoverageMatrix();\n    }\n\n    if (!this.isViewMenuActive()) {\n      this.redirectToNonCoverageMatrixView();\n    }\n  }\n\n  public onMenuClick(menuItem: IListViewSwitch): void {\n    if ([ListViewType.COVERAGE_MATRIX, ListViewType.STATUS].includes(menuItem.type)) {\n      this.onClickViewMenu(menuItem);\n    } else {\n      this.onClickInformationMenu(menuItem);\n    }\n  }\n\n  public onSelectCoverageMatrix(): void {\n    this.onCoverageMatrixChange({ coverageMatrix: this.selectedCoverageMatrix });\n    this.LocalStorageService.set(this.lastSelectedCoverageMatrixKey, `${this.selectedCoverageMatrix.id}`);\n  }\n\n  public isCoverageMatrixView(): boolean {\n    return this.ListViewSwitchService.isCoverageMatrixView(this.viewMenuItems);\n  }\n\n  private onClickViewMenu(menuItem: IListViewSwitch): void {\n    if (!menuItem.isDisabled && this.isViewMenuActive()) {\n      this.setMenuSelection(menuItem);\n      this.onViewChange({ listViewSwitchType: menuItem.type });\n    } else if (menuItem.isDisabled) {\n      this.ListViewSwitchService.showDialogWithDisableMessage();\n    } else {\n      this.redirectToNonCoverageMatrixView();\n    }\n  }\n\n  private onClickInformationMenu(menuItem: IListViewSwitch): void {\n    this.informationMenuItems = this.ListViewSwitchService.setSelection(menuItem, this.informationMenuItems);\n    this.LocalStorageService.set(this.currentSelectedInformationKey, menuItem.id);\n    this.onViewChange({ listViewSwitchType: menuItem.type });\n  }\n\n  private setMenuSelection(menuItem: IListViewSwitch): void {\n    this.viewMenuItems = this.ListViewSwitchService.setSelection(menuItem, this.viewMenuItems);\n    this.LocalStorageService.set(this.currentSelectedViewKey, menuItem.id);\n  }\n\n  private isViewMenuActive(): boolean {\n    return this.coverageMatrixes.length !== 0;\n  }\n\n  private redirectToNonCoverageMatrixView(): void {\n    const nonCoverageMatrixView: IListViewSwitch =\n      this.ListViewSwitchService.findFirstNonCoverageMatrixView(this.viewMenuItems);\n\n    this.setMenuSelection(nonCoverageMatrixView);\n    this.onViewChange({ listViewSwitchType: nonCoverageMatrixView.type });\n  }\n\n  private restoreMainMenuSelection(menuItemId: string, menu: IListViewSwitch[]): void {\n    const menuItem: IListViewSwitch = this.ListViewSwitchService\n      .getMenuItemById(menu, menuItemId);\n\n    this.onMenuClick(menuItem);\n  }\n}\n","import angular from 'angular';\nimport { ListViewType } from '../../../../../../shared/enums/listViewType.enum';\nimport { ICoverageMatrix } from '../../../../../../shared/models/coverageMatrix.model';\nimport { IListViewSwitch, ListViewSwitch } from '../../../../../../shared/models/ListViewSwitch.model';\nimport { DialogService } from '../../../../../../shared/services/dialog/dialog.service';\nimport { Service } from '../../../../../../utils/decorators/service.decorator';\nimport TeacherCourseProgressModule from '../../../teacher-course-progress.module';\nimport dialogTemplate from './listViewSwitchDialog.tpl.html';\n\n@Service({\n  name: 'ListViewSwitchService',\n  module: TeacherCourseProgressModule,\n})\nexport class ListViewSwitchService extends DialogService {\n  constructor(protected $mdDialog: ng.material.IDialogService) {\n    'ngInject';\n\n    super($mdDialog);\n  }\n\n  public findFirstNonCoverageMatrixView(menuItems: IListViewSwitch[]): IListViewSwitch {\n    return menuItems.find((menuItem: IListViewSwitch): boolean =>\n      (menuItem.type & ListViewType.COVERAGE_MATRIX) === 0,\n    );\n  }\n\n  public getCoverageMatrixById(coverageMatrixes: ICoverageMatrix[], id: number): ICoverageMatrix {\n    return coverageMatrixes.find((coverageMatrix: ICoverageMatrix): boolean =>\n      coverageMatrix.id === id,\n    );\n  }\n\n  public getMenuItemById(menuItems: IListViewSwitch[], id: string): IListViewSwitch {\n    return menuItems.find((menuItem: IListViewSwitch): boolean =>\n      menuItem.id === id,\n    );\n  }\n\n  public getViewMenuItems(coverageMatrixes: ICoverageMatrix[]): IListViewSwitch[] {\n    let menuItems: IListViewSwitch[] = [\n      {\n        id: `${ListViewType.COVERAGE_MATRIX}`,\n        label: 'showCoverageMatrix',\n        type: ListViewType.COVERAGE_MATRIX,\n      },\n      {\n        id: `${ListViewType.STATUS}`,\n        label: 'showStatus',\n        type: ListViewType.STATUS,\n      },\n    ];\n\n    if (!coverageMatrixes.length) {\n      menuItems = menuItems.map((menuItem: IListViewSwitch): IListViewSwitch => {\n        menuItem.isDisabled = (menuItem.type & ListViewType.COVERAGE_MATRIX) > 0;\n\n        return menuItem;\n      });\n    }\n\n    return menuItems;\n  }\n\n  public getInformationMenuItems(): IListViewSwitch[] {\n    return [\n      {\n        id: `${ListViewType.TITLE_ONLY}`,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemTitleOnly',\n        type: ListViewType.TITLE_ONLY,\n      },\n      {\n        id: `${ListViewType.TITLE_AND_DESCRIPTION}`,\n        isSelected: true,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemTitleDescription',\n        type: ListViewType.TITLE_AND_DESCRIPTION,\n      },\n      {\n        id: `${ListViewType.DESCRIPTION_ONLY}`,\n        label: 'teacherCurriculumObjectivesToolbarMenuItemDescriptionOnly',\n        type: ListViewType.DESCRIPTION_ONLY,\n      },\n    ];\n  }\n\n  public isCoverageMatrixView(menuItems: IListViewSwitch[]): boolean {\n    return !!menuItems\n      .find((menuItem: IListViewSwitch): boolean =>\n        menuItem.isSelected && (menuItem.type & ListViewType.COVERAGE_MATRIX) > 0,\n      );\n  }\n\n  public setSelection(menuItem: IListViewSwitch, menuItems: IListViewSwitch[]): IListViewSwitch[] {\n    return menuItems.map((item: IListViewSwitch): IListViewSwitch => {\n      item.isSelected = item.id === menuItem.id;\n\n      return item;\n    });\n  }\n\n  public showDialogWithDisableMessage(): void {\n    const options: ng.material.IDialogOptions = this.buildOptions({\n      template: dialogTemplate,\n    });\n\n    this.$mdDialog.show(options);\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../../utils/decorators/input.decorator';\nimport { ParentComponent } from '../../../../../../../utils/decorators/parent-component.decorator';\nimport TeacherCourseProgressModule, { ICoverageMatrixGridComponent } from '../../../../teacher-course-progress.module';\nimport template from './gradePrognosis.tpl.html';\nimport style from './gradePrognosis.scss';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'grade-prognosis',\n  template: template,\n  style: style,\n})\nexport class GradePrognosisComponent implements IComponentController {\n  @ParentComponent()\n  private coverageMatrixGrid: ICoverageMatrixGridComponent;\n  @Input()\n  public grade: any;\n  @Input()\n  public published: boolean;\n\n  constructor() {\n    'ngInject';\n\n    this.grade = null;\n    this.published = false;\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport class AssessmentDetailsComponent {\n  static bindings = {\n    assessment: '<',\n    assignment: '<',\n    detailsButtonDisable: '<',\n    showTargetGrade: '<',\n    showPrivateNote: '<', // todo refactor readOnly binding to use teacherAccount\n    readOnly: '<',\n    teacherAccount: '<',\n    showStudentSelfAssessment: '<',\n    simpleView: '<',\n    mixpanelFeedbackEvent: '@',\n    mixpanelSelfAssessmentEvent: '@',\n    mixpanelGradeEvent: '@', // events\n    onAssessmentUpdate: '&',\n    onAssessmentClose: '&',\n    onNavigateToDetails: '&',\n    onAssignmentChange: '&',\n    disabled: '<ngDisabled',\n    emptyMsg: '@?',\n    isGradeTextsEnable: '<',\n  };\n  static controller = AssessmentDetailsComponent;\n  static templateUrl =\n    'components/course-progress/common/components/assessmentDetails/assessmentDetails.html';\n\n  constructor(GradeSystems, $state) {\n    'ngInject';\n\n    this.GradeSystems = GradeSystems;\n    this.$state = $state;\n    this.disabled = false;\n    this.assignment = null;\n    this.assessment = null;\n    this.emptyMsg = 'courseProgressObjectiveEmptyInfo';\n  }\n\n  $onInit() {\n    if (!(this.assessment && this.assessment.grade_system)) {\n      throw new Error('grade_system object for assessment is not provided.');\n    }\n    // this is to fix bug when grade nob is out of its scale\n    this.assignment = this.assignment || {};\n    this.componentInitialized = true;\n\n    if (this.assessment && this.assignment) {\n      this.assessment.seen = this.assignment.seen =\n        this.assessment.seen && this.assignment.seen;\n    }\n  }\n\n  toggleAssessmentGradePublished() {\n    this.assessment.grade_published = !this.assessment.grade_published;\n    this.onAssessmentUpdate({ assessment: this.assessment });\n  }\n\n  toggleAssessmentTargetGradePublished() {\n    this.assessment.target_grade_published = !this.assessment\n      .target_grade_published;\n    this.onAssessmentUpdate({ assessment: this.assessment });\n  }\n\n  toggleAssessmentFeedbackPublished() {\n    this.assessment.feedback_published = !this.assessment.feedback_published;\n    this.onAssessmentUpdate({ assessment: this.assessment });\n  }\n\n  updateAssessmentProperty() {\n    this.onAssessmentUpdate({ assessment: this.assessment });\n  }\n\n  onResultPublishChange() {\n    this.assignment.result_published = !this.assignment.result_published;\n    this.onAssignmentChange({ assignment: this.assignment });\n  }\n\n  onFeedbackPublishChange() {\n    this.assignment.feedback_published = !this.assignment.feedback_published;\n    this.onAssignmentChange({ assignment: this.assignment });\n  }\n\n  gradeUpdate(grade) {\n    const assessment = angular.copy(this.assessment);\n\n    if (grade) {\n      this.assessment.grade = grade;\n      assessment.grade = grade.id;\n    } else {\n      this.assessment.grade = null;\n      assessment.grade = null;\n    }\n\n    this.onAssessmentUpdate({ assessment });\n  }\n\n  gradeChange(grade) {\n    this.assessment.grade = grade || null;\n  }\n\n  counterGradeChange(value, index) {\n    const assessment = angular.copy(this.assessment);\n    assessment.counter_grades[index] = value;\n    this.onAssessmentUpdate({ assessment });\n  }\n\n  targetGradeUpdate(targetGrade) {\n    const assessment = angular.copy(this.assessment);\n\n    if (targetGrade) {\n      this.assessment.target_grade = targetGrade;\n      assessment.target_grade = targetGrade.id;\n    } else {\n      this.assessment.target_grade = null;\n      assessment.target_grade = null;\n    }\n\n    this.onAssessmentUpdate({ assessment });\n  }\n\n  // visibility\n  get isGradeVisible() {\n    return (\n      (this.readOnly && this.assessment.grade && !this.assessment.counter_grades) ||\n      (!this.readOnly && !this.assessment.grade_system.is_counter) ||\n      (!this.readOnly && this.assessment.grade_system.is_counter && !this.assessment.counter_grades)\n    );\n  }\n\n  get isTargetGradeVisible() {\n    return (\n      (this.readOnly && this.assessment.target_grade && this.showTargetGrade) ||\n      (!this.readOnly && this.showTargetGrade)\n    );\n  }\n\n  get isGradeTextsVisible() {\n    return this.isGradeTextsEnable && this.isGradeVisible && this.assessment;\n  }\n\n  get gradeSystem() {\n    return this.assessment.grade_system;\n  }\n\n  get isLearningAssignmentsView() {\n    return !!this.$state.is('^.learning-assignments') || !!this.$state.is('^.assessments');\n  }\n\n  get isOverallAssessmentSection() {\n    return !!this.assessment.objective && !this.assessment.assignment;\n  }\n\n  get isOverallAssessmentSectionVisible() {\n    return (\n      (this.teacherAccount ||\n        this.assignment.feedback_published ||\n        this.assignment.result_published) &&\n      !this.isOverallAssessmentSection &&\n      this.isLearningAssignmentsView\n    );\n  }\n\n  get isPrivateNoteVisible() {\n    return this.showPrivateNote && this.assessment.teacher_in_class;\n  }\n\n  get isOverallFeedbackAvailable() {\n    return this.teacherAccount || this.assignment.feedback_published;\n  }\n\n  get isEmpty() {\n    return !this.teacherAccount &&\n      !this.assessment.feedback &&\n      !this.assessment.target_grade &&\n      !this.assessment.grade &&\n      !this.assessment.self_assessment;\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { AssessmentStatusPreview } from './assessmentStatusPreview.service';\n\nexport class AssessmentStatusPreviewComponent {\n  static bindings = {\n    assessment: '<',\n    assignment: '<',\n    hasCounterGrade: '<',\n    showFeedback: '<',\n    showPrivateNote: '<',\n    showStudentSelfAssessment: '<',\n    showTargetGrade: '<',\n    showVisibility: '<',\n  };\n  static controller = AssessmentStatusPreviewComponent;\n  static templateUrl =\n    'components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.html';\n\n  public isTeacher: boolean;\n  public gradeSystem?: any;\n  public assessment?: any;\n  public assignment?: any;\n  public hasCounterGrade?: boolean;\n  public showFeedback?: boolean;\n  public showPrivateNote?: boolean;\n  public showStudentSelfAssessment?: boolean;\n  public showTargetGrade?: boolean;\n  public showVisibility?: boolean;\n\n  constructor(private AssessmentStatusPreview: AssessmentStatusPreview) {\n    'ngInject';\n\n    this.isTeacher = false;\n    this.gradeSystem = null;\n    this.assessment = {};\n    this.assignment = {};\n  }\n\n  $onInit(): void {\n    this.isTeacher = this.AssessmentStatusPreview.isTeacher();\n    this.gradeSystem = this.AssessmentStatusPreview\n      .getGradeSystemById(this.assessment.grade_system.id);\n\n    this.findLastUpdateDate();\n  }\n\n  $onChanges(changes): void {\n    if (changes.assignment && !changes.assignment.isFirstChange()) {\n      this.findLastUpdateDate();\n    }\n  }\n\n  findLastUpdateDate(): void {\n    const lastUpdate: string = this.assessment ? this.assessment.last_update : null;\n\n    this.assessment.last_update = this.AssessmentStatusPreview\n      .getLastUpdateDate(this.assignment, lastUpdate);\n  }\n\n  get showFeedbackVisibility(): boolean {\n    return this.showFeedback && this.showVisibility;\n  }\n\n  get hasFeedback(): boolean {\n    return (\n      (this.assessment && this.assessment.feedback) ||\n      (this.assignment && this.assignment.feedback)\n    );\n  }\n\n  get isFeedbackVisible(): boolean {\n    return (\n      this.isTeacher &&\n      this.hasFeedback &&\n      (\n        (this.assessment && this.assessment.feedback_published) ||\n        (this.assignment && this.assignment.feedback_published)\n      )\n    );\n  }\n\n  get hasTeacherNote(): boolean {\n    return (\n      this.isTeacher &&\n      ((this.assessment && this.assessment.private_note) ||\n        (this.assignment && this.assignment.private_note))\n    );\n  }\n\n  get hasStudentsSelfAssessment(): boolean {\n    return this.assessment && this.assessment.self_assessment;\n  }\n\n  get hasResult(): boolean {\n    return this.assignment && this.assignment.result;\n  }\n\n  get isResultVisible(): boolean {\n    return this.isTeacher &&\n      this.hasResult &&\n      this.assignment &&\n      this.assignment.result_published;\n  }\n\n  get hasPrivateNote(): boolean {\n    return this.assessment && this.assessment.private_note;\n  }\n}\n","export class CourseSummaryComponent {\n  static bindings = { course: '<' };\n  static controller = CourseSummaryComponent;\n  static templateUrl =\n    'components/course-progress/common/components/courseSummary/courseSummary.html';\n\n  constructor() {\n    'ngInject';\n\n    this.course = {};\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nclass controller {\n  constructor(Config, FetchData) {\n    'ngInject';\n\n    this.Config = Config;\n    this.FetchData = FetchData;\n  }\n\n  downloadFile(fileType) {\n    this.FetchData.getDownloadKey(\n      this.student.id,\n      this.courseDefinition.course_definition,\n    )\n      .then(response => response.key)\n      .then((key) => {\n        window.open(`${this.Config.apiUrl}/classes/export_grades/${key}.${fileType}`, '_blank');\n      });\n  }\n}\n\nexport const DownloadPdfMenu = {\n  bindings: {\n    student: '<',\n    courseDefinition: '<',\n  },\n  controller,\n  template: `\n              <md-menu>\n                <md-button\n                    class=\"md-icon-button\"\n                    ng-click=\"$mdMenu.open($event)\">\n                    <md-icon>\n                        more_vert\n                    </md-icon>\n                </md-button>\n\n                <md-menu-content width=\"3\">\n                    <md-menu-item>\n                        <md-button \n                            ng-click=\"$ctrl.downloadFile('pdf')\"\n                            localize>\n                            __MSG_downloadPDFOption__\n                        </md-button>\n                    </md-menu-item>\n                    <md-menu-item>\n                        <md-button \n                            ng-click=\"$ctrl.downloadFile('csv')\"\n                            localize>\n                            __MSG_downloadCSVOption__\n                        </md-button>\n                    </md-menu-item>\n                </md-menu-content>\n            </md-menu>\n  `,\n};\n","import { GradeDescription } from '../services/gradeDescription.service';\nimport { UnbindableCtrlBase } from '../../../../common/base-classes';\n\nclass GradeDescriptionCtrl extends UnbindableCtrlBase {\n  constructor($scope, $element) {\n    'ngInject';\n\n    super();\n    this.$scope = $scope;\n    this.$element = $element;\n    this.description = null;\n    this.gradesMap = new Map();\n    this.animationTime = 0;\n  }\n\n  $onInit() {\n    this.gradesMap = GradeDescription.mapAssessmentToGrades(this.assessment);\n    this.setDescription();\n\n    this.boundEvents.push(\n      this.$scope.$watch(() => this.assessment.grade, this.setDescription.bind(this)),\n    );\n  }\n\n  $onChanges(changes) {\n    const filteredChanges = GradeDescription.filterNotFirstTimeChanges(changes);\n\n    if (filteredChanges.assessment) {\n      this.assessment = filteredChanges.assessment.currentValue;\n      this.gradesMap = GradeDescription.mapAssessmentToGrades(this.assessment);\n      this.setDescription();\n    }\n  }\n\n  setDescription() {\n    const currentGrade = this.assessment.grade ?\n      this.gradesMap.get(this.assessment.grade.id) : null;\n\n    this.description = currentGrade ? currentGrade.description : null;\n    GradeDescription.animateContent(this.$element, this.animationTime);\n    this.animationTime = 200;\n  }\n}\n\nexport const GradeDescriptionComponent = {\n  bindings: {\n    assessment: '<',\n  },\n  controller: GradeDescriptionCtrl,\n  template:\n    `\n        <md-content class=\"grade-description__text\"\n                    ng-bind-html=\"$ctrl.description\">\n        </md-content>\n    `,\n};\n","export class GradeDescription {\n\n  static mapAssessmentToGrades(assessment) {\n    return assessment.grade_system.grades\n      .reduce((gradesMap, grade) => gradesMap.set(grade.id, grade), new Map());\n  }\n\n  static filterNotFirstTimeChanges(changes) {\n    let filtered = {};\n\n    for (const [key, value] of Object.entries(changes)) {\n      if (!value.isFirstChange()) {\n        filtered = Object.assign(filtered, { [key]: value });\n      }\n    }\n\n    return filtered;\n  }\n\n  static animateContent($element, animationTime = 200) {\n    window.setTimeout(() => {\n      const $mdContent = $element.find('md-content');\n\n      if ($mdContent.length) {\n        window.requestAnimationFrame(() => {\n          const prevHeight = $element.data('height') || 0;\n          $mdContent.css('height', 'auto');\n          const height = $mdContent.height();\n\n          $mdContent\n            .animate({ height: prevHeight }, 0)\n            .animate({ height }, animationTime);\n\n          $element.data('height', height);\n        });\n      } else {\n        $element.data('height', 0);\n      }\n    });\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const LastUpdate = {\n  bindings: {\n    date: '<',\n  },\n  template: `\n    <span class=\"sb-course-assessment__meta-date\n                 sb-course-assessment__meta-item\n                 sb-course-assessment__meta-item--sm\n                 sb-subheading\n                 md-body-2\"\n                 ng-visible=\"$ctrl.date\">\n        <md-tooltip\n            md-direction=\"top\"\n            md-z-index=\"1010\"\n            class=\"md-fling\n                   sb-tooltip--align-position\"\n            localize>\n            __MSG_courseProgressLastEditTooltip__\n        </md-tooltip>\n        {{ $ctrl.date | LastModified }}\n    </span>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nexport const PartialLastUpdate = {\n  bindings: {\n    date: '<',\n    visible: '<',\n  },\n  template: `\n    <div\n      layout=\"row\"\n      layout-align=\"end center\"\n      class=\"sb-assessment-details__partial-last-edit\"\n      ng-class=\"{\n        'sb-assessment-details__partial-last-edit--visible': $ctrl.visible\n      }\">\n      {{ $ctrl.date | LastModified }}\n    </div>\n  `,\n};\n","import { Breadcrumb } from '../../../../../shared/models/breadcrumb.model.ts';\nimport style from './studentCoursesDetailsSection.scss';\nimport { getTranslation } from '../../../../../../../../react_src/i18n';\n\nexport class StudentCoursesDetailsSectionComponent {\n  static bindings = {\n    studentCoursesDefinitions: '<',\n    extend: '<',\n    label: '@?',\n  };\n\n  static controller = StudentCoursesDetailsSectionComponent;\n\n  static require = { studentCoursesDetails: '^^' };\n\n  static templateUrl =\n    'components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.html';\n\n  static style = style;\n\n  constructor($scope, $rootScope, $timeout, $stateParams, BreadcrumbsService, PromiseQueue, UserInfo) {\n    'ngInject';\n\n    this.$scope = $scope;\n    this.$rootScope = $rootScope;\n    this.$timeout = $timeout;\n    this.$stateParams = $stateParams;\n    this.BreadcrumbsService = BreadcrumbsService;\n    this.UserInfo = UserInfo;\n    this.studentCoursesDefinitions = [];\n    this.isEmpty = true;\n    this.extend = false;\n    this.queue = PromiseQueue.getInstance();\n  }\n\n  $onInit() {\n    this.studentCoursesDefinitions = angular\n      .copy(this.studentCoursesDefinitions)\n      .map((coursesDefinitions) => {\n        coursesDefinitions.open = true;\n\n        return coursesDefinitions;\n      });\n\n    this.isEmpty = this.studentCoursesDefinitions && !!this.studentCoursesDefinitions.length;\n  }\n\n  onUpdateCourseDefinition(courseDefinition) {\n    this.queue.push(this.updateCourseDefinition(courseDefinition));\n  }\n\n  updateCourseDefinition(courseDefinition) {\n    return this.studentCoursesDetails.StudentCoursesDetails.update(\n      this.studentCoursesDetails.student,\n      courseDefinition,\n    ).then((newCourseDefinition) => {\n      this.studentCoursesDefinitions = this.studentCoursesDefinitions.map(\n        (item) => {\n          if (item.id === newCourseDefinition.id) {\n            // Dont overwrite feedback and private_note, it messes with the ui\n            const {\n              feedback, private_note, result, ...rest\n            } = newCourseDefinition;\n            return { ...item, ...rest };\n          }\n          return item;\n        },\n      );\n    });\n  }\n\n  goToDetails(courseDefinition) {\n    if (this.isAvailable(courseDefinition)) {\n      const breadcrumbLabel = this.UserInfo.isTeacher()\n        ? this.studentCoursesDetails.student.student_name : getTranslation('breadcrumbFirstItemLabel');\n\n      this.studentCoursesDetails.StudentCoursesDetails.goToCourseDetails({\n        courseDefinition,\n        course: courseDefinition,\n        student: this.studentCoursesDetails.student,\n        breadcrumbs: [new Breadcrumb(breadcrumbLabel, this.BreadcrumbsService.createGoToAction())],\n      });\n    }\n  }\n\n  isAvailable(courseDefinition) {\n    return !this.UserInfo.isTeacher()\n      || courseDefinition.teacher_in_class\n      || courseDefinition.shared_with_teacher\n      || courseDefinition.is_mentor;\n  }\n\n  expandAll() {\n    this.changeOpenStateForAll(true);\n  }\n\n  collapseAll() {\n    this.changeOpenStateForAll(false);\n  }\n\n  changeOpenStateForAll(state) {\n    this.$timeout(() => {\n      this.studentCoursesDefinitions = this.studentCoursesDefinitions.map((courseDefinition) => {\n        if (this.isAvailable(courseDefinition)) {\n          courseDefinition.isOpen = state;\n        }\n\n        return courseDefinition;\n      });\n    }, 0);\n  }\n}\n","export class StudentProfileComponent {\n  static templateUrl = 'components/course-progress/common/components/studentProfile/studentProfile.html';\n  static controller = StudentProfileComponent;\n  static bindings = { student: '<' };\n\n  constructor() {\n    'ngInject';\n  }\n}\n","export class StudentProfileDetailsComponent {\n  static templateUrl = 'components/course-progress/common/components/studentProfile/studentProfileDetails/studentProfileDetails.html';\n  static controller = StudentProfileDetailsComponent;\n  static bindings = { student: '<' };\n\n  constructor() {\n    'ngInject';\n  }\n}\n","export class StudentProfilePhotoComponent {\n  static templateUrl = 'components/course-progress/common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.html';\n  static controller = StudentProfilePhotoComponent;\n  static bindings = { src: '<?' };\n}\n","export class StudentProgressInputComponent {\n  static templateUrl =\n    'components/course-progress/common/components/studentProgressInput/studentProgressInput.html';\n  static controller = StudentProgressInputComponent;\n  static bindings = {\n    disabled: '<?ngDisabled',\n    isPublished: '<?',\n    label: '@?',\n    lastEdit: '<?',\n    editBy: '<?',\n    value: '<ngModel',\n    onChange: '&?ngChange',\n  };\n\n  constructor(UserInfo) {\n    'ngInject';\n\n    this.UserInfo = UserInfo;\n    this.isTeacher = false;\n    this.disabled = false;\n    this.value = null;\n    this.lastEdit = null;\n    this.isPublished = null;\n  }\n\n  $onInit() {\n    this.isTeacher = this.UserInfo.isTeacher();\n  }\n\n  onClick() {\n    this.isPublished = !this.isPublished;\n    this.triggerOnChange();\n  }\n\n  triggerOnChange() {\n    const $event = { value: this.value };\n\n    if (this.isPublished !== null) {\n      $event.isPublished = this.isPublished;\n    }\n\n    this.onChange({ $event });\n  }\n}\n","import moment, { Moment } from 'moment';\n\nexport class AssessmentStatusPreview {\n\n  static updateDateProperties: { [prop: string]: string[] } = {\n    assignment: ['feedback_last_edit', 'private_note_last_edit', 'result_last_edit'],\n  };\n\n  constructor(private GradeSystems: any, private UserInfo: any) {\n    'ngInject';\n  }\n\n  isTeacher(): boolean {\n    return this.UserInfo.isTeacher();\n  }\n\n  getGradeSystemById(gradeSystemId): any {\n    return this.GradeSystems.getGradeSystemById(gradeSystemId);\n  }\n\n  getLastUpdateDate(assignment: any = {}, previousLastUpdate: string): string {\n    let timestamps: Moment[] = previousLastUpdate ? [moment(previousLastUpdate)] : [];\n\n    timestamps = [...timestamps, ...AssessmentStatusPreview.updateDateProperties.assignment\n      .map((property): Moment =>\n        assignment[property] ? moment(assignment[property]) : moment.invalid()\n      )]\n      .filter((timestamp: Moment): boolean => timestamp.isValid());\n\n    const lastUpdate: Moment = timestamps.length ? moment.max(...timestamps) : moment.invalid();\n\n    return lastUpdate && lastUpdate.isValid() ? lastUpdate.format() : '';\n  }\n}\n","export class AssignmentsList {\n  getAssignmentForAssessment(assignments = [], assessment = { assignment: { id: -1 } }) {\n    return assignments.find(assignment => assignment.assignment_id === assessment.assignment.id);\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../common/global-events.ts';\n\nexport class CourseProgress {\n  constructor($rootScope, $transitions) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$transitions = $transitions;\n\n    this.initListeners();\n  }\n\n  initListeners() {\n    this.lastState = null;\n\n    this.$transitions.onSuccess({\n      to: state => /^(teacher|student)-course-progress\\.(no-student-selected|details|objective-details)\\.?/.test(state.name),\n    }, ($transition$) => {\n      const toState = $transition$.$to();\n      const params = angular.copy($transition$.router.stateService.params);\n      this.lastState = {\n        name: toState.name,\n        params,\n      };\n    });\n\n    this.$rootScope.$on(\n      Events.CLASS_CHANGED, () => {\n        this.lastState = null;\n      },\n    );\n  }\n\n  get hasLastStateSaved() {\n    return !!this.lastState;\n  }\n\n  get lastStateSaved() {\n    return this.lastState;\n  }\n}\n","export class ExportStudentsResults {\n\n  constructor(Config, FetchData) {\n    'ngInject';\n\n    this.Config = Config;\n    this.FetchData = FetchData;\n  }\n\n  asFile(fileFormat, courseId, studentId = null) {\n    return this.getExportKey(\n      courseId,\n      studentId,\n    )\n      .then(response => response.key)\n      .then(key => window.open(`${this.Config.apiUrl}/v3/classes/export-grades/download/${fileFormat}/${key}/`, '_blank'));\n  }\n\n  toGoogleDrive(fileFormat, courseId, studentId = null) {\n    let promise;\n\n    if (studentId) {\n      promise = this.FetchData.v3\n        .exportStudentResultsOnGoogleDrive(fileFormat, courseId, studentId);\n    } else {\n      promise = this.FetchData.v3\n        .exportAllStudentsResultsOnGoogleDrive(fileFormat, courseId);\n    }\n\n    return promise;\n  }\n\n  checkGoogleDriveExportStatus(exportId, callback) {\n    chrome.runtime.sendMessage(\n      {\n        action: 'checkGDExportStatus',\n        delay: 3000,\n        method: 'GET',\n        url: this.getCheckGoogleDriveExportStatusURL(exportId),\n      },\n      callback,\n    );\n  }\n\n  getCheckGoogleDriveExportStatusURL(exportId) {\n    return `${this.Config.apiUrl}/v3/classes/export-grades/drive/result/${exportId}/`;\n  }\n\n  getExportKey(courseId, studentId = null) {\n    return studentId ?\n      this.getStudentExportKeyId(courseId, studentId) : this.getAllStudentsExportKeyId(courseId);\n  }\n\n  getAllStudentsExportKeyId(courseId) {\n    return this.FetchData.v3.getExportKeyForAllStudents(courseId);\n  }\n\n  getStudentExportKeyId(courseId, studentId) {\n    return this.FetchData.v3.getExportKeyForStudent(courseId, '', studentId);\n  }\n}\n","import { DialogType } from '../../../../../utils/enums/dialogType.enum';\nimport { CourseProgressDialog } from '../courseProgressDialog.service.ts';\n\nexport class ExportStudentsResultsDialog extends CourseProgressDialog {\n  constructor($mdDialog) {\n    'ngInject';\n\n    super($mdDialog);\n  }\n\n  show(locals, dialogType) {\n    const config = { locals };\n\n    switch (dialogType) {\n      case DialogType.SUCCESS:\n        config.templateUrl = `${\n          CourseProgressDialog.TEMPLATE_PATH\n        }/exportStudentsResults/exportStudentsResultsDialogSuccess.html`;\n        break;\n      case DialogType.FAIL:\n        config.templateUrl = `${\n          CourseProgressDialog.TEMPLATE_PATH\n        }/exportStudentsResults/exportStudentsResultsDialogFail.html`;\n        break;\n      case DialogType.CONFIRMATION:\n        config.templateUrl = `${\n          CourseProgressDialog.TEMPLATE_PATH\n        }/exportStudentsResults/exportStudentsResultsDialogConfirmation.html`;\n        break;\n      default:\n        break;\n    }\n\n    super.show(config);\n  }\n}\n","import angular, { IPromise } from 'angular';\nimport { CourseProgressDialog } from '../courseProgressDialog.service';\n\nexport class StudentDetailsEditDialog extends CourseProgressDialog {\n  constructor($mdDialog: ng.material.IDialogService) {\n    'ngInject';\n\n    super($mdDialog);\n  }\n\n  show(locals): IPromise<any> {\n    const templateUrl: string =\n      `${CourseProgressDialog.TEMPLATE_PATH}/studentDetailsEdit/studentDetailsEditDialog.html`;\n\n    return super.show({\n      locals,\n      templateUrl,\n    });\n  }\n}\n","import angular, { IPromise } from 'angular';\nimport { CourseProgressDialog } from '../courseProgressDialog.service';\n\nexport * from './shareAssessmentsWithColleagues.scss';\n\nexport class ShareAssessmentsWithColleaguesDialog extends CourseProgressDialog {\n  constructor(protected $mdDialog: angular.material.IDialogService) {\n    'ngInject';\n\n    super($mdDialog);\n  }\n\n  show(): IPromise<any> {\n    const config: angular.material.IDialogOptions = {\n      templateUrl:\n        `${CourseProgressDialog.TEMPLATE_PATH}/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html`,\n      controllerAs: '$ctrl',\n    };\n\n    return super.show(config);\n  }\n}\n","import angular, { IComponentController, IFormController, INgModelController, IQService, IScope } from 'angular';\nimport { IColleagueEmail } from '../../../../../shared/models/colleagueEmail.model';\nimport { IColleagueEmailsService } from '../../../../../shared/services/colleagueEmails/colleagueEmails.service';\nimport { IUnsubscribe, Observer } from '../../../../../shared/services/helpers/observer.service';\n\nexport class ShareAssessmentsWithColleaguesComponent {\n  static controller: IComponentController = ShareAssessmentsWithColleaguesComponent;\n  static templateUrl: string =\n    'components/course-progress/common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html';\n\n  public shareAssessmentWithColleaguesForm: IFormController;\n  public email: string;\n  public colleaguesEmails: IColleagueEmail[];\n  public readonly emailPattern: string;\n  private readonly unsubscribe: IUnsubscribe;\n\n  constructor(private $scope: IScope, private $q: IQService, private $mdDialog: angular.material.IDialogService,\n              private ColleagueEmailsService: IColleagueEmailsService) {\n    'ngInject';\n\n    this.emailPattern = '[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?';\n    this.unsubscribe = this.ColleagueEmailsService.colleagueEmails$\n      .subscribe(new Observer<IColleagueEmail[]>(this.next.bind(this)));\n  }\n\n  public $onInit(): void {\n    if (!this.ColleagueEmailsService.colleagueEmails$.value.length) {\n      this.ColleagueEmailsService.get();\n    }\n\n    this.$scope.$on('$destroy', () => this.unsubscribe);\n  }\n\n  public $postLink(): void {\n    const emailModel: INgModelController = this.shareAssessmentWithColleaguesForm.email;\n\n    emailModel.$validators.unique = (modelValue: any): boolean => {\n      let isValid: boolean = true;\n\n      if (this.ColleagueEmailsService.isEmailValid(modelValue)) {\n        isValid = this.ColleagueEmailsService.isUnique(modelValue);\n      }\n\n      return isValid;\n    };\n  }\n\n  public addColleagueEmail(): void {\n    if (this.isFormValid()) {\n      this.ColleagueEmailsService.add(this.email)\n        .then(\n          (): void => {\n            this.email = '';\n          },\n          (): void => {\n            this.shareAssessmentWithColleaguesForm.email.$setValidity('unique', false);\n          });\n    }\n  }\n\n  public removeColleagueEmail(colleagueEmail: IColleagueEmail): void {\n    this.ColleagueEmailsService.remove(colleagueEmail);\n  }\n\n  public isFormValid(): boolean {\n    return this.shareAssessmentWithColleaguesForm.$valid &&\n      !this.shareAssessmentWithColleaguesForm.$pristine &&\n      !!(this.shareAssessmentWithColleaguesForm.email as INgModelController).$viewValue;\n  }\n\n  public onKeyUp($event: chrome.input.ime.KeyboardEvent) {\n    if ($event.keyCode === 13) {\n      this.addColleagueEmail();\n    }\n  }\n\n  private next(colleaguesEmails: IColleagueEmail[]): void {\n    this.colleaguesEmails = colleaguesEmails;\n\n    if (this.shareAssessmentWithColleaguesForm) {\n      (this.shareAssessmentWithColleaguesForm.email as INgModelController).$validate();\n    }\n  }\n}\n","import get from 'lodash.get';\nimport { AssignmentType } from '../../shared/enums/assignmentType.enum';\nimport { TransitionHandler } from '../../shared/models/transitionHandler.model';\nimport { IUserInfoService } from '../../shared/services/userInfo/userInfo.service';\nimport { TransitionAuth } from '../../shared/types/transitionAuth.type';\nimport { AssignmentOrder } from '../../assignments/teacherAssignments/shared/enums/assignmentOrder';\nimport { registerOnBeforeTransition } from '../../utils/decorators/registerOnBeforeTransition.decorator';\n\nexport const routerConfig = ($transitionsProvider) => {\n  'ngInject';\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class GuardAuth extends TransitionHandler {\n    public getCriteria(): any {\n      return {\n        to: (state: any): boolean => /^(student|teacher)-course-progress/.test(state.name),\n      };\n    }\n\n    public onBefore(transition: any): TransitionAuth {\n      const UserInfo: IUserInfoService = transition.injector().get('UserInfo');\n      const transitionTo = transition.to();\n      let transitionAuth: TransitionAuth = true;\n\n      transitionTo.themeClass = 'sb-theme-purple';\n\n      if (/^teacher-/.test(transitionTo.name) && UserInfo.isTeacher()) {\n        transitionTo.role = 'teacher';\n      } else if (/^student-/.test(transitionTo.name) && !UserInfo.isTeacher()) {\n        transitionTo.role = 'student';\n      } else {\n        transition.abort();\n        transitionAuth = transition.router.stateService.transitionTo('wrong_user');\n      }\n\n      return transitionAuth;\n    }\n  }\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class RestoreState extends TransitionHandler {\n    public getCriteria(): any {\n      return {\n        to: state => !!get(state, 'data.statePrefix', false) && /^(student|teacher)-course-progress/.test(state.name),\n      };\n    }\n\n    public onBefore(transition: any): TransitionAuth {\n      const LocalStorageService = transition.injector().get('LocalStorageService');\n      const transitionTo = transition.to();\n      const targetParams = transition.targetState().params();\n      const statePrefix = get(transitionTo, 'data.statePrefix', '');\n      let ordering = get(targetParams, 'ordering');\n      let filters = get(targetParams, 'filters');\n      let transitionAuth: TransitionAuth = true;\n\n      if (!ordering && !filters) {\n        const savedOrdering = LocalStorageService.get(`${statePrefix}Ordering`);\n        const savedFilters = LocalStorageService.getArray(`${statePrefix}Filtering`);\n\n        ordering = savedOrdering || get(transitionTo, 'params.ordering', AssignmentOrder.ASC_TYPE);\n        filters = savedFilters || get(transitionTo, 'params.filters',\n          [\n            AssignmentType.WORK_UNIT,\n            AssignmentType.STANDARD_ASSIGNMENT,\n          ],\n        );\n\n        if (ordering && filters) {\n          const params = Object.assign({}, targetParams, { ordering, filters });\n\n          transitionAuth = transition.router.stateService.target(transitionTo, params);\n        }\n      }\n\n      return transitionAuth;\n    }\n  }\n};\n","export class UserSetupDialog {\n  static DEFAULT_CONFIG = {\n    bindToController: true,\n    controller($mdDialog) {\n      'ngInject';\n\n      this.$mdDialog = $mdDialog;\n    },\n    controllerAs: 'dialog',\n    parent: angular.element(document.body),\n  };\n  static TEMPLATE_PATH = 'userSetup/commons/dialogs';\n\n  constructor($mdDialog) {\n    'ngInject';\n\n    this.$mdDialog = $mdDialog;\n  }\n\n  showSaveInfo() {\n    const config = this.buildDialogConfig({\n      templateUrl: `${UserSetupDialog.TEMPLATE_PATH}/saveInfo.html`,\n      parent: angular.element('[ui-view=\"sideContent\"]'),\n    });\n\n    this.show(config);\n  }\n\n  showWhatNowInfo() {\n    const config = this.buildDialogConfig({\n      templateUrl: `${UserSetupDialog.TEMPLATE_PATH}/whatNowInfo.html`,\n    });\n\n    this.show(config);\n  }\n\n  show(config) {\n    this.$mdDialog.show(config);\n  }\n\n  hide() {\n    this.$mdDialog.hide();\n  }\n\n  buildDialogConfig(config = {}) {\n    return angular.extend({}, UserSetupDialog.DEFAULT_CONFIG, config);\n  }\n}\n","import { UserSetupController } from './userSetup.controller';\nimport style from './userSetup.scss';\n\nexport const userSetupComponent = {\n  bindings: { showMenuToggle: '<?', backToState: '<?', stateContext: '<?' },\n  controller: UserSetupController,\n  templateUrl: 'userSetup/components/userSetup/userSetup.html',\n  style,\n};\n","export class UserSetupController {\n  constructor($state) {\n    'ngInject';\n\n    this.$state = $state;\n    this.showMenuToggle = false;\n    this.backToState = null;\n    this.stateContext = null;\n  }\n\n  onBackToState() {\n    const params = Object.assign({}, this.stateContext, { backToState: null });\n\n    this.$state.go(this.backToState, params);\n  }\n}\n","import { UserSetupAgreementController } from './userSetupAgreement.controller';\n\nexport const userSetupAgreementComponent = {\n  bindings: { agreement: '<' },\n  controller: UserSetupAgreementController,\n  templateUrl: 'userSetup/components/userSetupAgreement/userSetupAgreement.html',\n};\n","import { Events } from '../../../common/global-events.ts';\n\nexport class UserSetupAgreementController {\n  constructor($rootScope, $state, $sce, FetchData, UserInfo) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n    this.$sce = $sce;\n    this.FetchData = FetchData;\n    this.UserInfo = UserInfo;\n    this.agreementAccepted = false;\n    this.isUpdateInProgress = false;\n  }\n\n  $onInit() {\n    this.agreement.content = this.$sce.trustAsHtml(this.agreement.content);\n  }\n\n  goToUserSettings() {\n    this.isUpdateInProgress = true;\n\n    this.FetchData.updateUserAgreementSeen()\n      .then(() => {\n        this.UserInfo.agreementSeen = true;\n\n        if (this.UserInfo.isTeacher() && !this.UserInfo.hasSetup) {\n          this.$state.go('userSetup');\n        } else {\n          this.$rootScope.$broadcast(Events.USER_SETUP_COMPLETED);\n          this.$state.go('loading');\n        }\n      })\n      .finally(() => {\n        this.isUpdateInProgress = false;\n      });\n  }\n}\n","import { UserSetupAgreementMissingController } from './userSetupAgreementMissing.controller';\n\nexport const userSetupAgreementMissingComponent = {\n  controller: UserSetupAgreementMissingController,\n  templateUrl: 'userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.html',\n};\n","export class UserSetupAgreementMissingController {\n  constructor(UserSetupDialog) {\n    'ngInject';\n\n    this.UserSetupDialog = UserSetupDialog;\n  }\n\n  showWhatNowInfo() {\n    this.UserSetupDialog.showWhatNowInfo();\n  }\n}\n","import { UserSetupCheckController } from './userSetupCheck.controller';\n\nexport const userSetupCheckComponent = {\n  controller: UserSetupCheckController,\n  templateUrl: 'userSetup/components/userSetupCheck/userSetupCheck.html',\n};\n","import { UserSetupValidationState } from '../../../utils/enums/userSetupValidationState.enum';\n\nexport class UserSetupCheckController {\n  constructor($state) {\n    'ngInject';\n\n    this.$state = $state;\n    this.validationStatus = UserSetupValidationState.IN_PROGRESS;\n  }\n\n  onValidation(isValid) {\n    this.validationStatus = isValid ?\n      UserSetupValidationState.VALID : UserSetupValidationState.INVALID;\n  }\n}\n","export const UserSetupValidationState = {\n  IN_PROGRESS: 'IN_PROGRESS',\n  VALID: 'VALID',\n  INVALID: 'INVALID',\n};\n","export class UserSetupCheck {\n  constructor(UserInfo, UserQuery) {\n    'ngInject';\n\n    this.UserInfo = UserInfo;\n    this.UserQuery = UserQuery;\n  }\n\n  async getUserEmailDomain() {\n    let userEmailDomain = '';\n\n    if (this.UserQuery.getValue().email) {\n      userEmailDomain = await Promise.resolve(/@\\S+/.exec(this.UserQuery.getValue().email)[0]);\n    } else {\n      userEmailDomain = await new Promise((resolve) => {\n        chrome.runtime.sendMessage({ action: 'getUserInfo' }, (userInfo) => {\n          resolve(/@\\S+/.exec(userInfo.email)[0]);\n        });\n      });\n    }\n\n    return userEmailDomain;\n  }\n\n  validateUser() {\n    return Promise.resolve(this.UserInfo.gdpr);\n  }\n}\n","import { UserSetupCheckInvalidController } from './userSetupCheckInvalid.controller';\n\nexport const userSetupCheckInvalidComponent = {\n  controller: UserSetupCheckInvalidController,\n  templateUrl: 'userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.html',\n};\n","export class UserSetupCheckInvalidController {\n  constructor(UserSetupDialog) {\n    'ngInject';\n\n    this.UserSetupDialog = UserSetupDialog;\n  }\n\n  showWhatNowInfo() {\n    this.UserSetupDialog.showWhatNowInfo();\n  }\n}\n","import { UserSetupCheckProgressController } from './userSetupCheckProgress.controller';\n\nexport const userSetupCheckProgressComponent = {\n  bindings: { onValidation: '&' },\n  controller: UserSetupCheckProgressController,\n  templateUrl: 'userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.html',\n};\n","export class UserSetupCheckProgressController {\n  constructor(UserSetupCheck) {\n    'ngInject';\n\n    this.UserSetupCheck = UserSetupCheck;\n    this.userEmailDomain = '';\n    this.waitingForResponse = false;\n  }\n\n  async $onInit() {\n    this.userEmailDomain = await this.UserSetupCheck.getUserEmailDomain();\n  }\n\n  validateUser() {\n    this.waitingForResponse = true;\n\n    this.UserSetupCheck.validateUser()\n      .then(isValid => this.onValidation({ isValid }))\n      .finally(() => (this.waitingForResponse = false));\n  }\n}\n","import { UserSetupCheckValidController } from './userSetupCheckValid.controller';\n\nexport const userSetupCheckValidComponent = {\n  controller: UserSetupCheckValidController,\n  templateUrl: 'userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.html',\n};\n","export class UserSetupCheckValidController {\n  constructor($state) {\n    'ngInject';\n\n    this.$state = $state;\n  }\n\n  goToAgreement() {\n    this.$state.go('userSetup.setup.agreement');\n  }\n}\n","import { UserSetupCompleteController } from './userSetupComplete.controller';\n\nexport const userSetupCompleteComponent = {\n  bindings: { educationalSystems: '<' },\n  controller: UserSetupCompleteController,\n  templateUrl: 'userSetup/components/userSetupComplete/userSetupComplete.html',\n};\n","import { Events } from '../../../common/global-events.ts';\n\nexport class UserSetupCompleteController {\n  constructor($rootScope, $state) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.$state = $state;\n  }\n\n  closeUserSetup() {\n    // this needs to be changed\n    this.$rootScope.$broadcast(Events.USER_SETUP_COMPLETED);\n    this.$state.go('loading');\n  }\n}\n","import { UserSetupSettingsController } from './userSetupSettgins.controller';\n\nexport const userSetupSettingsComponent = {\n  bindings: { educationalSystems: '<' },\n  controller: UserSetupSettingsController,\n  templateUrl: 'userSetup/components/userSetupSettings/userSetupSettings.html',\n};\n","export class UserSetupSettingsController {\n  constructor(Mixpanel, UserSetupSettings) {\n    'ngInject';\n\n    this.Mixpanel = Mixpanel;\n    this.UserSetupSettings = UserSetupSettings;\n  }\n\n  $onInit() {\n    // silly check for setup type - should be moved to the separated state but\n    // right know I don't have time for that\n    this.isUpdateSetupType = this.UserSetupSettings.isUpdateState();\n\n    // current preferences model\n    this.userPreferences = {\n      lastEducationalSystem: null,\n    };\n\n    // fetch current settings when editing\n    if (this.isUpdateSetupType) {\n      this.fetchCurrentSetting();\n    }\n  }\n\n  fetchCurrentSetting() {\n    this.UserSetupSettings.getUserPreferences(this.educationalSystems).then(\n      (preferences) => {\n        this.userPreferences = preferences;\n\n        if (this.isUpdateSetupType) {\n          this.initialPreferences = Object.assign({}, this.userPreferences);\n        }\n      },\n    );\n  }\n\n  /**\n   * reset the school choice when the educational system is changed\n   */\n  changeEducationalSystem() {\n    this.userPreferences.school = null;\n  }\n\n  filterSchool(query) {\n    return this.UserSetupSettings.getSchoolByQuery(query, this.userPreferences);\n  }\n\n  savePreferences() {\n    if (this.isUpdateSetupType) {\n      this.updateCurrentPreferences();\n    } else {\n      this.saveUserPreferences();\n    }\n  }\n\n  saveUserPreferences() {\n    this.UserSetupSettings.saveUserPreferences(this.userPreferences).then(\n      () => {\n        // then move to the last slide\n        this.Mixpanel.track('setup_complete');\n        this.Mixpanel.engage(\n          'first_time_setup',\n          this.userPreferences.educational_system,\n          this.userPreferences.school.title,\n        );\n        this.UserSetupSettings.goToSetupComplete();\n      },\n    );\n  }\n\n  updateCurrentPreferences() {\n    this.UserSetupSettings.updateUserPreferences(this.userPreferences)\n      .then(() => {\n        this.initialPreferences = Object.assign({}, this.userPreferences);\n        this.UserSetupSettings.hideAfterUpdateDialog();\n        this.Mixpanel.engage(\n          'edit_setup',\n          this.userPreferences.country,\n          this.userPreferences.educational_system,\n          this.userPreferences.school.title,\n        );\n        this.UserSetupSettings.showAfterUpdateDialog();\n      });\n  }\n\n  isSaveButtonDisabled() {\n    let isDisabled = true;\n\n    if (\n      this.isUpdateSetupType &&\n      this.UserSetupSettings.isPreferenceFilled(this.initialPreferences) &&\n      this.UserSetupSettings.isPreferenceFilled(this.userPreferences)\n    ) {\n      isDisabled = this.UserSetupSettings.comparePreferences(\n        this.initialPreferences,\n        this.userPreferences,\n      );\n    } else {\n      isDisabled = !this.UserSetupSettings.isPreferenceFilled(this.userPreferences);\n    }\n\n    return isDisabled;\n  }\n}\n","export class UserSetupSettings {\n  static UPDATE_STATE = 'userSetup.setup.update';\n  static COMPLETE_STATE = 'userSetup.setup.complete';\n  static QUERY_LIMIT = 100;\n\n  constructor($state, FetchData, Path, UserSetupDialog) {\n    'ngInject';\n\n    this.$state = $state;\n    this.FetchData = FetchData;\n    this.Path = Path;\n    this.UserSetupDialog = UserSetupDialog;\n  }\n\n  isUpdateState() {\n    return this.$state.current.name === UserSetupSettings.UPDATE_STATE;\n  }\n\n  getUserPreferences(educationalSystems) {\n    const userPreferences = {};\n\n    return this.getCourseSetup()\n      .then((preferences) => {\n        userPreferences.educationalSystem = educationalSystems\n          .find(educationalSystem => educationalSystem.id === preferences.educational_system_setup);\n\n        return preferences;\n      })\n      .then(preferences => this.getSchoolById(preferences.school))\n      .then((school) => {\n        userPreferences.school = school;\n\n        return userPreferences;\n      });\n  }\n\n  saveUserPreferences(userPreferences) {\n    const userPreferenceData = this.mapUserPreferencesToSaveData(userPreferences);\n    return this.FetchData.updateUserPreferences(userPreferenceData);\n  }\n\n  updateUserPreferences(userPreferences) {\n    const classroomId = this.Path.getClassroomId();\n    const userPreferenceData = this.mapUserPreferencesToSaveData(userPreferences);\n\n    return this.FetchData.updateCourseSetup(classroomId, userPreferenceData);\n  }\n\n  getCourseSetup() {\n    const classRoomId = this.Path.getClassroomId();\n\n    return this.FetchData.getCourseSetup(classRoomId);\n  }\n\n  getSchoolById(schoolId) {\n    return this.FetchData.getSchoolById(schoolId);\n  }\n\n  getSchoolByQuery(query, userPreferences) {\n    return this.FetchData\n      .getSchool(query, userPreferences.educationalSystem.id, UserSetupSettings.QUERY_LIMIT);\n  }\n\n  mapUserPreferencesToSaveData(userPreferences) {\n    return {\n      educational_system_setup: userPreferences.educationalSystem.id,\n      school: userPreferences.school.id,\n    };\n  }\n\n  comparePreferences(preferences1, preferences2) {\n    return this.isPreferenceFilled(preferences1) && this.isPreferenceFilled(preferences2) &&\n      preferences1.educationalSystem.id === preferences2.educationalSystem.id &&\n      preferences1.school.id === preferences2.school.id;\n  }\n\n  isPreferenceFilled(preference) {\n    return !!preference && !!preference.educationalSystem && !!preference.school;\n  }\n\n  goToSetupComplete() {\n    this.$state.go(UserSetupSettings.COMPLETE_STATE);\n  }\n\n  showAfterUpdateDialog() {\n    this.UserSetupDialog.showSaveInfo();\n  }\n\n  hideAfterUpdateDialog() {\n    this.UserSetupDialog.hide();\n  }\n}\n","import { UserSetupSlidesController } from './userSetupSlides.controller';\n\nexport const userSetupSlidesComponent = {\n  bindings: {\n    firstTimeData: '<',\n  },\n  controller: UserSetupSlidesController,\n  templateUrl: 'userSetup/components/userSetupSlides/userSetupSlides.html',\n};\n","export class UserSetupSlidesController {\n  constructor($state) {\n    'ngInject';\n\n    this.$state = $state;\n  }\n\n  goToUserSetupSettings() {\n    this.$state.go('userSetup.setup.selectSchool');\n  }\n}\n","import { StateProvider } from '@uirouter/angularjs';\nimport { RawParams, StateDeclaration, StateParams, Transition, TransitionService } from '@uirouter/core';\nimport { IPromise } from 'angular';\nimport get from 'lodash.get';\nimport { ICountry } from '../shared/models/country.model';\nimport { ISchoolCategory } from '../shared/models/schoolCategory.model';\nimport { CountryService } from '../shared/services/country/country.service';\nimport { SchoolService } from '../shared/services/school/school.service';\nimport { FetchData } from '../utils/services/fetchData.service';\n\nexport const UserSetupRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  $transitionsProvider.onBefore({ to: 'userSetup.**' }, (transition: Transition): any => {\n    const UserInfo: { isTeacher: () => boolean } = transition.injector().get('UserInfo');\n    const transitionTo: StateDeclaration = transition.to();\n\n    (transitionTo as any).themeClass = 'sb-theme-yellow';\n    (transitionTo as any).role = UserInfo.isTeacher() ? 'teacher' : 'student';\n\n    return true;\n  });\n\n  $stateProvider\n    .state('userSetup', {\n      params: {\n        country: null,\n        state: null,\n        backToState: null,\n      },\n      views: {\n        '@': {\n          component: 'appSetup',\n        },\n      },\n      resolve: {\n        // backToState: ($stateParams: StateParams): string => {\n        //   'ngInject';\n        //\n        //   return get($stateParams, 'backToState', '');\n        // },\n        // stateContext: ($stateParams: StateParams): RawParams => {\n        //   'ngInject';\n        //\n        //   return {\n        //     country: get($stateParams, 'country', null),\n        //     state: get($stateParams, 'state', null),\n        //   };\n        // },\n        // showMenuToggle($transition$: Transition) {\n        //   'ngInject';\n        //\n        //   return $transition$.to().name === 'userSetup.setup.update';\n        // },\n      },\n    });\n    // .state('userSetup.intro', {\n    //   resolve: {\n    //     firstTimeData(FetchData: FetchData) {\n    //       'ngInject';\n    //\n    //       return FetchData.getFirstTimeSetupData(chrome.i18n.getUILanguage());\n    //     },\n    //   },\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupSlides',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.agreementMissing', {\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupAgreementMissing',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.check', {\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupCheck',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup', {\n    //   abstract: true,\n    //   resolve: {\n    //     educationalSystems(FetchData: FetchData) {\n    //       'ngInject';\n    //\n    //       return FetchData.v3.getEducationalSystems();\n    //     },\n    //   },\n    //\n    // })\n    // .state('userSetup.setup.agreement', {\n    //   resolve: {\n    //     agreement(FetchData: FetchData) {\n    //       'ngInject';\n    //\n    //       return FetchData.v3.getUserAgreement();\n    //     },\n    //   },\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupAgreement',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup.intro', {\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupSettings',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup.update', {\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupSettings',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup.complete', {\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupComplete',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup.selectSchool', {\n    //   params: {\n    //     country: null,\n    //     state: null,\n    //   },\n    //   resolve: {\n    //     countries: (CountryService: CountryService): IPromise<ICountry[]> => {\n    //       'ngInject';\n    //\n    //       return CountryService.getAll();\n    //     },\n    //     country: ($stateParams: StateParams): ICountry => {\n    //       'ngInject';\n    //\n    //       return get($stateParams, 'country', null);\n    //     },\n    //     state: ($stateParams: StateParams): string => {\n    //       'ngInject';\n    //\n    //       return get($stateParams, 'state', null);\n    //     },\n    //   },\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupSchoolSelect',\n    //     },\n    //   },\n    // })\n    // .state('userSetup.setup.registerSchool', {\n    //   params: {\n    //     country: null,\n    //     state: null,\n    //     backToState: null,\n    //   },\n    //   resolve: {\n    //     countries: (CountryService: CountryService): IPromise<ICountry[]> => {\n    //       'ngInject';\n    //\n    //       return CountryService.getAll();\n    //     },\n    //     country: ($stateParams: StateParams): ICountry => {\n    //       'ngInject';\n    //\n    //       return $stateParams.country;\n    //     },\n    //     state: ($stateParams: StateParams): string => {\n    //       'ngInject';\n    //\n    //       return $stateParams.state;\n    //     },\n    //     schoolCategories: (SchoolService: SchoolService): ISchoolCategory[] => {\n    //       'ngInject';\n    //\n    //       return SchoolService.getSchoolCategories();\n    //     },\n    //   },\n    //   views: {\n    //     'sideContent@userSetup': {\n    //       component: 'userSetupRegisterSchool',\n    //     },\n    //   },\n    // });\n};\n","import { IComponentController, IFormController, IPromise } from 'angular';\nimport { RawParams, StateService } from '@uirouter/core';\nimport get from 'lodash.get';\nimport { UserService } from '../../../../../../src/app/shared/states/user/user.service';\nimport { ICountry } from '../../../shared/models/country.model';\nimport { ISchool } from '../../../shared/models/school.model';\nimport { ISchoolRequestParams } from '../../../shared/models/schoolRequestParams.model';\nimport { IUserSetupResponse } from '../../../shared/models/userSetupResponse.model';\nimport { SchoolService } from '../../../shared/services/school/school.service';\nimport { UserSetupService } from '../../../shared/services/userSetup/userSetup.service';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { Mixpanel } from '../../../utils/services/mixpanel.service';\nimport UserSetupModule from '../../userSetup.module';\nimport style from './userSetupSchoolSelect.scss';\nimport template from './userSetupSchoolSelect.tpl.html';\n\n@Component({\n  module: UserSetupModule,\n  selector: 'user-setup-school-select',\n  template: template,\n  style: style,\n})\nexport class UserSetupSchoolSelectComponent implements IComponentController {\n  @Input() public countries: ICountry[];\n  @Input() public country: ICountry;\n  @Input() public state: string;\n\n  public school: ISchool;\n  public schoolSelectForm: IFormController;\n  public searchSchoolName: string;\n\n  private schools: ISchool[];\n  private requestPending: boolean;\n\n  constructor(private $state: StateService, private SchoolService: SchoolService,\n              private UserService: UserService,\n              private UserSetupService: UserSetupService, private Mixpanel: Mixpanel) {\n    'ngInject';\n\n    this.countries = [];\n    this.country = null;\n    this.state = null;\n    this.school = null;\n    this.schoolSelectForm = null;\n    this.searchSchoolName = null;\n    this.schools = [];\n    this.requestPending = false;\n  }\n\n  public $onInit(): void {\n    if (!this.isSchoolInputDisable()) {\n      this.refreshSchools();\n    }\n  }\n\n  public registerSchool(): void {\n    const params: RawParams = {\n      country: this.country,\n      state: this.state,\n      backToState: this.$state.current.name,\n    };\n\n    this.$state.go('userSetup.setup.registerSchool', params);\n  }\n\n  public isSchoolInputDisable(): boolean {\n    const hasStates: boolean = !!get(this, 'country.states', []).length;\n\n    return !(hasStates ? get(this, 'state', false) : get(this, 'country', false));\n  }\n\n  public searchSchool(searchSchoolName: string): ISchool[] {\n    return searchSchoolName ?\n      this.SchoolService.filterSchools(this.schools, searchSchoolName) : this.schools;\n  }\n\n  public getSchoolName(school: ISchool): string {\n    return this.SchoolService.getSchoolName(school);\n  }\n\n  public getCityName(school: ISchool): string {\n    return this.SchoolService.getCityName(school);\n  }\n\n  public sendSaveRequest(): void {\n    this.requestPending = true;\n\n    this.UserSetupService.postUserSetup({ school: this.school.id })\n      .then(this.userSetupRequestSuccess.bind(this))\n      .finally((): boolean => this.requestPending = false);\n  }\n\n  public isSubmitDisabled(): boolean {\n    return this.schoolSelectForm.$invalid || this.requestPending;\n  }\n\n  private refreshSchools(): void {\n    const countryHasStates: boolean = !!get(this, 'country.states.length', false);\n    const stateIsSelected: boolean = !!get(this, 'state', false);\n    const requestParams: ISchoolRequestParams = {\n      query: this.searchSchoolName,\n      country_code: this.country.country_code,\n    };\n    let schoolsRequest: IPromise<ISchool[]> = Promise.resolve<ISchool[]>([]) as any;\n\n    if (countryHasStates && stateIsSelected) {\n      requestParams.state = get(this, 'state');\n      schoolsRequest = this.SchoolService.getSchools(requestParams);\n    } else if (!countryHasStates) {\n      schoolsRequest = this.SchoolService.getSchools(requestParams);\n    }\n\n    schoolsRequest\n      .then((schools: ISchool[]): ISchool[] => this.schools = schools)\n      .catch((): ISchool[] => this.schools = []);\n  }\n\n  private clearStateInput(): void {\n    this.state = null;\n  }\n\n  private clearSchoolInput(): void {\n    this.school = null;\n    this.searchSchoolName = null;\n    this.schoolSelectForm.$setUntouched();\n  }\n\n  private userSetupRequestSuccess(userSetupResponse: IUserSetupResponse): void {\n    this.UserService.updateUser(userSetupResponse);\n    this.trackMixpanel(userSetupResponse.educational_system_setup);\n    this.$state.go('userSetup.setup.complete');\n  }\n\n  private trackMixpanel(educationalSystemSetup: number): void {\n    this.Mixpanel.track('setup_complete');\n    this.Mixpanel.engage(\n      'first_time_setup',\n      this.country.country_code,\n      educationalSystemSetup,\n      this.school.id,\n    );\n  }\n}\n","import { IPromise } from 'angular';\nimport { Service } from '../../../utils/decorators/service.decorator';\nimport { FetchData } from '../../../utils/services/fetchData.service';\nimport { RequestType } from '../../enums/requestType.enum';\nimport { IUserSetupRequestBody } from '../../models/userSetupRequestBody.model';\nimport { IUserSetupResponse } from '../../models/userSetupResponse.model';\nimport SharedServicesModule from '../services.module';\n\n@Service({\n  module: SharedServicesModule,\n  name: 'UserSetupService',\n})\nexport class UserSetupService {\n  constructor(private FetchData: FetchData) {\n    'ngInject';\n  }\n\n  public postUserSetup(userSetupRequestBody: IUserSetupRequestBody): IPromise<IUserSetupResponse> {\n    return this.FetchData\n      .sendAPIRequest('/schools/user_setup/', RequestType.POST, userSetupRequestBody);\n  }\n}\n","import { IComponentController, IFormController } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { UserService } from '../../../../../../src/app/shared/states/user/user.service';\nimport { ICountry } from '../../../shared/models/country.model';\nimport { ISchoolCategory } from '../../../shared/models/schoolCategory.model';\nimport { ISchoolRequestBody, SchoolRequestBody } from '../../../shared/models/schoolRequestBody.model';\nimport { CountryService } from '../../../shared/services/country/country.service';\nimport { SchoolService } from '../../../shared/services/school/school.service';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport UserSetupModule from '../../userSetup.module';\nimport style from './userSetupRegisterSchool.scss';\nimport template from './userSetupRegisterSchool.tpl.html';\n\n@Component({\n  module: UserSetupModule,\n  selector: 'user-setup-register-school',\n  template: template,\n  style: style,\n})\nexport class UserSetupRegisterSchoolComponent implements IComponentController {\n  @Input() public countries: ICountry[];\n  @Input() public schoolCategories: ISchoolCategory[];\n  @Input({ optional: true }) public country: ICountry;\n  @Input({ optional: true }) public state: string;\n\n  public readonly DEFAULT_COUNTRY_CODE: string;\n  public schoolRegisterForm: IFormController;\n  public schoolRequest: ISchoolRequestBody;\n\n  private requestPending: boolean;\n\n  constructor(private $state: StateService, private CountryService: CountryService, private SchoolService: SchoolService, private UserService: UserService) {\n    'ngInject';\n\n    this.countries = [];\n    this.schoolCategories = [];\n    this.country = null;\n    this.state = null;\n    this.DEFAULT_COUNTRY_CODE = 'SE';\n    this.schoolRegisterForm = null;\n    this.schoolRequest = new SchoolRequestBody();\n    this.requestPending = false;\n  }\n\n  public $onInit(): void {\n    if (!this.country) {\n      this.country = this.CountryService.findCountryByCode(this.countries, this.DEFAULT_COUNTRY_CODE);\n    }\n  }\n\n  public sendSchoolRequest(): void {\n    this.schoolRequest.country_code = this.country.country_code;\n    this.schoolRequest.state = this.state;\n\n    this.requestPending = true;\n    this.SchoolService.sendSchoolRequest(this.schoolRequest)\n      .then(this.schoolRequestSuccess.bind(this))\n      .catch(this.schoolRequestFail.bind(this))\n      .finally((): boolean => this.requestPending = false);\n  }\n\n  public isSubmitDisabled(): boolean {\n    return this.schoolRegisterForm.$invalid || this.requestPending;\n  }\n\n  private clearStateInput(): void {\n    this.state = null;\n  }\n\n  private schoolRequestSuccess(schoolRequest: ISchoolRequestBody): void {\n    this.UserService.updateUser({ school_name: schoolRequest.school_name } as any);\n    this.$state.go('userSetup.setup.complete');\n  }\n\n  private schoolRequestFail(): void {\n\n  }\n}\n","import { SchoolCategoryType } from '../enums/schoolCategoryType';\n\nexport interface ISchoolRequestBody {\n  category: SchoolCategoryType;\n  city: string;\n  comment?: string;\n  country_code: string;\n  postal_code: string;\n  school_name: string;\n  state: string;\n  street_address: string;\n  website: string;\n}\n\nexport class SchoolRequestBody implements ISchoolRequestBody {\n  public category: SchoolCategoryType;\n  public city: string;\n  public comment: string;\n  public country_code: string;\n  public postal_code: string;\n  public school_name: string;\n  public state: string;\n  public street_address: string;\n  public website: string;\n}\n","import angular from 'angular';\n\nexport function AppConfig(\n  $compileProvider, $locationProvider, $stateProvider, $qProvider, ConfigProvider, $mdAriaProvider,\n  $sceDelegateProvider, $urlServiceProvider, $sanitizeProvider\n) {\n  'ngInject';\n\n  const config = ConfigProvider.$get();\n\n  // Disable error info on unhandled promise rejections\n  $qProvider.errorOnUnhandledRejections(false);\n\n  // Globally disables all ARIA warnings.\n  $mdAriaProvider.disableWarnings();\n\n  $compileProvider.debugInfoEnabled(DEVELOPMENT_ENV);\n\n  //Enable SVG\n  $sanitizeProvider.enableSvg(true);\n\n  // Enable HTML5 mode which is based on using the HTML5 History API.\n  $locationProvider.html5Mode({\n    enabled: true,\n    requireBase: false,\n  });\n\n  $urlServiceProvider.deferIntercept();\n\n  // Run through all routes in config and create state for each one.\n  angular.forEach(config.routes, (route) => {\n    $stateProvider.state(route.name, {\n      templateUrl: route.templateUrl,\n      controller: route.ctrl,\n      controllerAs: route.controllerAs,\n      themeClass: route.themeClass,\n      params: route.params || {},\n      resolve: route.resolve,\n    });\n  });\n\n  $sceDelegateProvider.resourceUrlWhitelist([\n    'self',\n    `chrome-extension://${chrome.runtime.id}/**`,\n  ]);\n}\n","import angular from 'angular';\nimport { EnvironmentService } from '../../../src/app/core/environment/environment.service';\n\nexport function AppRun(\n  $rootScope, $transitions, $trace, $timeout, Hint, Mixpanel, StudybeeHandle, Locale, MainMenu,\n  FetchData, HostPageNewAssignmentObserver, Helpers, EnvironmentService,\n) {\n  'ngInject';\n\n  // Run Mixpanel analytics\n  chrome.runtime.sendMessage({\n    action: 'getUserInfo',\n  }, (res) => {\n    if (!res.id.length || !res.email.length) {\n      return;\n    }\n\n    Mixpanel.init('6850a4e3400b7fe7459103da40c5a5be', res.email);\n    Mixpanel.engage('extension_run');\n  });\n\n  // Add listener for chrome messages.\n  chrome.runtime.onMessage.addListener((request) => {\n    if (request.action === 'toggleStudybee') {\n      StudybeeHandle.studybeeToggle();\n    }\n  });\n\n  // Add listener for click on body\n  angular.element('body').on('keydown', (e) => {\n    if (e.keyCode !== 27 || angular.element('[md-component-id=\"studybee\"]').hasClass('md-closed')) {\n      return;\n    }\n\n    StudybeeHandle.studybeeClose(0);\n    Hint.displayToggleHint();\n  });\n\n  Locale.setMomentLocale();\n\n  // ---------- global actions - will be moved to separated file ----\n\n  // eslint-disable-next-line no-param-reassign\n  $rootScope.toggleObject = (object) => {\n    // eslint-disable-next-line no-param-reassign\n    object.open = !object.open;\n  };\n  // eslint-disable-next-line no-param-reassign\n  $rootScope.toggleMenu = MainMenu.toggleMenu;\n  // eslint-disable-next-line no-param-reassign\n  $rootScope.showLoading = FetchData.showLoading.bind(FetchData);\n  // eslint-disable-next-line no-param-reassign\n  Object.assign($rootScope, { get apiUrl() { return EnvironmentService.API; } });\n\n  // auto check whether the extended view should be shown or not\n  $transitions.onStart({ to: '**' }, ($transition$) => {\n    // Here we have to find whether we use the extended view as a parent or not\n    const { path } = $transition$.$to();\n    let extendedViewEnable = false;\n    for (const pathItem of path) {\n      if (pathItem.views && pathItem.views.hasOwnProperty('extended@')) {\n        extendedViewEnable = true;\n        break;\n      }\n    }\n\n    // Small delay to make animation more smooth\n    const delayForAnimation = $rootScope.extendedViewEnable !== extendedViewEnable ? 400 : 0;\n    // eslint-disable-next-line no-param-reassign\n    $rootScope.extendedViewEnable = extendedViewEnable;\n\n    return new Promise((resolve) => setTimeout(resolve, delayForAnimation));\n  });\n\n  HostPageNewAssignmentObserver.init();\n\n  Helpers.registerThemeWatcher();\n  Helpers.registerBackdropWatcher();\n  $rootScope.$on('$destroy', () => {\n    Helpers.disconnectThemeWatcher();\n    Helpers.disconnectBackdropWatcher();\n  });\n\n  // ---------- section only for development ----------\n\n  // if (DEVELOPMENT_ENV) {\n  // $trace.enable('TRANSITION');\n  // }\n}\n","export const AppRouting = ($stateProvider) => {\n  'ngInject';\n\n  $stateProvider\n    .state('loading', {\n      templateUrl: 'utils/views/loading_state.html',\n    })\n    .state('not_logged_user', {\n      templateUrl: 'utils/views/not_logged_state.html',\n    })\n    .state('wrong_user', {\n      templateUrl: 'utils/views/wrong_user_state.html',\n    })\n    .state('not_configured', {\n      themeClass: 'sb-theme-green',\n      templateUrl: 'utils/views/not_configured_state.html',\n    })\n    .state('wrongGoogleDriveFile', {\n      themeClass: 'sb-theme-green',\n      templateUrl: 'utils/views/wrong_google_drive_file.html',\n    })\n    .state('noLearningObjectives', {\n      themeClass: 'sb-theme-green',\n      templateUrl: 'utils/views/noLearningObjectives.html',\n    });\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport uiRouter from '@uirouter/angularjs';\nimport { UserInactive } from './user-inactive.component';\n\nrequire('./user-inactive.scss');\n\nexport const UserInactiveModule = angular\n  .module('userInactive', [\n    uiRouter,\n  ])\n  .component('userInactive', UserInactive)\n  .config(($stateProvider) => {\n    'ngInject';\n\n    $stateProvider\n      .state('user-inactive', {\n        component: 'userInactive',\n        resolve: {\n          message: (FetchData) => {\n            'ngInject';\n\n            return FetchData.getInactiveUserMessage();\n          },\n        },\n      });\n  })\n  .name;\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nclass controller {\n  constructor(StudybeeHandle) {\n    'ngInject';\n\n    this.StudybeeHandle = StudybeeHandle;\n  }\n\n  $onInit() {\n    // just to be sure that the information is visible\n    this.StudybeeHandle.studybeeActivate();\n  }\n}\n\nexport const UserInactive = {\n  bindings: {\n    message: '<',\n  },\n  templateUrl: 'components/user-inactive/user-inactive.html',\n  controller,\n};\n","import angular, { IModule } from 'angular';\nimport SharedComponentsModule from './components/components.module';\nimport SharedDirectivesModule from './directives/directives.module';\nimport SharedFiltersModule from './filters/filters.module';\nimport SharedServicesModule from './services/services.module';\nimport SharedUpgradesModule from './upgrades/upgrades.module';\n\nexport const SharedModule: IModule = angular.module('app.shared', [\n  SharedComponentsModule,\n  SharedDirectivesModule,\n  SharedFiltersModule,\n  SharedServicesModule,\n  SharedUpgradesModule,\n]);\n\nexport default SharedModule.name;\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { ParentComponent } from '../../../../utils/decorators/parent-component.decorator';\nimport SharedComponentsMaterialModule from '../material.module';\nimport style from './mdMenuLabel.scss';\n\n@Component({\n  module: SharedComponentsMaterialModule,\n  selector: 'mdMenuLabel',\n  style: style,\n})\nexport class MdMenuLabelComponent implements IComponentController {\n  @ParentComponent()\n  public mdMenu: IComponentController;\n\n  constructor() {\n    'ngInject';\n  }\n}\n","import { ICompileService, IComponentController, INgModelController, IRootElementService, IScope, ITimeoutService } from 'angular';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport { Output } from '../../../../utils/decorators/output.decorator';\nimport { ParentComponent } from '../../../../utils/decorators/parent-component.decorator';\nimport { IEventEmitter } from '../../../models/eventEmitter';\nimport SharedComponentsMaterialModule from '../material.module';\nimport style from './mdSelectAll.scss';\nimport template from './mdSelectAll.tpl.html';\n\n@Component({\n  module: SharedComponentsMaterialModule,\n  selector: 'mdSelectAll',\n  style: style,\n})\nexport class MdSelectAllComponent implements IComponentController {\n  @ParentComponent()\n  public ngModel: INgModelController;\n\n  @Output({ alias: 'onChange', optional: true })\n  public notifyChanges: IEventEmitter<void>;\n\n  @Input({ alias: 'mdDataSet' })\n  public dataSet: any[];\n\n  public isSelectedAll: boolean;\n\n  constructor(private $scope: IScope, private $element: IRootElementService, private $timeout: ITimeoutService, private $compile: ICompileService) {\n    'ngInject';\n  }\n\n  public $onInit(): void {\n    this.refreshSelectAll(100);\n\n    this.ngModel.$viewChangeListeners.push(() => {\n      this.refreshSelectAll();\n    });\n  }\n\n  public $postLink(): void {\n    this.$timeout((): void => {\n      const content: JQuery = this.$compile(template)(this.$scope);\n      this.$element.append(content);\n    }, 0);\n  }\n\n  public onChange() {\n    this.notifyChanges();\n    this.refreshSelectAll();\n  }\n\n  private refreshSelectAll(delay: number = 0): void {\n    this.$timeout((): void => {\n      this.isSelectedAll = this.ngModel.$modelValue.length === this.dataSet.length;\n    }, delay);\n  }\n}\n","import { IComponentController, INgModelController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { SiblingComponent } from '../../../utils/decorators/sibling-component';\nimport SharedComponentsModule from '../components.module';\nimport style from './assignmentCourseSelect.scss';\nimport template from './assignmentCourseSelect.tpl.html';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assignment-course-select',\n  template: template,\n  style: style,\n})\nexport class AssignmentCourseSelectComponent implements IComponentController {\n  @SiblingComponent({ alias: 'ngModel' }) ngModel: INgModelController;\n  @Input() courseDefinitions: any[];\n\n  constructor() {\n    'ngInject';\n\n    this.courseDefinitions = [];\n  }\n\n  public $onInit(): void {\n    if (!this.ngModel && Array.isArray(this.courseDefinitions)) {\n      this.ngModel.$viewValue = this.courseDefinitions[0];\n    }\n  }\n\n  public isSingleView(): boolean {\n    return Array.isArray(this.courseDefinitions) ? this.courseDefinitions.length < 2 : true;\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport SharedComponentsModule from '../components.module';\nimport style from './assignmentGradeText.scss';\nimport template from './assignmentGradeText.tpl.html';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assignment-grade-text',\n  template: template,\n  style: style,\n})\nexport class AssignmentGradeTextComponent implements IComponentController {\n  @Input() text: string;\n\n  constructor() {\n    'ngInject';\n\n    this.text = '';\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { AssignmentState } from '../../enums/assignmentStateType.enum';\nimport { AssignmentType } from '../../enums/assignmentType.enum';\nimport { IconsPath } from '../../enums/iconsPath.enum';\nimport { IAssignment } from '../../models/assignment.model';\nimport SharedComponentsModule from '../components.module';\nimport style from './assignmentIconType.scss';\nimport template from './assignmentIconType.tpl.html';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assignment-icon-type',\n  template: template,\n  style: style,\n})\nexport class AssignmentIconTypeComponent implements IComponentController {\n  @Input()\n  public assignment: IAssignment;\n\n  constructor() {\n    'ngInject';\n\n    this.assignment = null;\n  }\n\n  public getIconName(): string {\n    if (this.assignment.assignment_not_assessable || this.assignment.assignment_type === AssignmentType.WORK_UNIT) {\n      return '';\n    } else if (this.assignment.assignment_type === AssignmentType.STANDARD_ASSIGNMENT) {\n      return 'assignment';\n    }\n  }\n\n  public getSvgSrc(): string {\n    if (this.assignment.assignment_not_assessable) {\n      return chrome.runtime.getURL(`${IconsPath.SVG_WITHOUT_ASSESSMENT_CRITERIA}`);\n    } else if (this.assignment.assignment_type === AssignmentType.STANDARD_ASSIGNMENT) {\n      return '';\n    } else if (this.assignment.assignment_type === AssignmentType.WORK_UNIT) {\n      return chrome.runtime.getURL(`${IconsPath.SVG_WORK_UNIT}`);\n    }\n  }\n\n  public getIconClass(): string {\n    let iconClass: string;\n\n    if (this.assignment.assignment_not_assessable) {\n      iconClass = '';\n    } else if (this.assignment.assignment_type === AssignmentType.WORK_UNIT) {\n      iconClass = 'work-unit';\n    } else if (this.assignment.assignment_type === AssignmentType.STANDARD_ASSIGNMENT) {\n      iconClass = 'standard-assignment';\n    }\n\n    if (this.assignment.state === AssignmentState.DRAFT) {\n      iconClass = `${iconClass} draft`;\n    }\n\n    return iconClass;\n  }\n\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { AssignmentStatusIconType } from '../../enums/assignmentStatusIconType.enum';\nimport SharedComponentsModule from '../components.module';\nimport style from './assignmentStatusIcon.scss';\nimport template from './assignmentStatusIcon.tpl.html';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assignment-status-icon',\n  template: template,\n  style: style,\n})\nexport class AssignmentStatusIconComponent implements IComponentController {\n  @Input()\n  public status: AssignmentStatusIconType;\n\n  constructor() {\n    'ngInject';\n\n    this.status = null;\n  }\n}\n","/**\n * @deprecated - Use AssessmentStatusOld instead.\n */\nexport enum AssignmentStatusIconType {\n  ND = 'ND',\n  NL = 'NL',\n  NV = 'NV',\n  NN = 'NN',\n  AV = 'AV',\n  AN = 'AN',\n  WV = 'WV',\n  WN = 'WN',\n}\n","import {IAngularEvent, IRootScopeService} from 'angular';\nimport {Events} from '../../../common/global-events';\nimport {Component} from '../../../utils/decorators/component.decorator';\nimport {UnsubscribableComponent} from '../abstracts/unsubscribable.component';\nimport SharedComponentsModule from '../components.module';\nimport style from './assignObjectivesPopup.scss';\nimport template from './assignObjectivesPopup.tpl.html';\nimport {AssignmentSimple, AssignmentsStore, AssignmentType} from '../../../../../../src/app/teacher/assignments/state';\nimport {HttpService} from '../../../../../../src/app/core/http/http.service';\nimport {delayedRetry} from '../../../../../../src/app/core/rxjs/delayed-retry.operator';\nimport {catchError, shareReplay, tap} from 'rxjs/operators';\nimport {Observable} from 'rxjs';\nimport {getTranslation} from '../../../../../../react_src/i18n';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'assign-objectives-popup',\n  template: template,\n  style: style,\n})\nexport class AssignObjectivesPopupComponent extends UnsubscribableComponent {\n  public assignment: any;\n  public showLoading: boolean;\n  public title: string;\n\n  protected preFetchAssignment: Observable<AssignmentSimple>;\n\n  constructor(protected $rootScope: IRootScopeService,\n              protected NavigationHistory: any,\n              protected Path: any,\n              protected StudybeeHandle: any,\n              protected AssignmentsStore: AssignmentsStore,\n              protected HttpService: HttpService) {\n    'ngInject';\n\n    super();\n    this.assignment = null;\n    this.showLoading = false;\n    this.title = null;\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(\n      this.$rootScope.$on(Events.OPEN_ASSIGNMENT_POPUP, this.eventOpenAssignmentHandler.bind(this)),\n    );\n  }\n\n  public assignObjectives(): void {\n    this.showLoading = true;\n\n    const subscription = this.preFetchAssignment.pipe(\n      tap(() => this.postponeAssigningObjectives())\n    ).subscribe(assignment => {\n      this.StudybeeHandle.studybeeOpen();\n      chrome.storage.sync.set({'editAssignment': assignment.id}, () => console.log('edit assignment: ', assignment.id));\n    });\n    this.$$unsubscribes.push(() => subscription.unsubscribe());\n  }\n\n  public postponeAssigningObjectives(): void {\n    this.assignment = null;\n    this.showLoading = false;\n  }\n\n  protected eventOpenAssignmentHandler(event: IAngularEvent, assignment: any): void {\n    const subscription = this.fetchAssignment(assignment.title).subscribe(this.addAssignment.bind(this));\n    this.$$unsubscribes.push(() => subscription.unsubscribe());\n    this.assignment = assignment;\n    this.title = getTranslation('assignObjectivesToAssignmentToast').replace('__title__', assignment.title);\n  }\n\n  protected fetchAssignment(assignmentTitle: string) {\n    const courseID = this.Path.getClassroomId();\n    const url = `/classes/assignment_id/?course_id=${courseID}&title=${encodeURI(assignmentTitle)}`;\n\n    this.preFetchAssignment = this.HttpService.get<AssignmentSimple>(url).pipe(\n      delayedRetry(1000, 5),\n      catchError(error => {\n        console.error(error);\n        return null;\n      }),\n      shareReplay(),\n    );\n\n    return this.preFetchAssignment;\n  }\n\n  protected addAssignment(assignment: AssignmentSimple) {\n    if (assignment) {\n      const timestamp = (new Date()).getTime();\n\n      this.AssignmentsStore.add({\n        ...assignment,\n        assessment_last_changed: timestamp,\n        assignment_created: timestamp,\n        assignment_type: AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n        is_topic: false,\n        assessments: [],\n        alternate_link_id: '',\n        assignment_not_assessable: true,\n        assignments_for_topic: [],\n        classroom_name: '',\n      });\n    }\n  }\n}\n","import {Observable, of, throwError} from 'rxjs';\nimport {delay, mergeMap, retryWhen} from 'rxjs/operators';\n\nexport function delayedRetry(delayMilliseconds: number, maxRetry = 5) {\n  let retries = maxRetry;\n\n  return (src: Observable<any>) => src.pipe(\n    retryWhen(errors => errors.pipe(\n      delay(delayMilliseconds),\n      mergeMap(error => retries-- > 0 ? of(error) : throwError(`Tried to load Resource over XHR for ${maxRetry} times without success`)),\n      ),\n    ),\n  );\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { Output } from '../../../utils/decorators/output.decorator';\nimport { GroupedVisibilityDialogType } from '../../enums/groupedVisibilityDialogType.enum';\nimport { GroupedVisibilityFeedbackType } from '../../enums/groupedVisibilityFeedbackType.enum';\nimport { IEventEmitter } from '../../models/eventEmitter';\nimport { IGroupedVisibility } from '../../models/groupedVisibility.model';\nimport { IGroupedVisibilitySettings } from '../../models/groupedVisibilitySettings.model';\nimport { IGroupedVisibilityService } from '../../services/groupedVisibility/groupedVisibility.service';\nimport SharedComponentsModule from '../components.module';\nimport template from './groupedVisibility.tpl.html';\nimport style from './groupedVisibility.scss';\nimport {getTranslation} from '../../../../../../react_src/i18n';\n\n@Component({\n  module: SharedComponentsModule,\n  template: template,\n  selector: 'groupedVisibility',\n  style: style,\n})\nexport class GroupedVisibilityComponent implements IComponentController {\n  @Output({ optional: true })\n  public onChange: IEventEmitter<{ changes: IGroupedVisibility }>;\n\n  @Input()\n  public settings: IGroupedVisibilitySettings;\n\n  public groupedVisibility: IGroupedVisibility;\n  public i18n: { [key: string]: string };\n  public isAllCourseDefinitionsSelected: boolean;\n  public isAllStudentsSelected: boolean;\n  public isAllTypeOfFeedbackSelected: boolean;\n  public isAssignmentStudentView: boolean;\n  public selectedTypeOfFeedback: { id: GroupedVisibilityFeedbackType, name: string }[];\n  public typeOfFeedback: GroupedVisibilityFeedbackType[];\n\n  constructor(private GroupedVisibilityService: IGroupedVisibilityService) {\n    'ngInject';\n\n    this.i18n = {\n      typeOfFeedbackOverallLabel: 'typeOfFeedbackOverallSection',\n      hintGroupedVisibilityVisibility: 'groupedVisibilityVisibilityHint',\n      hintGroupedVisibilityStudents: 'groupedVisibilityStudentsHint',\n      hintGroupedVisibilityCoursesSubjects: 'groupedVisibilityCoursesSubjectsHint',\n      hintGroupedVisibilityFeedback: 'groupedVisibilityFeedbackHint',\n    };\n    this.isAllCourseDefinitionsSelected = true;\n    this.isAllStudentsSelected = true;\n    this.isAllTypeOfFeedbackSelected = true;\n    this.isAssignmentStudentView = false;\n    this.selectedTypeOfFeedback = [];\n    this.typeOfFeedback = [\n      GroupedVisibilityFeedbackType.ObjectiveAssessment,\n      GroupedVisibilityFeedbackType.ObjectiveFeedback,\n    ];\n  }\n\n  public $onInit(): void {\n    this.groupedVisibility = this.GroupedVisibilityService.getEmptyGroupedVisibilityObject();\n    this.groupedVisibility.students_ids = this.getIds(this.settings.students);\n    this.groupedVisibility.course_definitions_ids = this.getIds(this.settings.courseDefinitions);\n    this.isAssignmentStudentView = this.settings.type === GroupedVisibilityDialogType.AssignmentStudentView;\n    this.selectedTypeOfFeedback = this.GroupedVisibilityService.getSelectedTypeOfFeedbackByType(this.settings.type);\n\n    if (this.settings.type === GroupedVisibilityDialogType.StudentProgressView) {\n      this.typeOfFeedback = [\n        GroupedVisibilityFeedbackType.OverallAssessment,\n        GroupedVisibilityFeedbackType.OverallTarget,\n        GroupedVisibilityFeedbackType.OverallFeedback,\n        ...this.typeOfFeedback,\n      ];\n\n      this.groupedVisibility.types_of_feedback.overall.result_published = null;\n      this.i18n.typeOfFeedbackOverallLabel = 'typeOfFeedbackOverallAssessmentSectionStudentProgress';\n      this.i18n.hintGroupedVisibilityVisibility = 'groupedVisibilityVisibilityHintStudentProgress';\n      this.i18n.hintGroupedVisibilityStudents = 'groupedVisibilityStudentsHintStudentProgress';\n      this.i18n.hintGroupedVisibilityCoursesSubjects = 'groupedVisibilityCoursesSubjectsHintStudentProgress';\n      this.i18n.hintGroupedVisibilityFeedback = 'groupedVisibilityFeedbackHintStudentProgress';\n    } else {\n      this.typeOfFeedback = [\n        GroupedVisibilityFeedbackType.OverallFeedback,\n        GroupedVisibilityFeedbackType.OverallResult,\n        ...this.typeOfFeedback,\n      ];\n\n      this.groupedVisibility.types_of_feedback.overall.target_grade_published = null;\n      this.groupedVisibility.types_of_feedback.overall.grade_published = null;\n    }\n  }\n\n  public selectAllStudents(): void {\n    if (this.groupedVisibility.students_ids.length === this.settings.students.length) {\n      this.groupedVisibility.students_ids = [];\n      this.isAllStudentsSelected = false;\n    } else {\n      this.groupedVisibility.students_ids = this.getIds(this.settings.students);\n      this.isAllStudentsSelected = true;\n    }\n    this.notifyChanges();\n  }\n\n  public selectAllCourseDefinitions(): void {\n    if (this.groupedVisibility.course_definitions_ids.length === this.settings.courseDefinitions.length) {\n      this.groupedVisibility.course_definitions_ids = [];\n      this.isAllCourseDefinitionsSelected = false;\n    } else {\n      this.groupedVisibility.course_definitions_ids = this.getIds(this.settings.courseDefinitions);\n      this.isAllCourseDefinitionsSelected = true;\n    }\n    this.notifyChanges();\n  }\n\n  public selectAllTypeOfFeedback(): void {\n    this.isAllTypeOfFeedbackSelected = !(this.selectedTypeOfFeedback.length === this.typeOfFeedback.length);\n\n    this.typeOfFeedback = this.isAllTypeOfFeedbackSelected ?\n      this.getIds(this.selectedTypeOfFeedback) : [];\n\n    this.setGroupedVisibilityFeedbackType(this.isAllTypeOfFeedbackSelected,\n      this.groupedVisibility.types_of_feedback.objective);\n\n    this.setGroupedVisibilityFeedbackType(this.isAllTypeOfFeedbackSelected,\n      this.groupedVisibility.types_of_feedback.overall);\n\n    this.selectTypeOfFeedback();\n  }\n\n  public selectTypeOfFeedback(): void {\n    this.selectedTypeOfFeedback\n      .forEach((typeOfFeedback: { id: GroupedVisibilityFeedbackType, name: string }): void => {\n        const isSelected = (this.typeOfFeedback.indexOf(typeOfFeedback.id) > -1);\n        switch (typeOfFeedback.id) {\n          case GroupedVisibilityFeedbackType.OverallResult:\n            this.groupedVisibility.types_of_feedback.overall.result_published = isSelected;\n            break;\n          case GroupedVisibilityFeedbackType.OverallFeedback:\n            this.groupedVisibility.types_of_feedback.overall.feedback_published = isSelected;\n            break;\n          case GroupedVisibilityFeedbackType.OverallTarget:\n            this.groupedVisibility.types_of_feedback.overall.target_grade_published = isSelected;\n            break;\n          case GroupedVisibilityFeedbackType.OverallAssessment:\n            this.groupedVisibility.types_of_feedback.overall.grade_published = isSelected;\n            break;\n          case GroupedVisibilityFeedbackType.ObjectiveAssessment:\n            this.groupedVisibility.types_of_feedback.objective.grade_published = isSelected;\n            break;\n          case GroupedVisibilityFeedbackType.ObjectiveFeedback:\n            this.groupedVisibility.types_of_feedback.objective.feedback_published = isSelected;\n            break;\n        }\n      });\n\n    this.notifyChanges();\n  }\n\n  public getVisibilityLabel(): string {\n    let label: string = getTranslation('chooseVisibility');\n\n    if (this.groupedVisibility.visible === true) {\n      label = getTranslation('visible');\n    } else if (this.groupedVisibility.visible === false) {\n      label = getTranslation('hidden');\n    }\n\n    return label;\n  }\n\n  public getStudentsSelectLabel(): string {\n    this.updateSelectionsAll();\n\n    let label: string = `${getTranslation('allStudents')}`;\n\n    if (!this.isAllStudentsSelected) {\n      label = `${this.groupedVisibility.students_ids.length} ${getTranslation('selected')}`;\n    }\n\n    return label;\n  }\n\n  public getCoursesSubjectsSelectLabel(): string {\n    this.updateSelectionsAll();\n\n    let label: string = `${getTranslation('allCoursesSubjects')}`;\n\n    if (!this.isAllCourseDefinitionsSelected) {\n      label = `${this.groupedVisibility.course_definitions_ids.length} ${getTranslation('selected')}`;\n    }\n\n    return label;\n  }\n\n  public getTypeOfFeedbackLabel(): string {\n    this.updateSelectionsAll();\n\n    let label: string = `${getTranslation('allFeedback')}`;\n\n    if (!this.isAllTypeOfFeedbackSelected) {\n      label = `${this.typeOfFeedback.length} ${getTranslation('selected')}`;\n    }\n\n    return label;\n  }\n\n  public notifyChanges(): void {\n    const changes: IGroupedVisibility = Object.assign({}, this.groupedVisibility);\n    this.onChange({ changes });\n  }\n\n  private updateSelectionsAll(): void {\n    this.isAllStudentsSelected = this.groupedVisibility.students_ids.length === this.settings.students.length;\n    this.isAllCourseDefinitionsSelected = this.groupedVisibility.course_definitions_ids.length === this.settings.courseDefinitions.length;\n    this.isAllTypeOfFeedbackSelected = this.selectedTypeOfFeedback.length === this.typeOfFeedback.length;\n  }\n\n  private getIds(items: { id: number }[]): number[] {\n    return this.GroupedVisibilityService.mapObjectToArrayOfIds(items);\n  }\n\n  private setGroupedVisibilityFeedbackType(value: boolean, object: { [prop: string]: any }): void {\n    for (let prop in object) {\n      if (object[prop] !== null) {\n        object[prop] = value;\n      }\n    }\n  }\n}\n","import angular, { IChangesObject, IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { HelpButtonService } from '../../services/helpButton/helpButton.service';\nimport { IPopupService } from '../../services/popup/popup.service';\nimport { TabService } from '../../services/tab/tab.service';\nimport SharedComponentsModule from '../components.module';\nimport style from './helpButton.scss';\nimport template from './helpButton.tpl.html';\nimport { getTranslation } from '../../../../../../react_src/i18n';\n\n@Component({\n  module: SharedComponentsModule,\n  selector: 'help-button',\n  template: template,\n  style: style,\n})\nexport class HelpButtonComponent implements IComponentController {\n\n  @Input({ string: true }) public link: string;\n  @Input({ optional: true }) public popup: boolean;\n\n  public isVisible: boolean;\n\n  private url: string;\n  private window: Window;\n\n  constructor(private HelpButtonService: HelpButtonService) {\n    'ngInject';\n\n    this.link = '';\n    this.popup = false;\n    this.isVisible = false;\n    this.url = '';\n    this.window = null;\n  }\n\n  public $onInit(): void {\n    this.refreshUrlStatus();\n  }\n\n  public $onChanges(onChangesObj: angular.IOnChangesObject): void {\n    const changedLink: IChangesObject<string> = onChangesObj['link'];\n\n    if (changedLink && !changedLink.isFirstChange()) {\n      this.refreshUrlStatus(changedLink.currentValue);\n    }\n  }\n\n  public onClick(): void {\n    this.HelpButtonService.open(this.url, this.popup);\n  }\n\n  private refreshUrlStatus(link: string = this.link) {\n    this.url = getTranslation(link);\n    this.isVisible = !!this.url;\n  }\n}\n","import angular, { IAttributes, IController, IDirective, IScope, ITranscludeFunction } from 'angular';\nimport { Directive } from '../../../utils/decorators/directive.decorator';\nimport SharedDirectivesModule from '../directives.module';\nimport style from './hint.scss';\n\n@Directive({\n  module: SharedDirectivesModule,\n  selector: 'hint',\n  restrict: 'A',\n  transclude: 'element',\n  style: style,\n})\nexport class HintDirective implements IDirective {\n  static classNamePrefix: string = 'sb-hint';\n  static cookieValue: string = 'hide';\n  private readonly body: JQuery;\n\n  constructor(private $cookies: ng.cookies.ICookiesService, private UserInfo: { userId: number },\n              private Hint: any, private StudybeeHandle: any) {\n    'ngInject';\n\n    this.body = angular.element(document.body);\n  }\n\n  public link(scope: IScope, instanceElement: JQLite, instanceAttributes: IAttributes, controller?: IController, transclude?: ITranscludeFunction): void {\n    const cookieName: string = this.buildCookieName(instanceAttributes);\n\n    if (!(this.isCookieExists(cookieName) || this.isHintBoxVisible(instanceAttributes))) {\n      transclude(($element: JQLite): void => this.transcludeHandler($element, instanceAttributes));\n    }\n  }\n\n  private transcludeHandler($hintBox: JQuery, instanceAttributes: IAttributes): void {\n    this.increaseHintBoxCounter();\n    this.addContentLock($hintBox, instanceAttributes);\n    this.hide($hintBox, 0);\n    this.addHintBox($hintBox, instanceAttributes);\n    this.attachHintBox($hintBox, instanceAttributes);\n\n    this.Hint.setRemoveCallback((): void => this.remove($hintBox, instanceAttributes));\n    this.Hint.setDisplayToggleCallbacks((): void => this.displayToggle($hintBox));\n\n\n    setTimeout(() => {\n      const cookieName: string = this.buildCookieName(instanceAttributes);\n      angular.element(window).trigger(`resize.${cookieName}`);\n\n      if (this.StudybeeHandle.studybeeIsOpen()) {\n        this.show($hintBox);\n      }\n    });\n  }\n\n  private addContentLock($hintBox: JQuery, instanceAttributes: IAttributes): JQuery {\n    const $contentLock: JQuery = angular.element('<div></div>');\n\n    if (!this.isContentActive(instanceAttributes)) {\n      const cookieName: string = this.buildCookieName(instanceAttributes);\n      $contentLock.addClass(`${HintDirective.classNamePrefix}-lock-content`);\n      $contentLock.attr('id', `contentLock${cookieName}`);\n\n      this.body.append($contentLock);\n    }\n\n    $hintBox.data('contentLock', $contentLock);\n\n    return $contentLock;\n  }\n\n  private addHintBox($hintBox: JQuery, instanceAttributes: IAttributes): JQuery {\n    const cookieName: string = this.buildCookieName(instanceAttributes);\n    const $button: JQuery = $hintBox.find(`.${HintDirective.classNamePrefix}-close`);\n\n    this.body.append($hintBox);\n\n    $button.one({\n      click: (event: MouseEvent): void => {\n        this.onGotItClick(event, instanceAttributes);\n        this.decreaseHintBoxCounter();\n        this.hide($hintBox);\n        this.remove($hintBox, instanceAttributes);\n      },\n    });\n\n    angular.element(window).on(`resize.${cookieName}`, (): void => {\n      window.requestAnimationFrame((): void => {\n        this.setHeight($hintBox);\n        this.attachHintBox($hintBox, instanceAttributes);\n      });\n    });\n\n    return $hintBox;\n  }\n\n  private attachHintBox($hintBox: JQuery, instanceAttributes: IAttributes): void {\n    if (instanceAttributes.attachTo) {\n      const target: JQuery = angular.element(instanceAttributes.attachTo);\n      const display: string = $hintBox.css('display');\n      const visibility: string = $hintBox.css('visibility');\n\n      if (display === 'none') {\n        $hintBox.css({ display: 'block', visibility: 'hidden' });\n      }\n\n      if (target.length) {\n        const targetBounding: ClientRect = (target[0] as HTMLElement).getBoundingClientRect();\n        const hintBoxBounding: ClientRect = ($hintBox[0] as HTMLElement).getBoundingClientRect();\n        const left = targetBounding.left - hintBoxBounding.width;\n        const top = targetBounding.top - ((hintBoxBounding.height - targetBounding.height) / 2);\n\n        $hintBox.css({ left, top, display, visibility });\n      }\n    }\n  }\n\n  private buildCookieName(instanceAttributes: IAttributes): string {\n    return `VIEW${instanceAttributes.cookieName}USER${this.UserInfo.userId}`;\n  }\n\n  private isCookieExists(cookieName: string): boolean {\n    return this.$cookies.get(cookieName) === HintDirective.cookieValue;\n  }\n\n  private isContentActive(instanceAttributes: IAttributes): boolean {\n    return !!instanceAttributes.contentActive;\n  }\n\n  private isHintBoxVisible(instanceAttributes: IAttributes): boolean {\n    return this.body.find(`#hintbox-${instanceAttributes.cookieName}`).length > 0;\n  }\n\n  private onGotItClick(event: MouseEvent, instanceAttributes: IAttributes): void {\n    event.preventDefault();\n\n    const cookieName: string = this.buildCookieName(instanceAttributes);\n    const currentDate: Date = new Date();\n    const nextDate: any = new Date();\n\n    nextDate.setYear(currentDate.getFullYear() + 1);\n\n    this.$cookies.put(cookieName, HintDirective.cookieValue, {\n      path: '/',\n      expires: nextDate,\n    });\n  }\n\n  private setHeight($hintBox: JQuery): void {\n    $hintBox.css('height', '');\n\n    const windowHeight: number = angular.element(window).height();\n    let hintHeight: number = $hintBox.outerHeight();\n\n    if (hintHeight > (windowHeight - 64)) {\n      hintHeight = windowHeight - 64;\n    }\n\n    $hintBox.css('height', hintHeight);\n  }\n\n  private increaseHintBoxCounter(): void {\n    const hintBox: number = this.body.data('hintBox') || 0;\n    this.body.data('hintBox', hintBox + 1);\n  }\n\n  private decreaseHintBoxCounter(): void {\n    const hintBox: number = this.body.data('hintBox') || 1;\n    this.body.data('hintBox', hintBox - 1);\n  }\n\n  private displayToggle($hintBox: JQuery): void {\n    if ($hintBox.is(':visible')) {\n      this.hide($hintBox);\n    } else {\n      this.show($hintBox);\n    }\n  }\n\n  private hide($hintBox: JQuery, duration?: number): void {\n    if (!$hintBox.data('isRemoved')) {\n      if (!this.body.data('hintBox')) {\n        this.body.removeClass(`${HintDirective.classNamePrefix}-disable-scroll`);\n      }\n\n      $hintBox.data('contentLock').css('display', 'none');\n      $hintBox.fadeOut(duration, (): void => {\n        $hintBox.css('display', 'none');\n      });\n    }\n  }\n\n  private show($hintBox: JQuery, duration?: number): void {\n    if (!$hintBox.data('isRemoved')) {\n      this.body.addClass(`${HintDirective.classNamePrefix}-disable-scroll`);\n      $hintBox.data('contentLock').css('display', 'block');\n      $hintBox.css('display', 'block').fadeIn(duration);\n    }\n  }\n\n  private remove($hintBox: JQuery, instanceAttributes: IAttributes): void {\n    const cookieName: string = this.buildCookieName(instanceAttributes);\n    const contentLock: JQuery = $hintBox.data('contentLock');\n\n    if (contentLock && contentLock.length) {\n      contentLock.remove();\n    }\n\n    $hintBox.remove();\n    $hintBox.data('isRemoved', true);\n    angular.element(window).off(`resize.${cookieName}`);\n  }\n}\n","import { IAttributes, IDirective, IParseService, IScope } from 'angular';\nimport { Directive } from '../../../utils/decorators/directive.decorator';\nimport SharedDirectivesModule from '../directives.module';\n\n@Directive({\n  module: SharedDirectivesModule,\n  selector: 'textarea',\n  restrict: 'AE',\n})\nexport class TextareaDirective implements IDirective {\n  constructor(private $parse: IParseService) {\n    'ngInject';\n  }\n\n  public link(scope: IScope, instanceElement: JQLite, instanceAttributes: IAttributes): void {\n    const element: HTMLTextAreaElement = instanceElement[0] as HTMLTextAreaElement;\n    const parent: HTMLElement = this.findScrollableParent.call(this, element.parentElement);\n\n    if (parent) {\n      instanceAttributes.$observe('mdDetectHidden', (): void => {\n        const mdDetectHidden: boolean = this.$parse(instanceAttributes.mdDetectHidden)(scope);\n        let eventListener: EventListener = null;\n\n        if (mdDetectHidden) {\n          eventListener = this.applyEvent.call(this, element, parent);\n        } else {\n          if (eventListener) {\n            this.removeEvent.call(this, parent, eventListener);\n            eventListener = null;\n          }\n\n          delete element.dataset.wasVisible;\n        }\n      });\n    }\n  }\n\n  private applyEvent(element: HTMLTextAreaElement, parent: HTMLElement): EventListener {\n    const isVisible: boolean = this.isVisible(element, parent);\n\n    if (isVisible) {\n      element.dataset.wasVisible = 'true';\n    }\n\n    const onScroll: EventListener = () => {\n      const isVisible: boolean = this.isVisible(element, parent);\n      const wasVisible: boolean = 'wasVisible' in element.dataset;\n\n      if (isVisible !== wasVisible) {\n        if (wasVisible) {\n          delete element.dataset.wasVisible;\n        } else {\n          window.dispatchEvent(new Event('resize'));\n          element.dataset.wasVisible = 'true';\n        }\n      }\n    };\n\n    parent.addEventListener('scroll', onScroll);\n\n    return onScroll;\n  }\n\n  private removeEvent(parent: HTMLElement, eventListener: EventListener): void {\n    parent.removeEventListener('scroll', eventListener);\n  }\n\n  private isVisible(element: HTMLTextAreaElement, container: HTMLElement): boolean {\n    const rect: ClientRect = element.getBoundingClientRect();\n\n    return rect.top >= 0 && rect.left >= 0 && rect.bottom <= container.clientHeight && rect.right <= container.clientWidth;\n  }\n\n  private findScrollableParent(node: HTMLElement): HTMLElement {\n    if (node === null) {\n      return null;\n    }\n\n    if (node.scrollHeight > node.clientHeight) {\n      return node;\n    } else {\n      return this.findScrollableParent(node.parentElement);\n    }\n  }\n}\n","import angular, { IModule } from 'angular';\nimport { GetFormattedOrEmpty } from './getFormattedHtmlOrEmpty/getFormattedHtmlOrEmpty.filter';\nimport { HtmlToPlaintext } from './htmlToPlaintext/htmlToPlaintext.filter';\nimport { IconURL } from './iconURL/iconURL.filter';\n\nexport const SharedFiltersModule: IModule = angular.module('app.shared.filters', []);\n\nexport default SharedFiltersModule.name;\n\nSharedFiltersModule.filter('getFormattedOrEmpty', GetFormattedOrEmpty);\nSharedFiltersModule.filter('htmlToPlaintext', HtmlToPlaintext);\nSharedFiltersModule.filter('iconURL', IconURL);\n","export const GetFormattedOrEmpty = (): (input?: string) => string =>\n  (input: string = ''): string => {\n    const withoutFormatting: string = `${input ? input : ''}`\n      .replace(/<[^>]+>/gm, '')\n      .trim();\n\n    return withoutFormatting ? input : '';\n  };\n","export const HtmlToPlaintext = (): (input?: string) => string =>\n  (input: string = ''): string => `${input ? input : ''}`.replace(/<[^>]+>/gm, '');\n","import { IconsPath } from '../../enums/iconsPath.enum';\n\nexport const IconURL = (): (iconName?: string) => string =>\n  (iconName: string = ''): string => {\n    const normalizeIconName: string  = `${iconName.trim()}`;\n    const iconPath: string = IconsPath[normalizeIconName];\n\n    return iconPath ? chrome.runtime.getURL(`${iconPath}`) : '';\n  };\n","import {Component} from '../../../utils/decorators/component.decorator';\nimport {IComponentController} from 'angular';\nimport {Input} from '../../../utils/decorators/input.decorator';\nimport {School} from '../../../../../../src/app/shared/states/schools/school.interface';\nimport {SchoolService} from '../../services/school/school.service';\nimport style from './autocomplete.scss';\nimport template from './autocomplete.tpl.html';\nimport SharedUpgradesModule from '../upgrades.module';\n\n@Component({\n  module: SharedUpgradesModule,\n  selector: 'ajs-autocomplete',\n  style,\n  template,\n})\nexport class AutocompleteComponent implements IComponentController {\n  @Input() school: School;\n  @Input() schools: School[];\n  @Input() disabled: boolean;\n  @Input() change: Function;\n  searchSchoolName: string;\n\n  constructor(protected SchoolService: SchoolService) {\n    'ngInject';\n  }\n\n\n  public searchSchool(searchSchoolName: string): School[] {\n    return (searchSchoolName ?\n      this.SchoolService.filterSchools(this.schools, searchSchoolName) : this.schools) as School[];\n  }\n\n  public getSchoolName(school: School): string {\n    return this.SchoolService.getSchoolName(school);\n  }\n\n  public getCityName(school: School): string {\n    return this.SchoolService.getCityName(school);\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nclass controller {\n  updateCourse() {\n    this.onUpdate({ course: this.course });\n  }\n}\n\nexport const CourseDefinitionDetails = {\n  bindings: {\n    course: '<',\n    readOnly: '<',\n    onUpdate: '&',\n  },\n  controller,\n  // language=HTML\n  template: `\n    <div class=\"sb-list-dropdown\n                cm-course-definition-details--container\">\n      <div\n        layout=\"column\"\n        layout-align=\"stretch\">\n\n        <div\n          layout=\"row\"\n          layout-align=\"start start\">\n          <md-input-container\n            class=\"md-block\n                   md-input-has-placeholder\"\n            flex>\n            <label localize>\n              __MSG_courseDetailsPurposeHeader__\n            </label>\n\n            <ng-quill-editor\n              class=\"absolute-btns focused-btns\"\n              toolbar=\"true\"\n              read-only=\"$ctrl.readOnly\"\n              toolbar-entries=\"bold\"\n              ng-model=\"$ctrl.course.description\"\n              ng-change=\"$ctrl.updateCourse()\">\n            </ng-quill-editor>\n          </md-input-container>\n        </div>\n\n        <div class=\"sb-list-dropdown__footer\"\n             layout-align=\"center start space-around\">\n          <md-button\n            class=\"sb-button sb-button--right\"\n            ng-click=\"$root.toggleObject($ctrl.course)\"\n            localize>\n            __MSG_closeBtn__\n          </md-button>\n        </div>\n      </div>\n    </div>\n  `,\n};\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { Events } from '../../../../common/global-events.ts';\n\nclass controller {\n  constructor($rootScope, FetchData, Path) {\n    'ngInject';\n\n    this.$rootScope = $rootScope;\n    this.FetchData = FetchData;\n    this.Path = Path;\n    this.objective = null;\n    this.course = null;\n    this.readOnly = false;\n    this.objectiveName = '';\n  }\n\n  $onInit() {\n    this.objectiveName = this.objective.name;\n  }\n\n  updateKnowledgeRequirementDescription(knowledgeRequirement) {\n    this.update(knowledgeRequirement);\n  }\n\n  updateObjective() {\n    this.update();\n  }\n\n  update(knowledgeRequirement = null) {\n    if (!this.readOnly) {\n      let request;\n      this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n\n      if (knowledgeRequirement) {\n        const classroomId = this.Path.getClassroomId();\n\n        request = this.FetchData.v3.updateKnowledgeRequirement(classroomId, knowledgeRequirement);\n      } else {\n        request = this.FetchData.v3.updateObjective(this.course, this.objective)\n          .then((objective) => this.objectiveName = objective.name);\n      }\n\n      request\n        .then(() => {\n          this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n        })\n        .catch(() => {\n          this.$rootScope.$emit(Events.REQUEST_FINISHED_FAILURE);\n        });\n    }\n  }\n\n  onBlur() {\n    if (!this.objective.name) {\n      this.objective.name = this.objectiveName;\n    }\n  }\n}\n\nexport const ObjectiveDetails = {\n  bindings: {\n    objective: '<',\n    course: '<',\n    readOnly: '<',\n  },\n  templateUrl: 'components/courseManagement/common/components/objective-details.html',\n  controller,\n};\n","import { TransitionService, StateObject, IStateMatch, Transition, StateDeclaration} from '@uirouter/core';\nimport { StateProvider } from '@uirouter/angularjs';\n\n\nexport const CourseManagementRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  const predicateState: IStateMatch = (stateObject: StateObject): boolean => {\n    return stateObject.name.includes('teacherCourseManagement') ||\n      stateObject.name.includes('studentCourseManagement');\n  };\n\n  $transitionsProvider.onBefore({ to: predicateState }, (transition: Transition): any => {\n    const transitionTo: StateDeclaration = transition.to();\n    (transitionTo as any).themeClass = 'sb-theme-blue';\n\n    return true;\n  });\n};\n","import { IPromise } from 'angular';\nimport { StateParams } from '@uirouter/core';\nimport { StateProvider } from '@uirouter/angularjs';\n\nexport const routerConfig: Function = ($stateProvider: StateProvider): void => {\n  'ngInject';\n\n  $stateProvider\n    .state('studentCourseManagement', {\n      component: 'studentCourseManagement',\n      resolve: {\n        coursesDefinitions: (FetchData: any, Path: any): IPromise<any[]> => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinitions(Path.getClassroomId());\n        },\n      },\n    })\n    .state('studentCourseManagement.details', {\n      params: { course: null },\n      resolve: {\n        course: ($stateParams: StateParams, FetchData: any, Path: any): IPromise<any> => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinition(Path.getClassroomId(), $stateParams.course.id);\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'cmStudentCourseDetails',\n        },\n      },\n    })\n    .state('studentCourseManagement.details.learningObjectives', {\n      resolve: {\n        objectives: (FetchData: any, course: any): IPromise<any[]> => {\n          'ngInject';\n\n          return FetchData.v3.getObjectives(course);\n        },\n      },\n      views: {\n        'details@studentCourseManagement.details': {\n          component: 'cmStudentObjectives',\n        },\n      },\n    });\n};\n","import { IComponentController, ITimeoutService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { showHintDialog } from '../../../common/dialogs/dialogs.helper';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport StudentCourseManagementModule from './studentCourseManagement.module';\nimport style from './studentCourseManagement.scss';\nimport template from './studentCourseManagement.tpl.html';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'student-course-management',\n  template: template,\n  style: style,\n})\nexport class StudentCourseManagementComponent implements IComponentController {\n  @Input()\n  public coursesDefinitions: any[];\n\n  constructor(private $state: StateService, private $cookies: ng.cookies.ICookiesService, private $timeout: ITimeoutService, private $mdDialog) {\n    'ngInject';\n\n    this.coursesDefinitions = [];\n  }\n\n  public $onInit(): void {\n    showHintDialog(this.$mdDialog, this.$timeout, this.$state.current.name, this.$cookies);\n  }\n}\n","import { IRootScopeService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../../common/global-events';\nimport { UnsubscribableComponent } from '../../../../shared/components/abstracts/unsubscribable.component';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport StudentCourseManagementModule from '../studentCourseManagement.module';\nimport style from './cmStudentCoursesList.scss';\nimport template from './cmStudentCoursesList.tpl.html';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'cm-student-courses-list',\n  template: template,\n  style: style,\n})\nexport class CmStudentCoursesListComponent extends UnsubscribableComponent {\n  @Input()\n  public courses: any[];\n\n  public selectedCourse: any;\n\n  constructor(private $rootScope: IRootScopeService, private $state: StateService) {\n    'ngInject';\n    super();\n\n    this.courses = [];\n    this.selectedCourse = null;\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(\n      this.$rootScope.$on(Events.CLOSE_COURSE_DETAILS_VIEW, () => (this.selectedCourse = null)),\n    );\n  }\n\n  public navigateToCourseDetails(course: any): void {\n    this.selectedCourse = course;\n    this.$state.go(\n      'studentCourseManagement.details.learningObjectives', { course },\n    );\n  }\n}\n","import { IComponentController, IRootScopeService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../../common/global-events';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport StudentCourseManagementModule from '../studentCourseManagement.module';\nimport style from './cmStudentCourseDetails.scss';\nimport template from './cmStudentCourseDetails.tpl.html';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'cm-student-course-details',\n  template: template,\n  style: style,\n})\nexport class CmStudentCourseDetailsComponent implements IComponentController {\n  @Input()\n  public course: any;\n\n  constructor(private $rootScope: IRootScopeService, private $state: StateService) {\n    'ngInject';\n\n    this.course = null;\n  }\n\n  public closeCourseView(): void {\n    this.$state.go('studentCourseManagement', { course: null });\n    this.$rootScope.$emit(Events.CLOSE_COURSE_DETAILS_VIEW);\n  }\n}\n","import { IComponentController } from 'angular';\nimport { ListViewType } from '../../../../../shared/enums/listViewType.enum';\nimport { IListViewMenuItem, ListViewMenuItem } from '../../../../../shared/models/listViewMenuItem.model';\nimport { IListViewMenuService } from '../../../../../shared/services/listViewMenu/listViewMenu.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport StudentCourseManagementModule from '../../studentCourseManagement.module';\nimport style from './cmStudentObjectives.scss';\nimport template from './cmStudentObjectives.tpl.html';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'cm-student-objectives',\n  template: template,\n  style: style,\n})\nexport class CmStudentObjectivesComponent implements IComponentController {\n  @Input()\n  public objectives: any[];\n\n  public view: ListViewType;\n  public readonly toolbarMenuItems: ListViewMenuItem[];\n\n  private readonly storageId: string;\n\n  constructor(private ListViewMenuService: IListViewMenuService) {\n    'ngInject';\n\n    this.objectives = [];\n    this.storageId = 'CmStudentObjectives';\n    this.view = ListViewType.TITLE_AND_DESCRIPTION;\n    this.toolbarMenuItems = ListViewMenuService.getListViewMenu(this.storageId);\n  }\n\n  public $onInit(): void {\n    this.view = this.toolbarMenuItems\n      .find((listViewMenuItem: IListViewMenuItem): boolean => listViewMenuItem.checked)\n      .eventArgs.view;\n  }\n\n  public onClickMenuItem(toolbarMenuItem: IListViewMenuItem): void {\n    this.toolbarMenuItems.forEach((menuItem: any): void => {\n      menuItem.checked = false;\n    });\n    toolbarMenuItem.checked = true;\n    this.ListViewMenuService.saveListViewMenu(this.storageId, this.toolbarMenuItems);\n    this.changeView(toolbarMenuItem.eventArgs);\n  }\n\n  private changeView(eventArgs: { [arg: string]: any }): void {\n    this.view = eventArgs.view;\n  }\n}\n","import { IComponentController } from 'angular';\nimport { ListViewType } from '../../../../../../shared/enums/listViewType.enum';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport StudentCourseManagementModule from '../../../studentCourseManagement.module';\nimport style from './cmStudentObjectivesList.scss';\nimport template from './cmStudentObjectivesList.tpl.html';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'cm-student-objectives-list',\n  template: template,\n  style: style,\n})\nexport class CmStudentObjectivesListComponent implements IComponentController {\n  @Input()\n  public course: any;\n  @Input()\n  public objectives: any[];\n  @Input()\n  public view: ListViewType;\n\n  public readonly listViewType: any;\n  constructor() {\n    'ngInject';\n\n    this.course = null;\n    this.objectives = [];\n    this.view = ListViewType.TITLE_AND_DESCRIPTION;\n    this.listViewType = ListViewType;\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport StudentCourseManagementModule from '../../../studentCourseManagement.module';\nimport template from './cmStudentObjectivesToolbar.tpl.html';\nimport style from './cmStudentObjectivesToolbar.scss';\n\n@Component({\n  module: StudentCourseManagementModule,\n  selector: 'cm-student-objectives-toolbar',\n  template: template,\n  style: style,\n  transclude: true,\n})\nexport class CmStudentObjectivesToolbarComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","import { IPromise } from 'angular';\nimport { StateParams } from '@uirouter/core';\nimport { APICurriculumObject } from '../../../common/types/api_types';\nimport { ICurriculumsService } from '../common/services/curriculums.service';\nimport { StateProvider } from '@uirouter/angularjs';\n\nexport const routerConfig: Function = ($stateProvider: StateProvider): void => {\n  'ngInject';\n\n  $stateProvider\n    .state('teacherCourseManagement', {\n      component: 'teacherCourseManagement',\n      resolve: {\n        curriculums: (CurriculumsService: ICurriculumsService): IPromise<any[]> => {\n          'ngInject';\n\n          return CurriculumsService.updateCurriculums();\n        },\n      },\n    })\n    .state('teacherCourseManagement.details', {\n      params: { course: null },\n      resolve: {\n        course: ($stateParams: StateParams, FetchData: any, Path: any): IPromise<any> => {\n          'ngInject';\n\n          return FetchData.v3.getCourseDefinition(Path.getClassroomId(), $stateParams.course.id);\n        },\n        isLocked: (curriculums: APICurriculumObject[]): boolean => {\n          'ngInject';\n\n          return curriculums.length > 1;\n        },\n      },\n      views: {\n        'extended@': {\n          component: 'cmTeacherCourseDetails',\n        },\n      },\n    })\n    .state('teacherCourseManagement.details.learningObjectives', {\n      views: {\n        'details@teacherCourseManagement.details': {\n          component: 'cmTeacherObjectives',\n        },\n      },\n    });\n};\n","import angular, { IComponentController, IQService, IRootScopeService, ITimeoutService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../common/global-events';\nimport { APICurriculumObject } from '../../../common/types/api_types';\nimport { UnsubscribableComponent } from '../../../shared/components/abstracts/unsubscribable.component';\nimport { IObserver, Observer } from '../../../shared/services/helpers/observer.service';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { ICurriculumsService } from '../common/services/curriculums.service';\nimport { showCarriculumLibraryDialog, showEditCurriculumDialog, showSearchCurriculumDialog } from './shares/helpers.dialog';\nimport TeacherCourseManagementModule from './teacherCourseManagement.module';\nimport style from './teacherCourseManagement.scss';\nimport template from './teacherCourseManagement.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'teacher-course-management',\n  template: template,\n  style: style,\n})\nexport class TeacherCourseManagementComponent extends UnsubscribableComponent implements IComponentController {\n\n  @Input()\n  public curriculums: APICurriculumObject[];\n\n  constructor(private $rootScope: IRootScopeService, private $q: IQService, private $timeout: ITimeoutService,\n              private $cookies: ng.cookies.ICookiesService, private $state: StateService, private $mdDialog: angular.material.IDialogService,\n              private CurriculumsService: ICurriculumsService, private FetchData: any, private Path: any) {\n    'ngInject';\n\n    super();\n    this.curriculums = [];\n  }\n\n  public $onInit(): void {\n    const curriculumObserver: IObserver<APICurriculumObject[]> =\n      new Observer<APICurriculumObject[]>(this.onNext.bind(this));\n\n    this.$$unsubscribes.push(this.CurriculumsService.curriculums$.subscribe(curriculumObserver));\n  }\n\n  public openLibraryDialog(): void {\n    showCarriculumLibraryDialog(this.$q, this.$mdDialog, this.FetchData);\n  }\n\n  public openSearchForCurriculumDialog(): void {\n    this.FetchData.getCourseSetup(this.Path.getClassroomId())\n      .then((courseSettings: any): any =>\n        showSearchCurriculumDialog(\n          this.$mdDialog, this.FetchData, this.Path,\n          courseSettings.educational_system, this.isLocked(),\n        ),\n      )\n      .then((selectedCourse: any): any => this.FetchData\n        .v3\n        .addCourseDefinitionToClassroom(\n          this.Path.getClassroomId(),\n          selectedCourse,\n        ))\n      .then((): void => {\n        this.$rootScope.$emit(Events.UPDATED_COURSES);\n      });\n  }\n\n  public openCreateCurriculumDialog(): void {\n    this.FetchData.getCourseSetup(this.Path.getClassroomId())\n      .then((courseSettings: any): any =>\n        showEditCurriculumDialog(\n          this.$mdDialog, this.FetchData, this.Path, null,\n          courseSettings.educational_system, courseSettings.educational_stage,\n          this.isLocked(),\n        ),\n      )\n      .then((courseData: any): any => this.FetchData\n        .v3\n        .createCourseDefinition(this.Path.getClassroomId(), courseData)\n        .then((): void => {\n          this.$rootScope.$emit(Events.UPDATED_COURSES);\n        }),\n      );\n  }\n\n  public isLocked() {\n    return this.curriculums.length > 0;\n  }\n\n  private onNext(curriculums: APICurriculumObject[]): void {\n    this.curriculums = curriculums;\n  }\n\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n\nimport {\n  showChangeCourseCorePropertyDoublecheckWarning,\n  showChangeCourseCorePropertyWarning,\n} from '../../teacherCourseManagement/shares/helpers.dialog';\nimport { SelectEducationalProperties } from '../controllers/select-educational-properties.controller';\n\n/**\n * Controller for the edit curriculum modal ( which is also used for creating )\n */\nexport class EditCurriculumDialogCtrl extends SelectEducationalProperties {\n\n  constructor(\n    $q, FetchData, $mdDialog, Path, course,\n    educationalSystems, isLocked,\n    educationalSystemId, educationalStageId,\n  ) {\n    'ngInject';\n\n    super(FetchData);\n    this.$q = $q;\n    this.$mdDialog = $mdDialog;\n    this.educationalSystems = educationalSystems;\n    this.course = course || {};\n    this.isLocked = isLocked;\n    this.educationalSystemId = educationalSystemId;\n    this.educationalStageId = educationalStageId;\n\n    this.$onInit();\n  }\n\n  /**\n   *\n   */\n  $onInit() {\n    this.educationalSystem = this.educationalSystems.find(\n      educationalSystem => educationalSystem.id === this.educationalSystemId,\n    );\n\n    if (this.educationalSystem && !this.isLocked) {\n      this.updateEducationalStages(this.educationalSystem);\n    }\n\n    this.createMode = Object.keys(this.course).length === 0;\n\n    if (!this.createMode) {\n      this.updateEducationalStagesAndScales()\n        .then(() => {\n          this.scale = this.scales.find(\n            scale => scale.id === this.course.scale,\n          );\n        });\n    }\n\n    // Create curriculum based on current settings\n    if (this.createMode && this.educationalSystemId) {\n      this.updateEducationalStagesAndScales();\n    }\n  }\n\n  changeEducationalStage() {\n    if (this.educationalStage) {\n      this.updateScales(this.educationalStage);\n    } else {\n      this.scales = [];\n    }\n    this.scale = undefined;\n  }\n\n  /**\n   * Action triggered when the save button is pushed\n   */\n  saveChanges() {\n    if (this.createButtonEnabled) {\n      this.$mdDialog.hide({\n        name: this.course.name,\n        code: this.course.code,\n        scale: this.scale.id,\n        educational_stage: this.educationalStage.id,\n        educational_system: this.educationalSystem.id,\n      });\n    }\n  }\n\n  /**\n   * returns condition when the create button is enabled or not\n   * @returns {boolean}\n   */\n  get createButtonEnabled() {\n    return !!(this.course.name && this.educationalSystem && this.educationalStage && this.scale);\n  }\n\n  get basicConfigChanged() {\n    return this.scale.id !== this.course.scale ||\n      this.educationalStage.id !== this.educationalStageId ||\n      this.educationalSystem.id !== this.educationalSystemId;\n  }\n}\n\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport { SelectEducationalProperties } from '../controllers/select-educational-properties.controller';\nimport { getTranslation } from '../../../../../../../react_src/i18n';\n\nexport class SearchCurriculumDialogCtrl extends SelectEducationalProperties {\n  constructor(\n    $mdDialog, FetchData, Path,\n    educationalSystemId,\n    educationalSystems,\n    isLocked,\n  ) {\n    'ngInject';\n\n    super(FetchData);\n    this.$mdDialog = $mdDialog;\n    this.Path = Path;\n    this.educationalSystemId = educationalSystemId;\n    this.educationalSystems = educationalSystems;\n    this.isLocked = isLocked;\n\n    this.$onInit();\n  }\n\n  $onInit() {\n    this.educationalSystem = this.educationalSystems.find(\n      (educationalSystem) => educationalSystem.id === this.educationalSystemId,\n    );\n\n    if (this.educationalSystem) {\n      this.updateEducationalStages(this.educationalSystem);\n    }\n    this.searchCourseText = '';\n    this.searchCategories = [\n      {\n        name: getTranslation('categoryStudybeeCarriculumsLabel'),\n        searchFunction: 'getStudybeeCurriculums',\n        searchType: 1,\n      },\n      {\n        name: getTranslation('categoryMyCarriculumsLabel'),\n        searchFunction: 'getCurriculumLibrary',\n        searchType: 2,\n      },\n      {\n        name: getTranslation('categorySchoolCarriculumsLabel'),\n        searchFunction: 'getSchoolCurriculums',\n        searchType: 3,\n      },\n      {\n        name: getTranslation('categoryAllUserStudybeeCarriculumsLabel'),\n        searchFunction: 'allUsersCurriculums',\n        searchType: 2,\n      },\n    ];\n  }\n\n  searchCourse() {\n    const searchParams = {\n      search: this.searchCourseText,\n      educational_system: SearchCurriculumDialogCtrl.convertToSearchParam(this.educationalSystem),\n      educational_stage: SearchCurriculumDialogCtrl.convertToSearchParam(this.educationalStage),\n      scale: SearchCurriculumDialogCtrl.convertToSearchParam(this.scale),\n      classroom_id: this.Path.getClassroomId(),\n    };\n\n    return this.FetchData\n      .v3[this.searchCategory.searchFunction](searchParams);\n  }\n\n  static convertToSearchParam(model) {\n    if (model === undefined) {\n      return '';\n    }\n    return model.id;\n  }\n\n  addCurriculum() {\n    const courseToAdd = this.searchCategory.searchFunction === 'getCurriculumLibrary'\n      ? this.selectedItem.course : this.selectedItem;\n\n    this.$mdDialog.hide(courseToAdd);\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\n/**\n * Enumeration of possible course Type values\n */\n\nexport const CourseType = {\n  CLASSROOM: 0,\n  IMPORTED: 1,\n  TEMPLATE: 2,\n};\n","import angular, { IComponentController, IPromise, IQService, IRootScopeService } from 'angular';\nimport { Events } from '../../../../common/global-events';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport { ICurriculumsService } from '../../common/services/curriculums.service';\nimport { compareClassAndCurriculumSettings } from '../shares/helper.classroom';\nimport { showCurriculumDetailsDialog, showEditCurriculumDialog, showMakeCurriculumPrivateDialog, showMakeCurriculumPublicDialog, showMakeCurriculumPublicToAllStudyBeeUsersDialog, showRemoveCurriculumFromLibrary, showWrongCurriculumSetupDialog } from '../shares/helpers.dialog';\nimport TeacherCourseManagementModule from '../teacherCourseManagement.module';\nimport template from './cmCurriculumLibrary.tpl.html';\nimport {getTranslation} from '../../../../../../../react_src/i18n';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-curriculum-library',\n  template: template,\n})\nexport class CmCurriculumLibraryComponent implements IComponentController {\n  @Input()\n  public curriculums: any;\n\n  public libraryCurriculums: any;\n\n  constructor(private $rootScope: IRootScopeService, private $q: IQService,\n              private $mdDialog: angular.material.IDialogService, private $mdToast: angular.material.IToastService,\n              private CurriculumsService: ICurriculumsService, private FetchData: any, private Path: any,\n              private Mixpanel: { track: (msg: string) => void }) {\n    'ngInject';\n\n    this.curriculums = null;\n    this.libraryCurriculums = {\n      shared: [],\n      public: [],\n      private: [],\n    };\n  }\n\n  public $onInit(): void {\n    Object.assign(this.libraryCurriculums, this.curriculums);\n  }\n\n  public addCurriculumToClassroom(curriculum: any): void {\n    let promise: IPromise<void> = this.$q.when();\n    // compare only when there is more then 0 curriculums\n    if (this.CurriculumsService.curriculums.length > 0) {\n      promise = compareClassAndCurriculumSettings(\n        this.$q, this.Path.getClassroomId(), curriculum, this.FetchData,\n      );\n    }\n\n    promise.then((): IPromise<any> =>\n      this.FetchData.v3.addCurriculumToClassroom(curriculum, this.Path.getClassroomId()),\n    )\n      .then((): void => {\n        this.$rootScope.$emit(Events.UPDATED_COURSES);\n        this.showAddedToClassroomConfirm(curriculum);\n      })\n      .catch((err: { name: string }): void => {\n        if (err.name === 'WRONG_EDU_STAGE') {\n          showWrongCurriculumSetupDialog(this.$mdDialog);\n        }\n      });\n  }\n\n  public showAddedToClassroomConfirm(curriculum: any): void {\n    this.$mdToast.show({\n      templateUrl: 'utils/views/toast.html',\n      parent: angular.element(document.body),\n      hideDelay: 3000,\n      position: 'bottom right',\n      controller: class ShowAddedToClassroomConfirm {\n        public information: string;\n\n        constructor() {\n          'ngInject';\n          this.information = `${curriculum.name} ${getTranslation('curriculumAddedToClassroom')}`;\n        }\n      },\n      controllerAs: 'to',\n    });\n  }\n\n  public showEditCurriculumDialog(curriculum: any, type: string): void {\n    showEditCurriculumDialog(\n      this.$mdDialog, this.FetchData, this.Path, angular.copy(curriculum),\n      curriculum.educational_system.id, curriculum.educational_stage.id,\n    )\n      .then((curriculumData: any): IPromise<any> => this.FetchData.v3\n        .updateCurriculumInLibrary(\n          Object.assign(curriculum, curriculumData, {\n            course: {\n              educational_stage: curriculumData.educational_stage,\n            },\n          }),\n        ),\n      )\n      .then((updatedCurriculum: any): void => {\n        const curriculumOnList: any = this.libraryCurriculums[type]\n          .find(cur => cur.id === updatedCurriculum.id);\n\n        Object.assign(curriculumOnList, updatedCurriculum);\n        this.sortCurriculumList(type);\n      });\n  }\n\n  public showMakeCurriculumPublicInMySchoolDialog(curriculum: any, type: string): void {\n    showMakeCurriculumPublicDialog(this.$mdDialog, curriculum.name)\n      .then(() => this.FetchData.v3.makeCurriculumPublic(curriculum))\n      .then((updatedCurriculum: any): void => {\n        const curriculumOnListIndex: number = this.findCurriculumOnListIndex(type, curriculum);\n\n        this.libraryCurriculums[type].splice(curriculumOnListIndex, 1);\n        this.libraryCurriculums.public.push(updatedCurriculum);\n        this.sortCurriculumList('public');\n      })\n      .finally((): void => this.Mixpanel.track('Share curriculum with school'));\n  }\n\n  public showMakeCurriculumPublicToAllStudyBeeUsersDialog(curriculum: any, type: string): void {\n    showMakeCurriculumPublicToAllStudyBeeUsersDialog(this.$mdDialog, curriculum.name)\n      .then(() => this.FetchData.v3.makeCurriculumGlobal(curriculum))\n      .then((updatedCurriculum: any): void => {\n        const curriculumOnListIndex: number = this.findCurriculumOnListIndex(type, curriculum);\n\n        this.libraryCurriculums[type].splice(curriculumOnListIndex, 1);\n        this.libraryCurriculums.shared.push(updatedCurriculum);\n        this.sortCurriculumList('shared');\n      })\n      .finally((): void => this.Mixpanel.track('Share curriculum with all StudyBee users'));\n  }\n\n  public showMakeCurriculumPrivateDialog(curriculum: any, type: string): void {\n    const translations: Object = type === 'public' ?\n      {} :\n      {\n        content1: 'makeCurriculumPrivateFromGlobalInfoPart1',\n        content2: 'makeCurriculumPrivateFromGlobalInfoPart2',\n      };\n\n    showMakeCurriculumPrivateDialog(this.$mdDialog, curriculum.name, translations)\n      .then(() => this.FetchData.v3.makeCurriculumPrivate(curriculum))\n      .then((updatedCurriculum: any): void => {\n        const curriculumOnListIndex: number = this.findCurriculumOnListIndex(type, curriculum);\n\n        this.libraryCurriculums[type].splice(curriculumOnListIndex, 1);\n        this.libraryCurriculums.private.push(updatedCurriculum);\n        this.sortCurriculumList('private');\n      })\n      .finally((): void => this.Mixpanel.track('Unshare curriculum'));\n  }\n\n  public removeCurriculumFromLibrary(curriculum: any, type: string): void {\n    showRemoveCurriculumFromLibrary(this.$mdDialog, curriculum.name)\n      .then(() => this.FetchData.v3.removeCurriculumFromLibrary(curriculum))\n      .then(() => {\n        const curriculumOnListIndex: number = this.findCurriculumOnListIndex(type, curriculum);\n\n        this.libraryCurriculums[type].splice(curriculumOnListIndex, 1);\n      });\n  }\n\n  public openCurriculumDetails(curriculum: any): void {\n    this.$mdDialog.cancel();\n    showCurriculumDetailsDialog(this.$mdDialog, curriculum, this.FetchData);\n  }\n\n  public sortCurriculumList(curriculumType: string) {\n    this.libraryCurriculums[curriculumType].sort((a: any, b: any): number =>\n      a.name.toLowerCase().localeCompare(b.name.toLowerCase()),\n    );\n  }\n\n  public findCurriculumOnListIndex(curriculumType: string, curriculum: any): number {\n    return this.libraryCurriculums[curriculumType].findIndex(cur => cur.id === curriculum.id);\n  }\n}\n","import { IPromise, IQResolveReject, IQService } from 'angular';\n\nexport const compareClassAndCurriculumSettings: ($q: IQService, classroomId: number, curriculum: any, FetchData: any) => IPromise<void> = ($q: IQService, classroomId: number, curriculum: any, FetchData: any): IPromise<void> =>\n  FetchData.getCourseSetup(classroomId).then((courseSetup: any): IPromise<void> =>\n    $q((resolve: IQResolveReject<void>, reject: IQResolveReject<{ name: string }>) => {\n      if (\n        courseSetup.educational_system !== null &&\n        courseSetup.educational_system !== curriculum.educational_system.id\n      ) {\n        reject({ name: 'WRONG_EDU_STAGE' });\n      } else {\n        resolve();\n      }\n    }),\n  );\n","import angular, { IComponentController, IPromise, IRootScopeService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../../common/global-events';\nimport { UnsubscribableComponent } from '../../../../shared/components/abstracts/unsubscribable.component';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport { ICurriculumsService } from '../../common/services/curriculums.service';\nimport style from '../../common/styles/course-details.scss';\nimport { showCreateObjectiveDialog, showEditCurriculumDialog, showSaveCourseToLibraryDialog } from '../shares/helpers.dialog';\nimport TeacherCourseManagementModule from '../teacherCourseManagement.module';\nimport template from './cmTeacherCourseDetails.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-teacher-course-details',\n  template: template,\n  style: style,\n  transclude: true,\n})\nexport class CmTeacherCourseDetailsComponent extends UnsubscribableComponent implements IComponentController {\n  @Input()\n  public course: any;\n  @Input()\n  public hideToolbar: boolean;\n  @Input({ optional: true })\n  public curriculum: any;\n\n  constructor(private $rootScope: IRootScopeService, private $state: StateService,\n              private CurriculumsService: ICurriculumsService, private $mdDialog: angular.material.IDialogService,\n              private FetchData: any, private Path: any, private Mixpanel: any) {\n    'ngInject';\n\n    super();\n    this.course = null;\n    this.hideToolbar = false;\n    this.curriculum = null;\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(\n      this.$rootScope.$on(Events.COURSE_UPDATED, (_: any, course: any): void => {\n        this.course.name = course.name;\n      }),\n    );\n\n    if (!this.curriculum) {\n      this.curriculum = { name: this.course.name };\n    }\n  }\n\n  public addNewObjective(): void {\n    showCreateObjectiveDialog(this.$mdDialog)\n      .then((objectiveName: string): IPromise<any> =>\n        this.FetchData.v3.createObjective(this.course, { name: objectiveName }),\n      )\n      .then((): void => {\n        this.$rootScope.$emit(Events.UPDATED_OBJECTIVES);\n      });\n  }\n\n  public openSaveCourseToLibraryDialog(): IPromise<void> {\n    return showSaveCourseToLibraryDialog(this.$mdDialog, Object.assign({}, this.course))\n      .then((newCourse: any): IPromise<void> =>\n        this.FetchData.v3.saveCourseToLibrary(this.course.id, newCourse.name, newCourse.code),\n      )\n      .then((): void => {\n        this.Mixpanel.track('saving_curriculum_to_library');\n      });\n  }\n\n  public openEditCourseDialog(): void {\n    showEditCurriculumDialog(\n      this.$mdDialog, this.FetchData, this.Path,\n      angular.copy(this.course), this.course.educational_system,\n      this.course.educational_stage, this.CurriculumsService.curriculums.length > 1,\n    )\n      .then((courseData: any): IPromise<void> => this.FetchData.v3.updateCourseDefinition(\n        this.Path.getClassroomId(), Object.assign(courseData, { id: this.course.id }),\n        )\n          .then((courseUpdated: any): void => {\n            this.$rootScope.$emit(Events.UPDATED_COURSES, courseUpdated);\n            this.$rootScope.$emit(Events.UPDATED_OBJECTIVES, courseUpdated);\n            Object.assign(this.course, courseUpdated);\n          }),\n      );\n  }\n\n  public update(course: any): void {\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3.updateCourseDefinition(this.Path.getClassroomId(), course)\n      .finally((): void => {\n        this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY);\n      });\n  }\n\n  public closeCourseView(): void {\n    this.$state.go('teacherCourseManagement', { course: null });\n    this.$rootScope.$emit(Events.CLOSE_COURSE_DETAILS_VIEW);\n  }\n}\n","import { IComponentController } from 'angular';\nimport { ListViewType } from '../../../../../shared/enums/listViewType.enum';\nimport { IListViewMenuItem, ListViewMenuItem } from '../../../../../shared/models/listViewMenuItem.model';\nimport { IListViewMenuService } from '../../../../../shared/services/listViewMenu/listViewMenu.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherCourseManagementModule from '../../teacherCourseManagement.module';\nimport style from './cmTeacherObjectives.scss';\nimport template from './cmTeacherObjectives.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-teacher-objectives',\n  template: template,\n  style: style,\n})\nexport class CmTeacherObjectivesComponent implements IComponentController {\n  @Input()\n  public course: any;\n\n  public view: ListViewType;\n  public readonly toolbarMenuItems: ListViewMenuItem[];\n\n  private readonly storageId: string;\n\n  constructor(private ListViewMenuService: IListViewMenuService) {\n    'ngInject';\n\n    this.course = [];\n    this.storageId = 'CmTeacherObjectives';\n    this.view = ListViewType.TITLE_AND_DESCRIPTION;\n    this.toolbarMenuItems = ListViewMenuService.getListViewMenu(this.storageId);\n  }\n\n  public $onInit(): void {\n    this.view = this.toolbarMenuItems\n      .find((listViewMenuItem: IListViewMenuItem): boolean => listViewMenuItem.checked)\n      .eventArgs.view;\n  }\n\n  public onClickMenuItem(toolbarMenuItem: IListViewMenuItem): void {\n    this.toolbarMenuItems.forEach((menuItem: any): void => {\n      menuItem.checked = false;\n    });\n    toolbarMenuItem.checked = true;\n    this.ListViewMenuService.saveListViewMenu(this.storageId, this.toolbarMenuItems);\n    this.changeView(toolbarMenuItem.eventArgs);\n  }\n\n  private changeView(eventArgs: { [arg: string]: any }): void {\n    this.view = eventArgs.view;\n  }\n}\n","import angular, { IPromise, IRootScopeService } from 'angular';\nimport { Events } from '../../../../../../common/global-events';\nimport { UnsubscribableComponent } from '../../../../../../shared/components/abstracts/unsubscribable.component';\nimport { ListViewType } from '../../../../../../shared/enums/listViewType.enum';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../../utils/decorators/input.decorator';\nimport commonStyle from '../../../../common/styles/objectives-list.scss';\nimport { showDeleteObjectiveDialog } from '../../../shares/helpers.dialog';\nimport TeacherCourseManagementModule from '../../../teacherCourseManagement.module';\nimport style from './cmTeacherObjectivesList.scss';\nimport template from './cmTeacherObjectivesList.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-teacher-objectives-list',\n  template: template,\n  style: [commonStyle, style]\n})\nexport class CmTeacherObjectivesListComponent extends UnsubscribableComponent {\n  @Input()\n  public course: any;\n  @Input()\n  public view: ListViewType;\n\n  public readonly listViewType: any;\n  public objectives: any[];\n\n  constructor(private $rootScope: IRootScopeService, private $mdDialog: angular.material.IDialogService,\n              private FetchData: any, private NavigationHistory: any) {\n    'ngInject';\n\n    super();\n    this.course = null;\n    this.view = ListViewType.TITLE_AND_DESCRIPTION;\n    this.listViewType = ListViewType;\n    this.objectives = [];\n  }\n\n  public $onInit(): void {\n    this.updateObjectives();\n\n    const updateObjectivesHandler = this.$rootScope.$on(\n      Events.UPDATED_OBJECTIVES,\n      () => this.updateObjectives(),\n    );\n\n    const deleteObjectivesHandler = this.$rootScope.$on(\n      Events.COURSE_DELETED,\n      (event, data) => {\n        if (data.courseDefinition.id === this.course.id) {\n          this.NavigationHistory.go('teacherCourseManagement');\n        }\n      },\n    );\n\n    this.$$unsubscribes.push(updateObjectivesHandler, deleteObjectivesHandler);\n  }\n\n  public onClickDelete(objective): void {\n    showDeleteObjectiveDialog(this.$mdDialog, objective, this.course)\n      .then((): IPromise<void> => this.FetchData.v3.deleteObjective(this.course, objective))\n      .then((): void => {\n        this.objectives = this.objectives.filter(item => item.id !== objective.id);\n      });\n  }\n\n  private updateObjectives() {\n    this.FetchData.v3.getObjectives(this.course).then(\n      (objectives: any[]): void => {\n        this.objectives = objectives;\n      },\n    );\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../../../utils/decorators/component.decorator';\nimport TeacherCourseManagementModule from '../../../teacherCourseManagement.module';\nimport style from './cmTeacherObjectivesToolbar.scss';\nimport template from './cmTeacherObjectivesToolbar.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-teacher-objectives-toolbar',\n  template: template,\n  style: style,\n  transclude: true,\n})\nexport class CmTeacherObjectivesToolbarComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","import { StateService } from '@uirouter/core';\nimport angular, { IComponentController, IPromise, IRootScopeService } from 'angular';\nimport { Events } from '../../../../common/global-events';\nimport { UnsubscribableComponent } from '../../../../shared/components/abstracts/unsubscribable.component';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../utils/decorators/input.decorator';\nimport { ICurriculumsService } from '../../common/services/curriculums.service';\nimport style from '../../common/styles/courses-list.scss';\nimport { showDeleteCourseConfirmationDialog, showEditCurriculumDialog, showSaveCourseToLibraryDialog } from '../shares/helpers.dialog';\nimport TeacherCourseManagementModule from '../teacherCourseManagement.module';\nimport template from './cmTeacherCoursesList.tpl.html';\n\n@Component({\n  module: TeacherCourseManagementModule,\n  selector: 'cm-teacher-courses-list',\n  template: template,\n  style: style,\n})\nexport class CmTeacherCoursesListComponent extends UnsubscribableComponent implements IComponentController {\n  @Input()\n  public curriculums: any[];\n\n  public selectedCurriculum: any;\n\n  constructor(private $rootScope: IRootScopeService, private $mdDialog: angular.material.IDialogService,\n              private $state: StateService, private CurriculumsService: ICurriculumsService,\n              private FetchData: any, private Path: any, private Mixpanel: any) {\n    'ngInject';\n\n    super();\n    this.curriculums = [];\n    this.selectedCurriculum = null;\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(\n      this.$rootScope.$on(\n        Events.UPDATED_COURSES,\n        () => this.updateCoursesList(),\n      ),\n    );\n\n    // When the name of the course is updated from the extended view,\n    // it should be still possible to update the name on the list\n    this.$$unsubscribes.push(\n      this.$rootScope.$on(Events.COURSE_UPDATED, (_: any, courseUpdated: any): void => {\n        const courseToUpdate: any = this.curriculums.find(course => course.id === courseUpdated.id);\n\n        if (courseToUpdate) {\n          courseToUpdate.name = courseUpdated.name;\n        }\n      }),\n    );\n\n    this.$$unsubscribes.push(this.$rootScope.$on(\n      Events.CLOSE_COURSE_DETAILS_VIEW,\n      (): void => (this.selectedCurriculum = null),\n    ));\n  }\n\n  public navigateToCourseDetails(course: any): void {\n    this.selectedCurriculum = course;\n    this.$state.go('teacherCourseManagement.details.learningObjectives', { course });\n  }\n\n  public openSaveCourseToLibraryDialog(course: any): IPromise<void> {\n    return showSaveCourseToLibraryDialog(this.$mdDialog, Object.assign({}, course))\n      .then((newCourse: any): IPromise<any> => this.FetchData.v3\n        .saveCourseToLibrary(course.id, newCourse.name, newCourse.code),\n      )\n      .then((): void => {\n          this.Mixpanel.track('saving_curriculum_to_library');\n        },\n      );\n  }\n\n  public openEditCourseDialog(course: any): void {\n    showEditCurriculumDialog(\n      this.$mdDialog, this.FetchData, this.Path,\n      angular.copy(course), course.educational_system,\n      course.educational_stage, this.curriculums.length > 1,\n    )\n      .then((courseData: any): IPromise<any> => this.FetchData.v3.updateCourseDefinition(\n        this.Path.getClassroomId(),\n        Object.assign(course, courseData)),\n      )\n      .then((courseUpdated: any): void => {\n        this.$rootScope.$emit(Events.COURSE_UPDATED, courseUpdated);\n        this.$rootScope.$emit(Events.UPDATED_OBJECTIVES, courseUpdated);\n      });\n  }\n\n  public deleteCourse(courseDefinition: any): void {\n    showDeleteCourseConfirmationDialog(this.$mdDialog, courseDefinition)\n      .then((): IPromise<any> => this.FetchData.v3.deleteCourse(this.Path.getClassroomId(), courseDefinition))\n      .then((): void => {\n        this.curriculums.splice(\n          this.curriculums.findIndex(course => course.id === courseDefinition.id),\n          1,\n        );\n\n        this.$rootScope.$emit(Events.COURSE_DELETED, { courseDefinition });\n      });\n  }\n\n  private updateCoursesList(): void {\n    this.CurriculumsService.updateCurriculums()\n      .then((courseDefinitions: any): void => {\n        this.curriculums = courseDefinitions;\n      });\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../../utils/decorators/component.decorator';\nimport CourseManagementModule from '../../courseManagement.module';\nimport template from './cmEmptyObjectivesList.tpl.html';\nimport style from './cmEmptyObjectivesList.scss';\n\n@Component({\n  module: CourseManagementModule,\n  selector: 'cm-empty-objectives-list',\n  template: template,\n  style: style,\n})\nexport class CmEmptyObjectivesListComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","import angular, { IModule } from 'angular';\nimport AssignmentsSharedModule from './shared/assignmentsShared.module';\nimport StudentAssessAssignmentModule from './studentAssessAssignment/studentAssessAssignment.module';\nimport StudentAssessAssignmentDriveModule from './studentAssessAssignmentDrive/studentAssessAssignmentDrive.module';\nimport StudentAssignmentsModule from './studentAssignments/studentAssignments.module';\nimport TeacherAssessAssignmentModule from './teacherAssessAssignment/teacherAssessAssignment.module';\nimport TeacherAssessAssignmentDriveModule from './teacherAssessAssignmentDrive/teacherAssessAssignmentDrive.module';\nimport TeacherAssessAssignmentStudentModule from './teacherAssessAssignmentStudent/teacherAssessAssignmentStudent.module';\nimport TeacherAssignmentsModule from './teacherAssignments/teacherAssignments.module';\nimport TeacherSetAssignmentObjectivesModule from './teacherSetAssignmentObjectives/teacherSetAssignmentObjectives.module';\n\nexport * from './assignments.scss';\nexport const AssignmentsModule: IModule = angular.module('app.assignments', [\n  AssignmentsSharedModule,\n  StudentAssessAssignmentModule,\n  StudentAssessAssignmentDriveModule,\n  StudentAssignmentsModule,\n  TeacherAssessAssignmentModule,\n  TeacherAssessAssignmentDriveModule,\n  TeacherAssessAssignmentStudentModule,\n  TeacherAssignmentsModule,\n  TeacherSetAssignmentObjectivesModule,\n]);\nexport default AssignmentsModule.name;\n","import { IAttributes, IController, IDirective, IScope, ITimeoutService } from 'angular';\nimport get from 'lodash.get';\nimport { Directive } from '../../../utils/decorators/directive.decorator';\nimport AssignmentsSharedModule from '../assignmentsShared.module';\n\n@Directive({\n  module: AssignmentsSharedModule,\n  selector: 'objectiveKnowledgeRequirements',\n  restrict: 'AE',\n  scope: false,\n})\nexport class ObjectiveKnowledgeRequirementsDirective implements IDirective {\n  constructor(private $timeout: ITimeoutService) {\n    'ngInject';\n  }\n\n  public link(scope: IScope, instanceElement: JQLite, instanceAttributes: IAttributes): void {\n    const controllerAs: string = get(instanceAttributes, 'controllerAs', '$ctrl');\n    const parentController: IController = get(scope, `${controllerAs}`, null);\n    const objectiveIdPath: string = get(instanceAttributes, 'objectiveIdPath', 'objective.objective');\n    const objectiveId: number = get(scope, `${objectiveIdPath}`, null);\n\n    if (parentController === null) {\n      throw `ObjectiveKnowledgeRequirementsDirective: Could not find controller as ${controllerAs}.`;\n    }\n\n    if (objectiveId === null) {\n      throw `ObjectiveKnowledgeRequirementsDirective: Missing property ${controllerAs}.${objectiveIdPath}`;\n    }\n\n    instanceElement.on('click.objectiveKnowledgeRequirements', () => {\n      this.$timeout(() => {\n        parentController.triggerKnowledgeRequirements = !parentController.triggerKnowledgeRequirements;\n        parentController.objectiveKnowledgeRequirements = objectiveId;\n      });\n    });\n\n    scope.$on('$destroy', (): void => {\n      instanceElement.off('click.objectiveKnowledgeRequirements');\n    });\n  }\n}\n","import { IComponentController, INgModelController, IRootElementService } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport { SiblingComponent } from '../../../utils/decorators/sibling-component';\nimport AssignmentsSharedModule from '../assignmentsShared.module';\nimport template from './studentAssignmentTextarea.tpl.html';\nimport style from './studentAssignmentTextarea.scss';\n\n@Component({\n  module: AssignmentsSharedModule,\n  selector: 'student-assignment-textarea',\n  template: template,\n  style: style,\n})\nexport class StudentAssignmentTextareaComponent implements IComponentController {\n  @SiblingComponent() ngModel: INgModelController;\n  @Input({ optional: true }) public isPublished: boolean | undefined;\n  @Input() public label: string;\n  @Input({ optional: true }) public readonly: boolean | undefined;\n\n  constructor(private $element: IRootElementService) {\n    'ngInject';\n\n    this.label = '';\n  }\n\n  public $onInit(): void {\n    if (this.readonly === undefined) {\n      this.readonly = !!this.$element.attr('readonly');\n    }\n\n    this.isPublished = this.isPublished === undefined ? true : this.isPublished;\n  }\n}\n","import { IPromise, IQService } from 'angular';\nimport { StateDeclaration, Transition, TransitionService, StateParams } from '@uirouter/core';\nimport { StateProvider } from '@uirouter/angularjs';\nimport { FetchData } from '../../utils/services/fetchData.service';\n\nexport const StudentAssessAssignmentRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  $transitionsProvider.onBefore({ to: 'studentAssessed.**' }, (transition: Transition): any => {\n    const transitionTo: StateDeclaration = transition.to();\n    (transitionTo as any).themeClass = 'sb-theme-green';\n    (transitionTo as any).role = 'student';\n\n    return true;\n  });\n\n  $stateProvider\n    .state('studentAssessed', {\n      component: 'studentAssessAssignment',\n      params: {\n        isModal: null,\n        assignment: null,\n      },\n      resolve: {\n        assignment: ($q: IQService, $stateParams: StateParams, Path: any, FetchData: FetchData, MainMenu: any) => {\n          'ngInject';\n\n          const assignmentPromise: IPromise<any> = $stateParams.assignment ?\n            $q.when($stateParams.assignment) :\n            FetchData.v2.getAssignmentByAlternateLink(Path.getAssignmentId());\n\n          return assignmentPromise\n            .then((assignment: any): IPromise<any> => {\n              MainMenu.saveAssignmentDetails(assignment);\n              return FetchData.getStudentAssignment(assignment.id);\n            })\n            .catch((): IPromise<never> => {\n                MainMenu.saveAssignmentDetails(null);\n                return $q.reject();\n              },\n            );\n        },\n      },\n    });\n};\n","import { IAngularEvent, IComponentController, IFilterService, IRootScopeService } from 'angular';\nimport { StateParams, StateService } from '@uirouter/core';\nimport get from 'lodash.get';\nimport { Events } from '../../common/global-events';\nimport { ListViewType } from '../../shared/enums/listViewType.enum';\nimport { IListViewMenuItem } from '../../shared/models/listViewMenuItem.model';\nimport { ListViewMenuService } from '../../shared/services/listViewMenu/listViewMenu.service';\nimport { LocalStorageService } from '../../shared/services/localStorage/localStorage.service';\nimport { Component } from '../../utils/decorators/component.decorator';\nimport { Input } from '../../utils/decorators/input.decorator';\nimport { FetchData } from '../../utils/services/fetchData.service';\nimport { UserInfo } from '../../utils/services/userInfo.service';\nimport StudentAssessAssignmentModule from './studentAssessAssignment.module';\nimport style from './studentAssessAssignment.scss';\nimport template from './studentAssessAssignment.tpl.html';\n\n@Component({\n  module: StudentAssessAssignmentModule,\n  selector: 'student-assess-assignment',\n  template: template,\n  style: style,\n})\nexport class StudentAssessAssignmentComponent implements IComponentController {\n  @Input() public assignment: any;\n\n  public isModal: boolean;\n  public viewMenuItems: IListViewMenuItem[];\n  public viewMode: ListViewType;\n\n  private isGradeDescriptionVisible: boolean;\n  private isGradeDescriptionEnable: boolean;\n  private readonly storageViewMenuId: string;\n  private readonly storageKeyGradeDescription: string;\n\n  constructor(private $rootScope: IRootScopeService, private $filter: IFilterService,\n              private $stateParams: StateParams, private UserInfo: UserInfo, private FetchData: FetchData,\n              private ListViewMenuService: ListViewMenuService, private $state: StateService,\n              private LocalStorageService: LocalStorageService, private MainMenu: any) {\n    'ngInject';\n\n    this.assignment = null;\n    this.isModal = $stateParams.isModal;\n    this.viewMenuItems = [];\n    this.viewMode = ListViewType.TITLE_ONLY;\n    this.isGradeDescriptionVisible = false;\n    this.isGradeDescriptionEnable = false;\n    this.storageViewMenuId = 'studentStudentAssessed';\n    this.storageKeyGradeDescription = `${this.storageViewMenuId}GradeDescriptionVisible`;\n  }\n\n  public $onInit(): void {\n    this.isGradeDescriptionVisible = this.LocalStorageService.exists(this.storageKeyGradeDescription);\n    this.isGradeDescriptionEnable = get(this, 'assignment.show_grade_texts_for_student', false) && !this.assignment.grade_system.is_counter;\n    this.viewMenuItems = this.ListViewMenuService.getListViewMenu(this.storageViewMenuId);\n    this.viewMode = this.viewMenuItems.find((listViewMenuItem: IListViewMenuItem) => listViewMenuItem.checked)\n      .eventArgs.view;\n  }\n\n  public historyBack(): void {\n    this.MainMenu.saveAssignmentDetails(null);\n    this.$state.go('studentAssignments');\n  }\n\n  public updateObjectiveAssessmentProperty(objective, objectiveAssignment): void {\n    const assignment: any = { id: objectiveAssignment.assignment_id };\n    Object.assign(objective.objective_assessments, { assignment });\n\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3\n      .updateObjectiveAssessments(this.UserInfo.userId, objective.id, objective.objective_assessments)\n      .finally((): IAngularEvent => this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY));\n  }\n\n  public onClickMenuItem(toolbarMenuItem): void {\n    this.viewMenuItems.forEach((menuItem: IListViewMenuItem) => {\n      Object.assign(menuItem, { checked: false });\n    });\n    Object.assign(toolbarMenuItem, { checked: true });\n    this.ListViewMenuService.saveListViewMenu(this.storageViewMenuId, this.viewMenuItems);\n    this.viewMode = toolbarMenuItem.eventArgs.view;\n  }\n\n  public isTitleVisible(title: string): boolean {\n    return this.viewMode !== ListViewType.DESCRIPTION_ONLY && !!`${title}`.trim().length;\n  }\n\n  public isDescriptionVisible(description: string): boolean {\n    return this.viewMode !== ListViewType.TITLE_ONLY &&\n      !!`${this.$filter<(string) => string>('getFormattedOrEmpty')(description)}`.trim().length;\n  }\n\n  public isAssignmentConfigure(): boolean {\n    return get(this, 'assignment.course_definitions.length', false) && !get(this, 'assignment.result_only', false);\n  }\n\n  public updateDescription(grade: any, objective: any): void {\n    if (grade) {\n      const gradeText: any = objective.grade_texts\n        .find((item: any): boolean => item.grade_id === grade.id);\n\n      objective.gradeText = get(gradeText, 'text', '');\n    } else {\n      objective.gradeText = '';\n    }\n  }\n\n  public isGradeTextVisible(objective): boolean {\n    return this.isGradeDescriptionEnable && this.isGradeDescriptionVisible && objective.gradeText;\n  }\n\n  public showGradeDescription(): void {\n    this.isGradeDescriptionVisible = true;\n    this.LocalStorageService.set(this.storageKeyGradeDescription, 'true');\n  }\n\n  public hideGradeDescription(): void {\n    this.isGradeDescriptionVisible = false;\n    this.LocalStorageService.remove(this.storageKeyGradeDescription);\n  }\n}\n","import { IPromise } from 'angular';\nimport { StateDeclaration, StateParams, TransitionService } from '@uirouter/core';\nimport { StateProvider } from '@uirouter/angularjs';\nimport { TransitionHandler } from '../../shared/models/transitionHandler.model';\nimport { registerOnBeforeTransition } from '../../utils/decorators/registerOnBeforeTransition.decorator';\nimport { FetchData } from '../../utils/services/fetchData.service';\n\nexport const StudentAssessAssignmentDriveRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class ThemeApply extends TransitionHandler {\n    public getCriteria(): any {\n      return { to: 'studentGoogleDrive.**' };\n    }\n\n    public onBefore(transition: any): boolean {\n      const transitionTo: StateDeclaration = transition.to();\n      (transitionTo as any).themeClass = 'sb-theme-green';\n      (transitionTo as any).role = 'student';\n\n      return true;\n    }\n  }\n\n  $stateProvider\n    .state('studentGoogleDrive', {\n      component: 'studentAssessAssignmentDrive',\n      resolve: {\n        assignments: ($state: StateParams, Path: any, FetchData: FetchData): IPromise<any[]> => {\n          'ngInject';\n\n          const assessmentId = Path.getAssignmentAlternateLinkId(true);\n          return Path.getFileId(5)\n            .then(fileId => FetchData.getAssessmentDrive(fileId, assessmentId))\n            .then((assessments: any[]) => {\n              return FetchData.getStudentAssignment(assessments[0].id)\n                .then((studentAssignment: any) => {\n                  return assessments.map((assessment) => Object.assign(assessment, {\n                    show_grade_texts_for_student: studentAssignment.show_grade_texts_for_student,\n                  }));\n                });\n            })\n            .catch(() => $state.target('wrongGoogleDriveFile'));\n        },\n      },\n    });\n};\n","import { IAngularEvent, IComponentController, IFilterService, IRootScopeService } from 'angular';\nimport get from 'lodash.get';\nimport { Events } from '../../common/global-events';\nimport { ListViewType } from '../../shared/enums/listViewType.enum';\nimport { IListViewMenuItem } from '../../shared/models/listViewMenuItem.model';\nimport { ListViewMenuService } from '../../shared/services/listViewMenu/listViewMenu.service';\nimport { LocalStorageService } from '../../shared/services/localStorage/localStorage.service';\nimport { Component } from '../../utils/decorators/component.decorator';\nimport { Input } from '../../utils/decorators/input.decorator';\nimport { FetchData } from '../../utils/services/fetchData.service';\nimport { UserInfo } from '../../utils/services/userInfo.service';\nimport StudentAssessAssignmentDriveModule from './studentAssessAssignmentDrive.module';\nimport style from './studentAssessAssignmentDrive.scss';\nimport template from './studentAssessAssignmentDrive.tpl.html';\n\n@Component({\n  module: StudentAssessAssignmentDriveModule,\n  selector: 'student-assess-assignment-drive',\n  template: template,\n  style: style,\n})\nexport class StudentAssessAssignmentDriveComponent implements IComponentController {\n  @Input() public assignments: any[];\n\n  public viewMenuItems: IListViewMenuItem[];\n  public viewMode: ListViewType;\n  public assignmentSelected: any;\n\n  private isGradeDescriptionVisible: boolean;\n  private isGradeDescriptionEnable: boolean;\n  private readonly storageViewMenuId: string;\n  private readonly storageKeyGradeDescription: string;\n\n  constructor(private $rootScope: IRootScopeService, private $filter: IFilterService,\n              private FetchData: FetchData, private UserInfo: UserInfo,\n              private ListViewMenuService: ListViewMenuService, private LocalStorageService: LocalStorageService) {\n    'ngInject';\n\n    this.assignments = [];\n    this.viewMenuItems = [];\n    this.assignmentSelected = null;\n    this.viewMode = ListViewType.TITLE_ONLY;\n    this.isGradeDescriptionVisible = false;\n    this.isGradeDescriptionEnable = false;\n    this.storageViewMenuId = 'studentStudentGoogleDrive';\n    this.storageKeyGradeDescription = `${this.storageViewMenuId}GradeDescriptionVisible`;\n  }\n\n  public $onInit(): void {\n    this.isGradeDescriptionVisible = this.LocalStorageService.exists(this.storageKeyGradeDescription);\n    this.viewMenuItems = this.ListViewMenuService.getListViewMenu(this.storageViewMenuId);\n    this.viewMode = this.viewMenuItems.find(listViewMenuItem => listViewMenuItem.checked)\n      .eventArgs.view;\n    this.assignmentSelected = this.assignments[0];\n    this.isGradeDescriptionEnable = get(this, 'assignmentSelected.show_grade_texts_for_student', false) && !this.assignmentSelected.grade_system.is_counter;\n  }\n\n  public isSelectedAssignmentConfigure(): boolean {\n    return get(this, 'assignmentSelected.course_definitions.length', false) && !get(this, 'assignmentSelected.resultOnly', false);\n  }\n\n  public updateObjectiveAssessmentProperty(objective: any, objectiveAssignment: any): void {\n    const assignment: any = { id: objectiveAssignment.assignment };\n    Object.assign(objective.objective_assessments, { assignment });\n\n    this.$rootScope.$emit(Events.STARTED_NEW_REQUEST);\n    this.FetchData.v3\n      .updateObjectiveAssessments(this.UserInfo.userId, objective.id, objective.objective_assessments)\n      .finally((): IAngularEvent => this.$rootScope.$emit(Events.REQUEST_FINISHED_SUCCESSFULLY));\n  }\n\n  public onClickMenuItem(toolbarMenuItem: IListViewMenuItem): void {\n    this.viewMenuItems.forEach((menuItem: IListViewMenuItem) => {\n      Object.assign(menuItem, { checked: false });\n    });\n    Object.assign(toolbarMenuItem, { checked: true });\n    this.ListViewMenuService.saveListViewMenu(this.storageViewMenuId, this.viewMenuItems);\n    this.viewMode = toolbarMenuItem.eventArgs.view;\n  }\n\n  public isTitleVisible(title: string): boolean {\n    return this.viewMode !== ListViewType.DESCRIPTION_ONLY && !!`${title}`.trim().length;\n  }\n\n  public isDescriptionVisible(description: string): boolean {\n    return this.viewMode !== ListViewType.TITLE_ONLY &&\n      !!`${this.$filter<(string) => string>('getFormattedOrEmpty')(description)}`.trim().length;\n  }\n\n  public updateDescription(grade: any, objective: any): void {\n    if (grade) {\n      const gradeText: any = objective.grade_texts\n        .find((item: any): boolean => item.grade_id === grade.id);\n\n      objective.gradeText = get(gradeText, 'text', '');\n    } else {\n      objective.gradeText = '';\n    }\n  }\n\n  public isGradeTextVisible(objective): boolean {\n    return this.isGradeDescriptionEnable && this.isGradeDescriptionVisible && objective.gradeText;\n  }\n\n  public showGradeDescription(): void {\n    this.isGradeDescriptionVisible = true;\n    this.LocalStorageService.set(this.storageKeyGradeDescription, 'true');\n  }\n\n  public hideGradeDescription(): void {\n    this.isGradeDescriptionVisible = false;\n    this.LocalStorageService.remove(this.storageKeyGradeDescription);\n  }\n}\n","import {StateProvider} from '@uirouter/angularjs';\nimport {StateDeclaration, StateService, Transition, TransitionService} from '@uirouter/core';\nimport {IPromise} from 'angular';\nimport {AssignmentsService, Assignment} from '../../../../../src/app/student/assignments/state';\n\nexport const StudentAssignmentsRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  $transitionsProvider.onBefore({ to: state => state.name.startsWith('studentAssignments') }, (transition: Transition): any => {\n    const transitionTo: StateDeclaration = transition.to();\n    (transitionTo as any).themeClass = 'sb-theme-green';\n    (transitionTo as any).role = 'student';\n\n    return true;\n  });\n\n\n  $stateProvider\n    .state('studentAssignments', {\n      resolve: {\n        assignmentsGroup: (AssignmentsService: AssignmentsService, $state: StateService): IPromise<Assignment[]> => {\n          'ngInject';\n\n          return new Promise(resolve => {\n            AssignmentsService.get().subscribe(assignments => {\n              if (assignments.length) {\n                resolve(assignments);\n              } else {\n                $state.go('studentAssignmentsNotConfigured');\n              }\n            });\n          });\n        },\n      },\n      views: {\n        '@': {\n          component: 'studentAssignments',\n        },\n        'assignments@studentAssignments': {\n          component: 'appAssignments',\n        },\n      },\n    })\n    .state('studentAssignmentsNotConfigured', {\n      views: {\n        '@': {\n          component: 'studentAssignments',\n        },\n        'assignments@studentAssignmentsNotConfigured': {\n          component: 'studentAssignmentsNotConfigured',\n        },\n      }\n    });\n};\n","import { StateService, RawParams } from '@uirouter/core';\nimport { AssignmentsListComponent } from '../../../../../shared/components/assignmentsList/assignmentsList.component';\nimport { IAssignment } from '../../../../../shared/models/assignment.model';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport StudentAssignmentsModule from '../../../studentAssignments.module';\nimport style from './studentAssignmentsList.scss';\nimport template from './studentAssignmentsList.tpl.html';\n\n@Component({\n  module: StudentAssignmentsModule,\n  selector: 'student-assignments-list',\n  template: template,\n  style: style,\n})\nexport class StudentAssignmentsListComponent extends AssignmentsListComponent {\n  @Input({ string: true })\n  public label: string;\n  @Input()\n  public assignments: IAssignment[];\n\n  constructor(private $state: StateService) {\n    'ngInject';\n\n    super();\n  }\n\n  public goToAssignmentDetails(assignment: IAssignment): void {\n    const params: RawParams = {\n      assignment,\n      isModal: true,\n    };\n\n    this.$state.go('studentAssessed', params);\n  }\n}\n","import {AssignmentType} from '../../shared/enums/assignmentType.enum';\nimport {Component} from '../../utils/decorators/component.decorator';\nimport StudentAssignmentsModule from './studentAssignments.module';\nimport style from './studentAssignments.scss';\nimport template from './studentAssignments.tpl.html';\nimport {Order} from '@datorama/akita';\nimport {\n  AssignmentFilterItem, AssignmentSort,\n  AssignmentSortItem,\n  AssignmentsQuery,\n  AssignmentsService, AssignmentsUI,\n} from '../../../../../src/app/student/assignments/state';\n\n@Component({\n  module: StudentAssignmentsModule,\n  selector: 'student-assignments',\n  template: template,\n  style: style,\n})\nexport class StudentAssignmentsComponent {\n\n  filters: AssignmentFilterItem[] = [\n    {\n      label: 'assignmentActionMenuFilterWorkUnit',\n      type: AssignmentType.WORK_UNIT,\n    },\n    {\n      label: 'assignmentActionMenuFilterAssignments',\n      type: AssignmentType.STANDARD_ASSIGNMENT,\n    },\n    {\n      label: 'assignmentActionMenuFilterWithoutAssessmentCriterias',\n      type: AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n    },\n  ];\n\n  assignmentsSort: AssignmentSortItem[] = [\n    {\n      by: 'assignment_type',\n      label: 'assignmentsActionMenuSortByTypeAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'assignment_created',\n      label: 'assignmentsActionMenuSortByCreationDateAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'assignment_created',\n      label: 'assignmentsActionMenuSortByCreationDateDesc',\n      order: Order.DESC,\n    },\n    {\n      by: 'assessment_last_changed',\n      label: 'assignmentsActionMenuSortByLastChanged',\n      order: Order.DESC,\n    },\n    {\n      by: 'assignment_title',\n      label: 'assignmentsActionMenuSortByNameAsc',\n      order: Order.ASC,\n    },\n  ];\n\n  constructor(protected AssignmentsService: AssignmentsService,\n              protected AssignmentsQuery: AssignmentsQuery,\n              protected NavigationHistory: any,\n              protected StudybeeHandle: any) {\n    'ngInject';\n\n  }\n\n  filter(assignmentFilterItem: AssignmentFilterItem) {\n    const stateUI = this.AssignmentsQuery.getValue().ui;\n    const filterType = assignmentFilterItem.state ? 'state' : 'type';\n    const currentFilters: any[] = stateUI.filters[filterType];\n    let filters: AssignmentsUI['filters'] = {\n      ...stateUI.filters,\n    };\n\n    if (currentFilters.includes(assignmentFilterItem[filterType])) {\n      filters = {\n        ...filters,\n        [filterType]: (filters[filterType] as any[]).filter(value => value !== assignmentFilterItem[filterType]),\n      };\n    } else {\n      filters = {\n        ...filters,\n        [filterType]: [...filters[filterType], assignmentFilterItem[filterType]],\n      };\n    }\n\n    this.AssignmentsService.setFilters(filters);\n  }\n\n  isFilterSelected(assignmentFilterItem: AssignmentFilterItem) {\n    const stateUI = this.AssignmentsQuery.getValue().ui;\n    const filterType = assignmentFilterItem.state ? 'state' : 'type';\n    const currentFilters: any[] = stateUI.filters[filterType];\n\n    return currentFilters.includes(assignmentFilterItem[filterType]);\n  }\n\n  sortAssignments(assignmentSortItem: AssignmentSortItem) {\n    const sort: AssignmentSort = {\n      by: assignmentSortItem.by,\n      order: assignmentSortItem.order,\n    };\n\n    this.AssignmentsService.setSorting(sort);\n  }\n\n  isAssignmentSortSelected(assignmentSortItem: AssignmentSortItem) {\n    const stateSortUI = this.AssignmentsQuery.getValue().ui.sort;\n\n    return stateSortUI.by === assignmentSortItem.by &&\n      stateSortUI.order === assignmentSortItem.order;\n  }\n}\n","import { IComponentController } from 'angular';\nimport { IAssignmentGroupedResponse } from '../../../shared/models/assignmentGroupedResponse.model';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport StudentAssignmentsModule from '../studentAssignments.module';\nimport style from './studentAssignmentsPublished.scss';\nimport template from './studentAssignmentsPublished.tpl.html';\n\n@Component({\n  module: StudentAssignmentsModule,\n  selector: 'student-assignments-published',\n  template: template,\n  style: style,\n})\nexport class StudentAssignmentsPublishedComponent implements IComponentController {\n  @Input()\n  public assignmentsGroup: IAssignmentGroupedResponse;\n\n  constructor() {\n    'ngInject';\n\n    this.assignmentsGroup = {\n      not_assessable: [],\n      assessable: [],\n    };\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport StudentAssignmentsModule from '../studentAssignments.module';\nimport style from './studentAssignmentsNotConfigured.scss';\nimport template from './studentAssignmentsNotConfigured.tpl.html';\n\n@Component({\n  module: StudentAssignmentsModule,\n  selector: 'student-assignments-not-configured',\n  template: template,\n  style: style,\n})\nexport class StudentAssignmentsNotConfiguredComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\nimport get from 'lodash.get';\nimport {GroupedVisibilityDialogType} from '../../../shared/enums/groupedVisibilityDialogType.enum.ts';\nimport {GroupedVisibilitySettings} from '../../../shared/models/groupedVisibilitySettings.model.ts';\nimport {ListViewType} from '../../../shared/enums/listViewType.enum';\nimport {AssessmentStatus} from '../../../../../../src/app/shared/models/assessment.model';\nimport {combineQueries} from \"@datorama/akita\";\nimport {filter, map, switchMap} from 'rxjs/operators';\nimport {noop, Subject} from \"rxjs\";\n\nconst SingleCheckbox = require('../../../utils/components/single_checkbox');\nconst AssignmentGroupCheckboxes = require('../../../utils/components/assignment_group_checkboxes');\n\n/**\n * @module TeacherAssessAssignment/Controller\n * @description\n *   Handle Assess Assignment feature for Teacher\n * @param {Object} $scope Angular $scope object\n * @param {Object} $stateParams Angular $stateParams object\n * @param {Object} $mdDialog Angular Material $mdDialog object\n * @param {Object} $mdToast Angular Material $mdToast object\n * @param {Object} Path Path service instance\n * @param {Object} FetchData Fetch Data service instance\n * @param {Object} Updates Updates service instance\n * @param {Object} Debounce Debounce service instance\n * @param {Object} Helpers Helpers service instance\n * @param {Object} LocalHelpers Local Helpers service instance\n * @param {Object} NavigationHistory Navigation History service instance\n * @param {Object} MainMenu Main Menu service instance\n * @param {Object} Mixpanel Mixpanel service instance\n * @param {Object} assignmentsObjectives Resolve from Config Service\n * @param {Object} assignmentsStudents Resolve from Config Service\n */\n\n/*@ngInject*/\nfunction MainCtrl(\n  $scope, $stateParams, $state, $mdDialog, $filter, $timeout, Path, FetchData, Updates, Debounce,\n  Helpers, TeacherAssessAssignmentService, NavigationHistory, MainMenu, Mixpanel,\n  assignmentsObjectives, assignmentsStudents, assignment, GroupedVisibilityService,\n  GroupedVisibilityDialogService, Students, ListViewMenuService, LocalStorageService,\n    AssessmentsService, AssignmentService, AssignmentsQuery, AssessmentsQuery, AssessmentVisibilityDialogService,\n    AssessmentsVisibilityDialogService, AssignmentsService,\n) {\n  const vm = this;\n\n  const courseId = Path.getClassroomId();\n  const storageViewMenuId = 'teacherAssessAssignment';\n\n  vm.unsubscribes = [];\n  vm.showLoading = FetchData.showLoading;\n  vm.savingInProgress = 0;\n  vm.savingIndicatorVisible = false;\n  vm.savingError = false;\n  vm.viewReady = true;\n  vm.storageKeyGradeDescription = `${storageViewMenuId}GradeDescriptionVisible`;\n  vm.isGradeDescriptionVisible = LocalStorageService.exists(vm.storageKeyGradeDescription);\n  vm.AssessmentsService = AssessmentsService;\n  vm.AssignmentListService = AssignmentService;\n  vm.navigationHistory = NavigationHistory;\n\n  // Set default values for Edit Multiple\n  vm.editMultiple = {\n    grade: 'not_changed',\n    visibility: 'not_changed',\n    open: false,\n  };\n  vm.statusMenuItems = [\n    {\n      status: AssessmentStatus.ASSESSMENT_DONE,\n      label: 'teacherAssignmentsAssessmentsStudentMenuAssessed',\n    },\n    {\n      status: AssessmentStatus.ASSESSING,\n      label: 'teacherAssignmentsAssessmentsStudentMenuAssessing',\n    },\n    {\n      status: AssessmentStatus.NOT_ASSESSED,\n      label: 'teacherAssignmentsAssessmentsStudentMenuNotAssessed',\n    },\n  ];\n\n  // array of opened students ids\n  // if state is restored this should contain IDs of students which were opened\n  vm.openedStudents = $stateParams.openedStudents;\n\n  // Get data from API\n  vm.assignmentTitle = assignmentsObjectives.title;\n  vm.gradeSystem = assignmentsObjectives.grade_system;\n  vm.coursesDefinitions = assignmentsObjectives.course_definitions;\n  vm.resultOnly = assignmentsObjectives.result_only;\n  vm.isConfigured = assignmentsObjectives.is_configured && assignmentsObjectives.course_definitions.length;\n  vm.isGradeDescriptionEnable = assignmentsObjectives.enable_grade_texts && !vm.gradeSystem.is_counter;\n  vm.students = assignmentsStudents;\n  vm.viewMenuItems = ListViewMenuService.getListViewMenu(storageViewMenuId);\n  vm.viewMode = vm.viewMenuItems.find(listViewMenuItem => listViewMenuItem.checked)\n    .eventArgs.view;\n\n  const assignment$ = combineQueries([\n    AssignmentsQuery.selectActive().pipe(filter(Boolean)),\n    AssessmentsQuery.selectAll({asObject: true})\n  ]).pipe(\n    map(([assignment, assessments]) => ({\n        ...assignment,\n        assessments: assignment.assessments.map(assessmentID => assessments[assessmentID]),\n      })\n    ))\n    .subscribe(assignment => {\n      vm.assignment = {...assignment};\n      vm.viewReady = false;\n\n      $timeout(() => {\n        vm.updateCourseDefinition();\n        vm.viewReady = true;\n      });\n    });\n\n  vm.debounceFinished$ = new Subject();\n  const debounceFinishedSub = vm.debounceFinished$.subscribe(assessmentID => {\n    vm.AssessmentsService.synchronizeWarningStatus({id: assessmentID}).subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n    });\n  });\n\n  vm.unsubscribes.push(() => assignment$.unsubscribe());\n  vm.unsubscribes.push(() => debounceFinishedSub.unsubscribe());\n\n  vm.assignment = assignment;\n\n  $scope.$on('$destroy', () => {\n    this.unsubscribes.forEach(unsubscribe => unsubscribe());\n  });\n  /**\n   * Send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} students Contains objects where each object represents single student\n   */\n  vm.changeObjectiveAssessments = function (students) {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData.putObjectiveAssessments(students).then((res) => {\n      vm.savingInProgress -= 1;\n      vm.updateObjectiveAssessmentsDates(res);\n    }, () => {\n      vm.savingInProgress -= 1;\n      vm.savingError = true;\n    })\n      .finally(() => students.forEach(student => vm.debounceFinished$.next(student.assessment)));\n  };\n\n  /**\n   * Send changes to API for Assignments Objectives\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} students Contains objects where each object represents single student\n   */\n  vm.changeAssignmentsObjectives = function (students) {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData.putAssignmentsObjectives(assignment.id, students).then((res) => {\n      vm.savingInProgress -= 1;\n      vm.updateAssignmentsObjectivesDates(res);\n    }, () => {\n      vm.savingInProgress -= 1;\n      vm.savingError = true;\n    })\n      .finally(() => students.forEach(student => vm.debounceFinished$.next(student.assessment)));\n  };\n\n  vm.editMultipleAssignmentState = () => {\n    AssessmentsVisibilityDialogService.open(vm.assignment.id).pipe(\n      switchMap(assignmentVisibility => {\n        return AssessmentsService.updateStatusForMany({\n          ...vm.assignment\n        }, assignmentVisibility).pipe(\n          map(() => assignmentVisibility.status)\n        );\n      }),\n    ).subscribe(status => {\n      if (status === AssessmentStatus.ASSESSMENT_DONE) {\n        $state.reload()\n      }\n    });\n  };\n\n  /**\n   * Debounce send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} students Contains objects where each object represents single student\n   */\n  vm.debounceObjectiveAssessments = Debounce((students) => {\n    vm.changeObjectiveAssessments(students);\n  }, 250);\n\n  /**\n   * Debounce send changes to API for Assignments Objectives\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} students Contains objects where each object represents single student\n   */\n  vm.debounceAssignmentsObjectives = Debounce((students) => {\n    vm.changeAssignmentsObjectives(students);\n  }, 250);\n\n  /**\n   * Choose send method\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} dataToSave Contains objects where each object represents single data to save\n   */\n  vm.matchEndpoint = function (dataToSave) {\n    if (vm.currentEditingMode === 'assessment' || vm.currentEditingMode === 'objectives_feedback' || vm.currentEditingMode === 'objectives_private_notes') {\n      vm.debounceObjectiveAssessments(dataToSave);\n    } else if (vm.currentEditingMode === 'results' || vm.currentEditingMode === 'overall_feedback' || vm.currentEditingMode === 'overall_private_notes') {\n      vm.debounceAssignmentsObjectives(dataToSave);\n    }\n  };\n\n  /**\n   * Update last modified dates for Objective Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} responseAssessmentsArray Response from the API, contains students information\n   */\n  vm.updateObjectiveAssessmentsDates = function (responseAssessmentsArray) {\n    responseAssessmentsArray.forEach((resAssessment) => {\n      vm.coursesDefinitions.forEach((courseDefinition) => {\n        courseDefinition.students.forEach((student) => {\n          student.objective_assessments.forEach((objectiveAssessment) => {\n            if (resAssessment.id !== objectiveAssessment.id) {\n              return;\n            }\n\n            objectiveAssessment.grade_last_edit = resAssessment.grade_last_edit;\n            objectiveAssessment.feedback_last_edit = resAssessment.feedback_last_edit;\n            objectiveAssessment.private_note_last_edit = resAssessment.private_note_last_edit;\n          });\n        });\n      });\n    });\n  };\n\n  /**\n   * Update last modified dates for Assignments Objectives\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} responseAssessmentsArray Response from the API, contains students information\n   */\n  vm.updateAssignmentsObjectivesDates = function (responseAssessmentsArray) {\n    responseAssessmentsArray.forEach((resAssessment) => {\n      vm.students.forEach((student) => {\n        if (resAssessment.id !== student.id) {\n          return;\n        }\n\n        student.result_last_edit = resAssessment.result_last_edit;\n        student.feedback_last_edit = resAssessment.feedback_last_edit;\n        student.private_note_last_edit = resAssessment.private_note_last_edit;\n      });\n    });\n  };\n\n  /**\n   * Init function\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.init = function () {\n    // Check if is modal\n    vm.isModal = $stateParams.isModal;\n\n    if (!vm.isConfigured) {\n      return;\n    }\n\n    // Generate structure for coursesDefinitions\n    vm.generateStructure();\n\n    // Fetch objectives for each student and push them to coursesDefinitions\n    // vm.fetchingObjectives();\n\n    // Set default values\n    if ($stateParams.editingMode) {\n      vm.editingMode = $stateParams.editingMode;\n      vm.currentEditingMode = vm.editingMode;\n    } else if (vm.resultOnly) {\n      vm.editingMode = 'results';\n      vm.currentEditingMode = 'results';\n    } else {\n      vm.editingMode = 'assessment';\n      vm.currentEditingMode = 'assessment';\n    }\n\n    vm.selectedCourseDefinition = vm.getLastSelectedCourseDefinition();\n    vm.openStudentsDetailsInCourse(vm.selectedCourseDefinition);\n    vm.setTextForGradeSystem();\n  };\n\n  vm.setTextForGradeSystem = () => {\n    vm.gradeSystem.grades.forEach((grade) => {\n      const defaultGradeTexts = [{grade_id: grade.id, text: ''}];\n      grade.text = get(vm, 'selectedCourseDefinition.objectives[0].grade_texts', defaultGradeTexts)\n        .find(gradeText => gradeText.grade_id === grade.id).text;\n    });\n  };\n\n  vm.getGradeText = (grade, objective, courseDefinition) => {\n    const defaultGradeTexts = [{grade_id: grade.id, text: ''}];\n    const currentObjective = courseDefinition.objectives\n      .find(_objective => _objective.id === objective.objective);\n\n    return get(currentObjective, 'grade_texts', defaultGradeTexts)\n      .find(gradeText => gradeText.grade_id === grade.id).text;\n  };\n\n  vm.getLastSelectedCourseDefinition = () => {\n    let courseDefinition;\n\n    if ($stateParams.courseDefinitionId) {\n      courseDefinition = vm.coursesDefinitions\n        .find(item => item.id === $stateParams.courseDefinitionId);\n    }\n\n    return courseDefinition || vm.coursesDefinitions[0];\n  };\n\n  /**\n   * Go to previous history entry\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.historyBack = function () {\n    if (vm.historyBackClicked) {\n      return;\n    }\n\n    vm.historyBackClicked = true;\n\n    // Clear assignments details\n    MainMenu.saveAssignmentDetails(null);\n\n    NavigationHistory.back();\n  };\n\n  /**\n   * Expands or collapses student entry\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Object} student Student object\n   */\n  vm.toggleStudent = function (student) {\n    const id = student.id;\n    const index = vm.openedStudents.indexOf(id);\n    student.open = !student.open;\n\n    if (student.open) {\n      if (index === -1) {\n        vm.openedStudents.push(id);\n      }\n    } else if (index !== -1) {\n      vm.openedStudents.splice(index, 1);\n    }\n\n    NavigationHistory.updateParams({openedStudents: vm.openedStudents});\n  };\n\n  vm.assignmentCourseChanged = (selectedCourseDefinition = vm.selectedCourseDefinition) => {\n    vm.setTextForGradeSystem();\n    vm.openStudentsDetailsInCourse(selectedCourseDefinition);\n    NavigationHistory.updateParams({courseDefinitionId: selectedCourseDefinition.id});\n    $state.go('.', {courseDefinitionId: selectedCourseDefinition.id});\n  };\n\n  vm.openStudentsDetailsInCourse = (courseDefinition) => {\n    courseDefinition.students.forEach((student) => {\n      student.open = vm.openedStudents.includes(student.id);\n    });\n  };\n\n  /**\n   * Generate structure for vm.coursesDefinitions\n   */\n  vm.generateStructure = function () {\n    vm.coursesDefinitions = vm.coursesDefinitions.filter(courseDefinitionElem => courseDefinitionElem.objectives.length);\n\n    vm.coursesDefinitions.forEach((courseDefinitionElem) => {\n      courseDefinitionElem.students = [];\n\n        vm.students.forEach((courseDefinitionStudentElem) => {\n        const assessment = vm.assignment.assessments.find(assessment => assessment.student_id === courseDefinitionStudentElem.student_id) || {};\n        const student = {\n          id: courseDefinitionStudentElem.student_id,\n          full_name: courseDefinitionStudentElem.student_name,\n          fetching_objectives: true,\n          objective_assessments: [],\n          open: vm.openedStudents.includes(courseDefinitionStudentElem.student_id),\n          status: assessment.status_new || courseDefinitionStudentElem.new_status,\n          warning: assessment.fail_warning,\n        };\n\n        courseDefinitionElem.students.push(student);\n      });\n    });\n  };\n\n  vm.updateCourseDefinition = () => {\n    vm.coursesDefinitions = vm.coursesDefinitions.map(courseDefinition => {\n      const students = courseDefinition.students.map(student => {\n       const assessment = vm.assignment.assessments.find(assessment => assessment.student_id === student.id);\n\n       return {\n         ...student,\n         status: assessment.status_new,\n         warning: assessment.fail_warning,\n       }\n      });\n\n      return {\n        ...courseDefinition,\n        students,\n      }\n    });\n  };\n\n  vm.changeAssessmentStatus = (studentId, status) => {\n    const assessment = vm.assignment.assessments.find(assessment => assessment.student_id === studentId);\n    let updateStatus$;\n    if (status === AssessmentStatus.ASSESSMENT_DONE) {\n      updateStatus$ = AssessmentVisibilityDialogService.open(vm.assignment.id).pipe(\n        switchMap(assessmentVisibilityDialog => {\n          const statusUpdateBody = {\n            ...assessmentVisibilityDialog,\n            status,\n          };\n          return AssessmentsService.updateStatus(vm.assignment.id, assessment, statusUpdateBody);\n        })\n      )\n    } else {\n      updateStatus$ = AssessmentsService.updateStatus(vm.assignment.id, assessment, {status});\n    }\n\n    updateStatus$.subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n      if (status === AssessmentStatus.ASSESSMENT_DONE) {\n        $state.reload();\n      }\n    });\n  };\n\n  /**\n   * Fetch objectives for each student and push them to coursesDefinitions\n   */\n  vm.fetchingObjectives = function () {\n    vm.students.forEach((studentElem) => {\n      FetchData.v2.getObjectiveAssessments(assignment.id, studentElem.student_id).then((res) => {\n        vm.coursesDefinitions.forEach((courseDefinitionElem) => {\n          courseDefinitionElem.students.forEach((courseDefinitionStudentElem) => {\n            if (studentElem.student_id !== courseDefinitionStudentElem.id) {\n              return;\n            }\n\n            res.forEach((objectiveElem) => {\n              courseDefinitionElem.objectives.forEach((courseDefinitionObjectiveElem) => {\n                if (objectiveElem.objective !== courseDefinitionObjectiveElem.id) {\n                  return;\n                }\n\n                const objective = Object.assign({}, objectiveElem, {\n                  objective_name: courseDefinitionObjectiveElem.name,\n                  description: courseDefinitionObjectiveElem.description,\n                });\n\n                courseDefinitionStudentElem.objective_assessments.push(objective);\n              });\n            });\n\n            courseDefinitionStudentElem.fetching_objectives = false;\n          });\n        });\n      });\n    });\n  };\n\n  /**\n   * Select student by clicking on student name\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Number} studentId Student ID of clicked student\n   */\n  vm.clickStudent = function (studentId) {\n    const params = {studentId, assignment, courseDefinitionId: vm.selectedCourseDefinition.id};\n    NavigationHistory.go('teacher_assess_assignment_student', params);\n  };\n\n  /**\n   * Load view chosen in currentEditingMode select\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.loadView = function () {\n    vm.currentEditingMode = vm.editingMode;\n\n    vm.checkIfAnyCheckboxIsChecked();\n  };\n\n  /**\n   * Check if there is any checkbox selected for Edit Multiple\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.checkIfAnyCheckboxIsChecked = function () {\n    let anyCheckboxesChecked = false;\n\n    const objectiveNormalEditing = ['assessment', 'objectives_feedback', 'objectives_private_notes'];\n    const courseNormalEditing = ['results', 'overall_feedback', 'overall_private_notes'];\n\n    if (Helpers.checkIfModeAvailable(vm.currentEditingMode, objectiveNormalEditing)) {\n      anyCheckboxesChecked = vm.assignmentCheckboxesCheckIfAny(vm.coursesDefinitions);\n    } else if (Helpers.checkIfModeAvailable(vm.currentEditingMode, courseNormalEditing)) {\n      anyCheckboxesChecked = vm.checkboxCheckIfAny(vm.students);\n    }\n\n    if (anyCheckboxesChecked) {\n      vm.editMultiple.anyCheckboxChecked = true;\n    } else {\n      vm.editMultiple.anyCheckboxChecked = false;\n    }\n  };\n\n  /**\n   * Check if there is any changes to save in Edit Multiple\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.checkEditMultiple = function () {\n    let mode;\n    let changesToSave = false;\n\n    const visibilityNormalEditing = ['assessment', 'objectives_feedback', 'results', 'overall_feedback'];\n    const gradeNormalEditing = ['assessment'];\n    const textNormalEditing = [\n      'results', 'objectives_feedback', 'objectives_private_notes', 'overall_feedback', 'overall_private_notes',\n    ];\n\n    mode = vm.editMultiple;\n\n    if (Helpers.isVisibilityChanges(mode.visibility, vm.currentEditingMode, visibilityNormalEditing) ||\n      Helpers.isGradeChanges(mode.grade, vm.currentEditingMode, gradeNormalEditing) ||\n      Helpers.isTextChanges(mode.textField, vm.currentEditingMode, textNormalEditing)) {\n      changesToSave = true;\n    }\n\n    if (changesToSave === true) {\n      mode.changesToSave = true;\n    } else {\n      mode.changesToSave = false;\n    }\n  };\n\n  /**\n   * Save changes for Edit Multiple\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.saveEditMultiple = function () {\n    const selectedItems = TeacherAssessAssignmentService\n      .findSelectedItems(vm.currentEditingMode, vm.coursesDefinitions, vm.students);\n\n    vm.changeMultipleTexts(selectedItems);\n    vm.changeMultipleGrades(selectedItems);\n    vm.changeMultipleVisible(selectedItems);\n\n    vm.matchEndpoint(selectedItems);\n\n    vm.clearEditMultiple();\n\n    vm.updateLastEditTimestampForAssignment();\n\n    if (vm.currentEditingMode === 'objectives_feedback') {\n      Mixpanel.track('feedback_to_student_with_multiedit');\n    }\n  };\n\n  /**\n   * Set defaults values for Edit Multiple and clear changesToSave flag to false\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.clearEditMultiple = function () {\n    vm.editMultiple.grade = 'not_changed';\n    vm.editMultiple.visibility = 'not_changed';\n    vm.editMultiple.textMode = 'new_text';\n    vm.editMultiple.textField = '';\n    vm.editMultiple.changesToSave = false;\n  };\n\n  /**\n   * Close Edit Multiple\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.closeEditMultiple = function () {\n    vm.editMultiple.open = false;\n  };\n\n  /**\n   * Handle changing text of single item\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleText = function (savingMethod, savingItem, eventCode) {\n    Helpers.changeSingleText(savingMethod, savingItem, eventCode);\n    vm.updateLastEditTimestampForAssignment();\n  };\n\n  /**\n   * Handle changing visible of single item\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {Object} editingItem Object that will be editing\n   * @param {String} editingProperty Property that will be editing\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleVisible = function (savingMethod, savingItem, editingItem, editingProperty, eventCode) {\n    Helpers.changeSingleVisible(savingMethod, savingItem, editingItem, editingProperty, eventCode);\n    vm.updateLastEditTimestampForAssignment();\n  };\n\n  /**\n   * Handle changing grade of single item\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleGrade = function (savingMethod, savingItem, eventCode) {\n    Helpers.changeSingleGrade(savingMethod, savingItem, eventCode);\n    vm.updateLastEditTimestampForAssignment();\n  };\n\n  /**\n   * Handle changing text of multiple items\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleTexts = function (selectedItems) {\n    let textProperty;\n    let textMode;\n    let textField;\n    let pass;\n    const normalEditing = [\n      'objectives_feedback', 'objectives_private_notes', 'results', 'overall_feedback', 'overall_private_notes',\n    ];\n\n    if (!vm.editMultiple.textField) {\n      return;\n    }\n\n    pass = Helpers.checkIfModeAvailable(vm.currentEditingMode, normalEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    textMode = vm.editMultiple.textMode;\n    textField = vm.editMultiple.textField;\n\n    textProperty = TeacherAssessAssignmentService.findTextPropoerty(vm.currentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      const oldValue = itemElem[textProperty];\n      if (textMode === 'new_text') {\n        itemElem[textProperty] = textField;\n      } else if (textMode === 'append_text_first') {\n        itemElem[textProperty] = `${textField} ${oldValue}`;\n      } else if (textMode === 'append_text_last') {\n        itemElem[textProperty] = `${oldValue} ${textField}`;\n      }\n    });\n  };\n\n  /**\n   * Handle changing visible of multiple items\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleVisible = function (selectedItems) {\n    const normalEditing = ['assessment', 'objectives_feedback', 'result', 'overall_feedback'];\n\n    if (vm.editMultiple.visibility === 'not_changed') {\n      return;\n    }\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentEditingMode, normalEditing);\n\n    if (!pass) {\n      return;\n    }\n\n\n    const visibilityMode = vm.editMultiple.visibility;\n\n    const visibilityProperty = TeacherAssessAssignmentService\n      .findVisibilityPropoerty(vm.currentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      if (visibilityMode === 'set_visible') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = true;\n      } else if (visibilityMode === 'set_hidden') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = false;\n      }\n    });\n  };\n\n  /**\n   * Handle changing grades of multiple items\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleGrades = function (selectedItems) {\n    let grade;\n    let pass;\n    const normalEditing = ['assessment'];\n\n    if (vm.editMultiple.grade === 'not_changed') {\n      return;\n    }\n\n    pass = Helpers.checkIfModeAvailable(vm.currentEditingMode, normalEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    grade = vm.editMultiple.grade;\n\n    selectedItems.forEach((itemElem) => {\n      if (itemElem.grade_system_is_counter) {\n        return;\n      }\n\n      itemElem.grade_name = grade;\n    });\n  };\n\n  /**\n   * Handle changes dialog\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {String} triggerType Trigger type (changeEditingMode, cancelEditingMode, selectStudent,\n   *   clickStudentInClassroom)\n   * @param {Number} studentId Student ID of clicked student\n   */\n  // TODO Since we are not using a dialog anymore we should rename this function.\n  vm.showChangesDialog = function (triggerType, studentId) {\n    // Without changes\n      if (triggerType === 'changeEditingMode') {\n        NavigationHistory.updateParams({editingMode: vm.editingMode});\n        vm.loadView();\n      }\n      if (triggerType === 'cancelEditingMode') {\n        vm.closeEditMultiple();\n      }\n      if (triggerType === 'selectStudent') {\n        vm.clickStudent(studentId);\n      }\n      if (triggerType === 'clickStudentInClassroom') {\n        NavigationHistory.go('teacher_assess_assignment_student', {studentId, assignment});\n      }\n    vm.clearEditMultiple();\n      return;\n  };\n\n  /**\n   * Open action menu\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Object} $mdOpenMenu Angular Material $mdOpenMenu object\n   * @param {Object} e Event object\n   */\n  vm.openActionMenu = function ($mdOpenMenu, e) {\n    $mdOpenMenu(e);\n  };\n\n  /**\n   * Edit scales and objectives option\n   * @memberof module:TeacherAssessAssignment/Controller\n   */\n  vm.editScalesAndObjectivesOption = function (firstTime = false) {\n    NavigationHistory.go('teacher_set_assignment_objectives', {assignment, firstTime});\n  };\n\n  vm.setVisibility = () => {\n    const groupedVisibilitySettings =\n      new GroupedVisibilitySettings(GroupedVisibilityDialogType.AssignmentView);\n\n    groupedVisibilitySettings.courseDefinitions = [...vm.coursesDefinitions];\n\n    groupedVisibilitySettings.students = groupedVisibilitySettings.courseDefinitions\n      .map(courseDefinition => [...(courseDefinition.students || [])])\n      .flat()\n      .reduce((acc, student) =>\n          (acc.some(_student => _student.id === student.id) ? acc : [...acc, student]),\n        [])\n      .map(student => ({...student, student_name: student.full_name}));\n\n    groupedVisibilitySettings.type = groupedVisibilitySettings.students.length > 1 ?\n      GroupedVisibilityDialogType.AssignmentView :\n      GroupedVisibilityDialogType.AssignmentStudentView;\n\n    GroupedVisibilityDialogService.show(groupedVisibilitySettings).then((groupedVisibility) => {\n      GroupedVisibilityService.patchAssignmentAssessmentsGroupedVisibility(groupedVisibility)\n        .then(() => $state.reload());\n    });\n  };\n\n  vm.onClickMenuItem = (toolbarMenuItem) => {\n    vm.viewMenuItems.forEach((menuItem) => {\n      Object.assign(menuItem, {checked: false});\n    });\n    Object.assign(toolbarMenuItem, {checked: true});\n    ListViewMenuService.saveListViewMenu(storageViewMenuId, vm.viewMenuItems);\n    vm.viewMode = toolbarMenuItem.eventArgs.view;\n  };\n\n  vm.isTitleVisible = (title) =>\n    vm.viewMode !== ListViewType.DESCRIPTION_ONLY && `${title}`.trim().length;\n\n  vm.isDescriptionVisible = (description) =>\n    vm.viewMode !== ListViewType.TITLE_ONLY && `${$filter('getFormattedOrEmpty')(description)}`.trim().length;\n\n  // Listen on Clicked Student in Classroom event (trigger when user click on student link in classroom)\n  // and redirect to students details for clicked student.\n  // Use debounce because clickedStudentInClassroom is trigger twice from unknown reason.\n  $scope.$on('clickedStudentInClassroom', Debounce((e, studentName) => {\n    let studentId = Helpers.findStudentIdByName(vm.students, studentName);\n\n    if (!studentId) {\n      Updates.updateStudents(courseId, true).then((res) => {\n        studentId = Helpers.findStudentIdByName(res, studentName);\n        vm.showChangesDialog('clickStudentInClassroom', studentId);\n      });\n    } else {\n      vm.showChangesDialog('clickStudentInClassroom', studentId);\n    }\n  }, 250));\n\n  vm.updateDescription = (grade, objective, courseDefinition) => {\n    $timeout(() => {\n      if (grade) {\n        objective.gradeText = vm.getGradeText(grade, objective, courseDefinition);\n      } else {\n        objective.gradeText = '';\n      }\n    });\n  };\n\n  vm.getGradeDescription = (objective, courseDefinition) => {\n    const selectedGrade = {text: ''};\n    const currentObjective = courseDefinition.objectives\n      .find(_objective => _objective.id === objective.objective);\n\n    if (currentObjective) {\n      Object.assign(selectedGrade, currentObjective.grade_texts\n        .find(grade => grade.grade_id === objective.grade_id));\n    }\n\n\n    return selectedGrade.text;\n  };\n\n  vm.showGradeDescription = () => {\n    vm.isGradeDescriptionVisible = true;\n    LocalStorageService.set(vm.storageKeyGradeDescription, 'true');\n  };\n\n  vm.hideGradeDescription = () => {\n    vm.isGradeDescriptionVisible = false;\n    LocalStorageService.remove(vm.storageKeyGradeDescription);\n  };\n\n  vm.isGradeTextVisible = objective => {\n    return vm.isGradeDescriptionEnable && vm.isGradeDescriptionVisible && !vm.gradeSystem.is_counter && objective.gradeText;\n  };\n\n  vm.updateLastEditTimestampForAssignment = (id = vm.assignment.id) => {\n    AssignmentsService.update({id});\n  };\n\n  vm.init();\n}\n\nMainCtrl.prototype = Object.assign(MainCtrl.prototype, AssignmentGroupCheckboxes.prototype, SingleCheckbox.prototype);\n\nmodule.exports = MainCtrl;\n","/**\n * Represents a SingleCheckbox.\n * @constructor\n */\nfunction SingleCheckbox() {}\n\n/**\n * Handle click on single checkbox - at the end function trigger checkboxCheckAll\n * @param {Object} singleItem Single item\n * @param {Object} group Single group\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nSingleCheckbox.prototype.checkboxSingle = function(singleItem, group, editMultiple) {\n  singleItem.checked = !singleItem.checked;\n\n  this.checkboxCheckAll(group, editMultiple);\n};\n\n/**\n * Handle click on all checkbox which check or uncheck all checkboxes\n * @param {Array} group Single group\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nSingleCheckbox.prototype.checkboxAll = function(group, editMultiple) {\n  editMultiple.checkboxChecked = !editMultiple.checkboxChecked;\n\n  if (editMultiple.checkboxChecked) {\n    group.forEach(function(student) {\n      student.checked = true;\n    });\n  } else {\n    group.forEach(function(student) {\n      student.checked = false;\n    });\n  }\n};\n\n/**\n * Check if all checkboxes are checked or unchecked\n * @param {Array} group Single group\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nSingleCheckbox.prototype.checkboxCheckAll = function(group, editMultiple) {\n  var allCheckboxChecked = group.every(function (elem, i, arr) {\n    return elem.checked;\n  });\n\n  if (allCheckboxChecked) {\n    editMultiple.checkboxChecked = true;\n  } else {\n    editMultiple.checkboxChecked = false;\n  }\n};\n\n/**\n * Check if any checkboxes are checked\n * @param {Array} group Single group\n */\nSingleCheckbox.prototype.checkboxCheckIfAny = function(group) {\n  var anyCheckboxChecked = false;\n\n  anyCheckboxChecked = group.some(function(student) {\n    return student.checked === true;\n  });\n\n  return anyCheckboxChecked;\n};\n\n/**\n * Clear all checkboxes\n * @param {Array} group Single group\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nSingleCheckbox.prototype.clearCheckbox = function(group, editMultiple) {\n  editMultiple.checkboxChecked = false;\n\n  group.forEach(function(student) {\n    student.checked = false;\n  });\n};\n\nmodule.exports = SingleCheckbox;\n","/**\n * Represents a GroupCheckboxes.\n * @constructor\n */\n\nfunction AssignmentGroupCheckboxes() {}\n/**\n * Handle click on single checkbox - at the end function trigger checkboxesCheckAll\n * @param {Object} singleItem Single item\n * @param {Array} itemsInGroup List of all items in group\n * @param {Object} group Single group\n * @param {Array} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentGroupCheckboxes.prototype.assignmentCheckboxesSingle = function(singleItem, itemsInGroup, group, allGroups, editMultiple) {\n  singleItem.checked = !singleItem.checked;\n\n  var groupCheckboxChecked = itemsInGroup.every(function(elem, i, arr) {\n    return elem.checked;\n  });\n\n  if (groupCheckboxChecked) {\n    group.checked = true;\n  } else {\n    group.checked = false;\n  }\n\n  this.assignmentCheckboxesCheckAll(allGroups, editMultiple);\n};\n\n/**\n * Handle click on group checkbox - at the end function trigger checkboxesCheckAll\n * @param {Array} itemsInGroup List of all items in group\n * @param {Object} group Single group\n * @param {Array} allGroups List of all groups\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n */\nAssignmentGroupCheckboxes.prototype.assignmentCheckboxesGroup = function(itemsInGroup, group, allGroups, editMultiple) {\n  group.checked = !group.checked;\n\n  if (group.checked) {\n    itemsInGroup.forEach(function(elem) {\n      elem.checked = true;\n    });\n  } else {\n    itemsInGroup.forEach(function(elem) {\n      elem.checked = false;\n    });\n  }\n\n  this.assignmentCheckboxesCheckAll(allGroups, editMultiple);\n};\n\n/**\n * Handle click on all checkbox which check or uncheck all checkboxes\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n * @param {Array} allGroups List of all groups\n */\nAssignmentGroupCheckboxes.prototype.assignmentCheckboxesAll = function(editMultiple, allGroups) {\n  editMultiple.checkboxesChecked = !editMultiple.checkboxesChecked;\n\n  if (editMultiple.checkboxesChecked) {\n    allGroups.forEach(function(courseDefinition) {\n      courseDefinition.students.forEach(function(student) {\n        student.checked = true;\n        student.objective_assessments.forEach(function(objective) {\n          objective.checked = true;\n        });\n      });\n    });\n  } else {\n    allGroups.forEach(function(courseDefinition) {\n      courseDefinition.students.forEach(function(student) {\n        student.checked = false;\n        student.objective_assessments.forEach(function(objective) {\n          objective.checked = false;\n        });\n      });\n    });\n  }\n};\n\n/**\n * Check if all checkboxes are checked or unchecked\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n * @param {Array} allGroups List of all groups\n */\nAssignmentGroupCheckboxes.prototype.assignmentCheckboxesCheckAll = function(allGroups, editMultiple) {\n  var allCheckboxChecked = true;\n\n  allGroups.forEach(function(courseDefinition) {\n    courseDefinition.students.forEach(function(student) {\n      if (!student.checked) {\n        allCheckboxChecked = false;\n      }\n    });\n  });\n\n  if (allCheckboxChecked) {\n    editMultiple.checkboxesChecked = true;\n  } else {\n    editMultiple.checkboxesChecked = false;\n  }\n};\n\n/**\n * Check if any checkboxes are checked\n * @param {Array} allGroups List of all groups\n */\nAssignmentGroupCheckboxes.prototype.assignmentCheckboxesCheckIfAny = function(allGroups) {\n  var anyCheckboxChecked = false;\n\n  for (var i = 0; i < allGroups.length; i++) {\n    for (var j = 0; j < allGroups[i].students.length; j++) {\n      anyCheckboxChecked = allGroups[i].students[j].objective_assessments.some(function(objective) {\n        return objective.checked === true;\n      });\n      if (anyCheckboxChecked) { break; }\n    }\n    if (anyCheckboxChecked) { break; }\n  }\n\n  return anyCheckboxChecked;\n};\n\n/**\n * Clear all checkboxes\n * @param {Object} editMultiple Object which keep information about Edit Multiple\n * @param {Array} allGroups List of all groups\n */\nAssignmentGroupCheckboxes.prototype.assignmentClearCheckboxes = function(editMultiple, allGroups) {\n  editMultiple.checkboxesChecked = false;\n\n  allGroups.forEach(function(courseDefinition) {\n    courseDefinition.students.forEach(function(student) {\n      student.checked = false;\n      student.objective_assessments.forEach(function(objective) {\n        objective.checked = false;\n      });\n    });\n  });\n};\n\nmodule.exports = AssignmentGroupCheckboxes;\n","import { Service } from '../../utils/decorators/service.decorator';\nimport TeacherAssessAssignmentModule from './teacherAssessAssignment.module';\n\n@Service({\n  module: TeacherAssessAssignmentModule,\n  name: 'TeacherAssessAssignmentService',\n})\nexport class TeacherAssessAssignmentService {\n  constructor() {\n    'ngInject';\n  }\n\n  public findVisibilityPropoerty(currentEditingMode: string = ''): string {\n    const map = {\n      assessment: 'grade_published',\n      objectives_feedback: 'feedback_published',\n      results: 'result_published',\n      overall_feedback: 'feedback_published',\n    };\n\n    return map[currentEditingMode];\n  }\n\n  public findTextPropoerty(currentEditingMode: string = ''): string {\n    const map: { [prop: string]: string } = {\n      objectives_feedback: 'feedback',\n      overall_feedback: 'feedback',\n      objectives_private_notes: 'private_note',\n      results: 'result',\n      overall_private_notes: 'private_note',\n    };\n\n    return map[currentEditingMode];\n  }\n\n  public findSelectedItems(currentEditingMode: string, coursesDefinitions: any[], students: any[]): any[] {\n    if (['assessment', 'objectives_feedback', 'objectives_private_notes'].includes(currentEditingMode)) {\n      return coursesDefinitions.reduce((accCoursesDefinitions, courseElem): any[] => [\n        ...accCoursesDefinitions,\n        ...courseElem.students.reduce((accStudents, studentElem): any[] => [\n          ...accStudents,\n          ...studentElem.objective_assessments\n            .filter((objectiveElem): boolean => objectiveElem.checked),\n        ], []),\n      ], []);\n    } else if (['results', 'overall_feedback', 'overall_private_notes'].includes(currentEditingMode)) {\n      return students.filter((studentElem): boolean => studentElem.checked);\n    }\n\n    return [];\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport { ListViewType } from '../../../shared/enums/listViewType.enum';\nimport get from 'lodash.get';\nimport { AssessmentStatus } from '../../../../../../src/app/shared/models/assessment.model';\nimport {combineQueries} from \"@datorama/akita\";\nimport {filter, map, switchMap} from \"rxjs/operators\";\nimport {Subject} from \"rxjs\";\n\nconst AssignmentSingleCheckboxes = require('../../../utils/components/assignment_single_checkbox');\n\n/**\n * @module TeacherAssessAssignmentDrive/Controller\n * @description\n *   Handle Assess Assignment Student feature for Teacher\n * @param {Object} $stateParams Angular $stateParams object\n * @param {Object} $mdDialog Angular Material $mdDialog object\n * @param {Object} Path Path service instance\n * @param {Object} FetchData Fetch Data service instance\n * @param {Object} Debounce Debounce service instance\n * @param {Object} Helpers Helpers service instance\n * @param {Object} TeacherAssessAssignmentDriveService Local Helpers service instance\n * @param {Object} NavigationHistory Navigation History service instance\n * @param {Object} Mixpanel Mixpanel service instance\n * @param {Object} studentAssignments Resolve from Config\n */\n\n/*@ngInject*/\nfunction MainCtrl(\n  $scope, $stateParams, $mdDialog, $filter, $state, $timeout, Path, FetchData, Debounce, Helpers,\n  TeacherAssessAssignmentDriveService, NavigationHistory, Mixpanel, studentAssignments,\n  ListViewMenuService, LocalStorageService, $sce, $compile, AssessmentsService, assignments, assignment,\n  AssignmentsService, AssignmentsQuery, AssignmentService, AssessmentsQuery, AssessmentVisibilityDialogService,\n  AssignmentsStore\n) {\n  const vm = this;\n  const DEBOUNCE_TIME = 250;\n  const DIALOG_QUERY = '[md-component-id=\"studybee\"]';\n  const storageViewMenuId = 'teacherAssessAssignmentDrive';\n  let fileId = null;\n\n  Path.getFileId().then(id => fileId = id);\n\n  vm.AssessmentsService = AssessmentsService;\n  vm.showLoading = FetchData.showLoading;\n  vm.savingInProgress = 0;\n  vm.savingIndicatorVisible = false;\n  vm.savingError = false;\n  vm.viewMenuItems = ListViewMenuService.getListViewMenu(storageViewMenuId);\n  vm.viewMode = vm.viewMenuItems.find(listViewMenuItem => listViewMenuItem.checked)\n    .eventArgs.view;\n  vm.storageKeyGradeDescription = `${storageViewMenuId}GradeDescriptionVisible`;\n  vm.isGradeDescriptionVisible = LocalStorageService.exists(vm.storageKeyGradeDescription);\n  vm.isGradeDescriptionEnable = studentAssignments[0].enable_grade_texts && !studentAssignments[0].grade_system.is_counter;\n  vm.assignment = assignment;\n  vm.selectedStatus = vm.assignment.assessments.find(assessment => assessment.student_id === +studentAssignments[0].student_id).status_new;\n\n  vm.subscriptions = [];\n  vm.subscriptions.push(combineQueries([\n    AssignmentsQuery.selectActive().pipe(filter(Boolean)),\n    AssessmentsQuery.selectAll({asObject: true})\n  ]).pipe(\n    map(([assignment, assessments]) => ({\n        ...assignment,\n        assessments: assignment.assessments.map(assessmentID => assessments[assessmentID]),\n      })\n    ),\n  ).subscribe(assignment => {\n    const studentID = +studentAssignments[0].student_id;\n    vm.assignment = assignment || $stateParams.assignment;\n    vm.assessment = vm.assignment.assessments.find(assessment => assessment.student_id === studentID);\n    vm.selectedStatus = vm.assessment.status_new;\n  }));\n\n  vm.debounceFinished$ = new Subject();\n  vm.subscriptions.push(vm.debounceFinished$.subscribe(() => {\n    vm.AssessmentsService.synchronizeWarningStatus(vm.assessment).subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n    });\n  }));\n\n  $scope.$on('$destroy', () => {\n    vm.subscriptions.forEach(subscription => subscription.unsubscribe());\n  });\n\n  // Set default values for Student Edit Multiple\n  vm.studentEditMultiple = {\n    grade: 'not_changed',\n    visibility: 'not_changed',\n    open: false,\n  };\n\n  vm.statusChange = (status) => {\n    const assessment = vm.assignment.assessments.find(assessment => assessment.student_id === +studentAssignments[0].student_id);\n    let updateStatus$;\n\n    if (status === AssessmentStatus.ASSESSMENT_DONE) {\n      vm.selectedStatus = null;\n      setTimeout(() => {\n        vm.selectedStatus = assessment.status_new;\n      });\n      updateStatus$ = AssessmentVisibilityDialogService.open(vm.assignment.id).pipe(\n        switchMap(assessmentVisibilityDialog => {\n          const statusUpdateBody = {\n            ...assessmentVisibilityDialog,\n            status,\n          };\n          return AssessmentsService.updateStatus(vm.assignment.id, assessment, statusUpdateBody);\n        })\n      )\n    } else {\n      updateStatus$ = AssessmentsService.updateStatus(vm.assignment.id, assessment, {status});\n    }\n\n    updateStatus$.subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n      if (status === AssessmentStatus.ASSESSMENT_DONE) {\n        $state.transitionTo($state.current, NavigationHistory.getCurrentParams(), {\n          reload: true, inherit: false, notify: false\n        });\n      }\n    });\n  };\n\n  // Get data from API\n  vm.studentAssignments = studentAssignments;\n\n  /**\n   * Send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.changeObjectiveAssessments = (objectiveAssessments) => {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData\n      .putObjectiveAssessments(objectiveAssessments)\n      .then(\n        (res) => {\n          vm.savingInProgress -= 1;\n          vm.updateObjectiveAssessmentsDates(res);\n        },\n        () => {\n          vm.savingInProgress -= 1;\n        },\n      )\n      .finally(() => vm.debounceFinished$.next());\n  };\n\n  /**\n   * Send changes to API for Assignments Objectives\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} assignmentAssessments Contains objects where each object represents assignment\n   * asssessments\n   */\n  vm.changeAssignmentAssessments = (assignmentAssessments) => {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData\n      .putObjectiveAssessmentsDrive(fileId, assignmentAssessments)\n      .then(\n        (res) => {\n          vm.savingInProgress -= 1;\n          vm.updateAssignmentAssessmentsDates(res);\n        },\n        () => {\n          vm.savingInProgress -= 1;\n          vm.savingError = true;\n        },\n      )\n      .finally(() => vm.debounceFinished$.next());\n  };\n\n  /**\n   * Debounce send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.debounceObjectiveAssessments = Debounce((students) => {\n    vm.changeObjectiveAssessments(students);\n  }, DEBOUNCE_TIME);\n\n  /**\n   * Debounce send changes to API for Assignments Objectives\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} assignmentAssessments Contains objects where each object represents assignment\n   * asssessments\n   */\n  vm.debounceAssignmentsObjectives = Debounce((assignmentAssessments) => {\n    vm.changeAssignmentAssessments(assignmentAssessments);\n  }, DEBOUNCE_TIME);\n\n  /**\n   * Choose send method\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.matchEndpoint = (objectiveAssessments) => {\n    vm.debounceObjectiveAssessments(objectiveAssessments);\n  };\n\n\n  /**\n   * Update last modified dates for Objective Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} responseObjectiveAssessmentsArray Response from the API, contains students\n   * information\n   */\n  vm.updateObjectiveAssessmentsDates = (responseObjectiveAssessmentsArray) => {\n    responseObjectiveAssessmentsArray.forEach((resObjectiveAssessment) => {\n      vm.selectedAssignment.course_definitions.forEach((courseDefinition) => {\n        courseDefinition.objectives.forEach((objective) => {\n          if (resObjectiveAssessment.id === objective.objective_assessments.id) {\n            // eslint-disable-next-line no-param-reassign\n            objective.objective_assessments.grade_last_edit =\n              resObjectiveAssessment.grade_last_edit;\n            // eslint-disable-next-line no-param-reassign\n            objective.objective_assessments.feedback_last_edit =\n              resObjectiveAssessment.feedback_last_edit;\n            // eslint-disable-next-line no-param-reassign\n            objective.objective_assessments.private_note_last_edit =\n              resObjectiveAssessment.private_note_last_edit;\n          }\n        });\n      });\n    });\n  };\n\n  /**\n   * Update last modified dates for Assignment Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Object} responseAssignmentAssessmentsArray Response from the API, contains student\n   * information\n   */\n  vm.updateAssignmentAssessmentsDates = (responseAssignmentAssessmentsArray) => {\n    vm.selectedAssignment.result_last_edit =\n      responseAssignmentAssessmentsArray.result_last_edit;\n    // eslint-disable-next-line no-param-reassign\n    vm.selectedAssignment.feedback_last_edit =\n      responseAssignmentAssessmentsArray.feedback_last_edit;\n    // eslint-disable-next-line no-param-reassign\n    vm.selectedAssignment.private_note_last_edit =\n      responseAssignmentAssessmentsArray.private_note_last_edit;\n  };\n\n  /**\n   * Init function\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.init = () => {\n    // Set the appropriate style\n    Helpers.setTheme('.studybee');\n\n    // Set default values\n    if ($stateParams.editingMode) {\n      vm.studentEditingMode = $stateParams.editingMode;\n      vm.currentStudentEditingMode = vm.studentEditingMode;\n    } else {\n      vm.studentEditingMode = 'all';\n      vm.currentStudentEditingMode = 'all';\n    }\n\n    if ($stateParams.assignmentId) {\n      vm.assignmentSelected = $stateParams.assignmentId;\n    } else {\n      vm.assignmentSelected = vm.studentAssignments[0].id;\n    }\n\n    vm.changeAssignment();\n\n    vm.selectedCourseDefinition = vm.getLastSelectedCourseDefinition();\n    vm.setTextForGradeSystem();\n  };\n\n  vm.setTextForGradeSystem = () => {\n    if (vm.gradeSystem) {\n      vm.gradeSystem.grades.forEach((grade) => {\n        const defaultGradeTexts = [{ grade_id: grade.id, text: '' }];\n        grade.text = get(vm, 'selectedCourseDefinition.objectives[0].grade_texts', defaultGradeTexts)\n          .find(gradeText => gradeText.grade_id === grade.id).text;\n      });\n    }\n  };\n\n  vm.getGradeText = (grade, objective, courseDefinition) => {\n    const defaultGradeTexts = [{ grade_id: grade.id, text: '' }];\n    const currentObjective = courseDefinition.objectives\n      .find(_objective => _objective.id === objective.objective_assessments.objective);\n\n    return get(currentObjective, 'grade_texts', defaultGradeTexts)\n      .find(gradeText => gradeText.grade_id === grade.id).text;\n  };\n\n  vm.assignmentCourseChanged = (selectedCourseDefinition = vm.selectedCourseDefinition) => {\n    vm.setTextForGradeSystem();\n    NavigationHistory.updateParams({ courseDefinitionId: selectedCourseDefinition.id });\n    $state.go('.', { courseDefinitionId: selectedCourseDefinition.id });\n  };\n\n  vm.getLastSelectedCourseDefinition = () => {\n    let courseDefinition;\n\n    if ($stateParams.courseDefinitionId) {\n      courseDefinition = vm.selectedAssignment.course_definitions\n        .find(item => item.id === $stateParams.courseDefinitionId);\n    }\n\n    return courseDefinition || vm.selectedAssignment.course_definitions[0];\n  };\n\n  vm.showGradeDescription = () => {\n    vm.isGradeDescriptionVisible = true;\n    LocalStorageService.set(vm.storageKeyGradeDescription, 'true');\n  };\n\n  vm.hideGradeDescription = () => {\n    vm.isGradeDescriptionVisible = false;\n    LocalStorageService.remove(vm.storageKeyGradeDescription);\n  };\n\n  vm.isGradeTextVisible = objective =>\n    vm.isGradeDescriptionEnable && vm.isGradeDescriptionVisible && !vm.gradeSystem.is_counter && objective.gradeText;\n\n  vm.updateDescription = (grade, objective, courseDefinition) => {\n    $timeout(() => {\n      if (grade) {\n        objective.gradeText = vm.getGradeText(grade, objective, courseDefinition);\n      } else {\n        objective.gradeText = '';\n      }\n    });\n  };\n\n  vm.changeAssignment = () => {\n    vm.studentAssignments.forEach((assignment) => {\n      if (+assignment.id === +vm.assignmentSelected) {\n        // Set selected assignment\n        vm.selectedAssignment = assignment;\n        vm.assignmentTitle = assignment.title;\n        vm.gradeSystem = assignment.grade_system;\n        vm.resultOnly = assignment.result_only;\n\n        NavigationHistory.updateParams({ assignmentId: assignment.id });\n        AssignmentsStore.setActive(+assignment.id);\n\n        // Clear checkboxes\n        vm.studentEditMultiple.checkboxChecked = false;\n        assignment.course_definitions.forEach((courseDefinition) => {\n          courseDefinition.objectives.forEach((objective) => {\n            // eslint-disable-next-line no-param-reassign\n            objective.checked = false;\n          });\n        });\n      }\n    });\n\n    if (!vm.gradeSystem) {\n      vm.selectedAssignment = vm.selectedAssignment || vm.getLastSelectedCourseDefinition();\n      const params = {\n        assignment: { ...vm.selectedAssignment, id: vm.selectedAssignment.assignment },\n      };\n      $state.go('teacher_assess_assignment', params);\n    }\n  };\n\n  /**\n   * Load view chosen in currentStudentEditingMode select\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.loadView = () => {\n    vm.currentStudentEditingMode = vm.studentEditingMode;\n\n    vm.checkIfAnyCheckboxIsChecked();\n  };\n\n  /**\n   * Check if there is any checkbox selected for Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.checkIfAnyCheckboxIsChecked = () => {\n    const anyCheckboxesChecked = vm\n      .assignmentCheckboxCheckIfAny(vm.selectedAssignment.course_definitions);\n\n    vm.studentEditMultiple.anyCheckboxChecked = !!anyCheckboxesChecked;\n  };\n\n  /**\n   * Check if there is any changes to save in Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.checkEditMultiple = () => {\n    const visibilityStudentEditing = ['assessment', 'objectives_feedback'];\n    const gradeStudentEditing = ['assessment'];\n    const textStudentEditing = ['objectives_feedback', 'objectives_private_notes'];\n    const mode = vm.studentEditMultiple;\n\n    mode.changesToSave = Helpers.isVisibilityChanges(\n      mode.visibility,\n      vm.currentStudentEditingMode,\n      visibilityStudentEditing) ||\n      Helpers.isGradeChanges(mode.grade, vm.currentStudentEditingMode, gradeStudentEditing) ||\n      Helpers.isTextChanges(mode.textField, vm.currentStudentEditingMode, textStudentEditing);\n  };\n\n  /**\n   * Save changes for Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.saveEditMultiple = () => {\n    const selectedItems = TeacherAssessAssignmentDriveService\n      .findSelectedItems(vm.currentStudentEditingMode, vm.selectedAssignment);\n    const objectiveAssessments = TeacherAssessAssignmentDriveService.extractObjectiveAssessments(selectedItems);\n\n    vm.changeMultipleTexts(objectiveAssessments);\n    vm.changeMultipleGrades(objectiveAssessments);\n    vm.changeMultipleVisible(objectiveAssessments);\n\n    vm.matchEndpoint(objectiveAssessments);\n\n    vm.clearEditMultiple();\n\n    Mixpanel.track('edit_multiple');\n  };\n\n  /**\n   * Set defaults values for Student Edit Multiple and clear changesToSave flag to false\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   */\n  vm.clearEditMultiple = () => {\n    vm.studentEditMultiple.grade = 'not_changed';\n    vm.studentEditMultiple.visibility = 'not_changed';\n    vm.studentEditMultiple.textMode = 'new_text';\n    vm.studentEditMultiple.textField = '';\n    vm.studentEditMultiple.changesToSave = false;\n  };\n\n  /**\n   * Close Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentStudent\n   */\n  vm.closeEditMultiple = () => {\n    vm.studentEditMultiple.open = false;\n  };\n\n  /**\n   * Handle changing text of single item\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleText = (savingMethod, savingItem, eventCode) => {\n    Helpers.changeSingleText(savingMethod, savingItem, eventCode);\n  };\n\n  /**\n   * Handle changing visible of single item\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {Object} editingItem Object that will be editing\n   * @param {String} editingProperty Property that will be editing\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleVisible = (savingMethod, savingItem, editingItem, editingProperty, eventCode) => {\n    Helpers.changeSingleVisible(savingMethod, savingItem, editingItem, editingProperty, eventCode);\n  };\n\n  /**\n   * Handle changing grade of single item\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleGrade = (savingMethod, savingItem, eventCode) => {\n    Helpers.changeSingleGrade(savingMethod, savingItem, eventCode);\n  };\n\n  /**\n   * Handle changing text of multiple items\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleTexts = (selectedItems) => {\n    if (!vm.studentEditMultiple.textField) {\n      return;\n    }\n\n    const studentEditing = ['objectives_feedback', 'objectives_private_notes'];\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const textMode = vm.studentEditMultiple.textMode;\n    const textField = vm.studentEditMultiple.textField;\n\n    const textProperty = TeacherAssessAssignmentDriveService\n      .findTextPropoerty(vm.currentStudentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      const oldValue = itemElem[textProperty];\n\n      if (textMode === 'new_text') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = textField;\n      } else if (textMode === 'append_text_first') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = `${textField} ${oldValue}`;\n      } else if (textMode === 'append_text_last') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = `${oldValue}  ${textField}`;\n      }\n    });\n  };\n\n  /**\n   * Handle changing visible of multiple items\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleVisible = (selectedItems) => {\n    const studentEditing = ['assessment', 'objectives_feedback'];\n\n    if (vm.studentEditMultiple.visibility === 'not_changed') {\n      return;\n    }\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const visibilityMode = vm.studentEditMultiple.visibility;\n\n    const visibilityProperty = TeacherAssessAssignmentDriveService\n      .findVisibilityPropoerty(vm.currentStudentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      if (visibilityMode === 'set_visible') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = true;\n      } else if (visibilityMode === 'set_hidden') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = false;\n      }\n    });\n  };\n\n  /**\n   * Handle changing grades of multiple items\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleGrades = (selectedItems) => {\n    const studentEditing = ['assessment'];\n\n    if (vm.studentEditMultiple.grade === 'not_changed') {\n      return;\n    }\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const grade = vm.studentEditMultiple.grade;\n\n    selectedItems.forEach((itemElem) => {\n      if (!itemElem.grade_system_is_counter) {\n        // eslint-disable-next-line no-param-reassign\n        itemElem.grade_name = grade;\n      }\n    });\n  };\n\n  /**\n   * Handle changes dialog (using setTimeout for $scope.$apply function\n   * because it's trigger by $scope.$on and this listener\n   * doesn't trigger $scope.$apply function)\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {String} triggerType Trigger type (cancelEditingMode, changeEditingMode,\n   * clickStudentInClassroom)\n   * @param {Number} studentId Student ID of clicked student\n   */\n  vm.showChangesDialog = (triggerType, studentId) => {\n    // Without changes\n      if (triggerType === 'cancelEditingMode') {\n        vm.clearEditMultiple();\n        vm.closeEditMultiple();\n      }\n      if (triggerType === 'changeEditingMode') {\n        NavigationHistory.updateParams({ editingMode: vm.studentEditingMode });\n        vm.clearEditMultiple();\n        vm.loadView();\n        if (vm.studentEditingMode === 'all') {\n          vm.studentEditMultiple.open = false;\n        }\n      }\n      if (triggerType === 'reloadState') {\n        NavigationHistory.transitionTo('teacher_assess_assignment_drive', { studentId });\n      }\n      return;\n  };\n\n  /**\n   * Open action menu\n   * @memberof module:TeacherAssessAssignmentDrive/Controller\n   * @param {Object} $mdOpenMenu Angular Material $mdOpenMenu object\n   * @param {Object} e Event object\n   */\n  vm.openActionMenu = ($mdOpenMenu, e) => {\n    $mdOpenMenu(e);\n  };\n\n  vm.onClickMenuItem = (toolbarMenuItem) => {\n    vm.viewMenuItems.forEach((menuItem) => {\n      Object.assign(menuItem, { checked: false });\n    });\n    Object.assign(toolbarMenuItem, { checked: true });\n    ListViewMenuService.saveListViewMenu(storageViewMenuId, vm.viewMenuItems);\n    vm.viewMode = toolbarMenuItem.eventArgs.view;\n  };\n\n  vm.isTitleVisible = (title) =>\n    vm.viewMode !== ListViewType.DESCRIPTION_ONLY && `${title}`.trim().length;\n\n  vm.isDescriptionVisible = (description) =>\n    vm.viewMode !== ListViewType.TITLE_ONLY && `${$filter('getFormattedOrEmpty')(description)}`.trim().length;\n\n  vm.updateLastEditTimestampForAssignment = (id = vm.assignment.id) => {\n    AssignmentsService.update({id});\n  };\n\n  vm.init();\n}\n\nMainCtrl.prototype = Object.assign(MainCtrl.prototype, AssignmentSingleCheckboxes.prototype);\n\nmodule.exports = MainCtrl;\n","import { Service } from '../../utils/decorators/service.decorator';\nimport TeacherAssessAssignmentDriveModule from './teacherAssessAssignmentDrive.module';\n\n@Service({\n  module: TeacherAssessAssignmentDriveModule,\n  name: 'TeacherAssessAssignmentDriveService',\n})\nexport class TeacherAssessAssignmentDriveService {\n  constructor() {\n    'ngInject';\n  }\n\n  public findVisibilityPropoerty(currentStudentEditingMode: string): string {\n    const map: { [prop: string]: string } = {\n      assessment: 'grade_published',\n      objectives_feedback: 'feedback_published',\n    };\n\n    return map[currentStudentEditingMode];\n  }\n\n  public findTextPropoerty(currentStudentEditingMode: string): string {\n    const map: { [prop: string]: string } = {\n      objectives_feedback: 'feedback',\n      objectives_private_notes: 'private_note',\n    };\n\n    return map[currentStudentEditingMode];\n  }\n\n  public findSelectedItems(currentStudentEditingMode: string, selectedAssignment: any): any[] {\n    if (['assessment', 'objectives_feedback', 'objectives_private_notes'].includes(currentStudentEditingMode)) {\n      return selectedAssignment.course_definitions.reduce((accCoursesDefinitions: any[], courseDefinition: any): any[] =>\n          [\n            ...accCoursesDefinitions,\n            ...courseDefinition.objectives.filter((objectiveElem) => objectiveElem.checked),\n          ],\n        []);\n    }\n\n    return [];\n  }\n\n  public extractObjectiveAssessments(items: any): any[] {\n    return items.map(item => item.objective_assessments);\n  }\n}\n","/*\nCopyright (C) 2016 StudyBee AB\nAll rights, including trade secret rights, reserved.\n*/\n\nimport get from 'lodash.get';\nimport { GroupedVisibilitySettings } from '../../../shared/models/groupedVisibilitySettings.model';\nimport { GroupedVisibilityDialogType } from '../../../shared/enums/groupedVisibilityDialogType.enum';\nimport { ListViewType } from '../../../shared/enums/listViewType.enum';\nimport { AssessmentStatus } from '../../../../../../src/app/shared/models/assessment.model';\nimport {combineQueries} from \"@datorama/akita\";\nimport {map, filter, switchMap} from \"rxjs/operators\";\nimport {noop, Subject} from \"rxjs\";\n\nconst AssignmentSingleCheckboxes = require('../../../utils/components/assignment_single_checkbox');\n\n/**\n * @module TeacherAssessAssignmentStudent/Controller\n * @description\n *   Handle Assess Assignment Student feature for Teacher\n * @param {Object} $scope Angular $scope object\n * @param {Object} $stateParams Angular $stateParams object\n * @param {Object} $mdDialog Angular Material $mdDialog object\n * @param {Object} Path Path service instance\n * @param {Object} FetchData Fetch Data service instance\n * @param {Object} Debounce Debounce service instance\n * @param {Object} Helpers Helpers service instance\n * @param {Object} LocalHelpers Local Helpers service instance\n * @param {Object} NavigationHistory Navigation History service instance\n * @param {Object} MainMenu Main Menu service instance\n * @param {Object} Mixpanel Mixpanel service instance\n * @param {Object} assignmentsObjectives Resolve from Config\n * @param {Object} assignmentsStudents Resolve from Config\n */\n\n/*@ngInject*/\nfunction MainCtrl(\n  $scope, $stateParams, $state, $mdDialog, $filter, $timeout, Path, FetchData, Updates, Debounce,\n  Helpers, TeacherAssessAssignmentStudentService, NavigationHistory, MainMenu, Mixpanel,\n  Students, assignmentsObjectives, assignment, GroupedVisibilityService,\n  GroupedVisibilityDialogService, ListViewMenuService, LocalStorageService, $sce, $compile, AssignmentsService,\n  AssignmentsQuery, AssessmentsService, AssignmentService, AssessmentsQuery, AssessmentVisibilityDialogService,\n) {\n  const vm = this;\n  const courseId = Path.getClassroomId();\n  const DEBOUNCE_TIME = 250;\n  const storageViewMenuId = 'teacherAssessAssignmentStudent';\n\n  vm.AssessmentsService = AssessmentsService;\n  vm.savingInProgress = 0;\n  vm.savingIndicatorVisible = false;\n  vm.savingError = false;\n  vm.storageKeyGradeDescription = `${storageViewMenuId}GradeDescriptionVisible`;\n  vm.isGradeDescriptionVisible = LocalStorageService.exists(vm.storageKeyGradeDescription);\n\n  // Set default values for Student Edit Multiple\n  vm.studentEditMultiple = {\n    grade: 'not_changed',\n    visibility: 'not_changed',\n    open: false,\n  };\n\n  // Get data from API\n  vm.assignmentTitle = assignmentsObjectives.title;\n  vm.gradeSystem = assignmentsObjectives.grade_system;\n  vm.resultOnly = assignmentsObjectives.result_only;\n  vm.isGradeDescriptionEnable = assignmentsObjectives.enable_grade_texts;\n  vm.students = [];\n  Students.getStudentsList().then((students) => vm.students = students);\n  vm.viewMenuItems = ListViewMenuService.getListViewMenu(storageViewMenuId);\n  vm.viewMode = vm.viewMenuItems.find(listViewMenuItem => listViewMenuItem.checked)\n    .eventArgs.view;\n\n  vm.assignment = assignment;\n  vm.subscriptions = [];\n\n  vm.subscriptions.push(combineQueries([\n    AssignmentsQuery.selectActive().pipe(filter(Boolean)),\n    AssessmentsQuery.selectAll({asObject: true})\n  ]).pipe(\n    map(([assignment, assessments]) => ({\n        ...assignment,\n        assessments: assignment.assessments.map(assessmentID => assessments[assessmentID]),\n      })\n    ),\n  ).subscribe(assignment => {\n    const studentID = +vm.studentSelect || $stateParams.studentId;\n    vm.assignment = assignment || $stateParams.assignment;\n    vm.assessment = vm.assignment.assessments.find(assessment => assessment.student_id === studentID);\n    vm.selectedStatus = vm.assessment.status_new;\n  }));\n\n  vm.debounceFinished$ = new Subject();\n  vm.subscriptions.push(vm.debounceFinished$.subscribe(() => {\n    vm.AssessmentsService.synchronizeWarningStatus(vm.assessment).subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n    });\n  }));\n\n  $scope.$on('$destroy', () => {\n    vm.subscriptions.forEach(subscription => subscription.unsubscribe());\n  });\n\n  /**\n   * Send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.changeObjectiveAssessments = (objectiveAssessments) => {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData.putObjectiveAssessments(objectiveAssessments)\n      .then(\n        (res) => {\n          vm.savingInProgress -= 1;\n          vm.updateObjectiveAssessmentsDates(res);\n        },\n        () => {\n          vm.savingInProgress -= 1;\n        },\n      )\n      .finally(() => vm.debounceFinished$.next());\n  };\n\n  vm.statusChange = (status) => {\n    const assessment = vm.assignment.assessments.find(assessment => assessment.student_id === +vm.studentSelect);\n    let updateStatus$;\n\n    if (status === AssessmentStatus.ASSESSMENT_DONE) {\n      vm.selectedStatus = null;\n      setTimeout(() => {\n        vm.selectedStatus = assessment.status_new;\n      });\n      updateStatus$ = AssessmentVisibilityDialogService.open(vm.assignment.id).pipe(\n        switchMap(assessmentVisibilityDialog => {\n          const statusUpdateBody = {\n            ...assessmentVisibilityDialog,\n            status,\n          };\n          return AssessmentsService.updateStatus(vm.assignment.id, assessment, statusUpdateBody);\n        })\n      )\n    } else {\n      updateStatus$ = AssessmentsService.updateStatus(vm.assignment.id, assessment, {status});\n    }\n\n    updateStatus$.subscribe(() => {\n      vm.updateLastEditTimestampForAssignment();\n      if (status === AssessmentStatus.ASSESSMENT_DONE) {\n        $state.transitionTo($state.current, NavigationHistory.getCurrentParams(), {\n          reload: true, inherit: false, notify: false\n        });\n      }\n    });\n  };\n\n  /**\n   * Send changes to API for Assignments Assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} assignmentAssessments Contains objects where each object represents assignment\n   * asssessments\n   */\n  vm.changeAssignmentAssessments = (assignmentAssessments) => {\n    vm.savingInProgress += 1;\n    vm.savingIndicatorVisible = true;\n    vm.savingError = false;\n\n    FetchData.v2.putAssignmentAssessments(assignment.id, assignmentAssessments)\n      .then(\n        (res) => {\n          vm.savingInProgress -= 1;\n          vm.updateAssignmentAssessmentsDates(res);\n        },\n        () => {\n          vm.savingInProgress -= 1;\n          vm.savingError = true;\n        },\n      )\n      .finally(() => vm.debounceFinished$.next());\n  };\n\n  /**\n   * Debounce send changes to API for Objective Assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.debounceObjectiveAssessments = Debounce((objectiveAssessments) => {\n    vm.changeObjectiveAssessments(objectiveAssessments);\n  }, DEBOUNCE_TIME);\n\n  /**\n   * Debounce send changes to API for Assignments Assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} assignmentAssessments Contains objects where each object represents assignment\n   * asssessments\n   */\n  vm.debounceAssignmentsAssessments = Debounce((assignmentAssessments) => {\n    vm.changeAssignmentAssessments(assignmentAssessments);\n  }, DEBOUNCE_TIME);\n\n  /**\n   * Choose send method\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} objectiveAssessments Contains objects where each object represents objectives\n   */\n  vm.matchEndpoint = (objectiveAssessments) => {\n    vm.debounceObjectiveAssessments(objectiveAssessments);\n  };\n\n  /**\n   * Update last modified dates for Objective Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} responseObjectiveAssessmentsArray Response from the API, contains students\n   * information\n   */\n  vm.updateObjectiveAssessmentsDates = (responseObjectiveAssessmentsArray) => {\n    responseObjectiveAssessmentsArray.forEach((resObjectiveAssessment) => {\n      vm.selectedStudent.course_definitions.forEach((courseDefinition) => {\n        courseDefinition.objectives.forEach((objective) => {\n          if (resObjectiveAssessment.id !== objective.objective_assessments.id) {\n            return;\n          }\n\n          // eslint-disable-next-line no-param-reassign\n          objective.objective_assessments.grade_last_edit =\n            resObjectiveAssessment.grade_last_edit;\n\n          // eslint-disable-next-line no-param-reassign\n          objective.objective_assessments.feedback_last_edit =\n            resObjectiveAssessment.feedback_last_edit;\n\n          // eslint-disable-next-line no-param-reassign\n          objective.objective_assessments.private_note_last_edit =\n            resObjectiveAssessment.private_note_last_edit;\n        });\n      });\n    });\n  };\n\n  /**\n   * Update last modified dates for Assignment Assessments\n   * @memberof module:TeacherAssessAssignment/Controller\n   * @param {Array} responseAssignmentAssessmentsArray Response from the API, contains students\n   * information\n   */\n  vm.updateAssignmentAssessmentsDates = (responseAssignmentAssessmentsArray) => {\n    vm.selectedStudent.assignmentAssessment.result_last_edit =\n      responseAssignmentAssessmentsArray[0].result_last_edit;\n\n    vm.selectedStudent.assignmentAssessment.feedback_last_edit =\n      responseAssignmentAssessmentsArray[0].feedback_last_edit;\n\n    vm.selectedStudent.assignmentAssessment.private_note_last_edit =\n      responseAssignmentAssessmentsArray[0].private_note_last_edit;\n  };\n\n  /**\n   * Init function\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.init = () => {\n    // Set default values\n    if ($stateParams.editingMode) {\n      vm.studentEditingMode = $stateParams.editingMode;\n      vm.currentStudentEditingMode = vm.studentEditingMode;\n    } else {\n      vm.studentEditingMode = 'all';\n      vm.currentStudentEditingMode = 'all';\n    }\n\n    // Check if user clicked on student name in extension (get student id)\n    // or in classroom (get student name) and return proper value.\n    if ($stateParams.studentId) {\n      vm.studentSelect = $stateParams.studentId;\n    } else if ($stateParams.studentName) {\n      vm.studentSelect = Helpers.findStudentIdByName(vm.students, $stateParams.studentName);\n    }\n\n    // Generate common structure\n    vm.generateStructure();\n\n    // Init change student\n    vm.changeStudent();\n    vm.selectedCourseDefinition = vm.getLastSelectedCourseDefinition();\n    vm.setTextForGradeSystem();\n  };\n\n  vm.setTextForGradeSystem = () => {\n    vm.gradeSystem.grades.forEach((grade) => {\n      const defaultGradeTexts = [{ grade_id: grade.id, text: '' }];\n      grade.text = get(vm, 'selectedCourseDefinition.objectives[0].grade_texts', defaultGradeTexts)\n        .find(gradeText => gradeText.grade_id === grade.id).text;\n    });\n  };\n\n  vm.getGradeText = (grade, objective, courseDefinition) => {\n    const defaultGradeTexts = [{ grade_id: grade.id, text: '' }];\n    const currentObjective = courseDefinition.objectives\n      .find(_objective => _objective.id === objective.objective_assessments.objective);\n\n    return get(currentObjective, 'grade_texts', defaultGradeTexts)\n      .find(gradeText => gradeText.grade_id === grade.id).text;\n  };\n\n  vm.getLastSelectedCourseDefinition = () => {\n    let courseDefinition;\n\n    if ($stateParams.courseDefinitionId) {\n      courseDefinition = vm.selectedStudent.course_definitions\n        .find(item => item.id === $stateParams.courseDefinitionId);\n    }\n\n    return courseDefinition || vm.selectedStudent.course_definitions[0];\n  };\n\n  vm.generateStructure = () => {\n    vm.selectedStudent = {};\n\n    vm.selectedStudent.course_definitions = assignmentsObjectives.course_definitions\n      .filter(courseDefinition =>\n        courseDefinition.objectives.length ? courseDefinition.objectives : null,\n      );\n  };\n\n  /**\n   * Fetch information about assignment assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.fetchAssignmentAssessments = () => {\n    vm.selectedStudent.assignmentAssessment = {};\n    vm.selectedStudent.assignmentAssessmentFetching = true;\n\n    FetchData.v2.getAssignmentAssessments(assignment.id, vm.studentSelect)\n      .then((res) => {\n        vm.selectedStudent.assignmentAssessment = Object\n          .assign({}, vm.selectedStudent.assignmentAssessment, res);\n\n        vm.selectedStudent.assignmentAssessmentFetching = false;\n      });\n  };\n\n  /**\n   * Fetch information about objective assessments\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.fetchObjectiveAssessments = () => {\n    vm.selectedStudent.objectiveAssessmentFetching = true;\n\n    FetchData.v2.getObjectiveAssessments(assignment.id, vm.studentSelect)\n      .then((res) => {\n        vm.selectedStudent.course_definitions.forEach((courseDefinitions) => {\n          courseDefinitions.objectives.forEach((objective) => {\n            res.forEach((resObjective) => {\n              if (objective.id !== resObjective.objective) {\n                return;\n              }\n              // eslint-disable-next-line no-param-reassign\n              objective.objective_assessments = resObjective;\n            });\n          });\n        });\n\n        vm.selectedStudent.objectiveAssessmentFetching = false;\n      });\n  };\n\n  /**\n   * Go to previous history entry\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.historyBack = () => {\n    if (vm.historyBackClicked) {\n      return;\n    }\n\n    vm.historyBackClicked = true;\n\n    // Clear students details\n    MainMenu.saveStudentDetails(null);\n    // reset only when we want to get beck to the assignments list\n    // this is an ugly workaround ......\n    if (NavigationHistory.getPreviousState() &&\n      NavigationHistory.getPreviousState().stateName.startsWith('teacherAssignments')) {\n      MainMenu.saveAssignmentDetails(null);\n    }\n\n    NavigationHistory.back({ courseDefinitionId: vm.selectedCourseDefinition.id });\n  };\n\n  /**\n   * Change selected student using select\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.changeStudent = () => {\n    vm.fetchAssignmentAssessments();\n    vm.fetchObjectiveAssessments();\n    vm.setTextForGradeSystem();\n\n    vm.assessment = vm.assignment.assessments.find(assessment => assessment.student_id === +vm.studentSelect);\n    vm.selectedStatus = vm.assessment.status_new;\n\n    NavigationHistory.updateParams({ studentId: +vm.studentSelect });\n  };\n\n  /**\n   * Load view chosen in currentStudentEditingMode select\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.loadView = () => {\n    vm.currentStudentEditingMode = vm.studentEditingMode;\n    vm.checkIfAnyCheckboxIsChecked();\n  };\n\n  /**\n   * Check if there is any checkbox selected for Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.checkIfAnyCheckboxIsChecked = () => {\n    vm.studentEditMultiple.anyCheckboxChecked =\n      vm.assignmentCheckboxCheckIfAny(vm.selectedStudent.course_definitions);\n  };\n\n  /**\n   * Check if there is any changes to save in Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.checkEditMultiple = () => {\n    const visibilityStudentEditing = ['assessment', 'objectives_feedback'];\n    const gradeStudentEditing = ['assessment'];\n    const textStudentEditing = ['objectives_feedback', 'objectives_private_notes'];\n\n    const mode = vm.studentEditMultiple;\n\n    mode.changesToSave =\n      Helpers.isVisibilityChanges(\n        mode.visibility,\n        vm.currentStudentEditingMode,\n        visibilityStudentEditing) ||\n      Helpers.isGradeChanges(mode.grade, vm.currentStudentEditingMode, gradeStudentEditing) ||\n      Helpers.isTextChanges(mode.textField, vm.currentStudentEditingMode, textStudentEditing);\n  };\n\n  /**\n   * Save changes for Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.saveEditMultiple = () => {\n    const selectedItems = TeacherAssessAssignmentStudentService\n      .findSelectedItems(vm.currentStudentEditingMode, vm.selectedStudent);\n    const objectiveAssessments = TeacherAssessAssignmentStudentService.extractObjectiveAssessments(selectedItems);\n\n    vm.changeMultipleTexts(objectiveAssessments);\n    vm.changeMultipleGrades(objectiveAssessments);\n    vm.changeMultipleVisible(objectiveAssessments);\n\n    vm.matchEndpoint(objectiveAssessments);\n\n    vm.clearEditMultiple();\n\n    Mixpanel.track('edit_multiple');\n  };\n\n  /**\n   * Set defaults values for Student Edit Multiple and clear changesToSave flag to false\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.clearEditMultiple = () => {\n    vm.studentEditMultiple.grade = 'not_changed';\n    vm.studentEditMultiple.visibility = 'not_changed';\n    vm.studentEditMultiple.textMode = 'new_text';\n    vm.studentEditMultiple.textField = '';\n    vm.studentEditMultiple.changesToSave = false;\n  };\n\n  /**\n   * Close Student Edit Multiple\n   * @memberof module:TeacherAssessAssignmentStudent\n   */\n  vm.closeEditMultiple = () => {\n    vm.studentEditMultiple.open = false;\n  };\n\n  /**\n   * Handle changing text of single item\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleText = (savingMethod, savingItem, eventCode) => {\n    Helpers.changeSingleText(savingMethod, savingItem, eventCode);\n    vm.updateLastEditTimestampForAssignment();\n  };\n\n  /**\n   * Handle changing visible of single item\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {Object} editingItem Object that will be editing\n   * @param {String} editingProperty Property that will be editing\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleVisible = (savingMethod, savingItem, editingItem, editingProperty, eventCode) => {\n    Helpers.changeSingleVisible(savingMethod, savingItem, editingItem, editingProperty, eventCode);\n  };\n\n  /**\n   * Handle changing grade of single item\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Function} savingMethod Function for saving changes\n   * @param {Object} savingItem Object that should be saved\n   * @param {String} eventCode Mixpanel event code\n   */\n  vm.changeSingleGrade = (savingMethod, savingItem, eventCode) => {\n    Helpers.changeSingleGrade(savingMethod, savingItem, eventCode);\n  };\n\n  /**\n   * Handle changing text of multiple items\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleTexts = (selectedItems) => {\n    const studentEditing = ['objectives_feedback', 'objectives_private_notes'];\n\n    if (!vm.studentEditMultiple.textField) {\n      return;\n    }\n\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const textMode = vm.studentEditMultiple.textMode;\n    const textField = vm.studentEditMultiple.textField;\n    const textProperty = TeacherAssessAssignmentStudentService\n      .findTextPropoerty(vm.currentStudentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      const oldValue = itemElem[textProperty];\n      if (textMode === 'new_text') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = textField;\n      } else if (textMode === 'append_text_first') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = `${textField} ${oldValue}`;\n      } else if (textMode === 'append_text_last') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[textProperty] = `${oldValue} ${textField}`;\n      }\n    });\n  };\n\n  /**\n   * Handle changing visible of multiple items\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleVisible = (selectedItems) => {\n    const studentEditing = ['assessment', 'objectives_feedback'];\n\n    if (vm.studentEditMultiple.visibility === 'not_changed') {\n      return;\n    }\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const visibilityMode = vm.studentEditMultiple.visibility;\n\n    const visibilityProperty = TeacherAssessAssignmentStudentService\n      .findVisibilityPropoerty(vm.currentStudentEditingMode);\n\n    selectedItems.forEach((itemElem) => {\n      if (visibilityMode === 'set_visible') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = true;\n      } else if (visibilityMode === 'set_hidden') {\n        // eslint-disable-next-line no-param-reassign\n        itemElem[visibilityProperty] = false;\n      }\n    });\n  };\n\n  /**\n   * Handle changing grades of multiple items\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Array} selectedItems Contains selected items\n   */\n  vm.changeMultipleGrades = (selectedItems) => {\n    const studentEditing = ['assessment'];\n\n    if (vm.studentEditMultiple.grade === 'not_changed') {\n      return;\n    }\n\n    const pass = Helpers.checkIfModeAvailable(vm.currentStudentEditingMode, studentEditing);\n\n    if (!pass) {\n      return;\n    }\n\n    const grade = vm.studentEditMultiple.grade;\n\n    selectedItems.forEach((itemElem) => {\n      if (itemElem.grade_system_is_counter) {\n        return;\n      }\n\n      // eslint-disable-next-line no-param-reassign\n      itemElem.grade_name = grade;\n    });\n  };\n\n  /**\n   * Handle changes dialog (using setTimeout for $scope.$apply function\n   * because it's trigger by $scope.$on and this listener\n   * doesn't trigger $scope.$apply function)\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {String} triggerType Trigger type (cancelEditingMode, changeEditingMode,\n   * clickStudentInClassroom)\n   * @param {Number} studentId Student ID of clicked student\n   */\n  vm.showChangesDialog = (triggerType, studentId) => {\n    // Without changes\n      if (triggerType === 'cancelEditingMode') {\n        vm.clearEditMultiple();\n        vm.closeEditMultiple();\n      }\n      if (triggerType === 'changeEditingMode') {\n        NavigationHistory.updateParams({ editingMode: vm.studentEditingMode });\n        vm.clearEditMultiple();\n        vm.loadView();\n        if (vm.studentEditingMode === 'all') {\n          vm.studentEditMultiple.open = false;\n        }\n      }\n      if (triggerType === 'clickStudentInClassroom') {\n        vm.studentSelect = studentId;\n        vm.changeStudent();\n        $timeout(() => {\n        });\n        vm.closeEditMultiple();\n        vm.clearEditMultiple();\n      }\n      if (triggerType === 'reloadState') {\n        NavigationHistory.go('teacher_assess_assignment_student', { studentId, assignment });\n      }\n      return;\n  };\n\n  /**\n   * Open action menu\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   * @param {Object} $mdOpenMenu Angular Material $mdOpenMenu object\n   * @param {Object} e Event object\n   */\n  vm.openActionMenu = ($mdOpenMenu, e) => {\n    $mdOpenMenu(e);\n  };\n\n  /**\n   * Go to Assess Course option\n   * @memberof module:TeacherAssessAssignmentStudent/Controller\n   */\n  vm.goToAssessCourseOption = () => {\n    NavigationHistory.go('teacher_assess_course_student', { studentId: vm.studentSelect });\n  };\n\n  vm.assignmentCourseChanged = (selectedCourseDefinition = vm.selectedCourseDefinition) => {\n    vm.setTextForGradeSystem();\n    NavigationHistory.updateParams({ courseDefinitionId: selectedCourseDefinition.id });\n    $state.go('.', { courseDefinitionId: selectedCourseDefinition.id });\n  };\n\n  // Listen on Clicked Student in Classroom event (trigger when user click on student link in\n  // classroom)\n  // and redirect to students details for clicked student.\n  // Use debounce because clickedStudentInClassroom is trigger twice from unknown reason.\n  $scope.$on('clickedStudentInClassroom', Debounce((e, studentName) => {\n    let studentId = Helpers.findStudentIdByName(vm.students, studentName);\n\n    if (!studentId) {\n      Updates.updateStudents(courseId, true).then((res) => {\n        studentId = Helpers.findStudentIdByName(res, studentName);\n        vm.showChangesDialog('reloadState', studentId);\n      });\n    } else {\n      vm.showChangesDialog('clickStudentInClassroom', studentId);\n    }\n  }, DEBOUNCE_TIME));\n\n  vm.init();\n\n  vm.setVisibility = () => {\n    const settings =\n      new GroupedVisibilitySettings(GroupedVisibilityDialogType.AssignmentStudentView);\n\n    settings.students = [this.students.find(student => student.id === vm.studentSelect)];\n    settings.courseDefinitions = assignmentsObjectives.course_definitions\n      .filter(courseDefinition => !!courseDefinition.objectives.length);\n\n    GroupedVisibilityDialogService.show(settings).then((groupedVisibility) => {\n      GroupedVisibilityService.patchAssignmentAssessmentsGroupedVisibility(groupedVisibility)\n        .then(() => $state.reload());\n    });\n  };\n\n  vm.updateDescription = (grade, objective, courseDefinition) => {\n    $timeout(() => {\n      if (grade) {\n        objective.gradeText = vm.getGradeText(grade, objective, courseDefinition);\n      } else {\n        objective.gradeText = '';\n      }\n    });\n  };\n\n  vm.onClickMenuItem = (toolbarMenuItem) => {\n    vm.viewMenuItems.forEach((menuItem) => {\n      Object.assign(menuItem, { checked: false });\n    });\n    Object.assign(toolbarMenuItem, { checked: true });\n    ListViewMenuService.saveListViewMenu(storageViewMenuId, vm.viewMenuItems);\n    vm.viewMode = toolbarMenuItem.eventArgs.view;\n  };\n\n  vm.isTitleVisible = (title) =>\n    vm.viewMode !== ListViewType.DESCRIPTION_ONLY && `${title}`.trim().length;\n\n  vm.isDescriptionVisible = (description) =>\n    vm.viewMode !== ListViewType.TITLE_ONLY && `${$filter('getFormattedOrEmpty')(description)}`.trim().length;\n\n  vm.showGradeDescription = () => {\n    vm.isGradeDescriptionVisible = true;\n    LocalStorageService.set(vm.storageKeyGradeDescription, 'true');\n  };\n\n  vm.hideGradeDescription = () => {\n    vm.isGradeDescriptionVisible = false;\n    LocalStorageService.remove(vm.storageKeyGradeDescription);\n  };\n\n  vm.isGradeTextMenuVisible = () => {\n    return vm.isGradeDescriptionEnable && !vm.gradeSystem.is_counter;\n  };\n\n  vm.isGradeTextVisible = (objective) => {\n    return vm.isGradeTextMenuVisible() && vm.isGradeDescriptionVisible &&\n      !vm.gradeSystem.is_counter && objective.gradeText;\n  };\n\n  vm.updateLastEditTimestampForAssignment = (id = vm.assignment.id) => {\n    AssignmentsService.update({id});\n  };\n}\n\nMainCtrl.prototype = Object.assign(MainCtrl.prototype, AssignmentSingleCheckboxes.prototype);\n\nmodule.exports = MainCtrl;\n","import { Service } from '../../utils/decorators/service.decorator';\nimport TeacherAssessAssignmentStudentModule from './teacherAssessAssignmentStudent.module';\n\n@Service({\n  module: TeacherAssessAssignmentStudentModule,\n  name: 'TeacherAssessAssignmentStudentService',\n})\nexport class TeacherAssessAssignmentStudentService {\n  constructor() {\n    'ngInject';\n  }\n\n  public findVisibilityPropoerty(currentStudentEditingMode: string): string {\n    const map: { [prop: string]: string } = {\n      assessment: 'grade_published',\n      objectives_feedback: 'feedback_published',\n    };\n\n    return map[currentStudentEditingMode];\n  }\n\n  public findTextPropoerty(currentStudentEditingMode: string): string {\n    const map: { [prop: string]: string } = {\n      objectives_feedback: 'feedback',\n      objectives_private_notes: 'private_note',\n    };\n\n    return map[currentStudentEditingMode];\n  }\n\n  public findSelectedItems(currentStudentEditingMode: string, selectedStudent: any): any[] {\n    if (['assessment', 'objectives_feedback', 'objectives_private_notes'].includes(currentStudentEditingMode)) {\n      return selectedStudent.course_definitions.reduce((accCoursesDefinitions: any[], courseDefinition: any): any[] =>\n          [\n            ...accCoursesDefinitions,\n            ...courseDefinition.objectives.filter((objectiveElem) => objectiveElem.checked),\n          ],\n        []);\n    }\n\n    return [];\n  }\n\n  public extractObjectiveAssessments(items: any): any[] {\n    return items.map(item => item.objective_assessments);\n  }\n}\n","import {StateProvider} from '@uirouter/angularjs';\nimport {RawParams, StateDeclaration, StateService, Transition, TransitionService} from '@uirouter/core';\nimport {IPromise} from 'angular';\nimport {Assignment, AssignmentsService, AssignmentsStore} from '../../../../../src/app/teacher/assignments/state';\nimport {TransitionHandler} from '../../shared/models/transitionHandler.model';\nimport {TransitionAuth} from '../../shared/types/transitionAuth.type';\nimport {registerOnBeforeTransition} from '../../utils/decorators/registerOnBeforeTransition.decorator';\n\nexport const TeacherAssignmentsRouting: Function = ($stateProvider: StateProvider, $transitionsProvider: TransitionService): void => {\n  'ngInject';\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class AddToHistoryTeacherAssessAssignmentStudent extends TransitionHandler {\n    public getCriteria(): any {\n      return { to: 'teacher_assess_assignment_student' };\n    }\n\n    public onBefore(transition: Transition): TransitionAuth {\n      const navigationHistory = transition.injector().get('NavigationHistory');\n      const params: RawParams = transition.targetState().params();\n      const isRefresh = transition.$from().name === transition.$to().name;\n\n      if (!isRefresh && (params.studentName || params.studentId)) {\n        navigationHistory.addToHistory('teacher_assess_assignment', {\n          ...params,\n        });\n      }\n\n      return super.onBefore(transition);\n    }\n  }\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class AddToHistoryTeacherSetAssignmentObjectives extends TransitionHandler {\n    public getCriteria(): any {\n      return { to: 'teacher_set_assignment_objectives' };\n    }\n\n    public onBefore(transition: Transition): TransitionAuth {\n      const navigationHistory = transition.injector().get('NavigationHistory');\n      const params: RawParams = transition.targetState().params();\n      const isRefresh = transition.$from().name === transition.$to().name;\n\n      if (!isRefresh && params.assignment && params.isModal) {\n        navigationHistory.addToHistory('teacher_set_assignment_objectives', {\n          ...params,\n        });\n      }\n\n      return super.onBefore(transition);\n    }\n  }\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class AddToHistoryTeacherAssessAssignment extends TransitionHandler {\n    public getCriteria(): any {\n      return { to: 'teacher_assess_assignment' };\n    }\n\n    public onBefore(transition: Transition): TransitionAuth {\n      const navigationHistory = transition.injector().get('NavigationHistory');\n      const params: RawParams = transition.targetState().params();\n      const isRefresh = transition.$from().name === transition.$to().name;\n\n      if (!isRefresh && params.assignment && params.isModal) {\n        navigationHistory.addToHistory('teacher_assess_assignment', {\n          ...params,\n        });\n      }\n\n      return super.onBefore(transition);\n    }\n  }\n\n  @registerOnBeforeTransition($transitionsProvider)\n  class GuardAuth extends TransitionHandler {\n    public getCriteria(): any {\n      return { to: state => state.name.startsWith('teacherAssignments') };\n    }\n\n    public onBefore(transition: Transition): TransitionAuth {\n      const transitionTo: StateDeclaration = transition.to();\n      (transitionTo as any).themeClass = 'sb-theme-green';\n      (transitionTo as any).role = 'teacher';\n\n      return true;\n    }\n  }\n\n  $stateProvider\n    .state('teacherAssignments', {\n      resolve: {\n        assignmentsGroup: (AssignmentsService: AssignmentsService, AssignmentsStore: AssignmentsStore, $state: StateService): IPromise<Assignment[]> => {\n          'ngInject';\n\n          AssignmentsStore.setActive(null);\n          return new Promise(resolve => {\n            AssignmentsService.get().subscribe(assignments => {\n              if (assignments.length) {\n                resolve(assignments);\n              } else {\n                $state.go('teacherAssignmentsNotConfigured');\n              }\n            });\n          });\n        },\n      },\n      views: {\n        '@': {\n          component: 'teacherAssignments',\n        },\n        'assignments@teacherAssignments': {\n          component: 'appAssignments',\n        },\n      },\n    })\n    .state('teacherAssignmentsNotConfigured', {\n      views: {\n        '@': {\n          component: 'teacherAssignments',\n        },\n        'assignments@teacherAssignmentsNotConfigured': {\n          component: 'teacherAssignmentsNotConfigured',\n        },\n      },\n    });\n};\n","import { IComponentController } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { IAssessment } from '../../../../../shared/models/assessment.model';\nimport { IAssignment } from '../../../../../shared/models/assignment.model';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherAssignmentsModule from '../../../teacherAssignments.module';\nimport style from './teacherAssessmentsList.scss';\nimport template from './teacherAssessmentsList.tpl.html';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assessments-list',\n  template: template,\n  style: style,\n})\nexport class TeacherAssessmentsListComponent implements IComponentController {\n  @Input()\n  public assignment: IAssignment;\n  @Input()\n  public assessments: IAssessment[];\n\n  constructor(private $state: StateService, private NavigationHistory: any) {\n    'ngInject';\n\n    this.assignment = null;\n    this.assessments = [];\n  }\n\n  public goToAssessAssignment(studentId: number): void {\n    if (this.assignment) {\n      this.$state.go(\n        'teacher_assess_assignment_student',\n        {\n          studentId,\n          assignment: this.assignment,\n        },\n      ).then((): void => {\n        //TODO: remove after refactor teacherAssessAssignmentStudent view\n        this.NavigationHistory\n          .addToHistory('teacher_assess_assignment', {\n            isModal: true,\n            assignment: this.assignment,\n          });\n      });\n    }\n  }\n}\n","import { StateService } from '@uirouter/core';\nimport { AssignmentsListComponent } from '../../../../../shared/components/assignmentsList/assignmentsList.component';\nimport { IAssignment } from '../../../../../shared/models/assignment.model';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport TeacherAssignmentsModule from '../../../teacherAssignments.module';\nimport style from './teacherAssignmentsDraftsList.scss';\nimport template from './teacherAssignmentsDraftsList.tpl.html';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assignments-drafts-list',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsDraftsListComponent extends AssignmentsListComponent {\n  @Input({ string: true })\n  public label: string;\n  @Input()\n  public assignments: IAssignment[];\n\n  constructor(private $state: StateService, private NavigationHistory: any) {\n    'ngInject';\n\n    super();\n  }\n\n  public goToEditAssignmentCriteria(assignment: IAssignment): void {\n    this.$state.go(\n      'teacher_set_assignment_objectives',\n      {\n        assignment,\n        isModal: true,\n      },\n    ).then((): void => {\n      //TODO: remove after refactor teacher_assess_assignment view\n      this.NavigationHistory.addToHistory(\n        'teacher_set_assignment_objectives',\n        {\n          assignment,\n          isModal: true,\n        });\n    });\n  }\n}\n","import { StateService } from '@uirouter/core';\nimport { AssignmentsListComponent } from '../../../../../shared/components/assignmentsList/assignmentsList.component';\nimport { GroupedVisibilityDialogType } from '../../../../../shared/enums/groupedVisibilityDialogType.enum';\nimport { IAssessment } from '../../../../../shared/models/assessment.model';\nimport { IAssignment } from '../../../../../shared/models/assignment.model';\nimport { IGroupedVisibilitySettings } from '../../../../../shared/models/groupedVisibilitySettings.model';\nimport { IStudent } from '../../../../../shared/models/student.model';\nimport { GroupedVisibilityService } from '../../../../../shared/services/groupedVisibility/groupedVisibility.service';\nimport { GroupedVisibilityDialogService } from '../../../../../shared/services/groupedVisibility/groupedVisibilityDialog.service';\nimport { IObserver, Observer } from '../../../../../shared/services/helpers/observer.service';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport { Students } from '../../../../../utils/services/students';\nimport TeacherAssignmentsModule, { ITeacherAssignmentsService } from '../../../teacherAssignments.module';\nimport { ITeacherAssignment } from '../../models/assignment.model';\nimport style from './teacherAssignmentsList.scss';\nimport template from './teacherAssignmentsList.tpl.html';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assignments-list',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsListComponent extends AssignmentsListComponent {\n  @Input({ string: true })\n  public label: string;\n  @Input()\n  public assignments: IAssignment[];\n\n  constructor(private $state: StateService, private Students: Students, private GroupedVisibilityService: GroupedVisibilityService,\n              private GroupedVisibilityDialogService: GroupedVisibilityDialogService, private TeacherAssignmentsService: ITeacherAssignmentsService,\n              private NavigationHistory: any) {\n    'ngInject';\n\n    super();\n  }\n\n  public $onInit(): void {\n    const observer: IObserver<number[]> = new Observer<number[]>(this.onNext.bind(this));\n\n    this.$$unsubscribes.push(this.TeacherAssignmentsService.openedAssignments$.subscribe(observer));\n  }\n\n  public toggleOpen(assignment: ITeacherAssignment): void {\n    this.TeacherAssignmentsService.toggleAssignment(assignment);\n  }\n\n  public goToAssessAssignment(assignment: IAssignment): void {\n    this.$state.go(\n      'teacher_assess_assignment',\n      {\n        assignment,\n        isModal: true,\n      },\n    ).then((): void => {\n      //TODO: remove after refactor teacher_assess_assignment view\n      this.NavigationHistory.addToHistory(\n        'teacher_assess_assignment',\n        {\n          assignment,\n          isModal: true,\n        });\n    });\n  }\n\n  public goToChangeVisibility(assignment: IAssignment): void {\n    this.TeacherAssignmentsService.changeVisibility(assignment);\n  }\n\n  public goToEditAssignmentCriteria(assignment: IAssignment): void {\n    this.$state.go(\n      'teacher_set_assignment_objectives',\n      {\n        assignment,\n        isModal: true,\n      },\n    ).then((): void => {\n      //TODO: remove after refactor teacher_assess_assignment view\n      this.NavigationHistory.addToHistory(\n        'teacher_set_assignment_objectives',\n        {\n          assignment,\n          isModal: true,\n        });\n    });\n  }\n\n  private onNext(): void {\n    this.assignments = this.TeacherAssignmentsService.updateAssignmentsOpenState(this.assignments);\n  }\n}\n","import {Component} from '../../utils/decorators/component.decorator';\nimport TeacherAssignmentsModule from './teacherAssignments.module';\nimport style from './teacherAssignments.scss';\nimport template from './teacherAssignments.tpl.html';\nimport {\n  AssignmentFilterItem,\n  AssignmentSort,\n  AssignmentSortItem,\n  AssignmentsQuery,\n  AssignmentsService,\n  AssignmentState,\n  AssignmentsUI,\n  AssignmentType\n} from '../../../../../src/app/teacher/assignments/state';\nimport {Order} from '@datorama/akita';\nimport {\n  AssessmentSort,\n  AssessmentSortItem,\n  AssessmentsQuery,\n  AssessmentsService\n} from '../../../../../src/app/teacher/assignments/assignment/assessments/state';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assignments',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsComponent {\n\n  filters: AssignmentFilterItem[] = [\n    {\n      label: 'assignmentActionMenuFilterWorkUnit',\n      type: AssignmentType.WORK_UNIT,\n    },\n    {\n      label: 'assignmentActionMenuFilterAssignments',\n      type: AssignmentType.STANDARD_ASSIGNMENT,\n    },\n    {\n      label: 'assignmentActionMenuFilterWithoutAssessmentCriterias',\n      type: AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS,\n    },\n    null,\n    {\n      label: 'publishedStatus',\n      state: AssignmentState.PUBLISHED,\n    },\n    {\n      label: 'draftsStatus',\n      state: AssignmentState.DRAFT,\n    },\n  ];\n\n  assignmentsSort: AssignmentSortItem[] = [\n    {\n      by: 'assignment_type',\n      label: 'assignmentsActionMenuSortByTypeAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'assignment_created',\n      label: 'assignmentsActionMenuSortByCreationDateAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'assignment_created',\n      label: 'assignmentsActionMenuSortByCreationDateDesc',\n      order: Order.DESC,\n    },\n    {\n      by: 'assessment_last_changed',\n      label: 'assignmentsActionMenuSortByLastChanged',\n      order: Order.DESC,\n    },\n    {\n      by: 'title',\n      label: 'assignmentsActionMenuSortByNameAsc',\n      order: Order.ASC,\n    },\n  ];\n\n  assessmentsSort: AssessmentSortItem[] = [\n    {\n      by: 'student_name',\n      label: 'studentsActionMenuSortByFirstNameAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'status_new',\n      label: 'studentsActionMenuSortByAssessmentDoneAsc',\n      order: Order.ASC,\n    },\n    {\n      by: 'status_new',\n      label: 'studentsActionMenuSortByNotAssessedAsc',\n      order: Order.DESC,\n    },\n  ];\n\n  constructor(protected AssignmentsService: AssignmentsService,\n              protected AssignmentsQuery: AssignmentsQuery,\n              protected AssessmentsService: AssessmentsService,\n              protected AssessmentsQuery: AssessmentsQuery,\n              protected NavigationHistory: any,\n              protected AssessmentVisibilityDialogService: any,\n              protected AssessmentsVisibilityDialogService: any,\n              protected GroupedVisibilityDialogService: any,\n              protected StudybeeHandle: any) {\n    'ngInject';\n  }\n\n  filter(assignmentFilterItem: AssignmentFilterItem) {\n    const stateUI = this.AssignmentsQuery.getValue().ui;\n    const filterType = assignmentFilterItem.state ? 'state' : 'type';\n    const currentFilters: any[] = stateUI.filters[filterType];\n    let filters: AssignmentsUI['filters'] = {\n      ...stateUI.filters,\n    };\n\n    if (currentFilters.includes(assignmentFilterItem[filterType])) {\n      filters = {\n        ...filters,\n        [filterType]: (filters[filterType] as any[]).filter(value => value !== assignmentFilterItem[filterType]),\n      };\n    } else {\n      filters = {\n        ...filters,\n        [filterType]: [...filters[filterType], assignmentFilterItem[filterType]],\n      };\n    }\n\n    this.AssignmentsService.setFilters(filters);\n  }\n\n  isFilterSelected(assignmentFilterItem: AssignmentFilterItem) {\n    const stateUI = this.AssignmentsQuery.getValue().ui;\n    const filterType = assignmentFilterItem.state ? 'state' : 'type';\n    const currentFilters: any[] = stateUI.filters[filterType];\n\n    return currentFilters.includes(assignmentFilterItem[filterType]);\n  }\n\n  sortAssignments(assignmentSortItem: AssignmentSortItem) {\n    const sort: AssignmentSort = {\n      by: assignmentSortItem.by,\n      order: assignmentSortItem.order,\n    };\n\n    this.AssignmentsService.setSorting(sort);\n  }\n\n  isAssignmentSortSelected(assignmentSortItem: AssignmentSortItem) {\n    const stateSortUI = this.AssignmentsQuery.getValue().ui.sort;\n\n    return stateSortUI.by === assignmentSortItem.by &&\n      stateSortUI.order === assignmentSortItem.order;\n  }\n\n  sortAssessments(assessmentSortItem: AssessmentSortItem) {\n    const sort: AssessmentSort = {\n      by: assessmentSortItem.by,\n      order: assessmentSortItem.order,\n    };\n\n    this.AssessmentsService.setSorting(sort);\n  }\n\n  isAssessmentSortSelected(assessmentSortItem: AssessmentSortItem) {\n    const stateSortUI = this.AssessmentsQuery.getValue().ui.sort;\n\n    return stateSortUI.by === assessmentSortItem.by && stateSortUI.order === assessmentSortItem.order;\n  }\n}\n","import { Params } from '@angular/router';\nimport { AssignmentState } from '../../shared/enums/assignmentStateType.enum';\nimport { AssignmentType } from '../../shared/enums/assignmentType.enum';\nimport { GroupedVisibilityDialogType } from '../../shared/enums/groupedVisibilityDialogType.enum';\nimport { IAssessment } from '../../shared/models/assessment.model';\nimport { IAssignment } from '../../shared/models/assignment.model';\nimport { IGroupedVisibilitySettings } from '../../shared/models/groupedVisibilitySettings.model';\nimport { IStudent } from '../../shared/models/student.model';\nimport { GroupedVisibilityService } from '../../shared/services/groupedVisibility/groupedVisibility.service';\nimport { GroupedVisibilityDialogService } from '../../shared/services/groupedVisibility/groupedVisibilityDialog.service';\nimport { BehaviourSubject, IBehaviourSubject } from '../../shared/services/helpers/behaviourSubject.service';\nimport { ILocalStorageService } from '../../shared/services/localStorage/localStorage.service';\nimport { Service } from '../../utils/decorators/service.decorator';\nimport { Students } from '../../utils/services/students';\nimport { AssignmentOrder } from './shared/enums/assignmentOrder';\nimport { ITeacherAssignment } from './shared/models/assignment.model';\nimport TeacherAssignmentsModule from './teacherAssignments.module';\n\nexport interface ITeacherAssignmentsService {\n  openedAssignments$: IBehaviourSubject<number[]>;\n  closeAssignment(assignment: ITeacherAssignment): void;\n  openAssignment(assignment: ITeacherAssignment): void;\n  toggleAssignment(assignment: ITeacherAssignment): any;\n  updateAssignmentsOpenState(assignmentsGroups: ITeacherAssignment[]): ITeacherAssignment[];\n  changeVisibility(assignment: IAssignment): void;\n  getRequestParams(): Params;\n}\n\n@Service({\n  module: TeacherAssignmentsModule,\n  name: 'TeacherAssignmentsService',\n})\nexport class TeacherAssignmentsService implements ITeacherAssignmentsService {\n  public openedAssignments$: IBehaviourSubject<number[]>;\n\n  constructor(protected Path: any,\n              protected FetchData: any,\n              protected Students: Students,\n              protected LocalStorageService: ILocalStorageService,\n              protected GroupedVisibilityDialogService: GroupedVisibilityDialogService,\n              protected GroupedVisibilityService: GroupedVisibilityService) {\n    'ngInject';\n\n    this.openedAssignments$ = new BehaviourSubject<number[]>([]);\n  }\n\n  public closeAssignment(assignment: ITeacherAssignment): ITeacherAssignment {\n    const openedAssignments: number[] = this.openedAssignments$\n      .getValue()\n      .filter((_assignmentId: number): boolean => _assignmentId !== assignment.id);\n\n    this.openedAssignments$.next(openedAssignments);\n\n    return Object.assign({}, assignment, { $$open: false });\n  }\n\n  public openAssignment(assignment: ITeacherAssignment): ITeacherAssignment {\n    const openedAssignments: number[] = [\n      ...this.openedAssignments$.getValue(),\n      assignment.id,\n    ];\n\n    this.openedAssignments$.next(openedAssignments);\n\n    return Object.assign({}, assignment, { $$open: true });\n  }\n\n  public toggleAssignment(assignment: ITeacherAssignment): ITeacherAssignment {\n    return assignment.$$open ? this.closeAssignment(assignment) : this.openAssignment(assignment);\n  }\n\n  public updateAssignmentsOpenState(assignments: ITeacherAssignment[]): ITeacherAssignment[] {\n    return assignments.map((assignment: ITeacherAssignment): ITeacherAssignment => {\n      const $$open: boolean = this.openedAssignments$.getValue().includes(assignment.id);\n\n      return Object.assign({}, assignment, { $$open });\n    });\n  }\n\n  public changeVisibility(assignment: IAssignment): PromiseLike<void> {\n    return Promise.all([\n      this.FetchData.v3.fetchAssignmentAssessments(this.Path.getClassroomId(), assignment.id),\n      this.Students.getStudentsList(),\n    ])\n      .then((responses: any[]): PromiseLike<void> => {\n        const assignmentsObjectives = responses[0];\n        const assessmentStudentId: number[] = assignment.assessments.map((assessment: IAssessment): number => assessment.student_id);\n        const students: IStudent[] = responses[1]\n          .filter((student: IStudent): boolean => assessmentStudentId.includes(student.id));\n        const settings: IGroupedVisibilitySettings = {\n          students,\n          courseDefinitions: assignmentsObjectives.course_definitions.filter((courseDefinition) => !!courseDefinition.objectives.length),\n          type: students.length > 1 ? GroupedVisibilityDialogType.AssignmentView : GroupedVisibilityDialogType.AssignmentStudentView,\n        };\n\n        return this.GroupedVisibilityDialogService.show(settings).then((groupedVisibility) => {\n          this.GroupedVisibilityService.patchAssignmentAssessmentsGroupedVisibility(groupedVisibility, assignment);\n        });\n      });\n  }\n\n  public getRequestParams(): Params {\n    const savedOrdering: AssignmentOrder = this.LocalStorageService.get('teacherAssignmentsOrdering') as AssignmentOrder;\n    const savedStates: AssignmentState[] = this.LocalStorageService.getArray<AssignmentState>('teacherAssignmentsStates');\n    const savedFilters: AssignmentType[] = this.LocalStorageService.getArray<AssignmentType>('teacherAssignmentsFiltering');\n\n    const ordering = savedOrdering || AssignmentOrder.ASC_TYPE;\n    const states = savedStates || [AssignmentState.PUBLISHED, AssignmentState.DRAFT];\n    const filters = savedFilters ||\n      [AssignmentType.WORK_UNIT, AssignmentType.STANDARD_ASSIGNMENT, AssignmentType.WITHOUT_ASSESSMENT_CRITERIAS];\n\n    return { ordering, states, filters };\n  }\n}\n","import { IRootScopeService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../common/global-events';\nimport TeacherCourseProgressModule from '../../../components/course-progress/teacher-course-progress/teacher-course-progress.module';\nimport { UnsubscribableComponent } from '../../../shared/components/abstracts/unsubscribable.component';\nimport { IAssignmentGroupedResponse } from '../../../shared/models/assignmentGroupedResponse.model';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport style from './teacherAssignmentsDrafts.scss';\nimport template from './teacherAssignmentsDrafts.tpl.html';\n\n@Component({\n  module: TeacherCourseProgressModule,\n  selector: 'teacher-assignments-drafts',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsDraftsComponent extends UnsubscribableComponent {\n  @Input()\n  public assignmentsGroup: IAssignmentGroupedResponse;\n\n  constructor(private $rootScope: IRootScopeService, private $state: StateService) {\n    'ngInject';\n\n    super();\n    this.assignmentsGroup = {\n      assessable: [],\n      not_assessable: [],\n    };\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(this.$rootScope\n      .$on(Events.UPDATED_ASSIGNMENTS, () => this.$state.reload()));\n  }\n}\n","import { IComponentController } from 'angular';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport TeacherAssignmentsModule from '../teacherAssignments.module';\nimport style from './teacherAssignmentsNotConfigured.scss';\nimport template from './teacherAssignmentsNotConfigured.tpl.html';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assignments-not-configured',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsNotConfiguredComponent implements IComponentController {\n  constructor() {\n    'ngInject';\n  }\n}\n","import { IRootScopeService } from 'angular';\nimport { StateService } from '@uirouter/core';\nimport { Events } from '../../../common/global-events';\nimport { UnsubscribableComponent } from '../../../shared/components/abstracts/unsubscribable.component';\nimport { IAssignmentGroupedResponse } from '../../../shared/models/assignmentGroupedResponse.model';\nimport { Component } from '../../../utils/decorators/component.decorator';\nimport { Input } from '../../../utils/decorators/input.decorator';\nimport TeacherAssignmentsModule from '../teacherAssignments.module';\nimport style from './teacherAssignmentsPublished.scss';\nimport template from './teacherAssignmentsPublished.tpl.html';\n\n@Component({\n  module: TeacherAssignmentsModule,\n  selector: 'teacher-assignments-published',\n  template: template,\n  style: style,\n})\nexport class TeacherAssignmentsPublishedComponent extends UnsubscribableComponent {\n  @Input()\n  public assignmentsGroup: IAssignmentGroupedResponse;\n\n  constructor(private $rootScope: IRootScopeService, private $state: StateService) {\n    'ngInject';\n\n    super();\n    this.assignmentsGroup = {\n      assessable: [],\n      not_assessable: []\n    };\n  }\n\n  public $onInit(): void {\n    this.$$unsubscribes.push(this.$rootScope\n      .$on(Events.UPDATED_ASSIGNMENTS, () => this.$state.reload()));\n  }\n}\n","/*\n Copyright (C) 2016 StudyBee AB\n All rights, including trade secret rights, reserved.\n */\n\nimport get from 'lodash.get';\nimport xor from 'lodash.xor';\nimport isEmpty from 'lodash.isempty';\nimport isEqual from 'lodash.isequal';\nimport { AssignConfirmationType } from './shared/enum/assignConfirmationType.enum.ts';\nimport { ListViewType } from '../../shared/enums/listViewType.enum.ts';\nimport { AssignmentType } from '../../shared/enums/assignmentType.enum.ts';\nimport { getTranslation } from '../../../../../react_src/i18n';\n\n/**\n * @module TeacherSetAssignmentObjectives/Controller\n * @description\n *   Handle Assign Objectives to Assignment for Teacher\n * @param $stateParams\n * @param $mdToast\n * @param {Object} $mdDialog Angular Material $mdDialog object\n * @param {Object} Path Path service instance\n * @param {Object} FetchData Fetch Data service instance\n * @param Updates\n * @param {Object} Debounce Debounce service instance\n * @param {Object} NavigationHistory Navigation History service instance\n * @param {Object} MainMenu Main Menu service instance\n * @param {Object} Mixpanel Mixpanel service instance\n * @param StudybeeHandle\n * @param {Object} assignmentInformation Resolve from Config Service\n * @param gradeSystems\n */\n\nexport function TeacherSetAssignmentObjectiveCtrl($state, $timeout,\n  $stateParams, $mdToast, $mdDialog, $filter, Path, FetchData, Updates, Debounce,\n  NavigationHistory, Mixpanel, MainMenu, StudybeeHandle, assignmentInformation,\n  gradeSystems, TeacherSetAssignmentObjectivesService, ListViewMenuService, AssignmentsStore) {\n  'ngInject';\n\n  const vm = this;\n\n  const courseId = Path.getClassroomId();\n\n  const { assignment } = $stateParams;\n  const storageViewMenuId = 'teacherSetAssignment';\n\n  vm.isFirstTime = get($stateParams, 'firstTime', false);\n\n  // Get data from API\n  vm.assignment = assignmentInformation;\n\n  vm.gradeTextSettings = {\n    isEnable: vm.assignment.enable_grade_texts,\n    isEnableForStudents: vm.assignment.show_grade_texts_for_student,\n  };\n\n  // vm.assignmentTitle = assignmentInformation.title;\n  vm.gradeSystems = gradeSystems;\n  vm.courseDefinitions = assignmentInformation.course_definitions;\n  vm.resultOnly = assignmentInformation.result_only;\n  vm.viewMenuItems = ListViewMenuService.getListViewMenu(storageViewMenuId);\n  vm.viewMode = vm.viewMenuItems.find((listViewMenuItem) => listViewMenuItem.checked)\n    .eventArgs.view;\n  vm.lastSelectedScaleId = null;\n  vm.state = {\n    type: {\n      previous: {},\n      get change() {\n        return get(vm, 'selectedType.type', 0) !== get(this, 'previous.type', -1);\n      },\n      get isEmpty() {\n        return isEmpty(vm.selectedType);\n      },\n    },\n    scale: {\n      previous: {},\n      get change() {\n        return get(vm, 'scaleSelect.id', 0) !== get(this, 'previous.id', 0);\n      },\n    },\n    objectives: {\n      previous: [],\n      get change() {\n        return !!xor(vm.getSelectedObjectivesId(), this.previous).length;\n      },\n    },\n    counters: {\n      previous: {},\n      get change() {\n        return get(vm, 'scaleSelect.is_counter', false) && !isEqual(get(this, 'previous'), vm.getFlatObjectivesCounters());\n      },\n    },\n    gradeTextSettings: {\n      previous: {},\n      get change() {\n        if (this.previous.enable_grade_texts !== vm.assignment.enable_grade_texts) {\n          return true;\n        } if (vm.assignment.enable_grade_texts) {\n          return this.previous.show_grade_texts_for_student !== vm.assignment.show_grade_texts_for_student;\n        }\n      },\n    },\n  };\n  vm.typeOfAssignments = [\n    {\n      description: 'teacherAssignmentObjectivesTypeOfAssignmentWorkUnitDesc',\n      label: 'teacherAssignmentObjectivesTypeOfAssignmentWorkUnitLabel',\n      type: AssignmentType.WORK_UNIT,\n    },\n    {\n      description: 'teacherAssignmentObjectivesTypeOfAssignmentAssignmentDesc',\n      label: 'teacherAssignmentObjectivesTypeOfAssignmentAssignmentLabel',\n      type: AssignmentType.STANDARD_ASSIGNMENT,\n    },\n  ];\n  vm.selectedType = {\n\n    ...vm.typeOfAssignments\n      .find((typeOfAssignment) => typeOfAssignment.type === assignment.assignment_type),\n  };\n\n  /**\n   * Init function\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.init = function () {\n    // Create list of selected elements that is used to compare changes\n    vm.createListOfSelected();\n    vm.setDefaultGradeSystem();\n    vm.setState();\n\n    $timeout(() => {\n      vm.validationForm.$setSubmitted();\n    }, 0);\n  };\n\n  vm.setState = () => {\n    vm.state.scale.previous = { ...vm.scaleSelect };\n    vm.state.objectives.previous = [...vm.getSelectedObjectivesId()];\n    vm.state.type.previous = { ...vm.selectedType };\n    vm.state.counters.previous = vm.getFlatObjectivesCounters();\n    vm.state.gradeTextSettings.previous = {\n\n      enable_grade_texts: vm.assignment.enable_grade_texts,\n      show_grade_texts_for_student: vm.assignment.show_grade_texts_for_student,\n    };\n  };\n\n  vm.getConfirmationType = () => {\n    const currentState = [];\n\n    if (vm.state.scale.change) {\n      currentState.push(AssignConfirmationType.GRADE_SYSTEM);\n    }\n\n    if (vm.state.objectives.change) {\n      currentState.push(AssignConfirmationType.OBJECTIVES);\n    }\n\n    if (vm.state.type.change) {\n      currentState.push(AssignConfirmationType.ASSIGNMENT_TYPE);\n    }\n\n    if (vm.state.counters.change) {\n      currentState.push(AssignConfirmationType.CHANGE_COUNTER_VALUE);\n    }\n\n    if (vm.state.gradeTextSettings.change) {\n      currentState.push(AssignConfirmationType.GRADE_TEXT_SETTINGS);\n    }\n\n    return currentState;\n  };\n\n  vm.updateGradeTextSettings = () => {\n    vm.assignment.enable_grade_texts = vm.gradeTextSettings.isEnable;\n    vm.assignment.show_grade_texts_for_student = vm.gradeTextSettings.isEnable && vm.gradeTextSettings.isEnableForStudents;\n  };\n\n  vm.onClickMenuItem = (toolbarMenuItem) => {\n    vm.viewMenuItems.forEach((menuItem) => {\n      Object.assign(menuItem, { checked: false });\n    });\n    Object.assign(toolbarMenuItem, { checked: true });\n    ListViewMenuService.saveListViewMenu(storageViewMenuId, vm.viewMenuItems);\n    vm.viewMode = toolbarMenuItem.eventArgs.view;\n  };\n\n  vm.isTitleVisible = (title) => vm.viewMode !== ListViewType.DESCRIPTION_ONLY && `${title}`.trim().length;\n\n  vm.isDescriptionVisible = (description) => vm.viewMode !== ListViewType.TITLE_ONLY && `${$filter('getFormattedOrEmpty')(description)}`.trim().length;\n\n  vm.getAssignmentTypePlaceholder = () => get(vm, 'selectedType.label', 'teacherAssignmentObjectivesTypeOfAssignment');\n\n  /**\n   * Go to previous history entry\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.historyBack = function () {\n    if (vm.historyBackClicked) {\n      return;\n    }\n\n    if (NavigationHistory.getPreviousState()\n      && NavigationHistory.getPreviousState().stateName.startsWith('teacherAssignments')) {\n      MainMenu.saveAssignmentDetails(null);\n    }\n\n    vm.historyBackClicked = true;\n    NavigationHistory.back();\n  };\n\n  /**\n   * Set default grade system if there is no assigned yet\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.setDefaultGradeSystem = function () {\n    if (vm.resultOnly) {\n      return;\n    }\n\n    const gradeSystemId = TeacherSetAssignmentObjectivesService.getStoredGradeSystemId();\n    let preSelectedGradeSystem;\n    let selectedGradeSystem;\n    let defaultGradeSystem;\n\n    vm.gradeSystems.forEach((gradeSystem) => {\n      if (gradeSystemId === gradeSystem.id) {\n        preSelectedGradeSystem = gradeSystem;\n      }\n\n      if (vm.assignment.grade_system === gradeSystem.id) {\n        selectedGradeSystem = gradeSystem;\n      }\n\n      if (gradeSystem.is_main && !defaultGradeSystem) {\n        defaultGradeSystem = gradeSystem;\n      }\n    });\n\n    // Resolution of selection:\n    // Previously selected > First system with is_main selected > first system in list > none\n    vm.scaleSelect = (selectedGradeSystem || preSelectedGradeSystem || defaultGradeSystem || vm.gradeSystems[0] || {});\n    vm.scaleSelect.is_chosen = true;\n    vm.lastSelectedScaleId = vm.scaleSelect.id;\n    vm.state.scale.previous = vm.scaleSelect;\n    vm.scaleSelect.grade_texts_present = get(vm, 'scaleSelect.grade_texts_present', true);\n  };\n\n  vm.isSaveButtonDisabled = () => vm.state.type.isEmpty || !vm.getConfirmationType().length;\n\n  /**\n   * Create list of selected objectives which is used to restore objectives\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.createListOfSelected = function () {\n    vm.selectedObjectives = vm.courseDefinitions\n      .filter((el) => el.is_chosen)\n      .map((el) => el.id);\n  };\n\n  vm.getSelectedObjectivesId = () => vm.courseDefinitions\n    .reduce((acc, courseDefinition) => [...acc, ...courseDefinition.objectives], [])\n    .filter((objective) => objective.is_chosen)\n    .map((objective) => objective.id);\n\n  vm.getFlatObjectivesCounters = () => vm.courseDefinitions.reduce((accCD, courseDefinitionElem) => [...accCD, ...courseDefinitionElem.objectives\n    .reduce((accO, objectiveElem) => {\n      if (objectiveElem.is_chosen) {\n        return [...accO, ...objectiveElem.max_counter_grades];\n      }\n\n      return accO;\n    }, [])], []);\n\n  /**\n   * Check if it is init scale select and return if it is\n   * Otherway close all objectives and run valid changes\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.changeScale = function () {\n    vm.courseDefinitions.forEach((courseDefinitionElem) => {\n      courseDefinitionElem.objectives.forEach((objectiveElem) => {\n        // Close all objectives\n        objectiveElem.open = false;\n\n        // If selected scale is result only,\n        // uncheck all objectives and clear max counter grades\n        if (vm.scaleSelect === 'result_only') {\n          objectiveElem.is_chosen = false;\n          objectiveElem.max_counter_grades = [];\n        }\n      });\n    });\n\n    vm.validChanges();\n  };\n\n  /**\n   * Toggle objective and run valid changes\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.toggleObjective = function (objective) {\n    objective.is_chosen = !objective.is_chosen;\n\n    vm.validChanges();\n  };\n\n  /**\n   * Valid counters and set Changes to Save flag\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.validChanges = function () {\n    vm.changesToSave = false;\n    let isSelectedObjective = false;\n    let validCounters = true;\n    const countersTest = /^[0-9]{1,2}$/;\n\n    // If selected scale is result only, set changesToSave to true and return\n    if (vm.scaleSelect === 'result_only') {\n      vm.changesToSave = true;\n      return;\n    }\n\n    vm.courseDefinitions.forEach((courseDefinitionElem) => {\n      courseDefinitionElem.objectives.forEach((objectiveElem) => {\n        if (!objectiveElem.is_chosen) {\n          return;\n        }\n\n        isSelectedObjective = true;\n\n        objectiveElem.max_counter_grades.forEach((counterElem) => {\n          if (!countersTest.test(counterElem)) {\n            validCounters = false;\n          }\n        });\n      });\n    });\n\n    // Return if there is no selected scale or if there is no selected objective\n    if (!vm.scaleSelect || !isSelectedObjective) {\n      return;\n    }\n\n    // Check changesToSave\n    if (vm.scaleSelect.is_counter && validCounters) {\n      vm.changesToSave = true;\n    } else if (!vm.scaleSelect.is_counter) {\n      vm.changesToSave = true;\n    }\n  };\n\n  /**\n   * Save changes - if any objective is removed than display confirmation\n   * modal other way just save changes\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.saveChanges = function () {\n    let removedItems = false;\n\n    vm.courseDefinitions.forEach((courseDefinitionElem) => {\n      courseDefinitionElem.objectives.forEach((objectiveElem) => {\n        vm.selectedObjectives.forEach((selectedObjectiveElem) => {\n          if (selectedObjectiveElem === objectiveElem.id && !objectiveElem.is_chosen) {\n            removedItems = true;\n          }\n        });\n      });\n    });\n\n    if (vm.scaleSelect) {\n      TeacherSetAssignmentObjectivesService.setStoredGradeSystemId(vm.scaleSelect.id);\n    }\n\n    vm.assignConfirmation();\n    Mixpanel.track('assigned_objectives');\n  };\n\n  /**\n   * Create settings and send changes to API for assigned objectives to assignment\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.assignObjectives = Debounce(() => {\n    const settings = {\n      grade_system: vm.scaleSelect.id,\n      assignment_objectives: [],\n      result_only: vm.scaleSelect === 'result_only',\n      studybee_type: vm.selectedType.type,\n      enable_grade_texts: get(vm, 'assignment.enable_grade_texts'),\n      show_grade_texts_for_student: get(vm, 'assignment.show_grade_texts_for_student'),\n    };\n\n    vm.courseDefinitions.forEach((courseDefinitionElem) => {\n      courseDefinitionElem.objectives.forEach((objectiveElem) => {\n        if (!objectiveElem.is_chosen) {\n          return;\n        }\n\n        // Create temporary object\n        const selectedObjective = {\n          objective: objectiveElem.id,\n          max_counter_grades: objectiveElem.max_counter_grades,\n        };\n\n        // Fill empty values with 0\n        for (let i = 0; i <= 9; i++) {\n          if (!selectedObjective.max_counter_grades[i]) {\n            selectedObjective.max_counter_grades[i] = 0;\n          }\n        }\n\n        settings.assignment_objectives.push(selectedObjective);\n      });\n    });\n\n    FetchData.patchAssignedObjectivesToAssignment(assignment.id, settings)\n      .then(() => {\n        Updates.updateAssignments(courseId, true)\n          .then(() => {\n            vm.changesToSave = false;\n            vm.lastSelectedScaleId = vm.scaleSelect.id;\n            vm.createListOfSelected();\n            vm.assignSuccess();\n            AssignmentsStore.setHasCache(false);\n            vm.isFirstTime = false;\n          });\n      });\n  }, 500);\n\n  /**\n   * Show assign confirm modal\n   * CAUTION: Display warning message only when user change grade system.\n   * In other cases data is NOT deleted but set into inactive/archived mode.\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.assignConfirmation = function (confirmationType = vm.getConfirmationType()) {\n    if (!vm.isFirstTime && confirmationType.includes(AssignConfirmationType.GRADE_SYSTEM)) {\n      $mdDialog.show({\n        parent: angular.element(document.querySelectorAll('[md-component-id=\"studybee\"]')),\n        templateUrl: 'assignments/teacherSetAssignmentObjectives/views/dialogs/assign_confirmation.html',\n        controller() {\n          this.text = 'assignGradeConfirmationModalText';\n          this.closeDialog = () => $mdDialog.hide();\n          this.confirmChanges = () => {\n            vm.assignObjectives();\n            $mdDialog.hide();\n          };\n        },\n        controllerAs: 'ac',\n      });\n    } else {\n      vm.assignObjectives();\n    }\n  };\n\n  /**\n   * Show assign success modal\n   * @memberof module:TeacherSetAssignmentObjectives/Controller\n   */\n  vm.assignSuccess = function () {\n    // this is the part of the merix's RP and I'll rewrite it later\n    if ($stateParams.hideExtensionOnAssign) {\n      StudybeeHandle.studybeeClose();\n      NavigationHistory.transitionTo('teacherAssignments');\n      MainMenu.setSelectedMenuStateName('teacherAssignments');\n\n      $mdToast.show({\n        templateUrl: 'utils/views/toast.html',\n        parent: $('body'),\n        hideDelay: 3000,\n        position: 'bottom right',\n        controller() {\n          this.information = getTranslation('savedObjectivesToAssignmentToast');\n        },\n        controllerAs: 'to',\n      });\n    } else {\n      $mdDialog.show({\n        parent: angular.element(document.querySelectorAll('[md-component-id=\"studybee\"]')),\n        templateUrl: 'assignments/teacherSetAssignmentObjectives/views/dialogs/assign_success.html',\n        controller() {\n          vm.setState();\n          this.closeDialog = function () {\n            $mdDialog.hide();\n          };\n        },\n        controllerAs: 'as',\n      });\n    }\n  };\n\n\n  vm.init();\n}\n","export enum AssignConfirmationType {\n  ASSIGNMENT_TYPE,\n  CHANGE_COUNTER_VALUE,\n  GRADE_SYSTEM,\n  GRADE_TEXT_SETTINGS,\n  OBJECTIVES,\n}\n","import { IPromise } from 'angular';\nimport { StateProvider } from '@uirouter/angularjs';\n\nexport const TeacherSetAssignmentObjectivesRouting: Function = ($stateProvider: StateProvider): void => {\n  'ngInject';\n\n  $stateProvider\n    .state('teacher_set_assignment_objectives', {\n      role: 'teacher',\n      templateUrl: 'assignments/teacherSetAssignmentObjectives/views/main.html',\n      themeClass: 'sb-theme-green',\n      controller: 'teacherSetAssignmentObjectivesCtrl',\n      controllerAs: 'vm',\n      params: {\n        hideExtensionOnAssign: null,\n        assignment: null,\n        firstTime: false,\n      },\n      resolve: {\n        assignmentInformation($stateParams, Path, FetchData): IPromise<any> {\n          'ngInject';\n\n          return FetchData.getAssignedObjectivesToAssignment($stateParams.assignment.id).then(response => {\n            return response;\n          });\n        },\n        gradeSystems($stateParams, Path, FetchData): IPromise<any> {\n          'ngInject';\n\n          return FetchData.v2.getGradeSystems(Path.getClassroomId(), $stateParams.assignment.id);\n        },\n      },\n    } as any);\n};\n","import { IComponentController, INgModelController } from 'angular';\nimport { IGradeTextVisibilitySettings } from '../../../../../shared/models/gradeTextVisibilitySettings.model';\nimport { Component } from '../../../../../utils/decorators/component.decorator';\nimport { Input } from '../../../../../utils/decorators/input.decorator';\nimport { SiblingComponent } from '../../../../../utils/decorators/sibling-component';\nimport TeacherSetAssignmentObjectivesModule from '../../../teacherSetAssignmentObjectives.module';\nimport template from './objectiveGradeTextVisibilitySettings.tpl.html';\nimport style from './objectiveGradeTextVisibilitySettings.scss';\n\n@Component({\n  module: TeacherSetAssignmentObjectivesModule,\n  selector: 'objective-grade-text-visibility-settings',\n  template: template,\n  style: style,\n})\nexport class ObjectiveGradeTextVisibilitySettingsComponent implements IComponentController {\n\n  @SiblingComponent() private ngModel: INgModelController;\n  @Input({ optional: true }) private ngDisabled: boolean;\n\n  constructor() {\n    'ngInject';\n\n    this.ngDisabled = false;\n  }\n\n  public update($viewValue: IGradeTextVisibilitySettings): void {\n    this.ngModel.$setViewValue(Object.assign({}, $viewValue));\n  }\n}\n","import { Service } from '../../utils/decorators/service.decorator';\nimport TeacherSetAssignmentObjectivesModule from './teacherSetAssignmentObjectives.module';\n\nexport interface ITeacherSetAssignmentObjectivesService {\n  getStoredGradeSystemId(): number;\n  setStoredGradeSystemId(id: string | number): void;\n}\n\n@Service({\n  module: TeacherSetAssignmentObjectivesModule,\n  name: 'TeacherSetAssignmentObjectivesService'\n})\nexport class TeacherSetAssignmentObjectivesService implements ITeacherSetAssignmentObjectivesService {\n  static localStorageGradeSystemIdKey: string = 'gradeSystemId';\n\n  constructor() {\n    'ngInject';\n  }\n\n  public getStoredGradeSystemId(): number {\n    return +(localStorage.getItem(TeacherSetAssignmentObjectivesService.localStorageGradeSystemIdKey));\n  }\n\n  public setStoredGradeSystemId(id: string | number): void {\n    localStorage.setItem(\n      TeacherSetAssignmentObjectivesService.localStorageGradeSystemIdKey,\n      `${id}`,\n    );\n  }\n}\n","import React, { useState, useContext, useEffect } from 'react';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport AssignmentList from './topics_and_assignments/assignmentsList';\nimport { createApi } from './api';\nimport NetworkErrorToast from './components/networkErrorToast';\nimport SaveToast from './components/saveToast';\nimport { colors } from './theme';\nimport {\n  getAssignmentSortingMethod,\n  getFromLocalStorage,\n  getStudentSortingMethod,\n  GlobalContext, setAssignmentSortingMethod,\n  setStudentSortingMethod, setToLocalStorage,\n} from './utils';\nimport { useWindowDimensions } from './hooks';\nimport ObjectiveDescription from './components/objectiveDescription';\nimport CourseOverview from './course-overview';\nimport { ReactComponent as StudyBeeHandle } from './images/handlebg.svg';\nimport ErrorBoundary from './errorBoundry';\nimport VisibilityDialog from './topics_and_assignments/visibilityDialog';\nimport Drawer from './components/drawer';\nimport { getClassroomId } from './path';\nimport SyncToast from './components/syncToast';\nimport { getTranslation } from './i18n';\nimport NewAssignmentDialog from \"./newAssignmentDialog\";\n\nconst App = (props) => {\n  const {\n    data, ctrl, view = 'assignments', student = false,\n  } = props;\n\n\n  if(view === 'newsAssignmentPopup'){\n    return <NewAssignmentDialog/>;\n  }\n\n  const {\n    NavigationHistory: navigation,\n    AssessmentVisibilityDialogService: ChangeVisibilityDialog,\n    AssessmentsVisibilityDialogService: ChangeAssessmentsDialog,\n    GroupedVisibilityDialogService: ChangeVisibilityManyDialog,\n    StudybeeHandle: handle,\n  } = ctrl;\n\n  const { studybeeClose, studybeeOpen } = handle;\n\n  const { toggleMenu } = data;\n  return (\n    <GlobalContext.Provider\n      value={{\n        navigation,\n        toggleMenu,\n        ChangeVisibilityDialog, // Change visibility after assess set to ASSESSMENT_DONE\n        ChangeVisibilityManyDialog, // Change visibility for many students\n        ChangeAssessmentsDialog, // Change assessment for many students, what happens to visibility?\n        studybeeClose,\n        studybeeOpen,\n      }}\n    >\n      <ReactApp view={view} student={student}/>\n    </GlobalContext.Provider>\n  );\n};\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: colors.green,\n    },\n    secondary: {\n      main: colors.primary,\n    },\n  },\n});\n\nlet context;\nconst ReactApp = (props) => {\n  const { view, student } = props;\n  context = useContext(GlobalContext);\n  const [networkTraffic, setNetworkTraffic] = useState(false);\n  const [networkError, setNetworkError] = useState(false);\n  const [showObjectiveDetails, setShowObjectiveDetails] = useState();\n  const dimensions = useWindowDimensions();\n  const [currentView, setCurrentView] = useState(view);\n  const [sortingMethod, setSortingMethod] = useState('firstName');\n  const [assignmentSort, setAssignmentSort] = useState(false);\n  const [visibilityDialogData, setVisibilityDialogData] = useState();\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [user, setUser] = useState();\n  const [syncText, setSyncText] = useState();\n\n  context.setNetworkTraffic = setNetworkTraffic;\n  context.setNetworkError = setNetworkError;\n  context.height = showObjectiveDetails\n    ? dimensions.height - 300\n    : dimensions.height;\n\n  const Api = createApi(\n    (m) => context.setNetworkTraffic(m),\n    (e) => context.setNetworkError(e),\n  );\n\n  context.openDrawer = () => {\n    setDrawerOpen(true);\n  };\n  context.networkTraffic = networkTraffic;\n  context.Api = Api;\n  context.showObjectiveDetails = setShowObjectiveDetails;\n  context.isStudent = student;\n  context.sortingMethod = sortingMethod;\n  context.assignmentSortMethod = assignmentSort;\n  context.setAssignmentSortMethod = (method) => {\n    setAssignmentSortingMethod(method);\n    setAssignmentSort(method);\n  };\n  context.user = user;\n  context.setVisibilityDialogData = setVisibilityDialogData;\n  context.setSortingMethod = (method) => {\n    setStudentSortingMethod(method);\n    setSortingMethod(method);\n  };\n\n  useEffect(() => {\n    setToLocalStorage('currentView', currentView);\n  }, [currentView]);\n\n  const changeToAssignmentView = [\n    'connectNewAssignment',\n    'assignmentDriveSelected',\n    'studentSelected',\n    'assignmentSelected',\n  ];\n  const storageListener = async (change) => {\n    if (Object.keys(change).find((k) => changeToAssignmentView.find((c) => c === k))) {\n      setCurrentView('assignments');\n      const v = await getFromLocalStorage('currentView');\n      if (v !== 'assignments') {\n        context.navigation.transitionTo('teacherAssignments', {});\n      }\n    }\n  };\n\n  const listenForChanges = () => {\n    if (!process.env.REACT_APP_STANDALONE) {\n      chrome.storage.onChanged.addListener(storageListener);\n    }\n  };\n\n  useEffect(() => {\n    if (!student) {\n      listenForChanges();\n    }\n    (async () => {\n      const method = await getStudentSortingMethod();\n      setSortingMethod(method);\n      const aMethod = await getAssignmentSortingMethod();\n      setAssignmentSort(aMethod);\n      const u = await context.Api.getUserInfo();\n      setUser(u?.data?.userInfo);\n    })();\n  }, []);\n\n  const navigate = (newView) => {\n    if (newView === 'courseRequirements') {\n      context.navigation.go(student ? 'studentCourseManagement' : 'teacherCourseManagement', { course: getClassroomId() });\n      setCurrentView('courseManagement');\n    } else if (newView === 'courseOverview' && student) {\n      context.navigation.go('student-course-progress', { course: getClassroomId() });\n      setCurrentView(newView);\n    } else {\n      setCurrentView(newView);\n    }\n  };\n\n  return (\n    <ErrorBoundary Api={Api}>\n      <ThemeProvider theme={theme}>\n        <div style={{ border: '0px solid', overflow: 'hidden', height: '100%' }}>\n          <NetworkErrorToast networkError={networkError}/>\n          <SaveToast networkTraffic={networkTraffic}/>\n          <SyncToast text={syncText} setText={setSyncText}/>\n          {currentView === 'assignments' && <AssignmentList/>}\n          {currentView === 'courseOverview' && <CourseOverview/>}\n          {showObjectiveDetails && (<ObjectiveDescription objectiveId={showObjectiveDetails}/>)}\n          {visibilityDialogData && <VisibilityDialog {...visibilityDialogData} />}\n          {!process.env.REACT_APP_STANDALONE && (\n            <div\n              style={{\n                position: 'absolute',\n                left: '-24px',\n                top: '50%',\n                marginTop: '-25px',\n              }}\n            >\n              <StudyBeeHandle\n                style={{\n                  height: '52px',\n                }}\n              />\n              <div\n                style={{\n                  display: 'flex',\n                  position: 'absolute',\n                  top: 0,\n                  left: 1,\n                  right: 0,\n                  bottom: 8,\n                  alignItems: 'center',\n                  justifyContent: 'content',\n                  cursor: 'pointer',\n                }}\n                onClick={context.studybeeClose}\n              >\n                <img\n                  src={`chrome-extension://${chrome.runtime.id}/images/icon-128.png`}\n                  style={{ width: '25px', height: '25px' }}\n                />\n              </div>\n            </div>\n          )}\n          {drawerOpen\n          && <Drawer\n            student={student}\n            onNavigate={navigate}\n            selected={currentView}\n            onRefresh={async () => {\n              await Api.syncAssignments();\n              await Api.syncStudents();\n              setSyncText(getTranslation('assignmentsAndStudentsUpdatedToast'));\n              const v = currentView;\n              setCurrentView(null);\n              setTimeout(() => {\n                setCurrentView(v);\n              }, 1);\n            }}\n            close={() => {\n              setDrawerOpen(false);\n            }}/>}\n        </div>\n      </ThemeProvider>\n    </ErrorBoundary>\n  );\n};\n\nexport default App;\n","export default {\n  spacings: {\n    smallest: 4,\n    small: 8,\n    large: 16,\n    largest: 24,\n  },\n};\n","import { colors } from './index';\n\nconst dialogStyle = {\n  contentStyle: {\n    background: colors.white,\n    padding: '20px',\n    borderRadius: '8px',\n    border: `1px solid ${colors.borderColor}`,\n    boxShadow: '0px 5px 10px rgba(0,0,0,0.1)',\n  },\n  overlayStyle: { background: 'transparent', border: `1px solid ${colors.borderColor}` },\n  arrowStyle: { color: colors.white },\n};\n\nexport default { dialogStyle };\n","const Quill = require('quill');\n\nlet app;\n\n// declare ngQuill module\napp = angular.module('ngQuill', []);\n\napp.provider('ngQuillConfig', function () {\n  const config = {\n    // formats list\n    formats: [\n      'bold',\n      'italic',\n    ],\n    // default translations\n    translations: {\n      bold: 'Bold',\n      italic: 'Italic',\n    },\n  };\n\n  this.$get = function () {\n    return config;\n  };\n});\n\napp.service('ngQuillService', [\n  'ngQuillConfig', function (ngQuillConfig) {\n    // validate formats\n    this.validateFormats = function (checkFormats) {\n      return checkFormats.filter(format => ngQuillConfig.formats.indexOf(format) !== -1);\n    };\n  },\n]);\n\napp.component('ngQuillEditor', {\n  bindings: {\n    toolbarEntries: '@?',\n    toolbar: '@?',\n    save: '@?',\n    required: '@?editorRequired',\n    readOnly: '<?',\n    errorClass: '@?',\n    ngModel: '<',\n    callback: '&?',\n    name: '@?',\n  },\n  require: {\n    ngModelController: 'ngModel',\n  },\n  restrict: 'E',\n  templateUrl: 'ngQuill/template.html',\n  controller($scope, $element, $timeout, ngQuillService, ngQuillConfig) {\n    'ngInject';\n\n    const config = {\n      save: this.save || 'html',\n      readOnly: this.readOnly || false,\n      formats: this.toolbarEntries ? ngQuillService.validateFormats(this.toolbarEntries.split(' ')) : ngQuillConfig.formats,\n    };\n    let changed = false;\n    let editor;\n    let settingWithEditor = false;\n\n    this.hasFocus = false;\n\n    const setClass = function () {\n      // if editor content length <= 1 and content is required -> add custom error clas and ng-invalid\n      if (this.required && (!this.modelLength || this.modelLength <= 1)) {\n        $element.addClass('ng-invalid');\n        $element.removeClass('ng-valid');\n        // if form was reseted and input field set to empty\n        if (this.errorClass && changed && $element.hasClass('ng-dirty')) {\n          $element.children().addClass(this.errorClass);\n        }\n      } else { // set to valid\n        $element.removeClass('ng-invalid');\n        $element.addClass('ng-valid');\n        if (this.errorClass) {\n          $element.children().removeClass(this.errorClass);\n        }\n      }\n    }.bind(this);\n\n    const setChanges = function (changes) {\n      // toggle readOnly\n      if (changes.readOnly && changes.readOnly.currentValue !== changes.readOnly.previousValue) {\n        editor.editor[changes.readOnly.currentValue ? 'disable' : 'enable']();\n      }\n\n      // set initial value\n      if (changes.ngModel && changes.ngModel.currentValue !== changes.ngModel.previousValue) {\n        if (config.save === 'text') {\n          return editor.setText(changes.ngModel.currentValue || '');\n        }\n        if (config.save === 'contents') {\n          return editor.setContents(changes.ngModel.currentValue || '');\n        }\n        return editor.setHTML(changes.ngModel.currentValue || '');\n      }\n    };\n\n    // set required flag (if text editor is required)\n    this.required = this.required && this.required === 'true';\n\n    // default translations\n    this.dict = ngQuillConfig.translations;\n\n    this.shouldShow = function (formats) {\n      return formats.some(format => config.formats.indexOf(format) !== -1);\n    };\n\n    this.$onChanges = function (changes) {\n      // initial bindings\n      if (!editor) {\n        var deregister = $scope.$on('editorCreated', () => {\n          deregister();\n\n          setChanges(changes);\n        });\n\n        return;\n      }\n\n      if (settingWithEditor) {\n        return;\n      }\n\n      setChanges(changes);\n    };\n\n    this.$onInit = function () {\n      // init editor\n      editor = new Quill($element[0].querySelector('.advanced-wrapper .editor-container'), config);\n\n      // mark model as touched if editor lost focus\n      editor.on('selection-change', (range) => {\n        if (range) {\n          return;\n        }\n        $timeout(() => {\n          this.ngModelController.$setTouched();\n        });\n      });\n\n      // add toolbar afterwards.\n      if (this.toolbar && this.toolbar === 'true') {\n        // $timeout is need to wait for template render\n        $timeout(() => {\n          editor.addModule('toolbar', {\n            container: $element[0].querySelector('.advanced-wrapper .toolbar-container'),\n          });\n          this.toolbarCreated = true;\n          this.showToolbar = this.hasOwnProperty('showToolbar') ? this.showToolbar : true;\n        }, 500);\n      }\n\n      // provide event to get informed when editor is created -> pass editor object.\n      $timeout(() => {\n        $scope.$emit('editorCreated', editor, this.name);\n\n        // additional creation callback\n        if (this.callback) {\n          this.callback({\n            editor,\n            name: this.name,\n          });\n        }\n\n        // clear history of undo manager to avoid removing inital model value via ctrl + z\n        editor.getModule('undo-manager').clear();\n      });\n\n      // Update model on textchange\n      $timeout(() => {\n        editor.on('text-change', () => {\n          const oldChange = changed;\n          changed = true;\n\n          settingWithEditor = true;\n\n          $timeout(() => {\n            let setValue;\n\n            // Calculate content length\n            this.modelLength = editor.getLength();\n\n            // Check if error class should be set\n            if (oldChange) {\n              setClass();\n            }\n\n            if (config.save === 'text') {\n              setValue = editor.getText();\n            } else if (config.save === 'contents') {\n              setValue = editor.getContents();\n            } else {\n              setValue = editor.getHTML();\n            }\n\n            // Set new model value\n            if (editor.getLength() === 0) {\n              this.ngModelController.$setViewValue('');\n            } else {\n              this.ngModelController.$setViewValue(setValue);\n            }\n\n            settingWithEditor = false;\n          });\n        });\n      });\n\n      $element.focusout(() => {\n        $timeout(() => this.hasFocus = false);\n      });\n\n      $element.focusin(() => {\n        $timeout(() => this.hasFocus = true);\n      });\n\n      // Clean-up\n      $element.on('$destroy', () => {\n        editor.destroy();\n      });\n    };\n  },\n});\n\napp.run([\n  '$templateCache', function ($templateCache) {\n    // put template in template cache\n    return $templateCache.put('ngQuill/template.html',\n      `\n<div\n  id=\"content-container\"\n  ng-class=\"{ 'focus': $ctrl.hasFocus }\">\n  <div\n    class=\"advanced-wrapper\"\n    flex\n    layout=\"row\">\n    <div class=\"editor-container\"></div>\n    <input type=\"text\"\n           ng-model=\"$ctrl.modelLength\"\n           ng-if=\"$ctrl.required\"\n           ng-hide=\"true\"\n           ng-pattern=\"/^([2-9]|[1-9][0-9]+)$/\">\n    <div\n      class=\"toolbar\n             toolbar-container\"\n      ng-if=\"$ctrl.toolbar\"\n      ng-show=\"$ctrl.toolbarCreated && $ctrl.showToolbar\">\n      <span\n        class=\"ql-format-group\"\n        ng-if=\"$ctrl.shouldShow(['bold', 'italic'])\">\n        <md-button\n          class=\"md-icon-button\n                 sb-btn-one-margin\n                 ql-format-button\n                 ql-bold\"\n          aria-label=\"{{$ctrl.dict.bold}}\"\n          ng-if=\"$ctrl.shouldShow(['bold'])\">\n          <md-icon>format_bold</md-icon>\n        </md-button>\n        <md-button\n          class=\"md-icon-button\n                 sb-btn-one-margin\n                 ql-format-button\n                 ql-italic\"\n          aria-label=\"{{$ctrl.dict.italic}}\"\n          ng-if=\"$ctrl.shouldShow(['italic'])\">\n          <md-icon>format_italic</md-icon>\n        </md-button>\n      </span>\n    </div>\n  </div>\n</div>`);\n  },\n]);\n","var map = {\n\t\"./app.html\": 431,\n\t\"./assignments/shared/studentAssignmentTextarea/studentAssignmentTextarea.tpl.html\": 687,\n\t\"./assignments/studentAssessAssignment/studentAssessAssignment.tpl.html\": 689,\n\t\"./assignments/studentAssessAssignmentDrive/studentAssessAssignmentDrive.tpl.html\": 691,\n\t\"./assignments/studentAssignments/shared/components/studentAssignmentsList/studentAssignmentsList.tpl.html\": 692,\n\t\"./assignments/studentAssignments/studentAssignments.tpl.html\": 693,\n\t\"./assignments/studentAssignments/studentAssignmentsNotConfigured/studentAssignmentsNotConfigured.tpl.html\": 695,\n\t\"./assignments/studentAssignments/studentAssignmentsPublished/studentAssignmentsPublished.tpl.html\": 694,\n\t\"./assignments/teacherAssessAssignment/views/dialogs/changes_dialog.html\": 1264,\n\t\"./assignments/teacherAssessAssignment/views/main.html\": 1265,\n\t\"./assignments/teacherAssessAssignment/views/partials/assessment.html\": 1266,\n\t\"./assignments/teacherAssessAssignment/views/partials/batch_editing.html\": 1267,\n\t\"./assignments/teacherAssessAssignment/views/partials/not_configured.html\": 1268,\n\t\"./assignments/teacherAssessAssignment/views/partials/objectives_feedback.html\": 1269,\n\t\"./assignments/teacherAssessAssignment/views/partials/objectives_private_notes.html\": 1270,\n\t\"./assignments/teacherAssessAssignment/views/partials/objectives_self_assessment.html\": 1271,\n\t\"./assignments/teacherAssessAssignment/views/partials/overall_feedback.html\": 1272,\n\t\"./assignments/teacherAssessAssignment/views/partials/overall_private_notes.html\": 1273,\n\t\"./assignments/teacherAssessAssignment/views/partials/results.html\": 1274,\n\t\"./assignments/teacherAssessAssignmentDrive/views/dialogs/changes_dialog.html\": 1275,\n\t\"./assignments/teacherAssessAssignmentDrive/views/main.html\": 1276,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_batch_editing.html\": 1277,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_drive_all.html\": 1278,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_view_all.html\": 1279,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_view_assessment.html\": 1280,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_feedback.html\": 1281,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_priavte_notes.html\": 1282,\n\t\"./assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_self_assessment.html\": 1283,\n\t\"./assignments/teacherAssessAssignmentStudent/views/dialogs/changes_dialog.html\": 1284,\n\t\"./assignments/teacherAssessAssignmentStudent/views/main.html\": 1285,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_batch_editing.html\": 1286,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_classroom_all.html\": 1287,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_view_all.html\": 1288,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_view_assessment.html\": 1289,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_feedback.html\": 1290,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_priavte_notes.html\": 1291,\n\t\"./assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_self_assessment.html\": 1292,\n\t\"./assignments/teacherAssignments/shared/components/teacherAssessmentsList/teacherAssessmentsList.tpl.html\": 700,\n\t\"./assignments/teacherAssignments/shared/components/teacherAssignmentsDraftsList/teacherAssignmentsDraftsList.tpl.html\": 701,\n\t\"./assignments/teacherAssignments/shared/components/teacherAssignmentsList/teacherAssignmentsList.tpl.html\": 702,\n\t\"./assignments/teacherAssignments/teacherAssignments.tpl.html\": 703,\n\t\"./assignments/teacherAssignments/teacherAssignmentsDrafts/teacherAssignmentsDrafts.tpl.html\": 704,\n\t\"./assignments/teacherAssignments/teacherAssignmentsNotConfigured/teacherAssignmentsNotConfigured.tpl.html\": 705,\n\t\"./assignments/teacherAssignments/teacherAssignmentsPublished/teacherAssignmentsPublished.tpl.html\": 706,\n\t\"./assignments/teacherSetAssignmentObjectives/shared/components/objectiveGradeTextVisibilitySettings/objectiveGradeTextVisibilitySettings.tpl.html\": 708,\n\t\"./assignments/teacherSetAssignmentObjectives/views/dialogs/assign_confirmation.html\": 1293,\n\t\"./assignments/teacherSetAssignmentObjectives/views/dialogs/assign_success.html\": 1294,\n\t\"./assignments/teacherSetAssignmentObjectives/views/main.html\": 1295,\n\t\"./assignments/teacherSetAssignmentObjectives/views/partials/objectives.html\": 1296,\n\t\"./common/components/accordion/accordion.html\": 1297,\n\t\"./common/components/accordion/accordionFooter/accordionFooter.html\": 1298,\n\t\"./common/components/accordion/accordionHeader/accordionHeader.html\": 1299,\n\t\"./common/components/accordion/accordionHeader/accordionHeaderMenu/accordionHeaderMenu.tpl.html\": 504,\n\t\"./common/components/breadcrumbs/breadcrumbs.tpl.html\": 505,\n\t\"./common/components/longTextTooltip/longTextTooltip.html\": 1300,\n\t\"./common/dialogs/hint-dialog.html\": 1301,\n\t\"./components/course-progress/common/components/assessmentDetails/assessmentDetails.html\": 1302,\n\t\"./components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.html\": 1303,\n\t\"./components/course-progress/common/components/courseSummary/courseSummary.html\": 1304,\n\t\"./components/course-progress/common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html\": 1305,\n\t\"./components/course-progress/common/components/studentProfile/studentProfile.html\": 1306,\n\t\"./components/course-progress/common/components/studentProfile/studentProfileDetails/studentProfileDetails.html\": 1307,\n\t\"./components/course-progress/common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.html\": 1308,\n\t\"./components/course-progress/common/components/studentProgressInput/studentProgressInput.html\": 1309,\n\t\"./components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogConfirmation.html\": 1310,\n\t\"./components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogFail.html\": 1311,\n\t\"./components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogSuccess.html\": 1312,\n\t\"./components/course-progress/common/dialogs/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html\": 1313,\n\t\"./components/course-progress/common/dialogs/studentDetailsEdit/studentDetailsEditDialog.html\": 1314,\n\t\"./components/course-progress/student-course-progress/course-details/course-details.html\": 1315,\n\t\"./components/course-progress/student-course-progress/course-details/objectives-list/objectives-list.html\": 1316,\n\t\"./components/course-progress/student-course-progress/coursesList/courseListItem/courseListItem.html\": 1317,\n\t\"./components/course-progress/student-course-progress/coursesList/coursesList.html\": 1318,\n\t\"./components/course-progress/student-course-progress/coursesList/coursesListEmpty/coursesListEmpty.html\": 1319,\n\t\"./components/course-progress/student-course-progress/student-course-progress.html\": 1320,\n\t\"./components/course-progress/student-course-progress/student-objective-details/student-assignments-list/student-assignments-list.html\": 1321,\n\t\"./components/course-progress/student-course-progress/student-objective-details/student-objective-details.html\": 1322,\n\t\"./components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewDetails.tpl.html\": 640,\n\t\"./components/course-progress/teacher-course-progress/assignmentOverviewDetails/assignmentOverviewObjectivesList/assignmentOverviewObjectivesList.tpl.html\": 645,\n\t\"./components/course-progress/teacher-course-progress/objective-details/assignments-list/assignments-list.html\": 1323,\n\t\"./components/course-progress/teacher-course-progress/objective-details/objective-details.html\": 1324,\n\t\"./components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.html\": 1325,\n\t\"./components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.html\": 1326,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewContent/assignmentOverviewContent.tpl.html\": 647,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentOverviewStatus/assignmentOverviewStatus.tpl.html\": 648,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/assignmentsOverview/assignmentsOverview.tpl.html\": 646,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/coverageMatrixGrid.tpl.html\": 651,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGrid/gradePrognosis/gradePrognosis.tpl.html\": 655,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/coverageMatrixGridHeader/coverageMatrixGridHeader.tpl.html\": 652,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitch.tpl.html\": 653,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/listViewSwich/listViewSwitchDialog.tpl.html\": 654,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/objectivesList/objectivesList.tpl.html\": 649,\n\t\"./components/course-progress/teacher-course-progress/studentDetails/studentDetails.html\": 1327,\n\t\"./components/course-progress/teacher-course-progress/students-list/studentsList.html\": 1328,\n\t\"./components/course-progress/teacher-course-progress/teacher-course-progress.html\": 1329,\n\t\"./components/courseManagement/common/components/objective-details.html\": 1330,\n\t\"./components/courseManagement/common/dialogs/change-property-doublecheck-warning.html\": 1331,\n\t\"./components/courseManagement/common/dialogs/change-property-warning.html\": 1332,\n\t\"./components/courseManagement/common/dialogs/confirmation.html\": 1333,\n\t\"./components/courseManagement/common/dialogs/create-objective.html\": 1334,\n\t\"./components/courseManagement/common/dialogs/curriculum-details.html\": 1335,\n\t\"./components/courseManagement/common/dialogs/curriculum-library.html\": 1336,\n\t\"./components/courseManagement/common/dialogs/delete-course.html\": 1337,\n\t\"./components/courseManagement/common/dialogs/delete-objective.html\": 1338,\n\t\"./components/courseManagement/common/dialogs/edit-curriculum.html\": 1339,\n\t\"./components/courseManagement/common/dialogs/make-curriculum-private.html\": 1340,\n\t\"./components/courseManagement/common/dialogs/make-curriculum-public.html\": 1341,\n\t\"./components/courseManagement/common/dialogs/remove-curriculum-form-library.html\": 1342,\n\t\"./components/courseManagement/common/dialogs/rename-course.html\": 1343,\n\t\"./components/courseManagement/common/dialogs/rename-curriculum.html\": 1344,\n\t\"./components/courseManagement/common/dialogs/save-curriculum-to-library.html\": 1345,\n\t\"./components/courseManagement/common/dialogs/search-curriculum.html\": 1346,\n\t\"./components/courseManagement/common/dialogs/wrong-curriculum-setup.html\": 1347,\n\t\"./components/courseManagement/shared/cmEmptyObjectivesList/cmEmptyObjectivesList.tpl.html\": 686,\n\t\"./components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentCourseDetails.tpl.html\": 674,\n\t\"./components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectives.tpl.html\": 675,\n\t\"./components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesList/cmStudentObjectivesList.tpl.html\": 676,\n\t\"./components/courseManagement/studentCourseManagement/cmStudentCourseDetails/cmStudentObjectives/cmStudentObjectivesToolbar/cmStudentObjectivesToolbar.tpl.html\": 677,\n\t\"./components/courseManagement/studentCourseManagement/cmStudentCoursesList/cmStudentCoursesList.tpl.html\": 673,\n\t\"./components/courseManagement/studentCourseManagement/studentCourseManagement.tpl.html\": 672,\n\t\"./components/courseManagement/teacherCourseManagement/cmCurriculumLibrary/cmCurriculumLibrary.tpl.html\": 680,\n\t\"./components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherCourseDetails.tpl.html\": 681,\n\t\"./components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectives.tpl.html\": 682,\n\t\"./components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesList/cmTeacherObjectivesList.tpl.html\": 683,\n\t\"./components/courseManagement/teacherCourseManagement/cmTeacherCourseDetails/cmTeacherObjectives/cmTeacherObjectivesToolbar/cmTeacherObjectivesToolbar.tpl.html\": 684,\n\t\"./components/courseManagement/teacherCourseManagement/cmTeacherCoursesList/cmTeacherCoursesList.tpl.html\": 685,\n\t\"./components/courseManagement/teacherCourseManagement/teacherCourseManagement.tpl.html\": 679,\n\t\"./components/user-inactive/user-inactive.html\": 1348,\n\t\"./shared/components/assignObjectivesPopup/assignObjectivesPopup.tpl.html\": 667,\n\t\"./shared/components/assignmentCourseSelect/assignmentCourseSelect.tpl.html\": 661,\n\t\"./shared/components/assignmentGradeText/assignmentGradeText.tpl.html\": 662,\n\t\"./shared/components/assignmentIconType/assignmentIconType.tpl.html\": 664,\n\t\"./shared/components/assignmentStatusIcon/assignmentStatusIcon.tpl.html\": 666,\n\t\"./shared/components/assignmentsList/assignmentsList.tpl.html\": 665,\n\t\"./shared/components/groupedVisibility/groupedVisibility.tpl.html\": 668,\n\t\"./shared/components/helpButton/helpButton.tpl.html\": 669,\n\t\"./shared/components/material/mdSelectAll/mdSelectAll.tpl.html\": 660,\n\t\"./shared/upgrades/autocomplete/autocomplete.tpl.html\": 671,\n\t\"./userSetup/commons/dialogs/changeEducationalSystem.html\": 1349,\n\t\"./userSetup/commons/dialogs/saveInfo.html\": 1350,\n\t\"./userSetup/commons/dialogs/whatNowInfo.html\": 1351,\n\t\"./userSetup/components/userSetup/userSetup.html\": 1352,\n\t\"./userSetup/components/userSetupAgreement/userSetupAgreement.html\": 1353,\n\t\"./userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.html\": 1354,\n\t\"./userSetup/components/userSetupCheck/userSetupCheck.html\": 1355,\n\t\"./userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.html\": 1356,\n\t\"./userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.html\": 1357,\n\t\"./userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.html\": 1358,\n\t\"./userSetup/components/userSetupComplete/userSetupComplete.html\": 1359,\n\t\"./userSetup/components/userSetupRegisterSchool/userSetupRegisterSchool.tpl.html\": 659,\n\t\"./userSetup/components/userSetupSchoolSelect/userSetupSchoolSelect.tpl.html\": 658,\n\t\"./userSetup/components/userSetupSettings/userSetupSettings.html\": 1360,\n\t\"./userSetup/components/userSetupSlides/userSetupSlides.html\": 1361,\n\t\"./utils/views/backend_info.html\": 1362,\n\t\"./utils/views/counters.html\": 1363,\n\t\"./utils/views/knowledge_requirements.html\": 1364,\n\t\"./utils/views/loading_state.html\": 1365,\n\t\"./utils/views/main_menu.html\": 1366,\n\t\"./utils/views/noLearningObjectives.html\": 1367,\n\t\"./utils/views/not_configured_state.html\": 1368,\n\t\"./utils/views/not_logged_state.html\": 1369,\n\t\"./utils/views/sum_counters.html\": 1370,\n\t\"./utils/views/toast.html\": 1371,\n\t\"./utils/views/wrong_google_drive_file.html\": 1372,\n\t\"./utils/views/wrong_user_state.html\": 1373\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1263;","var path = 'assignments/teacherAssessAssignment/views/dialogs/changes_dialog.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_saveChangesModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_saveChangesModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.cancel()\\\"\\n            localize>\\n            __MSG_cancelBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.dontSave()\\\"\\n            localize>\\n            __MSG_dontSaveBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.save()\\\"\\n            ng-if=\\\"cd.allowToSave\\\"\\n            localize>\\n            __MSG_saveBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/main.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assignments teacher-assess-assignment\\\"\\n    layout=\\\"column\\\"\\n    layout-fill\\n    ng-if=\\\"vm.isConfigured\\\">\\n<!--  <course-student-list vm=\\\"vm\\\"/>-->\\n    <md-toolbar\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-toolbar\\\">\\n        <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"start center\\\"\\n            class=\\\"md-toolbar-tools\\\">\\n\\n            <menu-toggle ng-show=\\\"!vm.editMultiple.open\\\"\\n                ng-if=\\\"!vm.isModal\\\">\\n            </menu-toggle>\\n\\n            <md-button ng-show=\\\"!vm.editMultiple.open\\\"\\n                class=\\\"md-icon-button\\\"\\n                aria-label=\\\"__MSG_goBackBtn__\\\"\\n                ng-click=\\\"vm.historyBack()\\\"\\n                ng-if=\\\"vm.isModal\\\"\\n                localize>\\n                 <md-icon>\\n                     arrow_back\\n                 </md-icon>\\n            </md-button>\\n\\n            <div ng-show=\\\"!vm.editMultiple.open\\\"\\n                flex\\n                layout=\\\"column\\\"\\n                layout-align=\\\"center start\\\">\\n                <p\\n                    class=\\\"sb-toolbar-page-name\\\"\\n                    localize>\\n                    __MSG_assessAssignmentPage___\\n                </p>\\n                <p class=\\\"sb-toolbar-title\\\">{{ ::vm.assignmentTitle }}</p>\\n            </div>\\n          <div\\n            layout=\\\"row\\\"\\n            ng-show=\\\"vm.editMultiple.open\\\">\\n            <md-button\\n              class=\\\"sb-btn-nlrm\\\"\\n              aria-label=\\\"__MSG_exitBtnBatchEditing__\\\"\\n              ng-click=\\\"vm.showChangesDialog('cancelEditingMode')\\\"\\n              localize>\\n              __MSG_exitBtnBatchEditing__\\n            </md-button>\\n          </div>\\n          <div flex=\\\"auto\\\" ng-show=\\\"vm.editMultiple.open\\\"></div>\\n          <div layout=\\\"row\\\"  flex=\\\"none\\\">\\n<!--          <help-button ng-if=\\\"::vm.isConfigured\\\" link=\\\"teacherAssignmentClassHelpButtonUrl\\\"></help-button>-->\\n<!--          <help-button ng-if=\\\"::!vm.isConfigured\\\" link=\\\"teacherAssessAssignmentNotConfiguredHelpButtonUrl\\\"></help-button>-->\\n          <md-menu >\\n            <md-button\\n              aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n              class=\\\"md-icon-button\\\"\\n              ng-click=\\\"vm.openActionMenu($mdOpenMenu, $event)\\\"\\n              localize>\\n              <md-icon>\\n                more_vert\\n              </md-icon>\\n            </md-button>\\n\\n            <md-menu-content class=\\\"assignment auto-height\\\">\\n              <md-menu-label>\\n                {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n              </md-menu-label>\\n              <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::vm.viewMenuItems track by toolbarMenuItem.id\\\">\\n                <md-button ng-click=\\\"vm.onClickMenuItem(toolbarMenuItem);\\\">\\n                  <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n                  {{ ::toolbarMenuItem.label | localize }}\\n                </md-button>\\n              </md-menu-item>\\n              <md-menu-label ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                {{ ::'teacherAssignmentToolbarMenuGradeTextLabel' | localize }}\\n              </md-menu-label>\\n              <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\" ng-disabled=\\\"vm.editMultiple.open\\\">\\n                <md-button ng-click=\\\"vm.showGradeDescription()\\\">\\n                  <md-icon ng-visible=\\\"vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                  {{ ::'teacherAssignmentToolbarMenuItemShowGradeTextLabel' | localize }}\\n                </md-button>\\n              </md-menu-item>\\n              <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\" ng-disabled=\\\"vm.editMultiple.open\\\">\\n                <md-button ng-click=\\\"vm.hideGradeDescription()\\\">\\n                  <md-icon ng-visible=\\\"!vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                  {{ ::'teacherAssignmentToolbarMenuItemHideGradeTextLabel' | localize }}\\n                </md-button>\\n              </md-menu-item>\\n              <md-menu-divider></md-menu-divider>\\n              <md-menu-item>\\n                <md-button ng-click=\\\"vm.editMultipleAssignmentState()\\\" ng-disabled=\\\"vm.editMultiple.open\\\">\\n                  {{ ::'teacherAssignmentsAssessmentSetAssessmentForManyStudents' | localize }}\\n                </md-button>\\n              </md-menu-item>\\n              <md-menu-divider></md-menu-divider>\\n              <md-menu-item>\\n                <md-button ng-click=\\\"vm.setVisibility()\\\" localize ng-disabled=\\\"vm.editMultiple.open\\\">\\n                  __MSG_setVisibilityMenuItem__\\n                </md-button>\\n              </md-menu-item>\\n\\n              <md-menu-item>\\n                <md-button\\n                  ng-click=\\\"vm.editMultiple.open = !vm.editMultiple.open\\\"\\n                  ng-disabled=\\\"vm.currentEditingMode === 'objectives_self_assessment' || vm.editMultiple.open\\\"\\n                  localize>\\n                  __MSG_editMultipleBtn__\\n                </md-button>\\n              </md-menu-item>\\n              <md-menu-divider></md-menu-divider>\\n              <md-menu-item>\\n                <md-button ng-click=\\\"vm.editScalesAndObjectivesOption()\\\" localize ng-disabled=\\\"vm.editMultiple.open\\\">\\n                  __MSG_editScalesAndObjectivesOption__\\n                </md-button>\\n              </md-menu-item>\\n            </md-menu-content>\\n          </md-menu>\\n          </div>\\n        </div>\\n\\n\\n\\n        <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"{{ vm.editMultiple.open ? 'space-between center' : 'start center' }}\\\"\\n            class=\\\"md-toolbar-tools\\n                   md-toolbar-tools-bottom\\\">\\n            <md-input-container class=\\\"sb-toolbar-select\\n                                       sb-assessment-type\\\">\\n                <md-select\\n                    aria-label=\\\"__MSG_modeSelect__\\\"\\n                    ng-model=\\\"vm.editingMode\\\"\\n                    ng-change=\\\"vm.showChangesDialog('changeEditingMode')\\\"\\n                    localize>\\n                    <md-optgroup label=\\\"divider\\\">\\n                        <md-option value=\\\"assessment\\\" ng-disabled=\\\"vm.resultOnly\\\" localize>\\n                            __MSG_assessmentMode__\\n                        </md-option>\\n                        <md-option value=\\\"objectives_feedback\\\" ng-disabled=\\\"vm.resultOnly\\\" localize>\\n                            __MSG_objectivesFeedbackMode__\\n                        </md-option>\\n                        <md-option value=\\\"objectives_private_notes\\\" ng-disabled=\\\"vm.resultOnly\\\" localize>\\n                            __MSG_objectivesPrivateNotesMode__\\n                        </md-option>\\n                        <md-option value=\\\"objectives_self_assessment\\\" ng-disabled=\\\"vm.resultsOnly\\\" localize>\\n                            __MSG_teacherSelfAssessmentLabel__\\n                        </md-option>\\n                    </md-optgroup>\\n                    <md-optgroup label=\\\"divider\\\">\\n                        <md-option\\n                            value=\\\"results\\\"\\n                            localize>\\n                            __MSG_resultsMode__\\n                        </md-option>\\n                        <md-option\\n                            value=\\\"overall_feedback\\\"\\n                            localize>\\n                            __MSG_overallFeedbackMode__\\n                        </md-option>\\n                        <md-option\\n                            value=\\\"overall_private_notes\\\"\\n                            localize>\\n                            __MSG_overallPrivateNotesMode__\\n                        </md-option>\\n                    </md-optgroup>\\n                </md-select>\\n            </md-input-container>\\n        </div>\\n    </md-toolbar>\\n\\n    <loader type=\\\"double\\\"></loader>\\n\\n    <div\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-sticky\\n               sb-sticky-max-height\\\">\\n        <div\\n            class=\\\"sb-secondary-color-background\\\"\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/batch_editing.html'\\\"\\n            slide-toggle=\\\"vm.editMultiple.open\\\">\\n        </div>\\n    </div>\\n\\n    <md-content\\n        sticky-subheader\\n        save-scroll\\n        flex\\n        class=\\\"sb-hidden-x-scroll secondary-bg\\\">\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/assessment.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'assessment'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/objectives_feedback.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'objectives_feedback'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/objectives_private_notes.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'objectives_private_notes'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/objectives_self_assessment.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'objectives_self_assessment'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/results.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'results'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/overall_feedback.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'overall_feedback'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/overall_private_notes.html'\\\"\\n            ng-if=\\\"vm.currentEditingMode === 'overall_private_notes'\\\">\\n        </div>\\n    </md-content>\\n</div>\\n\\n<div\\n    layout=\\\"column\\\"\\n    ng-include=\\\"'assignments/teacherAssessAssignment/views/partials/not_configured.html'\\\"\\n    layout-fill\\n    ng-if=\\\"!vm.isConfigured\\\">\\n</div>\\n\\n<knowledge-requirements\\n    trigger=\\\"vm.triggerKnowledgeRequirements\\\"\\n    objective-id=\\\"vm.objectiveKnowledgeRequirements\\\">\\n</knowledge-requirements>\\n\\n<div\\n    class=\\\"sb-saving-indicator\\\"\\n    ng-show=\\\"vm.savingIndicatorVisible\\\">\\n    <span\\n        class=\\\"error\\\"\\n        ng-show=\\\"vm.savingError\\\"\\n        localize>\\n        __MSG_errorStatusIndicator__\\n    </span>\\n    <span\\n        ng-show=\\\"!vm.savingError && vm.savingInProgress > 0\\\"\\n        localize>\\n        __MSG_savingStatusIndicator__\\n    </span>\\n    <span\\n        ng-show=\\\"!vm.savingError && vm.savingInProgress === 0\\\"\\n        localize>\\n        __MSG_savedStatusIndicator__\\n    </span>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/assessment.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assess-assignment_view_assessment\\\">\\n\\n  <div ng-repeat=\\\"courseDefinition in vm.coursesDefinitions track by courseDefinition.id\\\">\\n<!--    <course-student-list-->\\n<!--      course-definition=\\\"courseDefinition\\\"-->\\n<!--      assignment=\\\"vm.assignment\\\"-->\\n<!--      navigation=\\\"vm.navigationHistory\\\"-->\\n<!--      vm=\\\"vm\\\"-->\\n<!--    ></course-student-list>-->\\n\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card>\\n    <div layout=\\\"column\\\"\\n         ng-repeat=\\\"student in courseDefinition.students track by student.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-parent-item sb-pl-16 sb-ptb-8\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          layout-align=\\\"start center\\\"\\n          class=\\\"sb-checkbox-reset md-primary\\\"\\n          aria-label=\\\"__MSG_studentCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxesGroup(student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"student.checked\\\"\\n          ng-show=\\\"vm.editMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <p\\n          flex\\n          class=\\\"sb-parent-item-name sb-item-clickable\\\"\\n          ng-click=\\\"vm.showChangesDialog('selectStudent', student.id)\\\">\\n          <app-assessment-status-icon [status]=\\\"student\\\" ng-hide=\\\"vm.editMultiple.open\\\"></app-assessment-status-icon>\\n                <span class=\\\"sb-parent-item-without-info\\\">\\n                    {{ ::student.full_name }}\\n                </span>\\n        </p>\\n\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button sb-btn-icon-small button-toggle\\\"\\n          aria-label=\\\"__MSG_toggleBtn__\\\"\\n          ng-click=\\\"vm.toggleStudent(student)\\\"\\n          ng-if=\\\"!student.fetching_objectives\\\"\\n          localize>\\n          <md-icon\\n            class=\\\"sb-icon-open\\\"\\n            ng-class=\\\"{open: student.open}\\\">\\n            keyboard_arrow_down\\n          </md-icon>\\n        </md-button>\\n        <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                              ng-if=\\\"student.fetching_objectives\\\"\\n                              md-mode=\\\"indeterminate\\\"\\n                              md-diameter=\\\"24px\\\"></md-progress-circular>\\n        <md-menu class=\\\"student-menu\\\" ng-hide=\\\"vm.editMultiple.open\\\">\\n          <md-button class=\\\"md-icon-button\\\"\\n                     ng-click=\\\"$mdMenu.open($event)\\\">\\n            <md-icon>more_vert</md-icon>\\n          </md-button>\\n          <md-menu-content class=\\\"assignment-status-menu-content\\\" >\\n            <md-menu-item ng-repeat=\\\"menuItem in vm.statusMenuItems track by menuItem.status\\\">\\n              <md-button ng-click=\\\"vm.changeAssessmentStatus(student.id, menuItem.status)\\\">\\n                <app-assessment-status-icon [status]=\\\"menuItem\\\"></app-assessment-status-icon>\\n                {{ menuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n\\n\\n      <div slide-toggle=\\\"student.open\\\"\\n           class=\\\"sb-child-item\\\">\\n        <div class=\\\"objective last-modify-parent\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-repeat=\\\"objective in student.objective_assessments track by objective.id\\\">\\n          <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n            ng-click=\\\"vm.assignmentCheckboxesSingle(objective, student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"objective.checked\\\"\\n            ng-show=\\\"vm.editMultiple.open\\\"\\n            localize>\\n          </md-checkbox>\\n\\n          <div flex\\n               layout=\\\"column\\\">\\n            <div class=\\\"assessment\\\">\\n              <div layout=\\\"column\\\"\\n                   layout-align=\\\"start stretch\\\">\\n                <div class=\\\"grade-info-wrapper\\\"\\n                     controller-as=\\\"vm\\\"\\n                     objective-knowledge-requirements>\\n                  <long-text-tooltip text=\\\"::objective.objective_name\\\"\\n                                     ng-if=\\\"vm.isTitleVisible(objective.objective_name)\\\">\\n                    <span class=\\\"assessment-name\\\">{{ ::objective.objective_name }}</span>\\n                  </long-text-tooltip>\\n\\n                </div>\\n                <div class=\\\"assessment-description\\\"\\n                     ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                     ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n              </div>\\n            </div>\\n\\n            <div layout=\\\"row\\\"\\n                 layout-align=\\\"start end\\\">\\n              <single-slider\\n                class=\\\"sb-nouislider flex last-modified-trigger\\\"\\n                grade-system=\\\"vm.gradeSystem\\\"\\n                auto-width=\\\"true\\\"\\n                ng-model=\\\"objective.grade_name\\\"\\n                ng-update=\\\"vm.updateDescription(event, objective, courseDefinition)\\\"\\n                ng-change=\\\"vm.changeSingleGrade(vm.debounceObjectiveAssessments, [objective], 'objective_slider')\\\"\\n                ng-if=\\\"!vm.gradeSystem.is_counter\\\">\\n              </single-slider>\\n\\n              <counters\\n                class=\\\"counters last-modified-trigger\\\"\\n                grade-system=\\\"vm.gradeSystem\\\"\\n                ng-model=\\\"objective.counter_grades\\\"\\n                assignment=\\\"objective\\\"\\n                saving-method=\\\"vm.changeObjectiveAssessments\\\"\\n                ng-if=\\\"vm.gradeSystem.is_counter\\\">\\n              </counters>\\n\\n              <div flex=\\\"nogrow\\\"\\n                   layout=\\\"column\\\"\\n                   layout-align=\\\"end center\\\">\\n\\n                <md-button class=\\\"md-icon-button visibility\\\"\\n                           flex=\\\"none\\\"\\n                           aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                           ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective], objective, 'grade_published', 'visibility')\\\"\\n                           localize>\\n                  <md-icon ng-class=\\\"{ 'sb-icon-green': objective.grade_published }\\\">\\n                    {{ objective.grade_published ? 'visibility' : 'visibility_off' }}\\n                  </md-icon>\\n                </md-button>\\n              </div>\\n\\n            </div>\\n            <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ objective.grade_last_edit | LastModified }}</span>\\n            <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                   ng-show=\\\"vm.isGradeTextVisible(objective)\\\">\\n            </assignment-grade-text>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </md-card>\\n  </div>\\n\\n  <div\\n    class=\\\"sb-pall-16\\\"\\n    ng-if=\\\"!vm.students.length\\\"\\n    localize>\\n    __MSG_noStudentsYet__\\n  </div>\\n\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/batch_editing.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" class=\\\"sb-plr-16\\\">\\n    <div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n        <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_selectAllCheckbox__\\\"\\n            ng-click=\\\"vm.assignmentCheckboxesAll(vm.editMultiple, vm.coursesDefinitions); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"vm.editMultiple.checkboxesChecked\\\"\\n            ng-show=\\\"vm.currentEditingMode == 'assessment' || vm.currentEditingMode == 'objectives_feedback' || vm.currentEditingMode == 'objectives_private_notes'\\\"\\n            localize>\\n        </md-checkbox>\\n\\n        <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_selectAllCheckbox__\\\"\\n            ng-click=\\\"vm.checkboxAll(vm.students, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"vm.editMultiple.checkboxChecked\\\"\\n            ng-show=\\\"vm.currentEditingMode == 'results'|| vm.currentEditingMode == 'overall_feedback' || vm.currentEditingMode == 'overall_private_notes'\\\"\\n            localize>\\n        </md-checkbox>\\n\\n        <p flex\\n            class=\\\"select-all-label\\\"\\n            localize>__MSG_selectAllCheckbox__</p>\\n\\n        <md-input-container\\n            class=\\\"sb-select-reset\\\"\\n            ng-show=\\\"vm.currentEditingMode == 'results' || vm.currentEditingMode == 'objectives_feedback' || vm.currentEditingMode == 'objectives_private_notes' || vm.currentEditingMode == 'overall_feedback' || vm.currentEditingMode == 'overall_private_notes'\\\">\\n            <md-select\\n                aria-label=\\\"__MSG_textSelect__\\\"\\n                ng-model=\\\"vm.editMultiple.textMode\\\"\\n                ng-init=\\\"vm.editMultiple.textMode = 'new_text'\\\"\\n                localize>\\n                <md-option value=\\\"new_text\\\" localize>__MSG_newTextOption__</md-option>\\n                <md-option value=\\\"append_text_first\\\" localize>__MSG_appendTextFirstOption__</md-option>\\n                <md-option value=\\\"append_text_last\\\" localize>__MSG_appendTextLastOption__</md-option>\\n            </md-select>\\n        </md-input-container>\\n\\n        <md-menu class=\\\"sb-btn-batchediting-vis\\\"\\n                 flex=\\\"none\\\"\\n                 md-position-mode=\\\"target-right target\\\"\\n                 ng-visible=\\\"vm.show\\\">\\n            <md-button class=\\\"md-icon-button\\\"\\n                       aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                       ng-click=\\\"$mdOpenMenu($event)\\\"\\n                       ng-disabled=\\\"true\\\"\\n                       localize>\\n                <md-icon\\n                    md-menu-align-target\\n                    ng-show=\\\"vm.editMultiple.visibility === 'not_changed'\\\">\\n                    visibility\\n                </md-icon>\\n\\n                <md-icon\\n                    md-menu-align-target\\n                    class=\\\"sb-icon-green\\\"\\n                    ng-show=\\\"vm.editMultiple.visibility === 'set_visible'\\\">\\n                    visibility\\n                </md-icon>\\n\\n                <md-icon\\n                    md-menu-align-target\\n                    class=\\\"md-warn\\\"\\n                    ng-show=\\\"vm.editMultiple.visibility === 'set_hidden'\\\">\\n                    visibility_off\\n                </md-icon>\\n            </md-button>\\n\\n            <md-menu-content width=\\\"3\\\">\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.editMultiple.visibility = 'not_changed'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon>visibility</md-icon>\\n                            <p flex localize>__MSG_notChangeVisibilityBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.editMultiple.visibility = 'set_visible'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon class=\\\"sb-icon-green\\\">visibility</md-icon>\\n                            <p flex localize>__MSG_setVisibleBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.editMultiple.visibility = 'set_hidden'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon class=\\\"md-warn\\\">visibility_off</md-icon>\\n                            <p flex localize>__MSG_setHiddenBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n            </md-menu-content>\\n        </md-menu>\\n    </div>\\n\\n    <div layout=\\\"column\\\"\\n         ng-show=\\\"vm.currentEditingMode != 'assessment' || !vm.gradeSystem.is_counter\\\">\\n        <single-slider\\n            class=\\\"sb-nouislider batch-editing flex sb-ptb-8\\\"\\n            grade-system=\\\"vm.gradeSystem\\\"\\n            ng-model=\\\"vm.editMultiple.grade\\\"\\n            ng-change=\\\"vm.checkEditMultiple()\\\"\\n            ng-show=\\\"vm.currentEditingMode == 'assessment' || vm.currentEditingMode == 'course_grade'\\\"\\n            ng-if=\\\"!vm.gradeSystem.is_counter\\\"\\n            data-batchediting=\\\"true\\\">\\n        </single-slider>\\n\\n        <md-input-container\\n            flex\\n            md-no-float\\n            class=\\\"sb-hide-errors\\\"\\n            ng-show=\\\"vm.currentEditingMode == 'results' || vm.currentEditingMode == 'objectives_feedback' || vm.currentEditingMode == 'objectives_private_notes' || vm.currentEditingMode == 'overall_feedback' || vm.currentEditingMode == 'overall_private_notes'\\\">\\n            <textarea\\n                md-detect-hidden=\\\"true\\\"\\n                aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                placeholder=\\\"\\\"\\n                ng-model=\\\"vm.editMultiple.textField\\\"\\n                ng-change=\\\"vm.checkEditMultiple()\\\"\\n                localize>\\n            </textarea>\\n        </md-input-container>\\n\\n      <div layout=\\\"row\\\"\\n           flex layout-align=\\\"end\\\">\\n        <md-progress-circular\\n          md-diameter=\\\"20\\\"\\n          class=\\\"sb-progress-circular-batch-editing\\\"\\n          ng-disabled=\\\"!vm.savingInProgress\\\"\\n          ng-hide=\\\"!vm.savingInProgress\\\">\\n        </md-progress-circular>\\n      <md-button align=\\\"right\\\"\\n        class=\\\"sb-btn-nlrm\\\"\\n        aria-label=\\\"__MSG_applyBtnBatchEditing__\\\"\\n        ng-click=\\\"vm.saveEditMultiple()\\\"\\n        ng-disabled=\\\"!vm.editMultiple.changesToSave || !vm.editMultiple.anyCheckboxChecked\\\"\\n        localize>\\n        __MSG_applyBtnBatchEditing__\\n      </md-button>\\n      </div>\\n\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/not_configured.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" layout-fill ng-if=\\\"!vm.isSelectedStudent\\\">\\n    <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar\\\">\\n        <div layout=\\\"row\\\" layout-align=\\\"start center\\\" class=\\\"md-toolbar-tools\\\">\\n            <menu-toggle\\n                ng-if=\\\"!vm.isModal\\\">\\n            </menu-toggle>\\n\\n            <md-button\\n                class=\\\"md-icon-button\\\"\\n                aria-label=\\\"__MSG_goBackBtn__\\\"\\n                ng-click=\\\"vm.historyBack()\\\"\\n                ng-if=\\\"vm.isModal\\\"\\n                localize>\\n                 <md-icon>\\n                     arrow_back\\n                 </md-icon>\\n            </md-button>\\n\\n            <div flex layout=\\\"column\\\" layout-align=\\\"center start\\\">\\n                <p class=\\\"sb-toolbar-page-name\\\" localize>__MSG_notConfiguredPage__</p>\\n                <p class=\\\"sb-toolbar-title\\\">{{ ::vm.assignmentTitle }}</p>\\n            </div>\\n\\n<!--          <help-button link=\\\"teacherAssignmentStreamNotConfiguredHelpButtonUrl\\\"></help-button>-->\\n\\n            <md-menu>\\n                <md-button\\n                    aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n                    class=\\\"md-icon-button\\\"\\n                    ng-click=\\\"vm.openActionMenu($mdOpenMenu, $event)\\\"\\n                    localize>\\n                    <md-icon>\\n                        more_vert\\n                    </md-icon>\\n                </md-button>\\n\\n                <md-menu-content width=\\\"3\\\">\\n                    <md-menu-item>\\n                        <md-button\\n                            ng-click=\\\"vm.editScalesAndObjectivesOption(true)\\\"\\n                            localize>\\n                            __MSG_editScalesAndObjectivesOption__\\n                        </md-button>\\n                    </md-menu-item>\\n                </md-menu-content>\\n            </md-menu>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-progress-linear\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-progress-linear sb-progress-linear-single-toolbar\\\"\\n        ng-show=\\\"vm.showLoading()\\\"\\n        md-mode=\\\"indeterminate\\\">\\n    </md-progress-linear>\\n\\n    <md-content flex layout=\\\"column\\\" layout-align=\\\"start center\\\" class=\\\"sb-hidden-x-scroll sb-pall-16\\\">\\n      <div flex layout=\\\"column\\\">\\n      <p class=\\\"sb-pall-16 no-objectives\\\" localize>__MSG_assessAssignmentNotConfigured__</p>\\n        <md-button\\n            class=\\\"sb-btn md-raised md-primary md-button md-ink-ripple\\\"\\n            ng-click=\\\"vm.editScalesAndObjectivesOption(true)\\\"\\n            localize>\\n            __MSG_editScalesAndObjectivesOption__\\n        </md-button>\\n      </div>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/objectives_feedback.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assess-assignment_view_assessment\\\"\\n     layout=\\\"column\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.coursesDefinitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n  <md-card>\\n    <div layout=\\\"column\\\"\\n         ng-repeat=\\\"student in courseDefinition.students track by student.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-parent-item sb-pl-16 sb-ptb-8\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset md-primary\\\"\\n          aria-label=\\\"__MSG_studentCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxesGroup(student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"student.checked\\\"\\n          ng-show=\\\"vm.editMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <p\\n          flex\\n          class=\\\"sb-parent-item-name sb-item-clickable\\\"\\n          ng-click=\\\"vm.showChangesDialog('selectStudent', student.id)\\\">\\n          <app-assessment-status-icon [status]=\\\"student\\\" ng-hide=\\\"vm.editMultiple.open\\\"></app-assessment-status-icon>\\n                <span class=\\\"sb-parent-item-without-info\\\">\\n                    {{ ::student.full_name }}\\n                </span>\\n        </p>\\n\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button sb-btn-icon-small button-toggle\\\"\\n          aria-label=\\\"__MSG_toggleBtn__\\\"\\n          ng-click=\\\"vm.toggleStudent(student)\\\"\\n          ng-if=\\\"!student.fetching_objectives\\\"\\n          localize>\\n          <md-icon\\n            class=\\\"sb-icon-open\\\"\\n            ng-class=\\\"{open: student.open}\\\">\\n            keyboard_arrow_down\\n          </md-icon>\\n        </md-button>\\n\\n        <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                              ng-if=\\\"student.fetching_objectives\\\"\\n                              md-mode=\\\"indeterminate\\\"\\n                              md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n        <md-menu class=\\\"student-menu\\\" ng-hide=\\\"vm.editMultiple.open\\\">\\n          <md-button class=\\\"md-icon-button\\\"\\n                     ng-click=\\\"$mdMenu.open($event)\\\">\\n            <md-icon>more_vert</md-icon>\\n          </md-button>\\n          <md-menu-content>\\n            <md-menu-item ng-repeat=\\\"menuItem in vm.statusMenuItems track by menuItem.status\\\">\\n              <md-button ng-click=\\\"vm.changeAssessmentStatus(student.id, menuItem.status)\\\">\\n                <app-assessment-status-icon [status]=\\\"menuItem\\\"></app-assessment-status-icon>\\n                {{ menuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n\\n      <div slide-toggle=\\\"student.open\\\"\\n           class=\\\"sb-child-item\\\">\\n        <div class=\\\"objective last-modify-parent\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-repeat=\\\"objective in student.objective_assessments track by objective.id\\\">\\n          <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n            ng-click=\\\"vm.assignmentCheckboxesSingle(objective, student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"objective.checked\\\"\\n            ng-show=\\\"vm.editMultiple.open\\\"\\n            localize>\\n          </md-checkbox>\\n\\n          <div flex\\n               layout=\\\"column\\\">\\n            <div class=\\\"assessment\\\">\\n              <div layout=\\\"column\\\"\\n                   layout-align=\\\"start stretch\\\">\\n                <div class=\\\"grade-info-wrapper\\\"\\n                     controller-as=\\\"vm\\\"\\n                     objective-knowledge-requirements>\\n                  <long-text-tooltip text=\\\"::objective.objective_name\\\"\\n                                     ng-if=\\\"vm.isTitleVisible(objective.objective_name)\\\">\\n                    <span class=\\\"assessment-name\\\">{{ ::objective.objective_name }}</span>\\n                  </long-text-tooltip>\\n\\n                </div>\\n                <div class=\\\"assessment-description\\\"\\n                     ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                     ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n              </div>\\n            </div>\\n\\n            <div layout=\\\"row\\\"\\n                 layout-align=\\\"start start\\\">\\n              <md-input-container md-no-float=\\\"false\\\"\\n                                  flex\\n                                  class=\\\"sb-truncate-gray sb-hide-errors notes-input last-modified-trigger\\\">\\n                        <textarea\\n                          md-detect-hidden=\\\"true\\\"\\n                          aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                          placeholder=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                          ng-model=\\\"objective.feedback\\\"\\n                          mixpanel-text-event=\\\"feedback_to_student_on_objective\\\"\\n                          ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective])\\\"\\n                          localize>\\n                        </textarea>\\n              </md-input-container>\\n\\n              <div flex=\\\"nogrow\\\"\\n                   layout=\\\"column\\\"\\n                   layout-align=\\\"end center\\\">\\n\\n                <md-button class=\\\"md-icon-button visibility\\\"\\n                           flex=\\\"none\\\"\\n                           aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                           ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective], objective, 'grade_published', 'visibility')\\\"\\n                           localize>\\n                  <md-icon ng-class=\\\"{ 'sb-icon-green': objective.grade_published }\\\">\\n                    {{ objective.grade_published ? 'visibility' : 'visibility_off' }}\\n                  </md-icon>\\n                </md-button>\\n              </div>\\n            </div>\\n            <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ objective.feedback_last_edit | LastModified }}</span>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </md-card>\\n  </div>\\n</div>\\n\\n<div\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/objectives_private_notes.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assess-assignment_view_assessment\\\"\\n     layout=\\\"column\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.coursesDefinitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n<md-card>\\n    <div layout=\\\"column\\\"\\n         ng-repeat=\\\"student in courseDefinition.students track by student.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-parent-item sb-pl-16 sb-ptb-8\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset md-primary\\\"\\n          aria-label=\\\"__MSG_studentCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxesGroup(student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"student.checked\\\"\\n          ng-show=\\\"vm.editMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <p\\n          flex\\n          class=\\\"sb-parent-item-name sb-item-clickable\\\"\\n          ng-click=\\\"vm.showChangesDialog('selectStudent', student.id)\\\">\\n          <app-assessment-status-icon [status]=\\\"student\\\" ng-hide=\\\"vm.editMultiple.open\\\"></app-assessment-status-icon>\\n                <span class=\\\"sb-parent-item-without-info\\\">\\n                    {{ ::student.full_name }}\\n                </span>\\n        </p>\\n\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button sb-btn-icon-small button-toggle\\\"\\n          aria-label=\\\"__MSG_toggleBtn__\\\"\\n          ng-click=\\\"vm.toggleStudent(student)\\\"\\n          ng-if=\\\"!student.fetching_objectives\\\"\\n          localize>\\n          <md-icon\\n            class=\\\"sb-icon-open\\\"\\n            ng-class=\\\"{open: student.open}\\\">\\n            keyboard_arrow_down\\n          </md-icon>\\n        </md-button>\\n\\n        <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                              ng-if=\\\"student.fetching_objectives\\\"\\n                              md-mode=\\\"indeterminate\\\"\\n                              md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n        <md-menu class=\\\"student-menu\\\" ng-hide=\\\"vm.editMultiple.open\\\">\\n          <md-button class=\\\"md-icon-button\\\"\\n                     ng-click=\\\"$mdMenu.open($event)\\\">\\n            <md-icon>more_vert</md-icon>\\n          </md-button>\\n          <md-menu-content>\\n            <md-menu-item ng-repeat=\\\"menuItem in vm.statusMenuItems track by menuItem.status\\\">\\n              <md-button ng-click=\\\"vm.changeAssessmentStatus(student.id, menuItem.status)\\\">\\n                <app-assessment-status-icon [status]=\\\"menuItem\\\"></app-assessment-status-icon>\\n                {{ menuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n\\n      <div slide-toggle=\\\"student.open\\\"\\n           class=\\\"sb-child-item\\\">\\n        <div class=\\\"objective last-modify-parent\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-repeat=\\\"objective in student.objective_assessments track by objective.id\\\">\\n          <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n            ng-click=\\\"vm.assignmentCheckboxesSingle(objective, student.objective_assessments, student, vm.coursesDefinitions, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"objective.checked\\\"\\n            ng-show=\\\"vm.editMultiple.open\\\"\\n            localize>\\n          </md-checkbox>\\n\\n          <div flex\\n               layout=\\\"column\\\">\\n            <div class=\\\"assessment\\\">\\n              <!--ng-class=\\\"{ 'with-description': vm.isDescriptionVisible(objective.description) }\\\"-->\\n              <!--ng-click=\\\"vm.triggerKnowledgeRequirements = !vm.triggerKnowledgeRequirements; vm.objectiveKnowledgeRequirements = objective.objective\\\">-->\\n              <div layout=\\\"column\\\"\\n                   layout-align=\\\"start stretch\\\">\\n                <div class=\\\"grade-info-wrapper\\\"\\n                     controller-as=\\\"vm\\\"\\n                     objective-knowledge-requirements>\\n                  <long-text-tooltip text=\\\"::objective.objective_name\\\"\\n                                     ng-if=\\\"vm.isTitleVisible(objective.objective_name)\\\">\\n                    <span class=\\\"assessment-name\\\">{{ ::objective.objective_name }}</span>\\n                  </long-text-tooltip>\\n\\n                </div>\\n                <div class=\\\"assessment-description\\\"\\n                     ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                     ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n              </div>\\n            </div>\\n            <div layout=\\\"row\\\"\\n                 layout-align=\\\"start start\\\">\\n            <md-input-container md-no-float=\\\"false\\\"\\n                                flex\\n                                class=\\\"sb-truncate-gray sb-hide-errors last-modified-trigger notes-input\\\">\\n\\n              <textarea\\n                md-detect-hidden=\\\"true\\\"\\n                aria-label=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n                placeholder=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n                ng-model=\\\"objective.private_note\\\"\\n                ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective], 'private_note')\\\"\\n                localize>\\n              </textarea>\\n              <div flex layout=\\\"row\\\" layout-align=\\\"end none\\\">\\n                <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ objective.private_note_last_edit | LastModified }}</span>\\n              </div>\\n            </md-input-container>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n</md-card>\\n  </div>\\n</div>\\n\\n<div\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/objectives_self_assessment.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assess-assignment_view_assessment\\\"\\n     layout=\\\"column\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.coursesDefinitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n<md-card>\\n    <div layout=\\\"column\\\"\\n         ng-repeat=\\\"student in courseDefinition.students track by student.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-parent-item sb-pl-16 sb-ptb-8\\\">\\n        <p\\n          flex\\n          class=\\\"sb-parent-item-name sb-item-clickable\\\"\\n          ng-click=\\\"vm.showChangesDialog('selectStudent', student.id)\\\">\\n          <app-assessment-status-icon ng-visible=\\\"vm.viewReady\\\" [status]=\\\"student\\\"></app-assessment-status-icon>\\n                <span class=\\\"sb-parent-item-without-info\\\">\\n                    {{ ::student.full_name }}\\n                </span>\\n        </p>\\n\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button sb-btn-icon-small button-toggle\\\"\\n          aria-label=\\\"__MSG_toggleBtn__\\\"\\n          ng-click=\\\"vm.toggleStudent(student)\\\"\\n          ng-if=\\\"!student.fetching_objectives\\\"\\n          localize>\\n          <md-icon\\n            class=\\\"sb-icon-open\\\"\\n            ng-class=\\\"{open: student.open}\\\">\\n            keyboard_arrow_down\\n          </md-icon>\\n        </md-button>\\n\\n        <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                              ng-if=\\\"student.fetching_objectives\\\"\\n                              md-mode=\\\"indeterminate\\\"\\n                              md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n        <md-menu class=\\\"student-menu\\\">\\n          <md-button class=\\\"md-icon-button\\\"\\n                     ng-click=\\\"$mdMenu.open($event)\\\">\\n            <md-icon>more_vert</md-icon>\\n          </md-button>\\n          <md-menu-content>\\n            <md-menu-item ng-repeat=\\\"menuItem in vm.statusMenuItems track by menuItem.status\\\">\\n              <md-button ng-click=\\\"vm.changeAssessmentStatus(student.id, menuItem.status)\\\">\\n                <app-assessment-status-icon [status]=\\\"menuItem\\\"></app-assessment-status-icon>\\n                {{ menuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n\\n      <div slide-toggle=\\\"student.open\\\"\\n           class=\\\"sb-child-item\\\">\\n        <div\\n          layout=\\\"row\\\"\\n          layout-align=\\\"start start\\\"\\n          class=\\\"objective last-modify-parent\\\"\\n          ng-repeat=\\\"objective in student.objective_assessments track by objective.id\\\">\\n          <div flex\\n               layout=\\\"column\\\">\\n            <div class=\\\"assessment\\\">\\n              <div layout=\\\"column\\\"\\n                   layout-align=\\\"start stretch\\\">\\n                <div class=\\\"grade-info-wrapper\\\"\\n                     controller-as=\\\"vm\\\"\\n                     objective-knowledge-requirements>\\n                  <long-text-tooltip text=\\\"::objective.objective_name\\\"\\n                                     ng-if=\\\"vm.isTitleVisible(objective.objective_name)\\\">\\n                    <span class=\\\"assessment-name\\\">{{ ::objective.objective_name }}</span>\\n                  </long-text-tooltip>\\n\\n                </div>\\n                <div class=\\\"assessment-description\\\"\\n                     ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                     ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n              </div>\\n            </div>\\n            <div layout=\\\"row\\\"\\n                 layout-align=\\\"start start\\\">\\n            <md-input-container md-no-float=\\\"false\\\"\\n                                flex\\n                                class=\\\"sb-truncate-gray sb-hide-errors notes-input last-modified-trigger\\\">\\n              <textarea\\n                md-detect-hidden=\\\"true\\\"\\n                aria-label=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n                placeholder=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n                ng-model=\\\"objective.self_assessment\\\"\\n                readonly\\n                localize>\\n                        </textarea>\\n            </md-input-container>\\n            </div>\\n            <div flex layout=\\\"row\\\" layout-align=\\\"end none\\\">\\n              <span class=\\\"sb-child-item-with-date float last-modify-tag\\\">{{ objective.self_assessment_last_edit | LastModified }}</span>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n</md-card>\\n  </div>\\n</div>\\n\\n<div\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/overall_feedback.html';\nvar html = \"<md-card class=\\\"teacher-assess-assignment_view_assessment sb-parent-item sb-parent-item-no-border sb-pl-16 sb-ptb-8\\\"\\n  layout=\\\"row\\\"\\n  layout-align=\\\"start start\\\"\\n  ng-repeat=\\\"student in ::vm.students track by student.student_id\\\"\\n  ng-if=\\\"vm.students.length\\\">\\n  <md-checkbox\\n    flex=\\\"none\\\"\\n    class=\\\"sb-checkbox-reset-full md-primary\\\"\\n    aria-label=\\\"__MSG_studentCheckbox__\\\"\\n    ng-click=\\\"vm.checkboxSingle(student, vm.students, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n    ng-checked=\\\"student.checked\\\"\\n    ng-show=\\\"vm.editMultiple.open\\\"\\n    localize>\\n  </md-checkbox>\\n\\n  <div flex\\n       layout=\\\"column\\\"\\n       class=\\\"last-modify-parent\\\">\\n    <p\\n      class=\\\"sb-parent-item-name-overall sb-item-clickable\\\"\\n      ng-click=\\\"vm.clickStudent(student.student_id)\\\">\\n      <span class=\\\"sb-parent-item-without-info\\\">{{ ::student.student_name }}</span>\\n    </p>\\n\\n    <div layout=\\\"row\\\"\\n         layout-align=\\\"start start\\\">\\n      <md-input-container md-no-float=\\\"false\\\"\\n                          flex\\n                          class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_overallFeedbackInput__\\\"\\n              placeholder=\\\"__MSG_overallFeedbackInput__\\\"\\n              ng-model=\\\"student.feedback\\\"\\n              ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, [student], 'feedback_to_student_on_overall_assignment')\\\"\\n              localize>\\n            </textarea>\\n      </md-input-container>\\n\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\">\\n        <md-button class=\\\"md-icon-button visibility\\\"\\n                   flex=\\\"none\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"vm.changeSingleVisible(vm.changeAssignmentsObjectives, [student], student, 'result_published', 'visibility')\\\"\\n                   localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': student.feedback_published }\\\">\\n            {{ student.feedback_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ student.feedback_last_edit | LastModified }}</span>\\n  </div>\\n</md-card>\\n\\n<md-card\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</md-card>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/overall_private_notes.html';\nvar html = \"<md-card class=\\\"teacher-assess-assignment_view_assessment sb-parent-item sb-parent-item-no-border sb-pl-16 sb-ptb-8\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start start\\\"\\n     ng-repeat=\\\"student in ::vm.students track by student.student_id\\\"\\n     ng-if=\\\"vm.students.length\\\">\\n  <md-checkbox\\n    flex=\\\"none\\\"\\n    class=\\\"sb-checkbox-reset-full md-primary\\\"\\n    aria-label=\\\"__MSG_studentCheckbox__\\\"\\n    ng-click=\\\"vm.checkboxSingle(student, vm.students, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n    ng-checked=\\\"student.checked\\\"\\n    ng-show=\\\"vm.editMultiple.open\\\"\\n    localize>\\n  </md-checkbox>\\n\\n  <div class=\\\"last-modify-parent\\\"\\n       flex\\n       layout=\\\"column\\\">\\n    <p\\n      class=\\\"sb-parent-item-name-overall sb-item-clickable\\\"\\n      ng-click=\\\"vm.clickStudent(student.student_id)\\\">\\n      <span class=\\\"sb-parent-item-without-info\\\">{{ ::student.student_name }}</span>\\n    </p>\\n\\n    <div layout=\\\"row\\\"\\n         layout-align=\\\"start end\\\">\\n      <md-input-container md-no-float=\\\"false\\\"\\n                          flex\\n                          class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n        <textarea md-detect-hidden=\\\"true\\\"\\n                  aria-label=\\\"__MSG_overallPrivateNoteInput__\\\"\\n                  placeholder=\\\"__MSG_overallPrivateNoteInput__\\\"\\n                  ng-model=\\\"student.private_note\\\"\\n                  ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, [student], 'overall_private_note')\\\"\\n                  localize>\\n            </textarea>\\n        <div flex layout=\\\"row\\\" layout-align=\\\"end none\\\">\\n          <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ student.private_note_last_edit | LastModified }}</span>\\n        </div>\\n      </md-input-container>\\n    </div>\\n  </div>\\n</md-card>\\n\\n<md-card\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</md-card>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignment/views/partials/results.html';\nvar html = \"<md-card class=\\\"teacher-assess-assignment_view_assessment sb-parent-item sb-parent-item-no-border sb-pl-16 sb-ptb-8\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start start\\\"\\n     ng-repeat=\\\"student in ::vm.students track by student.student_id\\\"\\n     ng-if=\\\"vm.students.length\\\">\\n  <md-checkbox\\n    flex=\\\"none\\\"\\n    class=\\\"sb-checkbox-reset-full md-primary\\\"\\n    aria-label=\\\"__MSG_studentCheckbox__\\\"\\n    ng-click=\\\"vm.checkboxSingle(student, vm.students, vm.editMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n    ng-checked=\\\"student.checked\\\"\\n    ng-show=\\\"vm.editMultiple.open\\\"\\n    localize>\\n  </md-checkbox>\\n\\n  <div class=\\\"last-modify-parent\\\"\\n       flex\\n       layout=\\\"column\\\">\\n    <p\\n      class=\\\"sb-parent-item-name-overall sb-item-clickable\\\"\\n      ng-click=\\\"vm.clickStudent(student.student_id)\\\">\\n      <span class=\\\"sb-parent-item-without-info\\\">{{ ::student.student_name }}</span>\\n    </p>\\n\\n    <div layout=\\\"row\\\"\\n         layout-align=\\\"start start\\\">\\n      <md-input-container md-no-float=\\\"false\\\"\\n                          flex\\n                          class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_resultsInput__\\\"\\n              placeholder=\\\"__MSG_resultsInput__\\\"\\n              ng-model=\\\"student.result\\\"\\n              ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, [student], 'result')\\\"\\n              localize>\\n            </textarea>\\n      </md-input-container>\\n\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\">\\n        <md-button class=\\\"md-icon-button visibility\\\"\\n                   flex=\\\"none\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"vm.changeSingleVisible(vm.changeAssignmentsObjectives, [student], student, 'result_published', 'visibility')\\\"\\n                   localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': student.result_published }\\\">\\n            {{ student.result_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-child-item-with-date last-modify-tag\\\">{{ student.result_last_edit | LastModified }}</span>\\n  </div>\\n</md-card>\\n\\n<md-card\\n  class=\\\"sb-pall-16\\\"\\n  ng-if=\\\"!vm.students.length\\\"\\n  localize>\\n  __MSG_noStudentsYet__\\n</md-card>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/dialogs/changes_dialog.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_saveChangesModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_saveChangesModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.cancel()\\\"\\n            localize>\\n            __MSG_cancelBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.dontSave()\\\"\\n            localize>\\n            __MSG_dontSaveBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.save()\\\"\\n            ng-if=\\\"cd.allowToSave\\\"\\n            localize>\\n            __MSG_saveBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/main.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-assignments teacher-assess-assignment-student\\\"\\n    layout=\\\"column\\\"\\n    layout-fill>\\n    <md-toolbar\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-toolbar\\\">\\n        <div layout=\\\"row\\\"\\n             layout-align=\\\"space-between start\\\">\\n          <div\\n              layout=\\\"column\\\"\\n              layout-align=\\\"center start\\\"\\n              class=\\\"md-toolbar-tools\\\"\\n              ng-show=\\\"!vm.studentEditMultiple.open\\\">\\n              <p class=\\\"sb-toolbar-title\\\">{{ ::vm.selectedAssignment.student_name }}</p>\\n\\n              <md-input-container class=\\\"sb-toolbar-select\\n                                         sb-select-toolbar-20\\n                                         sb-select-toolbar-up\\\">\\n                  <md-select\\n                      aria-label=\\\"__MSG_assignmentSelected__\\\"\\n                      ng-model=\\\"vm.assignmentSelected\\\"\\n                      ng-change=\\\"vm.changeAssignment()\\\"\\n                      localize>\\n                      <md-option\\n                          value=\\\"{{ ::assignment.id }}\\\"\\n                          ng-repeat=\\\"assignment in vm.studentAssignments\\\">\\n                          {{ ::assignment.assignment_title }}\\n                      </md-option>\\n                  </md-select>\\n              </md-input-container>\\n          </div>\\n\\n          <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"start center\\\"\\n            ng-show=\\\"vm.studentEditMultiple.open\\\">\\n            <md-button\\n              class=\\\"sb-btn-nlrm\\\"\\n              aria-label=\\\"__MSG_exitBtnBatchEditing__\\\"\\n              ng-click=\\\"vm.showChangesDialog('cancelEditingMode')\\\"\\n              localize>\\n              __MSG_exitBtnBatchEditing__\\n            </md-button>\\n          </div>\\n          <div flex ng-show=\\\"vm.studentEditMultiple.open\\\"></div>\\n\\n          <div layout=\\\"row\\\" flex=\\\"none\\\" layout-align=\\\"end center\\\">\\n<!--            <help-button link=\\\"teacherAssignmentsDriveSingleStudentEditHeaderHelpButtonUrl\\\"></help-button>-->\\n            <md-menu>\\n              <md-button\\n                aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n                class=\\\"md-icon-button\\\"\\n                ng-click=\\\"vm.openActionMenu($mdOpenMenu, $event)\\\"\\n                localize>\\n                <md-icon>\\n                  more_vert\\n                </md-icon>\\n              </md-button>\\n\\n              <md-menu-content class=\\\"assignment auto-height\\\">\\n                <md-menu-label>\\n                  {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n                </md-menu-label>\\n                <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::vm.viewMenuItems track by toolbarMenuItem.id\\\">\\n                  <md-button ng-click=\\\"vm.onClickMenuItem(toolbarMenuItem);\\\">\\n                    <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n                    {{ ::toolbarMenuItem.label | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-label  ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  {{ ::'teacherAssignmentToolbarMenuGradeTextLabel' | localize }}\\n                </md-menu-label>\\n                <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  <md-button ng-click=\\\"vm.showGradeDescription();\\\">\\n                    <md-icon ng-visible=\\\"vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                    {{ ::'teacherAssignmentToolbarMenuItemShowGradeTextLabel' | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  <md-button ng-click=\\\"vm.hideGradeDescription();\\\">\\n                    <md-icon ng-visible=\\\"!vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                    {{ ::'teacherAssignmentToolbarMenuItemHideGradeTextLabel' | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-divider></md-menu-divider>\\n                <md-menu-item>\\n                  <md-button\\n                    ng-click=\\\"vm.studentEditMultiple.open = true\\\"\\n                    ng-disabled=\\\"vm.currentStudentEditingMode == 'all' ||\\n                                           vm.currentStudentEditingMode == 'objectives_self_assessment' || vm.studentEditMultiple.open\\\"\\n                    localize>\\n                    __MSG_editMultipleBtn__\\n                  </md-button>\\n                </md-menu-item>\\n              </md-menu-content>\\n            </md-menu>\\n          </div>\\n        </div>\\n\\n\\n\\n        <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"space-between center\\\"\\n            class=\\\"md-toolbar-tools\\n                   md-toolbar-tools-bottom\\\">\\n            <md-input-container class=\\\"sb-toolbar-select\\n                                       sb-assessment-type\\\">\\n                <md-select\\n                    aria-label=\\\"__MSG_modeSelect__\\\"\\n                    ng-model=\\\"vm.studentEditingMode\\\"\\n                    ng-change=\\\"vm.showChangesDialog('changeEditingMode')\\\"\\n                    localize>\\n                    <md-option\\n                        value=\\\"all\\\"\\n                        localize>\\n                        __MSG_allMode__\\n                    </md-option>\\n                    <md-option\\n                        value=\\\"assessment\\\"\\n                        ng-disabled=\\\"vm.resultOnly\\\"\\n                        localize>\\n                        __MSG_assessmentMode__\\n                    </md-option>\\n                    <md-option\\n                        value=\\\"objectives_feedback\\\"\\n                        ng-disabled=\\\"vm.resultOnly\\\"\\n                        localize>\\n                        __MSG_objectivesFeedbackMode__\\n                    </md-option>\\n                    <md-option\\n                        value=\\\"objectives_private_notes\\\"\\n                        ng-disabled=\\\"vm.resultOnly\\\"\\n                        localize>\\n                        __MSG_objectivesPrivateNotesMode__\\n                    </md-option>\\n                    <md-option\\n                        value=\\\"objectives_self_assessment\\\"\\n                        ng-disabled=\\\"vm.resultOnly\\\"\\n                        localize>\\n                        __MSG_teacherSelfAssessmentLabel__\\n                    </md-option>\\n                </md-select>\\n            </md-input-container>\\n\\n          <app-assessment-state-select ng-hide=\\\"vm.studentEditMultiple.open\\\"\\n                                       [status]=\\\"vm.selectedStatus\\\"\\n                                        [warning]=\\\"vm.assessment.fail_warning\\\"\\n                                        (status-change)=\\\"vm.statusChange($event)\\\" ></app-assessment-state-select>\\n        </div>\\n    </md-toolbar>\\n\\n    <loader type=\\\"double\\\"></loader>\\n\\n    <div\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-sticky\\n               sb-sticky-max-height\\\">\\n        <div\\n            class=\\\"sb-secondary-color-background\\\"\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_batch_editing.html'\\\"\\n            slide-toggle=\\\"vm.studentEditMultiple.open\\\">\\n        </div>\\n    </div>\\n\\n    <md-content\\n        sticky-subheader\\n        flex\\n        class=\\\"sb-hidden-x-scroll secondary-bg\\\">\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_view_all.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'all'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_view_assessment.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'assessment'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_feedback.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'objectives_feedback'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_priavte_notes.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'objectives_private_notes'\\\">\\n        </div>\\n\\n        <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_self_assessment.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'objectives_self_assessment'\\\">\\n        </div>\\n    </md-content>\\n</div>\\n\\n<knowledge-requirements\\n    trigger=\\\"vm.triggerKnowledgeRequirements\\\"\\n    objective-id=\\\"vm.objectiveKnowledgeRequirements\\\">\\n</knowledge-requirements>\\n\\n<div\\n    class=\\\"sb-saving-indicator\\\"\\n    ng-show=\\\"vm.savingIndicatorVisible\\\">\\n    <span\\n        class=\\\"error\\\"\\n        ng-show=\\\"vm.savingError\\\"\\n        localize>\\n        __MSG_errorStatusIndicator__\\n    </span>\\n    <span\\n        ng-show=\\\"!vm.savingError && vm.savingInProgress > 0\\\"\\n        localize>\\n        __MSG_savingStatusIndicator__\\n    </span>\\n    <span\\n        ng-show=\\\"!vm.savingError && vm.savingInProgress === 0\\\"\\n        localize>\\n        __MSG_savedStatusIndicator__\\n    </span>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_batch_editing.html';\nvar html = \"<div layout=\\\"column\\\" class=\\\"sb-plr-16\\\">\\n  <div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n    <md-checkbox\\n      flex=\\\"none\\\"\\n      class=\\\"sb-checkbox-reset md-primary\\\"\\n      aria-label=\\\"__MSG_selectAllCheckbox__\\\"\\n      ng-click=\\\"vm.assignmentCheckboxAll(vm.selectedAssignment.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n      ng-checked=\\\"vm.studentEditMultiple.checkboxChecked\\\"\\n      ng-show=\\\"vm.currentStudentEditingMode == 'assessment' || vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\"\\n      localize>\\n    </md-checkbox>\\n\\n    <p flex localize>__MSG_selectAllCheckbox__</p>\\n\\n    <md-input-container\\n      class=\\\"sb-select-reset\\\"\\n      ng-show=\\\"vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\">\\n      <md-select\\n        aria-label=\\\"__MSG_textSelect__\\\"\\n        ng-model=\\\"vm.studentEditMultiple.textMode\\\"\\n        ng-init=\\\"vm.studentEditMultiple.textMode = 'new_text'\\\"\\n        localize>\\n        <md-option value=\\\"new_text\\\" localize>__MSG_newTextOption__</md-option>\\n        <md-option value=\\\"append_text_first\\\" localize>__MSG_appendTextFirstOption__</md-option>\\n        <md-option value=\\\"append_text_last\\\" localize>__MSG_appendTextLastOption__</md-option>\\n      </md-select>\\n    </md-input-container>\\n\\n    <md-menu\\n      flex=\\\"none\\\"\\n      md-position-mode=\\\"target-right target\\\"\\n      class=\\\"sb-btn-batchediting-vis\\\"\\n      ng-visible=\\\"vm.show\\\">\\n      <md-button\\n        class=\\\"md-icon-button\\\"\\n        aria-label=\\\"__MSG_visibilityBtn__\\\"\\n        ng-click=\\\"$mdOpenMenu($event)\\\"\\n        ng-disabled=\\\"true\\\"\\n        localize>\\n        <md-icon\\n          md-menu-align-target\\n          ng-show=\\\"vm.studentEditMultiple.visibility === 'not_changed'\\\">\\n          visibility\\n        </md-icon>\\n\\n        <md-icon\\n          md-menu-align-target\\n          class=\\\"sb-icon-green\\\"\\n          ng-show=\\\"vm.studentEditMultiple.visibility === 'set_visible'\\\">\\n          visibility\\n        </md-icon>\\n\\n        <md-icon\\n          md-menu-align-target\\n          class=\\\"md-warn\\\"\\n          ng-show=\\\"vm.studentEditMultiple.visibility === 'set_hidden'\\\">\\n          visibility_off\\n        </md-icon>\\n      </md-button>\\n\\n      <md-menu-content width=\\\"3\\\">\\n        <md-menu-item>\\n          <md-button\\n            ng-click=\\\"vm.studentEditMultiple.visibility = 'not_changed'; vm.checkEditMultiple()\\\">\\n            <div layout=\\\"row\\\" flex>\\n              <md-icon>visibility</md-icon>\\n              <p flex localize>__MSG_notChangeVisibilityBtn__</p>\\n            </div>\\n          </md-button>\\n        </md-menu-item>\\n\\n        <md-menu-item>\\n          <md-button\\n            ng-click=\\\"vm.studentEditMultiple.visibility = 'set_visible'; vm.checkEditMultiple()\\\">\\n            <div layout=\\\"row\\\" flex>\\n              <md-icon class=\\\"sb-icon-green\\\">visibility</md-icon>\\n              <p flex localize>__MSG_setVisibleBtn__</p>\\n            </div>\\n          </md-button>\\n        </md-menu-item>\\n\\n        <md-menu-item>\\n          <md-button\\n            ng-click=\\\"vm.studentEditMultiple.visibility = 'set_hidden'; vm.checkEditMultiple()\\\">\\n            <div layout=\\\"row\\\" flex>\\n              <md-icon class=\\\"md-warn\\\">visibility_off</md-icon>\\n              <p flex localize>__MSG_setHiddenBtn__</p>\\n            </div>\\n          </md-button>\\n        </md-menu-item>\\n      </md-menu-content>\\n    </md-menu>\\n  </div>\\n\\n  <div layout=\\\"column\\\" ng-show=\\\"vm.currentStudentEditingMode != 'assessment' || !vm.gradeSystem.is_counter\\\">\\n    <single-slider\\n      class=\\\"sb-nouislider batch-editing flex sb-ptb-8\\\"\\n      grade-system=\\\"vm.gradeSystem\\\"\\n      ng-model=\\\"vm.studentEditMultiple.grade\\\"\\n      ng-change=\\\"vm.checkEditMultiple()\\\"\\n      ng-show=\\\"vm.currentStudentEditingMode == 'assessment'\\\"\\n      ng-if=\\\"!vm.gradeSystem.is_counter\\\"\\n      data-batchediting=\\\"true\\\">\\n    </single-slider>\\n\\n    <md-input-container\\n      flex\\n      md-no-float\\n      class=\\\"sb-hide-errors\\\"\\n      ng-show=\\\"vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\">\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n              placeholder=\\\"\\\"\\n              ng-model=\\\"vm.studentEditMultiple.textField\\\"\\n              ng-change=\\\"vm.checkEditMultiple()\\\"\\n              localize>\\n            </textarea>\\n    </md-input-container>\\n    <div layout=\\\"row\\\"\\n         flex layout-align=\\\"end\\\">\\n      <md-progress-circular\\n        md-diameter=\\\"20\\\"\\n        class=\\\"sb-progress-circular-batch-editing\\\"\\n        ng-disabled=\\\"!vm.savingInProgress\\\"\\n        ng-hide=\\\"!vm.savingInProgress\\\">\\n      </md-progress-circular>\\n    <md-button\\n      class=\\\"sb-btn-nlrm\\\"\\n      aria-label=\\\"__MSG_applyBtnBatchEditing__\\\"\\n      ng-click=\\\"vm.saveEditMultiple()\\\"\\n      ng-disabled=\\\"!vm.studentEditMultiple.changesToSave || !vm.studentEditMultiple.anyCheckboxChecked\\\"\\n      localize>\\n      __MSG_applyBtnBatchEditing__\\n    </md-button>\\n    </div>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_drive_all.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"sb-section-offset teacher-assess-assignment-student_classroom_all\\\"\\n     layout=\\\"column\\\">\\n  <md-subheader aria-label=\\\"__MSG_overallResultHeaderTeacher__\\\" class=\\\"md-no-sticky course-name\\\" localize>__MSG_overallResultHeaderTeacher__</md-subheader>\\n  <md-card>\\n  <div layout=\\\"column\\\"\\n       flex\\n       class=\\\"sb-child-item-row  last-modify-parent objective\\\">\\n\\n    <div flex\\n         layout=\\\"row\\\">\\n      <md-input-container flex\\n                          class=\\\"sb-hide-errors result-input last-modified-trigger\\\">\\n        <label localize>__MSG_resultsInput__</label>\\n\\n        <textarea\\n          md-detect-hidden=\\\"true\\\"\\n          aria-label=\\\"__MSG_resultsInput__\\\"\\n          ng-model=\\\"vm.selectedAssignment.result\\\"\\n          ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, vm.selectedAssignment, 'result')\\\"\\n          localize>\\n        </textarea>\\n      </md-input-container>\\n\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\"\\n          class=\\\"sb-pt-8\\\">\\n\\n        <md-button class=\\\"md-icon-button visibility\\\"\\n                   flex=\\\"none\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"vm.changeSingleVisible(vm.changeAssignmentAssessments, vm.selectedAssignment, vm.selectedAssignment, 'result_published', 'visibility')\\\"\\n                   localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': vm.selectedAssignment.result_published }\\\">\\n            {{ vm.selectedAssignment.result_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedAssignment.result_last_edit | LastModified }}</span>\\n  </div>\\n\\n  <div layout=\\\"column\\\"\\n        flex\\n       class=\\\"sb-child-item-row last-modify-parent objective\\\">\\n    <div flex\\n         layout=\\\"row\\\">\\n      <md-input-container flex\\n                          class=\\\"sb-hide-errors overall-feedback-input last-modified-trigger\\\">\\n        <label localize>__MSG_overallFeedbackInput__</label>\\n\\n        <textarea\\n          md-detect-hidden=\\\"true\\\"\\n          aria-label=\\\"__MSG_overallFeedbackInput__\\\"\\n          ng-model=\\\"vm.selectedAssignment.feedback\\\"\\n          mixpanel-text-event=\\\"feedback_to_student_on_overall_assignment\\\"\\n          ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, vm.selectedAssignment, 'overall_feedback')\\\"\\n          localize>\\n            </textarea>\\n      </md-input-container>\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-pt-8\\\">\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button visibility\\\"\\n          aria-label=\\\"__MSG_visibilityBtn__\\\"\\n          ng-click=\\\"vm.changeSingleVisible(vm.changeAssignmentAssessments, vm.selectedAssignment, vm.selectedAssignment, 'feedback_published', 'visibility')\\\"\\n          localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': vm.selectedAssignment.feedback_published }\\\">\\n            {{ vm.selectedAssignment.feedback_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedAssignment.feedback_last_edit | LastModified }}</span>\\n  </div>\\n\\n  <div layout=\\\"column\\\"\\n       class=\\\"sb-child-item-row last-modify-parent objective\\\">\\n\\n    <md-input-container flex\\n                        class=\\\"sb-hide-errors last-modified-trigger\\\">\\n      <label localize>__MSG_overallPrivateNoteInput__</label>\\n      <textarea\\n        md-detect-hidden=\\\"true\\\"\\n        aria-label=\\\"__MSG_overallPrivateNoteInput__\\\"\\n        ng-model=\\\"vm.selectedAssignment.private_note\\\"\\n        ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsObjectives, vm.selectedAssignment, 'overall_private_note')\\\"\\n        localize>\\n            </textarea>\\n    </md-input-container>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedAssignment.private_note_last_edit | LastModified }}</span>\\n  </div>\\n  </md-card>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_view_all.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_all\\\"\\n     layout=\\\"column\\\">\\n  <div\\n    ng-include=\\\"'assignments/teacherAssessAssignmentDrive/views/partials/student_drive_all.html'\\\">\\n  </div>\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedAssignment.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start end\\\">\\n            <single-slider\\n              class=\\\"sb-nouislider\\n                            flex\\n                            last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              auto-width=\\\"true\\\"\\n              ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n              ng-update=\\\"vm.updateDescription(event, objective, courseDefinition)\\\"\\n              ng-change=\\\"vm.changeSingleGrade(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'objective_slider')\\\"\\n              ng-if=\\\"!vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </single-slider>\\n\\n            <counters\\n              class=\\\"counters last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n              assignment=\\\"objective.objective_assessments\\\"\\n              saving-method=\\\"vm.changeObjectiveAssessments\\\"\\n              ng-if=\\\"vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </counters>\\n\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"end center\\\">\\n\\n              <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                                    ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                                    md-mode=\\\"indeterminate\\\"\\n                                    md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button class=\\\"md-icon-button visibility\\\"\\n                         flex=\\\"none\\\"\\n                         aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                         ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'grade_published', 'visibility')\\\"\\n                         ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                         localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.grade_published }\\\">\\n                  {{ objective.objective_assessments.grade_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ objective.objective_assessments.grade_last_edit | LastModified }}</span>\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"vm.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"sb-child-item-row last-modify-parent\\\"\\n           layout=\\\"column\\\">\\n<div layout=\\\"row\\\">\\n        <md-input-container\\n          flex\\n          class=\\\"sb-hide-errors\\n                         last-modified-trigger\\\">\\n          <label localize>__MSG_objectiveFeedbackInput__</label>\\n\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n            ng-model=\\\"objective.objective_assessments.feedback\\\"\\n            mixpanel-text-event=\\\"feedback_to_student_on_objective\\\"\\n            ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments])\\\"\\n            localize>\\n                  </textarea>\\n        </md-input-container>\\n\\n        <div flex=\\\"nogrow\\\"\\n             layout=\\\"column\\\"\\n             layout-align=\\\"start center\\\">\\n          <md-button class=\\\"md-icon-button visibility\\\"\\n                     flex=\\\"none\\\"\\n                     aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                     ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'feedback_published', 'visibility')\\\"\\n                     localize>\\n            <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.feedback_published }\\\">\\n              {{ objective.objective_assessments.feedback_published ? 'visibility' : 'visibility_off' }}\\n            </md-icon>\\n          </md-button>\\n        </div>\\n      </div>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.feedback_last_edit | LastModified }}\\n        </span>\\n      </div>\\n      <div  flex\\n            class=\\\"sb-child-item-row last-modify-parent\\\"\\n            layout=\\\"column\\\">\\n\\n        <md-input-container class=\\\"sb-hide-errors last-modified-trigger\\\"\\n                            flex>\\n          <label localize>__MSG_objectivePrivateNoteInput__</label>\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            aria-label=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n            ng-model=\\\"objective.objective_assessments.private_note\\\"\\n            ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'private_note')\\\"\\n            localize>\\n                  </textarea>\\n        </md-input-container>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.private_note_last_edit | LastModified }}\\n        </span>\\n      </div>\\n\\n      <div class=\\\"sb-child-item-row last-modify-parent\\\"\\n           layout=\\\"column\\\" flex>\\n        <md-input-container class=\\\"sb-hide-errors last-modified-trigger\\\" flex>\\n          <label localize>__MSG_teacherSelfAssessmentLabel__</label>\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n            readonly\\n            localize>\\n                  </textarea>\\n        </md-input-container>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.self_assessment_last_edit | LastModified }}\\n        </span>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_view_assessment.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_assessment\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedAssignment.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div class=\\\"assessment\\\"\\n               flex>\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start end\\\">\\n            <single-slider\\n              class=\\\"sb-nouislider flex last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              auto-width=\\\"true\\\"\\n              ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n              ng-update=\\\"vm.updateDescription(event, objective, courseDefinition)\\\"\\n              ng-change=\\\"vm.changeSingleGrade(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'objective_slider')\\\"\\n              ng-if=\\\"!vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </single-slider>\\n\\n            <counters\\n              class=\\\"counters last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n              assignment=\\\"objective.objective_assessments\\\"\\n              saving-method=\\\"vm.changeObjectiveAssessments\\\"\\n              ng-if=\\\"vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </counters>\\n\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"end center\\\">\\n              <md-progress-circular\\n                class=\\\"sb-progress-circular\\\"\\n                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                md-mode=\\\"indeterminate\\\"\\n                md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button\\n                flex=\\\"none\\\"\\n                class=\\\"md-icon-button visibility\\\"\\n                aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'grade_published', 'visibility')\\\"\\n                ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.grade_published }\\\">\\n                  {{ objective.objective_assessments.grade_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n                  {{ objective.objective_assessments.grade_last_edit | LastModified }}\\n          </span>\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"vm.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_feedback.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_feedback\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedAssignment.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start start\\\">\\n            <md-input-container md-no-float=\\\"false\\\"\\n                                flex\\n                                class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n                    <textarea\\n                      md-detect-hidden=\\\"true\\\"\\n                      aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                      placeholder=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                      ng-model=\\\"objective.objective_assessments.feedback\\\"\\n                      mixpanel-text-event=\\\"feedback_to_student_on_objective\\\"\\n                      ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments])\\\"\\n                      localize>\\n                    </textarea>\\n            </md-input-container>\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"start center\\\">\\n              <md-progress-circular\\n                class=\\\"sb-progress-circular\\\"\\n                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                md-mode=\\\"indeterminate\\\"\\n                md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button class=\\\"md-icon-button visibility\\\"\\n                         flex=\\\"none\\\"\\n                         aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                         ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'feedback_published', 'visibility')\\\"\\n                         ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                         localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.feedback_published }\\\">\\n                  {{ objective.objective_assessments.feedback_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n                {{ objective.objective_assessments.feedback_last_edit | LastModified }}\\n          </span>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_priavte_notes.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_private_note\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedAssignment.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <md-input-container md-no-float=\\\"false\\\"\\n                              flex\\n                              class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n              placeholder=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n              ng-model=\\\"objective.objective_assessments.private_note\\\"\\n              ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'private_note')\\\"\\n              localize>\\n                    </textarea>\\n          </md-input-container>\\n\\n          <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                                md-mode=\\\"indeterminate\\\"\\n                                md-diameter=\\\"24px\\\"></md-progress-circular>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ objective.objective_assessments.private_note_last_edit | LastModified }}</span>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentDrive/views/partials/student_view_objectives_self_assessment.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_self_assessment\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedAssignment.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start end\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <div\\n          flex\\n          layout=\\\"column\\\">\\n\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <md-input-container class=\\\"sb-hide-errors notes-input last-modified-trigger\\\"\\n                              md-no-float=\\\"false\\\"\\n                              flex>\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n              placeholder=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n              ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n              readonly\\n              localize>\\n                    </textarea>\\n          </md-input-container>\\n        </div>\\n\\n        <md-progress-circular\\n          class=\\\"sb-progress-circular\\\"\\n          ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n          md-mode=\\\"indeterminate\\\"\\n          md-diameter=\\\"24px\\\"></md-progress-circular>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.self_assessment_last_edit | LastModified }}\\n        </span>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/dialogs/changes_dialog.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_saveChangesModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_saveChangesModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.cancel()\\\"\\n            localize>\\n            __MSG_cancelBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.dontSave()\\\"\\n            localize>\\n            __MSG_dontSaveBtn__\\n        </md-button>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"cd.save()\\\"\\n            ng-if=\\\"cd.allowToSave\\\"\\n            localize>\\n            __MSG_saveBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/main.html';\nvar html = \"<div class=\\\"teacher-assignments teacher-assess-assignment-student secondary-bg\\\"\\n      layout=\\\"column\\\"\\n      layout-fill>\\n<!--  <assignment-objectives-list vm=\\\"vm\\\" />-->\\n      <md-toolbar\\n          flex=\\\"nogrow\\\"\\n          class=\\\"sb-toolbar\\\">\\n          <div\\n              layout=\\\"row\\\"\\n              layout-align=\\\"start center\\\"\\n              class=\\\"md-toolbar-tools\\\">\\n              <md-button ng-show=\\\"!vm.studentEditMultiple.open\\\"\\n                  flex=\\\"none\\\"\\n                  class=\\\"md-icon-button\\\"\\n                  aria-label=\\\"__MSG_goBackBtn__\\\"\\n                  ng-click=\\\"vm.historyBack()\\\"\\n                  localize>\\n                  <md-icon>\\n                      arrow_back\\n                  </md-icon>\\n              </md-button>\\n\\n              <div ng-show=\\\"!vm.studentEditMultiple.open\\\"\\n                  flex\\n                  layout=\\\"column\\\"\\n                  layout-align=\\\"center start\\\">\\n                  <md-input-container class=\\\"sb-toolbar-select\\n                                             sb-select-toolbar-20\\\">\\n                      <md-select\\n                          aria-label=\\\"__MSG_studentSelect__\\\"\\n                          ng-model=\\\"vm.studentSelect\\\"\\n                          ng-change=\\\"vm.changeStudent()\\\"\\n                          localize>\\n                          <md-option\\n                              value=\\\"{{ ::student.id }}\\\"\\n                              ng-repeat=\\\"student in vm.students\\\">\\n                              {{ ::student.student_name }}\\n                          </md-option>\\n                      </md-select>\\n                  </md-input-container>\\n\\n                  <p class=\\\"sb-toolbar-subtitle\\\">{{ ::vm.assignmentTitle }}</p>\\n              </div>\\n            <div\\n              layout=\\\"row\\\"\\n              flex\\n              ng-show=\\\"vm.studentEditMultiple.open\\\">\\n              <md-button\\n                class=\\\"sb-btn-nlrm\\\"\\n                aria-label=\\\"__MSG_exitBtnBatchEditing__\\\"\\n                ng-click=\\\"vm.showChangesDialog('cancelEditingMode')\\\"\\n                localize>\\n                __MSG_exitBtnBatchEditing__\\n              </md-button>\\n            </div>\\n            <div flex ng-show=\\\"vm.studentEditMultiple.open\\\"></div>\\n            <div layout=\\\"row\\\" flex=\\\"none\\\" layout-align=\\\"end center\\\">\\n<!--              <help-button link=\\\"teacherAssignmentStudentHelpButtonUrl\\\"></help-button>-->\\n            <md-menu>\\n              <md-button\\n                aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n                class=\\\"md-icon-button\\\"\\n                ng-click=\\\"vm.openActionMenu($mdOpenMenu, $event)\\\"\\n                localize>\\n                <md-icon>\\n                  more_vert\\n                </md-icon>\\n              </md-button>\\n\\n              <md-menu-content class=\\\"assignment auto-height\\\">\\n                <md-menu-label>\\n                  {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n                </md-menu-label>\\n                <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::vm.viewMenuItems track by toolbarMenuItem.id\\\">\\n                  <md-button ng-click=\\\"vm.onClickMenuItem(toolbarMenuItem);\\\">\\n                    <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n                    {{ ::toolbarMenuItem.label | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-label ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  {{ ::'teacherAssignmentToolbarMenuGradeTextLabel' | localize }}\\n                </md-menu-label>\\n                <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  <md-button ng-click=\\\"vm.showGradeDescription();\\\">\\n                    <md-icon ng-visible=\\\"vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                    {{ ::'teacherAssignmentToolbarMenuItemShowGradeTextLabel' | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-item ng-show=\\\"::vm.isGradeDescriptionEnable\\\">\\n                  <md-button ng-click=\\\"vm.hideGradeDescription();\\\">\\n                    <md-icon ng-visible=\\\"!vm.isGradeDescriptionVisible\\\">check</md-icon>\\n                    {{ ::'teacherAssignmentToolbarMenuItemHideGradeTextLabel' | localize }}\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-divider></md-menu-divider>\\n                <md-menu-item >\\n                  <md-button ng-click=\\\"vm.setVisibility()\\\" localize ng-disabled=\\\"vm.studentEditMultiple.open\\\">\\n                    __MSG_setVisibilityMenuItem__\\n                  </md-button>\\n                </md-menu-item>\\n                <md-menu-item>\\n                  <md-button\\n\\n                    ng-click=\\\"vm.studentEditMultiple.open = true\\\"\\n                    ng-disabled=\\\"vm.currentStudentEditingMode == 'all' ||\\n                                           vm.currentStudentEditingMode === 'objectives_self_assessment' || vm.studentEditMultiple.open\\\"\\n                    localize>\\n                    __MSG_editMultipleBtn__\\n                  </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item ng-if=\\\"vm.isClassroomInstance\\\">\\n                  <md-button\\n                    ng-click=\\\"vm.goToAssessCourseOption()\\\"\\n                    localize>\\n                    __MSG_assessCourseBtn__\\n                  </md-button>\\n                </md-menu-item>\\n              </md-menu-content>\\n            </md-menu>\\n            </div>\\n          </div>\\n\\n          <div\\n              layout=\\\"row\\\"\\n              layout-align=\\\"space-between center\\\"\\n              class=\\\"md-toolbar-tools\\n                     md-toolbar-tools-bottom\\\">\\n              <md-input-container class=\\\"sb-toolbar-select\\n                                         sb-assessment-type\\\">\\n                  <md-select\\n                      aria-label=\\\"__MSG_modeSelect__\\\"\\n                      ng-model=\\\"vm.studentEditingMode\\\"\\n                      ng-change=\\\"vm.showChangesDialog('changeEditingMode')\\\"\\n                      localize>\\n                      <md-option\\n                          value=\\\"all\\\"\\n                          localize>\\n                          __MSG_allMode__\\n                      </md-option>\\n                      <md-option\\n                          value=\\\"assessment\\\"\\n                          ng-disabled=\\\"vm.resultOnly\\\"\\n                          localize>\\n                          __MSG_assessmentMode__\\n                      </md-option>\\n                      <md-option\\n                          value=\\\"objectives_feedback\\\"\\n                          ng-disabled=\\\"vm.resultOnly\\\"\\n                          localize>\\n                          __MSG_objectivesFeedbackMode__\\n                      </md-option>\\n                      <md-option\\n                          value=\\\"objectives_private_notes\\\"\\n                          ng-disabled=\\\"vm.resultOnly\\\"\\n                          localize>\\n                          __MSG_objectivesPrivateNotesMode__\\n                      </md-option>\\n                      <md-option\\n                          value=\\\"objectives_self_assessment\\\"\\n                          ng-disabled=\\\"vm.resultOnly\\\"\\n                          localize>\\n                          __MSG_teacherSelfAssessmentLabel__\\n                      </md-option>\\n                  </md-select>\\n              </md-input-container>\\n            <app-assessment-state-select ng-hide=\\\"vm.studentEditMultiple.open\\\" [status]=\\\"vm.selectedStatus\\\"\\n                                         [warning]=\\\"vm.assessment.fail_warning\\\"\\n                                         (status-change)=\\\"vm.statusChange($event)\\\" ></app-assessment-state-select>\\n          </div>\\n      </md-toolbar>\\n\\n  <loader type=\\\"double\\\"></loader>\\n\\n      <div\\n          flex=\\\"nogrow\\\"\\n          class=\\\"sb-sticky\\n                 sb-sticky-max-height\\\">\\n          <div\\n              class=\\\"sb-secondary-color-background\\\"\\n              ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_batch_editing.html'\\\"\\n              slide-toggle=\\\"vm.studentEditMultiple.open\\\">\\n          </div>\\n      </div>\\n\\n      <md-content\\n          sticky-subheader\\n          flex\\n          class=\\\"sb-hidden-x-scroll secondary-bg\\\">\\n          <div\\n            ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_view_all.html'\\\"\\n            ng-if=\\\"vm.currentStudentEditingMode === 'all'\\\">\\n          </div>\\n\\n          <div\\n              ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_view_assessment.html'\\\"\\n              ng-if=\\\"vm.currentStudentEditingMode === 'assessment'\\\">\\n          </div>\\n\\n          <div\\n              ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_feedback.html'\\\"\\n              ng-if=\\\"vm.currentStudentEditingMode === 'objectives_feedback'\\\">\\n          </div>\\n\\n          <div\\n              ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_priavte_notes.html'\\\"\\n              ng-if=\\\"vm.currentStudentEditingMode === 'objectives_private_notes'\\\">\\n          </div>\\n\\n          <div\\n              ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_self_assessment.html'\\\"\\n              ng-if=\\\"vm.currentStudentEditingMode === 'objectives_self_assessment'\\\">\\n          </div>\\n      </md-content>\\n  </div>\\n\\n  <knowledge-requirements\\n      trigger=\\\"vm.triggerKnowledgeRequirements\\\"\\n      objective-id=\\\"vm.objectiveKnowledgeRequirements\\\">\\n  </knowledge-requirements>\\n\\n  <div class=\\\"sb-saving-indicator\\\" ng-show=\\\"vm.savingIndicatorVisible\\\">\\n    <span class=\\\"error\\\" ng-show=\\\"vm.savingError\\\" localize>\\n      __MSG_errorStatusIndicator__\\n    </span>\\n    <span ng-show=\\\"!vm.savingError && vm.savingInProgress > 0\\\" localize>\\n      __MSG_savingStatusIndicator__\\n    </span>\\n    <span ng-show=\\\"!vm.savingError && vm.savingInProgress === 0\\\" localize>\\n      __MSG_savedStatusIndicator__\\n    </span>\\n  </div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_batch_editing.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" class=\\\"sb-plr-16\\\">\\n    <div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n        <md-checkbox\\n            flex=\\\"none\\\"\\n            class=\\\"sb-checkbox-reset md-primary\\\"\\n            aria-label=\\\"__MSG_selectAllCheckbox__\\\"\\n            ng-click=\\\"vm.assignmentCheckboxAll(vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n            ng-checked=\\\"vm.studentEditMultiple.checkboxChecked\\\"\\n            ng-show=\\\"vm.currentStudentEditingMode == 'assessment' || vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\"\\n            localize>\\n        </md-checkbox>\\n\\n        <p flex localize>__MSG_selectAllCheckbox__</p>\\n\\n        <md-input-container\\n            class=\\\"sb-select-reset\\\"\\n            ng-show=\\\"vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\">\\n            <md-select\\n                aria-label=\\\"__MSG_textSelect__\\\"\\n                ng-model=\\\"vm.studentEditMultiple.textMode\\\"\\n                ng-init=\\\"vm.studentEditMultiple.textMode = 'new_text'\\\"\\n                localize>\\n                <md-option value=\\\"new_text\\\" localize>__MSG_newTextOption__</md-option>\\n                <md-option value=\\\"append_text_first\\\" localize>__MSG_appendTextFirstOption__</md-option>\\n                <md-option value=\\\"append_text_last\\\" localize>__MSG_appendTextLastOption__</md-option>\\n            </md-select>\\n        </md-input-container>\\n\\n        <md-menu\\n            flex=\\\"none\\\"\\n            md-position-mode=\\\"target-right target\\\"\\n            class=\\\"sb-btn-batchediting-vis\\\"\\n            ng-visible=\\\"vm.show\\\">\\n            <md-button\\n                class=\\\"md-icon-button\\\"\\n                aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                ng-click=\\\"$mdOpenMenu($event)\\\"\\n                ng-disabled=\\\"true\\\"\\n                localize>\\n                <md-icon\\n                    md-menu-align-target\\n                    ng-show=\\\"vm.studentEditMultiple.visibility === 'not_changed'\\\">\\n                    visibility\\n                </md-icon>\\n\\n                <md-icon\\n                    md-menu-align-target\\n                    class=\\\"sb-icon-green\\\"\\n                    ng-show=\\\"vm.studentEditMultiple.visibility === 'set_visible'\\\">\\n                    visibility\\n                </md-icon>\\n\\n                <md-icon\\n                    md-menu-align-target\\n                    class=\\\"md-warn\\\"\\n                    ng-show=\\\"vm.studentEditMultiple.visibility === 'set_hidden'\\\">\\n                    visibility_off\\n                </md-icon>\\n            </md-button>\\n\\n            <md-menu-content width=\\\"3\\\">\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.studentEditMultiple.visibility = 'not_changed'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon>visibility</md-icon>\\n                            <p flex localize>__MSG_notChangeVisibilityBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.studentEditMultiple.visibility = 'set_visible'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon class=\\\"sb-icon-green\\\">visibility</md-icon>\\n                            <p flex localize>__MSG_setVisibleBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"vm.studentEditMultiple.visibility = 'set_hidden'; vm.checkEditMultiple()\\\">\\n                        <div layout=\\\"row\\\" flex>\\n                            <md-icon class=\\\"md-warn\\\">visibility_off</md-icon>\\n                            <p flex localize>__MSG_setHiddenBtn__</p>\\n                        </div>\\n                    </md-button>\\n                </md-menu-item>\\n            </md-menu-content>\\n        </md-menu>\\n    </div>\\n\\n    <div layout=\\\"column\\\" ng-show=\\\"vm.currentStudentEditingMode != 'assessment' || !vm.gradeSystem.is_counter\\\">\\n        <single-slider\\n            class=\\\"sb-nouislider batch-editing flex sb-ptb-8\\\"\\n            grade-system=\\\"vm.gradeSystem\\\"\\n            ng-model=\\\"vm.studentEditMultiple.grade\\\"\\n            ng-change=\\\"vm.checkEditMultiple()\\\"\\n            ng-show=\\\"vm.currentStudentEditingMode == 'assessment'\\\"\\n            ng-if=\\\"!vm.gradeSystem.is_counter\\\"\\n            data-batchediting=\\\"true\\\">\\n        </single-slider>\\n\\n        <md-input-container\\n            flex\\n            md-no-float\\n            class=\\\"sb-hide-errors\\\"\\n            ng-show=\\\"vm.currentStudentEditingMode == 'objectives_feedback' || vm.currentStudentEditingMode == 'objectives_private_notes'\\\">\\n            <textarea\\n                md-detect-hidden=\\\"true\\\"\\n                aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                placeholder=\\\"\\\"\\n                ng-model=\\\"vm.studentEditMultiple.textField\\\"\\n                ng-change=\\\"vm.checkEditMultiple()\\\"\\n                localize>\\n            </textarea>\\n        </md-input-container>\\n      <div layout=\\\"row\\\"\\n           flex layout-align=\\\"end\\\">\\n        <md-progress-circular\\n          md-diameter=\\\"20\\\"\\n          class=\\\"sb-progress-circular-batch-editing\\\"\\n          ng-disabled=\\\"!vm.savingInProgress\\\"\\n          ng-hide=\\\"!vm.savingInProgress\\\">\\n        </md-progress-circular>\\n      <md-button\\n        class=\\\"sb-btn-nlrm\\\"\\n        aria-label=\\\"__MSG_applyBtnBatchEditing__\\\"\\n        ng-click=\\\"vm.saveEditMultiple()\\\"\\n        ng-disabled=\\\"!vm.studentEditMultiple.changesToSave || !vm.studentEditMultiple.anyCheckboxChecked\\\"\\n        localize>\\n        __MSG_applyBtnBatchEditing__\\n      </md-button>\\n      </div>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_classroom_all.html';\nvar html = \"<div class=\\\"sb-section-offset teacher-assess-assignment-student_classroom_all\\\"\\n     layout=\\\"column\\\">\\n  <md-subheader aria-label=\\\"__MSG_overallResultHeaderTeacher__\\\" class=\\\"md-no-sticky course-name\\\" localize>__MSG_overallResultHeaderTeacher__</md-subheader>\\n  <md-card>\\n  <div layout=\\\"column\\\"\\n        flex\\n       class=\\\"sb-child-item-row  last-modify-parent objective\\\">\\n\\n    <div flex\\n         layout=\\\"row\\\">\\n      <md-input-container flex\\n                          class=\\\"sb-hide-errors result-input last-modified-trigger\\\">\\n        <label localize>__MSG_resultsInput__</label>\\n\\n        <textarea\\n          md-detect-hidden=\\\"true\\\"\\n          aria-label=\\\"__MSG_resultsInput__\\\"\\n          ng-model=\\\"vm.selectedStudent.assignmentAssessment.result\\\"\\n          ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsAssessments, [vm.selectedStudent.assignmentAssessment], 'result')\\\"\\n          localize>\\n        </textarea>\\n      </md-input-container>\\n\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\"\\n            class=\\\"sb-pt-8\\\">\\n        <md-button class=\\\"md-icon-button visibility\\\"\\n                   flex=\\\"none\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"vm.changeSingleVisible(vm.debounceAssignmentsAssessments, [vm.selectedStudent.assignmentAssessment], vm.selectedStudent.assignmentAssessment, 'result_published', 'visibility')\\\"\\n                   localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': vm.selectedStudent.assignmentAssessment.result_published }\\\">\\n            {{ vm.selectedStudent.assignmentAssessment.result_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedStudent.assignmentAssessment.result_last_edit | LastModified }}</span>\\n  </div>\\n\\n  <div layout=\\\"column\\\"\\n       flex\\n       class=\\\"sb-child-item-row last-modify-parent objective\\\">\\n\\n    <div flex\\n         layout=\\\"row\\\">\\n      <md-input-container flex\\n                          class=\\\"sb-hide-errors overall-feedback-input last-modified-trigger\\\">\\n        <label localize>__MSG_overallFeedbackInput__</label>\\n\\n        <textarea\\n          md-detect-hidden=\\\"true\\\"\\n          aria-label=\\\"__MSG_overallFeedbackInput__\\\"\\n          ng-model=\\\"vm.selectedStudent.assignmentAssessment.feedback\\\"\\n          mixpanel-text-event=\\\"feedback_to_student_on_overall_assignment\\\"\\n          ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsAssessments, [vm.selectedStudent.assignmentAssessment])\\\"\\n          localize>\\n            </textarea>\\n      </md-input-container>\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"column\\\"\\n           layout-align=\\\"start center\\\"\\n           class=\\\"sb-pt-8\\\">\\n        <md-button\\n          flex=\\\"none\\\"\\n          class=\\\"md-icon-button visibility\\\"\\n          aria-label=\\\"__MSG_visibilityBtn__\\\"\\n          ng-click=\\\"vm.changeSingleVisible(vm.debounceAssignmentsAssessments, [vm.selectedStudent.assignmentAssessment], vm.selectedStudent.assignmentAssessment, 'feedback_published', 'visibility')\\\"\\n          localize>\\n          <md-icon ng-class=\\\"{ 'sb-icon-green': vm.selectedStudent.assignmentAssessment.feedback_published }\\\">\\n            {{ vm.selectedStudent.assignmentAssessment.feedback_published ? 'visibility' : 'visibility_off' }}\\n          </md-icon>\\n        </md-button>\\n      </div>\\n    </div>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedStudent.assignmentAssessment.feedback_last_edit | LastModified }}</span>\\n  </div>\\n\\n  <div layout=\\\"column\\\"\\n       class=\\\"sb-child-item-row last-modify-parent objective\\\">\\n\\n    <md-input-container flex\\n                        class=\\\"sb-hide-errors last-modified-trigger\\\">\\n      <label localize>__MSG_overallPrivateNoteInput__</label>\\n      <textarea\\n        md-detect-hidden=\\\"true\\\"\\n        aria-label=\\\"__MSG_overallPrivateNoteInput__\\\"\\n        ng-model=\\\"vm.selectedStudent.assignmentAssessment.private_note\\\"\\n        ng-change=\\\"vm.changeSingleText(vm.debounceAssignmentsAssessments, [vm.selectedStudent.assignmentAssessment], 'overall_private_note')\\\"\\n        localize>\\n            </textarea>\\n    </md-input-container>\\n    <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ vm.selectedStudent.assignmentAssessment.private_note_last_edit | LastModified }}</span>\\n  </div>\\n  </md-card>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_view_all.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_all\\\"\\n     layout=\\\"column\\\">\\n<!--  <assignment-objectives-list vm=\\\"vm\\\"/>-->\\n    <div\\n    ng-include=\\\"'assignments/teacherAssessAssignmentStudent/views/partials/student_classroom_all.html'\\\"\\n    ng-if=\\\"!vm.selectedStudent.assignmentAssessmentFetching\\\">\\n  </div>\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedStudent.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start end\\\">\\n            <single-slider\\n              class=\\\"sb-nouislider\\n                            flex\\n                            last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              auto-width=\\\"true\\\"\\n              ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n              ng-update=\\\"vm.updateDescription(event, objective, courseDefinition)\\\"\\n              ng-change=\\\"vm.changeSingleGrade(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'objective_slider')\\\"\\n              ng-if=\\\"!vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </single-slider>\\n\\n            <counters\\n              class=\\\"counters last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n              assignment=\\\"objective.objective_assessments\\\"\\n              saving-method=\\\"vm.changeObjectiveAssessments\\\"\\n              ng-if=\\\"vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </counters>\\n\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"end center\\\">\\n              <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                                    ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                                    md-mode=\\\"indeterminate\\\"\\n                                    md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button class=\\\"md-icon-button visibility\\\"\\n                         flex=\\\"none\\\"\\n                         aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                         ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'grade_published', 'visibility')\\\"\\n                         ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                         localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.grade_published }\\\">\\n                  {{ objective.objective_assessments.grade_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">{{ objective.objective_assessments.grade_last_edit | LastModified }}</span>\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"vm.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n      </div>\\n\\n\\n\\n<div flex\\n     layout=\\\"column\\\"\\n     class=\\\"sb-child-item-row last-modify-parent\\\">\\n      <div layout=\\\"row\\\">\\n\\n        <md-input-container\\n          flex\\n          class=\\\"sb-hide-errors last-modified-trigger\\\">\\n          <label localize>__MSG_objectiveFeedbackInput__</label>\\n\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n            ng-model=\\\"objective.objective_assessments.feedback\\\"\\n            mixpanel-text-event=\\\"feedback_to_student_on_objective\\\"\\n            ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments])\\\"\\n            localize>\\n                  </textarea>\\n        </md-input-container>\\n\\n        <div flex=\\\"nogrow\\\"\\n             layout=\\\"column\\\"\\n             layout-align=\\\"start center\\\"\\n        class=\\\"sb-pt-8\\\">\\n          <md-button class=\\\"md-icon-button visibility\\\"\\n                     flex=\\\"none\\\"\\n                     aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                     ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'feedback_published', 'visibility')\\\"\\n                     localize>\\n            <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.feedback_published }\\\">\\n              {{ objective.objective_assessments.feedback_published ? 'visibility' : 'visibility_off' }}\\n            </md-icon>\\n          </md-button>\\n          </div>\\n      </div>\\n\\n  <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n    {{ objective.objective_assessments.feedback_last_edit | LastModified }}\\n  </span>\\n\\n</div>\\n\\n      <div flex\\n           layout=\\\"column\\\"\\n           class=\\\"sb-child-item-row last-modify-parent\\\">\\n\\n        <md-input-container class=\\\"sb-hide-errors last-modified-trigger\\\" flex>\\n          <label localize>__MSG_objectivePrivateNoteInput__</label>\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            aria-label=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n            ng-model=\\\"objective.objective_assessments.private_note\\\"\\n            ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'private_note')\\\"\\n            localize>\\n          </textarea>\\n        </md-input-container>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.private_note_last_edit | LastModified }}\\n        </span>\\n      </div>\\n\\n      <div class=\\\"sb-child-item-row last-modify-parent\\\"\\n           layout=\\\"column\\\" flex>\\n        <md-input-container class=\\\"sb-hide-errors last-modified-trigger\\\" flex>\\n          <label localize>__MSG_teacherSelfAssessmentLabel__</label>\\n          <textarea\\n            md-detect-hidden=\\\"true\\\"\\n            ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n            readonly\\n            localize>\\n          </textarea>\\n        </md-input-container>\\n        <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n            {{ objective.objective_assessments.self_assessment_last_edit | LastModified }}\\n        </span>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_view_assessment.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_assessment\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedStudent.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div class=\\\"assessment\\\"\\n               flex>\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start end\\\">\\n            <single-slider\\n              class=\\\"sb-nouislider flex last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              auto-width=\\\"true\\\"\\n              ng-model=\\\"objective.objective_assessments.grade_name\\\"\\n              ng-update=\\\"vm.updateDescription(event, objective, courseDefinition)\\\"\\n              ng-change=\\\"vm.changeSingleGrade(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'objective_slider')\\\"\\n              ng-if=\\\"!vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </single-slider>\\n\\n            <counters\\n              class=\\\"counters last-modified-trigger\\\"\\n              grade-system=\\\"vm.gradeSystem\\\"\\n              ng-model=\\\"objective.objective_assessments.counter_grades\\\"\\n              assignment=\\\"objective.objective_assessments\\\"\\n              saving-method=\\\"vm.changeObjectiveAssessments\\\"\\n              ng-if=\\\"vm.gradeSystem.is_counter && !vm.selectedStudent.objectiveAssessmentFetching\\\">\\n            </counters>\\n\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"end center\\\">\\n              <md-progress-circular\\n                class=\\\"sb-progress-circular\\\"\\n                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                md-mode=\\\"indeterminate\\\"\\n                md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button\\n                flex=\\\"none\\\"\\n                class=\\\"md-icon-button visibility\\\"\\n                aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'grade_published', 'visibility')\\\"\\n                ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.grade_published }\\\">\\n                  {{ objective.objective_assessments.grade_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n                  {{ objective.objective_assessments.grade_last_edit | LastModified }}\\n          </span>\\n          <assignment-grade-text text=\\\"objective.gradeText\\\"\\n                                 ng-show=\\\"vm.isGradeTextVisible(objective)\\\">\\n          </assignment-grade-text>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_feedback.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_feedback\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedStudent.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n          <div layout=\\\"row\\\"\\n               layout-align=\\\"start start\\\">\\n            <md-input-container md-no-float=\\\"false\\\"\\n                                flex\\n                                class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n                    <textarea\\n                      md-detect-hidden=\\\"true\\\"\\n                      aria-label=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                      placeholder=\\\"__MSG_objectiveFeedbackInput__\\\"\\n                      ng-model=\\\"objective.objective_assessments.feedback\\\"\\n                      mixpanel-text-event=\\\"feedback_to_student_on_objective\\\"\\n                      ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments])\\\"\\n                      localize>\\n                    </textarea>\\n            </md-input-container>\\n            <div flex=\\\"nogrow\\\"\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"start center\\\">\\n              <md-progress-circular\\n                class=\\\"sb-progress-circular\\\"\\n                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                md-mode=\\\"indeterminate\\\"\\n                md-diameter=\\\"24px\\\"></md-progress-circular>\\n\\n              <md-button class=\\\"md-icon-button visibility\\\"\\n                         flex=\\\"none\\\"\\n                         aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                         ng-click=\\\"vm.changeSingleVisible(vm.changeObjectiveAssessments, [objective.objective_assessments], objective.objective_assessments, 'feedback_published', 'visibility')\\\"\\n                         ng-if=\\\"!vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                         localize>\\n                <md-icon ng-class=\\\"{ 'sb-icon-green': objective.objective_assessments.feedback_published }\\\">\\n                  {{ objective.objective_assessments.feedback_published ? 'visibility' : 'visibility_off' }}\\n                </md-icon>\\n              </md-button>\\n            </div>\\n          </div>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n                  {{ objective.objective_assessments.feedback_last_edit | LastModified }}\\n          </span>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_priavte_notes.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_private_note\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedStudent.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <md-checkbox\\n          flex=\\\"none\\\"\\n          class=\\\"sb-checkbox-reset-full md-primary\\\"\\n          aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n          ng-click=\\\"vm.assignmentCheckboxSingle(objective, vm.selectedStudent.course_definitions, vm.studentEditMultiple); vm.checkIfAnyCheckboxIsChecked()\\\"\\n          ng-checked=\\\"objective.checked\\\"\\n          ng-show=\\\"vm.studentEditMultiple.open\\\"\\n          localize>\\n        </md-checkbox>\\n\\n        <div flex\\n             layout=\\\"column\\\">\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <md-input-container md-no-float=\\\"false\\\"\\n                              flex\\n                              class=\\\"sb-hide-errors notes-input last-modified-trigger\\\">\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n              placeholder=\\\"__MSG_objectivePrivateNoteInput__\\\"\\n              ng-model=\\\"objective.objective_assessments.private_note\\\"\\n              ng-change=\\\"vm.changeSingleText(vm.debounceObjectiveAssessments, [objective.objective_assessments], 'private_note')\\\"\\n              localize>\\n                    </textarea>\\n          </md-input-container>\\n\\n          <md-progress-circular class=\\\"sb-progress-circular\\\"\\n                                ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n                                md-mode=\\\"indeterminate\\\"\\n                                md-diameter=\\\"24px\\\"></md-progress-circular>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n            {{ objective.objective_assessments.private_note_last_edit | LastModified }}\\n          </span>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherAssessAssignmentStudent/views/partials/student_view_objectives_self_assessment.html';\nvar html = \"<div class=\\\"teacher-assess-assignment-student_view_objectives_self_assessment\\\">\\n  <div ng-repeat=\\\"courseDefinition in vm.selectedStudent.course_definitions track by courseDefinition.id\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n    <md-card class=\\\"objective\\\"\\n         layout=\\\"column\\\"\\n         ng-repeat=\\\"objective in courseDefinition.objectives track by objective.id\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"start start\\\"\\n           class=\\\"sb-parent-item last-modify-parent\\\">\\n        <div\\n          flex\\n          layout=\\\"column\\\">\\n\\n          <div flex\\n               class=\\\"assessment\\\">\\n            <div layout=\\\"column\\\"\\n                 layout-align=\\\"start stretch\\\">\\n              <div class=\\\"grade-info-wrapper\\\"\\n                   controller-as=\\\"vm\\\"\\n                   objective-id-path=\\\"objective.id\\\"\\n                   objective-knowledge-requirements>\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"assessment-name\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n\\n              </div>\\n              <div class=\\\"assessment-description\\\"\\n                   ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                   ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n            </div>\\n          </div>\\n\\n          <md-input-container class=\\\"sb-hide-errors notes-input last-modified-trigger\\\"\\n                              md-no-float=\\\"false\\\"\\n                              flex>\\n            <textarea\\n              md-detect-hidden=\\\"true\\\"\\n              aria-label=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n              placeholder=\\\"__MSG_teacherSelfAssessmentLabel__\\\"\\n              ng-model=\\\"objective.objective_assessments.self_assessment\\\"\\n              readonly\\n              localize>\\n                    </textarea>\\n          </md-input-container>\\n          <md-progress-circular\\n            class=\\\"sb-progress-circular\\\"\\n            ng-if=\\\"vm.selectedStudent.objectiveAssessmentFetching\\\"\\n            md-mode=\\\"indeterminate\\\"\\n            md-diameter=\\\"24px\\\"></md-progress-circular>\\n          <span class=\\\"sb-parent-item-with-date last-modify-tag\\\">\\n          {{ objective.objective_assessments.self_assessment_last_edit | LastModified }}\\n        </span>\\n        </div>\\n      </div>\\n    </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherSetAssignmentObjectives/views/dialogs/assign_confirmation.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_assignConfirmationModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p ng-bind-html=\\\"::ac.text | localize\\\"></p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            ng-click=\\\"ac.closeDialog()\\\"\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            localize>\\n            __MSG_closeBtn__\\n        </md-button>\\n\\n        <md-button\\n            ng-click=\\\"ac.confirmChanges()\\\"\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            localize>\\n            __MSG_assignBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherSetAssignmentObjectives/views/dialogs/assign_success.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_assignObjectivesModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_assignObjectivesModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            ng-click=\\\"as.closeDialog()\\\"\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            localize>\\n            __MSG_closeBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherSetAssignmentObjectives/views/main.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-set-assignment-objectives\\\"\\n     layout=\\\"column\\\"\\n     layout-fill>\\n  <md-toolbar flex=\\\"nogrow\\\"\\n              class=\\\"sb-toolbar\\\">\\n    <div\\n      layout=\\\"row\\\"\\n      layout-align=\\\"start center\\\"\\n      class=\\\"md-toolbar-tools\\\">\\n      <md-button\\n        flex=\\\"none\\\"\\n        class=\\\"md-icon-button\\\"\\n        aria-label=\\\"__MSG_goBackBtn__\\\"\\n        ng-click=\\\"vm.historyBack()\\\"\\n        localize>\\n        <md-icon>\\n          close\\n        </md-icon>\\n      </md-button>\\n\\n      <div flex\\n           layout=\\\"column\\\"\\n           layout-align=\\\"center start\\\">\\n        <p class=\\\"sb-toolbar-page-name\\\"\\n           localize>__MSG_assignObjectivesToAssignmentPage__</p>\\n        <p class=\\\"sb-toolbar-title\\\">{{ ::vm.assignment.title }}</p>\\n      </div>\\n      <div class=\\\"view-menu\\\"\\n           flex=\\\"nogrow\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"end center\\\">\\n<!--        <help-button link=\\\"teacherAssignmentAssignObjectiveHelpButtonUrl\\\"></help-button>-->\\n        <md-menu>\\n          <md-button\\n            aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n            class=\\\"md-icon-button\\\"\\n            ng-click=\\\"$mdMenu.open($event)\\\"\\n            localize>\\n            <md-icon>\\n              more_vert\\n            </md-icon>\\n          </md-button>\\n          <md-menu-content class=\\\"assignment\\\">\\n            <md-menu-label>\\n              {{ ::'teacherAssignmentToolbarMenuLearningObjectiveLabel' | localize }}\\n            </md-menu-label>\\n            <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::vm.viewMenuItems track by toolbarMenuItem.id\\\">\\n              <md-button ng-click=\\\"vm.onClickMenuItem(toolbarMenuItem);\\\">\\n                <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n                {{ ::toolbarMenuItem.label | localize }}\\n              </md-button>\\n            </md-menu-item>\\n          </md-menu-content>\\n        </md-menu>\\n      </div>\\n    </div>\\n\\n    <div\\n      layout=\\\"row\\\"\\n      layout-align=\\\"end center\\\"\\n      class=\\\"md-toolbar-tools md-toolbar-tools-bottom\\\">\\n      <md-button\\n        aria-label=\\\"__MSG_assignBtn__\\\"\\n        ng-click=\\\"vm.saveChanges()\\\"\\n        ng-disabled=\\\"vm.isSaveButtonDisabled()\\\"\\n        localize>\\n        __MSG_saveBtn__\\n      </md-button>\\n    </div>\\n  </md-toolbar>\\n\\n  <loader type=\\\"double\\\"></loader>\\n\\n  <div class=\\\"sb-plr-16 sb-pt-8\\\"\\n       flex=\\\"nogrow\\\"\\n       ng-form=\\\"vm.validationForm\\\">\\n    <md-input-container class=\\\"sb-input-full-width\\\">\\n      <label localize>__MSG_teacherAssignmentObjectivesTypeOfAssignment__</label>\\n\\n      <md-select ng-model=\\\"vm.selectedType\\\"\\n                 ng-model-options=\\\"{ trackBy: '$value.type' }\\\"\\n                 md-selected-text=\\\"vm.getAssignmentTypePlaceholder() | localize\\\"\\n                 ng-required=\\\"true\\\">\\n        <md-option class=\\\"type-of-assignments\\\"\\n                   ng-repeat=\\\"typeOfAssignment in ::vm.typeOfAssignments track by typeOfAssignment.type\\\"\\n                   ng-value=\\\"typeOfAssignment\\\">\\n          {{ ::typeOfAssignment.label | localize }}\\n          <div class=\\\"description\\\">{{ ::typeOfAssignment.description | localize }}</div>\\n        </md-option>\\n      </md-select>\\n    </md-input-container>\\n  </div>\\n\\n  <div flex=\\\"nogrow\\\"\\n       class=\\\"sb-plr-16 sb-pt-8\\\">\\n    <md-input-container class=\\\"sb-input-full-width\\\">\\n      <label localize>__MSG_scaleSelect__</label>\\n\\n      <md-select\\n        aria-label=\\\"__MSG_scaleSelect__\\\"\\n        ng-model=\\\"vm.scaleSelect\\\"\\n        ng-model-options=\\\"{ trackBy: '$value.id' }\\\"\\n        ng-change=\\\"vm.changeScale()\\\"\\n        localize>\\n        <md-option\\n          ng-repeat=\\\"gradeSystem in ::vm.gradeSystems track by gradeSystem.id\\\"\\n          ng-value=\\\"::gradeSystem\\\"\\n          ng-selected=\\\"gradeSystem.is_chosen && !vm.resultOnly\\\">\\n          {{ gradeSystem.name }}\\n        </md-option>\\n\\n        <md-option\\n          value=\\\"result_only\\\"\\n          ng-selected=\\\"vm.resultOnly\\\"\\n          localize>\\n          __MSG_ResultOnlyOption__\\n        </md-option>\\n      </md-select>\\n    </md-input-container>\\n  </div>\\n  <div class=\\\"sb-pt-8\\\"\\n       flex=\\\"nogrow\\\"\\n       ng-hide=\\\"vm.scaleSelect.is_counter || !vm.scaleSelect.grade_texts_present\\\">\\n    <objective-grade-text-visibility-settings ng-model=\\\"vm.gradeTextSettings\\\"\\n                                              ng-change=\\\"vm.updateGradeTextSettings()\\\"\\n                                              ng-disabled=\\\"!vm.scaleSelect.grade_texts_present\\\"></objective-grade-text-visibility-settings>\\n  </div>\\n\\n  <md-content sticky-subheader\\n              flex\\n              class=\\\"sb-hidden-x-scroll\\\">\\n    <div\\n      ng-include=\\\"'assignments/teacherSetAssignmentObjectives/views/partials/objectives.html'\\\">\\n    </div>\\n  </md-content>\\n</div>\\n\\n<knowledge-requirements\\n  trigger=\\\"vm.triggerKnowledgeRequirements\\\"\\n  objective-id=\\\"vm.objectiveKnowledgeRequirements\\\">\\n</knowledge-requirements>\\n\\n<div hint\\n     class=\\\"sb-hint\\\"\\n     data-cookie-name=\\\"tearcherSetAssignmentObjectives\\\">\\n  <div class=\\\"sb-hint-scrollable\\\">\\n    <p class=\\\"sb-hint-text\\\"\\n       localize>__MSG_teacherSetAssignmentObjectivesHint__</p>\\n    <p class=\\\"sb-hint-close\\\">\\n      <button class=\\\"sb-btn-no-background md-primary sb-hint-close\\\"\\n              localize>__MSG_acceptHint__\\n      </button>\\n    </p>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'assignments/teacherSetAssignmentObjectives/views/partials/objectives.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div class=\\\"teacher-set-assignment-objectives_view_objectives secondary-bg\\\">\\n  <div layout=\\\"column\\\"\\n      ng-repeat=\\\"courseDefinition in ::vm.courseDefinitions track by courseDefinition.id\\\"\\n      ng-if=\\\"vm.scaleSelect !== 'result_only'\\\">\\n    <md-subheader class=\\\"md-no-sticky course-name\\\"> {{ ::courseDefinition.name }}</md-subheader>\\n<md-card>\\n      <div\\n          layout=\\\"column\\\"\\n          ng-repeat=\\\"objective in ::courseDefinition.objectives track by objective.id\\\"\\n          ng-if=\\\"courseDefinition.objectives.length\\\">\\n          <div layout=\\\"row\\\" layout-align=\\\"start center\\\" class=\\\"sb-parent-item sb-pl-16\\\">\\n              <md-checkbox\\n                  flex=\\\"none\\\"\\n                  class=\\\"sb-checkbox-reset md-primary\\\"\\n                  aria-label=\\\"__MSG_objectiveCheckbox__\\\"\\n                  ng-checked=\\\"objective.is_chosen\\\"\\n                  ng-click=\\\"vm.toggleObjective(objective)\\\"\\n                  localize>\\n              </md-checkbox>\\n\\n            <div flex\\n                 class=\\\"sb-parent-item-name sb-objective-clickable\\\"\\n                 ng-click=\\\"vm.triggerKnowledgeRequirements = !vm.triggerKnowledgeRequirements; vm.objectiveKnowledgeRequirements = objective.id\\\">\\n              <div layout=\\\"column\\\"\\n                   layout-align=\\\"start stretch\\\">\\n                <long-text-tooltip text=\\\"::objective.name\\\"\\n                                   ng-if=\\\"vm.isTitleVisible(objective.name)\\\">\\n                  <span class=\\\"title\\\">{{ ::objective.name }}</span>\\n                </long-text-tooltip>\\n                <div class=\\\"description\\\"\\n                     ng-bind-html=\\\"::objective.description | getFormattedOrEmpty\\\"\\n                     ng-if=\\\"vm.isDescriptionVisible(objective.description)\\\"></div>\\n\\n              </div>\\n            </div>\\n\\n              <md-button\\n                  flex=\\\"none\\\"\\n                  class=\\\"md-icon-button sb-btn-icon-small\\\"\\n                  aria-label=\\\"__MSG_toggleBtn__\\\"\\n                  ng-click=\\\"objective.open = !objective.open\\\"\\n                  ng-show=\\\"vm.scaleSelect.is_counter\\\"\\n                  localize>\\n                  <md-icon\\n                      class=\\\"sb-icon-open\\\"\\n                      ng-class=\\\"{open: objective.open}\\\">\\n                      keyboard_arrow_down\\n                  </md-icon>\\n              </md-button>\\n          </div>\\n\\n          <div slide-toggle=\\\"objective.open\\\" layout=\\\"column\\\" class=\\\"sb-child-item sb-pall-16\\\">\\n              <md-input-container\\n                  flex\\n                  class=\\\"sb-hide-errors\\\"\\n                  ng-repeat=\\\"grade in vm.scaleSelect.grades\\\"\\n                  ng-if=\\\"vm.scaleSelect.is_counter\\\">\\n                  <label>\\n                      <span localize>__MSG_maxPointsInput__</span>\\n                      {{ ::grade.label }}\\n                  </label>\\n\\n                  <input\\n                      type=\\\"number\\\"\\n                      ng-pattern=\\\"/^[0-9]{1,2}$/\\\"\\n                      ng-required=\\\"true\\\"\\n                      ng-model=\\\"objective.max_counter_grades[$index]\\\"\\n                      ng-change=\\\"vm.validChanges()\\\">\\n              </md-input-container>\\n          </div>\\n      </div>\\n</md-card>\\n      <md-card\\n          layout=\\\"column\\\"\\n          ng-if=\\\"!courseDefinition.objectives.length\\\">\\n          <div layout=\\\"row\\\" layout-align=\\\"start center\\\" class=\\\"sb-parent-item sb-pl-16\\\" localize>\\n              __MSG_noObjectivesYet__\\n          </div>\\n      </md-card>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'common/components/accordion/accordion.html';\nvar html = \"<header class=\\\"accordion-header\\\"\\n        ng-transclude=\\\"header\\\">\\n  <accordion-header></accordion-header>\\n</header>\\n<content class=\\\"accordion-container\\\"\\n         flex\\n         layout=\\\"column\\\"\\n         layout-align=\\\"start stretch\\\">\\n  <md-content class=\\\"accordion-content\\\"\\n              ng-if=\\\"$ctrl.visible\\\"\\n              ng-transclude>\\n  </md-content>\\n  <footer class=\\\"accordion-footer\\\"\\n          ng-if=\\\"$ctrl.visible\\\"\\n          ng-transclude=\\\"footer\\\"></footer>\\n</content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'common/components/accordion/accordionFooter/accordionFooter.html';\nvar html = \"<div class=\\\"accordion-footer\\\"\\n     ng-transclude></div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'common/components/accordion/accordionHeader/accordionHeader.html';\nvar html = \"<div class=\\\"accordion-header\\\"\\n     ng-class=\\\"{open: $ctrl.accordion.open}\\\">\\n  <div class=\\\"accordion-header-title\\\"\\n       layout=\\\"row\\\"\\n       layot-align=\\\"space-between center\\\"\\n       ng-transclude></div>\\n  <div class=\\\"accordion-header-toggle\\\"\\n       layout=\\\"row\\\"\\n       layot-align=\\\"center center\\\"\\n       ng-click=\\\"$ctrl.accordion.toggle()\\\"\\n       ng-hide=\\\"$ctrl.accordion.disabled\\\">\\n    <md-icon class=\\\"accordion-header-toggle__icon\\\">keyboard_arrow_up</md-icon>\\n  </div>\\n  <div class=\\\"accordion-header-menu\\\"\\n       layout=\\\"row\\\"\\n       layout-align=\\\"center center\\\"\\n       ng-transclude=\\\"menu\\\">\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'common/components/longTextTooltip/longTextTooltip.html';\nvar html = \"<ng-transclude></ng-transclude>\\n<md-tooltip class=\\\"md-fling\\\"\\n            md-direction=\\\"{{ $ctrl.direction }}\\\"\\n            md-z-index=\\\"1014\\\"\\n            md-visible=\\\"$ctrl.visible\\\"\\n            ng-if=\\\"!$ctrl.disabled && $ctrl.showTooltip\\\">\\n    {{$ctrl.text|localize}}\\n</md-tooltip>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'common/dialogs/hint-dialog.html';\nvar html = \"<md-dialog\\n    class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div\\n            class=\\\"dialog__small--title\\\"\\n            localize>\\n            {{ $ctrl.headerText }}\\n        </div>\\n\\n        <div\\n            flex=\\\"100\\\"\\n            class=\\\"dialog__small--input-content\\\"\\n            flex=\\\"95\\\">\\n            {{ $ctrl.contentText }}\\n        </div>\\n\\n        <div\\n            class=\\\"dialog__small--button--container\\\"\\n            layout=\\\"row\\\"\\n            layout-align=\\\"end center\\\">\\n            <md-button\\n                class=\\\"sb-btn-no-background\\n                       md-primary\\n                       sb-btn-no-min-width\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                localize>\\n                __MSG_acceptHint__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/assessmentDetails/assessmentDetails.html';\nvar html = \"<div ng-if=\\\"$ctrl.assessment.open\\\"\\n     ng-class=\\\"::{'sb-list-dropdown': !$ctrl.simpleView}\\\">\\n  <div layout=\\\"column\\\"\\n       layout-align=\\\"stretch\\\">\\n\\n    <div ng-class=\\\"::{'sb-list-dropdown__inner': !$ctrl.simpleView}\\\">\\n\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"left\\\"\\n           ng-if=\\\"$ctrl.assessment.grade_system.is_counter && $ctrl.assessment.counter_grades\\\"\\n           ng-mouseenter=\\\"$ctrl.counterGradeHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.counterGradeHovered = false\\\">\\n        <div flex=\\\"95\\\">\\n                    <span class=\\\"md-body-1\\\"\\n                          localize>\\n                        __MSG_courseProgressAssessmentLabel__\\n                    </span>\\n          <div class=\\\"counter-grade-container\\\"\\n               flex\\n               layout=\\\"row\\\"\\n               layout-align=\\\"start center\\\">\\n            <counter-grade-editable label=\\\"grade.circle_label\\\"\\n                                    grade=\\\"$ctrl.assessment.counter_grades[$index]\\\"\\n                                    max-grade=\\\"::$ctrl.assessment.grade_system.max_counter_grades[$index]\\\"\\n                                    on-update=\\\"$ctrl.counterGradeChange(grade, $index)\\\"\\n                                    read-only=\\\"::$ctrl.readOnly || $ctrl.disabled\\\"\\n                                    ng-repeat=\\\"grade in ::$ctrl.gradeSystem.grades track by $index\\\">\\n            </counter-grade-editable>\\n            <partial-last-update date=\\\"$ctrl.assessment.grade_last_edit\\\"\\n                                 visible=\\\"$ctrl.counterGradeHovered\\\"\\n                                 ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n          </div>\\n        </div>\\n        <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   flex=\\\"5\\\"\\n                   ng-click=\\\"$ctrl.toggleAssessmentGradePublished()\\\"\\n                   ng-if=\\\"::!$ctrl.readOnly\\\"\\n                   ng-disabled=\\\"::$ctrl.disabled\\\"\\n                   localize>\\n          <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                   ng-show=\\\"$ctrl.assessment.grade_published\\\">\\n            visibility\\n          </md-icon>\\n\\n          <md-icon class=\\\"sb-icon-small\\\"\\n                   ng-show=\\\"!$ctrl.assessment.grade_published\\\">\\n            visibility_off\\n          </md-icon>\\n        </md-button>\\n      </div>\\n\\n\\n      <div class=\\\"sb-assessment-details__current-grade\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center start\\\"\\n           ng-if=\\\"$ctrl.isGradeVisible\\\"\\n           ng-mouseenter=\\\"$ctrl.assessmentGradeHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.assessmentGradeHovered = false\\\">\\n        <div flex=\\\"95\\\">\\n                    <span class=\\\"md-body-1\\\"\\n                          localize>\\n                        __MSG_courseProgressCurrentGradeLabel__\\n                    </span>\\n          <grade-editable grade=\\\"$ctrl.assessment.grade\\\"\\n                          grade-system=\\\"::$ctrl.gradeSystem\\\"\\n                          read-only=\\\"::$ctrl.readOnly || $ctrl.disabled\\\"\\n                          mixpanel-update-event=\\\"{{::$ctrl.mixpanelGradeEvent}}\\\"\\n                          on-grade-update=\\\"$ctrl.gradeUpdate(grade)\\\"\\n                          on-grade-change=\\\"$ctrl.gradeChange(grade)\\\"\\n                          ng-if=\\\"$ctrl.componentInitialized\\\">\\n          </grade-editable>\\n          <partial-last-update date=\\\"$ctrl.assessment.grade_last_edit\\\"\\n                               visible=\\\"$ctrl.assessmentGradeHovered\\\"\\n                               ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n        </div>\\n        <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                   flex=\\\"5\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"$ctrl.toggleAssessmentGradePublished()\\\"\\n                   ng-if=\\\"::!$ctrl.readOnly\\\"\\n                   ng-disabled=\\\"::$ctrl.disabled\\\"\\n                   localize>\\n          <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                   ng-show=\\\"$ctrl.assessment.grade_published\\\">\\n            visibility\\n          </md-icon>\\n\\n          <md-icon class=\\\"sb-icon-small\\\"\\n                   ng-show=\\\"!$ctrl.assessment.grade_published\\\">\\n            visibility_off\\n          </md-icon>\\n        </md-button>\\n        <div flex=\\\"5\\\"\\n             ng-if=\\\"::$ctrl.readOnly\\\"></div>\\n      </div>\\n\\n      <grade-description assessment=\\\"$ctrl.assessment\\\"\\n                         ng-if=\\\"$ctrl.isGradeTextsVisible\\\">\\n      </grade-description>\\n\\n      <div class=\\\"sb-assessment-details__target-grade\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center start\\\"\\n           ng-if=\\\"::$ctrl.isTargetGradeVisible\\\"\\n           ng-mouseenter=\\\"$ctrl.targetGradeHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.targetGradeHovered = false\\\">\\n        <div flex=\\\"95\\\">\\n                    <span class=\\\"md-body-1\\\"\\n                          flex-auto\\n                          localize>\\n                        __MSG_courseProgressTargetGradeLabel__\\n                    </span>\\n          <grade-editable grade=\\\"$ctrl.assessment.target_grade\\\"\\n                          grade-system=\\\"::$ctrl.gradeSystem\\\"\\n                          read-only=\\\"::$ctrl.readOnly || $ctrl.disabled\\\"\\n                          is-target-grade=\\\"true\\\"\\n                          on-grade-update=\\\"$ctrl.targetGradeUpdate(grade)\\\"\\n                          on-grade-change=\\\"$ctrl.targetGradeChange(grade)\\\"\\n                          ng-if=\\\"$ctrl.componentInitialized\\\">\\n          </grade-editable>\\n          <partial-last-update date=\\\"$ctrl.assessment.target_grade_last_edit\\\"\\n                               visible=\\\"$ctrl.targetGradeHovered\\\"\\n                               ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n        </div>\\n\\n        <md-button flex=\\\"5\\\"\\n                   class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"$ctrl.toggleAssessmentTargetGradePublished()\\\"\\n                   ng-if=\\\"!$ctrl.readOnly\\\"\\n                   ng-disabled=\\\"::$ctrl.disabled\\\"\\n                   localize>\\n          <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                   ng-show=\\\"$ctrl.assessment.target_grade_published\\\">\\n            visibility\\n          </md-icon>\\n\\n          <md-icon class=\\\"sb-icon-small\\\"\\n                   ng-show=\\\"!$ctrl.assessment.target_grade_published\\\">\\n            visibility_off\\n          </md-icon>\\n        </md-button>\\n        <div flex=\\\"5\\\"\\n             ng-if=\\\"$ctrl.readOnly\\\"></div>\\n      </div>\\n\\n      <div class=\\\"sb-assessment-details__feedback\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center start\\\"\\n           ng-if=\\\"!$ctrl.readOnly || ($ctrl.readOnly && $ctrl.assessment.feedback)\\\"\\n           ng-mouseenter=\\\"$ctrl.feedbackHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.feedbackHovered = false\\\">\\n        <md-input-container class=\\\"md-block\\\"\\n                            flex=\\\"95\\\">\\n          <label localize>\\n            __MSG_courseProgressFeedbackLabel__\\n          </label>\\n          <textarea mixpanel-text-event=\\\"{{::$ctrl.mixpanelFeedbackEvent}}\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    ng-disabled=\\\"::$ctrl.readOnly || $ctrl.disabled\\\"\\n                    ng-model=\\\"$ctrl.assessment.feedback\\\"\\n                    ng-model-options='::{ debounce: 500 }'\\n                    ng-change=\\\"$ctrl.updateAssessmentProperty()\\\">\\n                    </textarea>\\n          <partial-last-update date=\\\"$ctrl.assessment.feedback_last_edit\\\"\\n                               visible=\\\"$ctrl.feedbackHovered\\\"\\n                               ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n        </md-input-container>\\n\\n        <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                   flex=\\\"5\\\"\\n                   aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                   ng-click=\\\"$ctrl.toggleAssessmentFeedbackPublished()\\\"\\n                   ng-if=\\\"::!$ctrl.readOnly\\\"\\n                   ng-disabled=\\\"::$ctrl.disabled\\\"\\n                   localize>\\n          <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                   ng-show=\\\"$ctrl.assessment.feedback_published\\\">\\n            visibility\\n          </md-icon>\\n\\n          <md-icon class=\\\"sb-icon-small\\\"\\n                   ng-show=\\\"!$ctrl.assessment.feedback_published\\\">\\n            visibility_off\\n          </md-icon>\\n        </md-button>\\n        <div flex=\\\"5\\\"\\n             ng-if=\\\"$ctrl.readOnly\\\"></div>\\n      </div>\\n\\n      <div class=\\\"sb-assessment-details__private-note\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center start\\\"\\n           ng-if=\\\"$ctrl.isPrivateNoteVisible \\\"\\n           ng-mouseenter=\\\"$ctrl.privateNoteHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.privateNoteHovered = false\\\">\\n        <md-input-container class=\\\"md-block\\\"\\n                            flex=\\\"95\\\">\\n          <label localize>\\n            __MSG_courseProgressPrivateNoteLabel__\\n          </label>\\n          <textarea md-detect-hidden=\\\"true\\\"\\n                    ng-model=\\\"$ctrl.assessment.private_note\\\"\\n                    ng-model-options='::{ debounce: 1000 }'\\n                    ng-change=\\\"$ctrl.updateAssessmentProperty()\\\"\\n                    ng-disabled=\\\"::$ctrl.disabled\\\">\\n                    </textarea>\\n          <partial-last-update date=\\\"$ctrl.assessment.private_note_last_edit\\\"\\n                               visible=\\\"$ctrl.privateNoteHovered\\\"\\n                               ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n        </md-input-container>\\n        <div flex=\\\"5\\\"></div>\\n      </div>\\n\\n      <div class=\\\"sb-assessment-details__student-self-assessment\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"center start\\\"\\n           ng-if=\\\"(!$ctrl.teacherAccount && $ctrl.showStudentSelfAssessment) ||\\n                       ($ctrl.showStudentSelfAssessment && $ctrl.assessment.self_assessment)\\\"\\n           ng-mouseenter=\\\"$ctrl.selfAssessmentHovered = true\\\"\\n           ng-mouseleave=\\\"$ctrl.selfAssessmentHovered = false\\\">\\n        <md-input-container class=\\\"md-block\\\"\\n                            flex=\\\"95\\\">\\n          <label ng-if=\\\"::$ctrl.teacherAccount\\\"\\n                 localize>\\n            __MSG_teacherSelfAssessmentLabel__\\n          </label>\\n          <label ng-if=\\\"::!$ctrl.teacherAccount\\\"\\n                 localize>\\n            __MSG_studentSelfAssessmentLabel__\\n          </label>\\n          <textarea mixpanel-text-event=\\\"{{::$ctrl.mixpanelSelfAssessmentEvent}}\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    ng-disabled=\\\"::$ctrl.teacherAccount || $ctrl.disabled\\\"\\n                    ng-model=\\\"$ctrl.assessment.self_assessment\\\"\\n                    ng-model-options='::{ debounce: 1000 }'\\n                    ng-change=\\\"$ctrl.updateAssessmentProperty()\\\">\\n                    </textarea>\\n          <partial-last-update date=\\\"$ctrl.assessment.self_assessment_last_edit\\\"\\n                               visible=\\\"$ctrl.selfAssessmentHovered\\\"\\n                               ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n        </md-input-container>\\n        <div flex=\\\"5\\\"></div>\\n      </div>\\n\\n      <div ng-if=\\\"::$ctrl.isOverallAssessmentSectionVisible\\\"\\n           flex>\\n                <span class=\\\"md-body-1\\\"\\n                      localize>\\n                    __MSG_courseGradeMode__\\n                </span>\\n        <div class=\\\"sb-assessment-details__overall_result\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-if=\\\"$ctrl.teacherAccount || $ctrl.assignment.result_published\\\"\\n             ng-mouseenter=\\\"$ctrl.overallResultHovered = true\\\"\\n             ng-mouseleave=\\\"$ctrl.overallResultHovered = false\\\">\\n          <md-input-container class=\\\"md-block\\\"\\n                              flex=\\\"95\\\">\\n            <label localize>\\n              __MSG_resultsMode__\\n            </label>\\n            <textarea mixpanel-text-event=\\\"{{::$ctrl.mixpanelSelfAssessmentEvent}}\\\"\\n                      md-detect-hidden=\\\"true\\\"\\n                      ng-disabled=\\\"::!$ctrl.teacherAccount || $ctrl.disabled\\\"\\n                      ng-model=\\\"$ctrl.assignment.result\\\"\\n                      ng-model-options='::{ debounce: 1000 }'\\n                      ng-change=\\\"$ctrl.onAssignmentChange({assignment: $ctrl.assignment })\\\">\\n                    </textarea>\\n            <partial-last-update ng-if=\\\"::$ctrl.teacherAccount\\\"\\n                                 date=\\\"$ctrl.assignment.result_last_edit\\\"\\n                                 visible=\\\"$ctrl.overallResultHovered\\\"></partial-last-update>\\n          </md-input-container>\\n          <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                     aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                     flex=\\\"5\\\"\\n                     ng-click=\\\"$ctrl.onResultPublishChange()\\\"\\n                     ng-if=\\\"::$ctrl.teacherAccount\\\"\\n                     ng-disabled=\\\"::$ctrl.disabled\\\"\\n                     localize>\\n            <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                     ng-show=\\\"$ctrl.assignment.result_published\\\">\\n              visibility\\n            </md-icon>\\n\\n            <md-icon class=\\\"sb-icon-small\\\"\\n                     ng-show=\\\"!$ctrl.assignment.result_published\\\">\\n              visibility_off\\n            </md-icon>\\n          </md-button>\\n        </div>\\n        <div class=\\\"sb-assessment-details__overall_feedback\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-if=\\\"$ctrl.isOverallFeedbackAvailable\\\"\\n             ng-mouseenter=\\\"$ctrl.overallFeedbackHovered = true\\\"\\n             ng-mouseleave=\\\"$ctrl.overallFeedbackHovered = false\\\">\\n          <md-input-container class=\\\"md-block\\\"\\n                              flex=\\\"95\\\">\\n            <label localize>\\n              __MSG_overallFeedbackInput__\\n            </label>\\n            <textarea mixpanel-text-event=\\\"{{::$ctrl.mixpanelSelfAssessmentEvent}}\\\"\\n                      md-detect-hidden=\\\"true\\\"\\n                      ng-disabled=\\\"::!$ctrl.teacherAccount || $ctrl.disabled\\\"\\n                      ng-model=\\\"$ctrl.assignment.feedback\\\"\\n                      ng-model-options='::{ debounce: 1000 }'\\n                      ng-change=\\\"$ctrl.onAssignmentChange({assignment: $ctrl.assignment })\\\">\\n                    </textarea>\\n            <partial-last-update date=\\\"$ctrl.assignment.feedback_last_edit\\\"\\n                                 visible=\\\"$ctrl.overallFeedbackHovered\\\"\\n                                 ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n          </md-input-container>\\n          <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n                     aria-label=\\\"__MSG_visibilityBtn__\\\"\\n                     flex=\\\"5\\\"\\n                     ng-click=\\\"$ctrl.onFeedbackPublishChange()\\\"\\n                     ng-if=\\\"::$ctrl.teacherAccount\\\"\\n                     ng-disabled=\\\"$ctrl.disabled\\\"\\n                     localize>\\n            <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                     ng-show=\\\"$ctrl.assignment.feedback_published\\\">\\n              visibility\\n            </md-icon>\\n\\n            <md-icon class=\\\"sb-icon-small\\\"\\n                     ng-show=\\\"!$ctrl.assignment.feedback_published\\\">\\n              visibility_off\\n            </md-icon>\\n          </md-button>\\n        </div>\\n        <div class=\\\"sb-assessment-details__overall_teacher_note\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"start start\\\"\\n             ng-if=\\\"::$ctrl.teacherAccount && $ctrl.assessment.teacher_in_class\\\"\\n             ng-mouseenter=\\\"$ctrl.overallTeacherNoteHovered = true\\\"\\n             ng-mouseleave=\\\"$ctrl.overallTeacherNoteHovered = false\\\">\\n          <md-input-container class=\\\"md-block\\\"\\n                              flex=\\\"95\\\">\\n            <label localize>\\n              __MSG_overallPrivateNoteInput__\\n            </label>\\n            <textarea mixpanel-text-event=\\\"{{::$ctrl.mixpanelSelfAssessmentEvent}}\\\"\\n                      md-detect-hidden=\\\"true\\\"\\n                      ng-model=\\\"$ctrl.assignment.private_note\\\"\\n                      ng-model-options='::{ debounce: 1000 }'\\n                      ng-change=\\\"$ctrl.onAssignmentChange({ assignment: $ctrl.assignment })\\\"\\n                      ng-disabled=\\\"$ctrl.disabled\\\">\\n                    </textarea>\\n            <partial-last-update date=\\\"$ctrl.assignment.private_note_last_edit\\\"\\n                                 visible=\\\"$ctrl.overallTeacherNoteHovered\\\"\\n                                 ng-if=\\\"::$ctrl.teacherAccount\\\"></partial-last-update>\\n          </md-input-container>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"sb-course-assessment__empty-info\\\"\\n         ng-show=\\\"::$ctrl.isEmpty\\\"\\n         ng-bind-html=\\\"::$ctrl.emptyMsg | localize\\\">\\n    </div>\\n\\n    <div class=\\\"sb-list-dropdown__footer\\\"\\n         layout-align=\\\"center start space-around\\\"\\n         ng-if=\\\"::!$ctrl.simpleView\\\">\\n<!--      <md-button class=\\\"sb-button\\\"-->\\n<!--                 ng-if=\\\"::!$ctrl.detailsButtonDisable\\\"-->\\n<!--                 ng-click=\\\"$ctrl.onNavigateToDetails($ctrl.assessment)\\\"-->\\n<!--                 localize>-->\\n<!--        __MSG_goToDetailsBtn__-->\\n<!--      </md-button>-->\\n      <md-button class=\\\"sb-button sb-button--right\\\"\\n                 ng-click=\\\"$ctrl.onAssessmentClose($ctrl.assessment)\\\"\\n                 localize>\\n        __MSG_closeBtn__\\n      </md-button>\\n    </div>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/assessmentStatusPreview/assessmentStatusPreview.html';\nvar html = \"<div class=\\\"layout-row-flex\\\"\\n    layout=\\\"row\\\"\\n    layout-align=\\\"end center\\\">\\n\\n    <last-update date=\\\"$ctrl.assessment.last_update\\\"></last-update>\\n\\n    <span\\n        class=\\\"sb-course-assessment__self-assessment\\n               sb-course-assessment__meta-item\\n               sb-course-assessment__meta-item--sm\\\"\\n        ng-visible=\\\"$ctrl.hasStudentsSelfAssessment\\\">\\n        <span>\\n            <md-tooltip\\n                class=\\\"md-fling\\\"\\n                md-direction=\\\"top\\\"\\n                md-z-index=\\\"1010\\\"\\n                localize>\\n                __MSG_courseProgressStudentSelfAssessmentTooltip__\\n            </md-tooltip>\\n            <span class=\\\"sb-ico sb-ico__self-assessment\\\"></span>\\n        </span>\\n    </span>\\n\\n    <span\\n        class=\\\"sb-course-assessment__meta-note\\n               sb-course-assessment__meta-item\\n               sb-course-assessment__meta-item--sm\\\"\\n        ng-visible=\\\"$ctrl.hasTeacherNote\\\">\\n        <md-tooltip\\n            class=\\\"md-fling\\\"\\n            md-direction=\\\"top\\\"\\n            md-z-index=\\\"1010\\\"\\n            localize>\\n            __MSG_courseProgressPrivateNoteAvailableTooltip__\\n        </md-tooltip>\\n        <span class=\\\"sb-ico sb-ico__note\\\"></span>\\n    </span>\\n\\n    <span class=\\\"sb-course-assessment__meta-feedback\\n                 sb-course-assessment__meta-item\\n                 sb-course-assessment__meta-item--sm\\\"\\n          ng-visible=\\\"$ctrl.hasFeedback\\\">\\n        <md-tooltip\\n            class=\\\"md-fling\\\"\\n            md-direction=\\\"top\\\"\\n            md-z-index=\\\"1010\\\"\\n            localize>\\n            __MSG_courseProgressFeedbackAvailableTooltip__\\n        </md-tooltip>\\n        <span\\n            class=\\\"sb-ico sb-ico__feedback\\\"\\n            ng-if=\\\"!$ctrl.isFeedbackVisible\\\"></span>\\n        <span\\n            class=\\\"sb-ico sb-ico__feedback\\\"\\n            ng-if=\\\"$ctrl.isFeedbackVisible\\\">\\n            <md-icon class=\\\"sb-ico sb-ico__small-eye\\\">visibility</md-icon>\\n        </span>\\n    </span>\\n\\n    <span class=\\\"sb-course-assessment__meta-goal\\n                 sb-course-assessment__meta-item\\n                 sb-course-assessment__meta-item--sm\\\"\\n          ng-if=\\\"$ctrl.showTargetGrade && $ctrl.assessment.target_grade\\\">\\n        <md-tooltip\\n            md-direction=\\\"top\\\"\\n            md-z-index=\\\"1010\\\"\\n            class=\\\"md-fling sb-tooltip--align-position--small-item\\\"\\n            localize>\\n            __MSG_courseProgressTargetGoalAvailableTooltip__\\n        </md-tooltip>\\n        {{ $ctrl.assessment.target_grade.circle_label }}\\n        <md-icon\\n            class=\\\"sb-ico sb-ico__small-eye\\\"\\n            ng-show=\\\"$ctrl.assessment.target_grade_published\\\">\\n            visibility\\n        </md-icon>\\n    </span>\\n\\n\\n    <!-- this is for normal grade -->\\n    <span\\n        class=\\\"sb-course-assessment__meta-grade__container normal-grade\\\"\\n        ng-class=\\\"{'sb-course-assessment__meta-grade__container--counter-list': $ctrl.assessment.counter_grades}\\\"\\n        ng-if=\\\"!$ctrl.assessment.grade_system.is_counter || !$ctrl.assessment.counter_grades\\\">\\n        <span class=\\\"sb-course-assessment__meta-grade\\n                   sb-course-assessment__meta-item\\n                   sb-course-assessment__meta-item--sm\\\">\\n            <md-tooltip\\n                md-direction=\\\"top\\\"\\n                class=\\\"md-fling sb-tooltip--align-position\\\"\\n                md-z-index=\\\"1010\\\"\\n                ng-if=\\\"$ctrl.assessment.grade\\\">\\n                {{ $ctrl.assessment.grade_system.name }}\\n            </md-tooltip>\\n            <span\\n                class=\\\"sb-course-assessment__meta-grade--text\\\"\\n                ng-style=\\\"{\\n                    color: $ctrl.showTargetGrade ? '' : $ctrl.assessment.grade.color,\\n                    background: $ctrl.showTargetGrade ? $ctrl.assessment.grade.color : ''\\n                }\\\">\\n                {{ $ctrl.assessment.grade.circle_label }}\\n            </span>\\n            <md-icon\\n                class=\\\"sb-ico sb-ico__small-eye\\n                       sb-course-assessment__meta-grade__visibility-icon\\\"\\n                ng-class=\\\"{'sb-course-assessment__meta-grade__visibility-icon__color-background':\\n                            $ctrl.showTargetGrade}\\\"\\n                ng-show=\\\"$ctrl.assessment.grade_published && $ctrl.showVisibility && $ctrl.assessment.grade\\\">\\n                visibility\\n            </md-icon>\\n        </span>\\n    </span>\\n\\n    <!-- this one is only for counter grades -->\\n    <span\\n        class=\\\"sb-course-assessment__meta-grade__container\\\"\\n        ng-if=\\\"$ctrl.assessment.grade_system.is_counter && $ctrl.assessment.counter_grades\\\">\\n        <span\\n            class=\\\"sb-course-assessment__meta-grade\\n                   sb-course-assessment__meta-grade--sm\\n                   sb-course-assessment__meta-item\\n                   sb-course-assessment__meta-grade--expanded\\n                   sb-course-assessment__meta-item--sm\\\"\\n            ng-class=\\\"($ctrl.assessment.grade_system.is_counter) ? 'sb-counter-grade-item' : ''\\\">\\n            <md-icon\\n                class=\\\"sb-ico sb-ico__small-eye\\n                       counter-assesment-grade\\n                       sb-course-assessment__meta-grade__visibility-icon\\\"\\n                ng-show=\\\"$ctrl.assessment.grade_published && $ctrl.showVisibility\\\">\\n                visibility\\n            </md-icon>\\n            <div\\n                class=\\\"layout-row-flex\\\"\\n                layout=\\\"row\\\"\\n                layout-align=\\\"center center\\\">\\n                <counter-grade-preview\\n                    ng-repeat=\\\"grade in $ctrl.gradeSystem.grades track by $index\\\"\\n                    label=\\\"grade.circle_label\\\"\\n                    grade=\\\"$ctrl.assessment.counter_grades[$index]\\\"\\n                    max-grade=\\\"$ctrl.assessment.grade_system.max_counter_grades[$index]\\\">\\n                </counter-grade-preview>\\n            </div>\\n        </span>\\n    </span>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/courseSummary/courseSummary.html';\nvar html = \"<div class=\\\"course-summary-wrapper course-summary-wrapper__last-modified\\\"\\n     ng-visible=\\\"::$ctrl.course.last_update\\\">\\n    <span class=\\\"course-summary-tooltip-handler course-summary-item course-summary-item__last-modified\\\">\\n        {{ ::$ctrl.course.last_update | LastModified }}\\n        <md-tooltip class=\\\"md-fling\\\"\\n                    md-direction=\\\"top\\\"\\n                    md-z-index=\\\"1014\\\"\\n                    ng-if=\\\"::$ctrl.course.last_update\\\">{{::'courseProgressLastEditTooltip' | localize}}\\n        </md-tooltip>\\n    </span>\\n</div>\\n<div class=\\\"course-summary-wrapper\\\"\\n     ng-visible=\\\"::$ctrl.course.private_note\\\">\\n    <md-icon class=\\\"course-summary-item\\\">description\\n        <md-tooltip class=\\\"md-fling\\\"\\n                    md-direction=\\\"top\\\"\\n                    md-z-index=\\\"1014\\\"\\n                    ng-if=\\\"::$ctrl.course.private_note\\\">{{::'courseProgressPrivateNoteAvailableTooltip' | localize }}\\n        </md-tooltip>\\n    </md-icon>\\n</div>\\n<div class=\\\"course-summary-wrapper\\\"\\n     ng-visible=\\\"::$ctrl.course.feedback\\\">\\n    <md-icon class=\\\"nested-icon course-summary-item\\\">feedback\\n        <md-icon ng-if=\\\"::$ctrl.course.feedback_published\\\">remove_red_eye</md-icon>\\n        <md-tooltip class=\\\"md-fling\\\"\\n                    md-direction=\\\"top\\\"\\n                    md-z-index=\\\"1014\\\"\\n                    ng-if=\\\"::$ctrl.course.feedback\\\">{{::'courseProgressFeedbackAvailableTooltip' | localize }}\\n        </md-tooltip>\\n    </md-icon>\\n</div>\\n<div class=\\\"course-summary-wrapper\\\"\\n     ng-visible=\\\"::$ctrl.course.target_grade\\\">\\n    <md-icon class=\\\"nested-icon course-summary-item course-summary-item__target-grade\\\"\\n             md-font-set=\\\"roboto\\\">{{::$ctrl.course.target_grade.circle_label}}\\n        <md-icon ng-if=\\\"::$ctrl.course.target_grade_published\\\">remove_red_eye</md-icon>\\n        <md-tooltip class=\\\"md-fling\\\"\\n                    md-direction=\\\"top\\\"\\n                    md-z-index=\\\"1014\\\"\\n                    ng-if=\\\"::$ctrl.course.target_grade\\\">{{::'courseProgressTargetGradeLabel' | localize }}</md-tooltip>\\n    </md-icon>\\n</div>\\n<div class=\\\"course-summary-wrapper\\\"\\n     ng-visible=\\\"::$ctrl.course.grade\\\">\\n    <md-icon class=\\\"nested-icon course-summary-item\\\"\\n             md-font-set=\\\"roboto\\\"\\n             ng-style=\\\"::{'color': $ctrl.course.grade.color}\\\">{{::$ctrl.course.grade.circle_label}}\\n        <md-icon ng-if=\\\"::$ctrl.course.grade_published\\\">remove_red_eye</md-icon>\\n        <md-tooltip class=\\\"md-fling\\\"\\n                    md-direction=\\\"top\\\"\\n                    md-z-index=\\\"1014\\\"\\n                    ng-if=\\\"::$ctrl.course.grade\\\">{{::$ctrl.course.grade_system.name}}</md-tooltip>\\n    </md-icon>\\n</div>\\n\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html';\nvar html = \"<md-card class=\\\"share-assessments-with-colleagues--add\\\">\\n  <md-card-content class=\\\"share-assessments-with-colleagues--add-content\\\">\\n    <form class=\\\"share-assessments-with-colleagues--add-content-form\\\"\\n          name=\\\"$ctrl.shareAssessmentWithColleaguesForm\\\"\\n          novalidate>\\n      <md-input-container class=\\\"md-block\\\"\\n                          md-no-float>\\n        <input class=\\\"share-assessments-with-colleagues--add-content-form-input\\\"\\n               type=\\\"text\\\"\\n               placeholder=\\\"{{::'shareAssessmentInputPlaceholder' | localize}}\\\"\\n               name=\\\"email\\\"\\n               ng-model=\\\"$ctrl.email\\\"\\n               ng-model-options=\\\"{ updateOn: 'default blur', debounce: { blur: 0, '*': 1000 } }\\\"\\n               ng-pattern=\\\"$ctrl.emailPattern\\\"\\n               ng-keyup=\\\"$ctrl.onKeyUp($event)\\\">\\n        <div ng-messages=\\\"$ctrl.shareAssessmentWithColleaguesForm.email.$error\\\">\\n          <div class=\\\"ng-animate\\\"\\n               ng-message=\\\"pattern\\\"\\n               localize>__MSG_invalidEmailAddress__\\n          </div>\\n          <div class=\\\"ng-animate\\\"\\n               ng-message=\\\"unique\\\"\\n               localize>__MSG_notUniqueEmailAddress__\\n          </div>\\n        </div>\\n      </md-input-container>\\n    </form>\\n    <md-button class=\\\"md-icon-button share-assessments-with-colleagues--add-content-button\\\"\\n               ng-disabled=\\\"!$ctrl.isFormValid()\\\">\\n      <md-icon class=\\\"share-assessments-with-colleagues--add-content-button-icon\\\"\\n               ng-click=\\\"$ctrl.addColleagueEmail()\\\">add_circle\\n      </md-icon>\\n    </md-button>\\n  </md-card-content>\\n</md-card>\\n\\n<md-subheader localize>\\n  __MSG_colleaguesThatHaveAccessToYourAssessments__\\n</md-subheader>\\n<md-card class=\\\"share-assessments-with-colleagues-list\\\"\\n         ng-show=\\\"$ctrl.colleaguesEmails.length\\\">\\n  <md-card-content>\\n    <md-list class=\\\"md-no-proxy md-with-secondary\\\">\\n      <md-list-item class=\\\"share-assessments-with-colleagues-list-item\\\"\\n                    ng-repeat=\\\"colleagueEmail in $ctrl.colleaguesEmails track by colleagueEmail.id\\\">\\n        <div class=\\\"md-list-item-text share-assessments-with-colleagues-list-item-text\\\">\\n          {{::colleagueEmail.email}}\\n          <div class=\\\"share-assessments-with-colleagues-list-item-error\\\"\\n               ng-hide=\\\"::colleagueEmail.isValid\\\"\\n               localize>\\n            __MSG_notStudyBeeEmail__\\n          </div>\\n        </div>\\n        <md-button class=\\\"md-icon-button md-secondary share-assessments-with-colleagues-list-item-button\\\"\\n                   ng-click=\\\"$ctrl.removeColleagueEmail(colleagueEmail)\\\">\\n          <md-icon class=\\\"share-assessments-with-colleagues-list-item-button-icon\\\">remove_circle</md-icon>\\n        </md-button>\\n      </md-list-item>\\n    </md-list>\\n  </md-card-content>\\n</md-card>\\n\\n<h1 class=\\\"share-assessments-with-colleagues-list-empty\\\"\\n    ng-hide=\\\"$ctrl.colleaguesEmails.length\\\"\\n    localize>\\n  __MSG_emptySharedAssessmentList__\\n</h1>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/studentProfile/studentProfile.html';\nvar html = \"<div flex\\n     layout=\\\"row\\\"\\n     ng-if=\\\"$ctrl.student\\\">\\n    <student-profile-photo src=\\\"::$ctrl.student.photo_url\\\"></student-profile-photo>\\n    <student-profile-details student=\\\"$ctrl.student\\\"></student-profile-details>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/studentProfile/studentProfileDetails/studentProfileDetails.html';\nvar html = \"<header flex\\n        layout=\\\"column\\\"\\n        ng-if=\\\"!$ctrl.pending\\\">\\n    <long-text-tooltip text=\\\"::$ctrl.student.student_name\\\">\\n        <h1 class=\\\"student-profile-details-name\\\">\\n            {{ ::$ctrl.student.student_name }}\\n        </h1>\\n    </long-text-tooltip>\\n    <long-text-tooltip text=\\\"::$ctrl.student.email\\\"\\n                       ng-if=\\\"::$ctrl.student.email\\\">\\n        <h2 class=\\\"student-profile-details-meta email\\\">\\n            E-mail: {{ ::$ctrl.student.email }}\\n        </h2>\\n    </long-text-tooltip>\\n    <long-text-tooltip text=\\\"$ctrl.student.klass\\\"\\n                       ng-disabled=\\\"!$ctrl.student.klass\\\"\\n                       ng-show=\\\"$ctrl.student.klass\\\">\\n        <h2 class=\\\"student-profile-details-meta class\\\">\\n            {{ ::'class' | localize }}: {{ $ctrl.student.klass }}\\n        </h2>\\n    </long-text-tooltip>\\n    <long-text-tooltip text=\\\"$ctrl.student.tutor\\\"\\n                       ng-disabled=\\\"!$ctrl.student.tutor\\\"\\n                       ng-show=\\\"$ctrl.student.tutor\\\">\\n        <h2 class=\\\"student-profile-details-meta tutor\\\">\\n            {{ ::'tutor' | localize }}: {{ $ctrl.student.tutor }}\\n        </h2>\\n    </long-text-tooltip>\\n</header>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/studentProfile/studentProfilePhoto/studentProfilePhoto.html';\nvar html = \"<div class=\\\"sb-photo-placeholder\\\"\\n     flex-auto>\\n    <img ng-src=\\\"{{ ::$ctrl.src }}\\\"\\n         ng-show=\\\"::$ctrl.src\\\">\\n    <md-icon class=\\\"sb-icon__big--no-photo\\\"\\n             ng-show=\\\"::!$ctrl.src\\\">\\n        account_circle\\n    </md-icon>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/components/studentProgressInput/studentProgressInput.html';\nvar html = \"<div class=\\\"student-progress-input\\\"\\n     flex\\n     layout=\\\"row\\\"\\n     layout-align=\\\"start center\\\">\\n    <md-input-container class=\\\"md-block\\\"\\n                        flex=\\\"95\\\">\\n        <label localize>\\n            {{ ::$ctrl.label }}\\n        </label>\\n        <textarea mixpanel-text-event=\\\"{{$ctrl.mixpanelFeedbackEvent}}\\\"\\n                  md-detect-hidden=\\\"true\\\"\\n                  ng-disabled=\\\"::$ctrl.disabled\\\"\\n                  ng-model=\\\"$ctrl.value\\\"\\n                  ng-model-options='{ debounce: 500 }'\\n                  ng-change=\\\"$ctrl.triggerOnChange()\\\">\\n                                    </textarea>\\n        <div class=\\\"student-progress-input-details\\\"\\n             flex\\n             layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\"\\n             ng-if=\\\"::$ctrl.isTeacher\\\">\\n            <div class=\\\"student-progress-input-details__editor\\\">{{ $ctrl.editBy }}</div>\\n            <div class=\\\"student-progress-input-details__date\\\">{{ $ctrl.lastEdit | LastModified }}</div>\\n        </div>\\n    </md-input-container>\\n\\n    <md-button class=\\\"md-icon-button sb-btn-icon-small sb-ico__visibility\\\"\\n               aria-label=\\\"__MSG_visibilityBtn__\\\"\\n               flex=\\\"5\\\"\\n               ng-click=\\\"$ctrl.onClick()\\\"\\n               ng-if=\\\"::$ctrl.isPublished !== null && $ctrl.isTeacher\\\"\\n               localize>\\n        <md-icon class=\\\"sb-icon-small\\\"\\n                 ng-if=\\\"!$ctrl.isPublished\\\">visibility_off</md-icon>\\n        <md-icon class=\\\"sb-icon-small sb-icon-green\\\"\\n                 ng-if=\\\"$ctrl.isPublished\\\">visibility</md-icon>\\n    </md-button>\\n    <div class=\\\"student-progress-input__placeholder\\\"\\n         flex=\\\"5\\\"\\n         ng-if=\\\"::$ctrl.isPublished === null\\\"></div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogConfirmation.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content class=\\\"sb-dialog-content\\\">\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_exportingTo__\\n        </div>\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>__MSG_exportAllStudentsToGDConfirmation__</span>\\n        </p>\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-href=\\\"{{::dialog.link}}\\\"\\n                       localize>\\n                __MSG_openGoogleDrive__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"dialog.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_okBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogFail.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content class=\\\"sb-dialog-content\\\">\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_exportFailed__\\n        </div>\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>__MSG_exportAllStudentsToGDFail__</span>\\n        </p>\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"flex-end\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"dialog.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_okBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/dialogs/exportStudentsResults/exportStudentsResultsDialogSuccess.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content class=\\\"sb-dialog-content\\\">\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_exportSuccess__\\n        </div>\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>__MSG_exportAllStudentsToGDSuccess__</span>\\n        </p>\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-href=\\\"{{::dialog.link}}\\\"\\n                       localize>\\n                __MSG_openGoogleDrive__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"dialog.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_okBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/dialogs/shareAssessmentsWithColleagues/shareAssessmentsWithColleagues.html';\nvar html = \"<md-dialog class=\\\"share-assessments-with-colleagues\\\"\\n           flex=\\\"66\\\"\\n           aria-label=\\\"List dialog\\\">\\n  <md-toolbar class=\\\"sb-toolbar share-assessments-with-colleagues--header\\\"\\n              flex\\n              layout=\\\"row\\\"\\n              layout-align=\\\"space-between center\\\">\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n               flex=\\\"none\\\">\\n      <md-icon>\\n        close\\n      </md-icon>\\n    </md-button>\\n\\n    <span class=\\\"sb-toolbar-title\\\"\\n          flex\\n          localize>\\n            __MSG_shareAssessmentsWithColleagues__\\n        </span>\\n\\n<!--    <help-button link=\\\"teacherStudentProgressShareAssessmentsDialogHelpUrl\\\"></help-button>-->\\n  </md-toolbar>\\n  <md-dialog-content>\\n    <md-content class=\\\"md-padding\\\"\\n                layout=\\\"column\\\">\\n      <md-card class=\\\"share-assessments-with-colleagues--help-card\\\"\\n               layout=\\\"row\\\">\\n        <md-card-title-media>\\n          <md-icon class=\\\"share-assessments-with-colleagues--help-card-icon\\\"\\n                   flex=\\\"initial\\\">help\\n          </md-icon>\\n        </md-card-title-media>\\n        <md-card-content class=\\\"share-assessments-with-colleagues--help-card-content\\\"\\n                         localize>\\n          __MSG_sharedAssessmentHelpCard__\\n        </md-card-content>\\n      </md-card>\\n\\n      <share-assessments-with-colleagues></share-assessments-with-colleagues>\\n    </md-content>\\n  </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/common/dialogs/studentDetailsEdit/studentDetailsEditDialog.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content class=\\\"sb-dialog-content\\\">\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_editStudentDetails__\\n        </div>\\n\\n        <form class=\\\"dialog__small--text\\\"\\n              flex\\n              layout=\\\"column\\\"\\n              name=\\\"$ctrl.studentEditForm\\\">\\n            <md-input-container class=\\\"md-block\\\">\\n                <label localize>__MSG_editCourseNameLabel__</label>\\n                <input ng-model=\\\"dialog.student.student_name\\\"\\n                       disabled>\\n            </md-input-container>\\n            <md-input-container class=\\\"md-block\\\">\\n                <label>E-mail</label>\\n                <input ng-model=\\\"dialog.student.email\\\"\\n                       disabled>\\n            </md-input-container>\\n            <md-input-container class=\\\"md-block\\\">\\n                <label localize>__MSG_class__</label>\\n                <input md-maxlength=\\\"50\\\"\\n                       ng-model=\\\"dialog.student.klass\\\"\\n                       name=\\\"klass\\\"\\n                       maxlength=\\\"50\\\">\\n                <div ng-messages=\\\"$ctrl.studentEditForm.klass.$error\\\">\\n                    <div ng-message=\\\"required\\\"\\n                         localize>__MSG_requiredError__\\n                    </div>\\n                </div>\\n            </md-input-container>\\n            <md-input-container class=\\\"md-block\\\">\\n                <label localize>__MSG_tutor__</label>\\n                <input md-maxlength=\\\"50\\\"\\n                       ng-model=\\\"dialog.student.tutor\\\"\\n                       name=\\\"tutor\\\"\\n                       maxlength=\\\"50\\\">\\n                <div ng-messages=\\\"$ctrl.studentEditForm.tutor.$error\\\">\\n                    <div ng-message=\\\"required\\\"\\n                         localize>__MSG_requiredError__\\n                    </div>\\n                </div>\\n            </md-input-container>\\n        </form>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"dialog.$mdDialog.cancel(dialog.student)\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"dialog.$mdDialog.hide(dialog.student)\\\"\\n                       ng-disabled=\\\"$ctrl.studentEditForm.$invalid\\\"\\n                       localize>\\n                __MSG_saveBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/course-details/course-details.html';\nvar html = \"<extended-view-container>\\n    <toolbar\\n        flex\\n        layout=\\\"row\\\"\\n        layout-align=\\\"start center\\\">\\n        <md-button class=\\\"md-icon-button\\\">\\n            <md-icon class=\\\"material-icons\\\"\\n                     ng-click=\\\"$ctrl.closeCourseView()\\\">close\\n            </md-icon>\\n        </md-button>\\n    </toolbar>\\n\\n    <md-whiteframe\\n        class=\\\"sb-panel-shadow\\n               sb-main-card\\\"\\n        flex=\\\"95\\\"\\n        layout=\\\"column\\\"\\n        layout-padding\\n        layout-margin>\\n\\n            <div\\n                flex\\n                layout=\\\"row\\\">\\n                <div\\n                    layout=\\\"row\\\"\\n                    layout-align=\\\"center center\\\"\\n                    class=\\\"sb-photo-placeholder\\n                           sb-main-card--icon--placeholder\\\">\\n                    <md-icon class=\\\"sb-icon__big\\n                                    sb-icon__school\\\">\\n                        school\\n                    </md-icon></div>\\n                <div\\n                    flex-auto\\n                    layout=\\\"column\\\"\\n                    layout-align=\\\"start start\\\"\\n                    class=\\\"sb-main-card--info__no-select\\n                           sb-main-card--info--container\\\">\\n                    <long-text-tooltip\\n                        class=\\\"md-display-1\\n                               sb-heading\\n                               truncate-text\\\"\\n                        text=\\\"$ctrl.course.name\\\">\\n                        <span>{{ $ctrl.course.name }}</span>\\n                    </long-text-tooltip>\\n\\n                <span class=\\\"sb-course-assessment__course-code\\\">{{ $ctrl.course.code }}</span>\\n            </div>\\n        </div>\\n\\n        <div\\n            layout=\\\"row\\\"\\n            class=\\\"sb-course-assessment__course-grade\\\">\\n            <div\\n                flex\\n                class=\\\"md-body-2\\n                       sb-subheading\\n                       sb-course-assessment__meta-heading\\n                       truncate-text\\\"\\n                localize>\\n                __MSG_courseProgressCourseGradeLabel__\\n            </div>\\n\\n            <div>\\n                <div\\n                    layout=\\\"row\\\"\\n                    layout-align=\\\"end center\\\">\\n                    <assessment-status-preview\\n                        assessment=\\\"$ctrl.courseAssessment\\\"\\n                        show-target-grade=\\\"true\\\"\\n                        ng-hide=\\\"$ctrl.courseAssessment.open\\\">\\n                    </assessment-status-preview>\\n\\n                    <object-details-toggle\\n                        object=\\\"$ctrl.courseAssessment\\\"\\n                        on-details-toggle=\\\"$ctrl.toggleAssessment()\\\">\\n                    </object-details-toggle>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <student-assessment-details\\n            class=\\\"sb-course-assessment__details\\\"\\n            assessment=\\\"$ctrl.courseAssessment\\\"\\n            empty-info=\\\"__MSG_courseProgressCourseDetailsEmptyInfo__\\\"\\n            details-button-disable=\\\"true\\\"\\n            show-target-grade=\\\"true\\\"\\n            on-assessment-close=\\\"$ctrl.toggleAssessment()\\\"\\n            localize>\\n        </student-assessment-details>\\n\\n    </md-whiteframe>\\n\\n    <div ui-view=\\\"details\\\"></div>\\n</extended-view-container>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/course-details/objectives-list/objectives-list.html';\nvar html = \"<md-subheader\\n    class=\\\"md-no-sticky sb-subheading\\\"\\n    localize>\\n    __MSG_courseProgressLearningObjectivesListLabel__\\n</md-subheader>\\n\\n<md-subheader class=\\\"md-no-sticky sb-subheading emptyList\\\"\\n              ng-if=\\\"::!$ctrl.assessments.length\\\"\\n              localize>\\n  __MSG_courseProgressLearningObjectivesEmptyList__\\n</md-subheader>\\n\\n<md-whiteframe\\n    class=\\\"sb-panel-shadow\\n           sb-panels\\\"\\n    ng-class=\\\"{ 'sb-panels--expanded': $ctrl.hasAnyAssessmentOpened }\\\"\\n    ng-if=\\\"$ctrl.assessments.length\\\"\\n    flex=\\\"95\\\"\\n    layout=\\\"column\\\"\\n    layout-padding\\n    layout-margin>\\n\\n  <div class=\\\"sb-panel-shadow sb-simple-panel right\\\"\\n       layout=\\\"row\\\"\\n       layout-align=\\\"end center\\\">\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.collapseAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.expandAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-menu>\\n      <md-button\\n        aria-label=\\\"__MSG_actionMenuBtn__\\\"\\n        class=\\\"md-icon-button\\\"\\n        ng-click=\\\"$mdMenu.open($event)\\\"\\n        localize>\\n        <md-icon>\\n          more_vert\\n        </md-icon>\\n      </md-button>\\n\\n      <md-menu-content>\\n        <md-menu-item ng-repeat=\\\"toolbarMenuItem in ::$ctrl.viewMenuItems track by toolbarMenuItem.id\\\">\\n          <md-button ng-click=\\\"$ctrl.onClickMenuItem(toolbarMenuItem);\\\">\\n            <md-icon ng-visible=\\\"toolbarMenuItem.checked\\\">check</md-icon>\\n            {{ ::toolbarMenuItem.label | localize }}\\n          </md-button>\\n        </md-menu-item>\\n      </md-menu-content>\\n    </md-menu>\\n  </div>\\n\\n    <md-list\\n        flex\\n        class=\\\"sb-list\\\"\\n        ng-class=\\\"{'sb-list--expanded': assessment.open}\\\"\\n        ng-repeat=\\\"assessment in $ctrl.assessments track by $index\\\">\\n        <div flex layout=\\\"row\\\" layout-align=\\\"space-between center\\\">\\n            <md-list-item>\\n\\n                <div class=\\\"objective-title\\\"\\n                     flex\\n                     layout=\\\"column\\\"\\n                     layout-align=\\\"center stretch\\\"\\n                     ng-click=\\\"$ctrl.navigateToLearningObjective(assessment)\\\">\\n                  <long-text-tooltip text=\\\"::assessment.objective.name\\\"\\n                                     ng-if=\\\"$ctrl.isTitleVisible(assessment.objective.name)\\\">\\n                    <span class=\\\"title\\\">{{ ::assessment.objective.name }}</span>\\n                  </long-text-tooltip>\\n                  <span class=\\\"description\\\"\\n                        ng-if=\\\"$ctrl.isDescriptionVisible(assessment.objective.description)\\\"\\n                        ng-bind-html=\\\"::assessment.objective.description\\\">\\n                  </span>\\n                </div>\\n\\n                <div class=\\\"sb-course-assessment__meta--sm\\\">\\n                    <div flex layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n                        <assessment-status-preview\\n                            assessment=\\\"assessment\\\"\\n                            ng-visible=\\\"!assessment.open\\\">\\n                        </assessment-status-preview>\\n                        <object-details-toggle\\n                            object=\\\"assessment\\\"\\n                            on-details-toggle=\\\"$ctrl.toggleAssessment(assessment)\\\">\\n                        </object-details-toggle>\\n                    </div>\\n                </div>\\n\\n\\n            </md-list-item>\\n        </div>\\n        <student-assessment-details\\n            assessment=\\\"assessment\\\"\\n            empty-info=\\\"__MSG_courseProgressObjectiveEmptyInfo__\\\"\\n            on-assessment-close=\\\"$ctrl.toggleAssessment(assessment)\\\"\\n            on-navigate-to-details=\\\"$ctrl.navigateToLearningObjective(assessment)\\\"\\n            localize>\\n        </student-assessment-details>\\n\\n    </md-list>\\n\\n</md-whiteframe>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/coursesList/courseListItem/courseListItem.html';\nvar html = \"<md-list class=\\\"sb-list\\\"\\n         flex>\\n  <md-list-item class=\\\"sb-list-parent-item sb-border-bottom\\\"\\n                layout=\\\"row\\\"\\n                layout-align=\\\"space-between center\\\"\\n                ng-click=\\\"$ctrl.navigateToCourseDetails()\\\"\\n                ng-class=\\\"{'sb-list-course--active': $ctrl.selectedCourse.id === $ctrl.course.id}\\\">\\n    <p class=\\\"sb-list-item-name sb-list-truncate\\\"\\n       flex\\n       layout=\\\"column\\\">\\n      <long-text-tooltip text=\\\"::$ctrl.course.course_definition_name\\\">\\n        <span>{{ ::$ctrl.course.course_definition_name  }}</span>\\n      </long-text-tooltip>\\n      <long-text-tooltip text=\\\"::$ctrl.course.google_classroom_data.name\\\"\\n                         ng-show=\\\"::$ctrl.course.google_classroom_data.name\\\"\\n                         ng-disabled=\\\"::!$ctrl.course.google_classroom_data.name\\\">\\n        <span class=\\\"sb-list-item-subname\\\">{{ ::$ctrl.course.google_classroom_data.name }}</span>\\n      </long-text-tooltip>\\n    </p>\\n    <md-icon class=\\\"sb-ico sb-ico__warning\\\"\\n             aria-label=\\\"course has warnings\\\"\\n             flex=\\\"5\\\"\\n             ng-show=\\\"$ctrl.course.has_warnings\\\">\\n    </md-icon>\\n  </md-list-item>\\n</md-list>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/coursesList/coursesList.html';\nvar html = \"<course-list-item course=\\\"::$ctrl.generalCourse\\\"\\n                  selected-course=\\\"$ctrl.selectedCourse\\\"\\n                  on-update=\\\"$ctrl.selectedNewCourse(selectedCourse)\\\"\\n                  ng-show=\\\"::$ctrl.courses.length\\\">\\n</course-list-item>\\n<course-list-item course=\\\"::course\\\"\\n                  selected-course=\\\"$ctrl.selectedCourse\\\"\\n                  on-update=\\\"$ctrl.selectedNewCourse(selectedCourse)\\\"\\n                  ng-repeat=\\\"course in ::$ctrl.courses track by course.id\\\"\\n                  ng-if=\\\"::$ctrl.courses.length\\\">\\n</course-list-item>\\n<courses-list-empty ng-if=\\\"::!$ctrl.courses.length\\\"></courses-list-empty>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/coursesList/coursesListEmpty/coursesListEmpty.html';\nvar html = \"<span localize>__MSG_courseProgressNoCoursesAdded__</span>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/student-course-progress.html';\nvar html = \"<div layout=\\\"column\\\" layout-fill>\\n    <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar\\\">\\n        <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"start center\\\"\\n            class=\\\"md-toolbar-tools\\\">\\n            <menu-toggle></menu-toggle>\\n\\n            <div flex layout=\\\"column\\\" layout-align=\\\"center start\\\">\\n                <p class=\\\"sb-toolbar-title\\\" localize>\\n                    __MSG_courseProgressionPage__\\n                </p>\\n            </div>\\n<!--          <help-button link=\\\"studentStudentProgressSidebarHelpButtonUrl\\\"></help-button>-->\\n        </div>\\n    </md-toolbar>\\n    <loader></loader>\\n\\n    <md-content\\n        sticky-subheader\\n        save-scroll\\n        flex>\\n        <courses-list\\n            courses=\\\"$ctrl.courses\\\">\\n        </courses-list>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/student-objective-details/student-assignments-list/student-assignments-list.html';\nvar html = \"<md-subheader\\n    class=\\\"md-no-sticky sb-subheading\\\"\\n    localize>\\n    __MSG_courseProgressAssignmentsListHeader__\\n</md-subheader>\\n<div class=\\\"sb-panel-shadow toolbar\\\">\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open()\\\">\\n      <md-tooltip md-z-index=\\\"1016\\\"\\n                  md-direction=\\\"top\\\"\\n                  localize>__MSG_assignmentsActionMenuFilterTooltip__\\n      </md-tooltip>\\n      <md-icon md-menu-origin>filter_list</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"teacher-student-progress-action-menu\\\">\\n      <md-menu-label localize>\\n        __MSG_assignmentsActionMenuFilterByLabel__\\n      </md-menu-label>\\n      <md-menu-item ng-repeat-start=\\\"filter in ::$ctrl.filters track by filter.type\\\">\\n        <md-button class=\\\"checkbox\\\"\\n                   ng-click=\\\"$ctrl.onClickFilter(filter.type, filter.group);\\\"\\n                   md-prevent-menu-close>\\n          <md-checkbox ng-checked=\\\"$ctrl.isFilterSelected(filter.type, filter.group)\\\">\\n            {{ ::filter.label | localize }}\\n          </md-checkbox>\\n        </md-button>\\n      </md-menu-item>\\n      <md-divider ng-repeat-end\\n                  ng-show=\\\"::$ctrl.isDividerVisible($index)\\\"></md-divider>\\n    </md-menu-content>\\n  </md-menu>\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open()\\\">\\n      <md-tooltip md-z-index=\\\"1016\\\"\\n                  md-direction=\\\"top\\\"\\n                  localize>__MSG_assignmentsActionMenuSortTooltip__\\n      </md-tooltip>\\n      <md-icon md-menu-origin>sort</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"teacher-assignments-action-menu\\\">\\n      <md-menu-label localize>\\n        __MSG_assignmentsActionMenuSortByLabel__\\n      </md-menu-label>\\n      <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.sortingItems track by sortingItem.order\\\">\\n        <md-button ng-click=\\\"$ctrl.onClickOrder(sortingItem.order)\\\"\\n                   localize>\\n          <md-icon ng-visible=\\\"::$ctrl.isCurrentOrder(sortingItem.order)\\\">check</md-icon>\\n          {{ ::sortingItem.label | localize }}\\n        </md-button>\\n      </md-menu-item>\\n    </md-menu-content>\\n  </md-menu>\\n  <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n             ng-click=\\\"$ctrl.collapseAll()\\\">\\n    <md-tooltip md-direction=\\\"top\\\"\\n                md-autohide=\\\"true\\\"\\n                md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n    <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n  </md-button>\\n  <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n             ng-click=\\\"$ctrl.expandAll()\\\">\\n    <md-tooltip md-direction=\\\"top\\\"\\n                md-autohide=\\\"true\\\"\\n                md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n    <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n  </md-button>\\n</div>\\n<md-whiteframe\\n    class=\\\"sb-panel-shadow\\n           sb-panels\\\"\\n    ng-class=\\\"{'sb-panels--expanded': true}\\\"\\n    flex=\\\"95\\\"\\n    layout=\\\"column\\\"\\n    layout-padding\\n    layout-margin>\\n\\n    <md-list\\n        flex\\n        class=\\\"sb-list\\\">\\n\\n        <counter-grade-summary\\n            assessments=\\\"$ctrl.assessments\\\">\\n        </counter-grade-summary>\\n\\n\\n    </md-list>\\n\\n    <md-list\\n        class=\\\"sb-list\\\"\\n        ng-class=\\\"{'sb-list--expanded': assessment.open}\\\"\\n        ng-repeat=\\\"assessment in $ctrl.assessments track by assessment.id\\\">\\n\\n        <md-list-item>\\n          <div flex=\\\"grow\\\"\\n               layout=\\\"row\\\"\\n               layout-align=\\\"start center\\\">\\n            <assignment-icon-type assignment=\\\"$ctrl.findAssignment(assessment.assignment)\\\"></assignment-icon-type>\\n            <p flex\\n              class=\\\"sb-list-item-name sb-list-truncate\\\">\\n              <span class=\\\"truncate-text\\\">{{ ::assessment.assignment.title }}</span>\\n            </p>\\n          </div>\\n\\n\\n            <div\\n                class=\\\"sb-course-assessment__meta--sm\\\">\\n                <div flex layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n                    <assessment-status-preview\\n                        assessment=\\\"assessment\\\"\\n                        assignment=\\\"::$ctrl.getAssignmentForAssessment(assessment)\\\"\\n                        has-counter-grade=\\\"::$ctrl.hasCounterGrade\\\"\\n                        show-student-self-assessment=\\\"::true\\\"\\n                        show-private-note=\\\"::$ctrl.isNoteAvailable(assessment)\\\"\\n                        show-feedback=\\\"::$ctrl.isFeedbackAvailable(assessment)\\\"\\n                        show-visibility=\\\"::false\\\"\\n                        ng-visible=\\\"!assessment.open\\\">\\n                    </assessment-status-preview>\\n\\n                    <object-details-toggle\\n                        object=\\\"assessment\\\"\\n                        on-details-toggle=\\\"$ctrl.toggleAssessment(assessment)\\\">\\n                    </object-details-toggle>\\n                </div>\\n            </div>\\n        </md-list-item>\\n\\n        <student-assessment-details\\n            assessment=\\\"assessment\\\"\\n            assignment=\\\"::$ctrl.getAssignmentForAssessment(assessment)\\\"\\n            objective=\\\"$ctrl.objective\\\"\\n            empty-info=\\\"__MSG_courseProgressAssignmentEmptyInfo__\\\"\\n            mixpanel-self-assessment-event=\\\"student_self_assessment_on_objective\\\"\\n            show-student-self-assessment=\\\"true\\\"\\n            details-button-disable=\\\"true\\\"\\n            on-assessment-close=\\\"$ctrl.toggleAssessment(assessment)\\\"\\n            localize>\\n        </student-assessment-details>\\n    </md-list>\\n</md-whiteframe>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/student-course-progress/student-objective-details/student-objective-details.html';\nvar html = \"<extended-view-container>\\n    <toolbar\\n        flex\\n        layout=\\\"row\\\"\\n        layout-align=\\\"start center\\\">\\n        <md-button class=\\\"md-icon-button arrow-back\\\">\\n            <md-icon class=\\\"material-icons\\\"\\n                     ng-click=\\\"$ctrl.closeAssignmentsView()\\\">arrow_back\\n            </md-icon>\\n        </md-button>\\n    </toolbar>\\n\\n    <md-whiteframe\\n        class=\\\"sb-panel-shadow\\n               sb-main-card\\\"\\n        flex=\\\"95\\\"\\n        layout=\\\"column\\\"\\n        layout-padding\\n        layout-margin>\\n\\n        <div\\n            flex\\n            layout=\\\"row\\\">\\n            <div\\n                layout=\\\"row\\\"\\n                layout-align=\\\"center center\\\"\\n                class=\\\"sb-photo-placeholder\\n                       sb-main-card--icon--placeholder\\\">\\n                <md-icon class=\\\"sb-icon__big\\\">\\n                    extension\\n                </md-icon>\\n            </div>\\n\\n                <div\\n                    class=\\\"sb-objective-details__select-wrapper\\n                           sb-main-card--info--container\\\"\\n                    flex-auto\\n                    layout=\\\"column\\\"\\n                    layout-align=\\\"start start\\\">\\n\\n                <long-text-tooltip\\n                    ng-if=\\\"$ctrl.objectives.length > 1\\\"\\n                    class=\\\"truncate-text\\\"\\n                    text=\\\"$ctrl.objectiveSelected.name\\\">\\n                    <md-input-container\\n                        class=\\\"sb-course-assessment__select-wrapper\\\">\\n                        <md-select\\n                            class=\\\"sb-course-assessment__select\\\"\\n                            aria-label=\\\"objective select\\\"\\n                            ng-change=\\\"$ctrl.changeObjective()\\\"\\n                            ng-model-options=\\\"{ debounce: 400 }\\\"\\n                            ng-model=\\\"$ctrl.objectiveSelected\\\">\\n                            <md-option\\n                                ng-value=\\\"objective\\\"\\n                                ng-repeat=\\\"objective in $ctrl.objectives track by objective.id\\\">\\n                                <span class=\\\"md-display-1\\n                                             sb-heading\\n                                             truncate-text\\\">\\n                                    {{ ::objective.name }}\\n                                </span>\\n                            </md-option>\\n                        </md-select>\\n                    </md-input-container>\\n                </long-text-tooltip>\\n\\n                <long-text-tooltip\\n                    ng-if=\\\"$ctrl.objectives.length == 1\\\"\\n                    class=\\\"md-display-1\\n                           sb-heading\\n                           truncate-text\\\"\\n                    text=\\\"$ctrl.course.name\\\">\\n                    <span>{{ $ctrl.objectives[0].name }}</span>\\n                </long-text-tooltip>\\n\\n                <span class=\\\"md-body-2\\n                             sb-subheading\\n                             sb-subheading--md\\n                             truncate-text\\\">\\n                    {{ $ctrl.course.name }}\\n                </span>\\n                <span class=\\\"sb-course-assessment__course-code\\\">{{ $ctrl.course.code }}</span>\\n            </div>\\n        </div>\\n\\n        <div\\n            layout=\\\"row\\\"\\n            class=\\\"sb-course-assessment__course-grade\\\">\\n            <div\\n                class=\\\"md-body-2\\n                       sb-subheading\\n                       sb-course-assessment__meta-heading\\n                       truncate-text\\\"\\n                localize>\\n                __MSG_courseProgressOverallAssessmentLabel__\\n            </div>\\n            <div\\n                flex=\\\"85\\\">\\n                <div flex layout=\\\"row\\\" layout-align=\\\"end center\\\">\\n                    <assessment-status-preview\\n                        assessment=\\\"$ctrl.objectiveAssessment\\\"\\n                        show-target-grade=\\\"true\\\"\\n                        ng-hide=\\\"$ctrl.objectiveAssessment.open\\\">\\n                    </assessment-status-preview>\\n\\n                    <object-details-toggle\\n                        object=\\\"$ctrl.objectiveAssessment\\\"\\n                        on-details-toggle=\\\"$ctrl.toggleAssessment()\\\">\\n                    </object-details-toggle>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <student-assessment-details\\n            class=\\\"sb-course-assessment__details\\\"\\n            assessment=\\\"$ctrl.objectiveAssessment\\\"\\n            empty-info=\\\"__MSG_courseProgressObjectiveDetailsEmptyInfo__\\\"\\n            details-button-disable=\\\"true\\\"\\n            on-assessment-close=\\\"$ctrl.toggleAssessment()\\\"\\n            localize>\\n        </student-assessment-details>\\n\\n    </md-whiteframe>\\n\\n    <div ui-view=\\\"details\\\"></div>\\n</extended-view-container>\\n\\n<saving-indicator></saving-indicator>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/objective-details/assignments-list/assignments-list.html';\nvar html = \"<md-subheader class=\\\"md-no-sticky sb-subheading\\\"\\n              localize>\\n    __MSG_courseProgressAssignmentsListHeader__\\n</md-subheader>\\n\\n<!-- TO DO. Class added when at least one panel is opened -->\\n<div class=\\\"sb-panel-shadow toolbar\\\">\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open()\\\">\\n      <md-tooltip md-z-index=\\\"1016\\\"\\n                  md-direction=\\\"top\\\"\\n                  localize>__MSG_assignmentsActionMenuFilterTooltip__\\n      </md-tooltip>\\n      <md-icon md-menu-origin>filter_list</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"teacher-student-progress-action-menu\\\">\\n      <md-menu-label localize>\\n        __MSG_assignmentsActionMenuFilterByLabel__\\n      </md-menu-label>\\n      <md-menu-item ng-repeat-start=\\\"filter in ::$ctrl.filters track by filter.type\\\">\\n        <md-button class=\\\"checkbox\\\"\\n                   ng-click=\\\"$ctrl.onClickFilter(filter.type, filter.group);\\\"\\n                   md-prevent-menu-close>\\n          <md-checkbox ng-checked=\\\"$ctrl.isFilterSelected(filter.type, filter.group)\\\">\\n            {{ ::filter.label | localize }}\\n          </md-checkbox>\\n        </md-button>\\n      </md-menu-item>\\n      <md-divider ng-repeat-end\\n                  ng-show=\\\"::$ctrl.isDividerVisible($index)\\\"></md-divider>\\n    </md-menu-content>\\n  </md-menu>\\n  <md-menu>\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$mdMenu.open()\\\">\\n      <md-tooltip md-z-index=\\\"1016\\\"\\n                  md-direction=\\\"top\\\"\\n                  localize>__MSG_assignmentsActionMenuSortTooltip__\\n      </md-tooltip>\\n      <md-icon md-menu-origin>sort</md-icon>\\n    </md-button>\\n    <md-menu-content class=\\\"teacher-assignments-action-menu\\\">\\n      <md-menu-label localize>\\n        __MSG_assignmentsActionMenuSortByLabel__\\n      </md-menu-label>\\n      <md-menu-item ng-repeat=\\\"sortingItem in ::$ctrl.sortingItems track by sortingItem.order\\\">\\n        <md-button ng-click=\\\"$ctrl.onClickOrder(sortingItem.order)\\\"\\n                   localize>\\n          <md-icon ng-visible=\\\"::$ctrl.isCurrentOrder(sortingItem.order)\\\">check</md-icon>\\n          {{ ::sortingItem.label | localize }}\\n        </md-button>\\n      </md-menu-item>\\n    </md-menu-content>\\n  </md-menu>\\n  <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n             ng-click=\\\"$ctrl.collapseAll()\\\">\\n    <md-tooltip md-direction=\\\"top\\\"\\n                md-autohide=\\\"true\\\"\\n                md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n    <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n  </md-button>\\n  <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n             ng-click=\\\"$ctrl.expandAll()\\\">\\n    <md-tooltip md-direction=\\\"top\\\"\\n                md-autohide=\\\"true\\\"\\n                md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n    <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n  </md-button>\\n</div>\\n<md-whiteframe class=\\\"sb-panel-shadow\\n           sb-panels\\\"\\n               ng-class=\\\"{'sb-panels--expanded': true}\\\"\\n               flex=\\\"95\\\"\\n               layout=\\\"column\\\"\\n               layout-padding\\n               layout-margin>\\n\\n    <!-- TO DO. Class added when panel is opened -->\\n\\n    <md-list flex\\n             class=\\\"sb-list\\\">\\n\\n        <counter-grade-summary assessments=\\\"$ctrl.assessments\\\">\\n        </counter-grade-summary>\\n\\n    </md-list>\\n\\n    <md-list class=\\\"sb-list\\\"\\n             ng-class=\\\"{'sb-list--expanded': assessment.open}\\\"\\n             ng-repeat=\\\"assessment in $ctrl.assessments track by assessment.id\\\">\\n\\n        <md-list-item>\\n          <div flex=\\\"grow\\\"\\n               layout=\\\"row\\\"\\n               layout-align=\\\"start center\\\">\\n            <assignment-icon-type assignment=\\\"$ctrl.findAssignment(assessment.assignment)\\\"></assignment-icon-type>\\n            <p flex\\n               class=\\\"sb-list-item-name\\n                       sb-list-truncate\\\">\\n                <long-text-tooltip text=\\\"::assessment.assignment.title\\\">\\n                    <span>{{ ::assessment.assignment.title }}</span>\\n                </long-text-tooltip>\\n            </p>\\n          </div>\\n\\n\\n            <div class=\\\"sb-course-assessment__meta--sm\\\">\\n                <div flex\\n                     layout=\\\"row\\\"\\n                     layout-align=\\\"end center\\\">\\n                    <div ng-if=\\\"!assessment.seen && !assessment.open\\\"\\n                         class=\\\"sb-course-assessment__meta__item__container\\\">\\n                        <md-icon>new_releases</md-icon>\\n                        <md-tooltip md-direction=\\\"top\\\"\\n                                    md-z-index=\\\"1010\\\"\\n                                    class=\\\"md-fling\\n                                   sb-tooltip--align-position\\\"\\n                                    localize>\\n                            __MSG_newAssignmentAssessmentTooltip__\\n                        </md-tooltip>\\n                    </div>\\n\\n                    <assessment-status-preview assessment=\\\"assessment\\\"\\n                                               assignment=\\\"$ctrl.getAssignmentForAssessment(assessment)\\\"\\n                                               show-visibility=\\\"::true\\\"\\n                                               has-counter-grade=\\\"::$ctrl.hasCounterGrade\\\"\\n                                               show-student-self-assessment=\\\"::true\\\"\\n                                               show-private-note=\\\"$ctrl.isNoteAvailable(assessment)\\\"\\n                                               show-feedback=\\\"$ctrl.isFeedbackAvailable(assessment)\\\"\\n                                               ng-visible=\\\"!assessment.open\\\">\\n                    </assessment-status-preview>\\n\\n                    <object-details-toggle object=\\\"assessment\\\"\\n                                           on-details-toggle=\\\"$ctrl.toggleAssessment(object)\\\">\\n                    </object-details-toggle>\\n                </div>\\n            </div>\\n        </md-list-item>\\n\\n        <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                            assessment=\\\"assessment\\\"\\n                            assignment=\\\"::$ctrl.getAssignmentForAssessment(assessment)\\\"\\n                            details-button-disable=\\\"true\\\"\\n                            show-private-note=\\\"true\\\"\\n                            teacher-account=\\\"true\\\"\\n                            show-student-self-assessment=\\\"true\\\"\\n                            mixpanel-feedback-event=\\\"feedback_to_student_on_assignment_objective\\\"\\n                            on-assessment-update=\\\"$ctrl.updateAssessmentData(assessment)\\\"\\n                            on-assessment-close=\\\"$ctrl.toggleAssessment(assessment)\\\"\\n                            on-assignment-change=\\\"$ctrl.onAssignmentChange(assignment)\\\"\\n                            flex=\\\"grow\\\"\\n                            layout=\\\"column\\\"\\n                            layout-align=\\\"center stretch\\\"\\n                            slide-toggle=\\\"assessment.open\\\"\\n                            ng-disabled=\\\"!$ctrl.isEditable\\\">\\n        </assessment-details>\\n\\n    </md-list>\\n\\n</md-whiteframe>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/objective-details/objective-details.html';\nvar html = \"<extended-view-container ng-class=\\\"::{'student-view': !$ctrl.isTeacher}\\\">\\n    <toolbar class=\\\"grid\\\">\\n\\n        <md-button class=\\\"md-icon-button arrow-back grid-back\\\">\\n            <md-icon class=\\\"material-icons\\\"\\n                     ng-click=\\\"$ctrl.closeAssignmentsView()\\\">arrow_back\\n            </md-icon>\\n        </md-button>\\n\\n        <breadcrumbs class=\\\"grid-breadcrumbs\\\"\\n                     steps=\\\"::$ctrl.breadcrumbs\\\"></breadcrumbs>\\n\\n      <div flex=\\\"nogrow\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"end center\\\">\\n<!--        <help-button ng-if=\\\"::$ctrl.isTeacher\\\"-->\\n<!--                     link=\\\"teacherStudentCourseProgressSingleLearningObjectiveViewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n<!--        <help-button ng-if=\\\"::!$ctrl.isTeacher\\\"-->\\n<!--                     link=\\\"studentStudentCourseProgressSingleLearningObjectiveViewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n        <download-pdf-menu class=\\\"grid-menu\\\"\\n                           student=\\\"::$ctrl.student\\\"\\n                           course-definition=\\\"::$ctrl.course\\\"\\n                           ng-if=\\\"::$ctrl.isTeacher\\\">\\n        </download-pdf-menu>\\n      </div>\\n    </toolbar>\\n\\n    <md-whiteframe class=\\\"sb-panel-shadow\\n               sb-main-card\\\"\\n                   flex=\\\"95\\\"\\n                   layout=\\\"column\\\"\\n                   layout-padding\\n                   layout-margin>\\n\\n        <div flex\\n             layout=\\\"row\\\">\\n            <div layout=\\\"row\\\"\\n                 layout-align=\\\"center center\\\"\\n                 class=\\\"sb-photo-placeholder\\n                    sb-main-card--icon--placeholder\\\">\\n                <md-icon class=\\\"sb-icon__big\\\">\\n                    extension\\n                </md-icon>\\n            </div>\\n\\n            <div class=\\\"sb-objective-details__select-wrapper\\n                           sb-main-card--info--container\\\"\\n                 flex-auto\\n                 layout=\\\"column\\\"\\n                 layout-align=\\\"center start\\\">\\n\\n                <long-text-tooltip query=\\\"md-select-value > span\\\"\\n                                   text=\\\"$ctrl.objectiveSelected.name\\\"\\n                                   ng-if=\\\"::$ctrl.objectives.length > 1\\\">\\n                    <md-input-container class=\\\"sb-course-assessment__select-wrapper\\\">\\n                        <md-select class=\\\"sb-course-assessment__select\\\"\\n                                   aria-label=\\\"objective select\\\"\\n                                   ng-change=\\\"::$ctrl.changeObjective()\\\"\\n                                   ng-model-options=\\\"::{ debounce: 400, trackBy: '$value.id' }\\\"\\n                                   ng-model=\\\"$ctrl.objectiveSelected\\\">\\n                            <md-option ng-value=\\\"objective\\\"\\n                                       ng-repeat=\\\"objective in ::$ctrl.objectives track by objective.id\\\">\\n                                <span class=\\\"md-display-1\\n                                             sb-heading\\\">\\n                                    {{ ::objective.name }}\\n                                </span>\\n                            </md-option>\\n                        </md-select>\\n                    </md-input-container>\\n                </long-text-tooltip>\\n              <long-text-tooltip text=\\\"$ctrl.objectiveSelected.name\\\"\\n                                 ng-if=\\\"::$ctrl.objectives.length === 1\\\">\\n                <span class=\\\"md-display-1 sb-heading\\\">\\n                  {{ ::$ctrl.objectiveSelected.name }}\\n                </span>\\n              </long-text-tooltip>\\n            </div>\\n        </div>\\n\\n        <div layout=\\\"row\\\"\\n             class=\\\"sb-course-assessment__course-grade\\\">\\n            <div flex\\n                 class=\\\"md-body-2\\n                       sb-subheading\\n                       sb-course-assessment__meta-heading\\n                       truncate-text\\\">\\n                <long-text-tooltip text=\\\"'courseProgressOverallAssessmentLabel'\\\">\\n                    <span class=\\\"md-truncate\\\"\\n                          localize>__MSG_courseProgressOverallAssessmentLabel__</span>\\n                </long-text-tooltip>\\n            </div>\\n\\n            <div class=\\\"sb-course-assessment__meta\\\"\\n                 layout=\\\"row\\\"\\n                 layout-align=\\\"end center\\\">\\n                <div layout=\\\"row\\\"\\n                     layout-align=\\\"end center\\\">\\n                    <assessment-status-preview assessment=\\\"::$ctrl.objectiveAssessment\\\"\\n                                               show-private-note=\\\"true\\\"\\n                                               show-visibility=\\\"true\\\"\\n                                               ng-hide=\\\"$ctrl.objectiveAssessment.open\\\">\\n                    </assessment-status-preview>\\n\\n                    <object-details-toggle object=\\\"::$ctrl.objectiveAssessment\\\"\\n                                           on-details-toggle=\\\"::$ctrl.toggleAssessment()\\\">\\n                    </object-details-toggle>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                            assessment=\\\"::$ctrl.objectiveAssessment\\\"\\n                            details-button-disable=\\\"true\\\"\\n                            show-private-note=\\\"::$ctrl.isTeacher\\\"\\n                            teacher-account=\\\"::$ctrl.isTeacher\\\"\\n                            read-only=\\\"::!$ctrl.isTeacher\\\"\\n                            mixpanel-feedback-event=\\\"feedback_to_student_on_objective\\\"\\n                            mixpanel-grade-event=\\\"objective_slider\\\"\\n                            on-assessment-update=\\\"::$ctrl.updateAssessmentData(assessment)\\\"\\n                            on-assessment-close=\\\"::$ctrl.toggleAssessment()\\\"\\n                            slide-toggle=\\\"$ctrl.objectiveAssessment.open\\\"\\n                            empty-msg=\\\"courseProgressObjectiveEmptyInfo\\\"\\n                            ng-disabled=\\\"!$ctrl.isEditable || !$ctrl.isTeacher\\\">\\n        </assessment-details>\\n\\n    </md-whiteframe>\\n\\n    <div ui-view=\\\"details\\\"></div>\\n</extended-view-container>\\n\\n\\n<saving-indicator></saving-indicator>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetails.html';\nvar html = \"<extended-view-container ng-class=\\\"::{ 'student-view': !$ctrl.isTeacher }\\\">\\n  <toolbar flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n    <md-button class=\\\"md-icon-button\\\">\\n      <md-icon class=\\\"material-icons\\\"\\n               ng-click=\\\"$ctrl.close()\\\">close\\n      </md-icon>\\n    </md-button>\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n<!--      <help-button ng-if=\\\"::$ctrl.isTeacher\\\"-->\\n<!--                   link=\\\"teacherStudentCourseProgressCourseOverviewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n<!--      <help-button ng-if=\\\"::!$ctrl.isTeacher\\\"-->\\n<!--                   link=\\\"studentStudentCourseProgressCourseOverviewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n      <md-menu class=\\\"student-courses-details__menu\\\"\\n               md-position-mode=\\\"target-right target\\\"\\n               ng-if=\\\"::$ctrl.isTeacher\\\">\\n        <md-button class=\\\"md-icon-button\\\"\\n                   ng-click=\\\"$mdMenu.open()\\\">\\n          <md-icon>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.editStudentDetails()\\\"\\n                                 localize>__MSG_editStudentDetails__</md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </div>\\n  </toolbar>\\n\\n  <md-whiteframe class=\\\"sb-panel-shadow sb-main-card\\\"\\n                 flex=\\\"95\\\"\\n                 layout=\\\"column\\\">\\n\\n    <div class=\\\"student-courses-details__student-profile\\\"\\n         flex\\n         layout=\\\"row\\\"\\n         layout-padding\\n         layout-align=\\\"start center\\\">\\n      <student-profile student=\\\"$ctrl.student\\\"></student-profile>\\n    </div>\\n    <accordion open=\\\"$ctrl.isOpen\\\">\\n      <accordion-header>\\n        <div flex\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between center\\\">\\n          <long-text-tooltip text=\\\"'Overall'\\\">\\n                        <span class=\\\"md-truncate\\\"\\n                              localize>\\n                            __MSG_Overall__\\n                        </span>\\n          </long-text-tooltip>\\n          <course-summary class=\\\"student-courses-details__student-course-summary\\\"\\n                          course=\\\"$ctrl.student\\\"\\n                          ng-if=\\\"!$ctrl.isOpen && !$ctrl.pending\\\"></course-summary>\\n\\n        </div>\\n      </accordion-header>\\n      <student-progress-input label=\\\"__MSG_courseProgressFeedbackLabel__\\\"\\n                              last-edit=\\\"$ctrl.student.feedback_last_edit\\\"\\n                              edit-by=\\\"$ctrl.student.feedback_teacher\\\"\\n                              is-published=\\\"$ctrl.student.feedback_published\\\"\\n                              ng-model=\\\"$ctrl.student.feedback\\\"\\n                              ng-change=\\\"$ctrl.onFeedbackChange($event)\\\"\\n                              ng-disabled=\\\"::!$ctrl.isTeacher\\\"\\n                              ng-if=\\\"::!$ctrl.isOverallEmpty()\\\"\\n                              localize></student-progress-input>\\n      <student-progress-input label=\\\"__MSG_overallPrivateNotesMode__\\\"\\n                              last-edit=\\\"$ctrl.student.private_note_last_edit\\\"\\n                              edit-by=\\\"$ctrl.student.private_note_teacher\\\"\\n                              ng-model=\\\"$ctrl.student.private_note\\\"\\n                              ng-change=\\\"$ctrl.onPrivateNoteChange($event)\\\"\\n                              ng-disabled=\\\"::!$ctrl.isTeacher\\\"\\n                              ng-if=\\\"::$ctrl.isTeacher\\\"\\n                              localize></student-progress-input>\\n\\n      <div class=\\\"sb-course-assessment__empty-info\\\"\\n           ng-show=\\\"::$ctrl.isOverallEmpty()\\\"\\n           localize>\\n        __MSG_courseProgressCourseDetailsEmptyInfo__\\n      </div>\\n\\n      <accordion-footer>\\n        <div flex\\n             layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n          <md-button class=\\\"sb-button\\\"\\n                     ng-click=\\\"$ctrl.isOpen = false\\\"\\n                     localize>__MSG_closeBtn__\\n          </md-button>\\n        </div>\\n      </accordion-footer>\\n    </accordion>\\n  </md-whiteframe>\\n\\n  <div flex\\n       layout=\\\"column\\\"\\n       layout-align=\\\"space-around center\\\"\\n       ng-if=\\\"$ctrl.pending\\\">\\n    <h4 localize>__MSG_loadingCourses__</h4>\\n    <md-progress-circular></md-progress-circular>\\n  </div>\\n  <content class=\\\"student-courses-details__content\\\"\\n           flex=\\\"95\\\"\\n           layout=\\\"column\\\"\\n           ng-if=\\\"!$ctrl.pending\\\">\\n    <student-courses-details-section label=\\\"{{ ::'coursesIn' | localize }} {{ ::$ctrl.getCurrentClassName() }}\\\"\\n                                     extend=\\\"true\\\"\\n                                     student-courses-definitions=\\\"::$ctrl.studentCoursesDefinitions.current\\\"\\n                                     localize></student-courses-details-section>\\n    <student-courses-details-section label=\\\"{{ ::'coursesInOtherActiveClassrooms' | localize }}\\\"\\n                                     extend=\\\"true\\\"\\n                                     student-courses-definitions=\\\"::$ctrl.studentCoursesDefinitions.other\\\"\\n                                     localize></student-courses-details-section>\\n    <student-courses-details-section label=\\\"{{ ::'coursesInArchivedClassrooms' | localize }}\\\"\\n                                     extend=\\\"true\\\"\\n                                     student-courses-definitions=\\\"::$ctrl.studentCoursesDefinitions.archived\\\"\\n                                     localize></student-courses-details-section>\\n\\n  </content>\\n</extended-view-container>\\n<saving-indicator></saving-indicator>\\n<div class=\\\"sb-hint\\\"\\n     data-cookie-name=\\\"new-teacher-course-progress-hint\\\"\\n     ng-if=\\\"::$ctrl.isTeacher\\\"\\n     hint>\\n  <div class=\\\"sb-hint-scrollable\\\">\\n    <p class=\\\"sb-hint-text\\\"\\n       localize>\\n      __MSG_newTeacherCourseProgressHint__\\n    </p>\\n    <p class=\\\"sb-hint-close\\\">\\n      <button class=\\\"sb-btn-no-background md-primary sb-hint-close\\\"\\n              localize>\\n        __MSG_acceptHint__\\n      </button>\\n    </p>\\n  </div>\\n</div>\\n<div class=\\\"sb-hint\\\"\\n     data-cookie-name=\\\"new-student-course-progress-hint\\\"\\n     ng-if=\\\"::!$ctrl.isTeacher\\\"\\n     hint>\\n  <div class=\\\"sb-hint-scrollable\\\">\\n    <p class=\\\"sb-hint-text\\\"\\n       localize>\\n      __MSG_newStudentProgressHint__\\n    </p>\\n    <p class=\\\"sb-hint-close\\\">\\n      <button class=\\\"sb-btn-no-background md-primary sb-hint-close\\\"\\n              localize>\\n        __MSG_acceptHint__\\n      </button>\\n    </p>\\n  </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/studentCoursesDetails/studentCoursesDetailsSection/studentCoursesDetailsSection.html';\nvar html = \"<h4 localize>{{ ::$ctrl.label }}</h4>\\n<h1 ng-if=\\\"::!$ctrl.isEmpty\\\" localize>__MSG_noCoursesAvailable__</h1>\\n<div flex\\n     layout=\\\"column\\\"\\n     ng-if=\\\"::$ctrl.isEmpty\\\">\\n  <div class=\\\"sb-panel-shadow toolbar\\\"\\n       layout=\\\"row\\\"\\n       layout-align=\\\"end center\\\">\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.collapseAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'collapseAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_COLLAPSE_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n    <md-button class=\\\"md-icon-button accordion-toggle\\\"\\n               ng-click=\\\"$ctrl.expandAll()\\\">\\n      <md-tooltip md-direction=\\\"top\\\"\\n                  md-autohide=\\\"true\\\"\\n                  md-z-index=\\\"1014\\\">{{::'expandAllStudentProgress' | localize}}</md-tooltip>\\n      <md-icon md-svg-src=\\\"{{ ::'SVG_EXPAND_ALL' | iconURL }}\\\"></md-icon>\\n    </md-button>\\n  </div>\\n  <accordion class=\\\"student-courses-details__accordion sb-panel-shadow\\\"\\n             open=\\\"courseDefinition.isOpen\\\"\\n             ng-repeat=\\\"courseDefinition in $ctrl.studentCoursesDefinitions track by courseDefinition.id\\\"\\n             ng-disabled=\\\"!$ctrl.isAvailable(courseDefinition)\\\">\\n    <accordion-header>\\n      <div flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n        <div class=\\\"student-courses-details__accordion-header\\\"\\n             ng-click=\\\"$ctrl.goToDetails(courseDefinition)\\\">\\n          <long-text-tooltip text=\\\"::courseDefinition.course_definition_name\\\">\\n            <span class=\\\"student-courses-details__accordion-title\\\">{{ ::courseDefinition.course_definition_name }}</span>\\n          </long-text-tooltip>\\n          <div class=\\\"student-courses-details__accordion-extend\\\"\\n               flex\\n               layout=\\\"column\\\"\\n               layout-align=\\\"start start\\\"\\n               ng-if=\\\"::$ctrl.extend\\\">\\n            <div class=\\\"student-courses-details__accordion-extend-item\\\"\\n                 layout=\\\"row\\\"\\n                 layout-align=\\\"start center\\\"\\n                 ng-show=\\\"::courseDefinition.course_definition_code\\\">\\n              <long-text-tooltip text=\\\"::courseDefinition.course_definition_code\\\"\\n                                 ng-disabled=\\\"::!courseDefinition.course_definition_code\\\">\\n                <span>Id: {{ ::courseDefinition.course_definition_code }}</span>\\n              </long-text-tooltip>\\n            </div>\\n            <div class=\\\"student-courses-details__accordion-extend-item\\\"\\n                 ng-show=\\\"::courseDefinition.google_classroom_data.name\\\">\\n              <long-text-tooltip text=\\\"::courseDefinition.google_classroom_data.name\\\"\\n                                 ng-disabled=\\\"::!courseDefinition.google_classroom_data.name\\\">\\n                <span>{{ ::'classroom' | localize }}: {{ ::courseDefinition.google_classroom_data.name }}</span>\\n              </long-text-tooltip>\\n            </div>\\n            <div class=\\\"student-courses-details__accordion-extend-item\\\"\\n                 ng-show=\\\"::courseDefinition.google_classroom_data.owner_name\\\">\\n              <long-text-tooltip text=\\\"::courseDefinition.google_classroom_data.owner_name\\\"\\n                                 ng-disabled=\\\"::!courseDefinition.google_classroom_data.owner_name\\\">\\n                <span>{{ ::'teacher' | localize }}: {{ ::courseDefinition.google_classroom_data.owner_name }}</span>\\n              </long-text-tooltip>\\n            </div>\\n          </div>\\n        </div>\\n        <course-summary ng-if=\\\"!courseDefinition.isOpen && $ctrl.isAvailable(courseDefinition)\\\"\\n                        course=\\\"::courseDefinition\\\"></course-summary>\\n        <div class=\\\"student-courses-details__accordion-disabled\\\"\\n             ng-hide=\\\"$ctrl.isAvailable(courseDefinition)\\\"\\n             localize>\\n          __MSG_assessmentNotAvailable__\\n        </div>\\n      </div>\\n    </accordion-header>\\n    <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                        assessment=\\\"courseDefinition\\\"\\n                        simple-view=\\\"true\\\"\\n                        show-target-grade=\\\"true\\\"\\n                        show-private-note=\\\"::$ctrl.UserInfo.isTeacher()\\\"\\n                        teacher-account=\\\"::$ctrl.UserInfo.isTeacher()\\\"\\n                        read-only=\\\"::!$ctrl.UserInfo.isTeacher()\\\"\\n                        mixpanel-feedback-event=\\\"feedback_to_student_on_course_progress\\\"\\n                        mixpanel-grade-event=\\\"course_slider\\\"\\n                        on-assessment-update=\\\"::$ctrl.onUpdateCourseDefinition(assessment)\\\"\\n                        ng-disabled=\\\"::!courseDefinition.teacher_in_class\\\"\\n                        empty-msg=\\\"courseProgressCourseDetailsEmptyInfo\\\">\\n    </assessment-details>\\n    <accordion-footer flex\\n                      layout=\\\"row\\\"\\n                      layout-align=\\\"start center\\\">\\n      <div flex=\\\"100\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n        <md-button class=\\\"sb-button\\\"\\n                   ng-click=\\\"$ctrl.goToDetails(courseDefinition)\\\"\\n                   localize>__MSG_goToDetailsBtn__\\n        </md-button>\\n        <md-button class=\\\"sb-button\\\"\\n                   ng-click=\\\"courseDefinition.isOpen = false\\\"\\n                   localize>__MSG_closeBtn__\\n        </md-button>\\n      </div>\\n    </accordion-footer>\\n  </accordion>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/studentDetails/studentDetails.html';\nvar html = \"<extended-view-container ng-class=\\\"::{ 'student-view': !$ctrl.isTeacher }\\\">\\n  <toolbar class=\\\"grid\\\">\\n\\n    <md-button class=\\\"md-icon-button arrow-back grid-back\\\">\\n      <md-icon class=\\\"material-icons\\\"\\n               ng-click=\\\"$ctrl.closeStudentView()\\\">\\n        {{ ::$ctrl.breadcrumbs.length > 1 ? 'arrow_back' : 'close' }}\\n      </md-icon>\\n    </md-button>\\n\\n    <breadcrumbs class=\\\"grid-breadcrumbs\\\"\\n                 steps=\\\"::$ctrl.breadcrumbs\\\"></breadcrumbs>\\n\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n<!--      <help-button ng-if=\\\"::$ctrl.isTeacher\\\"-->\\n<!--                   link=\\\"teacherStudentCourseProgressSingleCourseOverviewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n<!--      <help-button ng-if=\\\"::!$ctrl.isTeacher\\\"-->\\n<!--                   link=\\\"studentStudentCourseProgressSingleCourseOverviewTopToolbarHelpButtonUrl\\\"></help-button>-->\\n      <download-pdf-menu class=\\\"grid-menu\\\"\\n                         student=\\\"$ctrl.student\\\"\\n                         course-definition=\\\"$ctrl.courseSelected\\\"\\n                         ng-if=\\\"::$ctrl.isTeacher\\\">\\n      </download-pdf-menu>\\n    </div>\\n  </toolbar>\\n\\n  <md-whiteframe class=\\\"sb-panel-shadow\\n               sb-main-card\\\"\\n                 flex=\\\"95\\\"\\n                 layout=\\\"column\\\"\\n                 layout-padding\\n                 layout-margin>\\n\\n    <div flex\\n         layout=\\\"row\\\">\\n      <div layout=\\\"row\\\"\\n           layout-align=\\\"center center\\\"\\n           class=\\\"sb-photo-placeholder\\n                                sb-main-card--icon--placeholder\\\">\\n        <md-icon class=\\\"sb-icon__big\\\">\\n          book\\n        </md-icon>\\n      </div>\\n      <div class=\\\"sb-objective-details__select-wrapper\\n                           sb-main-card--info--container\\\"\\n           flex-auto\\n           layout=\\\"column\\\"\\n           layout-align=\\\"center start\\\">\\n\\n        <long-text-tooltip query=\\\"md-select-value > span\\\"\\n                           text=\\\"$ctrl.objectiveSelected.name\\\"\\n                           ng-if=\\\"$ctrl.sizeOfCoursesDefinitions() > 1 && !$ctrl.fetchStudentCoursesDetails\\\">\\n          <md-input-container class=\\\"sb-course-assessment__select-wrapper\\\">\\n            <md-select class=\\\"sb-course-assessment__select\\\"\\n                       aria-label=\\\"objective select\\\"\\n                       ng-change=\\\"$ctrl.changeCourse()\\\"\\n                       ng-model-options=\\\"::{ debounce: 400, trackBy: '$value.course_definition' }\\\"\\n                       ng-model=\\\"$ctrl.courseSelected\\\">\\n              <md-optgroup ng-if=\\\"$ctrl.courseDefinitions.current.length\\\"\\n                           label=\\\"{{ ::'courseProgressDropDownCategoryCoursesIn' | localize }}\\\">\\n                <md-option ng-value=\\\"courseDefinition\\\"\\n                           ng-repeat=\\\"courseDefinition in ::$ctrl.courseDefinitions.current track by courseDefinition.id\\\">\\n                                <span class=\\\"md-display-1\\n                                             sb-heading\\n                                             \\\">\\n                                    {{ ::courseDefinition.course_definition_name }}\\n                                </span>\\n                </md-option>\\n              </md-optgroup>\\n              <md-optgroup ng-if=\\\"$ctrl.courseDefinitions.other.length\\\"\\n                           label=\\\"{{ ::'coursesInOtherActiveClassrooms' | localize }}\\\">\\n                <md-option ng-value=\\\"courseDefinition\\\"\\n                           ng-repeat=\\\"courseDefinition in ::$ctrl.courseDefinitions.other track by courseDefinition.id\\\">\\n                                <span class=\\\"md-display-1\\n                                             sb-heading\\n                                             \\\">\\n                                    {{ ::courseDefinition.course_definition_name }}\\n                                </span>\\n                </md-option>\\n              </md-optgroup>\\n              <md-optgroup ng-if=\\\"$ctrl.courseDefinitions.archived.length\\\"\\n                           label=\\\"{{ ::'coursesInArchivedClassrooms' | localize }}\\\">\\n                <md-option ng-value=\\\"courseDefinition\\\"\\n                           ng-repeat=\\\"courseDefinition in ::$ctrl.courseDefinitions.archived track by courseDefinition.id\\\">\\n                                <span class=\\\"md-display-1\\n                                             sb-heading\\n                                             \\\">\\n                                    {{ ::courseDefinition.course_definition_name }}\\n                                </span>\\n                </md-option>\\n              </md-optgroup>\\n            </md-select>\\n            <div class=\\\"hint\\\">{{ $ctrl.courseSelected.course_definition_code }}</div>\\n          </md-input-container>\\n        </long-text-tooltip>\\n        <long-text-tooltip text=\\\"$ctrl.getSingleCourseDefinition().course_definition_name\\\"\\n                           ng-if=\\\"$ctrl.sizeOfCoursesDefinitions() === 1 && !$ctrl.fetchStudentCoursesDetails\\\">\\n                <span class=\\\"md-display-1 sb-heading\\\">\\n                  {{ ::$ctrl.getSingleCourseDefinition().course_definition_name }}\\n                </span>\\n        </long-text-tooltip>\\n        <span class=\\\"sb-course-assessment__course-code\\\"\\n              ng-if=\\\"$ctrl.sizeOfCoursesDefinitions() === 1 && !$ctrl.fetchStudentCoursesDetails\\\">\\n          {{ ::$ctrl.courseAssessment.course_definition_code }}\\n        </span>\\n\\n        <md-progress-circular md-diameter=\\\"20\\\"\\n                              ng-if=\\\"$ctrl.fetchStudentCoursesDetails\\\"></md-progress-circular>\\n      </div>\\n    </div>\\n\\n    <div layout=\\\"row\\\"\\n         layout-align=\\\"center center\\\"\\n         class=\\\"sb-course-assessment__course-grade\\\"\\n         ng-if=\\\"$ctrl.courseSelected\\\">\\n      <div flex\\n           class=\\\"md-body-2\\n                       sb-subheading\\n                       sb-course-assessment__meta-heading\\n                       truncate-text\\\">\\n        <long-text-tooltip text=\\\"'courseProgressCourseGradeLabel'\\\">\\n                    <span\\n                          localize>__MSG_courseProgressCourseGradeLabel__</span>\\n        </long-text-tooltip>\\n      </div>\\n\\n      <div class=\\\"sb-course-assessment__meta\\\"\\n           layout=\\\"row\\\"\\n           layout-align=\\\"end center\\\">\\n        <div layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n          <assessment-status-preview assessment=\\\"$ctrl.courseAssessment\\\"\\n                                     show-target-grade=\\\"true\\\"\\n                                     show-private-note=\\\"true\\\"\\n                                     show-visibility=\\\"true\\\"\\n                                     ng-hide=\\\"$ctrl.courseAssessment.open\\\">\\n          </assessment-status-preview>\\n\\n          <object-details-toggle object=\\\"$ctrl.courseAssessment\\\"\\n                                 on-details-toggle=\\\"$ctrl.toggleAssessment()\\\">\\n          </object-details-toggle>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <assessment-details class=\\\"sb-course-assessment__details\\\"\\n                        ng-if=\\\"$ctrl.courseSelected\\\"\\n                        assessment=\\\"$ctrl.courseAssessment\\\"\\n                        details-button-disable=\\\"true\\\"\\n                        show-target-grade=\\\"true\\\"\\n                        show-private-note=\\\"::$ctrl.isTeacher\\\"\\n                        teacher-account=\\\"::$ctrl.isTeacher\\\"\\n                        read-only=\\\"::!$ctrl.isTeacher\\\"\\n                        mixpanel-feedback-event=\\\"feedback_to_student_on_course_progress\\\"\\n                        mixpanel-grade-event=\\\"course_slider\\\"\\n                        on-assessment-update=\\\"$ctrl.updateAssessmentData(assessment)\\\"\\n                        on-assessment-close=\\\"$ctrl.toggleAssessment()\\\"\\n                        slide-toggle=\\\"$ctrl.courseAssessment.open\\\"\\n                        empty-msg=\\\"courseProgressCourseDetailsEmptyInfo\\\"\\n                        ng-disabled=\\\"!$ctrl.isEditable\\\">\\n    </assessment-details>\\n\\n  </md-whiteframe>\\n\\n  <div ui-view=\\\"details\\\"></div>\\n  <div ui-view=\\\"assignments\\\"></div>\\n</extended-view-container>\\n\\n<saving-indicator></saving-indicator>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/students-list/studentsList.html';\nvar html = \"<md-list\\n    flex\\n    class=\\\"sb-list\\\"\\n    ng-repeat=\\\"student in $ctrl.students track by student.id\\\">\\n\\n    <md-list-item\\n        layout=\\\"row\\\"\\n        layout-align=\\\"space-between center\\\"\\n        class=\\\"sb-list-parent-item sb-border-bottom\\\"\\n        ng-class=\\\"{'sb-list-student--active': ( $ctrl.lastSelectedStudentId === student.id )}\\\"\\n        ng-click=\\\"$ctrl.toggleStudentCourseProgress(student)\\\">\\n        <p\\n            flex\\n            class=\\\"sb-list-item-name sb-list-truncate-with-arrow\\\">\\n            <span>{{ ::student.student_name  }}</span>\\n        </p>\\n        <md-icon\\n            flex=\\\"5\\\"\\n            class=\\\"sb-ico sb-ico__warning\\\"\\n            aria-label=\\\"student has warnings\\\"\\n            ng-show=\\\"student.has_warnings\\\">\\n        </md-icon>\\n    </md-list-item>\\n</md-list>\\n\\n<div ng-if=\\\"!$ctrl.students.length\\\"\\n     class=\\\"sb-list__placeholder\\\" localize>\\n    __MSG_noStudentsYet__\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/course-progress/teacher-course-progress/teacher-course-progress.html';\nvar html = \"<div layout=\\\"column\\\"\\n     layout-fill>\\n\\n  <rapp data=\\\"$root\\\" ctrl=\\\"$ctrl\\\" view=\\\"'courseOverview'\\\"/>\\n<!--\\n  <md-toolbar flex=\\\"nogrow\\\"\\n              class=\\\"sb-toolbar\\\">\\n    <div\\n      layout=\\\"row\\\"\\n      layout-align=\\\"start center\\\"\\n      class=\\\"md-toolbar-tools\\\">\\n      <menu-toggle></menu-toggle>\\n\\n      <div flex\\n           layout=\\\"row\\\"\\n           layout-align=\\\"space-between center\\\">\\n        <p class=\\\"sb-toolbar-title\\\"\\n           localize>\\n          __MSG_courseProgressionPage__\\n        </p>\\n        <help-button link=\\\"teacherStudentProgressSidebarHelpButtonUrl\\\"></help-button>\\n      </div>\\n      <md-menu ng-if=\\\"$ctrl.hasStudents()\\\">\\n        <md-button class=\\\"md-icon-button\\\"\\n                   ng-click=\\\"$mdMenu.open()\\\">\\n          <md-icon md-menu-origin>more_vert</md-icon>\\n        </md-button>\\n        <md-menu-content width=\\\"3\\\">\\n          <md-menu-label localize>\\n            __MSG_globalActions__\\n          </md-menu-label>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.shareAssessmentsWithColleagues()\\\"\\n                       localize>\\n              __MSG_shareAssessmentsWithColleagues__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-divider></md-menu-divider>\\n          <md-menu-label localize>\\n            __MSG_currentClassroom__\\n          </md-menu-label>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.setVisibility()\\\"\\n                       localize>\\n              __MSG_setVisibilityMenuItem__...\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.exportStudentsResultsToGoogleDrive('pdf')\\\"\\n                       localize>\\n              __MSG_exportAllStudentsAsPDFToGDOption__\\n            </md-button>\\n          </md-menu-item>\\n          <md-menu-item>\\n            <md-button ng-click=\\\"$ctrl.exportStudentsResultsToGoogleDrive('csv')\\\"\\n                       localize>\\n              __MSG_exportAllStudentsAsCSVToGDOption__\\n            </md-button>\\n          </md-menu-item>\\n        </md-menu-content>\\n      </md-menu>\\n    </div>\\n  </md-toolbar>\\n  <loader></loader>\\n\\n  <md-content\\n    sticky-subheader\\n    save-scroll\\n    flex>\\n    <students-list\\n      students=\\\"$ctrl.students\\\"\\n      selected-student=\\\"$ctrl.student\\\"></students-list>\\n  </md-content>\\n\\n  <div\\n    hint\\n    class=\\\"sb-hint\\\"\\n    data-cookie-name=\\\"teacher-course-progress-hint\\\">\\n    <div class=\\\"sb-hint-scrollable\\\">\\n      <p\\n        class=\\\"sb-hint-text\\\"\\n        localize>\\n        __MSG_teacherAssessCourseHint__\\n      </p>\\n      <p class=\\\"sb-hint-close\\\">\\n        <button\\n          class=\\\"sb-btn-no-background\\n                       md-primary\\n                       sb-hint-close\\\"\\n          localize>\\n          __MSG_acceptHint__\\n        </button>\\n      </p>\\n    </div>\\n  </div>\\n  -->\\n</div>\\n\\n\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/components/objective-details.html';\nvar html = \"<div class=\\\"sb-list-dropdown\\n            cm-objective-details--container\\\">\\n    <div\\n        layout=\\\"column\\\"\\n        layout-align=\\\"stretch\\\">\\n        <div class=\\\"sb-list-dropdown__inner\\\">\\n            <div\\n                layout=\\\"row\\\"\\n                layout-align=\\\"start start\\\"\\n                class=\\\"cm-objective-description-container\\\">\\n                <md-input-container\\n                    class=\\\"md-block\\\"\\n                    flex=\\\"95\\\">\\n                    <label localize>\\n                        __MSG_objectiveNameLabel__\\n                    </label>\\n                    <textarea\\n                        maxlength=\\\"255\\\"\\n                        md-detect-hidden=\\\"true\\\"\\n                        ng-model=\\\"$ctrl.objective.name\\\"\\n                        ng-model-options='{ debounce: 500 }'\\n                        ng-readonly=\\\"$ctrl.readOnly\\\"\\n                        ng-blur=\\\"$ctrl.onBlur()\\\"\\n                        ng-change=\\\"$ctrl.updateObjective()\\\">\\n                    </textarea>\\n                </md-input-container>\\n            </div>\\n\\n            <div\\n                layout=\\\"row\\\"\\n                layout-align=\\\"start start\\\"\\n                class=\\\"cm-objective-description-container\\\">\\n                <md-input-container\\n                    class=\\\"md-block\\n                           md-input-has-placeholder\\\"\\n                    flex>\\n                    <label localize>\\n                      __MSG_objectiveDescriptionLabel__\\n                    </label>\\n\\n                    <ng-quill-editor\\n                        class=\\\"absolute-btns focused-btns\\\"\\n                        toolbar=\\\"true\\\"\\n                        read-only=\\\"$ctrl.readOnly\\\"\\n                        toolbar-entries=\\\"bold\\\"\\n                        ng-model=\\\"$ctrl.objective.description\\\"\\n                        ng-change=\\\"$ctrl.updateObjective()\\\">\\n                    </ng-quill-editor>\\n                </md-input-container>\\n            </div>\\n\\n            <div\\n                layout=\\\"row\\\"\\n                layout-align=\\\"start start\\\"\\n                ng-repeat=\\\"knowledgeRequirement in ::$ctrl.objective.knowledge_requirements track by knowledgeRequirement.id\\\">\\n                <div flex=\\\"5\\\"\\n                    class=\\\"cm-objective-grade\\\">\\n                  <long-text-tooltip text=\\\"::knowledgeRequirement.grade_name \\\">\\n                    <span class=\\\"md-truncate\\\"\\n                          ng-style=\\\"::{ color: knowledgeRequirement.grade_color }\\\">\\n                        {{ ::knowledgeRequirement.grade_name }}\\n                    </span>\\n                  </long-text-tooltip>\\n                </div>\\n\\n                <div flex=\\\"100\\\">\\n                    <md-input-container\\n                        class=\\\"md-block\\n                               md-input-has-placeholder\\\"\\n                        flex>\\n                        <label localize>\\n                          __MSG_descriptionLabel__\\n                        </label>\\n\\n                        <ng-quill-editor\\n                            class=\\\"absolute-btns focused-btns\\\"\\n                            toolbar=\\\"true\\\"\\n                            read-only=\\\"$ctrl.readOnly\\\"\\n                            toolbar-entries=\\\"bold\\\"\\n                            ng-model=\\\"knowledgeRequirement.description\\\"\\n                            ng-change=\\\"$ctrl.updateKnowledgeRequirementDescription(knowledgeRequirement)\\\">\\n                        </ng-quill-editor>\\n                    </md-input-container>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/change-property-doublecheck-warning.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\n                  warning-dialog\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\n                    warning-dialog--title\\\">\\n            {{$ctrl.headerLabel }}\\n        </div>\\n\\n        <p\\n            class=\\\"dialog__small--text\\\">\\n            {{$ctrl.warningContent }}\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_proceedBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/change-property-warning.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\n                    warning-dialog--title\\\">\\n            {{$ctrl.headerLabel }}\\n        </div>\\n\\n        <p\\n            class=\\\"dialog__small--text\\\">\\n            {{ $ctrl.warningContent }}\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_changeBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/confirmation.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n  <md-dialog-content>\\n    <div class=\\\"dialog__small--title\\\"\\n         ng-bind-html=\\\"::$ctrl.translations.header | localize\\\">\\n    </div>\\n\\n    <p class=\\\"dialog__small--text\\\">\\n            <span ng-bind-html=\\\"::$ctrl.translations.content1 | localize\\\">\\n            </span>\\n      {{ ::$ctrl.curriculumTitle }}\\n      <span ng-bind-html=\\\"::$ctrl.translations.content2 | localize\\\">\\n            </span>\\n    </p>\\n\\n    <div class=\\\"dialog__small--button--container\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"space-between\\\">\\n      <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                 ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                 ng-bind-html=\\\"::$ctrl.translations.cancelButton | localize\\\"\\n                 localize>\\n      </md-button>\\n      <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                 ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                 ng-bind-html=\\\"::$ctrl.translations.confirmButton | localize\\\"\\n                 localize>\\n      </md-button>\\n    </div>\\n  </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/create-objective.html';\nvar html = \"<md-dialog\\n    class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <span\\n            class=\\\"dialog__small--title\\\"\\n            localize>\\n            __MSG_createNewObjectiveModalTitle__\\n        </span>\\n\\n        <div flex=\\\"100\\\">\\n            <md-input-container\\n                class=\\\"md-block\\\"\\n                flex=\\\"95\\\">\\n                <label localize>\\n                    __MSG_newObjectiveNameTextInputLabel__\\n                </label>\\n                <textarea\\n                    maxlength=\\\"255\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    ng-model=\\\"$ctrl.objectiveName\\\">\\n                </textarea>\\n            </md-input-container>\\n        </div>\\n\\n        <div\\n            class=\\\"dialog__big--button-container\\\"\\n            layout=\\\"row\\\"\\n            layout-align=\\\"end\\\">\\n            <md-button\\n                class=\\\"btn__no-background\\n                       md-primary\\n                       btn__no-min-width\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button\\n                class=\\\"btn__no-background\\n                       md-primary\\n                       btn__no-min-width\\\"\\n                ng-click=\\\"$ctrl.createObjective()\\\"\\n                localize>\\n                __MSG_createBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/curriculum-details.html';\nvar html = \"<md-dialog\\n    class=\\\"curriculum-library-dialog\\\"\\n    aria-label=\\\"List dialog\\\">\\n    <md-toolbar\\n        class=\\\"sb-toolbar\\n               curriculum-library-dialog--header\\\"\\n        flex layout=\\\"row\\\"\\n        layout-align=\\\"space-between center\\\">\\n        <md-button\\n            class=\\\"md-icon-button\\\"\\n            ng-click=\\\"$ctrl.openCurriculumLibraryDialog()\\\"\\n            flex=\\\"none\\\">\\n            <md-icon>\\n                arrow_back\\n            </md-icon>\\n        </md-button>\\n\\n        <md-menu flex=\\\"nogrow\\\">\\n            <md-button\\n                class=\\\"md-icon-button\\\"\\n                ng-click=\\\"$mdMenu.open($event)\\\">\\n                <md-icon>more_vert</md-icon>\\n            </md-button>\\n\\n            <md-menu-content width=\\\"3\\\">\\n                <md-menu-item>\\n                    <md-button\\n                        ng-click=\\\"$ctrl.openAddNewObjectiveDialog()\\\"\\n                        localize>\\n                        __MSG_addNewObjective__\\n                    </md-button>\\n                </md-menu-item>\\n            </md-menu-content>\\n        </md-menu>\\n    </md-toolbar>\\n\\n    <md-dialog-content>\\n        <cm-teacher-course-details\\n            course=\\\"$ctrl.curriculumDetails.course\\\"\\n            curriculum=\\\"$ctrl.curriculum\\\"\\n            hide-toolbar=\\\"true\\\">\\n            <cm-teacher-objectives\\n                course=\\\"$ctrl.curriculumDetails.course\\\"\\n                objectives=\\\"$ctrl.curriculumDetails.objectives\\\"></cm-teacher-objectives>\\n        </cm-teacher-course-details>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/curriculum-library.html';\nvar html = \"<md-dialog class=\\\"curriculum-library-dialog\\\"\\n           aria-label=\\\"List dialog\\\">\\n  <md-toolbar class=\\\"sb-toolbar curriculum-library-dialog--header\\\"\\n              flex\\n              layout=\\\"row\\\"\\n              layout-align=\\\"space-between center\\\">\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n               flex=\\\"none\\\">\\n      <md-icon>\\n        close\\n      </md-icon>\\n    </md-button>\\n\\n    <span class=\\\"sb-toolbar-title\\\"\\n          flex\\n          localize\\n          md-truncate>\\n            __MSG_myCurriculumLibrary__\\n        </span>\\n<!--    <help-button link=\\\"teacherCurriculumsMyLibraryDialogHelpUrl\\\"></help-button>-->\\n  </md-toolbar>\\n  <md-dialog-content>\\n    <cm-curriculum-library curriculums=\\\"$ctrl.curriculums\\\">\\n    </cm-curriculum-library>\\n  </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/delete-course.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_deleteCourseDialogHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>\\n                __MSG_deleteCourseDialogContent__\\n            </span>\\n            {{ $ctrl.courseDefinition.name }}\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_deleteBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/delete-objective.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_deleteObjectiveDialogHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span ng-if=\\\"!$ctrl.editingTemplate\\\" localize>\\n                __MSG_deleteObjectiveDialogContent__\\n            </span>\\n            <span ng-if=\\\"$ctrl.editingTemplate\\\" localize>\\n                __MSG_deleteObjectiveInTemplateDialogContent__\\n            </span>\\n            {{ $ctrl.objective.name }}\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_deleteBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/edit-curriculum.html';\nvar html = \"<md-dialog>\\n    <md-dialog-content class=\\\"dialog__big\\n                              edit-course-dialog\\\">\\n      <div class=\\\"grid-header\\\">\\n        <span\\n            class=\\\"dialog__big--title left\\\">\\n            <span ng-if=\\\"$ctrl.createMode\\\" localize>__MSG_createCourseHeading__</span>\\n            <span ng-if=\\\"!$ctrl.createMode\\\" localize>__MSG_editCourseHeading__</span>\\n        </span>\\n<!--        <help-button class=\\\"black right\\\"-->\\n<!--                     link=\\\"teacherCurriculumCreateEmptyCurriculumDialogHelpButtonUrl\\\"-->\\n<!--                     ng-if=\\\"::$ctrl.createMode\\\"></help-button>-->\\n<!--        <help-button class=\\\"black right\\\"-->\\n<!--                     link=\\\"teacherCurriculumEditCurriculumDialogHelpButtonUrl\\\"-->\\n<!--                     ng-if=\\\"::!$ctrl.createMode\\\"></help-button>-->\\n      </div>\\n\\n        <div flex=\\\"100\\\">\\n            <md-input-container class=\\\"md-block\\\">\\n                <label>\\n                    <span ng-if=\\\"$ctrl.createMode\\\" localize>__MSG_createCourseNameLabel__</span>\\n                    <span ng-if=\\\"!$ctrl.createMode\\\" localize>__MSG_editCourseNameLabel__</span>\\n                </label>\\n                <textarea\\n                    ng-model=\\\"$ctrl.course.name\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    maxlength=\\\"255\\\">\\n                </textarea>\\n            </md-input-container>\\n        </div>\\n\\n        <div flex=\\\"100\\\">\\n            <md-input-container class=\\\"md-block\\\">\\n                <label localize>__MSG_courseCodeLabel__</label>\\n                <textarea\\n                    ng-model=\\\"$ctrl.course.code\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    maxlength=\\\"255\\\">\\n                </textarea>\\n            </md-input-container>\\n        </div>\\n\\n        <div\\n            class=\\\"edit-course-dialog__selects-container\\\">\\n            <div class=\\\"edit-course-dialog__select-container\\\">\\n                <md-input-container class=\\\"md-block\\\">\\n                    <label localize>__MSG_editCourseEducationalSystemLabel__</label>\\n                    <md-select\\n                        ng-model=\\\"$ctrl.educationalSystem\\\"\\n                        md-container-class=\\\"edit-course-dialog__educational-system__select\\\"\\n                        ng-change=\\\"$ctrl.changeEducationalSystem()\\\"\\n                        ng-disabled=\\\"$ctrl.isLocked\\\">\\n                        <md-option\\n                            ng-repeat=\\\"educationalSystem in $ctrl.educationalSystems track by educationalSystem.id\\\"\\n                            ng-value=\\\"educationalSystem\\\">\\n                            {{ educationalSystem.name }}\\n                        </md-option>\\n                    </md-select>\\n                </md-input-container>\\n\\n                <p\\n                    class=\\\"sb-list-item-subname\\\"\\n                    localize>\\n                    <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createCourseEducationalSystemHelp__</span>\\n                    <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_editCourseEducationalSystemHelp__</span>\\n                </p>\\n            </div>\\n\\n            <div class=\\\"edit-course-dialog__select-container\\\">\\n                <md-input-container class=\\\"md-block\\\">\\n                    <label localize>\\n                        <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createCourseEducationalStageLabel__</span>\\n                        <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_editCourseEducationalStageLabel__</span>\\n                    </label>\\n                    <md-select\\n                        ng-model=\\\"$ctrl.educationalStage\\\"\\n                        md-container-class=\\\"edit-course-dialog__educational-stage__select\\\"\\n                        ng-change=\\\"$ctrl.changeEducationalStage()\\\">\\n                        <md-option\\n                            ng-repeat=\\\"educationalStage in $ctrl.educationalStages track by educationalStage.id\\\"\\n                            ng-value=\\\"educationalStage\\\">\\n                            {{ educationalStage.name }}\\n                        </md-option>\\n                    </md-select>\\n                </md-input-container>\\n\\n                <p\\n                    class=\\\"sb-list-item-subname\\\"\\n                    localize>\\n                    <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createCourseEducationalStageHelp__</span>\\n                    <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_editCourseEducationalStageHelp__</span>\\n                </p>\\n            </div>\\n\\n            <div class=\\\"edit-course-dialog__select-container\\\">\\n                <md-input-container class=\\\"md-block\\\">\\n                    <label localize>\\n                        <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createCourseScaleLabel__</span>\\n                        <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_editCourseScaleLabel__</span>\\n                    </label>\\n                    <md-select\\n                        ng-model=\\\"$ctrl.scale\\\"\\n                        md-container-class=\\\"edit-course-dialog__scale__select\\\"\\n                        ng-change=\\\"$ctrl.changeScale()\\\">\\n                        <md-option\\n                            ng-repeat=\\\"scale in $ctrl.scales track by $index\\\"\\n                            ng-value=\\\"scale\\\">\\n                            {{ scale.name }}\\n                        </md-option>\\n                    </md-select>\\n                </md-input-container>\\n\\n                <p\\n                    class=\\\"sb-list-item-subname\\\"\\n                    localize>\\n                    <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createCourseScaleHelp__</span>\\n                    <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_editCourseScaleHelp__</span>\\n                </p>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"dialog__big--button-container\\\">\\n            <md-button\\n                class=\\\"btn__no-background\\n                       md-primary\\n                       sb-btn-no-min-width\\\"\\n                ng-class=\\\"{'sb-dialog-button--disabled': !$ctrl.createButtonEnabled}\\\"\\n                ng-click=\\\"$ctrl.saveChanges()\\\"\\n                ng-disabled=\\\"!$ctrl.createButtonEnabled\\\"\\n                localize>\\n                <span ng-if=\\\"$ctrl.createMode\\\">__MSG_createBtn__</span>\\n                <span ng-if=\\\"!$ctrl.createMode\\\">__MSG_saveBtn__</span>\\n            </md-button>\\n\\n            <md-button\\n                class=\\\"btn__no-background\\n                       md-primary\\n                       btn__no-min-width\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/make-curriculum-private.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>__MSG_makeCurriculumPrivateHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>\\n                __MSG_makeCurriculumPrivateInfoPart1__\\n            </span>\\n            {{ $ctrl.curriculumTitle }}\\n            <span localize>\\n                __MSG_makeCurriculumPrivateInfoPart2__\\n            </span>\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_makePrivateBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/make-curriculum-public.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_makeCurriculumPublicHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>\\n                __MSG_makeCurriculumPublicInfoPart1__\\n            </span>\\n            {{ $ctrl.curriculumTitle }}\\n            <span localize>\\n                __MSG_makeCurriculumPublicInfoPart2__\\n            </span>\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_makePublicBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/remove-curriculum-form-library.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>\\n            __MSG_removeCurriculumFromLibraryHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>__MSG_removeCurriculumFromLibraryInfo1__</span>\\n            {{ $ctrl.curriculumTitle }}\\n            <span localize>__MSG_removeCurriculumFromLibraryInfo2__</span>\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"space-between\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                       localize>\\n                __MSG_deleteBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/rename-course.html';\nvar html = \"\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/rename-curriculum.html';\nvar html = \"\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/save-curriculum-to-library.html';\nvar html = \"<md-dialog\\n    class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div\\n            class=\\\"dialog__small--title\\\"\\n            localize>\\n             __MSG_nameYourCurriculum__\\n        </div>\\n\\n        <div flex=\\\"100\\\">\\n            <md-input-container\\n                class=\\\"md-block\\\"\\n                flex=\\\"95\\\">\\n                <label localize>__MSG_newCurriculumTitle__</label>\\n                <textarea maxlength=\\\"255\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    ng-model=\\\"$ctrl.courseName\\\">\\n                </textarea>\\n            </md-input-container>\\n        </div>\\n\\n        <div flex=\\\"100\\\">\\n            <md-input-container class=\\\"md-block\\\" flex=\\\"95\\\">\\n                <label localize>__MSG_courseIDlabel__</label>\\n                <textarea\\n                    ng-model=\\\"$ctrl.courseCode\\\"\\n                    md-detect-hidden=\\\"true\\\"\\n                    maxlength=\\\"50\\\">\\n                </textarea>\\n            </md-input-container>\\n        </div>\\n\\n        <div\\n            class=\\\"dialog__small--button--container\\\"\\n            layout=\\\"row\\\"\\n            layout-align=\\\"space-between\\\">\\n            <md-button\\n                class=\\\"sb-btn-no-background\\n                       md-primary\\n                       sb-btn-no-min-width\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n            <md-button\\n                class=\\\"sb-btn-no-background\\n                       md-primary\\n                       sb-btn-no-min-width\\\"\\n                ng-class=\\\"{'sb-dialog-button--disabled': !$ctrl.courseName}\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.hide({name: $ctrl.courseName, code: $ctrl.courseCode})\\\"\\n                ng-disabled=\\\"!$ctrl.courseName\\\"\\n                localize>\\n                __MSG_saveBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/search-curriculum.html';\nvar html = \"<md-dialog>\\n    <md-dialog-content class=\\\"dialog__big search-course-dialog\\\">\\n      <div class=\\\"grid-header\\\">\\n        <span class=\\\"dialog__big--title left\\\" localize>__MSG_searchCourseToAdd__</span>\\n<!--        <help-button class=\\\"black right\\\"-->\\n<!--                     link=\\\"teacherCurriculumSearchAndAddCurriculumDialogHelpButtonUrl\\\"></help-button>-->\\n      </div>\\n\\n        <div\\n            flex=\\\"nogrow\\\"\\n            class=\\\"sb-search-autocomplete\\n                   sb-sticky\\\">\\n\\n            <!-- this one is for carriculums provided by studybee\\n                 has to be splited in md-autocomplete level as directive calculates item\\n                 height once and don't resize it for larger items also transclude don't work\\n                 inside md-item-template\\n            -->\\n            <md-autocomplete\\n                flex\\n                md-min-length=\\\"0\\\"\\n                ng-if=\\\"$ctrl.searchCategory.searchType === 1\\\"\\n                md-no-cache=\\\"true\\\"\\n                md-selected-item=\\\"$ctrl.selectedItem\\\"\\n                md-search-text=\\\"$ctrl.searchCourseText\\\"\\n                md-items=\\\"curriculum in $ctrl.searchCourse()\\\"\\n                md-item-text=\\\"curriculum.name\\\"\\n                md-dropdown-position=\\\"bottom\\\"\\n                placeholder=\\\"__MSG_searchCourseInput__\\\"\\n                ng-model-options='{ debounce: 500 }'\\n                md-menu-class=\\\"sb-search-autocomplete-results\\n                               cm-search-course-autocomplete-results\\\"\\n                localize>\\n                <md-item-template>\\n                    <div layout=\\\"column\\\"\\n                         class=\\\"cm-search-course-autocomplete-result\\n                                cm-search-course-autocomplete-result--studybee-curriculum\\\">\\n                        <span class=\\\"cm-search-course-autocomplete-result__name\\\">\\n                            <span>{{ curriculum.curriculum_name || curriculum.name }}</span>\\n                            <span ng-show=\\\"curriculum.code\\\">({{ curriculum.code }})</span>\\n                        </span>\\n                        <span\\n                            class=\\\"cm-search-course-autocomplete-result__educational-system\\\"\\n                            localize>\\n                            __MSG_educationalStageLabel__: {{ curriculum.educational_stage.name }}\\n                        </span>\\n                    </div>\\n                </md-item-template>\\n                <md-not-found>\\n                    __MSG_noRecordsFound__\\n                </md-not-found>\\n            </md-autocomplete>\\n\\n            <!-- this one is for my carriculums-->\\n            <md-autocomplete\\n                flex\\n                md-min-length=\\\"0\\\"\\n                ng-if=\\\"$ctrl.searchCategory.searchType === 2\\\"\\n                md-no-cache=\\\"true\\\"\\n                md-selected-item=\\\"$ctrl.selectedItem\\\"\\n                md-search-text=\\\"$ctrl.searchCourseText\\\"\\n                md-items=\\\"curriculum in $ctrl.searchCourse()\\\"\\n                md-item-text=\\\"curriculum.curriculum_name || curriculum.name\\\"\\n                placeholder=\\\"__MSG_searchCourseInput__\\\"\\n                ng-model-options='{ debounce: 500 }'\\n                md-menu-class=\\\"sb-search-autocomplete-results\\n                               cm-search-course-autocomplete-results\\\"\\n                localize>\\n                <md-item-template>\\n                    <div\\n                        layout=\\\"column\\\"\\n                        class=\\\"cm-search-course-autocomplete-result\\n                               cm-search-course-autocomplete-result--user-curriculum\\\">\\n                        <span class=\\\"cm-search-course-autocomplete-result__name\\\">\\n                            {{ curriculum.curriculum_name || curriculum.name }}\\n                        </span>\\n                        <span class=\\\"cm-search-course-autocomplete-result__based-on\\\">\\n                            <span ng-show=\\\"curriculum.code\\\">\\n                                ({{ curriculum.code }})\\n                            </span>\\n                        </span>\\n                        <span\\n                            class=\\\"cm-search-course-autocomplete-result__educational-system\\\"\\n                            localize>\\n                            __MSG_educationalStageLabel__: {{ curriculum.educational_stage.name }}\\n                        </span>\\n                    </div>\\n                </md-item-template>\\n                <md-not-found>\\n                    __MSG_noRecordsFound__\\n                </md-not-found>\\n            </md-autocomplete>\\n\\n            <!-- this one is for school carriculums -->\\n            <md-autocomplete\\n                flex\\n                md-min-length=\\\"0\\\"\\n                ng-if=\\\"$ctrl.searchCategory.searchType === 3\\\"\\n                md-no-cache=\\\"true\\\"\\n                md-selected-item=\\\"$ctrl.selectedItem\\\"\\n                md-search-text=\\\"$ctrl.searchCourseText\\\"\\n                md-items=\\\"curriculum in $ctrl.searchCourse()\\\"\\n                md-item-text=\\\"curriculum.curriculum_name || curriculum.name\\\"\\n                placeholder=\\\"__MSG_searchCourseInput__\\\"\\n                ng-model-options='{ debounce: 500 }'\\n                md-menu-class=\\\"sb-search-autocomplete-results\\n                               cm-search-course-autocomplete-results\\\"\\n                localize>\\n                <md-item-template>\\n                    <div\\n                        layout=\\\"column\\\"\\n                        class=\\\"cm-search-course-autocomplete-result\\n                               cm-search-course-autocomplete-result--shared-curriculum\\\">\\n                        <span class=\\\"cm-search-course-autocomplete-result__name\\\">\\n                            {{ curriculum.curriculum_name || curriculum.name }}\\n                        </span>\\n                        <span class=\\\"cm-search-course-autocomplete-result__based-on\\\">\\n                            <span ng-show=\\\"curriculum.code\\\">\\n                                ({{ curriculum.code }})\\n                            </span>\\n                        </span>\\n                        <span\\n                            class=\\\"cm-search-course-autocomplete-result__educational-system\\\"\\n                            localize>\\n                            __MSG_educationalStageLabel__: {{ curriculum.educational_stage.name }}\\n                        </span>\\n                        <span\\n                            localize\\n                            class=\\\"cm-search-course-autocomplete-result__created-by\\\">\\n                            __MSG_createdByLabel__: {{ curriculum.author }}\\n                        </span>\\n                    </div>\\n                </md-item-template>\\n                <md-not-found>\\n                    __MSG_noRecordsFound__\\n                </md-not-found>\\n            </md-autocomplete>\\n        </div>\\n\\n        <span\\n            layout=\\\"row\\\"\\n            class=\\\"dialog__big--title\\\"\\n            localize>\\n            __MSG_searchCourseCriterias__\\n        </span>\\n\\n        <!-- search category section -->\\n        <div\\n            layout=\\\"column\\\"\\n            class=\\\"category-input\\\">\\n            <md-input-container>\\n                <label localize>__MSG_searchCategoryLabel__</label>\\n                <md-select ng-model=\\\"$ctrl.searchCategory\\\">\\n                    <md-option\\n                        ng-repeat=\\\"searchCategory in $ctrl.searchCategories track by $index\\\"\\n                        ng-value=\\\"searchCategory\\\"\\n                        ng-selected=\\\"$first\\\">\\n                        {{ searchCategory.name }}\\n                    </md-option>\\n                </md-select>\\n            </md-input-container>\\n            <p\\n                class=\\\"sb-list-item-subname\\\"\\n                localize>\\n                __MSG_searchCategoryHelp__\\n            </p>\\n        </div>\\n\\n\\n        <!-- educational system section-->\\n        <div\\n            layout=\\\"column\\\"\\n            class=\\\"category-input category-input__educational_system\\\">\\n            <md-input-container>\\n                <label localize>__MSG_searchEducationalSystem__</label>\\n                <md-select\\n                    ng-model=\\\"$ctrl.educationalSystem\\\"\\n                    ng-disabled=\\\"$ctrl.isLocked\\\"\\n                    ng-change=\\\"$ctrl.changeEducationalSystem()\\\">\\n                    <md-option\\n                        ng-value=\\\"undefined\\\"\\n                        localize>\\n                        __MSG_allSystems__\\n                    </md-option>\\n                    <md-option\\n                        ng-repeat=\\\"educationalSystem in $ctrl.educationalSystems track by educationalSystem.id\\\"\\n                        ng-value=\\\"educationalSystem\\\">\\n                        {{ educationalSystem.name }}\\n                    </md-option>\\n                </md-select>\\n            </md-input-container>\\n\\n            <p\\n                class=\\\"sb-list-item-subname\\\"\\n                localize>\\n                __MSG_searchEducationalSystemHelp__\\n            </p>\\n        </div>\\n\\n        <!-- educational stage category section -->\\n        <div\\n            layout=\\\"column\\\"\\n            class=\\\"category-input category-input__educational_stage\\\">\\n            <md-input-container>\\n                <label localize>__MSG_searchEducationalStage__</label>\\n                <md-select\\n                    ng-model=\\\"$ctrl.educationalStage\\\"\\n                    md-container-class=\\\"search-course-dialog__criteria__educational-stage__select\\\"\\n                    ng-change=\\\"$ctrl.changeEducationalStage()\\\">\\n                    <md-option\\n                        ng-value=\\\"undefined\\\"\\n                        ng-selected=\\\"true\\\"\\n                        localize>\\n                        __MSG_allStages__\\n                    </md-option>\\n                    <md-option\\n                        ng-repeat=\\\"educationalStage in $ctrl.educationalStages track by $index\\\"\\n                        ng-value=\\\"educationalStage\\\">\\n                        {{ educationalStage.name }}\\n                    </md-option>\\n                </md-select>\\n            </md-input-container>\\n            <p\\n                class=\\\"sb-list-item-subname\\\"\\n                localize>\\n                __MSG_searchEducationalStageHelp__\\n            </p>\\n        </div>\\n\\n        <!-- scale section -->\\n        <div\\n            layout=\\\"column\\\"\\n            class=\\\"category-input\\\">\\n            <md-input-container>\\n                <label localize>__MSG_searchScale__</label>\\n                <md-select\\n                    ng-model=\\\"$ctrl.scale\\\"\\n                    md-container-class=\\\"search-course-dialog__criteria__scale__select\\\">\\n                    <md-option\\n                        ng-value=\\\"undefined\\\"\\n                        ng-selected=\\\"true\\\"\\n                        localize>\\n                        __MSG_allScales__\\n                    </md-option>\\n                    <md-option\\n                        ng-repeat=\\\"scale in $ctrl.scales track by $index\\\"\\n                        ng-value=\\\"scale\\\">\\n                        {{ scale.name }}\\n                    </md-option>\\n                </md-select>\\n            </md-input-container>\\n\\n            <p\\n                class=\\\"sb-list-item-subname\\\"\\n                localize>\\n                __MSG_searchScaleHelp__\\n            </p>\\n        </div>\\n\\n\\n        <div class=\\\"dialog__big--button-container\\\">\\n            <md-button\\n                class=\\\"btn__no-background md-primary btn__no-min-width\\\"\\n                ng-class=\\\"{'sb-dialog-button--disabled': !$ctrl.selectedItem}\\\"\\n                ng-click=\\\"$ctrl.addCurriculum()\\\"\\n                ng-disabled=\\\"!$ctrl.selectedItem\\\"\\n                localize>\\n                __MSG_addBtn__\\n            </md-button>\\n            <md-button\\n                class=\\\"btn__no-background md-primary btn__no-min-width\\\"\\n                ng-click=\\\"$ctrl.$mdDialog.hide()\\\"\\n                localize>\\n                __MSG_cancelBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/courseManagement/common/dialogs/wrong-curriculum-setup.html';\nvar html = \"<md-dialog class=\\\"dialog__small\\\">\\n    <md-dialog-content>\\n        <div class=\\\"dialog__small--title\\\"\\n             localize>__MSG_wrongCurriculumSetupHeading__\\n        </div>\\n\\n        <p class=\\\"dialog__small--text\\\">\\n            <span localize>\\n                __MSG_wrongCurriculumSetupInfo__\\n            </span>\\n        </p>\\n\\n        <div class=\\\"dialog__small--button--container\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n            <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                       ng-click=\\\"$ctrl.$mdDialog.cancel()\\\"\\n                       localize>\\n                __MSG_okBtn__\\n            </md-button>\\n        </div>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'components/user-inactive/user-inactive.html';\nvar html = \"<div layout=\\\"column\\\" layout-fill>\\n    <div\\n        layout-fill\\n        layout=\\\"column\\\">\\n\\n        <md-toolbar\\n            flex=\\\"nogrow\\\"\\n            class=\\\"sb-toolbar user-inactive__toolbar\\\">\\n            <div\\n                layout=\\\"column\\\"\\n                layout-align=\\\"center start\\\"\\n                class=\\\"md-toolbar-tools\\\">\\n                <p class=\\\"sb-toolbar-title\\\">\\n                    Studybee\\n                </p>\\n            </div>\\n        </md-toolbar>\\n\\n        <md-content\\n            class=\\\"user-inactive\\\"\\n            layout=\\\"column\\\"\\n            layout-align=\\\"start center\\\"\\n            layout-margin\\n            layout-padding>\\n            <div\\n                class=\\\"user-inactive__title\\\"\\n                flex=\\\"noshrink\\\">\\n                {{ $ctrl.message.title }}\\n            </div>\\n            <div class=\\\"md-body-1 user-inactive__content\\\" flex=\\\"auto\\\">\\n                {{ $ctrl.message.content }}\\n            </div>\\n        </md-content>\\n    </div>\\n</div>\\n\\n\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/commons/dialogs/changeEducationalSystem.html';\nvar html = \"<md-dialog>\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_saveChangesModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_saveEducationalSystemChangesModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                   ng-click=\\\"dialog.$mdDialog.cancel()\\\"\\n                   localize>\\n            __MSG_cancelBtn__\\n        </md-button>\\n\\n        <md-button class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n                   ng-disabled=\\\"vm.newSchoolForm.$invalid\\\"\\n                   ng-click=\\\"dialog.$mdDialog.close()\\\"\\n                   localize>\\n            __MSG_okBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/commons/dialogs/saveInfo.html';\nvar html = \"<md-dialog aria-label=\\\"Confirm dialog\\\">\\n    <md-toolbar class=\\\"sb-toolbar\\\">\\n        <div class=\\\"md-toolbar-tools\\\">\\n            <h2 localize>__MSG_saveConfirmModalTitle__</h2>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout-padding>\\n        <p localize>__MSG_saveConfirmModalText__</p>\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"dialog.$mdDialog.cancel()\\\"\\n            localize>\\n            __MSG_okBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/commons/dialogs/whatNowInfo.html';\nvar html = \"<md-dialog class=\\\"sb-user-setup-what-now-dialog\\\"\\n           aria-label=\\\"Information dialog\\\">\\n    <md-toolbar class=\\\"sb-toolbar sb-toolbar-40\\\">\\n        <div class=\\\"md-toolbar-tools\\\"\\n             layout=\\\"row\\\"\\n             layout-align=\\\"end center\\\">\\n            <md-button class=\\\"md-icon-button\\\"\\n                       ng-click=\\\"dialog.$mdDialog.cancel()\\\">\\n                <md-icon>close</md-icon>\\n            </md-button>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-dialog-content layout=\\\"row\\\"\\n                       layout-align=\\\"start stretch\\\"\\n                       layout-fill\\n                       localize>\\n        <iframe src=\\\"__MSG_whatNowUrl__\\\"></iframe>\\n    </md-dialog-content>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetup/userSetup.html';\nvar html = \"<md-toolbar flex=\\\"nogrow\\\"\\n            class=\\\"sb-toolbar sb-user-setup__header\\\">\\n  <div flex\\n       layout=\\\"row\\\"\\n       layout-align=\\\"space-between center\\\"\\n       class=\\\"md-toolbar-tools sb-user-setup-title\\\">\\n    <md-button class=\\\"md-icon-button\\\"\\n               ng-if=\\\"::$ctrl.backToState\\\"\\n               ng-click=\\\"$ctrl.onBackToState()\\\">\\n      <md-icon>arrow_back</md-icon>\\n    </md-button>\\n    <menu-toggle ng-if=\\\"::$ctrl.showMenuToggle\\\"></menu-toggle>\\n    <div flex\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\"\\n         class=\\\"sb-user-setup-icon-wrapper\\\">\\n      <div class=\\\"sb-bee-logo\\\"></div>\\n    </div>\\n  </div>\\n</md-toolbar>\\n<loader></loader>\\n<div ui-view=\\\"sideContent\\\"\\n     sb-theme=\\\"sb-theme-green\\\"\\n     class=\\\"sb-user-setup__content sb-theme-green\\\">\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupAgreement/userSetupAgreement.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout-padding\\n            layout=\\\"column\\\"\\n            layout-align=\\\"start stretch\\\"\\n            ng-if=\\\"::$ctrl.agreement\\\"\\n            class=\\\"sb-hidden-x-scroll sb-user-setup-agreement__content\\\">\\n    <div\\n        class=\\\"sb-user-setup-agreement__content-text\\\"\\n        ng-bind-html=\\\"::$ctrl.agreement.content\\\"></div>\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"column\\\"\\n         layout-align=\\\"space-between center\\\"\\n         class=\\\"sb-user-setup-agreement__content-footer\\\">\\n        <md-checkbox ng-model=\\\"$ctrl.agreementAccepted\\\"\\n                     aria-label=\\\"I accept privacy policy agreement\\\"\\n                     class=\\\"md-align-top-left sb-user-setup-agreement__content-checkbox\\\">\\n            <span localize>__MSG_acceptTermsAndConditions__</span>\\n        </md-checkbox>\\n        <md-button ng-disabled=\\\"!$ctrl.agreementAccepted || $ctrl.isUpdateInProgress\\\"\\n                   ng-click=\\\"$ctrl.goToUserSettings()\\\"\\n                   class=\\\"md-align-top-left sb-user-setup-agreement__content-button\\\"\\n                   localize>__MSG_iAccept__\\n        </md-button>\\n    </div>\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupAgreementMissing/userSetupAgreementMissing.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout-padding\\n            layout=\\\"column\\\"\\n            layout-align=\\\"start stretch\\\"\\n            class=\\\"sb-hidden-x-scroll sb-user-setup-agreement-missing__content\\\">\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"center center\\\"\\n         class=\\\"sb-user-setup-agreement-missing__content-icon-wrapper\\\">\\n        <md-icon class=\\\"sb-user-setup-agreement-missing__content-icon\\\">sentiment_very_dissatisfied</md-icon>\\n    </div>\\n    <h1 class=\\\"sb-user-setup-agreement-missing__content-header\\\"\\n        localize>\\n        __MSG_agreementMissingHeader__\\n    </h1>\\n    <p class=\\\"sb-user-setup-agreement-missing__content-text\\\"\\n       localize>\\n        __MSG_agreementMissingText__\\n    </p>\\n\\n    <div flex=\\\"nogrow\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"center center\\\"\\n         class=\\\"sb-user-setup-check__content-button-wrapper\\\">\\n        <md-button class=\\\"dark\\\"\\n                   ng-click=\\\"$ctrl.showWhatNowInfo()\\\"\\n                   localize>\\n            __MSG_checkUserWhatNowButton__\\n        </md-button>\\n    </div>\\n\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupCheck/userSetupCheck.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout-padding\\n            layout=\\\"column\\\"\\n            layout-align=\\\"start stretch\\\"\\n            class=\\\"sb-hidden-x-scroll sb-user-setup-check__content\\\">\\n    <h1 class=\\\"sb-user-setup-check__content-header\\\"\\n        localize>\\n        __MSG_checkUserHeader__\\n    </h1>\\n    <p class=\\\"sb-user-setup-check__content-text\\\"\\n       localize>\\n        __MSG_checkUserMainText__\\n    </p>\\n    <p class=\\\"sb-user-setup-check__content-domain-label\\\"\\n       localize>\\n        __MSG_checkUserDomainLabel__\\n    </p>\\n\\n    <div ng-switch\\n         on=\\\"$ctrl.validationStatus\\\">\\n        <user-setup-check-progress on-validation=\\\"$ctrl.onValidation(isValid)\\\"\\n                                   ng-switch-default></user-setup-check-progress>\\n        <user-setup-check-valid ng-switch-when=\\\"VALID\\\"></user-setup-check-valid>\\n        <user-setup-check-invalid ng-switch-when=\\\"INVALID\\\"></user-setup-check-invalid>\\n    </div>\\n\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupCheck/userSetupCheckInvalid/userSetupCheckInvalid.html';\nvar html = \"<div flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"space-between center\\\"\\n     class=\\\"sb-user-setup-check__content-domain sb-user-setup-check__content-domain-invalid\\\"\\n     localize>\\n    __MSG_checkUserDomainInvalidLabel__\\n    <md-icon class=\\\"sb-user-setup-check__content-domain-invalid-icon\\\">cancel</md-icon>\\n</div>\\n<div flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"center center\\\"\\n     class=\\\"sb-user-setup-check__content-button-wrapper\\\">\\n    <md-button class=\\\"dark\\\"\\n               ng-click=\\\"$ctrl.showWhatNowInfo()\\\"\\n               localize>\\n        __MSG_checkUserWhatNowButton__\\n    </md-button>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupCheck/userSetupCheckProgress/userSetupCheckProgress.html';\nvar html = \"<div ng-if=\\\"!$ctrl.isUserValid\\\"\\n     class=\\\"sb-user-setup-check__content-domain\\\">\\n    {{ $ctrl.userEmailDomain }}\\n</div>\\n<div flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"center center\\\"\\n     class=\\\"sb-user-setup-check__content-button-wrapper\\\">\\n    <md-button class=\\\"dark\\\"\\n               ng-click=\\\"$ctrl.validateUser()\\\"\\n               ng-disabled=\\\"$ctrl.validateInProgress\\\"\\n               localize>\\n        __MSG_checkUserNowButton__\\n    </md-button>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupCheck/userSetupCheckValid/userSetupCheckValid.html';\nvar html = \"<div flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"space-between center\\\"\\n     class=\\\"sb-user-setup-check__content-domain sb-user-setup-check__content-domain-valid\\\"\\n     localize>\\n    __MSG_checkUserDomainValidLabel__\\n    <md-icon class=\\\"sb-user-setup-check__content-domain-valid-icon\\\">check_circle</md-icon>\\n</div>\\n<div flex=\\\"nogrow\\\"\\n     layout=\\\"row\\\"\\n     layout-align=\\\"center center\\\"\\n     class=\\\"sb-user-setup-check__content-button-wrapper\\\">\\n    <md-button class=\\\"dark\\\"\\n               ng-click=\\\"$ctrl.goToAgreement()\\\"\\n               localize>\\n        __MSG_checkUserContinueButton__\\n        <!--GREAT! LET'S CONTINUE-->\\n    </md-button>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupComplete/userSetupComplete.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout=\\\"column\\\"\\n            layout-align=\\\"space-between stretch\\\"\\n            class=\\\"sb-user-setup-complete__content\\\">\\n    <div flex\\n         layout-padding\\n         layout-fill\\n         layout=\\\"column\\\"\\n         layout-align=\\\"center center\\\">\\n        <md-icon class=\\\"sb-user-setup-complete-ok-icon\\\">thumb_up</md-icon>\\n        <span class=\\\"sb-user-setup-complete-ok-text\\\"\\n              localize>__MSG_setupComplete__</span>\\n    </div>\\n\\n    <div flex=\\\"nogrow\\\"\\n         class=\\\"actions\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"end center\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary\\\"\\n            ng-click=\\\"$ctrl.closeUserSetup()\\\"\\n            localize>\\n            __MSG_closeBtn__\\n        </md-button>\\n    </div>\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupSettings/userSetupSettings.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout=\\\"column\\\"\\n            layout-align=\\\"space-between stretch\\\"\\n            class=\\\"sb-hidden-x-scroll setup\\\">\\n    <div\\n        class=\\\"settings-icon__wrapper\\\"\\n        layout=\\\"row\\\"\\n        layout-align=\\\"center center\\\"\\n        flex=\\\"nogrow\\\">\\n        <md-icon class=\\\"settings-icon__top\\\">\\n            settings\\n        </md-icon>\\n    </div>\\n\\n    <div\\n        layout=\\\"column\\\"\\n        layout-align=\\\"start center\\\"\\n        flex=\\\"grow\\\">\\n        <p class=\\\"setup__text sb-plr-16\\\"\\n           localize>\\n            __MSG_selectSchoolLabel__\\n        </p>\\n\\n        <form\\n            layout=\\\"column\\\"\\n            name=\\\"$ctrl.setupForm\\\"\\n            flex=\\\"grow\\\"\\n            ng-submit=\\\"$ctrl.savePreferences()\\\">\\n            <div flex\\n                 class=\\\"sb-plr-16\\\">\\n                <div layout=\\\"column\\\"\\n                     class=\\\"sb-ptb-8\\\">\\n                    <md-input-container flex>\\n                        <label localize>__MSG_educationalSystemSelect__</label>\\n\\n                        <md-select\\n                            name=\\\"selectEducationalSystem\\\"\\n                            ng-model=\\\"$ctrl.userPreferences.educationalSystem\\\"\\n                            ng-model-options=\\\"{trackBy: '$value.id'}\\\"\\n                            ng-change=\\\"$ctrl.changeEducationalSystem()\\\"\\n                            required>\\n                            <md-option\\n                                ng-value=\\\"educationalSystem\\\"\\n                                ng-repeat=\\\"educationalSystem in $ctrl.educationalSystems track by educationalSystem.id\\\">\\n                                {{ educationalSystem.name }}\\n                            </md-option>\\n                        </md-select>\\n\\n                        <div class=\\\"errors\\\"\\n                             ng-messages=\\\"$ctrl.setupForm.selectEducationalSystem.$error\\\">\\n                            <div ng-message=\\\"required\\\"\\n                                 localize>__MSG_requiredError__\\n                            </div>\\n                        </div>\\n                    </md-input-container>\\n                </div>\\n\\n                <div layout=\\\"column\\\"\\n                     class=\\\"sb-ptb-8\\\">\\n                    <md-autocomplete\\n                        flex\\n                        class=\\\"sb-school-autocomplete\\\"\\n                        ng-disabled=\\\"!$ctrl.userPreferences.educationalSystem\\\"\\n                        md-no-cache=\\\"true\\\"\\n                        md-input-name=\\\"selectedSchoolName\\\"\\n                        md-input-minlength=\\\"4\\\"\\n                        md-selected-item=\\\"$ctrl.userPreferences.school\\\"\\n                        md-search-text=\\\"$ctrl.searchText\\\"\\n                        md-items=\\\"school in $ctrl.filterSchool($ctrl.searchText)\\\"\\n                        md-item-text=\\\"school.title\\\"\\n                        md-floating-label=\\\"__MSG_schoolNameInput__\\\"\\n                        ng-model-options=\\\"{ debounce: 500 }\\\"\\n                        required\\n                        localize>\\n                        <md-item-template>\\n                            <span>{{ school.title }}</span>\\n                        </md-item-template>\\n                        <div ng-messages=\\\"$ctrl.setupForm.selectedSchoolName.$error\\\"\\n                             ng-if=\\\"$ctrl.setupForm.selectedSchoolName.$touched\\\">\\n                            <div ng-message=\\\"required\\\"\\n                                 localize>__MSG_requiredError__\\n                            </div>\\n                        </div>\\n\\n                        <div\\n                            class=\\\"sb-fake-error\\\"\\n                            ng-if=\\\"$ctrl.selectedSchoolBlank && !$ctrl.setupForm.selectedSchoolName.$error.required\\\"\\n                            localize>\\n                            __MSG_noSchoolError__\\n                        </div>\\n                    </md-autocomplete>\\n\\n                    <p class=\\\"setup__text\\\"\\n                       localize>\\n                        __MSG_notFoundAddNewError__\\n                    </p>\\n                </div>\\n            </div>\\n\\n            <div flex=\\\"nogrow\\\"\\n                 class=\\\"actions\\\"\\n                 layout=\\\"row\\\"\\n                 layout-align=\\\"end center\\\">\\n                <md-button\\n                    type=\\\"submit\\\"\\n                    class=\\\"sb-btn-no-background md-primary\\\"\\n                    ng-disabled=\\\"$ctrl.isSaveButtonDisabled()\\\"\\n                    localize>\\n                    __MSG_doneBtn__\\n                </md-button>\\n            </div>\\n        </form>\\n    </div>\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'userSetup/components/userSetupSlides/userSetupSlides.html';\nvar html = \"<md-content flex\\n            layout-fill\\n            layout=\\\"column\\\"\\n            layout-align=\\\"space-between stretch\\\"\\n>\\n    <md-tabs\\n        layout=\\\"column\\\"\\n        flex\\n        class=\\\"md-tabs-stretch-height\\\"\\n        md-selected=\\\"$ctrl.currentSlideIndex\\\">\\n        <md-tab\\n            label=\\\"{{ ::slide.title }}\\\"\\n            ng-repeat=\\\"slide in $ctrl.firstTimeData.slides\\\">\\n            <md-content layout-padding\\n                        layout=\\\"column\\\">\\n                <div class=\\\"image\\\"\\n                     ng-if=\\\"slide.image\\\">\\n                    <img ng-src=\\\"{{ ::slide.image }}\\\">\\n                </div>\\n                <h3 class=\\\"md-headline\\\">{{ ::slide.title }}</h3>\\n                <div ng-bind-html=\\\"slide.content | Sanitize\\\"></div>\\n            </md-content>\\n        </md-tab>\\n    </md-tabs>\\n\\n    <div class=\\\"pagination\\\"\\n         ng-if=\\\"$ctrl.firstTimeData.slides.length > 1\\\">\\n        <md-button\\n            class=\\\"md-icon-button arrow-left\\\"\\n            aria-label=\\\"__MSG_prevSlideBtn__\\\"\\n            ng-click=\\\"$ctrl.currentSlideIndex = $ctrl.currentSlideIndex - 1\\\"\\n            ng-disabled=\\\"$ctrl.currentSlideIndex === 0\\\"\\n            localize>\\n            <md-icon\\n                class=\\\"md-primary\\\">\\n                keyboard_arrow_left\\n            </md-icon>\\n        </md-button>\\n\\n        <ul layout=\\\"row\\\"\\n            layout-align=\\\"center center\\\">\\n            <li ng-repeat=\\\"slide in $ctrl.firstTimeData.slides\\\">\\n            <span\\n                ng-class=\\\"{'active': $ctrl.currentSlideIndex == $index}\\\"\\n                ng-click=\\\"$ctrl.currentSlideIndex = $index\\\">\\n            </span>\\n            </li>\\n        </ul>\\n\\n        <md-button\\n            class=\\\"md-icon-button arrow-right\\\"\\n            aria-label=\\\"__MSG_nextSlideBtn__\\\"\\n            ng-click=\\\"$ctrl.currentSlideIndex = $ctrl.currentSlideIndex + 1\\\"\\n            ng-disabled=\\\"$ctrl.currentSlideIndex === ($ctrl.firstTimeData.slides.length - 1)\\\"\\n            localize>\\n            <md-icon\\n                class=\\\"md-primary\\\">\\n                keyboard_arrow_right\\n            </md-icon>\\n        </md-button>\\n    </div>\\n\\n    <div class=\\\"actions\\\"\\n         layout=\\\"row\\\"\\n         layout-align=\\\"start center\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary\\\"\\n            ng-show=\\\"$ctrl.currentSlideIndex < ($ctrl.firstTimeData.slides.length - 1)\\\"\\n            ng-click=\\\"$ctrl.goToUserSetupSettings()\\\"\\n            localize>\\n            __MSG_setupBtn__\\n        </md-button>\\n\\n        <span flex></span>\\n\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary\\\"\\n            ng-show=\\\"$ctrl.currentSlideIndex === ($ctrl.firstTimeData.slides.length - 1)\\\"\\n            ng-click=\\\"$ctrl.goToUserSetupSettings()\\\"\\n            localize>\\n            __MSG_doneBtn__\\n        </md-button>\\n    </div>\\n</md-content>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/backend_info.html';\nvar html = \"<md-dialog>\\n    <md-dialog-content\\n        layout-padding\\n        ng-bind-html=\\\"bi.content | Sanitize\\\">\\n    </md-dialog-content>\\n\\n    <md-dialog-actions layout=\\\"row\\\">\\n        <md-button\\n            class=\\\"sb-btn-no-background md-primary sb-btn-no-min-width\\\"\\n            ng-click=\\\"bi.confirm()\\\"\\n            localize>\\n            __MSG_okBtn__\\n        </md-button>\\n    </md-dialog-actions>\\n</md-dialog>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/counters.html';\nvar html = \"<div layout=\\\"row\\\" ng-form name=\\\"counter\\\">\\n    <div class=\\\"single-counter\\\" ng-repeat=\\\"grade in vm.gradeSystem.grades\\\">\\n        <p class=\\\"label\\\">{{ grade.name }}</p>\\n        <div class=\\\"fake-input\\\">\\n            <input\\n                class=\\\"input\\\"\\n                ng-model=\\\"vm.counterGrades[$index].points\\\"\\n                ng-keyup=\\\"vm.directChange($index)\\\"\\n                ng-click=\\\"vm.selectInput($event)\\\"\\n                ng-readonly=\\\"vm.counterReadonly\\\"\\n                ng-class=\\\"{'clickable': !vm.counterReadonly}\\\"\\n                ng-if=\\\"!vm.counterReadonly || (vm.counterReadonly && vm.assignment.grade_published)\\\">\\n\\n                <p class=\\\"max\\\" ng-if=\\\"!vm.counterReadonly || (vm.counterReadonly && vm.assignment.grade_published)\\\">&nbsp;/&nbsp;{{ vm.counterGrades[$index].max }}</p>\\n                <p class=\\\"max\\\" ng-if=\\\"vm.counterReadonly && !vm.assignment.grade_published\\\">?&nbsp;/&nbsp;?</p>\\n        </div>\\n        <div class=\\\"arrows\\\" ng-if=\\\"!vm.counterReadonly\\\">\\n            <span class=\\\"arrow-up\\\" ng-click=\\\"vm.increase($index)\\\"></span>\\n            <span class=\\\"arrow-down\\\" ng-click=\\\"vm.decrease($index)\\\"></span>\\n        </div>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/knowledge_requirements.html';\nvar html = \"<md-bottom-sheet ng-cloak class=\\\"sb-bottom-sheet\\\">\\n    <div layout=\\\"column\\\" class=\\\"sb-pt-16 sb-plr-16\\\">\\n        <div layout=\\\"row\\\">\\n            <p class=\\\"sb-bottom-sheet-title\\\" flex>{{ vm.objective.name }}</p>\\n\\n            <md-button\\n                flex=\\\"nogrow\\\"\\n                class=\\\"sb-bottom-sheet-button sb-bottom-sheet-close\\\"\\n                aria-label=\\\"Close knowledge requirements\\\"\\n                ng-click=\\\"vm.close()\\\">\\n                <md-icon>\\n                    close\\n                </md-icon>\\n            </md-button>\\n        </div>\\n\\n        <single-slider\\n            class=\\\"sb-nouislider flex\\\"\\n            grade-system=\\\"vm.objective.grade_system\\\"\\n            ng-model=\\\"vm.knowledgeRequirementGrade\\\"\\n            ng-change=\\\"vm.showGradeRequirements()\\\"\\n            data-knowledgerequirements=\\\"true\\\">\\n        </single-slider>\\n    </div>\\n\\n    <div layout=\\\"column\\\" class=\\\"sb-ptb-8 sb-plr-16 sb-bottom-sheet-knowledge-requirements\\\">\\n        <label\\n            class=\\\"fake-label\\\"\\n            localize>\\n            __MSG_knowledgeRequirementsInput__\\n        </label>\\n\\n        <div\\n            class=\\\"sb-bottom-sheet-text\\\"\\n            ng-show=\\\"vm.activeRequirement.description\\\"\\n            ng-bind-html=\\\"vm.activeRequirement.description | Sanitize\\\"\\n            ng-if=\\\"vm.activeRequirement.grade_name && vm.activeRequirement.description.length\\\">\\n        </div>\\n\\n        <div\\n            class=\\\"sb-bottom-sheet-text\\\"\\n            ng-if=\\\"vm.activeRequirement.grade_name && !vm.activeRequirement.description.length\\\"\\n            localize>\\n            __MSG_notSetInput__\\n        </div>\\n\\n        <div\\n            class=\\\"sb-bottom-sheet-text\\\"\\n            ng-if=\\\"!vm.activeRequirement\\\"\\n            localize>\\n            __MSG_notSetKnowledgeRequirements__\\n        </div>\\n    </div>\\n</md-bottom-sheet>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/loading_state.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" layout-fill layout-align=\\\"center center\\\">\\n    <md-progress-circular\\n        md-mode=\\\"indeterminate\\\"\\n        md-diameter=\\\"80\\\"\\n        class=\\\"sb-progress-circular\\\">\\n    </md-progress-circular>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/main_menu.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<md-sidenav\\n    md-component-id=\\\"studybee-menu\\\"\\n    class=\\\"md-sidenav-left md-whiteframe-z3\\\">\\n    <md-list\\n        class=\\\"sb-list sb-primary-menu\\\"\\n        ng-if=\\\"vm.userRole === 'teacher'\\\">\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout=\\\"row\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('teacherAssignments'); vm.mixpanelTrack('menu_teacher_assignments')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('teacherAssignments')}\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-green\\\">assignment</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p\\n                    flex\\n                    class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_assignmentsMainMenu__</span>\\n                </p>\\n\\n                <p flex class=\\\"sb-list-item-subname sb-list-truncate\\\" ng-show=\\\"vm.streamStudentName\\\">\\n                    <span>{{ vm.streamStudentName }}</span>\\n                </p>\\n\\n                <p\\n                    flex\\n                    class=\\\"sb-list-item-subname sb-list-truncate\\\"\\n                    ng-show=\\\"!vm.streamStudentName && vm.streamAssignmentName\\\">\\n                    <span>{{ vm.streamAssignmentName }}</span>\\n                </p>\\n\\n                <p\\n                    flex\\n                    class=\\\"sb-list-item-subname sb-list-truncate\\\"\\n                    ng-show=\\\"!vm.streamStudentName && !vm.streamAssignmentName\\\" localize>\\n                    <span localize>__MSG_streamMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('teacher-course-progress'); vm.mixpanelTrack('menu_teacher_assess_course')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('teacher-course-progress')}\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-purple\\\">school</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_courseAssessmentMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('teacherCourseManagement'); vm.mixpanelTrack('menu_teacher_assignment_objectives')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('teacherCourseManagement') }\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-blue\\\">edit</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_editCoursesMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-divider></md-divider>\\n    </md-list>\\n\\n    <md-list class=\\\"sb-list sb-primary-menu\\\" ng-if=\\\"vm.userRole === 'student'\\\">\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('studentAssignments'); vm.mixpanelTrack('menu_student_assignments')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('studentAssignments') }\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-green\\\">assignment</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_assignmentsMainMenu__</span>\\n                </p>\\n\\n                <p flex class=\\\"sb-list-item-subname sb-list-truncate\\\" ng-show=\\\"vm.streamAssignmentName\\\">\\n                    <span>{{ vm.streamAssignmentName }}</span>\\n                </p>\\n\\n                <p flex class=\\\"sb-list-item-subname sb-list-truncate\\\" ng-show=\\\"!vm.streamAssignmentName\\\">\\n                    <span localize>__MSG_streamMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('student-course-progress'); vm.mixpanelTrack('menu_student_course_progression')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('student-course-progress') }\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-purple\\\">school</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_courseProgressionMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('studentCourseManagement'); vm.mixpanelTrack('menu_student_course_requirements')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('studentCourseManagement') }\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-blue\\\">info</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_courseRequirementsMainMenu__</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-divider></md-divider>\\n    </md-list>\\n\\n    <span flex></span>\\n\\n    <md-list class=\\\"sb-list sb-secondary-menu\\\">\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.synchronizeData(); vm.mixpanelTrack('menu_teacher_synchronize')\\\"\\n            ng-if=\\\"vm.userRole === 'teacher'\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-green\\\">update</md-icon>\\n\\n            <div layout=\\\"column\\\" flex>\\n                <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                    <span localize>__MSG_synchronizeMainMenu__</span>\\n                </p>\\n\\n                <p flex class=\\\"sb-list-item-subname sb-list-truncate\\\">\\n                    <span localize>{{ vm.synchronizeDate }}</span>\\n                </p>\\n            </div>\\n        </md-list-item>\\n\\n        <md-divider></md-divider>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToLink('mainMenuGetHelpUrl'); vm.mixpanelTrack('menu_get_help')\\\">\\n            <md-icon class=\\\"sb-list-icon sb-icon-orange\\\">help</md-icon>\\n\\n            <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                <span localize>__MSG_getHelpMainMenu__</span>\\n            </p>\\n        </md-list-item>\\n\\n        <md-list-item\\n            class=\\\"sb-list-parent-item\\\"\\n            layout-align=\\\"stretch\\\"\\n            ng-click=\\\"vm.goToState('userSetup.setup.update'); vm.mixpanelTrack('menu_teacher_user_setup')\\\"\\n            ng-class=\\\"{'sb-main-menu-selected': vm.checkCurrentActive('userSetup') }\\\"\\n            ng-if=\\\"vm.userRole === 'teacher'\\\">\\n            <md-icon class=\\\"sb-list-icon\\\">settings</md-icon>\\n\\n            <p flex class=\\\"sb-list-item-name sb-list-truncate\\\">\\n                <span localize>__MSG_schoolSetupMainMenu__</span>\\n            </p>\\n        </md-list-item>\\n    </md-list>\\n</md-sidenav>\\n\\n<div\\n    class=\\\"main-menu-backdrop\\\"\\n    ng-click=\\\"vm.toggleMenu()\\\"\\n    ng-show=\\\"vm.showBackdrop\\\">\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/noLearningObjectives.html';\nvar html = \"<div layout=\\\"column\\\" layout-fill>\\n  <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar sb-theme-green-background\\\">\\n    <div layout=\\\"column\\\" layout-align=\\\"center start\\\" class=\\\"md-toolbar-tools\\\">\\n      <p class=\\\"sb-toolbar-title\\\" localize>__MSG_noAttachmentAssessmentFindOnGoogleDriveHeader__</p>\\n    </div>\\n  </md-toolbar>\\n\\n  <md-content flex class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\">\\n    <div layout-padding>\\n      <p localize>\\n        __MSG_assessAssignmentNotConfigured__\\n      </p>\\n    </div>\\n  </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/not_configured_state.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div\\n    layout=\\\"column\\\"\\n    layout-fill\\n    ng-if=\\\"!vm.isNotConfigured\\\">\\n    <md-toolbar\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-toolbar\\n               sb-theme-purple-background\\\">\\n        <div\\n            layout=\\\"row\\\"\\n            layout-align=\\\"start center\\\"\\n            class=\\\"md-toolbar-tools\\\">\\n            <div\\n                flex\\n                layout=\\\"column\\\"\\n                layout-align=\\\"center start\\\">\\n                <p\\n                    class=\\\"sb-toolbar-title\\\"\\n                    localize>\\n                    __MSG_appName__\\n                </p>\\n            </div>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-progress-linear\\n        flex=\\\"nogrow\\\"\\n        class=\\\"sb-progress-linear\\n               sb-progress-linear-single-toolbar\\\"\\n        ng-show=\\\"vm.showLoading()\\\"\\n        md-mode=\\\"indeterminate\\\">\\n    </md-progress-linear>\\n\\n    <md-content\\n        flex\\n        layout=\\\"column\\\"\\n        class=\\\"sb-hidden-x-scroll\\n               sb-pall-16\\n               sb-no-content-screen\\\">\\n        <md-icon class=\\\"sb-icon--no-content\\n                        sb-icon--large\\\">\\n            school\\n        </md-icon>\\n\\n        <p\\n            class=\\\"sb-no-content-screen__text\\\"\\n            localize>\\n            __MSG_courseProgressNoCoursesAdded__\\n        </p>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/not_logged_state.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" layout-fill>\\n    <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar sb-theme-green-background\\\">\\n        <div layout=\\\"column\\\" layout-align=\\\"center start\\\" class=\\\"md-toolbar-tools\\\">\\n            <p class=\\\"sb-toolbar-title\\\" localize>__MSG_upsSomethingGoesWrong__</p>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-content flex class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\">\\n        <div layout-padding>\\n            <p localize>__MSG_notLoggedUser__</p>\\n        </div>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/sum_counters.html';\nvar html = \"<p class=\\\"title\\\" localize>__MSG_ECASumCounter__</p>\\n\\n<div layout=\\\"row\\\">\\n    <div class=\\\"single-counter\\\" ng-repeat=\\\"grade in vm.gradeSystem.grades\\\">\\n        <p class=\\\"label blue\\\">{{ grade.name }}</p>\\n        <p class=\\\"sum\\\">{{ vm.summaryGrades[$index].sumPoints }} / {{ vm.summaryGrades[$index].sumMax }}</p>\\n    </div>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/toast.html';\nvar html = \"<md-toast class=\\\"sb-toast\\\">\\n    <span flex>{{ to.information }}</span>\\n</md-toast>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/wrong_google_drive_file.html';\nvar html = \"\\n<div layout=\\\"column\\\" layout-fill>\\n    <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar sb-theme-green-background\\\">\\n        <div layout=\\\"column\\\" layout-align=\\\"center start\\\" class=\\\"md-toolbar-tools\\\">\\n            <p class=\\\"sb-toolbar-title\\\" localize>__MSG_noAttachmentAssessmentFindOnGoogleDriveHeader__</p>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-content flex class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\">\\n        <div layout-padding>\\n            <p localize>\\n              __MSG_noAttachmentAssessmentFindOnGoogleDrive__\\n            </p>\\n        </div>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;","var path = 'utils/views/wrong_user_state.html';\nvar html = \"<!--\\nCopyright (C) 2016 StudyBee AB\\nAll rights, including trade secret rights, reserved.\\n-->\\n\\n<div layout=\\\"column\\\" layout-fill>\\n    <md-toolbar flex=\\\"nogrow\\\" class=\\\"sb-toolbar sb-theme-green-background\\\">\\n        <div layout=\\\"column\\\" layout-align=\\\"center start\\\" class=\\\"md-toolbar-tools\\\">\\n            <p class=\\\"sb-toolbar-title\\\" localize>__MSG_upsSomethingGoesWrong__</p>\\n        </div>\\n    </md-toolbar>\\n\\n    <md-content flex class=\\\"sb-hidden-x-scroll sb-not-configured-yet\\\">\\n        <div layout-padding>\\n            <p localize>__MSG_differentUsers__</p>\\n        </div>\\n    </md-content>\\n</div>\\n\";\nwindow.angular.module('ng').run(['$templateCache', function(c) { c.put(path, html) }]);\nmodule.exports = path;"],"sourceRoot":""}